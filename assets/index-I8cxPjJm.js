var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__commonJSMin=(cb,mod)=>()=>(mod||cb((mod={exports:{}}).exports,mod),mod.exports),__copyProps=(to,from,except,desc)=>{if(from&&typeof from==`object`||typeof from==`function`)for(var keys=__getOwnPropNames(from),i=0,n=keys.length,key;i<n;i++)key=keys[i],!__hasOwnProp.call(to,key)&&key!==except&&__defProp(to,key,{get:(k=>from[k]).bind(null,key),enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable});return to},__toESM=(mod,isNodeMode,target)=>(target=mod==null?{}:__create(__getProtoOf(mod)),__copyProps(isNodeMode||!mod||!mod.__esModule?__defProp(target,`default`,{value:mod,enumerable:!0}):target,mod));(function(){let relList=document.createElement(`link`).relList;if(relList&&relList.supports&&relList.supports(`modulepreload`))return;for(let link of document.querySelectorAll(`link[rel="modulepreload"]`))processPreload(link);new MutationObserver(mutations=>{for(let mutation of mutations)if(mutation.type===`childList`)for(let node of mutation.addedNodes)node.tagName===`LINK`&&node.rel===`modulepreload`&&processPreload(node)}).observe(document,{childList:!0,subtree:!0});function getFetchOpts(link){let fetchOpts={};return link.integrity&&(fetchOpts.integrity=link.integrity),link.referrerPolicy&&(fetchOpts.referrerPolicy=link.referrerPolicy),link.crossOrigin===`use-credentials`?fetchOpts.credentials=`include`:link.crossOrigin===`anonymous`?fetchOpts.credentials=`omit`:fetchOpts.credentials=`same-origin`,fetchOpts}function processPreload(link){if(link.ep)return;link.ep=!0;let fetchOpts=getFetchOpts(link);fetch(link.href,fetchOpts)}})();var require_AgoraRTC_N_production=__commonJSMin(((exports,module)=>{(function(e,t){typeof exports==`object`&&module!==void 0?module.exports=t():typeof define==`function`&&define.amd?define(t):(e=typeof globalThis<`u`?globalThis:e||self).AgoraRTC=t()})(exports,(function(){function e(e$1,t$1){return t$1.forEach((function(t$2){t$2&&typeof t$2!=`string`&&!Array.isArray(t$2)&&Object.keys(t$2).forEach((function(i$1){if(i$1!==`default`&&!(i$1 in e$1)){var n$1=Object.getOwnPropertyDescriptor(t$2,i$1);Object.defineProperty(e$1,i$1,n$1.get?n$1:{enumerable:!0,get:function(){return t$2[i$1]}})}}))})),Object.freeze(e$1)}var t=typeof globalThis<`u`?globalThis:typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:{};function i(e$1){return e$1&&e$1.__esModule&&Object.prototype.hasOwnProperty.call(e$1,`default`)?e$1.default:e$1}var n=function(e$1){try{return!!e$1()}catch{return!0}},r=!n((function(){var e$1=function(){}.bind();return typeof e$1!=`function`||e$1.hasOwnProperty(`prototype`)})),o=r,s=Function.prototype,a=s.call,c=o&&s.bind.bind(a,a),d=o?c:function(e$1){return function(){return a.apply(e$1,arguments)}},l=d({}.isPrototypeOf),u=function(e$1){return e$1&&e$1.Math===Math&&e$1},h=u(typeof globalThis==`object`&&globalThis)||u(typeof window==`object`&&window)||u(typeof self==`object`&&self)||u(typeof t==`object`&&t)||u(typeof t==`object`&&t)||function(){return this}()||Function(`return this`)(),p=r,_=Function.prototype,E=_.apply,m=_.call,f=typeof Reflect==`object`&&Reflect.apply||(p?m.bind(E):function(){return m.apply(E,arguments)}),S=d,g=S({}.toString),T=S(``.slice),R=function(e$1){return T(g(e$1),8,-1)},C=R,v=d,y=function(e$1){if(C(e$1)===`Function`)return v(e$1)},I=typeof document==`object`&&document.all,A=I===void 0&&I!==void 0?function(e$1){return typeof e$1==`function`||e$1===I}:function(e$1){return typeof e$1==`function`},b={},w=!n((function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})),O=r,N=Function.prototype.call,D=O?N.bind(N):function(){return N.apply(N,arguments)},P={},L={}.propertyIsEnumerable,k=Object.getOwnPropertyDescriptor;P.f=k&&!L.call({1:2},1)?function(e$1){var t$1=k(this,e$1);return!!t$1&&t$1.enumerable}:L;var U,V,x=function(e$1,t$1){return{enumerable:!(1&e$1),configurable:!(2&e$1),writable:!(4&e$1),value:t$1}},F=n,B=R,j=Object,G=d(``.split),W=F((function(){return!j(`z`).propertyIsEnumerable(0)}))?function(e$1){return B(e$1)===`String`?G(e$1,``):j(e$1)}:j,H=function(e$1){return e$1==null},K=H,Y=TypeError,z=function(e$1){if(K(e$1))throw new Y(`Can't call method on `+e$1);return e$1},q=W,X=z,J=function(e$1){return q(X(e$1))},Q=A,Z=function(e$1){return typeof e$1==`object`?e$1!==null:Q(e$1)},$={},ee=$,te=h,ie=A,ne=function(e$1){return ie(e$1)?e$1:void 0},re=function(e$1,t$1){return arguments.length<2?ne(ee[e$1])||ne(te[e$1]):ee[e$1]&&ee[e$1][t$1]||te[e$1]&&te[e$1][t$1]},oe=h.navigator,se=oe&&oe.userAgent,ae=se?String(se):``,ce=h,de=ae,le=ce.process,ue=ce.Deno,he=le&&le.versions||ue&&ue.version,pe=he&&he.v8;pe&&(V=(U=pe.split(`.`))[0]>0&&U[0]<4?1:+(U[0]+U[1])),!V&&de&&(!(U=de.match(/Edge\/(\d+)/))||U[1]>=74)&&(U=de.match(/Chrome\/(\d+)/))&&(V=+U[1]);var _e=V,Ee=_e,me=n,fe=h.String,Se=!!Object.getOwnPropertySymbols&&!me((function(){var e$1=Symbol(`symbol detection`);return!fe(e$1)||!(Object(e$1)instanceof Symbol)||!Symbol.sham&&Ee&&Ee<41})),ge=Se&&!Symbol.sham&&typeof Symbol.iterator==`symbol`,Te=re,Re=A,Ce=l,ve=Object,ye=ge?function(e$1){return typeof e$1==`symbol`}:function(e$1){var t$1=Te(`Symbol`);return Re(t$1)&&Ce(t$1.prototype,ve(e$1))},Ie=String,Ae=function(e$1){try{return Ie(e$1)}catch{return`Object`}},be=A,we=Ae,Oe=TypeError,Ne=function(e$1){if(be(e$1))return e$1;throw new Oe(we(e$1)+` is not a function`)},De=Ne,Pe=H,Le=function(e$1,t$1){var i$1=e$1[t$1];return Pe(i$1)?void 0:De(i$1)},ke=D,Me=A,Ue=Z,Ve=TypeError,xe={exports:{}},Fe=h,Be=Object.defineProperty,je=h,Ge=function(e$1,t$1){try{Be(Fe,e$1,{value:t$1,configurable:!0,writable:!0})}catch{Fe[e$1]=t$1}return t$1},We=`__core-js_shared__`,He=xe.exports=je[We]||Ge(We,{});(He.versions||=[]).push({version:`3.46.0`,mode:`pure`,copyright:`© 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)`,license:`https://github.com/zloirock/core-js/blob/v3.46.0/LICENSE`,source:`https://github.com/zloirock/core-js`});var Ke=xe.exports,Ye=Ke,ze=function(e$1,t$1){return Ye[e$1]||(Ye[e$1]=t$1||{})},qe=z,Xe=Object,Je=function(e$1){return Xe(qe(e$1))},Qe=Je,Ze=d({}.hasOwnProperty),$e=Object.hasOwn||function(e$1,t$1){return Ze(Qe(e$1),t$1)},et=d,tt=0,it=Math.random(),nt=et(1.1.toString),rt=function(e$1){return`Symbol(`+(e$1===void 0?``:e$1)+`)_`+nt(++tt+it,36)},ot=ze,st=$e,at=rt,ct=Se,dt=ge,lt=h.Symbol,ut=ot(`wks`),ht=dt?lt.for||lt:lt&&lt.withoutSetter||at,pt=function(e$1){return st(ut,e$1)||(ut[e$1]=ct&&st(lt,e$1)?lt[e$1]:ht(`Symbol.`+e$1)),ut[e$1]},_t=D,Et=Z,mt=ye,ft=Le,St=function(e$1,t$1){var i$1,n$1;if(t$1===`string`&&Me(i$1=e$1.toString)&&!Ue(n$1=ke(i$1,e$1))||Me(i$1=e$1.valueOf)&&!Ue(n$1=ke(i$1,e$1))||t$1!==`string`&&Me(i$1=e$1.toString)&&!Ue(n$1=ke(i$1,e$1)))return n$1;throw new Ve(`Can't convert object to primitive value`)},gt=TypeError,Tt=pt(`toPrimitive`),Rt=function(e$1,t$1){if(!Et(e$1)||mt(e$1))return e$1;var i$1,n$1=ft(e$1,Tt);if(n$1){if(t$1===void 0&&(t$1=`default`),i$1=_t(n$1,e$1,t$1),!Et(i$1)||mt(i$1))return i$1;throw new gt(`Can't convert object to primitive value`)}return t$1===void 0&&(t$1=`number`),St(e$1,t$1)},Ct=ye,vt=function(e$1){var t$1=Rt(e$1,`string`);return Ct(t$1)?t$1:t$1+``},yt=Z,It=h.document,At=yt(It)&&yt(It.createElement),bt=function(e$1){return At?It.createElement(e$1):{}},wt=bt,Ot=!w&&!n((function(){return Object.defineProperty(wt(`div`),`a`,{get:function(){return 7}}).a!==7})),Nt=w,Dt=D,Pt=P,Lt=x,kt=J,Mt=vt,Ut=$e,Vt=Ot,xt=Object.getOwnPropertyDescriptor;b.f=Nt?xt:function(e$1,t$1){if(e$1=kt(e$1),t$1=Mt(t$1),Vt)try{return xt(e$1,t$1)}catch{}if(Ut(e$1,t$1))return Lt(!Dt(Pt.f,e$1,t$1),e$1[t$1])};var Ft=n,Bt=A,jt=/#|\.prototype\./,Gt=function(e$1,t$1){var i$1=Ht[Wt(e$1)];return i$1===Yt||i$1!==Kt&&(Bt(t$1)?Ft(t$1):!!t$1)},Wt=Gt.normalize=function(e$1){return String(e$1).replace(jt,`.`).toLowerCase()},Ht=Gt.data={},Kt=Gt.NATIVE=`N`,Yt=Gt.POLYFILL=`P`,zt=Gt,qt=Ne,Xt=r,Jt=y(y.bind),Qt=function(e$1,t$1){return qt(e$1),t$1===void 0?e$1:Xt?Jt(e$1,t$1):function(){return e$1.apply(t$1,arguments)}},Zt={},$t=w&&n((function(){return Object.defineProperty((function(){}),`prototype`,{value:42,writable:!1}).prototype!==42})),ei=Z,ti=String,ii=TypeError,ni=function(e$1){if(ei(e$1))return e$1;throw new ii(ti(e$1)+` is not an object`)},ri=w,oi=Ot,si=$t,ai=ni,ci=vt,di=TypeError,li=Object.defineProperty,ui=Object.getOwnPropertyDescriptor,hi=`enumerable`,pi=`configurable`,_i=`writable`;Zt.f=ri?si?function(e$1,t$1,i$1){if(ai(e$1),t$1=ci(t$1),ai(i$1),typeof e$1==`function`&&t$1===`prototype`&&`value`in i$1&&_i in i$1&&!i$1[_i]){var n$1=ui(e$1,t$1);n$1&&n$1[_i]&&(e$1[t$1]=i$1.value,i$1={configurable:pi in i$1?i$1[pi]:n$1[pi],enumerable:hi in i$1?i$1[hi]:n$1[hi],writable:!1})}return li(e$1,t$1,i$1)}:li:function(e$1,t$1,i$1){if(ai(e$1),t$1=ci(t$1),ai(i$1),oi)try{return li(e$1,t$1,i$1)}catch{}if(`get`in i$1||`set`in i$1)throw new di(`Accessors not supported`);return`value`in i$1&&(e$1[t$1]=i$1.value),e$1};var Ei=Zt,mi=x,fi=w?function(e$1,t$1,i$1){return Ei.f(e$1,t$1,mi(1,i$1))}:function(e$1,t$1,i$1){return e$1[t$1]=i$1,e$1},Si=h,gi=f,Ti=y,Ri=A,Ci=b.f,vi=zt,yi=$,Ii=Qt,Ai=fi,bi=$e,wi=function(e$1){var t$1=function(i$1,n$1,r$1){if(this instanceof t$1){switch(arguments.length){case 0:return new e$1;case 1:return new e$1(i$1);case 2:return new e$1(i$1,n$1)}return new e$1(i$1,n$1,r$1)}return gi(e$1,this,arguments)};return t$1.prototype=e$1.prototype,t$1},Oi=function(e$1,t$1){var i$1,n$1,r$1,o$1,s$1,a$1,c$1,d$1,l$1,u$1=e$1.target,h$1=e$1.global,p$1=e$1.stat,_$1=e$1.proto,E$1=h$1?Si:p$1?Si[u$1]:Si[u$1]&&Si[u$1].prototype,m$1=h$1?yi:yi[u$1]||Ai(yi,u$1,{})[u$1],f$1=m$1.prototype;for(o$1 in t$1)n$1=!(i$1=vi(h$1?o$1:u$1+(p$1?`.`:`#`)+o$1,e$1.forced))&&E$1&&bi(E$1,o$1),a$1=m$1[o$1],n$1&&(c$1=e$1.dontCallGetSet?(l$1=Ci(E$1,o$1))&&l$1.value:E$1[o$1]),s$1=n$1&&c$1?c$1:t$1[o$1],(i$1||_$1||typeof a$1!=typeof s$1)&&(d$1=e$1.bind&&n$1?Ii(s$1,Si):e$1.wrap&&n$1?wi(s$1):_$1&&Ri(s$1)?Ti(s$1):s$1,(e$1.sham||s$1&&s$1.sham||a$1&&a$1.sham)&&Ai(d$1,`sham`,!0),Ai(m$1,o$1,d$1),_$1&&(bi(yi,r$1=u$1+`Prototype`)||Ai(yi,r$1,{}),Ai(yi[r$1],o$1,s$1),e$1.real&&f$1&&(i$1||!f$1[o$1])&&Ai(f$1,o$1,s$1)))},Ni=Math.ceil,Di=Math.floor,Li=Math.trunc||function(e$1){var t$1=+e$1;return(t$1>0?Di:Ni)(t$1)},ki=function(e$1){var t$1=+e$1;return t$1!=t$1||t$1===0?0:Li(t$1)},Mi=ki,Ui=Math.max,Vi=Math.min,xi=function(e$1,t$1){var i$1=Mi(e$1);return i$1<0?Ui(i$1+t$1,0):Vi(i$1,t$1)},Fi=ki,Bi=Math.min,ji=function(e$1){var t$1=Fi(e$1);return t$1>0?Bi(t$1,9007199254740991):0},Gi=ji,Wi=function(e$1){return Gi(e$1.length)},Hi=J,Ki=xi,Yi=Wi,zi=function(e$1){return function(t$1,i$1,n$1){var r$1=Hi(t$1),o$1=Yi(r$1);if(o$1===0)return!e$1&&-1;var s$1,a$1=Ki(n$1,o$1);if(e$1&&i$1!=i$1){for(;o$1>a$1;)if((s$1=r$1[a$1++])!=s$1)return!0}else for(;o$1>a$1;a$1++)if((e$1||a$1 in r$1)&&r$1[a$1]===i$1)return e$1||a$1||0;return!e$1&&-1}},qi={includes:zi(!0),indexOf:zi(!1)},Xi=qi.includes;Oi({target:`Array`,proto:!0,forced:n((function(){return![,].includes()}))},{includes:function(e$1){return Xi(this,e$1,arguments.length>1?arguments[1]:void 0)}});var Ji=h,Qi=$,Zi=function(e$1,t$1){var i$1=Qi[e$1+`Prototype`],n$1=i$1&&i$1[t$1];if(n$1)return n$1;var r$1=Ji[e$1],o$1=r$1&&r$1.prototype;return o$1&&o$1[t$1]},$i=Zi(`Array`,`includes`),en=Z,tn=R,nn=pt(`match`),rn=function(e$1){var t$1;return en(e$1)&&((t$1=e$1[nn])===void 0?tn(e$1)===`RegExp`:!!t$1)},on=rn,sn=TypeError,an={};an[pt(`toStringTag`)]=`z`;var cn=String(an)===`[object z]`,dn=cn,ln=A,un=R,hn=pt(`toStringTag`),pn=Object,_n=un(function(){return arguments}())===`Arguments`,En=dn?un:function(e$1){var t$1,i$1,n$1;return e$1===void 0?`Undefined`:e$1===null?`Null`:typeof(i$1=function(e$2,t$2){try{return e$2[t$2]}catch{}}(t$1=pn(e$1),hn))==`string`?i$1:_n?un(t$1):(n$1=un(t$1))===`Object`&&ln(t$1.callee)?`Arguments`:n$1},mn=En,fn=String,Sn=function(e$1){if(mn(e$1)===`Symbol`)throw TypeError(`Cannot convert a Symbol value to a string`);return fn(e$1)},gn=pt(`match`),Tn=Oi,Rn=function(e$1){if(on(e$1))throw new sn(`The method doesn't accept regular expressions`);return e$1},Cn=z,vn=Sn,yn=function(e$1){var t$1=/./;try{`/./`[e$1](t$1)}catch{try{return t$1[gn]=!1,`/./`[e$1](t$1)}catch{}}return!1},In=d(``.indexOf);Tn({target:`String`,proto:!0,forced:!yn(`includes`)},{includes:function(e$1){return!!~In(vn(Cn(this)),vn(Rn(e$1)),arguments.length>1?arguments[1]:void 0)}});var An=Zi(`String`,`includes`),bn=l,wn=$i,On=An,Nn=Array.prototype,Dn=String.prototype,Ln=i(function(e$1){var t$1=e$1.includes;return e$1===Nn||bn(Nn,e$1)&&t$1===Nn.includes?wn:typeof e$1==`string`||e$1===Dn||bn(Dn,e$1)&&t$1===Dn.includes?On:t$1}),kn=Ne,Mn=Je,Un=W,Vn=Wi,xn=TypeError,Fn=`Reduce of empty array with no initial value`,Bn=function(e$1){return function(t$1,i$1,n$1,r$1){var o$1=Mn(t$1),s$1=Un(o$1),a$1=Vn(o$1);if(kn(i$1),a$1===0&&n$1<2)throw new xn(Fn);var c$1=e$1?a$1-1:0,d$1=e$1?-1:1;if(n$1<2)for(;;){if(c$1 in s$1){r$1=s$1[c$1],c$1+=d$1;break}if(c$1+=d$1,e$1?c$1<0:a$1<=c$1)throw new xn(Fn)}for(;e$1?c$1>=0:a$1>c$1;c$1+=d$1)c$1 in s$1&&(r$1=i$1(r$1,s$1[c$1],c$1,o$1));return r$1}},jn={left:Bn(!1),right:Bn(!0)},Gn=n,Wn=function(e$1,t$1){var i$1=[][e$1];return!!i$1&&Gn((function(){i$1.call(null,t$1||function(){return 1},1)}))},Hn=h,Kn=ae,Yn=R,zn=function(e$1){return Kn.slice(0,e$1.length)===e$1},qn=zn(`Bun/`)?`BUN`:zn(`Cloudflare-Workers`)?`CLOUDFLARE`:zn(`Deno/`)?`DENO`:zn(`Node.js/`)?`NODE`:Hn.Bun&&typeof Bun.version==`string`?`BUN`:Hn.Deno&&typeof Deno.version==`object`?`DENO`:Yn(Hn.process)===`process`?`NODE`:Hn.window&&Hn.document?`BROWSER`:`REST`,Xn=qn===`NODE`,Jn=jn.left;Oi({target:`Array`,proto:!0,forced:!Xn&&_e>79&&_e<83||!Wn(`reduce`)},{reduce:function(e$1){var t$1=arguments.length;return Jn(this,e$1,t$1,t$1>1?arguments[1]:void 0)}});var Qn=Zi(`Array`,`reduce`),Zn=l,$n=Qn,er=Array.prototype,ir=function(e$1){var t$1=e$1.reduce;return e$1===er||Zn(er,e$1)&&t$1===er.reduce?$n:t$1},nr=i(ir),rr=R,or=Array.isArray||function(e$1){return rr(e$1)===`Array`},sr=Oi,ar=or,cr=d([].reverse),dr=[1,2];sr({target:`Array`,proto:!0,forced:String(dr)===String(dr.reverse())},{reverse:function(){return ar(this)&&(this.length=this.length),cr(this)}});var lr=Zi(`Array`,`reverse`),ur=l,hr=lr,pr=Array.prototype,Er=function(e$1){var t$1=e$1.reverse;return e$1===pr||ur(pr,e$1)&&t$1===pr.reverse?hr:t$1},mr=i(Er),fr=rt,Sr=ze(`keys`),gr=function(e$1){return Sr[e$1]||(Sr[e$1]=fr(e$1))},Tr=!n((function(){function e$1(){}return e$1.prototype.constructor=null,Object.getPrototypeOf(new e$1)!==e$1.prototype})),Rr=$e,Cr=A,vr=Je,yr=Tr,Ir=gr(`IE_PROTO`),Ar=Object,br=Ar.prototype,wr=yr?Ar.getPrototypeOf:function(e$1){var t$1=vr(e$1);if(Rr(t$1,Ir))return t$1[Ir];var i$1=t$1.constructor;return Cr(i$1)&&t$1 instanceof i$1?i$1.prototype:t$1 instanceof Ar?br:null},Or=d,Nr=Ne,Dr=Z,Pr=function(e$1){return Dr(e$1)||e$1===null},Lr=String,kr=TypeError,Mr=function(e$1,t$1,i$1){try{return Or(Nr(Object.getOwnPropertyDescriptor(e$1,t$1)[i$1]))}catch{}},Ur=Z,Vr=z,xr=function(e$1){if(Pr(e$1))return e$1;throw new kr(`Can't set `+Lr(e$1)+` as a prototype`)},Fr=Object.setPrototypeOf||(`__proto__`in{}?function(){var e$1,t$1=!1,i$1={};try{(e$1=Mr(Object.prototype,`__proto__`,`set`))(i$1,[]),t$1=i$1 instanceof Array}catch{}return function(i$2,n$1){return Vr(i$2),xr(n$1),Ur(i$2)&&(t$1?e$1(i$2,n$1):i$2.__proto__=n$1),i$2}}():void 0),Br={},jr={},Gr=$e,Wr=J,Hr=qi.indexOf,Kr=jr,Yr=d([].push),zr=function(e$1,t$1){var i$1,n$1=Wr(e$1),r$1=0,o$1=[];for(i$1 in n$1)!Gr(Kr,i$1)&&Gr(n$1,i$1)&&Yr(o$1,i$1);for(;t$1.length>r$1;)Gr(n$1,i$1=t$1[r$1++])&&(~Hr(o$1,i$1)||Yr(o$1,i$1));return o$1},qr=[`constructor`,`hasOwnProperty`,`isPrototypeOf`,`propertyIsEnumerable`,`toLocaleString`,`toString`,`valueOf`],Xr=zr,Jr=qr.concat(`length`,`prototype`);Br.f=Object.getOwnPropertyNames||function(e$1){return Xr(e$1,Jr)};var Qr={};Qr.f=Object.getOwnPropertySymbols;var Zr=re,$r=Br,eo=Qr,to=ni,io=d([].concat),no=Zr(`Reflect`,`ownKeys`)||function(e$1){var t$1=$r.f(to(e$1)),i$1=eo.f;return i$1?io(t$1,i$1(e$1)):t$1},ro=$e,oo=no,so=b,ao=Zt,co={},lo=zr,uo=qr,ho=Object.keys||function(e$1){return lo(e$1,uo)},po=w,_o=$t,Eo=Zt,mo=ni,fo=J,So=ho;co.f=po&&!_o?Object.defineProperties:function(e$1,t$1){mo(e$1);for(var i$1,n$1=fo(t$1),r$1=So(t$1),o$1=r$1.length,s$1=0;o$1>s$1;)Eo.f(e$1,i$1=r$1[s$1++],n$1[i$1]);return e$1};var go,To=re(`document`,`documentElement`),Ro=ni,Co=co,vo=qr,yo=jr,Io=To,Ao=bt,bo=`prototype`,wo=`script`,Oo=gr(`IE_PROTO`),No=function(){},Do=function(e$1){return`<`+wo+`>`+e$1+`</`+wo+`>`},Po=function(e$1){e$1.write(Do(``)),e$1.close();var t$1=e$1.parentWindow.Object;return e$1=null,t$1},Lo=function(){try{go=new ActiveXObject(`htmlfile`)}catch{}var e$1,t$1,i$1;Lo=typeof document<`u`?document.domain&&go?Po(go):(t$1=Ao(`iframe`),i$1=`java`+wo+`:`,t$1.style.display=`none`,Io.appendChild(t$1),t$1.src=String(i$1),(e$1=t$1.contentWindow.document).open(),e$1.write(Do(`document.F=Object`)),e$1.close(),e$1.F):Po(go);for(var n$1=vo.length;n$1--;)delete Lo[bo][vo[n$1]];return Lo()};yo[Oo]=!0;var ko=Object.create||function(e$1,t$1){var i$1;return e$1===null?i$1=Lo():(No[bo]=Ro(e$1),i$1=new No,No[bo]=null,i$1[Oo]=e$1),t$1===void 0?i$1:Co.f(i$1,t$1)},Mo=Z,Uo=fi,Vo=Error,xo=d(``.replace),Fo=String(new Vo(`zxcasd`).stack),Bo=/\n\s*at [^:]*:[^\n]*/,jo=Bo.test(Fo),Go=x,Wo=!n((function(){var e$1=Error(`a`);return!(`stack`in e$1)||(Object.defineProperty(e$1,`stack`,Go(1,7)),e$1.stack!==7)})),Ho=fi,Ko=function(e$1,t$1){if(jo&&typeof e$1==`string`&&!Vo.prepareStackTrace)for(;t$1--;)e$1=xo(e$1,Bo,``);return e$1},Yo=Wo,zo=Error.captureStackTrace,qo={},Xo=qo,Jo=pt(`iterator`),Qo=Array.prototype,Zo=function(e$1){return e$1!==void 0&&(Xo.Array===e$1||Qo[Jo]===e$1)},$o=En,es=Le,ts=H,is=qo,ns=pt(`iterator`),rs=function(e$1){if(!ts(e$1))return es(e$1,ns)||es(e$1,`@@iterator`)||is[$o(e$1)]},os=D,ss=Ne,as=ni,cs=Ae,ds=rs,ls=TypeError,us=function(e$1,t$1){var i$1=arguments.length<2?ds(e$1):t$1;if(ss(i$1))return as(os(i$1,e$1));throw new ls(cs(e$1)+` is not iterable`)},hs=D,ps=ni,_s=Le,Es=function(e$1,t$1,i$1){var n$1,r$1;ps(e$1);try{if(!(n$1=_s(e$1,`return`))){if(t$1===`throw`)throw i$1;return i$1}n$1=hs(n$1,e$1)}catch(e$2){r$1=!0,n$1=e$2}if(t$1===`throw`)throw i$1;if(r$1)throw n$1;return ps(n$1),i$1},ms=Qt,fs=D,Ss=ni,gs=Ae,Ts=Zo,Rs=Wi,Cs=l,vs=us,ys=rs,Is=Es,As=TypeError,bs=function(e$1,t$1){this.stopped=e$1,this.result=t$1},ws=bs.prototype,Os=function(e$1,t$1,i$1){var n$1,r$1,o$1,s$1,a$1,c$1,d$1,l$1=i$1&&i$1.that,u$1=!(!i$1||!i$1.AS_ENTRIES),h$1=!(!i$1||!i$1.IS_RECORD),p$1=!(!i$1||!i$1.IS_ITERATOR),_$1=!(!i$1||!i$1.INTERRUPTED),E$1=ms(t$1,l$1),m$1=function(e$2){return n$1&&Is(n$1,`normal`),new bs(!0,e$2)},f$1=function(e$2){return u$1?(Ss(e$2),_$1?E$1(e$2[0],e$2[1],m$1):E$1(e$2[0],e$2[1])):_$1?E$1(e$2,m$1):E$1(e$2)};if(h$1)n$1=e$1.iterator;else if(p$1)n$1=e$1;else{if(!(r$1=ys(e$1)))throw new As(gs(e$1)+` is not iterable`);if(Ts(r$1)){for(o$1=0,s$1=Rs(e$1);s$1>o$1;o$1++)if((a$1=f$1(e$1[o$1]))&&Cs(ws,a$1))return a$1;return new bs(!1)}n$1=vs(e$1,r$1)}for(c$1=h$1?e$1.next:n$1.next;!(d$1=fs(c$1,n$1)).done;){try{a$1=f$1(d$1.value)}catch(e$2){Is(n$1,`throw`,e$2)}if(typeof a$1==`object`&&a$1&&Cs(ws,a$1))return a$1}return new bs(!1)},Ns=Sn,Ds=Oi,Ps=l,Ls=wr,ks=Fr,Ms=function(e$1,t$1,i$1){for(var n$1=oo(t$1),r$1=ao.f,o$1=so.f,s$1=0;s$1<n$1.length;s$1++){var a$1=n$1[s$1];ro(e$1,a$1)||i$1&&ro(i$1,a$1)||r$1(e$1,a$1,o$1(t$1,a$1))}},Us=ko,Vs=fi,xs=x,Fs=function(e$1,t$1){Mo(t$1)&&`cause`in t$1&&Uo(e$1,`cause`,t$1.cause)},Bs=function(e$1,t$1,i$1,n$1){Yo&&(zo?zo(e$1,t$1):Ho(e$1,`stack`,Ko(i$1,n$1)))},js=Os,Gs=function(e$1,t$1){return e$1===void 0?arguments.length<2?``:t$1:Ns(e$1)},Ws=pt(`toStringTag`),Hs=Error,Ks=[].push,Ys=function(e$1,t$1){var i$1,n$1=Ps(zs,this);ks?i$1=ks(new Hs,n$1?Ls(this):zs):(i$1=n$1?this:Us(zs),Vs(i$1,Ws,`Error`)),t$1!==void 0&&Vs(i$1,`message`,Gs(t$1)),Bs(i$1,Ys,i$1.stack,1),arguments.length>2&&Fs(i$1,arguments[2]);var r$1=[];return js(e$1,Ks,{that:r$1}),Vs(i$1,`errors`,r$1),i$1};ks?ks(Ys,Hs):Ms(Ys,Hs,{name:!0});var zs=Ys.prototype=Us(Hs.prototype,{constructor:xs(1,Ys),message:xs(1,``),name:xs(1,`AggregateError`)});Ds({global:!0,constructor:!0,arity:2},{AggregateError:Ys});var qs,Xs,Js,Qs=A,Zs=h.WeakMap,$s=Qs(Zs)&&/native code/.test(String(Zs)),ea=h,ta=Z,ia=fi,na=$e,ra=Ke,oa=gr,sa=jr,aa=`Object already initialized`,ca=ea.TypeError,da=ea.WeakMap;if($s||ra.state){var la=ra.state||=new da;la.get=la.get,la.has=la.has,la.set=la.set,qs=function(e$1,t$1){if(la.has(e$1))throw new ca(aa);return t$1.facade=e$1,la.set(e$1,t$1),t$1},Xs=function(e$1){return la.get(e$1)||{}},Js=function(e$1){return la.has(e$1)}}else{var ua=oa(`state`);sa[ua]=!0,qs=function(e$1,t$1){if(na(e$1,ua))throw new ca(aa);return t$1.facade=e$1,ia(e$1,ua,t$1),t$1},Xs=function(e$1){return na(e$1,ua)?e$1[ua]:{}},Js=function(e$1){return na(e$1,ua)}}var ha,pa,_a,Ea={set:qs,get:Xs,has:Js,enforce:function(e$1){return Js(e$1)?Xs(e$1):qs(e$1,{})},getterFor:function(e$1){return function(t$1){var i$1;if(!ta(t$1)||(i$1=Xs(t$1)).type!==e$1)throw new ca(`Incompatible receiver, `+e$1+` required`);return i$1}}},ma=w,fa=$e,Sa=Function.prototype,ga=ma&&Object.getOwnPropertyDescriptor,Ta=fa(Sa,`name`),Ra={EXISTS:Ta,PROPER:Ta&&function(){}.name===`something`,CONFIGURABLE:Ta&&(!ma||ma&&ga(Sa,`name`).configurable)},Ca=fi,va=function(e$1,t$1,i$1,n$1){return n$1&&n$1.enumerable?e$1[t$1]=i$1:Ca(e$1,t$1,i$1),e$1},ya=n,Ia=A,Aa=Z,ba=ko,wa=wr,Oa=va,Na=pt(`iterator`),Da=!1;[].keys&&(`next`in(_a=[].keys())?(pa=wa(wa(_a)))!==Object.prototype&&(ha=pa):Da=!0),Ia((ha=!Aa(ha)||ya((function(){var e$1={};return ha[Na].call(e$1)!==e$1}))?{}:ba(ha))[Na])||Oa(ha,Na,(function(){return this}));var La={IteratorPrototype:ha,BUGGY_SAFARI_ITERATORS:Da},ka=En,Ma=cn?{}.toString:function(){return`[object `+ka(this)+`]`},Ua=cn,Va=Zt.f,xa=fi,Fa=$e,Ba=Ma,ja=pt(`toStringTag`),Ga=function(e$1,t$1,i$1,n$1){var r$1=i$1?e$1:e$1&&e$1.prototype;r$1&&(Fa(r$1,ja)||Va(r$1,ja,{configurable:!0,value:t$1}),n$1&&!Ua&&xa(r$1,`toString`,Ba))},Wa=La.IteratorPrototype,Ha=ko,Ka=x,Ya=Ga,za=qo,qa=function(){return this},Xa=function(e$1,t$1,i$1,n$1){var r$1=t$1+` Iterator`;return e$1.prototype=Ha(Wa,{next:Ka(+!n$1,i$1)}),Ya(e$1,r$1,!1,!0),za[r$1]=qa,e$1},Ja=Oi,Qa=D,Za=Ra,$a=Xa,ec=wr,tc=Ga,ic=va,nc=qo,rc=La,oc=Za.PROPER,sc=rc.BUGGY_SAFARI_ITERATORS,ac=pt(`iterator`),cc=`keys`,dc=`values`,lc=`entries`,uc=function(){return this},hc=function(e$1,t$1,i$1,n$1,r$1,o$1,s$1){$a(i$1,t$1,n$1);var a$1,c$1,d$1,l$1=function(e$2){if(e$2===r$1&&E$1)return E$1;if(!sc&&e$2&&e$2 in p$1)return p$1[e$2];switch(e$2){case cc:case dc:case lc:return function(){return new i$1(this,e$2)}}return function(){return new i$1(this)}},u$1=t$1+` Iterator`,h$1=!1,p$1=e$1.prototype,_$1=p$1[ac]||p$1[`@@iterator`]||r$1&&p$1[r$1],E$1=!sc&&_$1||l$1(r$1),m$1=t$1===`Array`&&p$1.entries||_$1;if(m$1&&(a$1=ec(m$1.call(new e$1)))!==Object.prototype&&a$1.next&&(tc(a$1,u$1,!0,!0),nc[u$1]=uc),oc&&r$1===dc&&_$1&&_$1.name!==dc&&(h$1=!0,E$1=function(){return Qa(_$1,this)}),r$1)if(c$1={values:l$1(dc),keys:o$1?E$1:l$1(cc),entries:l$1(lc)},s$1)for(d$1 in c$1)(sc||h$1||!(d$1 in p$1))&&ic(p$1,d$1,c$1[d$1]);else Ja({target:t$1,proto:!0,forced:sc||h$1},c$1);return s$1&&p$1[ac]!==E$1&&ic(p$1,ac,E$1,{name:r$1}),nc[t$1]=E$1,c$1},pc=function(e$1,t$1){return{value:e$1,done:t$1}},_c=J,Ec=qo,mc=Ea;Zt.f;var fc=hc,Sc=pc,gc=`Array Iterator`,Tc=mc.set,Rc=mc.getterFor(gc);fc(Array,`Array`,(function(e$1,t$1){Tc(this,{type:gc,target:_c(e$1),index:0,kind:t$1})}),(function(){var e$1=Rc(this),t$1=e$1.target,i$1=e$1.index++;if(!t$1||i$1>=t$1.length)return e$1.target=null,Sc(void 0,!0);switch(e$1.kind){case`keys`:return Sc(i$1,!1);case`values`:return Sc(t$1[i$1],!1)}return Sc([i$1,t$1[i$1]],!1)}),`values`),Ec.Arguments=Ec.Array;var Cc=Zt,vc=function(e$1,t$1,i$1){return Cc.f(e$1,t$1,i$1)},yc=re,Ic=vc,Ac=w,bc=pt(`species`),wc=l,Oc=TypeError,Nc=function(e$1,t$1){if(wc(t$1,e$1))return e$1;throw new Oc(`Incorrect invocation`)},Dc=A,Pc=Ke,Lc=d(Function.toString);Dc(Pc.inspectSource)||(Pc.inspectSource=function(e$1){return Lc(e$1)});var kc=Pc.inspectSource,Mc=d,Uc=n,Vc=A,xc=En,Fc=kc,Bc=function(){},jc=re(`Reflect`,`construct`),Gc=/^\s*(?:class|function)\b/,Wc=Mc(Gc.exec),Hc=!Gc.test(Bc),Kc=function(e$1){if(!Vc(e$1))return!1;try{return jc(Bc,[],e$1),!0}catch{return!1}},Yc=function(e$1){if(!Vc(e$1))return!1;switch(xc(e$1)){case`AsyncFunction`:case`GeneratorFunction`:case`AsyncGeneratorFunction`:return!1}try{return Hc||!!Wc(Gc,Fc(e$1))}catch{return!0}};Yc.sham=!0;var zc,qc,Xc,Jc,Qc=!jc||Uc((function(){var e$1;return Kc(Kc.call)||!Kc(Object)||!Kc((function(){e$1=!0}))||e$1}))?Yc:Kc,Zc=Qc,$c=Ae,ed=TypeError,td=ni,id=function(e$1){if(Zc(e$1))return e$1;throw new ed($c(e$1)+` is not a constructor`)},nd=H,rd=pt(`species`),od=function(e$1,t$1){var i$1,n$1=td(e$1).constructor;return n$1===void 0||nd(i$1=td(n$1)[rd])?t$1:id(i$1)},sd=d([].slice),ad=TypeError,cd=function(e$1,t$1){if(e$1<t$1)throw new ad(`Not enough arguments`);return e$1},dd=/(?:ipad|iphone|ipod).*applewebkit/i.test(ae),ld=h,ud=f,hd=Qt,pd=A,_d=$e,Ed=n,md=To,fd=sd,Sd=bt,gd=cd,Td=dd,Rd=Xn,Cd=ld.setImmediate,vd=ld.clearImmediate,yd=ld.process,Id=ld.Dispatch,Ad=ld.Function,bd=ld.MessageChannel,wd=ld.String,Od=0,Nd={},Dd=`onreadystatechange`;Ed((function(){zc=ld.location}));var Pd=function(e$1){if(_d(Nd,e$1)){var t$1=Nd[e$1];delete Nd[e$1],t$1()}},Ld=function(e$1){return function(){Pd(e$1)}},kd=function(e$1){Pd(e$1.data)},Md=function(e$1){ld.postMessage(wd(e$1),zc.protocol+`//`+zc.host)};Cd&&vd||(Cd=function(e$1){gd(arguments.length,1);var t$1=pd(e$1)?e$1:Ad(e$1),i$1=fd(arguments,1);return Nd[++Od]=function(){ud(t$1,void 0,i$1)},qc(Od),Od},vd=function(e$1){delete Nd[e$1]},Rd?qc=function(e$1){yd.nextTick(Ld(e$1))}:Id&&Id.now?qc=function(e$1){Id.now(Ld(e$1))}:bd&&!Td?(Jc=(Xc=new bd).port2,Xc.port1.onmessage=kd,qc=hd(Jc.postMessage,Jc)):ld.addEventListener&&pd(ld.postMessage)&&!ld.importScripts&&zc&&zc.protocol!==`file:`&&!Ed(Md)?(qc=Md,ld.addEventListener(`message`,kd,!1)):qc=Dd in Sd(`script`)?function(e$1){md.appendChild(Sd(`script`))[Dd]=function(){md.removeChild(this),Pd(e$1)}}:function(e$1){setTimeout(Ld(e$1),0)});var Ud={set:Cd,clear:vd},Vd=h,xd=w,Fd=Object.getOwnPropertyDescriptor,Bd=function(e$1){if(!xd)return Vd[e$1];var t$1=Fd(Vd,e$1);return t$1&&t$1.value},jd=function(){this.head=null,this.tail=null};jd.prototype={add:function(e$1){var t$1={item:e$1,next:null},i$1=this.tail;i$1?i$1.next=t$1:this.head=t$1,this.tail=t$1},get:function(){var e$1=this.head;if(e$1)return(this.head=e$1.next)===null&&(this.tail=null),e$1.item}};var Gd,Wd,Hd,Kd,Yd,zd=jd,qd=/ipad|iphone|ipod/i.test(ae)&&typeof Pebble<`u`,Xd=/web0s(?!.*chrome)/i.test(ae),Jd=h,Qd=Bd,Zd=Qt,$d=Ud.set,el=zd,tl=dd,il=qd,nl=Xd,rl=Xn,ol=Jd.MutationObserver||Jd.WebKitMutationObserver,sl=Jd.document,al=Jd.process,cl=Jd.Promise,dl=Qd(`queueMicrotask`);if(!dl){var ll=new el,ul=function(){var e$1,t$1;for(rl&&(e$1=al.domain)&&e$1.exit();t$1=ll.get();)try{t$1()}catch(e$2){throw ll.head&&Gd(),e$2}e$1&&e$1.enter()};tl||rl||nl||!ol||!sl?!il&&cl&&cl.resolve?((Kd=cl.resolve(void 0)).constructor=cl,Yd=Zd(Kd.then,Kd),Gd=function(){Yd(ul)}):rl?Gd=function(){al.nextTick(ul)}:($d=Zd($d,Jd),Gd=function(){$d(ul)}):(Wd=!0,Hd=sl.createTextNode(``),new ol(ul).observe(Hd,{characterData:!0}),Gd=function(){Hd.data=Wd=!Wd}),dl=function(e$1){ll.head||Gd(),ll.add(e$1)}}var hl=dl,pl=function(e$1){try{return{error:!1,value:e$1()}}catch(e$2){return{error:!0,value:e$2}}},_l=h.Promise,El=h,ml=_l,fl=A,Sl=zt,gl=kc,Tl=pt,Rl=qn,Cl=_e,vl=ml&&ml.prototype,yl=Tl(`species`),Il=!1,Al=fl(El.PromiseRejectionEvent),wl={CONSTRUCTOR:Sl(`Promise`,(function(){var e$1=gl(ml),t$1=e$1!==String(ml);if(!t$1&&Cl===66||!vl.catch||!vl.finally)return!0;if(!Cl||Cl<51||!/native code/.test(e$1)){var i$1=new ml((function(e$2){e$2(1)})),n$1=function(e$2){e$2((function(){}),(function(){}))};if((i$1.constructor={})[yl]=n$1,!(Il=i$1.then((function(){}))instanceof n$1))return!0}return!(t$1||Rl!==`BROWSER`&&Rl!==`DENO`||Al)})),REJECTION_EVENT:Al,SUBCLASSING:Il},Ol={},Nl=Ne,Dl=TypeError,Pl=function(e$1){var t$1,i$1;this.promise=new e$1((function(e$2,n$1){if(t$1!==void 0||i$1!==void 0)throw new Dl(`Bad Promise constructor`);t$1=e$2,i$1=n$1})),this.resolve=Nl(t$1),this.reject=Nl(i$1)};Ol.f=function(e$1){return new Pl(e$1)};var Ll,kl,Ml,Ul=Oi,Vl=Xn,xl=h,Fl=$,Bl=D,jl=va,Gl=Ga,Wl=function(e$1){var t$1=yc(e$1);Ac&&t$1&&!t$1[bc]&&Ic(t$1,bc,{configurable:!0,get:function(){return this}})},Hl=Ne,Kl=A,Yl=Z,zl=Nc,ql=od,Xl=Ud.set,Jl=hl,Ql=function(e$1,t$1){try{arguments.length===1?console.error(e$1):console.error(e$1,t$1)}catch{}},Zl=pl,$l=zd,eu=Ea,tu=_l,iu=wl,nu=Ol,ru=`Promise`,ou=iu.CONSTRUCTOR,su=iu.REJECTION_EVENT,au=eu.getterFor(ru),cu=eu.set,du=tu&&tu.prototype,lu=tu,uu=du,hu=xl.TypeError,pu=xl.document,_u=xl.process,Eu=nu.f,mu=Eu,fu=!!(pu&&pu.createEvent&&xl.dispatchEvent),Su=`unhandledrejection`,gu=function(e$1){var t$1;return!(!Yl(e$1)||!Kl(t$1=e$1.then))&&t$1},Tu=function(e$1,t$1){var i$1,n$1,r$1,o$1=t$1.value,s$1=t$1.state===1,a$1=s$1?e$1.ok:e$1.fail,c$1=e$1.resolve,d$1=e$1.reject,l$1=e$1.domain;try{a$1?(s$1||(t$1.rejection===2&&Iu(t$1),t$1.rejection=1),!0===a$1?i$1=o$1:(l$1&&l$1.enter(),i$1=a$1(o$1),l$1&&(l$1.exit(),r$1=!0)),i$1===e$1.promise?d$1(new hu(`Promise-chain cycle`)):(n$1=gu(i$1))?Bl(n$1,i$1,c$1,d$1):c$1(i$1)):d$1(o$1)}catch(e$2){l$1&&!r$1&&l$1.exit(),d$1(e$2)}},Ru=function(e$1,t$1){e$1.notified||(e$1.notified=!0,Jl((function(){for(var i$1,n$1=e$1.reactions;i$1=n$1.get();)Tu(i$1,e$1);e$1.notified=!1,t$1&&!e$1.rejection&&vu(e$1)})))},Cu=function(e$1,t$1,i$1){var n$1,r$1;fu?((n$1=pu.createEvent(`Event`)).promise=t$1,n$1.reason=i$1,n$1.initEvent(e$1,!1,!0),xl.dispatchEvent(n$1)):n$1={promise:t$1,reason:i$1},!su&&(r$1=xl[`on`+e$1])?r$1(n$1):e$1===Su&&Ql(`Unhandled promise rejection`,i$1)},vu=function(e$1){Bl(Xl,xl,(function(){var t$1,i$1=e$1.facade,n$1=e$1.value;if(yu(e$1)&&(t$1=Zl((function(){Vl?_u.emit(`unhandledRejection`,n$1,i$1):Cu(Su,i$1,n$1)})),e$1.rejection=Vl||yu(e$1)?2:1,t$1.error))throw t$1.value}))},yu=function(e$1){return e$1.rejection!==1&&!e$1.parent},Iu=function(e$1){Bl(Xl,xl,(function(){var t$1=e$1.facade;Vl?_u.emit(`rejectionHandled`,t$1):Cu(`rejectionhandled`,t$1,e$1.value)}))},Au=function(e$1,t$1,i$1){return function(n$1){e$1(t$1,n$1,i$1)}},bu=function(e$1,t$1,i$1){e$1.done||(e$1.done=!0,i$1&&(e$1=i$1),e$1.value=t$1,e$1.state=2,Ru(e$1,!0))},wu=function(e$1,t$1,i$1){if(!e$1.done){e$1.done=!0,i$1&&(e$1=i$1);try{if(e$1.facade===t$1)throw new hu(`Promise can't be resolved itself`);var n$1=gu(t$1);n$1?Jl((function(){var i$2={done:!1};try{Bl(n$1,t$1,Au(wu,i$2,e$1),Au(bu,i$2,e$1))}catch(t$2){bu(i$2,t$2,e$1)}})):(e$1.value=t$1,e$1.state=1,Ru(e$1,!1))}catch(t$2){bu({done:!1},t$2,e$1)}}};ou&&(uu=(lu=function(e$1){zl(this,uu),Hl(e$1),Bl(Ll,this);var t$1=au(this);try{e$1(Au(wu,t$1),Au(bu,t$1))}catch(e$2){bu(t$1,e$2)}}).prototype,(Ll=function(e$1){cu(this,{type:ru,done:!1,notified:!1,parent:!1,reactions:new $l,rejection:!1,state:0,value:null})}).prototype=jl(uu,`then`,(function(e$1,t$1){var i$1=au(this),n$1=Eu(ql(this,lu));return i$1.parent=!0,n$1.ok=!Kl(e$1)||e$1,n$1.fail=Kl(t$1)&&t$1,n$1.domain=Vl?_u.domain:void 0,i$1.state===0?i$1.reactions.add(n$1):Jl((function(){Tu(n$1,i$1)})),n$1.promise})),kl=function(){var e$1=new Ll,t$1=au(e$1);this.promise=e$1,this.resolve=Au(wu,t$1),this.reject=Au(bu,t$1)},nu.f=Eu=function(e$1){return e$1===lu||e$1===Ml?new kl(e$1):mu(e$1)}),Ul({global:!0,constructor:!0,wrap:!0,forced:ou},{Promise:lu}),Ml=Fl.Promise,Gl(lu,ru,!1,!0),Wl(ru);var Ou=pt(`iterator`),Nu=!1;try{var Du=0,Pu={next:function(){return{done:!!Du++}},return:function(){Nu=!0}};Pu[Ou]=function(){return this},Array.from(Pu,(function(){throw 2}))}catch{}var Lu=_l,Mu=wl.CONSTRUCTOR||!function(e$1,t$1){try{if(!t$1&&!Nu)return!1}catch{return!1}var i$1=!1;try{var n$1={};n$1[Ou]=function(){return{next:function(){return{done:i$1=!0}}}},e$1(n$1)}catch{}return i$1}((function(e$1){Lu.all(e$1).then(void 0,(function(){}))})),Uu=D,Vu=Ne,xu=Ol,Fu=pl,Bu=Os;Oi({target:`Promise`,stat:!0,forced:Mu},{all:function(e$1){var t$1=this,i$1=xu.f(t$1),n$1=i$1.resolve,r$1=i$1.reject,o$1=Fu((function(){var i$2=Vu(t$1.resolve),o$2=[],s$1=0,a$1=1;Bu(e$1,(function(e$2){var c$1=s$1++,d$1=!1;a$1++,Uu(i$2,t$1,e$2).then((function(e$3){d$1||(d$1=!0,o$2[c$1]=e$3,--a$1||n$1(o$2))}),r$1)})),--a$1||n$1(o$2)}));return o$1.error&&r$1(o$1.value),i$1.promise}});var ju=Oi,Gu=wl.CONSTRUCTOR;_l&&_l.prototype,ju({target:`Promise`,proto:!0,forced:Gu,real:!0},{catch:function(e$1){return this.then(void 0,e$1)}});var Wu=D,Hu=Ne,Ku=Ol,Yu=pl,zu=Os;Oi({target:`Promise`,stat:!0,forced:Mu},{race:function(e$1){var t$1=this,i$1=Ku.f(t$1),n$1=i$1.reject,r$1=Yu((function(){var r$2=Hu(t$1.resolve);zu(e$1,(function(e$2){Wu(r$2,t$1,e$2).then(i$1.resolve,n$1)}))}));return r$1.error&&n$1(r$1.value),i$1.promise}});var qu=Ol;Oi({target:`Promise`,stat:!0,forced:wl.CONSTRUCTOR},{reject:function(e$1){var t$1=qu.f(this);return(0,t$1.reject)(e$1),t$1.promise}});var Xu=ni,Ju=Z,Qu=Ol,Zu=function(e$1,t$1){if(Xu(e$1),Ju(t$1)&&t$1.constructor===e$1)return t$1;var i$1=Qu.f(e$1);return(0,i$1.resolve)(t$1),i$1.promise},$u=Oi,eh=_l,th=wl.CONSTRUCTOR,ih=Zu,nh=re(`Promise`),rh=!th;$u({target:`Promise`,stat:!0,forced:!0},{resolve:function(e$1){return ih(rh&&this===nh?eh:this,e$1)}});var oh=D,sh=Ne,ah=Ol,ch=pl,dh=Os;Oi({target:`Promise`,stat:!0,forced:Mu},{allSettled:function(e$1){var t$1=this,i$1=ah.f(t$1),n$1=i$1.resolve,r$1=i$1.reject,o$1=ch((function(){var i$2=sh(t$1.resolve),r$2=[],o$2=0,s$1=1;dh(e$1,(function(e$2){var a$1=o$2++,c$1=!1;s$1++,oh(i$2,t$1,e$2).then((function(e$3){c$1||(c$1=!0,r$2[a$1]={status:`fulfilled`,value:e$3},--s$1||n$1(r$2))}),(function(e$3){c$1||(c$1=!0,r$2[a$1]={status:`rejected`,reason:e$3},--s$1||n$1(r$2))}))})),--s$1||n$1(r$2)}));return o$1.error&&r$1(o$1.value),i$1.promise}});var lh=D,uh=Ne,hh=re,ph=Ol,_h=pl,Eh=Os,mh=`No one promise resolved`;Oi({target:`Promise`,stat:!0,forced:Mu},{any:function(e$1){var t$1=this,i$1=hh(`AggregateError`),n$1=ph.f(t$1),r$1=n$1.resolve,o$1=n$1.reject,s$1=_h((function(){var n$2=uh(t$1.resolve),s$2=[],a$1=0,c$1=1,d$1=!1;Eh(e$1,(function(e$2){var l$1=a$1++,u$1=!1;c$1++,lh(n$2,t$1,e$2).then((function(e$3){u$1||d$1||(d$1=!0,r$1(e$3))}),(function(e$3){u$1||d$1||(u$1=!0,s$2[l$1]=e$3,--c$1||o$1(new i$1(s$2,mh)))}))})),--c$1||o$1(new i$1(s$2,mh))}));return s$1.error&&o$1(s$1.value),n$1.promise}});var fh=Oi,Sh=f,gh=sd,Th=Ol,Rh=Ne,Ch=pl,vh=h.Promise,yh=!1;fh({target:`Promise`,stat:!0,forced:!vh||!vh.try||Ch((function(){vh.try((function(e$1){yh=e$1===8}),8)})).error||!yh},{try:function(e$1){var t$1=arguments.length>1?gh(arguments,1):[],i$1=Th.f(this),n$1=Ch((function(){return Sh(Rh(e$1),void 0,t$1)}));return(n$1.error?i$1.reject:i$1.resolve)(n$1.value),i$1.promise}});var Ih=Ol;Oi({target:`Promise`,stat:!0},{withResolvers:function(){var e$1=Ih.f(this);return{promise:e$1.promise,resolve:e$1.resolve,reject:e$1.reject}}});var Ah=Oi,bh=_l,wh=n,Oh=re,Nh=A,Dh=od,Ph=Zu,Lh=bh&&bh.prototype;Ah({target:`Promise`,proto:!0,real:!0,forced:!!bh&&wh((function(){Lh.finally.call({then:function(){}},(function(){}))}))},{finally:function(e$1){var t$1=Dh(this,Oh(`Promise`)),i$1=Nh(e$1);return this.then(i$1?function(i$2){return Ph(t$1,e$1()).then((function(){return i$2}))}:e$1,i$1?function(i$2){return Ph(t$1,e$1()).then((function(){throw i$2}))}:e$1)}});var kh=d,Mh=ki,Uh=Sn,Vh=z,xh=kh(``.charAt),Fh=kh(``.charCodeAt),Bh=kh(``.slice),jh=function(e$1){return function(t$1,i$1){var n$1,r$1,o$1=Uh(Vh(t$1)),s$1=Mh(i$1),a$1=o$1.length;return s$1<0||s$1>=a$1?e$1?``:void 0:(n$1=Fh(o$1,s$1))<55296||n$1>56319||s$1+1===a$1||(r$1=Fh(o$1,s$1+1))<56320||r$1>57343?e$1?xh(o$1,s$1):n$1:e$1?Bh(o$1,s$1,s$1+2):r$1-56320+(n$1-55296<<10)+65536}},Gh={codeAt:jh(!1),charAt:jh(!0)},Wh=Gh.charAt,Hh=Sn,Kh=Ea,Yh=hc,zh=pc,qh=`String Iterator`,Xh=Kh.set,Jh=Kh.getterFor(qh);Yh(String,`String`,(function(e$1){Xh(this,{type:qh,string:Hh(e$1),index:0})}),(function(){var e$1,t$1=Jh(this),i$1=t$1.string,n$1=t$1.index;return n$1>=i$1.length?zh(void 0,!0):(e$1=Wh(i$1,n$1),t$1.index+=e$1.length,zh(e$1,!1))}));var Qh=$.Promise,Zh={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},$h=h,ep=Ga,tp=qo;for(var ip in Zh)ep($h[ip],ip),tp[ip]=tp.Array;var np=Qh,rp=i(np),op=Zi(`Array`,`values`),sp=En,ap=$e,cp=l,dp=op,lp=Array.prototype,up={DOMTokenList:!0,NodeList:!0},pp=i(function(e$1){var t$1=e$1.values;return e$1===lp||cp(lp,e$1)&&t$1===lp.values||ap(up,sp(e$1))?dp:t$1}),_p=Ae,Ep=TypeError,mp=sd,fp=Math.floor,Sp=function(e$1,t$1){var i$1=e$1.length;if(i$1<8)for(var n$1,r$1,o$1=1;o$1<i$1;){for(r$1=o$1,n$1=e$1[o$1];r$1&&t$1(e$1[r$1-1],n$1)>0;)e$1[r$1]=e$1[--r$1];r$1!==o$1++&&(e$1[r$1]=n$1)}else for(var s$1=fp(i$1/2),a$1=Sp(mp(e$1,0,s$1),t$1),c$1=Sp(mp(e$1,s$1),t$1),d$1=a$1.length,l$1=c$1.length,u$1=0,h$1=0;u$1<d$1||h$1<l$1;)e$1[u$1+h$1]=u$1<d$1&&h$1<l$1?t$1(a$1[u$1],c$1[h$1])<=0?a$1[u$1++]:c$1[h$1++]:u$1<d$1?a$1[u$1++]:c$1[h$1++];return e$1},gp=Sp,Tp=ae.match(/firefox\/(\d+)/i),Rp=!!Tp&&+Tp[1],Cp=/MSIE|Trident/.test(ae),vp=ae.match(/AppleWebKit\/(\d+)\./),yp=!!vp&&+vp[1],Ip=Oi,Ap=d,bp=Ne,wp=Je,Op=Wi,Np=function(e$1,t$1){if(!delete e$1[t$1])throw new Ep(`Cannot delete property `+_p(t$1)+` of `+_p(e$1))},Dp=Sn,Pp=n,Lp=gp,kp=Wn,Mp=Rp,Up=Cp,Vp=_e,xp=yp,Fp=[],Bp=Ap(Fp.sort),jp=Ap(Fp.push),Gp=Pp((function(){Fp.sort(void 0)})),Wp=Pp((function(){Fp.sort(null)})),Hp=kp(`sort`),Kp=!Pp((function(){if(Vp)return Vp<70;if(!(Mp&&Mp>3)){if(Up)return!0;if(xp)return xp<603;var e$1,t$1,i$1,n$1,r$1=``;for(e$1=65;e$1<76;e$1++){switch(t$1=String.fromCharCode(e$1),e$1){case 66:case 69:case 70:case 72:i$1=3;break;case 68:case 71:i$1=4;break;default:i$1=2}for(n$1=0;n$1<47;n$1++)Fp.push({k:t$1+n$1,v:i$1})}for(Fp.sort((function(e$2,t$2){return t$2.v-e$2.v})),n$1=0;n$1<Fp.length;n$1++)t$1=Fp[n$1].k.charAt(0),r$1.charAt(r$1.length-1)!==t$1&&(r$1+=t$1);return r$1!==`DGBEFHACIJK`}}));Ip({target:`Array`,proto:!0,forced:Gp||!Wp||!Hp||!Kp},{sort:function(e$1){e$1!==void 0&&bp(e$1);var t$1=wp(this);if(Kp)return e$1===void 0?Bp(t$1):Bp(t$1,e$1);var i$1,n$1,r$1=[],o$1=Op(t$1);for(n$1=0;n$1<o$1;n$1++)n$1 in t$1&&jp(r$1,t$1[n$1]);for(Lp(r$1,function(e$2){return function(t$2,i$2){return i$2===void 0?-1:t$2===void 0?1:e$2===void 0?Dp(t$2)>Dp(i$2)?1:-1:+e$2(t$2,i$2)||0}}(e$1)),i$1=Op(r$1),n$1=0;n$1<i$1;)t$1[n$1]=r$1[n$1++];for(;n$1<o$1;)Np(t$1,n$1++);return t$1}});var Yp=Zi(`Array`,`sort`),zp=l,qp=Yp,Xp=Array.prototype,Qp=i(function(e$1){var t$1=e$1.sort;return e$1===Xp||zp(Xp,e$1)&&t$1===Xp.sort?qp:t$1}),Zp=Oi,$p=d,e_=xi,t_=RangeError,i_=String.fromCharCode,n_=String.fromCodePoint,r_=$p([].join);Zp({target:`String`,stat:!0,arity:1,forced:!!n_&&n_.length!==1},{fromCodePoint:function(e$1){for(var t$1,i$1=[],n$1=arguments.length,r$1=0;n$1>r$1;){if(t$1=+arguments[r$1++],e_(t$1,1114111)!==t$1)throw new t_(t$1+` is not a valid code point`);i$1[r$1]=t$1<65536?i_(t$1):i_(55296+((t$1-=65536)>>10),t$1%1024+56320)}return r_(i$1,``)}});var o_=n,s_=pt(`iterator`),a_=!o_((function(){var e$1=new URL(`b?a=1&b=2&c=3`,`https://a`),t$1=e$1.searchParams,i$1=new URLSearchParams(`a=1&a=2&b=3`),n$1=``;return e$1.pathname=`c%20d`,t$1.forEach((function(e$2,i$2){t$1.delete(`b`),n$1+=i$2+e$2})),i$1.delete(`a`,2),i$1.delete(`b`,void 0),!e$1.toJSON||!i$1.has(`a`,1)||i$1.has(`a`,2)||!i$1.has(`a`,void 0)||i$1.has(`b`)||!t$1.size&&!0||!t$1.sort||e$1.href!==`https://a/c%20d?a=1&c=3`||t$1.get(`c`)!==`3`||String(new URLSearchParams(`?a=1`))!==`a=1`||!t$1[s_]||new URL(`https://a@b`).username!==`a`||new URLSearchParams(new URLSearchParams(`a=b`)).get(`a`)!==`b`||new URL(`https://тест`).host!==`xn--e1aybc`||new URL(`https://a#б`).hash!==`#%D0%B1`||n$1!==`a1c3`||new URL(`https://x`,void 0).host!==`x`})),c_=va,d_=Oi,l_=h,u_=Bd,h_=re,p_=D,__=d,E_=w,m_=a_,f_=va,S_=vc,g_=function(e$1,t$1,i$1){for(var n$1 in t$1)i$1&&i$1.unsafe&&e$1[n$1]?e$1[n$1]=t$1[n$1]:c_(e$1,n$1,t$1[n$1],i$1);return e$1},T_=Ga,R_=Xa,C_=Ea,v_=Nc,y_=A,I_=$e,A_=Qt,b_=En,w_=ni,O_=Z,N_=Sn,D_=ko,P_=x,L_=us,k_=rs,M_=pc,U_=cd,V_=gp,x_=pt(`iterator`),F_=`URLSearchParams`,B_=F_+`Iterator`,j_=C_.set,G_=C_.getterFor(F_),W_=C_.getterFor(B_),H_=u_(`fetch`),K_=u_(`Request`),Y_=u_(`Headers`),z_=K_&&K_.prototype,q_=Y_&&Y_.prototype,X_=l_.TypeError,J_=l_.encodeURIComponent,Q_=String.fromCharCode,Z_=h_(`String`,`fromCodePoint`),$_=parseInt,eE=__(``.charAt),tE=__([].join),iE=__([].push),nE=__(``.replace),rE=__([].shift),oE=__([].splice),sE=__(``.split),aE=__(``.slice),cE=__(/./.exec),dE=/\+/g,lE=/^[0-9a-f]+$/i,uE=function(e$1,t$1){var i$1=aE(e$1,t$1,t$1+2);return cE(lE,i$1)?$_(i$1,16):NaN},hE=function(e$1){for(var t$1=0,i$1=128;i$1>0&&(e$1&i$1)!=0;i$1>>=1)t$1++;return t$1},pE=function(e$1){var t$1=null;switch(e$1.length){case 1:t$1=e$1[0];break;case 2:t$1=(31&e$1[0])<<6|63&e$1[1];break;case 3:t$1=(15&e$1[0])<<12|(63&e$1[1])<<6|63&e$1[2];break;case 4:t$1=(7&e$1[0])<<18|(63&e$1[1])<<12|(63&e$1[2])<<6|63&e$1[3]}return t$1>1114111?null:t$1},_E=function(e$1){for(var t$1=(e$1=nE(e$1,dE,` `)).length,i$1=``,n$1=0;n$1<t$1;){var r$1=eE(e$1,n$1);if(r$1===`%`){if(eE(e$1,n$1+1)===`%`||n$1+3>t$1){i$1+=`%`,n$1++;continue}var o$1=uE(e$1,n$1+1);if(o$1!=o$1){i$1+=r$1,n$1++;continue}n$1+=2;var s$1=hE(o$1);if(s$1===0)r$1=Q_(o$1);else{if(s$1===1||s$1>4){i$1+=`�`,n$1++;continue}for(var a$1=[o$1],c$1=1;c$1<s$1&&!(++n$1+3>t$1||eE(e$1,n$1)!==`%`);){var d$1=uE(e$1,n$1+1);if(d$1!=d$1){n$1+=3;break}if(d$1>191||d$1<128)break;iE(a$1,d$1),n$1+=2,c$1++}if(a$1.length!==s$1){i$1+=`�`;continue}var l$1=pE(a$1);l$1===null?i$1+=`�`:r$1=Z_(l$1)}}i$1+=r$1,n$1++}return i$1},EE=/[!'()~]|%20/g,mE={"!":`%21`,"'":`%27`,"(":`%28`,")":`%29`,"~":`%7E`,"%20":`+`},fE=function(e$1){return mE[e$1]},SE=function(e$1){return nE(J_(e$1),EE,fE)},gE=R_((function(e$1,t$1){j_(this,{type:B_,target:G_(e$1).entries,index:0,kind:t$1})}),F_,(function(){var e$1=W_(this),t$1=e$1.target,i$1=e$1.index++;if(!t$1||i$1>=t$1.length)return e$1.target=null,M_(void 0,!0);var n$1=t$1[i$1];switch(e$1.kind){case`keys`:return M_(n$1.key,!1);case`values`:return M_(n$1.value,!1)}return M_([n$1.key,n$1.value],!1)}),!0),TE=function(e$1){this.entries=[],this.url=null,e$1!==void 0&&(O_(e$1)?this.parseObject(e$1):this.parseQuery(typeof e$1==`string`?eE(e$1,0)===`?`?aE(e$1,1):e$1:N_(e$1)))};TE.prototype={type:F_,bindURL:function(e$1){this.url=e$1,this.update()},parseObject:function(e$1){var t$1,i$1,n$1,r$1,o$1,s$1,a$1,c$1=this.entries,d$1=k_(e$1);if(d$1)for(i$1=(t$1=L_(e$1,d$1)).next;!(n$1=p_(i$1,t$1)).done;){if(o$1=(r$1=L_(w_(n$1.value))).next,(s$1=p_(o$1,r$1)).done||(a$1=p_(o$1,r$1)).done||!p_(o$1,r$1).done)throw new X_(`Expected sequence with length 2`);iE(c$1,{key:N_(s$1.value),value:N_(a$1.value)})}else for(var l$1 in e$1)I_(e$1,l$1)&&iE(c$1,{key:l$1,value:N_(e$1[l$1])})},parseQuery:function(e$1){if(e$1)for(var t$1,i$1,n$1=this.entries,r$1=sE(e$1,`&`),o$1=0;o$1<r$1.length;)(t$1=r$1[o$1++]).length&&(i$1=sE(t$1,`=`),iE(n$1,{key:_E(rE(i$1)),value:_E(tE(i$1,`=`))}))},serialize:function(){for(var e$1,t$1=this.entries,i$1=[],n$1=0;n$1<t$1.length;)e$1=t$1[n$1++],iE(i$1,SE(e$1.key)+`=`+SE(e$1.value));return tE(i$1,`&`)},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var RE=function(){v_(this,CE);var e$1=j_(this,new TE(arguments.length>0?arguments[0]:void 0));E_||(this.size=e$1.entries.length)},CE=RE.prototype;if(g_(CE,{append:function(e$1,t$1){var i$1=G_(this);U_(arguments.length,2),iE(i$1.entries,{key:N_(e$1),value:N_(t$1)}),E_||this.length++,i$1.updateURL()},delete:function(e$1){for(var t$1=G_(this),i$1=U_(arguments.length,1),n$1=t$1.entries,r$1=N_(e$1),o$1=i$1<2?void 0:arguments[1],s$1=o$1===void 0?o$1:N_(o$1),a$1=0;a$1<n$1.length;){var c$1=n$1[a$1];if(c$1.key!==r$1||s$1!==void 0&&c$1.value!==s$1)a$1++;else if(oE(n$1,a$1,1),s$1!==void 0)break}E_||(this.size=n$1.length),t$1.updateURL()},get:function(e$1){var t$1=G_(this).entries;U_(arguments.length,1);for(var i$1=N_(e$1),n$1=0;n$1<t$1.length;n$1++)if(t$1[n$1].key===i$1)return t$1[n$1].value;return null},getAll:function(e$1){var t$1=G_(this).entries;U_(arguments.length,1);for(var i$1=N_(e$1),n$1=[],r$1=0;r$1<t$1.length;r$1++)t$1[r$1].key===i$1&&iE(n$1,t$1[r$1].value);return n$1},has:function(e$1){for(var t$1=G_(this).entries,i$1=U_(arguments.length,1),n$1=N_(e$1),r$1=i$1<2?void 0:arguments[1],o$1=r$1===void 0?r$1:N_(r$1),s$1=0;s$1<t$1.length;){var a$1=t$1[s$1++];if(a$1.key===n$1&&(o$1===void 0||a$1.value===o$1))return!0}return!1},set:function(e$1,t$1){var i$1=G_(this);U_(arguments.length,1);for(var n$1,r$1=i$1.entries,o$1=!1,s$1=N_(e$1),a$1=N_(t$1),c$1=0;c$1<r$1.length;c$1++)(n$1=r$1[c$1]).key===s$1&&(o$1?oE(r$1,c$1--,1):(o$1=!0,n$1.value=a$1));o$1||iE(r$1,{key:s$1,value:a$1}),E_||(this.size=r$1.length),i$1.updateURL()},sort:function(){var e$1=G_(this);V_(e$1.entries,(function(e$2,t$1){return e$2.key>t$1.key?1:-1})),e$1.updateURL()},forEach:function(e$1){for(var t$1,i$1=G_(this).entries,n$1=A_(e$1,arguments.length>1?arguments[1]:void 0),r$1=0;r$1<i$1.length;)n$1((t$1=i$1[r$1++]).value,t$1.key,this)},keys:function(){return new gE(this,`keys`)},values:function(){return new gE(this,`values`)},entries:function(){return new gE(this,`entries`)}},{enumerable:!0}),f_(CE,x_,CE.entries,{name:`entries`}),f_(CE,`toString`,(function(){return G_(this).serialize()}),{enumerable:!0}),E_&&S_(CE,`size`,{get:function(){return G_(this).entries.length},configurable:!0,enumerable:!0}),T_(RE,F_),d_({global:!0,constructor:!0,forced:!m_},{URLSearchParams:RE}),!m_&&y_(Y_)){var vE=__(q_.has),yE=__(q_.set),IE=function(e$1){if(O_(e$1)){var t$1,i$1=e$1.body;if(b_(i$1)===F_)return t$1=e$1.headers?new Y_(e$1.headers):new Y_,vE(t$1,`content-type`)||yE(t$1,`content-type`,`application/x-www-form-urlencoded;charset=UTF-8`),D_(e$1,{body:P_(0,N_(i$1)),headers:P_(0,t$1)})}return e$1};if(y_(H_)&&d_({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e$1){return H_(e$1,arguments.length>1?IE(arguments[1]):{})}}),y_(K_)){var AE=function(e$1){return v_(this,z_),new K_(e$1,arguments.length>1?IE(arguments[1]):{})};z_.constructor=AE,AE.prototype=z_,d_({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:AE})}}var bE,wE={URLSearchParams:RE,getState:G_},OE=$.URLSearchParams,NE=w,DE=d,PE=D,LE=n,kE=ho,ME=Qr,UE=P,VE=Je,xE=W,FE=Object.assign,BE=Object.defineProperty,jE=DE([].concat),GE=!FE||LE((function(){if(NE&&FE({b:1},FE(BE({},`a`,{enumerable:!0,get:function(){BE(this,`b`,{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e$1={},t$1={},i$1=Symbol(`assign detection`),n$1=`abcdefghijklmnopqrst`;return e$1[i$1]=7,n$1.split(``).forEach((function(e$2){t$1[e$2]=e$2})),FE({},e$1)[i$1]!==7||kE(FE({},t$1)).join(``)!==n$1}))?function(e$1,t$1){for(var i$1=VE(e$1),n$1=arguments.length,r$1=1,o$1=ME.f,s$1=UE.f;n$1>r$1;)for(var a$1,c$1=xE(arguments[r$1++]),d$1=o$1?jE(kE(c$1),o$1(c$1)):kE(c$1),l$1=d$1.length,u$1=0;l$1>u$1;)a$1=d$1[u$1++],NE&&!PE(s$1,c$1,a$1)||(i$1[a$1]=c$1[a$1]);return i$1}:FE,WE=ni,HE=Es,KE=w,YE=Zt,zE=x,qE=function(e$1,t$1,i$1){KE?YE.f(e$1,t$1,zE(0,i$1)):e$1[t$1]=i$1},XE=Qt,JE=D,QE=Je,ZE=function(e$1,t$1,i$1,n$1){try{return n$1?t$1(WE(i$1)[0],i$1[1]):t$1(i$1)}catch(t$2){HE(e$1,`throw`,t$2)}},$E=Zo,em=Qc,tm=Wi,im=qE,nm=us,rm=rs,om=Array,sm=d,am=2147483647,cm=/[^\0-\u007E]/,dm=/[.\u3002\uFF0E\uFF61]/g,lm=`Overflow: input needs wider integers to process`,um=RangeError,hm=sm(dm.exec),pm=Math.floor,_m=String.fromCharCode,Em=sm(``.charCodeAt),mm=sm([].join),fm=sm([].push),Sm=sm(``.replace),gm=sm(``.split),Tm=sm(``.toLowerCase),Rm=function(e$1){return e$1+22+75*(e$1<26)},Cm=function(e$1,t$1,i$1){var n$1=0;for(e$1=i$1?pm(e$1/700):e$1>>1,e$1+=pm(e$1/t$1);e$1>455;)e$1=pm(e$1/35),n$1+=36;return pm(n$1+36*e$1/(e$1+38))},vm=function(e$1){var t$1=[];e$1=function(e$2){for(var t$2=[],i$2=0,n$2=e$2.length;i$2<n$2;){var r$2=Em(e$2,i$2++);if(r$2>=55296&&r$2<=56319&&i$2<n$2){var o$2=Em(e$2,i$2++);(64512&o$2)==56320?fm(t$2,((1023&r$2)<<10)+(1023&o$2)+65536):(fm(t$2,r$2),i$2--)}else fm(t$2,r$2)}return t$2}(e$1);var i$1,n$1,r$1=e$1.length,o$1=128,s$1=0,a$1=72;for(i$1=0;i$1<e$1.length;i$1++)(n$1=e$1[i$1])<128&&fm(t$1,_m(n$1));var c$1=t$1.length,d$1=c$1;for(c$1&&fm(t$1,`-`);d$1<r$1;){var l$1=am;for(i$1=0;i$1<e$1.length;i$1++)(n$1=e$1[i$1])>=o$1&&n$1<l$1&&(l$1=n$1);var u$1=d$1+1;if(l$1-o$1>pm((am-s$1)/u$1))throw new um(lm);for(s$1+=(l$1-o$1)*u$1,o$1=l$1,i$1=0;i$1<e$1.length;i$1++){if((n$1=e$1[i$1])<o$1&&++s$1>am)throw new um(lm);if(n$1===o$1){for(var h$1=s$1,p$1=36;;){var _$1=p$1<=a$1?1:p$1>=a$1+26?26:p$1-a$1;if(h$1<_$1)break;var E$1=h$1-_$1,m$1=36-_$1;fm(t$1,_m(Rm(_$1+E$1%m$1))),h$1=pm(E$1/m$1),p$1+=36}fm(t$1,_m(Rm(h$1))),a$1=Cm(s$1,u$1,d$1===c$1),s$1=0,d$1++}}s$1++,o$1++}return mm(t$1,``)},ym=Oi,Im=w,Am=a_,bm=h,wm=Qt,Om=d,Nm=va,Dm=vc,Pm=Nc,Lm=$e,km=GE,Mm=function(e$1){var t$1=QE(e$1),i$1=em(this),n$1=arguments.length,r$1=n$1>1?arguments[1]:void 0,o$1=r$1!==void 0;o$1&&(r$1=XE(r$1,n$1>2?arguments[2]:void 0));var s$1,a$1,c$1,d$1,l$1,u$1,h$1=rm(t$1),p$1=0;if(!h$1||this===om&&$E(h$1))for(s$1=tm(t$1),a$1=i$1?new this(s$1):om(s$1);s$1>p$1;p$1++)u$1=o$1?r$1(t$1[p$1],p$1):t$1[p$1],im(a$1,p$1,u$1);else for(a$1=i$1?new this:[],l$1=(d$1=nm(t$1,h$1)).next;!(c$1=JE(l$1,d$1)).done;p$1++)u$1=o$1?ZE(d$1,r$1,[c$1.value,p$1],!0):c$1.value,im(a$1,p$1,u$1);return a$1.length=p$1,a$1},Um=sd,Vm=Gh.codeAt,xm=function(e$1){var t$1,i$1,n$1=[],r$1=gm(Sm(Tm(e$1),dm,`.`),`.`);for(t$1=0;t$1<r$1.length;t$1++)i$1=r$1[t$1],fm(n$1,hm(cm,i$1)?`xn--`+vm(i$1):i$1);return mm(n$1,`.`)},Fm=Sn,Bm=Ga,jm=cd,Gm=wE,Wm=Ea,Hm=Wm.set,Km=Wm.getterFor(`URL`),Ym=Gm.URLSearchParams,zm=Gm.getState,qm=bm.URL,Xm=bm.TypeError,Jm=bm.parseInt,Qm=Math.floor,Zm=Math.pow,$m=Om(``.charAt),ef=Om(/./.exec),tf=Om([].join),nf=Om(1.1.toString),rf=Om([].pop),of=Om([].push),sf=Om(``.replace),af=Om([].shift),cf=Om(``.split),df=Om(``.slice),lf=Om(``.toLowerCase),uf=Om([].unshift),hf=`Invalid scheme`,pf=`Invalid host`,_f=`Invalid port`,Ef=/[a-z]/i,mf=/[\d+-.a-z]/i,ff=/\d/,Sf=/^0x/i,gf=/^[0-7]+$/,Tf=/^\d+$/,Rf=/^[\da-f]+$/i,Cf=/[\0\t\n\r #%/:<>?@[\\\]^|]/,vf=/[\0\t\n\r #/:<>?@[\\\]^|]/,yf=/^[\u0000-\u0020]+/,If=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,Af=/[\t\n\r]/g,bf=function(e$1){var t$1,i$1,n$1,r$1;if(typeof e$1==`number`){for(t$1=[],i$1=0;i$1<4;i$1++)uf(t$1,e$1%256),e$1=Qm(e$1/256);return tf(t$1,`.`)}if(typeof e$1==`object`){for(t$1=``,n$1=function(e$2){for(var t$2=null,i$2=1,n$2=null,r$2=0,o$1=0;o$1<8;o$1++)e$2[o$1]===0?(n$2===null&&(n$2=o$1),++r$2):(r$2>i$2&&(t$2=n$2,i$2=r$2),n$2=null,r$2=0);return r$2>i$2?n$2:t$2}(e$1),i$1=0;i$1<8;i$1++)r$1&&e$1[i$1]===0||(r$1&&=!1,n$1===i$1?(t$1+=i$1?`:`:`::`,r$1=!0):(t$1+=nf(e$1[i$1],16),i$1<7&&(t$1+=`:`)));return`[`+t$1+`]`}return e$1},wf={},Of=km({},wf,{" ":1,'"':1,"<":1,">":1,"`":1}),Nf=km({},Of,{"#":1,"?":1,"{":1,"}":1}),Df=km({},Nf,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Pf=function(e$1,t$1){var i$1=Vm(e$1,0);return i$1>32&&i$1<127&&!Lm(t$1,e$1)?e$1:encodeURIComponent(e$1)},Lf={ftp:21,file:null,http:80,https:443,ws:80,wss:443},kf=function(e$1,t$1){var i$1;return e$1.length===2&&ef(Ef,$m(e$1,0))&&((i$1=$m(e$1,1))===`:`||!t$1&&i$1===`|`)},Mf=function(e$1){var t$1;return e$1.length>1&&kf(df(e$1,0,2))&&(e$1.length===2||(t$1=$m(e$1,2))===`/`||t$1===`\\`||t$1===`?`||t$1===`#`)},Uf=function(e$1){return e$1===`.`||lf(e$1)===`%2e`},Vf={},xf={},Ff={},Bf={},jf={},Gf={},Wf={},Hf={},Kf={},Yf={},zf={},qf={},Xf={},Jf={},Qf={},Zf={},$f={},eS={},tS={},iS={},nS={},rS=function(e$1,t$1,i$1){var n$1,r$1,o$1,s$1=Fm(e$1);if(t$1){if(r$1=this.parse(s$1))throw new Xm(r$1);this.searchParams=null}else{if(i$1!==void 0&&(n$1=new rS(i$1,!0)),r$1=this.parse(s$1,null,n$1))throw new Xm(r$1);(o$1=zm(new Ym)).bindURL(this),this.searchParams=o$1}};rS.prototype={type:`URL`,parse:function(e$1,t$1,i$1){var n$1,r$1,o$1,s$1,a$1,c$1=this,d$1=t$1||Vf,l$1=0,u$1=``,h$1=!1,p$1=!1,_$1=!1;for(e$1=Fm(e$1),t$1||(c$1.scheme=``,c$1.username=``,c$1.password=``,c$1.host=null,c$1.port=null,c$1.path=[],c$1.query=null,c$1.fragment=null,c$1.cannotBeABaseURL=!1,e$1=sf(e$1,yf,``),e$1=sf(e$1,If,`$1`)),e$1=sf(e$1,Af,``),n$1=Mm(e$1);l$1<=n$1.length;){switch(r$1=n$1[l$1],d$1){case Vf:if(!r$1||!ef(Ef,r$1)){if(t$1)return hf;d$1=Ff;continue}u$1+=lf(r$1),d$1=xf;break;case xf:if(r$1&&(ef(mf,r$1)||r$1===`+`||r$1===`-`||r$1===`.`))u$1+=lf(r$1);else{if(r$1!==`:`){if(t$1)return hf;u$1=``,d$1=Ff,l$1=0;continue}if(t$1&&(c$1.isSpecial()!==Lm(Lf,u$1)||u$1===`file`&&(c$1.includesCredentials()||c$1.port!==null)||c$1.scheme===`file`&&!c$1.host))return;if(c$1.scheme=u$1,t$1)return void(c$1.isSpecial()&&Lf[c$1.scheme]===c$1.port&&(c$1.port=null));u$1=``,c$1.scheme===`file`?d$1=Jf:c$1.isSpecial()&&i$1&&i$1.scheme===c$1.scheme?d$1=Bf:c$1.isSpecial()?d$1=Hf:n$1[l$1+1]===`/`?(d$1=jf,l$1++):(c$1.cannotBeABaseURL=!0,of(c$1.path,``),d$1=tS)}break;case Ff:if(!i$1||i$1.cannotBeABaseURL&&r$1!==`#`)return hf;if(i$1.cannotBeABaseURL&&r$1===`#`){c$1.scheme=i$1.scheme,c$1.path=Um(i$1.path),c$1.query=i$1.query,c$1.fragment=``,c$1.cannotBeABaseURL=!0,d$1=nS;break}d$1=i$1.scheme===`file`?Jf:Gf;continue;case Bf:if(r$1!==`/`||n$1[l$1+1]!==`/`){d$1=Gf;continue}d$1=Kf,l$1++;break;case jf:if(r$1===`/`){d$1=Yf;break}d$1=eS;continue;case Gf:if(c$1.scheme=i$1.scheme,r$1===bE)c$1.username=i$1.username,c$1.password=i$1.password,c$1.host=i$1.host,c$1.port=i$1.port,c$1.path=Um(i$1.path),c$1.query=i$1.query;else if(r$1===`/`||r$1===`\\`&&c$1.isSpecial())d$1=Wf;else if(r$1===`?`)c$1.username=i$1.username,c$1.password=i$1.password,c$1.host=i$1.host,c$1.port=i$1.port,c$1.path=Um(i$1.path),c$1.query=``,d$1=iS;else{if(r$1!==`#`){c$1.username=i$1.username,c$1.password=i$1.password,c$1.host=i$1.host,c$1.port=i$1.port,c$1.path=Um(i$1.path),c$1.path.length--,d$1=eS;continue}c$1.username=i$1.username,c$1.password=i$1.password,c$1.host=i$1.host,c$1.port=i$1.port,c$1.path=Um(i$1.path),c$1.query=i$1.query,c$1.fragment=``,d$1=nS}break;case Wf:if(!c$1.isSpecial()||r$1!==`/`&&r$1!==`\\`){if(r$1!==`/`){c$1.username=i$1.username,c$1.password=i$1.password,c$1.host=i$1.host,c$1.port=i$1.port,d$1=eS;continue}d$1=Yf}else d$1=Kf;break;case Hf:if(d$1=Kf,r$1!==`/`||$m(u$1,l$1+1)!==`/`)continue;l$1++;break;case Kf:if(r$1!==`/`&&r$1!==`\\`){d$1=Yf;continue}break;case Yf:if(r$1===`@`){h$1&&(u$1=`%40`+u$1),h$1=!0,o$1=Mm(u$1);for(var E$1=0;E$1<o$1.length;E$1++){var m$1=o$1[E$1];if(m$1!==`:`||_$1){var f$1=Pf(m$1,Df);_$1?c$1.password+=f$1:c$1.username+=f$1}else _$1=!0}u$1=``}else if(r$1===bE||r$1===`/`||r$1===`?`||r$1===`#`||r$1===`\\`&&c$1.isSpecial()){if(h$1&&u$1===``)return`Invalid authority`;l$1-=Mm(u$1).length+1,u$1=``,d$1=zf}else u$1+=r$1;break;case zf:case qf:if(t$1&&c$1.scheme===`file`){d$1=Zf;continue}if(r$1!==`:`||p$1){if(r$1===bE||r$1===`/`||r$1===`?`||r$1===`#`||r$1===`\\`&&c$1.isSpecial()){if(c$1.isSpecial()&&u$1===``)return pf;if(t$1&&u$1===``&&(c$1.includesCredentials()||c$1.port!==null))return;if(s$1=c$1.parseHost(u$1))return s$1;if(u$1=``,d$1=$f,t$1)return;continue}r$1===`[`?p$1=!0:r$1===`]`&&(p$1=!1),u$1+=r$1}else{if(u$1===``)return pf;if(s$1=c$1.parseHost(u$1))return s$1;if(u$1=``,d$1=Xf,t$1===qf)return}break;case Xf:if(!ef(ff,r$1)){if(r$1===bE||r$1===`/`||r$1===`?`||r$1===`#`||r$1===`\\`&&c$1.isSpecial()||t$1){if(u$1!==``){var S$1=Jm(u$1,10);if(S$1>65535)return _f;c$1.port=c$1.isSpecial()&&S$1===Lf[c$1.scheme]?null:S$1,u$1=``}if(t$1)return;d$1=$f;continue}return _f}u$1+=r$1;break;case Jf:if(c$1.scheme=`file`,r$1===`/`||r$1===`\\`)d$1=Qf;else{if(!i$1||i$1.scheme!==`file`){d$1=eS;continue}switch(r$1){case bE:c$1.host=i$1.host,c$1.path=Um(i$1.path),c$1.query=i$1.query;break;case`?`:c$1.host=i$1.host,c$1.path=Um(i$1.path),c$1.query=``,d$1=iS;break;case`#`:c$1.host=i$1.host,c$1.path=Um(i$1.path),c$1.query=i$1.query,c$1.fragment=``,d$1=nS;break;default:Mf(tf(Um(n$1,l$1),``))||(c$1.host=i$1.host,c$1.path=Um(i$1.path),c$1.shortenPath()),d$1=eS;continue}}break;case Qf:if(r$1===`/`||r$1===`\\`){d$1=Zf;break}i$1&&i$1.scheme===`file`&&!Mf(tf(Um(n$1,l$1),``))&&(kf(i$1.path[0],!0)?of(c$1.path,i$1.path[0]):c$1.host=i$1.host),d$1=eS;continue;case Zf:if(r$1===bE||r$1===`/`||r$1===`\\`||r$1===`?`||r$1===`#`){if(!t$1&&kf(u$1))d$1=eS;else if(u$1===``){if(c$1.host=``,t$1)return;d$1=$f}else{if(s$1=c$1.parseHost(u$1))return s$1;if(c$1.host===`localhost`&&(c$1.host=``),t$1)return;u$1=``,d$1=$f}continue}u$1+=r$1;break;case $f:if(c$1.isSpecial()){if(d$1=eS,r$1!==`/`&&r$1!==`\\`)continue}else if(t$1||r$1!==`?`)if(t$1||r$1!==`#`){if(r$1!==bE&&(d$1=eS,r$1!==`/`))continue}else c$1.fragment=``,d$1=nS;else c$1.query=``,d$1=iS;break;case eS:if(r$1===bE||r$1===`/`||r$1===`\\`&&c$1.isSpecial()||!t$1&&(r$1===`?`||r$1===`#`)){if((a$1=lf(a$1=u$1))===`..`||a$1===`%2e.`||a$1===`.%2e`||a$1===`%2e%2e`?(c$1.shortenPath(),r$1===`/`||r$1===`\\`&&c$1.isSpecial()||of(c$1.path,``)):Uf(u$1)?r$1===`/`||r$1===`\\`&&c$1.isSpecial()||of(c$1.path,``):(c$1.scheme===`file`&&!c$1.path.length&&kf(u$1)&&(c$1.host&&=``,u$1=$m(u$1,0)+`:`),of(c$1.path,u$1)),u$1=``,c$1.scheme===`file`&&(r$1===bE||r$1===`?`||r$1===`#`))for(;c$1.path.length>1&&c$1.path[0]===``;)af(c$1.path);r$1===`?`?(c$1.query=``,d$1=iS):r$1===`#`&&(c$1.fragment=``,d$1=nS)}else u$1+=Pf(r$1,Nf);break;case tS:r$1===`?`?(c$1.query=``,d$1=iS):r$1===`#`?(c$1.fragment=``,d$1=nS):r$1!==bE&&(c$1.path[0]+=Pf(r$1,wf));break;case iS:t$1||r$1!==`#`?r$1!==bE&&(r$1===`'`&&c$1.isSpecial()?c$1.query+=`%27`:c$1.query+=r$1===`#`?`%23`:Pf(r$1,wf)):(c$1.fragment=``,d$1=nS);break;case nS:r$1!==bE&&(c$1.fragment+=Pf(r$1,Of))}l$1++}},parseHost:function(e$1){var t$1,i$1,n$1;if($m(e$1,0)===`[`){if($m(e$1,e$1.length-1)!==`]`||(t$1=function(e$2){var t$2,i$2,n$2,r$1,o$1,s$1,a$1,c$1=[0,0,0,0,0,0,0,0],d$1=0,l$1=null,u$1=0,h$1=function(){return $m(e$2,u$1)};if(h$1()===`:`){if($m(e$2,1)!==`:`)return;u$1+=2,l$1=++d$1}for(;h$1();){if(d$1===8)return;if(h$1()!==`:`){for(t$2=i$2=0;i$2<4&&ef(Rf,h$1());)t$2=16*t$2+Jm(h$1(),16),u$1++,i$2++;if(h$1()===`.`){if(i$2===0||(u$1-=i$2,d$1>6))return;for(n$2=0;h$1();){if(r$1=null,n$2>0){if(!(h$1()===`.`&&n$2<4))return;u$1++}if(!ef(ff,h$1()))return;for(;ef(ff,h$1());){if(o$1=Jm(h$1(),10),r$1===null)r$1=o$1;else{if(r$1===0)return;r$1=10*r$1+o$1}if(r$1>255)return;u$1++}c$1[d$1]=256*c$1[d$1]+r$1,++n$2!=2&&n$2!==4||d$1++}if(n$2!==4)return;break}if(h$1()===`:`){if(u$1++,!h$1())return}else if(h$1())return;c$1[d$1++]=t$2}else{if(l$1!==null)return;u$1++,l$1=++d$1}}if(l$1!==null)for(s$1=d$1-l$1,d$1=7;d$1!==0&&s$1>0;)a$1=c$1[d$1],c$1[d$1--]=c$1[l$1+s$1-1],c$1[l$1+--s$1]=a$1;else if(d$1!==8)return;return c$1}(df(e$1,1,-1)),!t$1))return pf;this.host=t$1}else if(this.isSpecial()){if(e$1=xm(e$1),ef(Cf,e$1)||(t$1=function(e$2){var t$2,i$2,n$2,r$1,o$1,s$1,a$1,c$1=cf(e$2,`.`);if(c$1.length&&c$1[c$1.length-1]===``&&c$1.length--,(t$2=c$1.length)>4)return e$2;for(i$2=[],n$2=0;n$2<t$2;n$2++){if((r$1=c$1[n$2])===``)return e$2;if(o$1=10,r$1.length>1&&$m(r$1,0)===`0`&&(o$1=ef(Sf,r$1)?16:8,r$1=df(r$1,o$1===8?1:2)),r$1===``)s$1=0;else{if(!ef(o$1===10?Tf:o$1===8?gf:Rf,r$1))return e$2;s$1=Jm(r$1,o$1)}of(i$2,s$1)}for(n$2=0;n$2<t$2;n$2++)if(s$1=i$2[n$2],n$2===t$2-1){if(s$1>=Zm(256,5-t$2))return null}else if(s$1>255)return null;for(a$1=rf(i$2),n$2=0;n$2<i$2.length;n$2++)a$1+=i$2[n$2]*Zm(256,3-n$2);return a$1}(e$1),t$1===null))return pf;this.host=t$1}else{if(ef(vf,e$1))return pf;for(t$1=``,i$1=Mm(e$1),n$1=0;n$1<i$1.length;n$1++)t$1+=Pf(i$1[n$1],wf);this.host=t$1}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme===`file`},includesCredentials:function(){return this.username!==``||this.password!==``},isSpecial:function(){return Lm(Lf,this.scheme)},shortenPath:function(){var e$1=this.path,t$1=e$1.length;!t$1||this.scheme===`file`&&t$1===1&&kf(e$1[0],!0)||e$1.length--},serialize:function(){var e$1=this,t$1=e$1.scheme,i$1=e$1.username,n$1=e$1.password,r$1=e$1.host,o$1=e$1.port,s$1=e$1.path,a$1=e$1.query,c$1=e$1.fragment,d$1=t$1+`:`;return r$1===null?t$1===`file`&&(d$1+=`//`):(d$1+=`//`,e$1.includesCredentials()&&(d$1+=i$1+(n$1?`:`+n$1:``)+`@`),d$1+=bf(r$1),o$1!==null&&(d$1+=`:`+o$1)),d$1+=e$1.cannotBeABaseURL?s$1[0]:s$1.length?`/`+tf(s$1,`/`):``,a$1!==null&&(d$1+=`?`+a$1),c$1!==null&&(d$1+=`#`+c$1),d$1},setHref:function(e$1){var t$1=this.parse(e$1);if(t$1)throw new Xm(t$1);this.searchParams.update()},getOrigin:function(){var e$1=this.scheme,t$1=this.port;if(e$1===`blob`)try{return new oS(e$1.path[0]).origin}catch{return`null`}return e$1!==`file`&&this.isSpecial()?e$1+`://`+bf(this.host)+(t$1===null?``:`:`+t$1):`null`},getProtocol:function(){return this.scheme+`:`},setProtocol:function(e$1){this.parse(Fm(e$1)+`:`,Vf)},getUsername:function(){return this.username},setUsername:function(e$1){var t$1=Mm(Fm(e$1));if(!this.cannotHaveUsernamePasswordPort()){this.username=``;for(var i$1=0;i$1<t$1.length;i$1++)this.username+=Pf(t$1[i$1],Df)}},getPassword:function(){return this.password},setPassword:function(e$1){var t$1=Mm(Fm(e$1));if(!this.cannotHaveUsernamePasswordPort()){this.password=``;for(var i$1=0;i$1<t$1.length;i$1++)this.password+=Pf(t$1[i$1],Df)}},getHost:function(){var e$1=this.host,t$1=this.port;return e$1===null?``:t$1===null?bf(e$1):bf(e$1)+`:`+t$1},setHost:function(e$1){this.cannotBeABaseURL||this.parse(e$1,zf)},getHostname:function(){var e$1=this.host;return e$1===null?``:bf(e$1)},setHostname:function(e$1){this.cannotBeABaseURL||this.parse(e$1,qf)},getPort:function(){var e$1=this.port;return e$1===null?``:Fm(e$1)},setPort:function(e$1){this.cannotHaveUsernamePasswordPort()||((e$1=Fm(e$1))===``?this.port=null:this.parse(e$1,Xf))},getPathname:function(){var e$1=this.path;return this.cannotBeABaseURL?e$1[0]:e$1.length?`/`+tf(e$1,`/`):``},setPathname:function(e$1){this.cannotBeABaseURL||(this.path=[],this.parse(e$1,$f))},getSearch:function(){var e$1=this.query;return e$1?`?`+e$1:``},setSearch:function(e$1){(e$1=Fm(e$1))===``?this.query=null:($m(e$1,0)===`?`&&(e$1=df(e$1,1)),this.query=``,this.parse(e$1,iS)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e$1=this.fragment;return e$1?`#`+e$1:``},setHash:function(e$1){(e$1=Fm(e$1))===``?this.fragment=null:($m(e$1,0)===`#`&&(e$1=df(e$1,1)),this.fragment=``,this.parse(e$1,nS))},update:function(){this.query=this.searchParams.serialize()||null}};var oS=function(e$1){var t$1=Pm(this,sS),n$1=Hm(t$1,new rS(e$1,!1,jm(arguments.length,1)>1?arguments[1]:void 0));Im||(t$1.href=n$1.serialize(),t$1.origin=n$1.getOrigin(),t$1.protocol=n$1.getProtocol(),t$1.username=n$1.getUsername(),t$1.password=n$1.getPassword(),t$1.host=n$1.getHost(),t$1.hostname=n$1.getHostname(),t$1.port=n$1.getPort(),t$1.pathname=n$1.getPathname(),t$1.search=n$1.getSearch(),t$1.searchParams=n$1.getSearchParams(),t$1.hash=n$1.getHash())},sS=oS.prototype,aS=function(e$1,t$1){return{get:function(){return Km(this)[e$1]()},set:t$1&&function(e$2){return Km(this)[t$1](e$2)},configurable:!0,enumerable:!0}};if(Im&&(Dm(sS,`href`,aS(`serialize`,`setHref`)),Dm(sS,`origin`,aS(`getOrigin`)),Dm(sS,`protocol`,aS(`getProtocol`,`setProtocol`)),Dm(sS,`username`,aS(`getUsername`,`setUsername`)),Dm(sS,`password`,aS(`getPassword`,`setPassword`)),Dm(sS,`host`,aS(`getHost`,`setHost`)),Dm(sS,`hostname`,aS(`getHostname`,`setHostname`)),Dm(sS,`port`,aS(`getPort`,`setPort`)),Dm(sS,`pathname`,aS(`getPathname`,`setPathname`)),Dm(sS,`search`,aS(`getSearch`,`setSearch`)),Dm(sS,`searchParams`,aS(`getSearchParams`)),Dm(sS,`hash`,aS(`getHash`,`setHash`))),Nm(sS,`toJSON`,(function(){return Km(this).serialize()}),{enumerable:!0}),Nm(sS,`toString`,(function(){return Km(this).serialize()}),{enumerable:!0}),qm){var cS=qm.createObjectURL,dS=qm.revokeObjectURL;cS&&Nm(oS,`createObjectURL`,wm(cS,qm)),dS&&Nm(oS,`revokeObjectURL`,wm(dS,qm))}Bm(oS,`URL`),ym({global:!0,constructor:!0,forced:!Am,sham:!Im},{URL:oS});var lS=Oi,uS=n,hS=cd,pS=Sn,_S=a_,ES=re(`URL`),mS=_S&&uS((function(){ES.canParse()})),fS=uS((function(){return ES.canParse.length!==1}));lS({target:`URL`,stat:!0,forced:!mS||fS},{canParse:function(e$1){var t$1=hS(arguments.length,1),i$1=pS(e$1),n$1=t$1<2||arguments[1]===void 0?void 0:pS(arguments[1]);try{return!!new ES(i$1,n$1)}catch{return!1}}});var SS=Oi,gS=cd,TS=Sn,RS=a_,CS=re(`URL`);SS({target:`URL`,stat:!0,forced:!RS},{parse:function(e$1){var t$1=gS(arguments.length,1),i$1=TS(e$1),n$1=t$1<2||arguments[1]===void 0?void 0:TS(arguments[1]);try{return new CS(i$1,n$1)}catch{return null}}});var vS=i($.URL);let yS=!0,IS=!0;function AS(e$1,t$1,i$1){let n$1=e$1.match(t$1);return n$1&&n$1.length>=i$1&&parseInt(n$1[i$1],10)}function bS(e$1,t$1,i$1){if(!e$1.RTCPeerConnection)return;let n$1=e$1.RTCPeerConnection.prototype,r$1=n$1.addEventListener;n$1.addEventListener=function(e$2,n$2){if(e$2!==t$1)return r$1.apply(this,arguments);let o$2=e$3=>{let t$2=i$1(e$3);t$2&&(n$2.handleEvent?n$2.handleEvent(t$2):n$2(t$2))};return this._eventMap=this._eventMap||{},this._eventMap[t$1]||(this._eventMap[t$1]=new Map),this._eventMap[t$1].set(n$2,o$2),r$1.apply(this,[e$2,o$2])};let o$1=n$1.removeEventListener;n$1.removeEventListener=function(e$2,i$2){if(e$2!==t$1||!this._eventMap||!this._eventMap[t$1]||!this._eventMap[t$1].has(i$2))return o$1.apply(this,arguments);let n$2=this._eventMap[t$1].get(i$2);return this._eventMap[t$1].delete(i$2),this._eventMap[t$1].size===0&&delete this._eventMap[t$1],Object.keys(this._eventMap).length===0&&delete this._eventMap,o$1.apply(this,[e$2,n$2])},Object.defineProperty(n$1,`on`+t$1,{get(){return this[`_on`+t$1]},set(e$2){this[`_on`+t$1]&&(this.removeEventListener(t$1,this[`_on`+t$1]),delete this[`_on`+t$1]),e$2&&this.addEventListener(t$1,this[`_on`+t$1]=e$2)},enumerable:!0,configurable:!0})}function wS(e$1){return typeof e$1==`boolean`?(yS=e$1,e$1?`adapter.js logging disabled`:`adapter.js logging enabled`):Error(`Argument type: `+typeof e$1+`. Please use a boolean.`)}function OS(e$1){return typeof e$1==`boolean`?(IS=!e$1,`adapter.js deprecation warnings `+(e$1?`disabled`:`enabled`)):Error(`Argument type: `+typeof e$1+`. Please use a boolean.`)}function NS(){if(typeof window==`object`){if(yS)return;typeof console<`u`&&typeof console.log==`function`&&console.log.apply(console,arguments)}}function DS(e$1,t$1){IS&&console.warn(e$1+` is deprecated, please use `+t$1+` instead.`)}function PS(e$1){return Object.prototype.toString.call(e$1)===`[object Object]`}function LS(e$1){var t$1;return PS(e$1)?nr(t$1=Object.keys(e$1)).call(t$1,(function(t$2,i$1){let n$1=PS(e$1[i$1]),r$1=n$1?LS(e$1[i$1]):e$1[i$1],o$1=n$1&&!Object.keys(r$1).length;return r$1===void 0||o$1?t$2:Object.assign(t$2,{[i$1]:r$1})}),{}):e$1}function kS(e$1,t$1,i$1){t$1&&!i$1.has(t$1.id)&&(i$1.set(t$1.id,t$1),Object.keys(t$1).forEach((n$1=>{n$1.endsWith(`Id`)?kS(e$1,e$1.get(t$1[n$1]),i$1):n$1.endsWith(`Ids`)&&t$1[n$1].forEach((t$2=>{kS(e$1,e$1.get(t$2),i$1)}))})))}function MS(e$1,t$1,i$1){let n$1=i$1?`outbound-rtp`:`inbound-rtp`,r$1=new Map;if(t$1===null)return r$1;let o$1=[];return e$1.forEach((e$2=>{e$2.type===`track`&&e$2.trackIdentifier===t$1.id&&o$1.push(e$2)})),o$1.forEach((t$2=>{e$1.forEach((i$2=>{i$2.type===n$1&&i$2.trackId===t$2.id&&kS(e$1,i$2,r$1)}))})),r$1}let US=NS;function VS(e$1,t$1){let i$1=e$1&&e$1.navigator;if(!i$1.mediaDevices)return;let n$1=function(e$2){if(typeof e$2!=`object`||e$2.mandatory||e$2.optional)return e$2;let t$2={};return Object.keys(e$2).forEach((i$2=>{if(i$2===`require`||i$2===`advanced`||i$2===`mediaSource`)return;let n$2=typeof e$2[i$2]==`object`?e$2[i$2]:{ideal:e$2[i$2]};n$2.exact!==void 0&&typeof n$2.exact==`number`&&(n$2.min=n$2.max=n$2.exact);let r$2=function(e$3,t$3){return e$3?e$3+t$3.charAt(0).toUpperCase()+t$3.slice(1):t$3===`deviceId`?`sourceId`:t$3};if(n$2.ideal!==void 0){t$2.optional=t$2.optional||[];let e$3={};typeof n$2.ideal==`number`?(e$3[r$2(`min`,i$2)]=n$2.ideal,t$2.optional.push(e$3),e$3={},e$3[r$2(`max`,i$2)]=n$2.ideal,t$2.optional.push(e$3)):(e$3[r$2(``,i$2)]=n$2.ideal,t$2.optional.push(e$3))}n$2.exact!==void 0&&typeof n$2.exact!=`number`?(t$2.mandatory=t$2.mandatory||{},t$2.mandatory[r$2(``,i$2)]=n$2.exact):[`min`,`max`].forEach((e$3=>{n$2[e$3]!==void 0&&(t$2.mandatory=t$2.mandatory||{},t$2.mandatory[r$2(e$3,i$2)]=n$2[e$3])}))})),e$2.advanced&&(t$2.optional=(t$2.optional||[]).concat(e$2.advanced)),t$2},r$1=function(e$2,r$2){if(t$1.version>=61)return r$2(e$2);if((e$2=JSON.parse(JSON.stringify(e$2)))&&typeof e$2.audio==`object`){let t$2=function(e$3,t$3,i$2){t$3 in e$3&&!(i$2 in e$3)&&(e$3[i$2]=e$3[t$3],delete e$3[t$3])};t$2((e$2=JSON.parse(JSON.stringify(e$2))).audio,`autoGainControl`,`googAutoGainControl`),t$2(e$2.audio,`noiseSuppression`,`googNoiseSuppression`),e$2.audio=n$1(e$2.audio)}if(e$2&&typeof e$2.video==`object`){let o$2=e$2.video.facingMode;o$2&&=typeof o$2==`object`?o$2:{ideal:o$2};let s$1=t$1.version<66;if(o$2&&(o$2.exact===`user`||o$2.exact===`environment`||o$2.ideal===`user`||o$2.ideal===`environment`)&&(!i$1.mediaDevices.getSupportedConstraints||!i$1.mediaDevices.getSupportedConstraints().facingMode||s$1)){let t$2;if(delete e$2.video.facingMode,o$2.exact===`environment`||o$2.ideal===`environment`?t$2=[`back`,`rear`]:o$2.exact!==`user`&&o$2.ideal!==`user`||(t$2=[`front`]),t$2)return i$1.mediaDevices.enumerateDevices().then((i$2=>{i$2=i$2.filter((e$3=>e$3.kind===`videoinput`));let s$2=i$2.find((e$3=>t$2.some((t$3=>{var i$3;return Ln(i$3=e$3.label.toLowerCase()).call(i$3,t$3)}))));return!s$2&&i$2.length&&Ln(t$2).call(t$2,`back`)&&(s$2=i$2[i$2.length-1]),s$2&&(e$2.video.deviceId=o$2.exact?{exact:s$2.deviceId}:{ideal:s$2.deviceId}),e$2.video=n$1(e$2.video),US(`chrome: `+JSON.stringify(e$2)),r$2(e$2)}))}e$2.video=n$1(e$2.video)}return US(`chrome: `+JSON.stringify(e$2)),r$2(e$2)},o$1=function(e$2){return t$1.version>=64?e$2:{name:{PermissionDeniedError:`NotAllowedError`,PermissionDismissedError:`NotAllowedError`,InvalidStateError:`NotAllowedError`,DevicesNotFoundError:`NotFoundError`,ConstraintNotSatisfiedError:`OverconstrainedError`,TrackStartError:`NotReadableError`,MediaDeviceFailedDueToShutdown:`NotAllowedError`,MediaDeviceKillSwitchOn:`NotAllowedError`,TabCaptureError:`AbortError`,ScreenCaptureError:`AbortError`,DeviceCaptureError:`AbortError`}[e$2.name]||e$2.name,message:e$2.message,constraint:e$2.constraint||e$2.constraintName,toString(){return this.name+(this.message&&`: `)+this.message}}};if(i$1.getUserMedia=function(e$2,t$2,n$2){r$1(e$2,(e$3=>{i$1.webkitGetUserMedia(e$3,t$2,(e$4=>{n$2&&n$2(o$1(e$4))}))}))}.bind(i$1),i$1.mediaDevices.getUserMedia){let e$2=i$1.mediaDevices.getUserMedia.bind(i$1.mediaDevices);i$1.mediaDevices.getUserMedia=function(t$2){return r$1(t$2,(t$3=>e$2(t$3).then((e$3=>{if(t$3.audio&&!e$3.getAudioTracks().length||t$3.video&&!e$3.getVideoTracks().length)throw e$3.getTracks().forEach((e$4=>{e$4.stop()})),new DOMException(``,`NotFoundError`);return e$3}),(e$3=>rp.reject(o$1(e$3))))))}}}function xS(e$1){e$1.MediaStream=e$1.MediaStream||e$1.webkitMediaStream}function FS(e$1){if(typeof e$1==`object`&&e$1.RTCPeerConnection&&!(`ontrack`in e$1.RTCPeerConnection.prototype)){Object.defineProperty(e$1.RTCPeerConnection.prototype,`ontrack`,{get(){return this._ontrack},set(e$2){this._ontrack&&this.removeEventListener(`track`,this._ontrack),this.addEventListener(`track`,this._ontrack=e$2)},enumerable:!0,configurable:!0});let t$1=e$1.RTCPeerConnection.prototype.setRemoteDescription;e$1.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t$2=>{t$2.stream.addEventListener(`addtrack`,(i$1=>{let n$1;n$1=e$1.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e$2=>e$2.track&&e$2.track.id===i$1.track.id)):{track:i$1.track};let r$1=new Event(`track`);r$1.track=i$1.track,r$1.receiver=n$1,r$1.transceiver={receiver:n$1},r$1.streams=[t$2.stream],this.dispatchEvent(r$1)})),t$2.stream.getTracks().forEach((i$1=>{let n$1;n$1=e$1.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e$2=>e$2.track&&e$2.track.id===i$1.id)):{track:i$1};let r$1=new Event(`track`);r$1.track=i$1,r$1.receiver=n$1,r$1.transceiver={receiver:n$1},r$1.streams=[t$2.stream],this.dispatchEvent(r$1)}))},this.addEventListener(`addstream`,this._ontrackpoly)),t$1.apply(this,arguments)}}else bS(e$1,`track`,(e$2=>(e$2.transceiver||Object.defineProperty(e$2,`transceiver`,{value:{receiver:e$2.receiver}}),e$2)))}function BS(e$1){if(typeof e$1==`object`&&e$1.RTCPeerConnection&&!(`getSenders`in e$1.RTCPeerConnection.prototype)&&`createDTMFSender`in e$1.RTCPeerConnection.prototype){let t$1=function(e$2,t$2){return{track:t$2,get dtmf(){return this._dtmf===void 0&&(t$2.kind===`audio`?this._dtmf=e$2.createDTMFSender(t$2):this._dtmf=null),this._dtmf},_pc:e$2}};if(!e$1.RTCPeerConnection.prototype.getSenders){e$1.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};let i$2=e$1.RTCPeerConnection.prototype.addTrack;e$1.RTCPeerConnection.prototype.addTrack=function(e$2,n$3){let r$1=i$2.apply(this,arguments);return r$1||(r$1=t$1(this,e$2),this._senders.push(r$1)),r$1};let n$2=e$1.RTCPeerConnection.prototype.removeTrack;e$1.RTCPeerConnection.prototype.removeTrack=function(e$2){n$2.apply(this,arguments);let t$2=this._senders.indexOf(e$2);t$2!==-1&&this._senders.splice(t$2,1)}}let i$1=e$1.RTCPeerConnection.prototype.addStream;e$1.RTCPeerConnection.prototype.addStream=function(e$2){this._senders=this._senders||[],i$1.apply(this,[e$2]),e$2.getTracks().forEach((e$3=>{this._senders.push(t$1(this,e$3))}))};let n$1=e$1.RTCPeerConnection.prototype.removeStream;e$1.RTCPeerConnection.prototype.removeStream=function(e$2){this._senders=this._senders||[],n$1.apply(this,[e$2]),e$2.getTracks().forEach((e$3=>{let t$2=this._senders.find((t$3=>t$3.track===e$3));t$2&&this._senders.splice(this._senders.indexOf(t$2),1)}))}}else if(typeof e$1==`object`&&e$1.RTCPeerConnection&&`getSenders`in e$1.RTCPeerConnection.prototype&&`createDTMFSender`in e$1.RTCPeerConnection.prototype&&e$1.RTCRtpSender&&!(`dtmf`in e$1.RTCRtpSender.prototype)){let t$1=e$1.RTCPeerConnection.prototype.getSenders;e$1.RTCPeerConnection.prototype.getSenders=function(){let e$2=t$1.apply(this,[]);return e$2.forEach((e$3=>e$3._pc=this)),e$2},Object.defineProperty(e$1.RTCRtpSender.prototype,`dtmf`,{get(){return this._dtmf===void 0&&(this.track.kind===`audio`?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function jS(e$1){if(!e$1.RTCPeerConnection)return;let t$1=e$1.RTCPeerConnection.prototype.getStats;e$1.RTCPeerConnection.prototype.getStats=function(){let[e$2,i$1,n$1]=arguments;if(arguments.length>0&&typeof e$2==`function`)return t$1.apply(this,arguments);if(t$1.length===0&&(arguments.length===0||typeof e$2!=`function`))return t$1.apply(this,[]);let r$1=function(e$3){let t$2={};return e$3.result().forEach((e$4=>{let i$2={id:e$4.id,timestamp:e$4.timestamp,type:{localcandidate:`local-candidate`,remotecandidate:`remote-candidate`}[e$4.type]||e$4.type};e$4.names().forEach((t$3=>{i$2[t$3]=e$4.stat(t$3)})),t$2[i$2.id]=i$2})),t$2},o$1=function(e$3){return new Map(Object.keys(e$3).map((t$2=>[t$2,e$3[t$2]])))};return arguments.length>=2?t$1.apply(this,[function(e$3){i$1(o$1(r$1(e$3)))},e$2]):new rp(((e$3,i$2)=>{t$1.apply(this,[function(t$2){e$3(o$1(r$1(t$2)))},i$2])})).then(i$1,n$1)}}function GS(e$1){if(!(typeof e$1==`object`&&e$1.RTCPeerConnection&&e$1.RTCRtpSender&&e$1.RTCRtpReceiver))return;if(!(`getStats`in e$1.RTCRtpSender.prototype)){let t$2=e$1.RTCPeerConnection.prototype.getSenders;t$2&&(e$1.RTCPeerConnection.prototype.getSenders=function(){let e$2=t$2.apply(this,[]);return e$2.forEach((e$3=>e$3._pc=this)),e$2});let i$1=e$1.RTCPeerConnection.prototype.addTrack;i$1&&(e$1.RTCPeerConnection.prototype.addTrack=function(){let e$2=i$1.apply(this,arguments);return e$2._pc=this,e$2}),e$1.RTCRtpSender.prototype.getStats=function(){let e$2=this;return this._pc.getStats().then((t$3=>MS(t$3,e$2.track,!0)))}}if(!(`getStats`in e$1.RTCRtpReceiver.prototype)){let t$2=e$1.RTCPeerConnection.prototype.getReceivers;t$2&&(e$1.RTCPeerConnection.prototype.getReceivers=function(){let e$2=t$2.apply(this,[]);return e$2.forEach((e$3=>e$3._pc=this)),e$2}),bS(e$1,`track`,(e$2=>(e$2.receiver._pc=e$2.srcElement,e$2))),e$1.RTCRtpReceiver.prototype.getStats=function(){let e$2=this;return this._pc.getStats().then((t$3=>MS(t$3,e$2.track,!1)))}}if(!(`getStats`in e$1.RTCRtpSender.prototype)||!(`getStats`in e$1.RTCRtpReceiver.prototype))return;let t$1=e$1.RTCPeerConnection.prototype.getStats;e$1.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e$1.MediaStreamTrack){let e$2=arguments[0],t$2,i$1,n$1;return this.getSenders().forEach((i$2=>{i$2.track===e$2&&(t$2?n$1=!0:t$2=i$2)})),this.getReceivers().forEach((t$3=>(t$3.track===e$2&&(i$1?n$1=!0:i$1=t$3),t$3.track===e$2))),n$1||t$2&&i$1?rp.reject(new DOMException(`There are more than one sender or receiver for the track.`,`InvalidAccessError`)):t$2?t$2.getStats():i$1?i$1.getStats():rp.reject(new DOMException(`There is no sender or receiver for the track.`,`InvalidAccessError`))}return t$1.apply(this,arguments)}}function WS(e$1){e$1.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((e$2=>this._shimmedLocalStreams[e$2][0]))};let t$1=e$1.RTCPeerConnection.prototype.addTrack;e$1.RTCPeerConnection.prototype.addTrack=function(e$2,i$2){if(!i$2)return t$1.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};let n$2=t$1.apply(this,arguments);return this._shimmedLocalStreams[i$2.id]?this._shimmedLocalStreams[i$2.id].indexOf(n$2)===-1&&this._shimmedLocalStreams[i$2.id].push(n$2):this._shimmedLocalStreams[i$2.id]=[i$2,n$2],n$2};let i$1=e$1.RTCPeerConnection.prototype.addStream;e$1.RTCPeerConnection.prototype.addStream=function(e$2){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e$2.getTracks().forEach((e$3=>{if(this.getSenders().find((t$3=>t$3.track===e$3)))throw new DOMException(`Track already exists.`,`InvalidAccessError`)}));let t$2=this.getSenders();i$1.apply(this,arguments);let n$2=this.getSenders().filter((e$3=>t$2.indexOf(e$3)===-1));this._shimmedLocalStreams[e$2.id]=[e$2].concat(n$2)};let n$1=e$1.RTCPeerConnection.prototype.removeStream;e$1.RTCPeerConnection.prototype.removeStream=function(e$2){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e$2.id],n$1.apply(this,arguments)};let r$1=e$1.RTCPeerConnection.prototype.removeTrack;e$1.RTCPeerConnection.prototype.removeTrack=function(e$2){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e$2&&Object.keys(this._shimmedLocalStreams).forEach((t$2=>{let i$2=this._shimmedLocalStreams[t$2].indexOf(e$2);i$2!==-1&&this._shimmedLocalStreams[t$2].splice(i$2,1),this._shimmedLocalStreams[t$2].length===1&&delete this._shimmedLocalStreams[t$2]})),r$1.apply(this,arguments)}}function HS(e$1,t$1){if(!e$1.RTCPeerConnection)return;if(e$1.RTCPeerConnection.prototype.addTrack&&t$1.version>=65)return WS(e$1);let i$1=e$1.RTCPeerConnection.prototype.getLocalStreams;e$1.RTCPeerConnection.prototype.getLocalStreams=function(){let e$2=i$1.apply(this);return this._reverseStreams=this._reverseStreams||{},e$2.map((e$3=>this._reverseStreams[e$3.id]))};let n$1=e$1.RTCPeerConnection.prototype.addStream;e$1.RTCPeerConnection.prototype.addStream=function(t$2){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t$2.getTracks().forEach((e$2=>{if(this.getSenders().find((t$3=>t$3.track===e$2)))throw new DOMException(`Track already exists.`,`InvalidAccessError`)})),!this._reverseStreams[t$2.id]){let i$2=new e$1.MediaStream(t$2.getTracks());this._streams[t$2.id]=i$2,this._reverseStreams[i$2.id]=t$2,t$2=i$2}n$1.apply(this,[t$2])};let r$1=e$1.RTCPeerConnection.prototype.removeStream;function o$1(e$2,t$2){let i$2=t$2.sdp;return Object.keys(e$2._reverseStreams||[]).forEach((t$3=>{let n$2=e$2._reverseStreams[t$3],r$2=e$2._streams[n$2.id];i$2=i$2.replace(new RegExp(r$2.id,`g`),n$2.id)})),new RTCSessionDescription({type:t$2.type,sdp:i$2})}e$1.RTCPeerConnection.prototype.removeStream=function(e$2){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},r$1.apply(this,[this._streams[e$2.id]||e$2]),delete this._reverseStreams[this._streams[e$2.id]?this._streams[e$2.id].id:e$2.id],delete this._streams[e$2.id]},e$1.RTCPeerConnection.prototype.addTrack=function(t$2,i$2){if(this.signalingState===`closed`)throw new DOMException(`The RTCPeerConnection's signalingState is 'closed'.`,`InvalidStateError`);let n$2=[].slice.call(arguments,1);if(n$2.length!==1||!n$2[0].getTracks().find((e$2=>e$2===t$2)))throw new DOMException(`The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.`,`NotSupportedError`);if(this.getSenders().find((e$2=>e$2.track===t$2)))throw new DOMException(`Track already exists.`,`InvalidAccessError`);this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};let o$2=this._streams[i$2.id];if(o$2)o$2.addTrack(t$2),rp.resolve().then((()=>{this.dispatchEvent(new Event(`negotiationneeded`))}));else{let n$3=new e$1.MediaStream([t$2]);this._streams[i$2.id]=n$3,this._reverseStreams[n$3.id]=i$2,this.addStream(n$3)}return this.getSenders().find((e$2=>e$2.track===t$2))},[`createOffer`,`createAnswer`].forEach((function(t$2){let i$2=e$1.RTCPeerConnection.prototype[t$2],n$2={[t$2](){let e$2=arguments;return arguments.length&&typeof arguments[0]==`function`?i$2.apply(this,[t$3=>{let i$3=o$1(this,t$3);e$2[0].apply(null,[i$3])},t$3=>{e$2[1]&&e$2[1].apply(null,t$3)},arguments[2]]):i$2.apply(this,arguments).then((e$3=>o$1(this,e$3)))}};e$1.RTCPeerConnection.prototype[t$2]=n$2[t$2]}));let s$1=e$1.RTCPeerConnection.prototype.setLocalDescription;e$1.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type&&(arguments[0]=function(e$2,t$2){let i$2=t$2.sdp;return Object.keys(e$2._reverseStreams||[]).forEach((t$3=>{let n$2=e$2._reverseStreams[t$3],r$2=e$2._streams[n$2.id];i$2=i$2.replace(new RegExp(n$2.id,`g`),r$2.id)})),new RTCSessionDescription({type:t$2.type,sdp:i$2})}(this,arguments[0])),s$1.apply(this,arguments)};let a$1=Object.getOwnPropertyDescriptor(e$1.RTCPeerConnection.prototype,`localDescription`);Object.defineProperty(e$1.RTCPeerConnection.prototype,`localDescription`,{get(){let e$2=a$1.get.apply(this);return e$2.type===``?e$2:o$1(this,e$2)}}),e$1.RTCPeerConnection.prototype.removeTrack=function(e$2){if(this.signalingState===`closed`)throw new DOMException(`The RTCPeerConnection's signalingState is 'closed'.`,`InvalidStateError`);if(!e$2._pc)throw new DOMException(`Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.`,`TypeError`);if(e$2._pc!==this)throw new DOMException(`Sender was not created by this connection.`,`InvalidAccessError`);let t$2;this._streams=this._streams||{},Object.keys(this._streams).forEach((i$2=>{this._streams[i$2].getTracks().find((t$3=>e$2.track===t$3))&&(t$2=this._streams[i$2])})),t$2&&(t$2.getTracks().length===1?this.removeStream(this._reverseStreams[t$2.id]):t$2.removeTrack(e$2.track),this.dispatchEvent(new Event(`negotiationneeded`)))}}function KS(e$1,t$1){!e$1.RTCPeerConnection&&e$1.webkitRTCPeerConnection&&(e$1.RTCPeerConnection=e$1.webkitRTCPeerConnection),e$1.RTCPeerConnection&&t$1.version<53&&[`setLocalDescription`,`setRemoteDescription`,`addIceCandidate`].forEach((function(t$2){let i$1=e$1.RTCPeerConnection.prototype[t$2],n$1={[t$2](){return arguments[0]=new(t$2===`addIceCandidate`?e$1.RTCIceCandidate:e$1.RTCSessionDescription)(arguments[0]),i$1.apply(this,arguments)}};e$1.RTCPeerConnection.prototype[t$2]=n$1[t$2]}))}function YS(e$1,t$1){bS(e$1,`negotiationneeded`,(e$2=>{let i$1=e$2.target;if(!(t$1.version<72||i$1.getConfiguration&&i$1.getConfiguration().sdpSemantics===`plan-b`)||i$1.signalingState===`stable`)return e$2}))}var zS=Object.freeze({__proto__:null,fixNegotiationNeeded:YS,shimAddTrackRemoveTrack:HS,shimAddTrackRemoveTrackWithNative:WS,shimGetDisplayMedia:function(e$1,t$1){e$1.navigator.mediaDevices&&`getDisplayMedia`in e$1.navigator.mediaDevices||e$1.navigator.mediaDevices&&(typeof t$1==`function`?e$1.navigator.mediaDevices.getDisplayMedia=function(i$1){return t$1(i$1).then((t$2=>{let n$1=i$1.video&&i$1.video.width,r$1=i$1.video&&i$1.video.height;return i$1.video={mandatory:{chromeMediaSource:`desktop`,chromeMediaSourceId:t$2,maxFrameRate:i$1.video&&i$1.video.frameRate||3}},n$1&&(i$1.video.mandatory.maxWidth=n$1),r$1&&(i$1.video.mandatory.maxHeight=r$1),e$1.navigator.mediaDevices.getUserMedia(i$1)}))}:console.error(`shimGetDisplayMedia: getSourceId argument is not a function`))},shimGetSendersWithDtmf:BS,shimGetStats:jS,shimGetUserMedia:VS,shimMediaStream:xS,shimOnTrack:FS,shimPeerConnection:KS,shimSenderReceiverGetStats:GS});function qS(e$1,t$1){let i$1=e$1&&e$1.navigator,n$1=e$1&&e$1.MediaStreamTrack;if(i$1.getUserMedia=function(e$2,t$2,n$2){DS(`navigator.getUserMedia`,`navigator.mediaDevices.getUserMedia`),i$1.mediaDevices.getUserMedia(e$2).then(t$2,n$2)},!(t$1.version>55&&`autoGainControl`in i$1.mediaDevices.getSupportedConstraints())){let e$2=function(e$3,t$3,i$2){t$3 in e$3&&!(i$2 in e$3)&&(e$3[i$2]=e$3[t$3],delete e$3[t$3])},t$2=i$1.mediaDevices.getUserMedia.bind(i$1.mediaDevices);if(i$1.mediaDevices.getUserMedia=function(i$2){return typeof i$2==`object`&&typeof i$2.audio==`object`&&(i$2=JSON.parse(JSON.stringify(i$2)),e$2(i$2.audio,`autoGainControl`,`mozAutoGainControl`),e$2(i$2.audio,`noiseSuppression`,`mozNoiseSuppression`)),t$2(i$2)},n$1&&n$1.prototype.getSettings){let t$3=n$1.prototype.getSettings;n$1.prototype.getSettings=function(){let i$2=t$3.apply(this,arguments);return e$2(i$2,`mozAutoGainControl`,`autoGainControl`),e$2(i$2,`mozNoiseSuppression`,`noiseSuppression`),i$2}}if(n$1&&n$1.prototype.applyConstraints){let t$3=n$1.prototype.applyConstraints;n$1.prototype.applyConstraints=function(i$2){return this.kind===`audio`&&typeof i$2==`object`&&(i$2=JSON.parse(JSON.stringify(i$2)),e$2(i$2,`autoGainControl`,`mozAutoGainControl`),e$2(i$2,`noiseSuppression`,`mozNoiseSuppression`)),t$3.apply(this,[i$2])}}}}function XS(e$1){typeof e$1==`object`&&e$1.RTCTrackEvent&&`receiver`in e$1.RTCTrackEvent.prototype&&!(`transceiver`in e$1.RTCTrackEvent.prototype)&&Object.defineProperty(e$1.RTCTrackEvent.prototype,`transceiver`,{get(){return{receiver:this.receiver}}})}function JS(e$1,t$1){if(typeof e$1!=`object`||!e$1.RTCPeerConnection&&!e$1.mozRTCPeerConnection)return;!e$1.RTCPeerConnection&&e$1.mozRTCPeerConnection&&(e$1.RTCPeerConnection=e$1.mozRTCPeerConnection),t$1.version<53&&[`setLocalDescription`,`setRemoteDescription`,`addIceCandidate`].forEach((function(t$2){let i$2=e$1.RTCPeerConnection.prototype[t$2],n$2={[t$2](){return arguments[0]=new(t$2===`addIceCandidate`?e$1.RTCIceCandidate:e$1.RTCSessionDescription)(arguments[0]),i$2.apply(this,arguments)}};e$1.RTCPeerConnection.prototype[t$2]=n$2[t$2]}));let i$1={inboundrtp:`inbound-rtp`,outboundrtp:`outbound-rtp`,candidatepair:`candidate-pair`,localcandidate:`local-candidate`,remotecandidate:`remote-candidate`},n$1=e$1.RTCPeerConnection.prototype.getStats;e$1.RTCPeerConnection.prototype.getStats=function(){let[e$2,r$1,o$1]=arguments;return n$1.apply(this,[e$2||null]).then((e$3=>{if(t$1.version<53&&!r$1)try{e$3.forEach((e$4=>{e$4.type=i$1[e$4.type]||e$4.type}))}catch(t$2){if(t$2.name!==`TypeError`)throw t$2;e$3.forEach(((t$3,n$2)=>{e$3.set(n$2,Object.assign({},t$3,{type:i$1[t$3.type]||t$3.type}))}))}return e$3})).then(r$1,o$1)}}function QS(e$1){if(typeof e$1!=`object`||!e$1.RTCPeerConnection||!e$1.RTCRtpSender||e$1.RTCRtpSender&&`getStats`in e$1.RTCRtpSender.prototype)return;let t$1=e$1.RTCPeerConnection.prototype.getSenders;t$1&&(e$1.RTCPeerConnection.prototype.getSenders=function(){let e$2=t$1.apply(this,[]);return e$2.forEach((e$3=>e$3._pc=this)),e$2});let i$1=e$1.RTCPeerConnection.prototype.addTrack;i$1&&(e$1.RTCPeerConnection.prototype.addTrack=function(){let e$2=i$1.apply(this,arguments);return e$2._pc=this,e$2}),e$1.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):rp.resolve(new Map)}}function ZS(e$1){if(typeof e$1!=`object`||!e$1.RTCPeerConnection||!e$1.RTCRtpSender||e$1.RTCRtpSender&&`getStats`in e$1.RTCRtpReceiver.prototype)return;let t$1=e$1.RTCPeerConnection.prototype.getReceivers;t$1&&(e$1.RTCPeerConnection.prototype.getReceivers=function(){let e$2=t$1.apply(this,[]);return e$2.forEach((e$3=>e$3._pc=this)),e$2}),bS(e$1,`track`,(e$2=>(e$2.receiver._pc=e$2.srcElement,e$2))),e$1.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function $S(e$1){e$1.RTCPeerConnection&&!(`removeStream`in e$1.RTCPeerConnection.prototype)&&(e$1.RTCPeerConnection.prototype.removeStream=function(e$2){DS(`removeStream`,`removeTrack`),this.getSenders().forEach((t$1=>{var i$1;t$1.track&&Ln(i$1=e$2.getTracks()).call(i$1,t$1.track)&&this.removeTrack(t$1)}))})}function eg(e$1){e$1.DataChannel&&!e$1.RTCDataChannel&&(e$1.RTCDataChannel=e$1.DataChannel)}function tg(e$1){if(typeof e$1!=`object`||!e$1.RTCPeerConnection)return;let t$1=e$1.RTCPeerConnection.prototype.addTransceiver;t$1&&(e$1.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let e$2=arguments[1]&&arguments[1].sendEncodings;e$2===void 0&&(e$2=[]),e$2=[...e$2];let i$1=e$2.length>0;i$1&&e$2.forEach((e$3=>{if(`rid`in e$3&&!/^[a-z0-9]{0,16}$/i.test(e$3.rid))throw TypeError(`Invalid RID value provided.`);if(`scaleResolutionDownBy`in e$3&&!(parseFloat(e$3.scaleResolutionDownBy)>=1))throw RangeError(`scale_resolution_down_by must be >= 1.0`);if(`maxFramerate`in e$3&&!(parseFloat(e$3.maxFramerate)>=0))throw RangeError(`max_framerate must be >= 0.0`)}));let n$1=t$1.apply(this,arguments);if(i$1){let{sender:t$2}=n$1,i$2=t$2.getParameters();(!(`encodings`in i$2)||i$2.encodings.length===1&&Object.keys(i$2.encodings[0]).length===0)&&(i$2.encodings=e$2,t$2.sendEncodings=e$2,this.setParametersPromises.push(t$2.setParameters(i$2).then((()=>{delete t$2.sendEncodings})).catch((()=>{delete t$2.sendEncodings}))))}return n$1})}function ig(e$1){if(typeof e$1!=`object`||!e$1.RTCRtpSender)return;let t$1=e$1.RTCRtpSender.prototype.getParameters;t$1&&(e$1.RTCRtpSender.prototype.getParameters=function(){let e$2=t$1.apply(this,arguments);return`encodings`in e$2||(e$2.encodings=[].concat(this.sendEncodings||[{}])),e$2})}function ng(e$1){if(typeof e$1!=`object`||!e$1.RTCPeerConnection)return;let t$1=e$1.RTCPeerConnection.prototype.createOffer;e$1.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?rp.all(this.setParametersPromises).then((()=>t$1.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t$1.apply(this,arguments)}}function rg(e$1){if(typeof e$1!=`object`||!e$1.RTCPeerConnection)return;let t$1=e$1.RTCPeerConnection.prototype.createAnswer;e$1.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?rp.all(this.setParametersPromises).then((()=>t$1.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t$1.apply(this,arguments)}}var og=Object.freeze({__proto__:null,shimAddTransceiver:tg,shimCreateAnswer:rg,shimCreateOffer:ng,shimGetDisplayMedia:function(e$1,t$1){e$1.navigator.mediaDevices&&`getDisplayMedia`in e$1.navigator.mediaDevices||e$1.navigator.mediaDevices&&(e$1.navigator.mediaDevices.getDisplayMedia=function(i$1){if(!i$1||!i$1.video){let e$2=new DOMException(`getDisplayMedia without video constraints is undefined`);return e$2.name=`NotFoundError`,e$2.code=8,rp.reject(e$2)}return!0===i$1.video?i$1.video={mediaSource:t$1}:i$1.video.mediaSource=t$1,e$1.navigator.mediaDevices.getUserMedia(i$1)})},shimGetParameters:ig,shimGetUserMedia:qS,shimOnTrack:XS,shimPeerConnection:JS,shimRTCDataChannel:eg,shimReceiverGetStats:ZS,shimRemoveStream:$S,shimSenderGetStats:QS});function sg(e$1){if(typeof e$1==`object`&&e$1.RTCPeerConnection){if(`getLocalStreams`in e$1.RTCPeerConnection.prototype||(e$1.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||=[],this._localStreams}),!(`addStream`in e$1.RTCPeerConnection.prototype)){let t$1=e$1.RTCPeerConnection.prototype.addTrack;e$1.RTCPeerConnection.prototype.addStream=function(e$2){var i$1;this._localStreams||=[],Ln(i$1=this._localStreams).call(i$1,e$2)||this._localStreams.push(e$2),e$2.getAudioTracks().forEach((i$2=>t$1.call(this,i$2,e$2))),e$2.getVideoTracks().forEach((i$2=>t$1.call(this,i$2,e$2)))},e$1.RTCPeerConnection.prototype.addTrack=function(e$2){var n$1=[...arguments].slice(1);return n$1&&n$1.forEach((e$3=>{var t$2;this._localStreams?Ln(t$2=this._localStreams).call(t$2,e$3)||this._localStreams.push(e$3):this._localStreams=[e$3]})),t$1.apply(this,arguments)}}`removeStream`in e$1.RTCPeerConnection.prototype||(e$1.RTCPeerConnection.prototype.removeStream=function(e$2){this._localStreams||=[];let t$1=this._localStreams.indexOf(e$2);if(t$1===-1)return;this._localStreams.splice(t$1,1);let i$1=e$2.getTracks();this.getSenders().forEach((e$3=>{Ln(i$1).call(i$1,e$3.track)&&this.removeTrack(e$3)}))})}}function ag(e$1){if(typeof e$1==`object`&&e$1.RTCPeerConnection&&(`getRemoteStreams`in e$1.RTCPeerConnection.prototype||(e$1.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!(`onaddstream`in e$1.RTCPeerConnection.prototype))){Object.defineProperty(e$1.RTCPeerConnection.prototype,`onaddstream`,{get(){return this._onaddstream},set(e$2){this._onaddstream&&(this.removeEventListener(`addstream`,this._onaddstream),this.removeEventListener(`track`,this._onaddstreampoly)),this.addEventListener(`addstream`,this._onaddstream=e$2),this.addEventListener(`track`,this._onaddstreampoly=e$3=>{e$3.streams.forEach((e$4=>{var t$2;if(this._remoteStreams||=[],Ln(t$2=this._remoteStreams).call(t$2,e$4))return;this._remoteStreams.push(e$4);let i$1=new Event(`addstream`);i$1.stream=e$4,this.dispatchEvent(i$1)}))})}});let t$1=e$1.RTCPeerConnection.prototype.setRemoteDescription;e$1.RTCPeerConnection.prototype.setRemoteDescription=function(){let e$2=this;return this._onaddstreampoly||this.addEventListener(`track`,this._onaddstreampoly=function(t$2){t$2.streams.forEach((t$3=>{if(e$2._remoteStreams||=[],e$2._remoteStreams.indexOf(t$3)>=0)return;e$2._remoteStreams.push(t$3);let i$1=new Event(`addstream`);i$1.stream=t$3,e$2.dispatchEvent(i$1)}))}),t$1.apply(e$2,arguments)}}}function cg(e$1){if(typeof e$1!=`object`||!e$1.RTCPeerConnection)return;let t$1=e$1.RTCPeerConnection.prototype,i$1=t$1.createOffer,n$1=t$1.createAnswer,r$1=t$1.setLocalDescription,o$1=t$1.setRemoteDescription,s$1=t$1.addIceCandidate;t$1.createOffer=function(e$2,t$2){let n$2=arguments.length>=2?arguments[2]:arguments[0],r$2=i$1.apply(this,[n$2]);return t$2?(r$2.then(e$2,t$2),rp.resolve()):r$2},t$1.createAnswer=function(e$2,t$2){let i$2=arguments.length>=2?arguments[2]:arguments[0],r$2=n$1.apply(this,[i$2]);return t$2?(r$2.then(e$2,t$2),rp.resolve()):r$2};let a$1=function(e$2,t$2,i$2){let n$2=r$1.apply(this,[e$2]);return i$2?(n$2.then(t$2,i$2),rp.resolve()):n$2};t$1.setLocalDescription=a$1,a$1=function(e$2,t$2,i$2){let n$2=o$1.apply(this,[e$2]);return i$2?(n$2.then(t$2,i$2),rp.resolve()):n$2},t$1.setRemoteDescription=a$1,a$1=function(e$2,t$2,i$2){let n$2=s$1.apply(this,[e$2]);return i$2?(n$2.then(t$2,i$2),rp.resolve()):n$2},t$1.addIceCandidate=a$1}function dg(e$1){let t$1=e$1&&e$1.navigator;if(t$1.mediaDevices&&t$1.mediaDevices.getUserMedia){let e$2=t$1.mediaDevices,i$1=e$2.getUserMedia.bind(e$2);t$1.mediaDevices.getUserMedia=e$3=>i$1(lg(e$3))}!t$1.getUserMedia&&t$1.mediaDevices&&t$1.mediaDevices.getUserMedia&&(t$1.getUserMedia=function(e$2,i$1,n$1){t$1.mediaDevices.getUserMedia(e$2).then(i$1,n$1)}.bind(t$1))}function lg(e$1){return e$1&&e$1.video!==void 0?Object.assign({},e$1,{video:LS(e$1.video)}):e$1}function ug(e$1){if(!e$1.RTCPeerConnection)return;let t$1=e$1.RTCPeerConnection;e$1.RTCPeerConnection=function(e$2,i$1){if(e$2&&e$2.iceServers){let t$2=[];for(let i$2=0;i$2<e$2.iceServers.length;i$2++){let n$1=e$2.iceServers[i$2];!n$1.hasOwnProperty(`urls`)&&n$1.hasOwnProperty(`url`)?(DS(`RTCIceServer.url`,`RTCIceServer.urls`),n$1=JSON.parse(JSON.stringify(n$1)),n$1.urls=n$1.url,delete n$1.url,t$2.push(n$1)):t$2.push(e$2.iceServers[i$2])}e$2.iceServers=t$2}return new t$1(e$2,i$1)},e$1.RTCPeerConnection.prototype=t$1.prototype,`generateCertificate`in t$1&&Object.defineProperty(e$1.RTCPeerConnection,`generateCertificate`,{get:()=>t$1.generateCertificate})}function hg(e$1){typeof e$1==`object`&&e$1.RTCTrackEvent&&`receiver`in e$1.RTCTrackEvent.prototype&&!(`transceiver`in e$1.RTCTrackEvent.prototype)&&Object.defineProperty(e$1.RTCTrackEvent.prototype,`transceiver`,{get(){return{receiver:this.receiver}}})}function pg(e$1){let t$1=e$1.RTCPeerConnection.prototype.createOffer;e$1.RTCPeerConnection.prototype.createOffer=function(e$2){if(e$2){e$2.offerToReceiveAudio!==void 0&&(e$2.offerToReceiveAudio=!!e$2.offerToReceiveAudio);let t$2=this.getTransceivers().find((e$3=>e$3.receiver.track.kind===`audio`));!1===e$2.offerToReceiveAudio&&t$2?t$2.direction===`sendrecv`?t$2.setDirection?t$2.setDirection(`sendonly`):t$2.direction=`sendonly`:t$2.direction===`recvonly`&&(t$2.setDirection?t$2.setDirection(`inactive`):t$2.direction=`inactive`):!0!==e$2.offerToReceiveAudio||t$2||this.addTransceiver(`audio`,{direction:`recvonly`}),e$2.offerToReceiveVideo!==void 0&&(e$2.offerToReceiveVideo=!!e$2.offerToReceiveVideo);let i$1=this.getTransceivers().find((e$3=>e$3.receiver.track.kind===`video`));!1===e$2.offerToReceiveVideo&&i$1?i$1.direction===`sendrecv`?i$1.setDirection?i$1.setDirection(`sendonly`):i$1.direction=`sendonly`:i$1.direction===`recvonly`&&(i$1.setDirection?i$1.setDirection(`inactive`):i$1.direction=`inactive`):!0!==e$2.offerToReceiveVideo||i$1||this.addTransceiver(`video`,{direction:`recvonly`})}return t$1.apply(this,arguments)}}function _g(e$1){typeof e$1!=`object`||e$1.AudioContext||(e$1.AudioContext=e$1.webkitAudioContext)}var Eg=Object.freeze({__proto__:null,shimAudioContext:_g,shimCallbacksAPI:cg,shimConstraints:lg,shimCreateOfferLegacy:pg,shimGetUserMedia:dg,shimLocalStreamsAPI:sg,shimRTCIceServerUrls:ug,shimRemoteStreamsAPI:ag,shimTrackEventTransceiver:hg}),mg=`	
\v\f\r \xA0              　\u2028\u2029﻿`,fg=z,Sg=Sn,gg=mg,Tg=d(``.replace),Rg=RegExp(`^[`+gg+`]+`),Cg=RegExp(`(^|[^`+gg+`])[`+gg+`]+$`),vg=function(e$1){return function(t$1){var i$1=Sg(fg(t$1));return 1&e$1&&(i$1=Tg(i$1,Rg,``)),2&e$1&&(i$1=Tg(i$1,Cg,`$1`)),i$1}},yg={start:vg(1),end:vg(2),trim:vg(3)},Ig=Ra.PROPER,Ag=n,bg=mg,wg=yg.trim;Oi({target:`String`,proto:!0,forced:function(e$1){return Ag((function(){return!!bg[e$1]()||`​᠎`[e$1]()!==`​᠎`||Ig&&bg[e$1].name!==e$1}))}(`trim`)},{trim:function(){return wg(this)}});var Og=Zi(`String`,`trim`),Ng=l,Dg=Og,Pg=String.prototype,kg=i(function(e$1){var t$1=e$1.trim;return typeof e$1==`string`||e$1===Pg||Ng(Pg,e$1)&&t$1===Pg.trim?Dg:t$1}),Mg={exports:{}};(function(e$1){let t$1={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};t$1.localCName=t$1.generateIdentifier(),t$1.splitLines=function(e$2){return e$2.trim().split(`
`).map((e$3=>e$3.trim()))},t$1.splitSections=function(e$2){return e$2.split(`
m=`).map(((e$3,t$2)=>(t$2>0?`m=`+e$3:e$3).trim()+`\r
`))},t$1.getDescription=function(e$2){let i$1=t$1.splitSections(e$2);return i$1&&i$1[0]},t$1.getMediaSections=function(e$2){let i$1=t$1.splitSections(e$2);return i$1.shift(),i$1},t$1.matchPrefix=function(e$2,i$1){return t$1.splitLines(e$2).filter((e$3=>e$3.indexOf(i$1)===0))},t$1.parseCandidate=function(e$2){let t$2;t$2=e$2.indexOf(`a=candidate:`)===0?e$2.substring(12).split(` `):e$2.substring(10).split(` `);let i$1={foundation:t$2[0],component:{1:`rtp`,2:`rtcp`}[t$2[1]]||t$2[1],protocol:t$2[2].toLowerCase(),priority:parseInt(t$2[3],10),ip:t$2[4],address:t$2[4],port:parseInt(t$2[5],10),type:t$2[7]};for(let e$3=8;e$3<t$2.length;e$3+=2)switch(t$2[e$3]){case`raddr`:i$1.relatedAddress=t$2[e$3+1];break;case`rport`:i$1.relatedPort=parseInt(t$2[e$3+1],10);break;case`tcptype`:i$1.tcpType=t$2[e$3+1];break;case`ufrag`:i$1.ufrag=t$2[e$3+1],i$1.usernameFragment=t$2[e$3+1];break;default:i$1[t$2[e$3]]===void 0&&(i$1[t$2[e$3]]=t$2[e$3+1])}return i$1},t$1.writeCandidate=function(e$2){let t$2=[];t$2.push(e$2.foundation);let i$1=e$2.component;i$1===`rtp`?t$2.push(1):i$1===`rtcp`?t$2.push(2):t$2.push(i$1),t$2.push(e$2.protocol.toUpperCase()),t$2.push(e$2.priority),t$2.push(e$2.address||e$2.ip),t$2.push(e$2.port);let n$1=e$2.type;return t$2.push(`typ`),t$2.push(n$1),n$1!==`host`&&e$2.relatedAddress&&e$2.relatedPort&&(t$2.push(`raddr`),t$2.push(e$2.relatedAddress),t$2.push(`rport`),t$2.push(e$2.relatedPort)),e$2.tcpType&&e$2.protocol.toLowerCase()===`tcp`&&(t$2.push(`tcptype`),t$2.push(e$2.tcpType)),(e$2.usernameFragment||e$2.ufrag)&&(t$2.push(`ufrag`),t$2.push(e$2.usernameFragment||e$2.ufrag)),`candidate:`+t$2.join(` `)},t$1.parseIceOptions=function(e$2){return e$2.substring(14).split(` `)},t$1.parseRtpMap=function(e$2){let t$2=e$2.substring(9).split(` `),i$1={payloadType:parseInt(t$2.shift(),10)};return t$2=t$2[0].split(`/`),i$1.name=t$2[0],i$1.clockRate=parseInt(t$2[1],10),i$1.channels=t$2.length===3?parseInt(t$2[2],10):1,i$1.numChannels=i$1.channels,i$1},t$1.writeRtpMap=function(e$2){let t$2=e$2.payloadType;e$2.preferredPayloadType!==void 0&&(t$2=e$2.preferredPayloadType);let i$1=e$2.channels||e$2.numChannels||1;return`a=rtpmap:`+t$2+` `+e$2.name+`/`+e$2.clockRate+(i$1===1?``:`/`+i$1)+`\r
`},t$1.parseExtmap=function(e$2){let t$2=e$2.substring(9).split(` `);return{id:parseInt(t$2[0],10),direction:t$2[0].indexOf(`/`)>0?t$2[0].split(`/`)[1]:`sendrecv`,uri:t$2[1],attributes:t$2.slice(2).join(` `)}},t$1.writeExtmap=function(e$2){return`a=extmap:`+(e$2.id||e$2.preferredId)+(e$2.direction&&e$2.direction!==`sendrecv`?`/`+e$2.direction:``)+` `+e$2.uri+(e$2.attributes?` `+e$2.attributes:``)+`\r
`},t$1.parseFmtp=function(e$2){let t$2={},i$1,n$1=e$2.substring(e$2.indexOf(` `)+1).split(`;`);for(let e$3=0;e$3<n$1.length;e$3++)i$1=n$1[e$3].trim().split(`=`),t$2[i$1[0].trim()]=i$1[1];return t$2},t$1.writeFmtp=function(e$2){let t$2=``,i$1=e$2.payloadType;if(e$2.preferredPayloadType!==void 0&&(i$1=e$2.preferredPayloadType),e$2.parameters&&Object.keys(e$2.parameters).length){let n$1=[];Object.keys(e$2.parameters).forEach((t$3=>{e$2.parameters[t$3]===void 0?n$1.push(t$3):n$1.push(t$3+`=`+e$2.parameters[t$3])})),t$2+=`a=fmtp:`+i$1+` `+n$1.join(`;`)+`\r
`}return t$2},t$1.parseRtcpFb=function(e$2){let t$2=e$2.substring(e$2.indexOf(` `)+1).split(` `);return{type:t$2.shift(),parameter:t$2.join(` `)}},t$1.writeRtcpFb=function(e$2){let t$2=``,i$1=e$2.payloadType;return e$2.preferredPayloadType!==void 0&&(i$1=e$2.preferredPayloadType),e$2.rtcpFeedback&&e$2.rtcpFeedback.length&&e$2.rtcpFeedback.forEach((e$3=>{t$2+=`a=rtcp-fb:`+i$1+` `+e$3.type+(e$3.parameter&&e$3.parameter.length?` `+e$3.parameter:``)+`\r
`})),t$2},t$1.parseSsrcMedia=function(e$2){let t$2=e$2.indexOf(` `),i$1={ssrc:parseInt(e$2.substring(7,t$2),10)},n$1=e$2.indexOf(`:`,t$2);return n$1>-1?(i$1.attribute=e$2.substring(t$2+1,n$1),i$1.value=e$2.substring(n$1+1)):i$1.attribute=e$2.substring(t$2+1),i$1},t$1.parseSsrcGroup=function(e$2){let t$2=e$2.substring(13).split(` `);return{semantics:t$2.shift(),ssrcs:t$2.map((e$3=>parseInt(e$3,10)))}},t$1.getMid=function(e$2){let i$1=t$1.matchPrefix(e$2,`a=mid:`)[0];if(i$1)return i$1.substring(6)},t$1.parseFingerprint=function(e$2){let t$2=e$2.substring(14).split(` `);return{algorithm:t$2[0].toLowerCase(),value:t$2[1].toUpperCase()}},t$1.getDtlsParameters=function(e$2,i$1){return{role:`auto`,fingerprints:t$1.matchPrefix(e$2+i$1,`a=fingerprint:`).map(t$1.parseFingerprint)}},t$1.writeDtlsParameters=function(e$2,t$2){let i$1=`a=setup:`+t$2+`\r
`;return e$2.fingerprints.forEach((e$3=>{i$1+=`a=fingerprint:`+e$3.algorithm+` `+e$3.value+`\r
`})),i$1},t$1.parseCryptoLine=function(e$2){let t$2=e$2.substring(9).split(` `);return{tag:parseInt(t$2[0],10),cryptoSuite:t$2[1],keyParams:t$2[2],sessionParams:t$2.slice(3)}},t$1.writeCryptoLine=function(e$2){return`a=crypto:`+e$2.tag+` `+e$2.cryptoSuite+` `+(typeof e$2.keyParams==`object`?t$1.writeCryptoKeyParams(e$2.keyParams):e$2.keyParams)+(e$2.sessionParams?` `+e$2.sessionParams.join(` `):``)+`\r
`},t$1.parseCryptoKeyParams=function(e$2){if(e$2.indexOf(`inline:`)!==0)return null;let t$2=e$2.substring(7).split(`|`);return{keyMethod:`inline`,keySalt:t$2[0],lifeTime:t$2[1],mkiValue:t$2[2]?t$2[2].split(`:`)[0]:void 0,mkiLength:t$2[2]?t$2[2].split(`:`)[1]:void 0}},t$1.writeCryptoKeyParams=function(e$2){return e$2.keyMethod+`:`+e$2.keySalt+(e$2.lifeTime?`|`+e$2.lifeTime:``)+(e$2.mkiValue&&e$2.mkiLength?`|`+e$2.mkiValue+`:`+e$2.mkiLength:``)},t$1.getCryptoParameters=function(e$2,i$1){return t$1.matchPrefix(e$2+i$1,`a=crypto:`).map(t$1.parseCryptoLine)},t$1.getIceParameters=function(e$2,i$1){let n$1=t$1.matchPrefix(e$2+i$1,`a=ice-ufrag:`)[0],r$1=t$1.matchPrefix(e$2+i$1,`a=ice-pwd:`)[0];return n$1&&r$1?{usernameFragment:n$1.substring(12),password:r$1.substring(10)}:null},t$1.writeIceParameters=function(e$2){let t$2=`a=ice-ufrag:`+e$2.usernameFragment+`\r
a=ice-pwd:`+e$2.password+`\r
`;return e$2.iceLite&&(t$2+=`a=ice-lite\r
`),t$2},t$1.parseRtpParameters=function(e$2){let i$1={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n$1=t$1.splitLines(e$2)[0].split(` `);i$1.profile=n$1[2];for(let r$2=3;r$2<n$1.length;r$2++){let o$1=n$1[r$2],s$1=t$1.matchPrefix(e$2,`a=rtpmap:`+o$1+` `)[0];if(s$1){let n$2=t$1.parseRtpMap(s$1),r$3=t$1.matchPrefix(e$2,`a=fmtp:`+o$1+` `);switch(n$2.parameters=r$3.length?t$1.parseFmtp(r$3[0]):{},n$2.rtcpFeedback=t$1.matchPrefix(e$2,`a=rtcp-fb:`+o$1+` `).map(t$1.parseRtcpFb),i$1.codecs.push(n$2),n$2.name.toUpperCase()){case`RED`:case`ULPFEC`:i$1.fecMechanisms.push(n$2.name.toUpperCase())}}}t$1.matchPrefix(e$2,`a=extmap:`).forEach((e$3=>{i$1.headerExtensions.push(t$1.parseExtmap(e$3))}));let r$1=t$1.matchPrefix(e$2,`a=rtcp-fb:* `).map(t$1.parseRtcpFb);return i$1.codecs.forEach((e$3=>{r$1.forEach((t$2=>{e$3.rtcpFeedback.find((e$4=>e$4.type===t$2.type&&e$4.parameter===t$2.parameter))||e$3.rtcpFeedback.push(t$2)}))})),i$1},t$1.writeRtpDescription=function(e$2,i$1){let n$1=``;n$1+=`m=`+e$2+` `,n$1+=i$1.codecs.length>0?`9`:`0`,n$1+=` `+(i$1.profile||`UDP/TLS/RTP/SAVPF`)+` `,n$1+=i$1.codecs.map((e$3=>e$3.preferredPayloadType===void 0?e$3.payloadType:e$3.preferredPayloadType)).join(` `)+`\r
`,n$1+=`c=IN IP4 0.0.0.0\r
`,n$1+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,i$1.codecs.forEach((e$3=>{n$1+=t$1.writeRtpMap(e$3),n$1+=t$1.writeFmtp(e$3),n$1+=t$1.writeRtcpFb(e$3)}));let r$1=0;return i$1.codecs.forEach((e$3=>{e$3.maxptime>r$1&&(r$1=e$3.maxptime)})),r$1>0&&(n$1+=`a=maxptime:`+r$1+`\r
`),i$1.headerExtensions&&i$1.headerExtensions.forEach((e$3=>{n$1+=t$1.writeExtmap(e$3)})),n$1},t$1.parseRtpEncodingParameters=function(e$2){let i$1=[],n$1=t$1.parseRtpParameters(e$2),r$1=n$1.fecMechanisms.indexOf(`RED`)!==-1,o$1=n$1.fecMechanisms.indexOf(`ULPFEC`)!==-1,s$1=t$1.matchPrefix(e$2,`a=ssrc:`).map((e$3=>t$1.parseSsrcMedia(e$3))).filter((e$3=>e$3.attribute===`cname`)),a$1=s$1.length>0&&s$1[0].ssrc,c$1,d$1=t$1.matchPrefix(e$2,`a=ssrc-group:FID`).map((e$3=>e$3.substring(17).split(` `).map((e$4=>parseInt(e$4,10)))));d$1.length>0&&d$1[0].length>1&&d$1[0][0]===a$1&&(c$1=d$1[0][1]),n$1.codecs.forEach((e$3=>{if(e$3.name.toUpperCase()===`RTX`&&e$3.parameters.apt){let t$2={ssrc:a$1,codecPayloadType:parseInt(e$3.parameters.apt,10)};a$1&&c$1&&(t$2.rtx={ssrc:c$1}),i$1.push(t$2),r$1&&(t$2=JSON.parse(JSON.stringify(t$2)),t$2.fec={ssrc:a$1,mechanism:o$1?`red+ulpfec`:`red`},i$1.push(t$2))}})),i$1.length===0&&a$1&&i$1.push({ssrc:a$1});let l$1=t$1.matchPrefix(e$2,`b=`);return l$1.length&&(l$1=l$1[0].indexOf(`b=TIAS:`)===0?parseInt(l$1[0].substring(7),10):l$1[0].indexOf(`b=AS:`)===0?1e3*parseInt(l$1[0].substring(5),10)*.95-16e3:void 0,i$1.forEach((e$3=>{e$3.maxBitrate=l$1}))),i$1},t$1.parseRtcpParameters=function(e$2){let i$1={},n$1=t$1.matchPrefix(e$2,`a=ssrc:`).map((e$3=>t$1.parseSsrcMedia(e$3))).filter((e$3=>e$3.attribute===`cname`))[0];n$1&&(i$1.cname=n$1.value,i$1.ssrc=n$1.ssrc);let r$1=t$1.matchPrefix(e$2,`a=rtcp-rsize`);return i$1.reducedSize=r$1.length>0,i$1.compound=r$1.length===0,i$1.mux=t$1.matchPrefix(e$2,`a=rtcp-mux`).length>0,i$1},t$1.writeRtcpParameters=function(e$2){let t$2=``;return e$2.reducedSize&&(t$2+=`a=rtcp-rsize\r
`),e$2.mux&&(t$2+=`a=rtcp-mux\r
`),e$2.ssrc!==void 0&&e$2.cname&&(t$2+=`a=ssrc:`+e$2.ssrc+` cname:`+e$2.cname+`\r
`),t$2},t$1.parseMsid=function(e$2){let i$1,n$1=t$1.matchPrefix(e$2,`a=msid:`);if(n$1.length===1)return i$1=n$1[0].substring(7).split(` `),{stream:i$1[0],track:i$1[1]};let r$1=t$1.matchPrefix(e$2,`a=ssrc:`).map((e$3=>t$1.parseSsrcMedia(e$3))).filter((e$3=>e$3.attribute===`msid`));return r$1.length>0?(i$1=r$1[0].value.split(` `),{stream:i$1[0],track:i$1[1]}):void 0},t$1.parseSctpDescription=function(e$2){let i$1=t$1.parseMLine(e$2),n$1=t$1.matchPrefix(e$2,`a=max-message-size:`),r$1;n$1.length>0&&(r$1=parseInt(n$1[0].substring(19),10)),isNaN(r$1)&&(r$1=65536);let o$1=t$1.matchPrefix(e$2,`a=sctp-port:`);if(o$1.length>0)return{port:parseInt(o$1[0].substring(12),10),protocol:i$1.fmt,maxMessageSize:r$1};let s$1=t$1.matchPrefix(e$2,`a=sctpmap:`);if(s$1.length>0){let e$3=s$1[0].substring(10).split(` `);return{port:parseInt(e$3[0],10),protocol:e$3[1],maxMessageSize:r$1}}},t$1.writeSctpDescription=function(e$2,t$2){let i$1=[];return i$1=e$2.protocol===`DTLS/SCTP`?[`m=`+e$2.kind+` 9 `+e$2.protocol+` `+t$2.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,`a=sctpmap:`+t$2.port+` `+t$2.protocol+` 65535\r
`]:[`m=`+e$2.kind+` 9 `+e$2.protocol+` `+t$2.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,`a=sctp-port:`+t$2.port+`\r
`],t$2.maxMessageSize!==void 0&&i$1.push(`a=max-message-size:`+t$2.maxMessageSize+`\r
`),i$1.join(``)},t$1.generateSessionId=function(){return Math.random().toString().substr(2,22)},t$1.writeSessionBoilerplate=function(e$2,i$1,n$1){let r$1,o$1=i$1===void 0?2:i$1;return r$1=e$2||t$1.generateSessionId(),`v=0\r
o=`+(n$1||`thisisadapterortc`)+` `+r$1+` `+o$1+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t$1.getDirection=function(e$2,i$1){let n$1=t$1.splitLines(e$2);for(let e$3=0;e$3<n$1.length;e$3++)switch(n$1[e$3]){case`a=sendrecv`:case`a=sendonly`:case`a=recvonly`:case`a=inactive`:return n$1[e$3].substring(2)}return i$1?t$1.getDirection(i$1):`sendrecv`},t$1.getKind=function(e$2){return t$1.splitLines(e$2)[0].split(` `)[0].substring(2)},t$1.isRejected=function(e$2){return e$2.split(` `,2)[1]===`0`},t$1.parseMLine=function(e$2){let i$1=t$1.splitLines(e$2)[0].substring(2).split(` `);return{kind:i$1[0],port:parseInt(i$1[1],10),protocol:i$1[2],fmt:i$1.slice(3).join(` `)}},t$1.parseOLine=function(e$2){let i$1=t$1.matchPrefix(e$2,`o=`)[0].substring(2).split(` `);return{username:i$1[0],sessionId:i$1[1],sessionVersion:parseInt(i$1[2],10),netType:i$1[3],addressType:i$1[4],address:i$1[5]}},t$1.isValidSDP=function(e$2){if(typeof e$2!=`string`||e$2.length===0)return!1;let i$1=t$1.splitLines(e$2);for(let e$3=0;e$3<i$1.length;e$3++)if(i$1[e$3].length<2||i$1[e$3].charAt(1)!==`=`)return!1;return!0},e$1.exports=t$1})(Mg);var Ug=Mg.exports,Vg=i(Ug),xg=e({__proto__:null,default:Vg},[Ug]);function Fg(e$1){if(!e$1.RTCIceCandidate||e$1.RTCIceCandidate&&`foundation`in e$1.RTCIceCandidate.prototype)return;let t$1=e$1.RTCIceCandidate;e$1.RTCIceCandidate=function(e$2){if(typeof e$2==`object`&&e$2.candidate&&e$2.candidate.indexOf(`a=`)===0&&((e$2=JSON.parse(JSON.stringify(e$2))).candidate=e$2.candidate.substr(2)),e$2.candidate&&e$2.candidate.length){let i$1=new t$1(e$2),n$1=Vg.parseCandidate(e$2.candidate),r$1=Object.assign(i$1,n$1);return r$1.toJSON=function(){return{candidate:r$1.candidate,sdpMid:r$1.sdpMid,sdpMLineIndex:r$1.sdpMLineIndex,usernameFragment:r$1.usernameFragment}},r$1}return new t$1(e$2)},e$1.RTCIceCandidate.prototype=t$1.prototype,bS(e$1,`icecandidate`,(t$2=>(t$2.candidate&&Object.defineProperty(t$2,`candidate`,{value:new e$1.RTCIceCandidate(t$2.candidate),writable:`false`}),t$2)))}function Bg(e$1){!e$1.RTCIceCandidate||e$1.RTCIceCandidate&&`relayProtocol`in e$1.RTCIceCandidate.prototype||bS(e$1,`icecandidate`,(e$2=>{if(e$2.candidate){let t$1=Vg.parseCandidate(e$2.candidate.candidate);t$1.type===`relay`&&(e$2.candidate.relayProtocol={0:`tls`,1:`tcp`,2:`udp`}[t$1.priority>>24])}return e$2}))}function jg(e$1,t$1){if(!e$1.RTCPeerConnection)return;`sctp`in e$1.RTCPeerConnection.prototype||Object.defineProperty(e$1.RTCPeerConnection.prototype,`sctp`,{get(){return this._sctp===void 0?null:this._sctp}});let i$1=function(e$2){if(!e$2||!e$2.sdp)return!1;let t$2=Vg.splitSections(e$2.sdp);return t$2.shift(),t$2.some((e$3=>{let t$3=Vg.parseMLine(e$3);return t$3&&t$3.kind===`application`&&t$3.protocol.indexOf(`SCTP`)!==-1}))},n$1=function(e$2){let t$2=e$2.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(t$2===null||t$2.length<2)return-1;let i$2=parseInt(t$2[1],10);return i$2==i$2?i$2:-1},r$1=function(e$2){let i$2=65536;return t$1.browser===`firefox`&&(i$2=t$1.version<57?e$2===-1?16384:2147483637:t$1.version<60?t$1.version===57?65535:65536:2147483637),i$2},o$1=function(e$2,i$2){let n$2=65536;t$1.browser===`firefox`&&t$1.version===57&&(n$2=65535);let r$2=Vg.matchPrefix(e$2.sdp,`a=max-message-size:`);return r$2.length>0?n$2=parseInt(r$2[0].substr(19),10):t$1.browser===`firefox`&&i$2!==-1&&(n$2=2147483637),n$2},s$1=e$1.RTCPeerConnection.prototype.setRemoteDescription;e$1.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t$1.browser===`chrome`&&t$1.version>=76){let{sdpSemantics:e$2}=this.getConfiguration();e$2===`plan-b`&&Object.defineProperty(this,`sctp`,{get(){return this._sctp===void 0?null:this._sctp},enumerable:!0,configurable:!0})}if(i$1(arguments[0])){let e$2=n$1(arguments[0]),t$2=r$1(e$2),i$2=o$1(arguments[0],e$2),s$2;s$2=t$2===0&&i$2===0?1/0:t$2===0||i$2===0?Math.max(t$2,i$2):Math.min(t$2,i$2);let a$1={};Object.defineProperty(a$1,`maxMessageSize`,{get:()=>s$2}),this._sctp=a$1}return s$1.apply(this,arguments)}}function Gg(e$1){if(!e$1.RTCPeerConnection||!(`createDataChannel`in e$1.RTCPeerConnection.prototype))return;function t$1(e$2,t$2){let i$2=e$2.send;e$2.send=function(){let n$1=arguments[0],r$1=n$1.length||n$1.size||n$1.byteLength;if(e$2.readyState===`open`&&t$2.sctp&&r$1>t$2.sctp.maxMessageSize)throw TypeError(`Message too large (can send a maximum of `+t$2.sctp.maxMessageSize+` bytes)`);return i$2.apply(e$2,arguments)}}let i$1=e$1.RTCPeerConnection.prototype.createDataChannel;e$1.RTCPeerConnection.prototype.createDataChannel=function(){let e$2=i$1.apply(this,arguments);return t$1(e$2,this),e$2},bS(e$1,`datachannel`,(e$2=>(t$1(e$2.channel,e$2.target),e$2)))}function Wg(e$1){if(!e$1.RTCPeerConnection||`connectionState`in e$1.RTCPeerConnection.prototype)return;let t$1=e$1.RTCPeerConnection.prototype;Object.defineProperty(t$1,`connectionState`,{get(){return{completed:`connected`,checking:`connecting`}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t$1,`onconnectionstatechange`,{get(){return this._onconnectionstatechange||null},set(e$2){this._onconnectionstatechange&&(this.removeEventListener(`connectionstatechange`,this._onconnectionstatechange),delete this._onconnectionstatechange),e$2&&this.addEventListener(`connectionstatechange`,this._onconnectionstatechange=e$2)},enumerable:!0,configurable:!0}),[`setLocalDescription`,`setRemoteDescription`].forEach((e$2=>{let i$1=t$1[e$2];t$1[e$2]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e$3=>{let t$2=e$3.target;if(t$2._lastConnectionState!==t$2.connectionState){t$2._lastConnectionState=t$2.connectionState;let i$2=new Event(`connectionstatechange`,e$3);t$2.dispatchEvent(i$2)}return e$3},this.addEventListener(`iceconnectionstatechange`,this._connectionstatechangepoly)),i$1.apply(this,arguments)}}))}function Hg(e$1,t$1){if(!e$1.RTCPeerConnection||t$1.browser===`chrome`&&t$1.version>=71||t$1.browser===`safari`&&t$1.version>=605)return;let i$1=e$1.RTCPeerConnection.prototype.setRemoteDescription;e$1.RTCPeerConnection.prototype.setRemoteDescription=function(t$2){if(t$2&&t$2.sdp&&t$2.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){let i$2=t$2.sdp.split(`
`).filter((e$2=>kg(e$2).call(e$2)!==`a=extmap-allow-mixed`)).join(`
`);e$1.RTCSessionDescription&&t$2 instanceof e$1.RTCSessionDescription?arguments[0]=new e$1.RTCSessionDescription({type:t$2.type,sdp:i$2}):t$2.sdp=i$2}return i$1.apply(this,arguments)}}function Kg(e$1,t$1){if(!e$1.RTCPeerConnection||!e$1.RTCPeerConnection.prototype)return;let i$1=e$1.RTCPeerConnection.prototype.addIceCandidate;i$1&&i$1.length!==0&&(e$1.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t$1.browser===`chrome`&&t$1.version<78||t$1.browser===`firefox`&&t$1.version<68||t$1.browser===`safari`)&&arguments[0]&&arguments[0].candidate===``?rp.resolve():i$1.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),rp.resolve())})}function Yg(e$1,t$1){if(!e$1.RTCPeerConnection||!e$1.RTCPeerConnection.prototype)return;let i$1=e$1.RTCPeerConnection.prototype.setLocalDescription;i$1&&i$1.length!==0&&(e$1.RTCPeerConnection.prototype.setLocalDescription=function(){let e$2=arguments[0]||{};if(typeof e$2!=`object`||e$2.type&&e$2.sdp)return i$1.apply(this,arguments);if(e$2={type:e$2.type,sdp:e$2.sdp},!e$2.type)switch(this.signalingState){case`stable`:case`have-local-offer`:case`have-remote-pranswer`:e$2.type=`offer`;break;default:e$2.type=`answer`}return e$2.sdp||e$2.type!==`offer`&&e$2.type!==`answer`?i$1.apply(this,[e$2]):(e$2.type===`offer`?this.createOffer:this.createAnswer).apply(this).then((e$3=>i$1.apply(this,[e$3])))})}var zg=Object.freeze({__proto__:null,removeExtmapAllowMixed:Hg,shimAddIceCandidateNullOrEmpty:Kg,shimConnectionState:Wg,shimMaxMessageSize:jg,shimParameterlessSetLocalDescription:Yg,shimRTCIceCandidate:Fg,shimRTCIceCandidateRelayProtocol:Bg,shimSendThrowTypeError:Gg});(function(){let{window:e$1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t$1=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0},i$1=NS,n$1=function(e$2){let t$2={browser:null,version:null};if(e$2===void 0||!e$2.navigator)return t$2.browser=`Not a browser.`,t$2;let{navigator:i$2}=e$2;if(i$2.mozGetUserMedia)t$2.browser=`firefox`,t$2.version=AS(i$2.userAgent,/Firefox\/(\d+)\./,1);else if(i$2.webkitGetUserMedia||!1===e$2.isSecureContext&&e$2.webkitRTCPeerConnection)t$2.browser=`chrome`,t$2.version=AS(i$2.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!e$2.RTCPeerConnection||!i$2.userAgent.match(/AppleWebKit\/(\d+)\./))return t$2.browser=`Not a supported browser.`,t$2;t$2.browser=`safari`,t$2.version=AS(i$2.userAgent,/AppleWebKit\/(\d+)\./,1),t$2.supportsUnifiedPlan=e$2.RTCRtpTransceiver&&`currentDirection`in e$2.RTCRtpTransceiver.prototype}return t$2}(e$1),r$1={browserDetails:n$1,commonShim:zg,extractVersion:AS,disableLog:wS,disableWarnings:OS,sdp:xg};switch(n$1.browser){case`chrome`:if(!zS||!KS||!t$1.shimChrome)return i$1(`Chrome shim is not included in this adapter release.`),r$1;if(n$1.version===null)return i$1(`Chrome shim can not determine version, not shimming.`),r$1;i$1(`adapter.js shimming chrome.`),r$1.browserShim=zS,Kg(e$1,n$1),Yg(e$1),VS(e$1,n$1),xS(e$1),KS(e$1,n$1),FS(e$1),HS(e$1,n$1),BS(e$1),jS(e$1),GS(e$1),YS(e$1,n$1),Fg(e$1),Bg(e$1),Wg(e$1),jg(e$1,n$1),Gg(e$1),Hg(e$1,n$1);break;case`firefox`:if(!og||!JS||!t$1.shimFirefox)return i$1(`Firefox shim is not included in this adapter release.`),r$1;i$1(`adapter.js shimming firefox.`),r$1.browserShim=og,Kg(e$1,n$1),Yg(e$1),qS(e$1,n$1),JS(e$1,n$1),XS(e$1),$S(e$1),QS(e$1),ZS(e$1),eg(e$1),tg(e$1),ig(e$1),ng(e$1),rg(e$1),Fg(e$1),Wg(e$1),jg(e$1,n$1),Gg(e$1);break;case`safari`:if(!Eg||!t$1.shimSafari)return i$1(`Safari shim is not included in this adapter release.`),r$1;i$1(`adapter.js shimming safari.`),r$1.browserShim=Eg,Kg(e$1,n$1),Yg(e$1),ug(e$1),pg(e$1),cg(e$1),sg(e$1),ag(e$1),hg(e$1),dg(e$1),_g(e$1),Fg(e$1),Bg(e$1),jg(e$1,n$1),Gg(e$1),Hg(e$1,n$1);break;default:i$1(`Unsupported browser!`)}})({window:typeof window>`u`?void 0:window});var qg=n,Xg=h.RegExp,Jg=!qg((function(){var e$1=!0;try{Xg(`.`,`d`)}catch{e$1=!1}var t$1={},i$1=``,n$1=e$1?`dgimsy`:`gimsy`,r$1=function(e$2,n$2){Object.defineProperty(t$1,e$2,{get:function(){return i$1+=n$2,!0}})},o$1={dotAll:`s`,global:`g`,ignoreCase:`i`,multiline:`m`,sticky:`y`};for(var s$1 in e$1&&(o$1.hasIndices=`d`),o$1)r$1(s$1,o$1[s$1]);return Object.getOwnPropertyDescriptor(Xg.prototype,`flags`).get.call(t$1)!==n$1||i$1!==n$1})),Qg=ni,Zg=D,$g=$e,eT=l,tT={correct:Jg},iT=function(){var e$1=Qg(this),t$1=``;return e$1.hasIndices&&(t$1+=`d`),e$1.global&&(t$1+=`g`),e$1.ignoreCase&&(t$1+=`i`),e$1.multiline&&(t$1+=`m`),e$1.dotAll&&(t$1+=`s`),e$1.unicode&&(t$1+=`u`),e$1.unicodeSets&&(t$1+=`v`),e$1.sticky&&(t$1+=`y`),t$1},nT=RegExp.prototype,rT=tT.correct?function(e$1){return e$1.flags}:function(e$1){return tT.correct||!eT(nT,e$1)||$g(e$1,`flags`)?e$1.flags:Zg(iT,e$1)},oT=d,sT=Je,aT=Math.floor,cT=oT(``.charAt),dT=oT(``.replace),lT=oT(``.slice),uT=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,hT=/\$([$&'`]|\d{1,2})/g,pT=Oi,_T=D,ET=d,mT=z,fT=A,ST=Z,gT=rn,TT=Sn,RT=Le,CT=rT,vT=function(e$1,t$1,i$1,n$1,r$1,o$1){var s$1=i$1+e$1.length,a$1=n$1.length,c$1=hT;return r$1!==void 0&&(r$1=sT(r$1),c$1=uT),dT(o$1,c$1,(function(o$2,c$2){var d$1;switch(cT(c$2,0)){case`$`:return`$`;case`&`:return e$1;case"`":return lT(t$1,0,i$1);case`'`:return lT(t$1,s$1);case`<`:d$1=r$1[lT(c$2,1,-1)];break;default:var l$1=+c$2;if(l$1===0)return o$2;if(l$1>a$1){var u$1=aT(l$1/10);return u$1===0?o$2:u$1<=a$1?n$1[u$1-1]===void 0?cT(c$2,1):n$1[u$1-1]+cT(c$2,1):o$2}d$1=n$1[l$1-1]}return d$1===void 0?``:d$1}))},yT=pt(`replace`),IT=TypeError,AT=ET(``.indexOf),bT=ET(``.replace),wT=ET(``.slice),OT=Math.max;pT({target:`String`,proto:!0},{replaceAll:function(e$1,t$1){var i$1,n$1,r$1,o$1,s$1,a$1,c$1,d$1,l$1,u$1,h$1=mT(this),p$1=0,_$1=``;if(ST(e$1)){if((i$1=gT(e$1))&&(n$1=TT(mT(CT(e$1))),!~AT(n$1,`g`)))throw new IT("`.replaceAll` does not allow non-global regexes");if(r$1=RT(e$1,yT))return _T(r$1,e$1,h$1,t$1);if(i$1)return bT(TT(h$1),e$1,t$1)}for(o$1=TT(h$1),s$1=TT(e$1),(a$1=fT(t$1))||(t$1=TT(t$1)),c$1=s$1.length,d$1=OT(1,c$1),l$1=AT(o$1,s$1);l$1!==-1;)u$1=a$1?TT(t$1(s$1,l$1,o$1)):vT(s$1,o$1,l$1,[],void 0,t$1),_$1+=wT(o$1,p$1,l$1)+u$1,p$1=l$1+c$1,l$1=l$1+d$1>o$1.length?-1:AT(o$1,s$1,l$1+d$1);return p$1<o$1.length&&(_$1+=wT(o$1,p$1)),_$1}});var NT=Zi(`String`,`replaceAll`),DT=l,PT=NT,LT=String.prototype,MT=i(function(e$1){var t$1=e$1.replaceAll;return typeof e$1==`string`||e$1===LT||DT(LT,e$1)&&t$1===LT.replaceAll?PT:t$1}),UT=h;Oi({global:!0,forced:UT.globalThis!==UT},{globalThis:UT});var VT=i(h),xT={exports:{}};(function(e$1,i$1){(function(t$1,n$1){var r$1=`function`,o$1=`undefined`,s$1=`object`,a$1=`string`,c$1=`major`,d$1=`model`,l$1=`name`,u$1=`type`,h$1=`vendor`,p$1=`version`,_$1=`architecture`,E$1=`console`,m$1=`mobile`,f$1=`tablet`,S$1=`smarttv`,g$1=`wearable`,T$1=`embedded`,R$1=`Amazon`,C$1=`Apple`,v$1=`ASUS`,y$1=`BlackBerry`,I$1=`Browser`,A$1=`Chrome`,b$1=`Firefox`,w$1=`Google`,O$1=`Honor`,N$1=`Huawei`,D$1=`LG`,P$1=`Microsoft`,L$1=`Motorola`,k$1=`Nvidia`,M=`OnePlus`,U$1=`Opera`,V$1=`OPPO`,x$1=`Samsung`,F$1=`Sharp`,B$1=`Sony`,j$1=`Xiaomi`,G$1=`Zebra`,W$1=`Facebook`,H$1=`Chromium OS`,K$1=`Mac OS`,Y$1=` Browser`,z$1=function(e$2){for(var t$2={},i$2=0;i$2<e$2.length;i$2++)t$2[e$2[i$2].toUpperCase()]=e$2[i$2];return t$2},q$1=function(e$2,t$2){return typeof e$2===a$1&&X$1(t$2).indexOf(X$1(e$2))!==-1},X$1=function(e$2){return e$2.toLowerCase()},J$1=function(e$2,t$2){if(typeof e$2===a$1)return e$2=e$2.replace(/^\s\s*/,``),typeof t$2===o$1?e$2:e$2.substring(0,500)},Q$1=function(e$2,t$2){for(var i$2,o$2,a$2,c$2,d$2,l$2,u$2=0;u$2<t$2.length&&!d$2;){var h$2=t$2[u$2],p$2=t$2[u$2+1];for(i$2=o$2=0;i$2<h$2.length&&!d$2&&h$2[i$2];)if(d$2=h$2[i$2++].exec(e$2))for(a$2=0;a$2<p$2.length;a$2++)l$2=d$2[++o$2],typeof(c$2=p$2[a$2])===s$1&&c$2.length>0?c$2.length===2?typeof c$2[1]==r$1?this[c$2[0]]=c$2[1].call(this,l$2):this[c$2[0]]=c$2[1]:c$2.length===3?typeof c$2[1]!==r$1||c$2[1].exec&&c$2[1].test?this[c$2[0]]=l$2?l$2.replace(c$2[1],c$2[2]):n$1:this[c$2[0]]=l$2?c$2[1].call(this,l$2,c$2[2]):n$1:c$2.length===4&&(this[c$2[0]]=l$2?c$2[3].call(this,l$2.replace(c$2[1],c$2[2])):n$1):this[c$2]=l$2||n$1;u$2+=2}},Z$1=function(e$2,t$2){for(var i$2 in t$2)if(typeof t$2[i$2]===s$1&&t$2[i$2].length>0){for(var r$2=0;r$2<t$2[i$2].length;r$2++)if(q$1(t$2[i$2][r$2],e$2))return i$2===`?`?n$1:i$2}else if(q$1(t$2[i$2],e$2))return i$2===`?`?n$1:i$2;return t$2.hasOwnProperty(`*`)?t$2[`*`]:e$2},$$1={ME:`4.90`,"NT 3.11":`NT3.51`,"NT 4.0":`NT4.0`,2e3:`NT 5.0`,XP:[`NT 5.1`,`NT 5.2`],Vista:`NT 6.0`,7:`NT 6.1`,8:`NT 6.2`,8.1:`NT 6.3`,10:[`NT 6.4`,`NT 10.0`],RT:`ARM`},ee$1={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p$1,[l$1,`Chrome`]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p$1,[l$1,`Edge`]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[l$1,p$1],[/opios[\/ ]+([\w\.]+)/i],[p$1,[l$1,U$1+` Mini`]],[/\bop(?:rg)?x\/([\w\.]+)/i],[p$1,[l$1,U$1+` GX`]],[/\bopr\/([\w\.]+)/i],[p$1,[l$1,U$1]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[p$1,[l$1,`Baidu`]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[p$1,[l$1,`Maxthon`]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[l$1,p$1],[/quark(?:pc)?\/([-\w\.]+)/i],[p$1,[l$1,`Quark`]],[/\bddg\/([\w\.]+)/i],[p$1,[l$1,`DuckDuckGo`]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p$1,[l$1,`UC`+I$1]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[p$1,[l$1,`WeChat`]],[/konqueror\/([\w\.]+)/i],[p$1,[l$1,`Konqueror`]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p$1,[l$1,`IE`]],[/ya(?:search)?browser\/([\w\.]+)/i],[p$1,[l$1,`Yandex`]],[/slbrowser\/([\w\.]+)/i],[p$1,[l$1,`Smart Lenovo `+I$1]],[/(avast|avg)\/([\w\.]+)/i],[[l$1,/(.+)/,`$1 Secure `+I$1],p$1],[/\bfocus\/([\w\.]+)/i],[p$1,[l$1,b$1+` Focus`]],[/\bopt\/([\w\.]+)/i],[p$1,[l$1,U$1+` Touch`]],[/coc_coc\w+\/([\w\.]+)/i],[p$1,[l$1,`Coc Coc`]],[/dolfin\/([\w\.]+)/i],[p$1,[l$1,`Dolphin`]],[/coast\/([\w\.]+)/i],[p$1,[l$1,U$1+` Coast`]],[/miuibrowser\/([\w\.]+)/i],[p$1,[l$1,`MIUI`+Y$1]],[/fxios\/([\w\.-]+)/i],[p$1,[l$1,b$1]],[/\bqihoobrowser\/?([\w\.]*)/i],[p$1,[l$1,`360`]],[/\b(qq)\/([\w\.]+)/i],[[l$1,/(.+)/,`$1Browser`],p$1],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[l$1,/(.+)/,`$1`+Y$1],p$1],[/samsungbrowser\/([\w\.]+)/i],[p$1,[l$1,x$1+` Internet`]],[/metasr[\/ ]?([\d\.]+)/i],[p$1,[l$1,`Sogou Explorer`]],[/(sogou)mo\w+\/([\d\.]+)/i],[[l$1,`Sogou Mobile`],p$1],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[l$1,p$1],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[l$1],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[p$1,l$1],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[l$1,W$1],p$1],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[l$1,p$1],[/\bgsa\/([\w\.]+) .*safari\//i],[p$1,[l$1,`GSA`]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[p$1,[l$1,`TikTok`]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p$1,[l$1,A$1+` Headless`]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[l$1,A$1+` WebView`],p$1],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p$1,[l$1,`Android `+I$1]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[l$1,p$1],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[p$1,[l$1,`Mobile Safari`]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[p$1,l$1],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[l$1,[p$1,Z$1,{"1.0":`/8`,1.2:`/1`,1.3:`/3`,"2.0":`/412`,"2.0.2":`/416`,"2.0.3":`/417`,"2.0.4":`/419`,"?":`/`}]],[/(webkit|khtml)\/([\w\.]+)/i],[l$1,p$1],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[l$1,`Netscape`],p$1],[/(wolvic|librewolf)\/([\w\.]+)/i],[l$1,p$1],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p$1,[l$1,b$1+` Reality`]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[l$1,[p$1,/_/g,`.`]],[/(cobalt)\/([\w\.]+)/i],[l$1,[p$1,/master.|lts./,``]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[_$1,`amd64`]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[_$1,`ia32`]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[_$1,`arm64`]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[_$1,`armhf`]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[_$1,`arm`]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[_$1,/ower/,``,X$1]],[/ sun4\w[;\)]/i],[[_$1,`sparc`]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[_$1,X$1]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d$1,[h$1,x$1],[u$1,f$1]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[d$1,[h$1,x$1],[u$1,m$1]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d$1,[h$1,C$1],[u$1,m$1]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d$1,[h$1,C$1],[u$1,f$1]],[/(macintosh);/i],[d$1,[h$1,C$1]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d$1,[h$1,F$1],[u$1,m$1]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[d$1,[h$1,O$1],[u$1,f$1]],[/honor([-\w ]+)[;\)]/i],[d$1,[h$1,O$1],[u$1,m$1]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[d$1,[h$1,N$1],[u$1,f$1]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d$1,[h$1,N$1],[u$1,m$1]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[d$1,/_/g,` `],[h$1,j$1],[u$1,f$1]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[d$1,/_/g,` `],[h$1,j$1],[u$1,m$1]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d$1,[h$1,V$1],[u$1,m$1]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[d$1,[h$1,Z$1,{OnePlus:[`304`,`403`,`203`],"*":V$1}],[u$1,f$1]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d$1,[h$1,`Vivo`],[u$1,m$1]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d$1,[h$1,`Realme`],[u$1,m$1]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d$1,[h$1,L$1],[u$1,m$1]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d$1,[h$1,L$1],[u$1,f$1]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d$1,[h$1,D$1],[u$1,f$1]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[d$1,[h$1,D$1],[u$1,m$1]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[d$1,[h$1,`Lenovo`],[u$1,f$1]],[/(nokia) (t[12][01])/i],[h$1,d$1,[u$1,f$1]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[d$1,/_/g,` `],[u$1,m$1],[h$1,`Nokia`]],[/(pixel (c|tablet))\b/i],[d$1,[h$1,w$1],[u$1,f$1]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d$1,[h$1,w$1],[u$1,m$1]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d$1,[h$1,B$1],[u$1,m$1]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d$1,`Xperia Tablet`],[h$1,B$1],[u$1,f$1]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d$1,[h$1,M],[u$1,m$1]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d$1,[h$1,R$1],[u$1,f$1]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d$1,/(.+)/g,`Fire Phone $1`],[h$1,R$1],[u$1,m$1]],[/(playbook);[-\w\),; ]+(rim)/i],[d$1,h$1,[u$1,f$1]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d$1,[h$1,y$1],[u$1,m$1]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d$1,[h$1,v$1],[u$1,f$1]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d$1,[h$1,v$1],[u$1,m$1]],[/(nexus 9)/i],[d$1,[h$1,`HTC`],[u$1,f$1]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[h$1,[d$1,/_/g,` `],[u$1,m$1]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[d$1,[h$1,`TCL`],[u$1,f$1]],[/(itel) ((\w+))/i],[[h$1,X$1],d$1,[u$1,Z$1,{tablet:[`p10001l`,`w7001`],"*":`mobile`}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d$1,[h$1,`Acer`],[u$1,f$1]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d$1,[h$1,`Meizu`],[u$1,m$1]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d$1,[h$1,`Ulefone`],[u$1,m$1]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[d$1,[h$1,`Energizer`],[u$1,m$1]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[d$1,[h$1,`Cat`],[u$1,m$1]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[d$1,[h$1,`Smartfren`],[u$1,m$1]],[/droid.+; (a(?:015|06[35]|142p?))/i],[d$1,[h$1,`Nothing`],[u$1,m$1]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[d$1,[h$1,`Archos`],[u$1,f$1]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[d$1,[h$1,`Archos`],[u$1,m$1]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[h$1,d$1,[u$1,f$1]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[h$1,d$1,[u$1,m$1]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h$1,d$1,[u$1,f$1]],[/(surface duo)/i],[d$1,[h$1,P$1],[u$1,f$1]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d$1,[h$1,`Fairphone`],[u$1,m$1]],[/(u304aa)/i],[d$1,[h$1,`AT&T`],[u$1,m$1]],[/\bsie-(\w*)/i],[d$1,[h$1,`Siemens`],[u$1,m$1]],[/\b(rct\w+) b/i],[d$1,[h$1,`RCA`],[u$1,f$1]],[/\b(venue[\d ]{2,7}) b/i],[d$1,[h$1,`Dell`],[u$1,f$1]],[/\b(q(?:mv|ta)\w+) b/i],[d$1,[h$1,`Verizon`],[u$1,f$1]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d$1,[h$1,`Barnes & Noble`],[u$1,f$1]],[/\b(tm\d{3}\w+) b/i],[d$1,[h$1,`NuVision`],[u$1,f$1]],[/\b(k88) b/i],[d$1,[h$1,`ZTE`],[u$1,f$1]],[/\b(nx\d{3}j) b/i],[d$1,[h$1,`ZTE`],[u$1,m$1]],[/\b(gen\d{3}) b.+49h/i],[d$1,[h$1,`Swiss`],[u$1,m$1]],[/\b(zur\d{3}) b/i],[d$1,[h$1,`Swiss`],[u$1,f$1]],[/\b((zeki)?tb.*\b) b/i],[d$1,[h$1,`Zeki`],[u$1,f$1]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h$1,`Dragon Touch`],d$1,[u$1,f$1]],[/\b(ns-?\w{0,9}) b/i],[d$1,[h$1,`Insignia`],[u$1,f$1]],[/\b((nxa|next)-?\w{0,9}) b/i],[d$1,[h$1,`NextBook`],[u$1,f$1]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h$1,`Voice`],d$1,[u$1,m$1]],[/\b(lvtel\-)?(v1[12]) b/i],[[h$1,`LvTel`],d$1,[u$1,m$1]],[/\b(ph-1) /i],[d$1,[h$1,`Essential`],[u$1,m$1]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d$1,[h$1,`Envizen`],[u$1,f$1]],[/\b(trio[-\w\. ]+) b/i],[d$1,[h$1,`MachSpeed`],[u$1,f$1]],[/\btu_(1491) b/i],[d$1,[h$1,`Rotor`],[u$1,f$1]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[d$1,[h$1,k$1],[u$1,f$1]],[/(sprint) (\w+)/i],[h$1,d$1,[u$1,m$1]],[/(kin\.[onetw]{3})/i],[[d$1,/\./g,` `],[h$1,P$1],[u$1,m$1]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d$1,[h$1,G$1],[u$1,f$1]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d$1,[h$1,G$1],[u$1,m$1]],[/smart-tv.+(samsung)/i],[h$1,[u$1,S$1]],[/hbbtv.+maple;(\d+)/i],[[d$1,/^/,`SmartTV`],[h$1,x$1],[u$1,S$1]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h$1,D$1],[u$1,S$1]],[/(apple) ?tv/i],[h$1,[d$1,C$1+` TV`],[u$1,S$1]],[/crkey/i],[[d$1,A$1+`cast`],[h$1,w$1],[u$1,S$1]],[/droid.+aft(\w+)( bui|\))/i],[d$1,[h$1,R$1],[u$1,S$1]],[/(shield \w+ tv)/i],[d$1,[h$1,k$1],[u$1,S$1]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d$1,[h$1,F$1],[u$1,S$1]],[/(bravia[\w ]+)( bui|\))/i],[d$1,[h$1,B$1],[u$1,S$1]],[/(mi(tv|box)-?\w+) bui/i],[d$1,[h$1,j$1],[u$1,S$1]],[/Hbbtv.*(technisat) (.*);/i],[h$1,d$1,[u$1,S$1]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[h$1,J$1],[d$1,J$1],[u$1,S$1]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[d$1,[u$1,S$1]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[u$1,S$1]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h$1,d$1,[u$1,E$1]],[/droid.+; (shield)( bui|\))/i],[d$1,[h$1,k$1],[u$1,E$1]],[/(playstation \w+)/i],[d$1,[h$1,B$1],[u$1,E$1]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d$1,[h$1,P$1],[u$1,E$1]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[d$1,[h$1,x$1],[u$1,g$1]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[h$1,d$1,[u$1,g$1]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[d$1,[h$1,V$1],[u$1,g$1]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d$1,[h$1,C$1],[u$1,g$1]],[/(opwwe\d{3})/i],[d$1,[h$1,M],[u$1,g$1]],[/(moto 360)/i],[d$1,[h$1,L$1],[u$1,g$1]],[/(smartwatch 3)/i],[d$1,[h$1,B$1],[u$1,g$1]],[/(g watch r)/i],[d$1,[h$1,D$1],[u$1,g$1]],[/droid.+; (wt63?0{2,3})\)/i],[d$1,[h$1,G$1],[u$1,g$1]],[/droid.+; (glass) \d/i],[d$1,[h$1,w$1],[u$1,g$1]],[/(pico) (4|neo3(?: link|pro)?)/i],[h$1,d$1,[u$1,g$1]],[/; (quest( \d| pro)?)/i],[d$1,[h$1,W$1],[u$1,g$1]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h$1,[u$1,T$1]],[/(aeobc)\b/i],[d$1,[h$1,R$1],[u$1,T$1]],[/(homepod).+mac os/i],[d$1,[h$1,C$1],[u$1,T$1]],[/windows iot/i],[[u$1,T$1]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d$1,[u$1,m$1]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d$1,[u$1,f$1]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[u$1,f$1]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[u$1,m$1]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[d$1,[h$1,`Generic`]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p$1,[l$1,`EdgeHTML`]],[/(arkweb)\/([\w\.]+)/i],[l$1,p$1],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p$1,[l$1,`Blink`]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[l$1,p$1],[/ladybird\//i],[[l$1,`LibWeb`]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p$1,l$1]],os:[[/microsoft (windows) (vista|xp)/i],[l$1,p$1],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[l$1,[p$1,Z$1,$$1]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p$1,Z$1,$$1],[l$1,`Windows`]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[p$1,/_/g,`.`],[l$1,`iOS`]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[l$1,K$1],[p$1,/_/g,`.`]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[p$1,l$1],[/(ubuntu) ([\w\.]+) like android/i],[[l$1,/(.+)/,`$1 Touch`],p$1],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[l$1,p$1],[/\(bb(10);/i],[p$1,[l$1,y$1]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[p$1,[l$1,`Symbian`]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p$1,[l$1,b$1+` OS`]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p$1,[l$1,`webOS`]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[p$1,[l$1,`watchOS`]],[/crkey\/([\d\.]+)/i],[p$1,[l$1,A$1+`cast`]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[l$1,H$1],p$1],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[l$1,p$1],[/(sunos) ?([\w\.\d]*)/i],[[l$1,`Solaris`],p$1],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[l$1,p$1]]},te$1=function(e$2,i$2){if(typeof e$2===s$1&&(i$2=e$2,e$2=n$1),!(this instanceof te$1))return new te$1(e$2,i$2).getResult();var E$2=typeof t$1!==o$1&&t$1.navigator?t$1.navigator:n$1,S$2=e$2||(E$2&&E$2.userAgent?E$2.userAgent:``),g$2=E$2&&E$2.userAgentData?E$2.userAgentData:n$1,T$2=i$2?function(e$3,t$2){var i$3={};for(var n$2 in e$3)t$2[n$2]&&t$2[n$2].length%2==0?i$3[n$2]=t$2[n$2].concat(e$3[n$2]):i$3[n$2]=e$3[n$2];return i$3}(ee$1,i$2):ee$1,R$2=E$2&&E$2.userAgent==S$2;return this.getBrowser=function(){var e$3={};return e$3[l$1]=n$1,e$3[p$1]=n$1,Q$1.call(e$3,S$2,T$2.browser),e$3[c$1]=function(e$4){return typeof e$4===a$1?e$4.replace(/[^\d\.]/g,``).split(`.`)[0]:n$1}(e$3[p$1]),R$2&&E$2&&E$2.brave&&typeof E$2.brave.isBrave==r$1&&(e$3[l$1]=`Brave`),e$3},this.getCPU=function(){var e$3={};return e$3[_$1]=n$1,Q$1.call(e$3,S$2,T$2.cpu),e$3},this.getDevice=function(){var e$3={};return e$3[h$1]=n$1,e$3[d$1]=n$1,e$3[u$1]=n$1,Q$1.call(e$3,S$2,T$2.device),R$2&&!e$3[u$1]&&g$2&&g$2.mobile&&(e$3[u$1]=m$1),R$2&&e$3[d$1]==`Macintosh`&&E$2&&typeof E$2.standalone!==o$1&&E$2.maxTouchPoints&&E$2.maxTouchPoints>2&&(e$3[d$1]=`iPad`,e$3[u$1]=f$1),e$3},this.getEngine=function(){var e$3={};return e$3[l$1]=n$1,e$3[p$1]=n$1,Q$1.call(e$3,S$2,T$2.engine),e$3},this.getOS=function(){var e$3={};return e$3[l$1]=n$1,e$3[p$1]=n$1,Q$1.call(e$3,S$2,T$2.os),R$2&&!e$3[l$1]&&g$2&&g$2.platform&&g$2.platform!=`Unknown`&&(e$3[l$1]=g$2.platform.replace(/chrome os/i,H$1).replace(/macos/i,K$1)),e$3},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return S$2},this.setUA=function(e$3){return S$2=typeof e$3===a$1&&e$3.length>500?J$1(e$3,500):e$3,this},this.setUA(S$2),this};te$1.VERSION=`0.7.41`,te$1.BROWSER=z$1([l$1,p$1,c$1]),te$1.CPU=z$1([_$1]),te$1.DEVICE=z$1([d$1,h$1,u$1,E$1,m$1,S$1,f$1,g$1,T$1]),te$1.ENGINE=te$1.OS=z$1([l$1,p$1]),e$1.exports&&(i$1=e$1.exports=te$1),i$1.UAParser=te$1;var ie$1=typeof t$1!==o$1&&(t$1.jQuery||t$1.Zepto);if(ie$1&&!ie$1.ua){var ne$1=new te$1;ie$1.ua=ne$1.getResult(),ie$1.ua.get=function(){return ne$1.getUA()},ie$1.ua.set=function(e$2){ne$1.setUA(e$2);var t$2=ne$1.getResult();for(var i$2 in t$2)ie$1.ua[i$2]=t$2[i$2]}}})(typeof window==`object`?window:t)})(xT,xT.exports);var FT=i(xT.exports),BT=Ud.clear;Oi({global:!0,bind:!0,enumerable:!0,forced:h.clearImmediate!==BT},{clearImmediate:BT});var jT=h,GT=f,WT=A,HT=qn,KT=ae,YT=sd,zT=cd,qT=jT.Function,XT=/MSIE .\./.test(KT)||HT===`BUN`&&function(){var e$1=jT.Bun.version.split(`.`);return e$1.length<3||e$1[0]===`0`&&(e$1[1]<3||e$1[1]===`3`&&e$1[2]===`0`)}(),JT=Oi,QT=h,ZT=Ud.set,eR=QT.setImmediate?function(e$1,t$1){var i$1=t$1?2:1;return XT?function(n$1,r$1){var o$1=zT(arguments.length,1)>i$1,s$1=WT(n$1)?n$1:qT(n$1),a$1=o$1?YT(arguments,i$1):[],c$1=o$1?function(){GT(s$1,this,a$1)}:s$1;return t$1?e$1(c$1,r$1):e$1(c$1)}:e$1}(ZT,!1):ZT;JT({global:!0,bind:!0,enumerable:!0,forced:QT.setImmediate!==eR},{setImmediate:eR});var tR=i($.setImmediate),iR=h,nR=hl,rR=Ne,oR=cd,sR=w;Oi({global:!0,enumerable:!0,dontCallGetSet:!0,forced:n((function(){return sR&&Object.getOwnPropertyDescriptor(iR,`queueMicrotask`).value.length!==1}))},{queueMicrotask:function(e$1){oR(arguments.length,1),nR(rR(e$1))}});var aR=i($.queueMicrotask);function cR(e$1,t$1){return function(){return e$1.apply(t$1,arguments)}}let{toString:dR}=Object.prototype,{getPrototypeOf:lR}=Object,{iterator:uR,toStringTag:hR}=Symbol,pR=(_R=Object.create(null),e$1=>{let t$1=dR.call(e$1);return _R[t$1]||(_R[t$1]=t$1.slice(8,-1).toLowerCase())});var _R;let ER=e$1=>(e$1=e$1.toLowerCase(),t$1=>pR(t$1)===e$1),mR=e$1=>t$1=>typeof t$1===e$1,{isArray:fR}=Array,SR=mR(`undefined`);function gR(e$1){return e$1!==null&&!SR(e$1)&&e$1.constructor!==null&&!SR(e$1.constructor)&&CR(e$1.constructor.isBuffer)&&e$1.constructor.isBuffer(e$1)}let TR=ER(`ArrayBuffer`),RR=mR(`string`),CR=mR(`function`),vR=mR(`number`),yR=e$1=>typeof e$1==`object`&&!!e$1,IR=e$1=>{if(pR(e$1)!==`object`)return!1;let t$1=lR(e$1);return!(t$1!==null&&t$1!==Object.prototype&&Object.getPrototypeOf(t$1)!==null||hR in e$1||uR in e$1)},AR=ER(`Date`),bR=ER(`File`),wR=ER(`Blob`),OR=ER(`FileList`),NR=ER(`URLSearchParams`),[DR,PR,LR,kR]=[`ReadableStream`,`Request`,`Response`,`Headers`].map(ER);function MR(e$1,t$1){let i$1,n$1,{allOwnKeys:r$1=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e$1!=null)if(typeof e$1!=`object`&&(e$1=[e$1]),fR(e$1))for(i$1=0,n$1=e$1.length;i$1<n$1;i$1++)t$1.call(null,e$1[i$1],i$1,e$1);else{if(gR(e$1))return;let n$2=r$1?Object.getOwnPropertyNames(e$1):Object.keys(e$1),o$1=n$2.length,s$1;for(i$1=0;i$1<o$1;i$1++)s$1=n$2[i$1],t$1.call(null,e$1[s$1],s$1,e$1)}}function UR(e$1,t$1){if(gR(e$1))return null;t$1=t$1.toLowerCase();let i$1=Object.keys(e$1),n$1,r$1=i$1.length;for(;r$1-- >0;)if(n$1=i$1[r$1],t$1===n$1.toLowerCase())return n$1;return null}let VR=VT===void 0?typeof self<`u`?self:typeof window<`u`?window:global:VT,xR=e$1=>!SR(e$1)&&e$1!==VR,FR=(BR=typeof Uint8Array<`u`&&lR(Uint8Array),e$1=>BR&&e$1 instanceof BR);var BR;let jR=ER(`HTMLFormElement`),GR=(e$1=>{let{hasOwnProperty:t$1}=e$1;return(e$2,i$1)=>t$1.call(e$2,i$1)})(Object.prototype),WR=ER(`RegExp`),HR=(e$1,t$1)=>{let i$1=Object.getOwnPropertyDescriptors(e$1),n$1={};MR(i$1,((i$2,r$1)=>{let o$1;!1!==(o$1=t$1(i$2,r$1,e$1))&&(n$1[r$1]=o$1||i$2)})),Object.defineProperties(e$1,n$1)},KR=ER(`AsyncFunction`),YR=(zR=typeof tR==`function`,qR=CR(VR.postMessage),zR?tR:qR?(XR=`axios@${Math.random()}`,JR=[],VR.addEventListener(`message`,(e$1=>{let{source:t$1,data:i$1}=e$1;t$1===VR&&i$1===XR&&JR.length&&JR.shift()()}),!1),e$1=>{JR.push(e$1),VR.postMessage(XR,`*`)}):e$1=>setTimeout(e$1));var zR,qR,XR,JR,ZR={isArray:fR,isArrayBuffer:TR,isBuffer:gR,isFormData:e$1=>{let t$1;return e$1&&(typeof FormData==`function`&&e$1 instanceof FormData||CR(e$1.append)&&((t$1=pR(e$1))===`formdata`||t$1===`object`&&CR(e$1.toString)&&e$1.toString()===`[object FormData]`))},isArrayBufferView:function(e$1){let t$1;return t$1=typeof ArrayBuffer<`u`&&ArrayBuffer.isView?ArrayBuffer.isView(e$1):e$1&&e$1.buffer&&TR(e$1.buffer),t$1},isString:RR,isNumber:vR,isBoolean:e$1=>!0===e$1||!1===e$1,isObject:yR,isPlainObject:IR,isEmptyObject:e$1=>{if(!yR(e$1)||gR(e$1))return!1;try{return Object.keys(e$1).length===0&&Object.getPrototypeOf(e$1)===Object.prototype}catch{return!1}},isReadableStream:DR,isRequest:PR,isResponse:LR,isHeaders:kR,isUndefined:SR,isDate:AR,isFile:bR,isBlob:wR,isRegExp:WR,isFunction:CR,isStream:e$1=>yR(e$1)&&CR(e$1.pipe),isURLSearchParams:NR,isTypedArray:FR,isFileList:OR,forEach:MR,merge:function e$1(){let{caseless:t$1,skipUndefined:i$1}=xR(this)&&this||{},n$1={},r$1=(r$2,o$1)=>{let s$1=t$1&&UR(n$1,o$1)||o$1;IR(n$1[s$1])&&IR(r$2)?n$1[s$1]=e$1(n$1[s$1],r$2):IR(r$2)?n$1[s$1]=e$1({},r$2):fR(r$2)?n$1[s$1]=r$2.slice():i$1&&SR(r$2)||(n$1[s$1]=r$2)};for(let e$2=0,t$2=arguments.length;e$2<t$2;e$2++)arguments[e$2]&&MR(arguments[e$2],r$1);return n$1},extend:function(e$1,t$1,i$1){let{allOwnKeys:n$1}=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return MR(t$1,((t$2,n$2)=>{i$1&&CR(t$2)?e$1[n$2]=cR(t$2,i$1):e$1[n$2]=t$2}),{allOwnKeys:n$1}),e$1},trim:e$1=>kg(e$1)?kg(e$1).call(e$1):e$1.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,``),stripBOM:e$1=>(e$1.charCodeAt(0)===65279&&(e$1=e$1.slice(1)),e$1),inherits:(e$1,t$1,i$1,n$1)=>{e$1.prototype=Object.create(t$1.prototype,n$1),e$1.prototype.constructor=e$1,Object.defineProperty(e$1,`super`,{value:t$1.prototype}),i$1&&Object.assign(e$1.prototype,i$1)},toFlatObject:(e$1,t$1,i$1,n$1)=>{let r$1,o$1,s$1,a$1={};if(t$1||={},e$1==null)return t$1;do{for(r$1=Object.getOwnPropertyNames(e$1),o$1=r$1.length;o$1-- >0;)s$1=r$1[o$1],n$1&&!n$1(s$1,e$1,t$1)||a$1[s$1]||(t$1[s$1]=e$1[s$1],a$1[s$1]=!0);e$1=!1!==i$1&&lR(e$1)}while(e$1&&(!i$1||i$1(e$1,t$1))&&e$1!==Object.prototype);return t$1},kindOf:pR,kindOfTest:ER,endsWith:(e$1,t$1,i$1)=>{e$1=String(e$1),(i$1===void 0||i$1>e$1.length)&&(i$1=e$1.length),i$1-=t$1.length;let n$1=e$1.indexOf(t$1,i$1);return n$1!==-1&&n$1===i$1},toArray:e$1=>{if(!e$1)return null;if(fR(e$1))return e$1;let t$1=e$1.length;if(!vR(t$1))return null;let i$1=Array(t$1);for(;t$1-- >0;)i$1[t$1]=e$1[t$1];return i$1},forEachEntry:(e$1,t$1)=>{let i$1=(e$1&&e$1[uR]).call(e$1),n$1;for(;(n$1=i$1.next())&&!n$1.done;){let i$2=n$1.value;t$1.call(e$1,i$2[0],i$2[1])}},matchAll:(e$1,t$1)=>{let i$1,n$1=[];for(;(i$1=e$1.exec(t$1))!==null;)n$1.push(i$1);return n$1},isHTMLForm:jR,hasOwnProperty:GR,hasOwnProp:GR,reduceDescriptors:HR,freezeMethods:e$1=>{HR(e$1,((t$1,i$1)=>{if(CR(e$1)&&[`arguments`,`caller`,`callee`].indexOf(i$1)!==-1)return!1;let n$1=e$1[i$1];CR(n$1)&&(t$1.enumerable=!1,`writable`in t$1?t$1.writable=!1:t$1.set||=()=>{throw Error(`Can not rewrite read-only method '`+i$1+`'`)})}))},toObjectSet:(e$1,t$1)=>{let i$1={},n$1=e$2=>{e$2.forEach((e$3=>{i$1[e$3]=!0}))};return fR(e$1)?n$1(e$1):n$1(String(e$1).split(t$1)),i$1},toCamelCase:e$1=>e$1.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e$2,t$1,i$1){return t$1.toUpperCase()+i$1})),noop:()=>{},toFiniteNumber:(e$1,t$1)=>e$1!=null&&Number.isFinite(e$1=+e$1)?e$1:t$1,findKey:UR,global:VR,isContextDefined:xR,isSpecCompliantForm:function(e$1){return!!(e$1&&CR(e$1.append)&&e$1[hR]===`FormData`&&e$1[uR])},toJSONObject:e$1=>{let t$1=Array(10),i$1=(e$2,n$1)=>{if(yR(e$2)){if(t$1.indexOf(e$2)>=0)return;if(gR(e$2))return e$2;if(!(`toJSON`in e$2)){t$1[n$1]=e$2;let r$1=fR(e$2)?[]:{};return MR(e$2,((e$3,t$2)=>{let o$1=i$1(e$3,n$1+1);!SR(o$1)&&(r$1[t$2]=o$1)})),t$1[n$1]=void 0,r$1}}return e$2};return i$1(e$1,0)},isAsyncFn:KR,isThenable:e$1=>e$1&&(yR(e$1)||CR(e$1))&&CR(e$1.then)&&CR(e$1.catch),setImmediate:YR,asap:aR===void 0?typeof process<`u`&&process.nextTick||YR:aR.bind(VR),isIterable:e$1=>e$1!=null&&CR(e$1[uR])};function $R(e$1,t$1,i$1,n$1,r$1){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=e$1,this.name=`AxiosError`,t$1&&(this.code=t$1),i$1&&(this.config=i$1),n$1&&(this.request=n$1),r$1&&(this.response=r$1,this.status=r$1.status?r$1.status:null)}ZR.inherits($R,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ZR.toJSONObject(this.config),code:this.code,status:this.status}}});let eC=$R.prototype,tC={};[`ERR_BAD_OPTION_VALUE`,`ERR_BAD_OPTION`,`ECONNABORTED`,`ETIMEDOUT`,`ERR_NETWORK`,`ERR_FR_TOO_MANY_REDIRECTS`,`ERR_DEPRECATED`,`ERR_BAD_RESPONSE`,`ERR_BAD_REQUEST`,`ERR_CANCELED`,`ERR_NOT_SUPPORT`,`ERR_INVALID_URL`].forEach((e$1=>{tC[e$1]={value:e$1}})),Object.defineProperties($R,tC),Object.defineProperty(eC,`isAxiosError`,{value:!0}),$R.from=(e$1,t$1,i$1,n$1,r$1,o$1)=>{let s$1=Object.create(eC);ZR.toFlatObject(e$1,s$1,(function(e$2){return e$2!==Error.prototype}),(e$2=>e$2!==`isAxiosError`));let a$1=e$1&&e$1.message?e$1.message:`Error`,c$1=t$1==null&&e$1?e$1.code:t$1;return $R.call(s$1,a$1,c$1,i$1,n$1,r$1),e$1&&s$1.cause==null&&Object.defineProperty(s$1,`cause`,{value:e$1,configurable:!0}),s$1.name=e$1&&e$1.name||`Error`,o$1&&Object.assign(s$1,o$1),s$1};function iC(e$1){return ZR.isPlainObject(e$1)||ZR.isArray(e$1)}function nC(e$1){return ZR.endsWith(e$1,`[]`)?e$1.slice(0,-2):e$1}function rC(e$1,t$1,i$1){return e$1?e$1.concat(t$1).map((function(e$2,t$2){return e$2=nC(e$2),!i$1&&t$2?`[`+e$2+`]`:e$2})).join(i$1?`.`:``):t$1}let oC=ZR.toFlatObject(ZR,{},null,(function(e$1){return/^is[A-Z]/.test(e$1)}));function sC(e$1,t$1,i$1){if(!ZR.isObject(e$1))throw TypeError(`target must be an object`);t$1||=new FormData;let n$1=(i$1=ZR.toFlatObject(i$1,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e$2,t$2){return!ZR.isUndefined(t$2[e$2])}))).metaTokens,r$1=i$1.visitor||d$1,o$1=i$1.dots,s$1=i$1.indexes,a$1=(i$1.Blob||typeof Blob<`u`&&Blob)&&ZR.isSpecCompliantForm(t$1);if(!ZR.isFunction(r$1))throw TypeError(`visitor must be a function`);function c$1(e$2){if(e$2===null)return``;if(ZR.isDate(e$2))return e$2.toISOString();if(ZR.isBoolean(e$2))return e$2.toString();if(!a$1&&ZR.isBlob(e$2))throw new $R(`Blob is not supported. Use a Buffer instead.`);return ZR.isArrayBuffer(e$2)||ZR.isTypedArray(e$2)?a$1&&typeof Blob==`function`?new Blob([e$2]):Buffer.from(e$2):e$2}function d$1(e$2,i$2,r$2){let a$2=e$2;if(e$2&&!r$2&&typeof e$2==`object`){if(ZR.endsWith(i$2,`{}`))i$2=n$1?i$2:i$2.slice(0,-2),e$2=JSON.stringify(e$2);else if(ZR.isArray(e$2)&&function(e$3){return ZR.isArray(e$3)&&!e$3.some(iC)}(e$2)||(ZR.isFileList(e$2)||ZR.endsWith(i$2,`[]`))&&(a$2=ZR.toArray(e$2)))return i$2=nC(i$2),a$2.forEach((function(e$3,n$2){!ZR.isUndefined(e$3)&&e$3!==null&&t$1.append(!0===s$1?rC([i$2],n$2,o$1):s$1===null?i$2:i$2+`[]`,c$1(e$3))})),!1}return!!iC(e$2)||(t$1.append(rC(r$2,i$2,o$1),c$1(e$2)),!1)}let l$1=[],u$1=Object.assign(oC,{defaultVisitor:d$1,convertValue:c$1,isVisitable:iC});if(!ZR.isObject(e$1))throw TypeError(`data must be an object`);return function e$2(i$2,n$2){if(!ZR.isUndefined(i$2)){if(l$1.indexOf(i$2)!==-1)throw Error(`Circular reference detected in `+n$2.join(`.`));l$1.push(i$2),ZR.forEach(i$2,(function(i$3,o$2){!0===(!(ZR.isUndefined(i$3)||i$3===null)&&r$1.call(t$1,i$3,ZR.isString(o$2)?kg(o$2).call(o$2):o$2,n$2,u$1))&&e$2(i$3,n$2?n$2.concat(o$2):[o$2])})),l$1.pop()}}(e$1),t$1}function aC(e$1){let t$1={"!":`%21`,"'":`%27`,"(":`%28`,")":`%29`,"~":`%7E`,"%20":`+`,"%00":`\0`};return encodeURIComponent(e$1).replace(/[!'()~]|%20|%00/g,(function(e$2){return t$1[e$2]}))}function cC(e$1,t$1){this._pairs=[],e$1&&sC(e$1,this,t$1)}let dC=cC.prototype;function lC(e$1){return encodeURIComponent(e$1).replace(/%3A/gi,`:`).replace(/%24/g,`$`).replace(/%2C/gi,`,`).replace(/%20/g,`+`)}function uC(e$1,t$1,i$1){if(!t$1)return e$1;let n$1=i$1&&i$1.encode||lC;ZR.isFunction(i$1)&&(i$1={serialize:i$1});let r$1=i$1&&i$1.serialize,o$1;if(o$1=r$1?r$1(t$1,i$1):ZR.isURLSearchParams(t$1)?t$1.toString():new cC(t$1,i$1).toString(n$1),o$1){let t$2=e$1.indexOf(`#`);t$2!==-1&&(e$1=e$1.slice(0,t$2)),e$1+=(e$1.indexOf(`?`)===-1?`?`:`&`)+o$1}return e$1}dC.append=function(e$1,t$1){this._pairs.push([e$1,t$1])},dC.toString=function(e$1){let t$1=e$1?function(t$2){return e$1.call(this,t$2,aC)}:aC;return this._pairs.map((function(e$2){return t$1(e$2[0])+`=`+t$1(e$2[1])}),``).join(`&`)};var hC=class{constructor(){this.handlers=[]}use(e$1,t$1,i$1){return this.handlers.push({fulfilled:e$1,rejected:t$1,synchronous:!!i$1&&i$1.synchronous,runWhen:i$1?i$1.runWhen:null}),this.handlers.length-1}eject(e$1){this.handlers[e$1]&&(this.handlers[e$1]=null)}clear(){this.handlers&&=[]}forEach(e$1){ZR.forEach(this.handlers,(function(t$1){t$1!==null&&e$1(t$1)}))}},pC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_C={exports:{}},EC=Oi,mC=w,fC=Zt.f;EC({target:`Object`,stat:!0,forced:Object.defineProperty!==fC,sham:!mC},{defineProperty:fC});var SC=$.Object,gC=_C.exports=function(e$1,t$1,i$1){return SC.defineProperty(e$1,t$1,i$1)};SC.defineProperty.sham&&(gC.sham=!0);var TC=i(_C.exports),RC=TypeError,CC=or,vC=Qc,yC=Z,IC=pt(`species`),AC=Array,bC=function(e$1){var t$1;return CC(e$1)&&(t$1=e$1.constructor,(vC(t$1)&&(t$1===AC||CC(t$1.prototype))||yC(t$1)&&(t$1=t$1[IC])===null)&&(t$1=void 0)),t$1===void 0?AC:t$1},wC=function(e$1,t$1){return new(bC(e$1))(t$1===0?0:t$1)},OC=n,NC=_e,DC=pt(`species`),PC=function(e$1){return NC>=51||!OC((function(){var t$1=[];return(t$1.constructor={})[DC]=function(){return{foo:1}},t$1[e$1](Boolean).foo!==1}))},LC=Oi,kC=n,MC=or,UC=Z,VC=Je,xC=Wi,FC=function(e$1){if(e$1>9007199254740991)throw RC(`Maximum allowed index exceeded`);return e$1},BC=qE,jC=wC,GC=PC,WC=_e,HC=pt(`isConcatSpreadable`),KC=WC>=51||!kC((function(){var e$1=[];return e$1[HC]=!1,e$1.concat()[0]!==e$1})),YC=function(e$1){if(!UC(e$1))return!1;var t$1=e$1[HC];return t$1===void 0?MC(e$1):!!t$1};LC({target:`Array`,proto:!0,arity:1,forced:!KC||!GC(`concat`)},{concat:function(e$1){var t$1,i$1,n$1,r$1,o$1,s$1=VC(this),a$1=jC(s$1,0),c$1=0;for(t$1=-1,n$1=arguments.length;t$1<n$1;t$1++)if(YC(o$1=t$1===-1?s$1:arguments[t$1]))for(r$1=xC(o$1),FC(c$1+r$1),i$1=0;i$1<r$1;i$1++,c$1++)i$1 in o$1&&BC(a$1,c$1,o$1[i$1]);else FC(c$1+1),BC(a$1,c$1++,o$1);return a$1.length=c$1,a$1}});var zC={},qC=R,XC=J,JC=Br.f,QC=sd,ZC=typeof window==`object`&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];zC.f=function(e$1){return ZC&&qC(e$1)===`Window`?function(e$2){try{return JC(e$2)}catch{return QC(ZC)}}(e$1):JC(XC(e$1))};var $C={};$C.f=pt;var tv=$,iv=$e,nv=$C,rv=Zt.f,ov=function(e$1){var t$1=tv.Symbol||={};iv(t$1,e$1)||rv(t$1,e$1,{value:nv.f(e$1)})},sv=D,av=re,cv=pt,dv=va,lv=function(){var e$1=av(`Symbol`),t$1=e$1&&e$1.prototype,i$1=t$1&&t$1.valueOf,n$1=cv(`toPrimitive`);t$1&&!t$1[n$1]&&dv(t$1,n$1,(function(e$2){return sv(i$1,this)}),{arity:1})},uv=Qt,hv=W,pv=Je,_v=Wi,Ev=wC,mv=d([].push),fv=function(e$1){var t$1=e$1===1,i$1=e$1===2,n$1=e$1===3,r$1=e$1===4,o$1=e$1===6,s$1=e$1===7,a$1=e$1===5||o$1;return function(c$1,d$1,l$1,u$1){for(var h$1,p$1,_$1=pv(c$1),E$1=hv(_$1),m$1=_v(E$1),f$1=uv(d$1,l$1),S$1=0,g$1=u$1||Ev,T$1=t$1?g$1(c$1,m$1):i$1||s$1?g$1(c$1,0):void 0;m$1>S$1;S$1++)if((a$1||S$1 in E$1)&&(p$1=f$1(h$1=E$1[S$1],S$1,_$1),e$1))if(t$1)T$1[S$1]=p$1;else if(p$1)switch(e$1){case 3:return!0;case 5:return h$1;case 6:return S$1;case 2:mv(T$1,h$1)}else switch(e$1){case 4:return!1;case 7:mv(T$1,h$1)}return o$1?-1:n$1||r$1?r$1:T$1}},Sv={forEach:fv(0),map:fv(1),filter:fv(2),some:fv(3),every:fv(4),find:fv(5),findIndex:fv(6),filterReject:fv(7)},gv=Oi,Tv=h,Rv=D,Cv=d,vv=w,yv=Se,Iv=n,Av=$e,bv=l,wv=ni,Ov=J,Nv=vt,Dv=Sn,Pv=x,Lv=ko,kv=ho,Mv=Br,Uv=zC,Vv=Qr,xv=b,Fv=Zt,Bv=co,jv=P,Gv=va,Wv=vc,Hv=ze,Kv=jr,Yv=rt,zv=pt,qv=$C,Xv=ov,Jv=lv,Qv=Ga,Zv=Ea,$v=Sv.forEach,ey=gr(`hidden`),ty=`Symbol`,iy=`prototype`,ny=Zv.set,ry=Zv.getterFor(ty),oy=Object[iy],sy=Tv.Symbol,ay=sy&&sy[iy],cy=Tv.RangeError,dy=Tv.TypeError,ly=Tv.QObject,uy=xv.f,hy=Fv.f,py=Uv.f,_y=jv.f,Ey=Cv([].push),my=Hv(`symbols`),fy=Hv(`op-symbols`),Sy=Hv(`wks`),gy=!ly||!ly[iy]||!ly[iy].findChild,Ty=function(e$1,t$1,i$1){var n$1=uy(oy,t$1);n$1&&delete oy[t$1],hy(e$1,t$1,i$1),n$1&&e$1!==oy&&hy(oy,t$1,n$1)},Ry=vv&&Iv((function(){return Lv(hy({},`a`,{get:function(){return hy(this,`a`,{value:7}).a}})).a!==7}))?Ty:hy,Cy=function(e$1,t$1){var i$1=my[e$1]=Lv(ay);return ny(i$1,{type:ty,tag:e$1,description:t$1}),vv||(i$1.description=t$1),i$1},vy=function(e$1,t$1,i$1){e$1===oy&&vy(fy,t$1,i$1),wv(e$1);var n$1=Nv(t$1);return wv(i$1),Av(my,n$1)?(i$1.enumerable?(Av(e$1,ey)&&e$1[ey][n$1]&&(e$1[ey][n$1]=!1),i$1=Lv(i$1,{enumerable:Pv(0,!1)})):(Av(e$1,ey)||hy(e$1,ey,Pv(1,Lv(null))),e$1[ey][n$1]=!0),Ry(e$1,n$1,i$1)):hy(e$1,n$1,i$1)},yy=function(e$1,t$1){wv(e$1);var i$1=Ov(t$1);return $v(kv(i$1).concat(wy(i$1)),(function(t$2){vv&&!Rv(Iy,i$1,t$2)||vy(e$1,t$2,i$1[t$2])})),e$1},Iy=function(e$1){var t$1=Nv(e$1),i$1=Rv(_y,this,t$1);return!(this===oy&&Av(my,t$1)&&!Av(fy,t$1))&&(!(i$1||!Av(this,t$1)||!Av(my,t$1)||Av(this,ey)&&this[ey][t$1])||i$1)},Ay=function(e$1,t$1){var i$1=Ov(e$1),n$1=Nv(t$1);if(i$1!==oy||!Av(my,n$1)||Av(fy,n$1)){var r$1=uy(i$1,n$1);return!r$1||!Av(my,n$1)||Av(i$1,ey)&&i$1[ey][n$1]||(r$1.enumerable=!0),r$1}},by=function(e$1){var t$1=py(Ov(e$1)),i$1=[];return $v(t$1,(function(e$2){Av(my,e$2)||Av(Kv,e$2)||Ey(i$1,e$2)})),i$1},wy=function(e$1){var t$1=e$1===oy,i$1=py(t$1?fy:Ov(e$1)),n$1=[];return $v(i$1,(function(e$2){!Av(my,e$2)||t$1&&!Av(oy,e$2)||Ey(n$1,my[e$2])})),n$1};yv||(sy=function(){if(bv(ay,this))throw new dy(`Symbol is not a constructor`);var e$1=arguments.length&&arguments[0]!==void 0?Dv(arguments[0]):void 0,t$1=Yv(e$1),i$1=function(e$2){var n$1=this===void 0?Tv:this;n$1===oy&&Rv(i$1,fy,e$2),Av(n$1,ey)&&Av(n$1[ey],t$1)&&(n$1[ey][t$1]=!1);var r$1=Pv(1,e$2);try{Ry(n$1,t$1,r$1)}catch(e$3){if(!(e$3 instanceof cy))throw e$3;Ty(n$1,t$1,r$1)}};return vv&&gy&&Ry(oy,t$1,{configurable:!0,set:i$1}),Cy(t$1,e$1)},Gv(ay=sy[iy],`toString`,(function(){return ry(this).tag})),Gv(sy,`withoutSetter`,(function(e$1){return Cy(Yv(e$1),e$1)})),jv.f=Iy,Fv.f=vy,Bv.f=yy,xv.f=Ay,Mv.f=Uv.f=by,Vv.f=wy,qv.f=function(e$1){return Cy(zv(e$1),e$1)},vv&&Wv(ay,`description`,{configurable:!0,get:function(){return ry(this).description}})),gv({global:!0,constructor:!0,wrap:!0,forced:!yv,sham:!yv},{Symbol:sy}),$v(kv(Sy),(function(e$1){Xv(e$1)})),gv({target:ty,stat:!0,forced:!yv},{useSetter:function(){gy=!0},useSimple:function(){gy=!1}}),gv({target:`Object`,stat:!0,forced:!yv,sham:!vv},{create:function(e$1,t$1){return t$1===void 0?Lv(e$1):yy(Lv(e$1),t$1)},defineProperty:vy,defineProperties:yy,getOwnPropertyDescriptor:Ay}),gv({target:`Object`,stat:!0,forced:!yv},{getOwnPropertyNames:by}),Jv(),Qv(sy,ty),Kv[ey]=!0;var Oy=Se&&!!Symbol.for&&!!Symbol.keyFor,Ny=Oi,Dy=re,Py=$e,Ly=Sn,ky=ze,My=Oy,Uy=ky(`string-to-symbol-registry`),Vy=ky(`symbol-to-string-registry`);Ny({target:`Symbol`,stat:!0,forced:!My},{for:function(e$1){var t$1=Ly(e$1);if(Py(Uy,t$1))return Uy[t$1];var i$1=Dy(`Symbol`)(t$1);return Uy[t$1]=i$1,Vy[i$1]=t$1,i$1}});var xy=Oi,Fy=$e,By=ye,jy=Ae,Gy=Oy,Wy=ze(`symbol-to-string-registry`);xy({target:`Symbol`,stat:!0,forced:!Gy},{keyFor:function(e$1){if(!By(e$1))throw TypeError(jy(e$1)+` is not a symbol`);if(Fy(Wy,e$1))return Wy[e$1]}});var Hy=or,Ky=A,Yy=R,zy=Sn,qy=d([].push),Xy=Oi,Jy=re,Qy=f,Zy=D,$y=d,eI=n,tI=A,iI=ye,nI=sd,rI=function(e$1){if(Ky(e$1))return e$1;if(Hy(e$1)){for(var t$1=e$1.length,i$1=[],n$1=0;n$1<t$1;n$1++){var r$1=e$1[n$1];typeof r$1==`string`?qy(i$1,r$1):typeof r$1!=`number`&&Yy(r$1)!==`Number`&&Yy(r$1)!==`String`||qy(i$1,zy(r$1))}var o$1=i$1.length,s$1=!0;return function(e$2,t$2){if(s$1)return s$1=!1,t$2;if(Hy(this))return t$2;for(var n$2=0;n$2<o$1;n$2++)if(i$1[n$2]===e$2)return t$2}}},oI=Se,sI=String,aI=Jy(`JSON`,`stringify`),cI=$y(/./.exec),dI=$y(``.charAt),lI=$y(``.charCodeAt),uI=$y(``.replace),hI=$y(1.1.toString),pI=/[\uD800-\uDFFF]/g,_I=/^[\uD800-\uDBFF]$/,EI=/^[\uDC00-\uDFFF]$/,mI=!oI||eI((function(){var e$1=Jy(`Symbol`)(`stringify detection`);return aI([e$1])!==`[null]`||aI({a:e$1})!==`{}`||aI(Object(e$1))!==`{}`})),fI=eI((function(){return aI(`\udf06\ud834`)!==`"\\udf06\\ud834"`||aI(`\udead`)!==`"\\udead"`})),SI=function(e$1,t$1){var i$1=nI(arguments),n$1=rI(t$1);if(tI(n$1)||e$1!==void 0&&!iI(e$1))return i$1[1]=function(e$2,t$2){if(tI(n$1)&&(t$2=Zy(n$1,this,sI(e$2),t$2)),!iI(t$2))return t$2},Qy(aI,null,i$1)},gI=function(e$1,t$1,i$1){var n$1=dI(i$1,t$1-1),r$1=dI(i$1,t$1+1);return cI(_I,e$1)&&!cI(EI,r$1)||cI(EI,e$1)&&!cI(_I,n$1)?`\\u`+hI(lI(e$1,0),16):e$1};aI&&Xy({target:`JSON`,stat:!0,arity:3,forced:mI||fI},{stringify:function(e$1,t$1,i$1){var n$1=nI(arguments),r$1=Qy(mI?SI:aI,null,n$1);return fI&&typeof r$1==`string`?uI(r$1,pI,gI):r$1}});var TI=Qr,RI=Je;Oi({target:`Object`,stat:!0,forced:!Se||n((function(){TI.f(1)}))},{getOwnPropertySymbols:function(e$1){var t$1=TI.f;return t$1?t$1(RI(e$1)):[]}}),ov(`asyncDispose`),ov(`asyncIterator`),ov(`dispose`),ov(`hasInstance`),ov(`isConcatSpreadable`),ov(`iterator`),ov(`match`),ov(`matchAll`),ov(`replace`),ov(`search`),ov(`species`),ov(`split`);var CI=lv;ov(`toPrimitive`),CI();var vI=re,yI=Ga;ov(`toStringTag`),yI(vI(`Symbol`),`Symbol`),ov(`unscopables`),Ga(h.JSON,`JSON`,!0);var II=$.Symbol,AI=pt,bI=Zt.f,wI=AI(`metadata`),OI=Function.prototype;OI[wI]===void 0&&bI(OI,wI,{value:null}),ov(`metadata`);var NI=II,DI=d,PI=re(`Symbol`),LI=PI.keyFor,kI=DI(PI.prototype.valueOf),MI=PI.isRegisteredSymbol||function(e$1){try{return LI(kI(e$1))!==void 0}catch{return!1}};Oi({target:`Symbol`,stat:!0},{isRegisteredSymbol:MI});for(var UI=ze,VI=re,xI=d,FI=ye,BI=pt,jI=VI(`Symbol`),GI=jI.isWellKnownSymbol,WI=VI(`Object`,`getOwnPropertyNames`),HI=xI(jI.prototype.valueOf),KI=UI(`wks`),YI=0,zI=WI(jI),qI=zI.length;YI<qI;YI++)try{var XI=zI[YI];FI(jI[XI])&&BI(XI)}catch{}var JI=function(e$1){if(GI&&GI(e$1))return!0;try{for(var t$1=HI(e$1),i$1=0,n$1=WI(KI),r$1=n$1.length;i$1<r$1;i$1++)if(KI[n$1[i$1]]==t$1)return!0}catch{}return!1};Oi({target:`Symbol`,stat:!0,forced:!0},{isWellKnownSymbol:JI}),ov(`customMatcher`),ov(`observable`),Oi({target:`Symbol`,stat:!0,name:`isRegisteredSymbol`},{isRegistered:MI}),Oi({target:`Symbol`,stat:!0,name:`isWellKnownSymbol`,forced:!0},{isWellKnown:JI}),ov(`matcher`),ov(`metadataKey`),ov(`patternMatch`),ov(`replaceAll`);var QI=i(NI),ZI=i($C.f(`iterator`));function $I(e$1){return $I=typeof QI==`function`&&typeof ZI==`symbol`?function(e$2){return typeof e$2}:function(e$2){return e$2&&typeof QI==`function`&&e$2.constructor===QI&&e$2!==QI.prototype?`symbol`:typeof e$2},$I(e$1)}var eA=i($C.f(`toPrimitive`));function tA(e$1){var t$1=function(e$2,t$2){if($I(e$2)!=`object`||!e$2)return e$2;var i$1=e$2[eA];if(i$1!==void 0){var n$1=i$1.call(e$2,t$2||`default`);if($I(n$1)!=`object`)return n$1;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t$2===`string`?String:Number)(e$2)}(e$1,`string`);return $I(t$1)==`symbol`?t$1:t$1+``}function iA(e$1,t$1,i$1){return(t$1=tA(t$1))in e$1?TC(e$1,t$1,{value:i$1,enumerable:!0,configurable:!0,writable:!0}):e$1[t$1]=i$1,e$1}var nA=i(OE),rA={isBrowser:!0,classes:{URLSearchParams:nA===void 0?cC:nA,FormData:typeof FormData<`u`?FormData:null,Blob:typeof Blob<`u`?Blob:null},protocols:[`http`,`https`,`file`,`blob`,`url`,`data`]};let oA=typeof window<`u`&&typeof document<`u`,sA=typeof navigator==`object`&&navigator||void 0,aA=oA&&(!sA||[`ReactNative`,`NativeScript`,`NS`].indexOf(sA.product)<0),cA=typeof WorkerGlobalScope<`u`&&self instanceof WorkerGlobalScope&&typeof self.importScripts==`function`,dA=oA&&window.location.href||`http://localhost`;function lA(e$1,t$1){var i$1=Object.keys(e$1);if(Object.getOwnPropertySymbols){var n$1=Object.getOwnPropertySymbols(e$1);t$1&&(n$1=n$1.filter((function(t$2){return Object.getOwnPropertyDescriptor(e$1,t$2).enumerable}))),i$1.push.apply(i$1,n$1)}return i$1}function uA(e$1){for(var t$1=1;t$1<arguments.length;t$1++){var i$1=arguments[t$1]==null?{}:arguments[t$1];t$1%2?lA(Object(i$1),!0).forEach((function(t$2){iA(e$1,t$2,i$1[t$2])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e$1,Object.getOwnPropertyDescriptors(i$1)):lA(Object(i$1)).forEach((function(t$2){Object.defineProperty(e$1,t$2,Object.getOwnPropertyDescriptor(i$1,t$2))}))}return e$1}var hA=uA(uA({},Object.freeze({__proto__:null,hasBrowserEnv:oA,hasStandardBrowserEnv:aA,hasStandardBrowserWebWorkerEnv:cA,navigator:sA,origin:dA})),rA);function pA(e$1,t$1){var i$1=Object.keys(e$1);if(Object.getOwnPropertySymbols){var n$1=Object.getOwnPropertySymbols(e$1);t$1&&(n$1=n$1.filter((function(t$2){return Object.getOwnPropertyDescriptor(e$1,t$2).enumerable}))),i$1.push.apply(i$1,n$1)}return i$1}function _A(e$1,t$1){return sC(e$1,new hA.classes.URLSearchParams,function(e$2){for(var t$2=1;t$2<arguments.length;t$2++){var i$1=arguments[t$2]==null?{}:arguments[t$2];t$2%2?pA(Object(i$1),!0).forEach((function(t$3){iA(e$2,t$3,i$1[t$3])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e$2,Object.getOwnPropertyDescriptors(i$1)):pA(Object(i$1)).forEach((function(t$3){Object.defineProperty(e$2,t$3,Object.getOwnPropertyDescriptor(i$1,t$3))}))}return e$2}({visitor:function(e$2,t$2,i$1,n$1){return hA.isNode&&ZR.isBuffer(e$2)?(this.append(t$2,e$2.toString(`base64`)),!1):n$1.defaultVisitor.apply(this,arguments)}},t$1))}var EA=Gh.charAt,mA=D,fA=ni,SA=A,gA=R,TA=/./.exec,RA=TypeError,CA=Oi,vA=D,yA=y,IA=Xa,AA=pc,bA=z,wA=ji,OA=Sn,NA=ni,DA=Z,PA=R,LA=rn,kA=rT,MA=Le,UA=n,VA=od,xA=function(e$1,t$1,i$1){return t$1+(i$1?EA(e$1,t$1).length:1)},FA=function(e$1,t$1){var i$1=e$1.exec;if(SA(i$1)){var n$1=mA(i$1,e$1,t$1);return n$1!==null&&fA(n$1),n$1}if(gA(e$1)===`RegExp`)return mA(TA,e$1,t$1);throw new RA(`RegExp#exec called on incompatible receiver`)},BA=Ea,jA=pt(`matchAll`),GA=`RegExp String`,WA=GA+` Iterator`,HA=BA.set,KA=BA.getterFor(WA),YA=TypeError,zA=yA(``.indexOf),qA=yA(``.matchAll),XA=!!qA&&!UA((function(){qA(`a`,/./)})),JA=IA((function(e$1,t$1,i$1,n$1){HA(this,{type:WA,regexp:e$1,string:t$1,global:i$1,unicode:n$1,done:!1})}),GA,(function(){var e$1=KA(this);if(e$1.done)return AA(void 0,!0);var t$1=e$1.regexp,i$1=e$1.string,n$1=FA(t$1,i$1);return n$1===null?(e$1.done=!0,AA(void 0,!0)):e$1.global?(OA(n$1[0])===``&&(t$1.lastIndex=xA(i$1,wA(t$1.lastIndex),e$1.unicode)),AA(n$1,!1)):(e$1.done=!0,AA(n$1,!1))})),QA=function(e$1){var t$1,i$1,n$1,r$1=NA(this),o$1=OA(e$1),s$1=VA(r$1,RegExp),a$1=OA(kA(r$1));return t$1=new s$1(s$1===RegExp?r$1.source:r$1,a$1),i$1=!!~zA(a$1,`g`),n$1=!!~zA(a$1,`u`),t$1.lastIndex=wA(r$1.lastIndex),new JA(t$1,o$1,i$1,n$1)};CA({target:`String`,proto:!0,forced:XA},{matchAll:function(e$1){var t$1,i$1,n$1,r$1,o$1=bA(this);if(DA(e$1)){if(LA(e$1)&&(t$1=OA(bA(kA(e$1))),!~zA(t$1,`g`)))throw new YA("`.matchAll` does not allow non-global regexes");if(XA)return qA(o$1,e$1);if((n$1=MA(e$1,jA))===void 0&&PA(e$1)===`RegExp`&&(n$1=QA),n$1)return vA(n$1,e$1,o$1)}else if(XA)return qA(o$1,e$1);return i$1=OA(o$1),r$1=new RegExp(e$1,`g`),vA(QA,r$1,i$1)}});var ZA=Zi(`String`,`matchAll`),$A=l,eb=ZA,tb=String.prototype,nb=i(function(e$1){var t$1=e$1.matchAll;return typeof e$1==`string`||e$1===tb||$A(tb,e$1)&&t$1===tb.matchAll?eb:t$1});function rb(e$1){function t$1(e$2,i$1,n$1,r$1){let o$1=e$2[r$1++];if(o$1===`__proto__`)return!0;let s$1=Number.isFinite(+o$1),a$1=r$1>=e$2.length;return o$1=!o$1&&ZR.isArray(n$1)?n$1.length:o$1,a$1?(ZR.hasOwnProp(n$1,o$1)?n$1[o$1]=[n$1[o$1],i$1]:n$1[o$1]=i$1,!s$1):(n$1[o$1]&&ZR.isObject(n$1[o$1])||(n$1[o$1]=[]),t$1(e$2,i$1,n$1[o$1],r$1)&&ZR.isArray(n$1[o$1])&&(n$1[o$1]=function(e$3){let t$2={},i$2=Object.keys(e$3),n$2,r$2=i$2.length,o$2;for(n$2=0;n$2<r$2;n$2++)o$2=i$2[n$2],t$2[o$2]=e$3[o$2];return t$2}(n$1[o$1])),!s$1)}if(ZR.isFormData(e$1)&&ZR.isFunction(e$1.entries)){let i$1={};return ZR.forEachEntry(e$1,((e$2,n$1)=>{t$1(function(e$3){return nb(ZR).call(ZR,/\w+|\[(\w*)]/g,e$3).map((e$4=>e$4[0]===`[]`?``:e$4[1]||e$4[0]))}(e$2),n$1,i$1,0)})),i$1}return null}let ob={transitional:pC,adapter:[`xhr`,`http`,`fetch`],transformRequest:[function(e$1,t$1){let i$1=t$1.getContentType()||``,n$1=i$1.indexOf(`application/json`)>-1,r$1=ZR.isObject(e$1);if(r$1&&ZR.isHTMLForm(e$1)&&(e$1=new FormData(e$1)),ZR.isFormData(e$1))return n$1?JSON.stringify(rb(e$1)):e$1;if(ZR.isArrayBuffer(e$1)||ZR.isBuffer(e$1)||ZR.isStream(e$1)||ZR.isFile(e$1)||ZR.isBlob(e$1)||ZR.isReadableStream(e$1))return e$1;if(ZR.isArrayBufferView(e$1))return e$1.buffer;if(ZR.isURLSearchParams(e$1))return t$1.setContentType(`application/x-www-form-urlencoded;charset=utf-8`,!1),e$1.toString();let o$1;if(r$1){if(i$1.indexOf(`application/x-www-form-urlencoded`)>-1)return _A(e$1,this.formSerializer).toString();if((o$1=ZR.isFileList(e$1))||i$1.indexOf(`multipart/form-data`)>-1){let t$2=this.env&&this.env.FormData;return sC(o$1?{"files[]":e$1}:e$1,t$2&&new t$2,this.formSerializer)}}return r$1||n$1?(t$1.setContentType(`application/json`,!1),function(e$2,t$2,i$2){if(ZR.isString(e$2))try{return(t$2||JSON.parse)(e$2),kg(ZR).call(ZR,e$2)}catch(e$3){if(e$3.name!==`SyntaxError`)throw e$3}return(i$2||JSON.stringify)(e$2)}(e$1)):e$1}],transformResponse:[function(e$1){let t$1=this.transitional||ob.transitional,i$1=t$1&&t$1.forcedJSONParsing,n$1=this.responseType===`json`;if(ZR.isResponse(e$1)||ZR.isReadableStream(e$1))return e$1;if(e$1&&ZR.isString(e$1)&&(i$1&&!this.responseType||n$1)){let i$2=!(t$1&&t$1.silentJSONParsing)&&n$1;try{return JSON.parse(e$1,this.parseReviver)}catch(e$2){if(i$2)throw e$2.name===`SyntaxError`?$R.from(e$2,$R.ERR_BAD_RESPONSE,this,null,this.response):e$2}}return e$1}],timeout:0,xsrfCookieName:`XSRF-TOKEN`,xsrfHeaderName:`X-XSRF-TOKEN`,maxContentLength:-1,maxBodyLength:-1,env:{FormData:hA.classes.FormData,Blob:hA.classes.Blob},validateStatus:function(e$1){return e$1>=200&&e$1<300},headers:{common:{Accept:`application/json, text/plain, */*`,"Content-Type":void 0}}};ZR.forEach([`delete`,`get`,`head`,`post`,`put`,`patch`],(e$1=>{ob.headers[e$1]={}}));var sb=ob;let ab=ZR.toObjectSet([`age`,`authorization`,`content-length`,`content-type`,`etag`,`expires`,`from`,`host`,`if-modified-since`,`if-unmodified-since`,`last-modified`,`location`,`max-forwards`,`proxy-authorization`,`referer`,`retry-after`,`user-agent`]),cb=Symbol(`internals`);function db(e$1){var t$1;return e$1&&kg(t$1=String(e$1)).call(t$1).toLowerCase()}function lb(e$1){return!1===e$1||e$1==null?e$1:ZR.isArray(e$1)?e$1.map(lb):String(e$1)}function ub(e$1,t$1,i$1,n$1,r$1){return ZR.isFunction(n$1)?n$1.call(this,t$1,i$1):(r$1&&(t$1=i$1),ZR.isString(t$1)?ZR.isString(n$1)?t$1.indexOf(n$1)!==-1:ZR.isRegExp(n$1)?n$1.test(t$1):void 0:void 0)}class hb{constructor(e$1){e$1&&this.set(e$1)}set(e$1,t$1,i$1){let n$1=this;function r$1(e$2,t$2,i$2){let r$2=db(t$2);if(!r$2)throw Error(`header name must be a non-empty string`);let o$2=ZR.findKey(n$1,r$2);(!o$2||n$1[o$2]===void 0||!0===i$2||i$2===void 0&&!1!==n$1[o$2])&&(n$1[o$2||t$2]=lb(e$2))}let o$1=(e$2,t$2)=>ZR.forEach(e$2,((e$3,i$2)=>r$1(e$3,i$2,t$2)));if(ZR.isPlainObject(e$1)||e$1 instanceof this.constructor)o$1(e$1,t$1);else if(ZR.isString(e$1)&&(e$1=kg(e$1).call(e$1))&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(kg(s$1=e$1).call(s$1)))o$1((e$2=>{let t$2={},i$2,n$2,r$2;return e$2&&e$2.split(`
`).forEach((function(e$3){var o$2,s$2;r$2=e$3.indexOf(`:`),i$2=kg(o$2=e$3.substring(0,r$2)).call(o$2).toLowerCase(),n$2=kg(s$2=e$3.substring(r$2+1)).call(s$2),!i$2||t$2[i$2]&&ab[i$2]||(i$2===`set-cookie`?t$2[i$2]?t$2[i$2].push(n$2):t$2[i$2]=[n$2]:t$2[i$2]=t$2[i$2]?t$2[i$2]+`, `+n$2:n$2)})),t$2})(e$1),t$1);else if(ZR.isObject(e$1)&&ZR.isIterable(e$1)){let i$2,n$2,r$2={};for(let t$2 of e$1){if(!ZR.isArray(t$2))throw TypeError(`Object iterator must return a key-value pair`);r$2[n$2=t$2[0]]=(i$2=r$2[n$2])?ZR.isArray(i$2)?[...i$2,t$2[1]]:[i$2,t$2[1]]:t$2[1]}o$1(r$2,t$1)}else e$1!=null&&r$1(t$1,e$1,i$1);var s$1;return this}get(e$1,t$1){if(e$1=db(e$1)){let i$1=ZR.findKey(this,e$1);if(i$1){let e$2=this[i$1];if(!t$1)return e$2;if(!0===t$1)return function(e$3){let t$2=Object.create(null),i$2=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,n$1;for(;n$1=i$2.exec(e$3);)t$2[n$1[1]]=n$1[2];return t$2}(e$2);if(ZR.isFunction(t$1))return t$1.call(this,e$2,i$1);if(ZR.isRegExp(t$1))return t$1.exec(e$2);throw TypeError(`parser must be boolean|regexp|function`)}}}has(e$1,t$1){if(e$1=db(e$1)){let i$1=ZR.findKey(this,e$1);return!(!i$1||this[i$1]===void 0||t$1&&!ub(0,this[i$1],i$1,t$1))}return!1}delete(e$1,t$1){let i$1=this,n$1=!1;function r$1(e$2){if(e$2=db(e$2)){let r$2=ZR.findKey(i$1,e$2);!r$2||t$1&&!ub(0,i$1[r$2],r$2,t$1)||(delete i$1[r$2],n$1=!0)}}return ZR.isArray(e$1)?e$1.forEach(r$1):r$1(e$1),n$1}clear(e$1){let t$1=Object.keys(this),i$1=t$1.length,n$1=!1;for(;i$1--;){let r$1=t$1[i$1];e$1&&!ub(0,this[r$1],r$1,e$1,!0)||(delete this[r$1],n$1=!0)}return n$1}normalize(e$1){let t$1=this,i$1={};return ZR.forEach(this,((n$1,r$1)=>{var o$1;let s$1=ZR.findKey(i$1,r$1);if(s$1)return t$1[s$1]=lb(n$1),void delete t$1[r$1];let a$1=e$1?function(e$2){return kg(e$2).call(e$2).toLowerCase().replace(/([a-z\d])(\w*)/g,((e$3,t$2,i$2)=>t$2.toUpperCase()+i$2))}(r$1):kg(o$1=String(r$1)).call(o$1);a$1!==r$1&&delete t$1[r$1],t$1[a$1]=lb(n$1),i$1[a$1]=!0})),this}concat(){var t$1=[...arguments];return this.constructor.concat(this,...t$1)}toJSON(e$1){let t$1=Object.create(null);return ZR.forEach(this,((i$1,n$1)=>{i$1!=null&&!1!==i$1&&(t$1[n$1]=e$1&&ZR.isArray(i$1)?i$1.join(`, `):i$1)})),t$1}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e$1=>{let[t$1,i$1]=e$1;return t$1+`: `+i$1})).join(`
`)}getSetCookie(){return this.get(`set-cookie`)||[]}get[Symbol.toStringTag](){return`AxiosHeaders`}static from(e$1){return e$1 instanceof this?e$1:new this(e$1)}static concat(e$1){let t$1=new this(e$1);return[...arguments].slice(1).forEach((e$2=>t$1.set(e$2))),t$1}static accessor(e$1){let t$1=(this[cb]=this[cb]={accessors:{}}).accessors,i$1=this.prototype;function n$1(e$2){let n$2=db(e$2);t$1[n$2]||(function(e$3,t$2){let i$2=ZR.toCamelCase(` `+t$2);[`get`,`set`,`has`].forEach((n$3=>{Object.defineProperty(e$3,n$3+i$2,{value:function(e$4,i$3,r$1){return this[n$3].call(this,t$2,e$4,i$3,r$1)},configurable:!0})}))}(i$1,e$2),t$1[n$2]=!0)}return ZR.isArray(e$1)?e$1.forEach(n$1):n$1(e$1),this}}hb.accessor([`Content-Type`,`Content-Length`,`Accept`,`Accept-Encoding`,`User-Agent`,`Authorization`]),ZR.reduceDescriptors(hb.prototype,((e$1,t$1)=>{let{value:i$1}=e$1,n$1=t$1[0].toUpperCase()+t$1.slice(1);return{get:()=>i$1,set(e$2){this[n$1]=e$2}}})),ZR.freezeMethods(hb);var pb=hb;function _b(e$1,t$1){let i$1=this||sb,n$1=t$1||i$1,r$1=pb.from(n$1.headers),o$1=n$1.data;return ZR.forEach(e$1,(function(e$2){o$1=e$2.call(i$1,o$1,r$1.normalize(),t$1?t$1.status:void 0)})),r$1.normalize(),o$1}function Eb(e$1){return!(!e$1||!e$1.__CANCEL__)}function mb(e$1,t$1,i$1){$R.call(this,e$1??`canceled`,$R.ERR_CANCELED,t$1,i$1),this.name=`CanceledError`}function fb(e$1,t$1,i$1){let n$1=i$1.config.validateStatus;i$1.status&&n$1&&!n$1(i$1.status)?t$1(new $R(`Request failed with status code `+i$1.status,[$R.ERR_BAD_REQUEST,$R.ERR_BAD_RESPONSE][Math.floor(i$1.status/100)-4],i$1.config,i$1.request,i$1)):e$1(i$1)}ZR.inherits(mb,$R,{__CANCEL__:!0});let Sb=function(e$1,t$1){let i$1=arguments.length>2&&arguments[2]!==void 0?arguments[2]:3,n$1=0,r$1=function(e$2,t$2){e$2||=10;let i$2=Array(e$2),n$2=Array(e$2),r$2,o$1=0,s$1=0;return t$2=t$2===void 0?1e3:t$2,function(a$1){let c$1=Date.now(),d$1=n$2[s$1];r$2||=c$1,i$2[o$1]=a$1,n$2[o$1]=c$1;let l$1=s$1,u$1=0;for(;l$1!==o$1;)u$1+=i$2[l$1++],l$1%=e$2;if(o$1=(o$1+1)%e$2,o$1===s$1&&(s$1=(s$1+1)%e$2),c$1-r$2<t$2)return;let h$1=d$1&&c$1-d$1;return h$1?Math.round(1e3*u$1/h$1):void 0}}(50,250);return function(e$2,t$2){let i$2,n$2,r$2=0,o$1=1e3/t$2,s$1=function(t$3){r$2=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Date.now(),i$2=null,n$2&&=(clearTimeout(n$2),null),e$2(...t$3)};return[function(){let e$3=Date.now(),t$3=e$3-r$2;var c$1=[...arguments];t$3>=o$1?s$1(c$1,e$3):(i$2=c$1,n$2||=setTimeout((()=>{n$2=null,s$1(i$2)}),o$1-t$3))},()=>i$2&&s$1(i$2)]}((i$2=>{let o$1=i$2.loaded,s$1=i$2.lengthComputable?i$2.total:void 0,a$1=o$1-n$1,c$1=r$1(a$1);n$1=o$1,e$1({loaded:o$1,total:s$1,progress:s$1?o$1/s$1:void 0,bytes:a$1,rate:c$1||void 0,estimated:c$1&&s$1&&o$1<=s$1?(s$1-o$1)/c$1:void 0,event:i$2,lengthComputable:s$1!=null,[t$1?`download`:`upload`]:!0})}),i$1)},gb=(e$1,t$1)=>{let i$1=e$1!=null;return[n$1=>t$1[0]({lengthComputable:i$1,total:e$1,loaded:n$1}),t$1[1]]},Tb=e$1=>function(){var i$1=[...arguments];return ZR.asap((()=>e$1(...i$1)))};var Rb=hA.hasStandardBrowserEnv?((e$1,t$1)=>i$1=>(i$1=new vS(i$1,hA.origin),e$1.protocol===i$1.protocol&&e$1.host===i$1.host&&(t$1||e$1.port===i$1.port)))(new vS(hA.origin),hA.navigator&&/(msie|trident)/i.test(hA.navigator.userAgent)):()=>!0,Cb=hA.hasStandardBrowserEnv?{write(e$1,t$1,i$1,n$1,r$1,o$1,s$1){if(typeof document>`u`)return;let a$1=[`${e$1}=${encodeURIComponent(t$1)}`];ZR.isNumber(i$1)&&a$1.push(`expires=${new Date(i$1).toUTCString()}`),ZR.isString(n$1)&&a$1.push(`path=${n$1}`),ZR.isString(r$1)&&a$1.push(`domain=${r$1}`),!0===o$1&&a$1.push(`secure`),ZR.isString(s$1)&&a$1.push(`SameSite=${s$1}`),document.cookie=a$1.join(`; `)},read(e$1){if(typeof document>`u`)return null;let t$1=document.cookie.match(RegExp(`(?:^|; )`+e$1+`=([^;]*)`));return t$1?decodeURIComponent(t$1[1]):null},remove(e$1){this.write(e$1,``,Date.now()-864e5,`/`)}}:{write(){},read:()=>null,remove(){}};function vb(e$1,t$1,i$1){let n$1=!function(e$2){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e$2)}(t$1);return e$1&&(n$1||i$1==0)?function(e$2,t$2){return t$2?e$2.replace(/\/?\/$/,``)+`/`+t$2.replace(/^\/+/,``):e$2}(e$1,t$1):t$1}function yb(e$1,t$1){var i$1=Object.keys(e$1);if(Object.getOwnPropertySymbols){var n$1=Object.getOwnPropertySymbols(e$1);t$1&&(n$1=n$1.filter((function(t$2){return Object.getOwnPropertyDescriptor(e$1,t$2).enumerable}))),i$1.push.apply(i$1,n$1)}return i$1}function Ib(e$1){for(var t$1=1;t$1<arguments.length;t$1++){var i$1=arguments[t$1]==null?{}:arguments[t$1];t$1%2?yb(Object(i$1),!0).forEach((function(t$2){iA(e$1,t$2,i$1[t$2])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e$1,Object.getOwnPropertyDescriptors(i$1)):yb(Object(i$1)).forEach((function(t$2){Object.defineProperty(e$1,t$2,Object.getOwnPropertyDescriptor(i$1,t$2))}))}return e$1}let Ab=e$1=>e$1 instanceof pb?Ib({},e$1):e$1;function bb(e$1,t$1){t$1||={};let i$1={};function n$1(e$2,t$2,i$2,n$2){return ZR.isPlainObject(e$2)&&ZR.isPlainObject(t$2)?ZR.merge.call({caseless:n$2},e$2,t$2):ZR.isPlainObject(t$2)?ZR.merge({},t$2):ZR.isArray(t$2)?t$2.slice():t$2}function r$1(e$2,t$2,i$2,r$2){return ZR.isUndefined(t$2)?ZR.isUndefined(e$2)?void 0:n$1(void 0,e$2,0,r$2):n$1(e$2,t$2,0,r$2)}function o$1(e$2,t$2){if(!ZR.isUndefined(t$2))return n$1(void 0,t$2)}function s$1(e$2,t$2){return ZR.isUndefined(t$2)?ZR.isUndefined(e$2)?void 0:n$1(void 0,e$2):n$1(void 0,t$2)}function a$1(i$2,r$2,o$2){return o$2 in t$1?n$1(i$2,r$2):o$2 in e$1?n$1(void 0,i$2):void 0}let c$1={url:o$1,method:o$1,data:o$1,baseURL:s$1,transformRequest:s$1,transformResponse:s$1,paramsSerializer:s$1,timeout:s$1,timeoutMessage:s$1,withCredentials:s$1,withXSRFToken:s$1,adapter:s$1,responseType:s$1,xsrfCookieName:s$1,xsrfHeaderName:s$1,onUploadProgress:s$1,onDownloadProgress:s$1,decompress:s$1,maxContentLength:s$1,maxBodyLength:s$1,beforeRedirect:s$1,transport:s$1,httpAgent:s$1,httpsAgent:s$1,cancelToken:s$1,socketPath:s$1,responseEncoding:s$1,validateStatus:a$1,headers:(e$2,t$2,i$2)=>r$1(Ab(e$2),Ab(t$2),0,!0)};return ZR.forEach(Object.keys(Ib(Ib({},e$1),t$1)),(function(n$2){let o$2=c$1[n$2]||r$1,s$2=o$2(e$1[n$2],t$1[n$2],n$2);ZR.isUndefined(s$2)&&o$2!==a$1||(i$1[n$2]=s$2)})),i$1}var wb=e$1=>{let t$1=bb({},e$1),{data:i$1,withXSRFToken:n$1,xsrfHeaderName:r$1,xsrfCookieName:o$1,headers:s$1,auth:a$1}=t$1;if(t$1.headers=s$1=pb.from(s$1),t$1.url=uC(vb(t$1.baseURL,t$1.url,t$1.allowAbsoluteUrls),e$1.params,e$1.paramsSerializer),a$1&&s$1.set(`Authorization`,`Basic `+btoa((a$1.username||``)+`:`+(a$1.password?unescape(encodeURIComponent(a$1.password)):``))),ZR.isFormData(i$1)){if(hA.hasStandardBrowserEnv||hA.hasStandardBrowserWebWorkerEnv)s$1.setContentType(void 0);else if(ZR.isFunction(i$1.getHeaders)){let e$2=i$1.getHeaders(),t$2=[`content-type`,`content-length`];Object.entries(e$2).forEach((e$3=>{let[i$2,n$2]=e$3;Ln(t$2).call(t$2,i$2.toLowerCase())&&s$1.set(i$2,n$2)}))}}if(hA.hasStandardBrowserEnv&&(n$1&&ZR.isFunction(n$1)&&(n$1=n$1(t$1)),n$1||!1!==n$1&&Rb(t$1.url))){let e$2=r$1&&o$1&&Cb.read(o$1);e$2&&s$1.set(r$1,e$2)}return t$1},Ob=typeof XMLHttpRequest<`u`&&function(e$1){return new rp((function(t$1,i$1){let n$1=wb(e$1),r$1=n$1.data,o$1=pb.from(n$1.headers).normalize(),s$1,a$1,c$1,d$1,l$1,{responseType:u$1,onUploadProgress:h$1,onDownloadProgress:p$1}=n$1;function _$1(){d$1&&d$1(),l$1&&l$1(),n$1.cancelToken&&n$1.cancelToken.unsubscribe(s$1),n$1.signal&&n$1.signal.removeEventListener(`abort`,s$1)}let E$1=new XMLHttpRequest;function m$1(){if(!E$1)return;let n$2=pb.from(`getAllResponseHeaders`in E$1&&E$1.getAllResponseHeaders());fb((function(e$2){t$1(e$2),_$1()}),(function(e$2){i$1(e$2),_$1()}),{data:u$1&&u$1!==`text`&&u$1!==`json`?E$1.response:E$1.responseText,status:E$1.status,statusText:E$1.statusText,headers:n$2,config:e$1,request:E$1}),E$1=null}E$1.open(n$1.method.toUpperCase(),n$1.url,!0),E$1.timeout=n$1.timeout,`onloadend`in E$1?E$1.onloadend=m$1:E$1.onreadystatechange=function(){E$1&&E$1.readyState===4&&(E$1.status!==0||E$1.responseURL&&E$1.responseURL.indexOf(`file:`)===0)&&setTimeout(m$1)},E$1.onabort=function(){E$1&&=(i$1(new $R(`Request aborted`,$R.ECONNABORTED,e$1,E$1)),null)},E$1.onerror=function(t$2){let n$2=new $R(t$2&&t$2.message?t$2.message:`Network Error`,$R.ERR_NETWORK,e$1,E$1);n$2.event=t$2||null,i$1(n$2),E$1=null},E$1.ontimeout=function(){let t$2=n$1.timeout?`timeout of `+n$1.timeout+`ms exceeded`:`timeout exceeded`,r$2=n$1.transitional||pC;n$1.timeoutErrorMessage&&(t$2=n$1.timeoutErrorMessage),i$1(new $R(t$2,r$2.clarifyTimeoutError?$R.ETIMEDOUT:$R.ECONNABORTED,e$1,E$1)),E$1=null},r$1===void 0&&o$1.setContentType(null),`setRequestHeader`in E$1&&ZR.forEach(o$1.toJSON(),(function(e$2,t$2){E$1.setRequestHeader(t$2,e$2)})),ZR.isUndefined(n$1.withCredentials)||(E$1.withCredentials=!!n$1.withCredentials),u$1&&u$1!==`json`&&(E$1.responseType=n$1.responseType),p$1&&([c$1,l$1]=Sb(p$1,!0),E$1.addEventListener(`progress`,c$1)),h$1&&E$1.upload&&([a$1,d$1]=Sb(h$1),E$1.upload.addEventListener(`progress`,a$1),E$1.upload.addEventListener(`loadend`,d$1)),(n$1.cancelToken||n$1.signal)&&(s$1=t$2=>{E$1&&=(i$1(!t$2||t$2.type?new mb(null,e$1,E$1):t$2),E$1.abort(),null)},n$1.cancelToken&&n$1.cancelToken.subscribe(s$1),n$1.signal&&(n$1.signal.aborted?s$1():n$1.signal.addEventListener(`abort`,s$1)));let f$1=function(e$2){let t$2=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e$2);return t$2&&t$2[1]||``}(n$1.url);f$1&&hA.protocols.indexOf(f$1)===-1?i$1(new $R(`Unsupported protocol `+f$1+`:`,$R.ERR_BAD_REQUEST,e$1)):E$1.send(r$1||null)}))},Nb=(e$1,t$1)=>{let{length:i$1}=e$1=e$1?e$1.filter(Boolean):[];if(t$1||i$1){let i$2,n$1=new AbortController,r$1=function(e$2){if(!i$2){i$2=!0,s$1();let t$2=e$2 instanceof Error?e$2:this.reason;n$1.abort(t$2 instanceof $R?t$2:new mb(t$2 instanceof Error?t$2.message:t$2))}},o$1=t$1&&setTimeout((()=>{o$1=null,r$1(new $R(`timeout ${t$1} of ms exceeded`,$R.ETIMEDOUT))}),t$1),s$1=()=>{e$1&&=(o$1&&clearTimeout(o$1),o$1=null,e$1.forEach((e$2=>{e$2.unsubscribe?e$2.unsubscribe(r$1):e$2.removeEventListener(`abort`,r$1)})),null)};e$1.forEach((e$2=>e$2.addEventListener(`abort`,r$1)));let{signal:a$1}=n$1;return a$1.unsubscribe=()=>ZR.asap(s$1),a$1}},Db=i(np),Pb=$C.f(`asyncIterator`),Lb=i(Pb);function kb(e$1,t$1){this.v=e$1,this.k=t$1}function Mb(e$1){return function(){return new Ub(e$1.apply(this,arguments))}}function Ub(e$1){var t$1,i$1;function n$1(t$2,i$2){try{var o$1=e$1[t$2](i$2),s$1=o$1.value,a$1=s$1 instanceof kb;Db.resolve(a$1?s$1.v:s$1).then((function(i$3){if(a$1){var c$1=t$2===`return`?`return`:`next`;if(!s$1.k||i$3.done)return n$1(c$1,i$3);i$3=e$1[c$1](i$3).value}r$1(o$1.done?`return`:`normal`,i$3)}),(function(e$2){n$1(`throw`,e$2)}))}catch(e$2){r$1(`throw`,e$2)}}function r$1(e$2,r$2){switch(e$2){case`return`:t$1.resolve({value:r$2,done:!0});break;case`throw`:t$1.reject(r$2);break;default:t$1.resolve({value:r$2,done:!1})}(t$1=t$1.next)?n$1(t$1.key,t$1.arg):i$1=null}this._invoke=function(e$2,r$2){return new Db((function(o$1,s$1){var a$1={key:e$2,arg:r$2,resolve:o$1,reject:s$1,next:null};i$1?i$1=i$1.next=a$1:(t$1=i$1=a$1,n$1(e$2,r$2))}))},typeof e$1.return!=`function`&&(this.return=void 0)}function Vb(e$1){return new kb(e$1,0)}function xb(e$1){var t$1={},i$1=!1;function n$1(t$2,n$2){return i$1=!0,n$2=new Db((function(i$2){i$2(e$1[t$2](n$2))})),{done:!1,value:new kb(n$2,1)}}return t$1[QI!==void 0&&ZI||`@@iterator`]=function(){return this},t$1.next=function(e$2){return i$1?(i$1=!1,e$2):n$1(`next`,e$2)},typeof e$1.throw==`function`&&(t$1.throw=function(e$2){if(i$1)throw i$1=!1,e$2;return n$1(`throw`,e$2)}),typeof e$1.return==`function`&&(t$1.return=function(e$2){return i$1?(i$1=!1,e$2):n$1(`return`,e$2)}),t$1}Ub.prototype[typeof QI==`function`&&Lb||`@@asyncIterator`]=function(){return this},Ub.prototype.next=function(e$1){return this._invoke(`next`,e$1)},Ub.prototype.throw=function(e$1){return this._invoke(`throw`,e$1)},Ub.prototype.return=function(e$1){return this._invoke(`return`,e$1)};var Fb=i(Pb);function Bb(e$1){var t$1,i$1,n$1,r$1=2;for(typeof Symbol<`u`&&(i$1=Fb,n$1=Symbol.iterator);r$1--;){if(i$1&&(t$1=e$1[i$1])!=null)return t$1.call(e$1);if(n$1&&(t$1=e$1[n$1])!=null)return new jb(t$1.call(e$1));i$1=`@@asyncIterator`,n$1=`@@iterator`}throw TypeError(`Object is not async iterable`)}function jb(e$1){function t$1(e$2){if(Object(e$2)!==e$2)return rp.reject(TypeError(e$2+` is not an object.`));var t$2=e$2.done;return rp.resolve(e$2.value).then((function(e$3){return{value:e$3,done:t$2}}))}return jb=function(e$2){this.s=e$2,this.n=e$2.next},jb.prototype={s:null,n:null,next:function(){return t$1(this.n.apply(this.s,arguments))},return:function(e$2){var i$1=this.s.return;return i$1===void 0?rp.resolve({value:e$2,done:!0}):t$1(i$1.apply(this.s,arguments))},throw:function(e$2){var i$1=this.s.return;return i$1===void 0?rp.reject(e$2):t$1(i$1.apply(this.s,arguments))}},new jb(e$1)}let Gb=function*(e$1,t$1){let i$1=e$1.byteLength;if(!t$1||i$1<t$1)return void(yield e$1);let n$1,r$1=0;for(;r$1<i$1;)n$1=r$1+t$1,yield e$1.slice(r$1,n$1),r$1=n$1},Wb=function(){var e$1=Mb((function*(e$2,t$1){var i$1,n$1=!1,r$1=!1;try{for(var o$1,s$1=Bb(Hb(e$2));n$1=!(o$1=yield Vb(s$1.next())).done;n$1=!1){let e$3=o$1.value;yield*xb(Bb(Gb(e$3,t$1)))}}catch(e$3){r$1=!0,i$1=e$3}finally{try{n$1&&s$1.return!=null&&(yield Vb(s$1.return()))}finally{if(r$1)throw i$1}}}));return function(t$1,i$1){return e$1.apply(this,arguments)}}(),Hb=function(){var e$1=Mb((function*(e$2){if(e$2[Fb])return void(yield*xb(Bb(e$2)));let t$1=e$2.getReader();try{for(;;){let{done:e$3,value:i$1}=yield Vb(t$1.read());if(e$3)break;yield i$1}}finally{yield Vb(t$1.cancel())}}));return function(t$1){return e$1.apply(this,arguments)}}(),Kb=(e$1,t$1,i$1,n$1)=>{let r$1=Wb(e$1,t$1),o$1,s$1=0,a$1=e$2=>{o$1||(o$1=!0,n$1&&n$1(e$2))};return new ReadableStream({async pull(e$2){try{let{done:t$2,value:n$2}=await r$1.next();if(t$2)return a$1(),void e$2.close();let o$2=n$2.byteLength;i$1&&i$1(s$1+=o$2),e$2.enqueue(new Uint8Array(n$2))}catch(e$3){throw a$1(e$3),e$3}},cancel:e$2=>(a$1(e$2),r$1.return())},{highWaterMark:2})};function Yb(e$1,t$1){var i$1=Object.keys(e$1);if(Object.getOwnPropertySymbols){var n$1=Object.getOwnPropertySymbols(e$1);t$1&&(n$1=n$1.filter((function(t$2){return Object.getOwnPropertyDescriptor(e$1,t$2).enumerable}))),i$1.push.apply(i$1,n$1)}return i$1}function zb(e$1){for(var t$1=1;t$1<arguments.length;t$1++){var i$1=arguments[t$1]==null?{}:arguments[t$1];t$1%2?Yb(Object(i$1),!0).forEach((function(t$2){iA(e$1,t$2,i$1[t$2])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e$1,Object.getOwnPropertyDescriptors(i$1)):Yb(Object(i$1)).forEach((function(t$2){Object.defineProperty(e$1,t$2,Object.getOwnPropertyDescriptor(i$1,t$2))}))}return e$1}let{isFunction:qb}=ZR,Xb=(e$1=>{let{Request:t$1,Response:i$1}=e$1;return{Request:t$1,Response:i$1}})(ZR.global),{ReadableStream:Jb,TextEncoder:Qb}=ZR.global,Zb=function(e$1){try{return!!e$1(...[...arguments].slice(1))}catch{return!1}},$b=e$1=>{e$1=ZR.merge.call({skipUndefined:!0},Xb,e$1);let{fetch:t$1,Request:i$1,Response:n$1}=e$1,r$1=t$1?qb(t$1):typeof fetch==`function`,o$1=qb(i$1),s$1=qb(n$1);if(!r$1)return!1;let a$1=r$1&&qb(Jb),c$1=r$1&&(typeof Qb==`function`?(d$1=new Qb,e$2=>d$1.encode(e$2)):async e$2=>new Uint8Array(await new i$1(e$2).arrayBuffer()));var d$1;let l$1=o$1&&a$1&&Zb((()=>{let e$2=!1,t$2=new i$1(hA.origin,{body:new Jb,method:`POST`,get duplex(){return e$2=!0,`half`}}).headers.has(`Content-Type`);return e$2&&!t$2})),u$1=s$1&&a$1&&Zb((()=>ZR.isReadableStream(new n$1(``).body))),h$1={stream:u$1&&(e$2=>e$2.body)};r$1&&[`text`,`arrayBuffer`,`blob`,`formData`,`stream`].forEach((e$2=>{!h$1[e$2]&&(h$1[e$2]=(t$2,i$2)=>{let n$2=t$2&&t$2[e$2];if(n$2)return n$2.call(t$2);throw new $R(`Response type '${e$2}' is not supported`,$R.ERR_NOT_SUPPORT,i$2)})}));let p$1=async(e$2,t$2)=>ZR.toFiniteNumber(e$2.getContentLength())??(async e$3=>e$3==null?0:ZR.isBlob(e$3)?e$3.size:ZR.isSpecCompliantForm(e$3)?(await new i$1(hA.origin,{method:`POST`,body:e$3}).arrayBuffer()).byteLength:ZR.isArrayBufferView(e$3)||ZR.isArrayBuffer(e$3)?e$3.byteLength:(ZR.isURLSearchParams(e$3)&&(e$3+=``),ZR.isString(e$3)?(await c$1(e$3)).byteLength:void 0))(t$2);return async e$2=>{let{url:r$2,method:s$2,data:a$2,signal:c$2,cancelToken:d$2,timeout:_$1,onDownloadProgress:E$1,onUploadProgress:m$1,responseType:f$1,headers:S$1,withCredentials:g$1=`same-origin`,fetchOptions:T$1}=wb(e$2),R$1=t$1||fetch;f$1=f$1?(f$1+``).toLowerCase():`text`;let C$1=Nb([c$2,d$2&&d$2.toAbortSignal()],_$1),v$1=null,y$1=C$1&&C$1.unsubscribe&&(()=>{C$1.unsubscribe()}),I$1;try{if(m$1&&l$1&&s$2!==`get`&&s$2!==`head`&&(I$1=await p$1(S$1,a$2))!==0){let e$3,t$3=new i$1(r$2,{method:`POST`,body:a$2,duplex:`half`});if(ZR.isFormData(a$2)&&(e$3=t$3.headers.get(`content-type`))&&S$1.setContentType(e$3),t$3.body){let[e$4,i$2]=gb(I$1,Sb(Tb(m$1)));a$2=Kb(t$3.body,65536,e$4,i$2)}}ZR.isString(g$1)||(g$1=g$1?`include`:`omit`);let t$2=o$1&&`credentials`in i$1.prototype,c$3=zb(zb({},T$1),{},{signal:C$1,method:s$2.toUpperCase(),headers:S$1.normalize().toJSON(),body:a$2,duplex:`half`,credentials:t$2?g$1:void 0});v$1=o$1&&new i$1(r$2,c$3);let d$3=await(o$1?R$1(v$1,T$1):R$1(r$2,c$3)),_$2=u$1&&(f$1===`stream`||f$1===`response`);if(u$1&&(E$1||_$2&&y$1)){let e$3={};[`status`,`statusText`,`headers`].forEach((t$4=>{e$3[t$4]=d$3[t$4]}));let t$3=ZR.toFiniteNumber(d$3.headers.get(`content-length`)),[i$2,r$3]=E$1&&gb(t$3,Sb(Tb(E$1),!0))||[];d$3=new n$1(Kb(d$3.body,65536,i$2,(()=>{r$3&&r$3(),y$1&&y$1()})),e$3)}f$1||=`text`;let A$1=await h$1[ZR.findKey(h$1,f$1)||`text`](d$3,e$2);return!_$2&&y$1&&y$1(),await new rp(((t$3,i$2)=>{fb(t$3,i$2,{data:A$1,headers:pb.from(d$3.headers),status:d$3.status,statusText:d$3.statusText,config:e$2,request:v$1})}))}catch(t$2){throw y$1&&y$1(),t$2&&t$2.name===`TypeError`&&/Load failed|fetch/i.test(t$2.message)?Object.assign(new $R(`Network Error`,$R.ERR_NETWORK,e$2,v$1),{cause:t$2.cause||t$2}):$R.from(t$2,t$2&&t$2.code,e$2,v$1)}}},ew=new Map,tw=e$1=>{let t$1=e$1&&e$1.env||{},{fetch:i$1,Request:n$1,Response:r$1}=t$1,o$1=[n$1,r$1,i$1],s$1,a$1,c$1=o$1.length,d$1=ew;for(;c$1--;)s$1=o$1[c$1],a$1=d$1.get(s$1),a$1===void 0&&d$1.set(s$1,a$1=c$1?new Map:$b(t$1)),d$1=a$1;return a$1};tw();let iw={http:null,xhr:Ob,fetch:{get:tw}};ZR.forEach(iw,((e$1,t$1)=>{if(e$1){try{Object.defineProperty(e$1,`name`,{value:t$1})}catch{}Object.defineProperty(e$1,`adapterName`,{value:t$1})}}));let nw=e$1=>`- ${e$1}`,rw=e$1=>ZR.isFunction(e$1)||e$1===null||!1===e$1;var ow={getAdapter:function(e$1,t$1){e$1=ZR.isArray(e$1)?e$1:[e$1];let{length:i$1}=e$1,n$1,r$1,o$1={};for(let s$1=0;s$1<i$1;s$1++){let i$2;if(n$1=e$1[s$1],r$1=n$1,!rw(n$1)&&(r$1=iw[(i$2=String(n$1)).toLowerCase()],r$1===void 0))throw new $R(`Unknown adapter '${i$2}'`);if(r$1&&(ZR.isFunction(r$1)||(r$1=r$1.get(t$1))))break;o$1[i$2||`#`+s$1]=r$1}if(!r$1){let e$2=Object.entries(o$1).map((e$3=>{let[t$2,i$2]=e$3;return`adapter ${t$2} `+(!1===i$2?`is not supported by the environment`:`is not available in the build`)}));throw new $R(`There is no suitable adapter to dispatch the request `+(i$1?e$2.length>1?`since :
`+e$2.map(nw).join(`
`):` `+nw(e$2[0]):`as no adapter specified`),`ERR_NOT_SUPPORT`)}return r$1},adapters:iw};function sw(e$1){if(e$1.cancelToken&&e$1.cancelToken.throwIfRequested(),e$1.signal&&e$1.signal.aborted)throw new mb(null,e$1)}function aw(e$1){return sw(e$1),e$1.headers=pb.from(e$1.headers),e$1.data=_b.call(e$1,e$1.transformRequest),[`post`,`put`,`patch`].indexOf(e$1.method)!==-1&&e$1.headers.setContentType(`application/x-www-form-urlencoded`,!1),ow.getAdapter(e$1.adapter||sb.adapter,e$1)(e$1).then((function(t$1){return sw(e$1),t$1.data=_b.call(e$1,e$1.transformResponse,t$1),t$1.headers=pb.from(t$1.headers),t$1}),(function(t$1){return Eb(t$1)||(sw(e$1),t$1&&t$1.response&&(t$1.response.data=_b.call(e$1,e$1.transformResponse,t$1.response),t$1.response.headers=pb.from(t$1.response.headers))),rp.reject(t$1)}))}let cw=`1.13.2`,dw={};[`object`,`boolean`,`number`,`function`,`string`,`symbol`].forEach(((e$1,t$1)=>{dw[e$1]=function(i$1){return typeof i$1===e$1||`a`+(t$1<1?`n `:` `)+e$1}}));let lw={};dw.transitional=function(e$1,t$1,i$1){function n$1(e$2,t$2){return`[Axios v`+cw+`] Transitional option '`+e$2+`'`+t$2+(i$1?`. `+i$1:``)}return(i$2,r$1,o$1)=>{if(!1===e$1)throw new $R(n$1(r$1,` has been removed`+(t$1?` in `+t$1:``)),$R.ERR_DEPRECATED);return t$1&&!lw[r$1]&&(lw[r$1]=!0,console.warn(n$1(r$1,` has been deprecated since v`+t$1+` and will be removed in the near future`))),!e$1||e$1(i$2,r$1,o$1)}},dw.spelling=function(e$1){return(t$1,i$1)=>(console.warn(`${i$1} is likely a misspelling of ${e$1}`),!0)};var uw={assertOptions:function(e$1,t$1,i$1){if(typeof e$1!=`object`)throw new $R(`options must be an object`,$R.ERR_BAD_OPTION_VALUE);let n$1=Object.keys(e$1),r$1=n$1.length;for(;r$1-- >0;){let o$1=n$1[r$1],s$1=t$1[o$1];if(s$1){let t$2=e$1[o$1],i$2=t$2===void 0||s$1(t$2,o$1,e$1);if(!0!==i$2)throw new $R(`option `+o$1+` must be `+i$2,$R.ERR_BAD_OPTION_VALUE)}else if(!0!==i$1)throw new $R(`Unknown option `+o$1,$R.ERR_BAD_OPTION)}},validators:dw};let hw=uw.validators,pw=class{constructor(e$1){this.defaults=e$1||{},this.interceptors={request:new hC,response:new hC}}async request(e$1,t$1){try{return await this._request(e$1,t$1)}catch(e$2){if(e$2 instanceof Error){let t$2={};Error.captureStackTrace?Error.captureStackTrace(t$2):t$2=Error();let i$1=t$2.stack?t$2.stack.replace(/^.+\n/,``):``;try{e$2.stack?i$1&&!String(e$2.stack).endsWith(i$1.replace(/^.+\n.+\n/,``))&&(e$2.stack+=`
`+i$1):e$2.stack=i$1}catch{}}throw e$2}}_request(e$1,t$1){typeof e$1==`string`?(t$1||={}).url=e$1:t$1=e$1||{},t$1=bb(this.defaults,t$1);let{transitional:i$1,paramsSerializer:n$1,headers:r$1}=t$1;i$1!==void 0&&uw.assertOptions(i$1,{silentJSONParsing:hw.transitional(hw.boolean),forcedJSONParsing:hw.transitional(hw.boolean),clarifyTimeoutError:hw.transitional(hw.boolean)},!1),n$1!=null&&(ZR.isFunction(n$1)?t$1.paramsSerializer={serialize:n$1}:uw.assertOptions(n$1,{encode:hw.function,serialize:hw.function},!0)),t$1.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls===void 0?t$1.allowAbsoluteUrls=!0:t$1.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls),uw.assertOptions(t$1,{baseUrl:hw.spelling(`baseURL`),withXsrfToken:hw.spelling(`withXSRFToken`)},!0),t$1.method=(t$1.method||this.defaults.method||`get`).toLowerCase();let o$1=r$1&&ZR.merge(r$1.common,r$1[t$1.method]);r$1&&ZR.forEach([`delete`,`get`,`head`,`post`,`put`,`patch`,`common`],(e$2=>{delete r$1[e$2]})),t$1.headers=pb.concat(o$1,r$1);let s$1=[],a$1=!0;this.interceptors.request.forEach((function(e$2){typeof e$2.runWhen==`function`&&!1===e$2.runWhen(t$1)||(a$1&&=e$2.synchronous,s$1.unshift(e$2.fulfilled,e$2.rejected))}));let c$1=[],d$1;this.interceptors.response.forEach((function(e$2){c$1.push(e$2.fulfilled,e$2.rejected)}));let l$1,u$1=0;if(!a$1){let e$2=[aw.bind(this),void 0];for(e$2.unshift(...s$1),e$2.push(...c$1),l$1=e$2.length,d$1=rp.resolve(t$1);u$1<l$1;)d$1=d$1.then(e$2[u$1++],e$2[u$1++]);return d$1}l$1=s$1.length;let h$1=t$1;for(;u$1<l$1;){let e$2=s$1[u$1++],t$2=s$1[u$1++];try{h$1=e$2(h$1)}catch(e$3){t$2.call(this,e$3);break}}try{d$1=aw.call(this,h$1)}catch(e$2){return rp.reject(e$2)}for(u$1=0,l$1=c$1.length;u$1<l$1;)d$1=d$1.then(c$1[u$1++],c$1[u$1++]);return d$1}getUri(e$1){return uC(vb((e$1=bb(this.defaults,e$1)).baseURL,e$1.url,e$1.allowAbsoluteUrls),e$1.params,e$1.paramsSerializer)}};ZR.forEach([`delete`,`get`,`head`,`options`],(function(e$1){pw.prototype[e$1]=function(t$1,i$1){return this.request(bb(i$1||{},{method:e$1,url:t$1,data:(i$1||{}).data}))}})),ZR.forEach([`post`,`put`,`patch`],(function(e$1){function t$1(t$2){return function(i$1,n$1,r$1){return this.request(bb(r$1||{},{method:e$1,headers:t$2?{"Content-Type":`multipart/form-data`}:{},url:i$1,data:n$1}))}}pw.prototype[e$1]=t$1(),pw.prototype[e$1+`Form`]=t$1(!0)}));var _w=pw;class Ew{constructor(e$1){if(typeof e$1!=`function`)throw TypeError(`executor must be a function.`);let t$1;this.promise=new rp((function(e$2){t$1=e$2}));let i$1=this;this.promise.then((e$2=>{if(!i$1._listeners)return;let t$2=i$1._listeners.length;for(;t$2-- >0;)i$1._listeners[t$2](e$2);i$1._listeners=null})),this.promise.then=e$2=>{let t$2,n$1=new rp((e$3=>{i$1.subscribe(e$3),t$2=e$3})).then(e$2);return n$1.cancel=function(){i$1.unsubscribe(t$2)},n$1},e$1((function(e$2,n$1,r$1){i$1.reason||(i$1.reason=new mb(e$2,n$1,r$1),t$1(i$1.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e$1){this.reason?e$1(this.reason):this._listeners?this._listeners.push(e$1):this._listeners=[e$1]}unsubscribe(e$1){if(!this._listeners)return;let t$1=this._listeners.indexOf(e$1);t$1!==-1&&this._listeners.splice(t$1,1)}toAbortSignal(){let e$1=new AbortController,t$1=t$2=>{e$1.abort(t$2)};return this.subscribe(t$1),e$1.signal.unsubscribe=()=>this.unsubscribe(t$1),e$1.signal}static source(){let e$1;return{token:new Ew((function(t$1){e$1=t$1})),cancel:e$1}}}var mw=Ew;let fw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(fw).forEach((e$1=>{let[t$1,i$1]=e$1;fw[i$1]=t$1}));var Sw=fw;let gw=function e$1(t$1){let i$1=new _w(t$1),n$1=cR(_w.prototype.request,i$1);return ZR.extend(n$1,_w.prototype,i$1,{allOwnKeys:!0}),ZR.extend(n$1,i$1,null,{allOwnKeys:!0}),n$1.create=function(i$2){return e$1(bb(t$1,i$2))},n$1}(sb);gw.Axios=_w,gw.CanceledError=mb,gw.CancelToken=mw,gw.isCancel=Eb,gw.VERSION=cw,gw.toFormData=sC,gw.AxiosError=$R,gw.Cancel=gw.CanceledError,gw.all=function(e$1){return rp.all(e$1)},gw.spread=function(e$1){return function(t$1){return e$1.apply(null,t$1)}},gw.isAxiosError=function(e$1){return ZR.isObject(e$1)&&!0===e$1.isAxiosError},gw.mergeConfig=bb,gw.AxiosHeaders=pb,gw.formToJSON=e$1=>rb(ZR.isHTMLForm(e$1)?new FormData(e$1):e$1),gw.getAdapter=ow.getAdapter,gw.HttpStatusCode=Sw,gw.default=gw;var Tw=gw;let Rw=()=>{};function Cw(){let e$1={promise:void 0,isResolved:!1,isRejected:!1,isFinished:!1,resolve:void 0,reject:void 0,cancel:Rw};return e$1.promise=new rp(((t$1,i$1)=>{e$1.resolve=i$2=>{e$1.isFinished||(e$1.isResolved=!0,e$1.isFinished=!0,t$1(i$2),e$1.value=i$2)},e$1.reject=t$2=>{e$1.isFinished||(e$1.isRejected=!0,e$1.isFinished=!0,i$1(t$2))}})),e$1}let vw=new Map,yw=new Map,Iw=new Map,Aw=function(e$1){return e$1.WIN_10=`Windows 10`,e$1.WIN_81=`Windows 8.1`,e$1.WIN_8=`Windows 8`,e$1.WIN_7=`Windows 7`,e$1.WIN_VISTA=`Windows Vista`,e$1.WIN_SERVER_2003=`Windows Server 2003`,e$1.WIN_XP=`Windows XP`,e$1.WIN_2000=`Windows 2000`,e$1.ANDROID=`Android`,e$1.HARMONY_OS=`HarmonyOS`,e$1.OPEN_BSD=`Open BSD`,e$1.SUN_OS=`Sun OS`,e$1.LINUX=`Linux`,e$1.IOS=`iOS`,e$1.MAC_OS=`Mac OS`,e$1.CHROMIUM_OS=`Chromium OS`,e$1.QNX=`QNX`,e$1.UNIX=`UNIX`,e$1.BEOS=`BeOS`,e$1.OS_2=`OS/2`,e$1.SEARCH_BOT=`Search Bot`,e$1}({}),bw=function(e$1){return e$1.CHROME=`Chrome`,e$1.SAFARI=`Safari`,e$1.EDGE=`Edge`,e$1.FIREFOX=`Firefox`,e$1.OPERA=`OPR`,e$1.QQ=`QQBrowser`,e$1.WECHAT=`MicroMessenger`,e$1}({}),ww=new FT,Ow=ww.getResult(),Nw=null;function Dw(e$1){if(!Nw){e$1&&ww.setUA(e$1),Ow=ww.getResult();let t$1=function(e$2){if(e$2.engine.name===`Blink`&&e$2.browser.name!==`WeChat`)return bw.CHROME;switch(e$2.browser.name){case`Chrome Headless`:case`Chrome`:case`Chromium`:return bw.CHROME;case`Safari`:case`Mobile Safari`:return bw.SAFARI;case`Edge`:return bw.EDGE;case`Firefox`:return bw.FIREFOX;case`QQ`:case`QQBrowser`:return bw.QQ;case`Opera`:return bw.OPERA;case`WeChat`:return bw.WECHAT;default:return e$2.browser.name||``}}(Ow),i$1=Pw(Ow),n$1=function(e$2){return e$2.os.name===`Windows`?e$2.os.version?e$2.os.name+` `+e$2.os.version:e$2.os.name:e$2.os.name||``}(Ow),r$1=Ow.os.version,o$1=Pw(Ow,!1),s$1=Ow.device.type;if(!(t$1&&i$1&&n$1&&r$1))return{name:t$1,version:i$1,os:n$1,osVersion:r$1,browserVersion:o$1,deviceType:s$1};Nw={name:t$1,version:i$1,os:n$1,osVersion:r$1,browserVersion:o$1,deviceType:s$1}}return Nw}function Pw(e$1){let t$1,i$1=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return t$1=e$1.engine.name===`Blink`?e$1.engine.version||``:e$1.browser.version||``,i$1?t$1.split(`.`)[0]:t$1}function Lw(){return Dw().os}function kw(){let e$1=Dw();return`${e$1.os} ${e$1.osVersion}`}function Mw(){let e$1=Dw();return!!(Ow.engine.name===`WebKit`&&e$1.os===Aw.MAC_OS&&navigator.maxTouchPoints&&navigator.maxTouchPoints>0&&e$1.name!==bw.SAFARI||jw()&&e$1.name!==bw.SAFARI)}function Uw(){return Dw().name===bw.CHROME}function Vw(){return Dw().name===bw.SAFARI}function xw(){let e$1=Dw();if(e$1.name!==bw.SAFARI||!e$1.browserVersion)return!1;let t$1=e$1.browserVersion.split(`.`);return Number(t$1[0])>15||Number(t$1[0])===15&&Number(t$1[1])>=4}function Fw(){return Dw().name===bw.EDGE}function Bw(){return Dw().name===bw.FIREFOX}function jw(){return Dw().os===Aw.IOS}function Gw(e$1){let t$1=Dw();return!(t$1.name!==bw.CHROME||!t$1.osVersion)&&Number(t$1.version)>=e$1}function Ww(e$1){let t$1=Dw();return!(t$1.name!==bw.CHROME||!t$1.osVersion)&&Number(t$1.version)<e$1}function Hw(e$1,t$1,i$1){let n$1=Dw();return!(n$1.name!==e$1||!n$1.osVersion)&&(i$1?Number(n$1.version)>=t$1&&Number(n$1.version)<=i$1:Number(n$1.version)===t$1)}function Kw(e$1){let t$1=Dw();return!(t$1.name!==bw.EDGE||!t$1.osVersion)&&Number(t$1.version)>=e$1}function Yw(e$1){let t$1=Dw();return!(t$1.name!==bw.FIREFOX||!t$1.osVersion)&&Number(t$1.version)>=e$1}function zw(e$1){let t$1=Dw();return!(t$1.name!==bw.SAFARI||!t$1.osVersion)&&Number(t$1.version)>=e$1}function qw(e$1,t$1,i$1){let n$1=Dw();if(n$1.os!==Aw.IOS||!n$1.osVersion)return!1;let r$1=n$1.osVersion.split(`.`);return i$1?t$1&&Number(r$1[0])===e$1&&Number(r$1[1])>t$1||Number(r$1[0])>e$1:t$1?Number(r$1[0])===e$1&&Number(r$1[1])>=t$1||Number(r$1[0])>e$1:Number(r$1[0])>=e$1}function Xw(e$1,t$1,i$1){let n$1=Dw();if(n$1.os!==Aw.IOS||!n$1.osVersion)return!1;let r$1=n$1.osVersion.split(`.`);return i$1?t$1&&Number(r$1[0])===e$1&&Number(r$1[1])<t$1||Number(r$1[0])<e$1:t$1?Number(r$1[0])===e$1&&Number(r$1[1])<=t$1||Number(r$1[0])<e$1:Number(r$1[0])<=e$1}function Jw(e$1,t$1,i$1){let n$1=Dw();if(n$1.name!==bw.SAFARI||!n$1.osVersion||!n$1.browserVersion)return!1;let r$1=n$1.browserVersion.split(`.`);return i$1?t$1&&Number(r$1[0])===e$1&&Number(r$1[1])<t$1||Number(r$1[0])<e$1:t$1?Number(r$1[0])===e$1&&Number(r$1[1])<=t$1||Number(r$1[0])<e$1:Number(r$1[0])<=e$1}function Qw(e$1){let t$1=Dw();return!(t$1.name!==bw.OPERA||!t$1.osVersion)&&Number(t$1.version)>=e$1}function Zw(){let e$1=Dw();if(e$1.os!==Aw.IOS||!e$1.osVersion)return!1;let t$1=e$1.osVersion.split(`.`);return Number(t$1[0])<14||Number(t$1[0])===14&&Number(t$1[1])<=6}function $w(){let e$1=Dw();if(e$1.os!==Aw.IOS||!e$1.osVersion)return!1;let t$1=e$1.osVersion.split(`.`);return Number(t$1[0])===15}function eO(){let e$1=Dw();if(e$1.os!==Aw.IOS||!e$1.osVersion)return!1;let t$1=e$1.osVersion.split(`.`);return Number(t$1[0])===16}function tO(){let e$1=Dw();if(e$1.os!==Aw.IOS||!e$1.osVersion)return!1;let t$1=e$1.osVersion.split(`.`);return Number(t$1[0])===15&&Number(t$1[1])>=1}function iO(){return Vw()&&navigator.maxTouchPoints>0}function nO(){return Dw().name===bw.WECHAT}function rO(){return window.navigator.appVersion&&window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)!==null&&window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)[1]<=35}function oO(){let e$1=Lw();return function(){let{deviceType:e$2}=Dw();return e$2===`mobile`||e$2===`tablet`}()||e$1===Aw.ANDROID||e$1===Aw.IOS||e$1===Aw.HARMONY_OS}function sO(){let e$1=Dw();return e$1.name!==bw.EDGE&&e$1.name!==bw.SAFARI&&!!navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]./i)}function aO(){return Lw()===Aw.ANDROID}function cO(){let e$1=Dw();return aO()&&(e$1.name===bw.CHROME||e$1.name===bw.WECHAT||/chrome|chromium/i.test(navigator.userAgent))}function dO(e$1,t$1,i$1){return(t$1=function(e$2){var t$2=function(e$3,t$3){if(typeof e$3!=`object`||!e$3)return e$3;var i$2=e$3[Symbol.toPrimitive];if(i$2!==void 0){var n$1=i$2.call(e$3,`string`);if(typeof n$1!=`object`)return n$1;throw TypeError(`@@toPrimitive must return a primitive value.`)}return String(e$3)}(e$2);return typeof t$2==`symbol`?t$2:t$2+``}(t$1))in e$1?Object.defineProperty(e$1,t$1,{value:i$1,enumerable:!0,configurable:!0,writable:!0}):e$1[t$1]=i$1,e$1}function lO(e$1,t$1){var i$1=Object.keys(e$1);if(Object.getOwnPropertySymbols){var n$1=Object.getOwnPropertySymbols(e$1);t$1&&(n$1=n$1.filter((function(t$2){return Object.getOwnPropertyDescriptor(e$1,t$2).enumerable}))),i$1.push.apply(i$1,n$1)}return i$1}function uO(e$1){for(var t$1=1;t$1<arguments.length;t$1++){var i$1=arguments[t$1]==null?{}:arguments[t$1];t$1%2?lO(Object(i$1),!0).forEach((function(t$2){dO(e$1,t$2,i$1[t$2])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e$1,Object.getOwnPropertyDescriptors(i$1)):lO(Object(i$1)).forEach((function(t$2){Object.defineProperty(e$1,t$2,Object.getOwnPropertyDescriptor(i$1,t$2))}))}return e$1}let hO=function(e$1){return e$1.UNEXPECTED_ERROR=`UNEXPECTED_ERROR`,e$1.UNEXPECTED_RESPONSE=`UNEXPECTED_RESPONSE`,e$1.TIMEOUT=`TIMEOUT`,e$1.INVALID_PARAMS=`INVALID_PARAMS`,e$1.NOT_READABLE=`NOT_READABLE`,e$1.NOT_SUPPORTED=`NOT_SUPPORTED`,e$1.INVALID_OPERATION=`INVALID_OPERATION`,e$1.OPERATION_ABORTED=`OPERATION_ABORTED`,e$1.WEB_SECURITY_RESTRICT=`WEB_SECURITY_RESTRICT`,e$1.EXCHANGE_SDP_FAILED=`EXCHANGE_SDP_FAILED`,e$1.ADD_CANDIDATE_FAILED=`ADD_CANDIDATE_FAILED`,e$1.DATACHANNEL_FAILED=`DATACHANNEL_FAILED`,e$1.NETWORK_ERROR=`NETWORK_ERROR`,e$1.NETWORK_TIMEOUT=`NETWORK_TIMEOUT`,e$1.NETWORK_RESPONSE_ERROR=`NETWORK_RESPONSE_ERROR`,e$1.API_INVOKE_TIMEOUT=`API_INVOKE_TIMEOUT`,e$1.ENUMERATE_DEVICES_FAILED=`ENUMERATE_DEVICES_FAILED`,e$1.DEVICE_NOT_FOUND=`DEVICE_NOT_FOUND`,e$1.ELECTRON_IS_NULL=`ELECTRON_IS_NULL`,e$1.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR=`ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR`,e$1.CHROME_PLUGIN_NO_RESPONSE=`CHROME_PLUGIN_NO_RESPONSE`,e$1.CHROME_PLUGIN_NOT_INSTALL=`CHROME_PLUGIN_NOT_INSTALL`,e$1.MEDIA_OPTION_INVALID=`MEDIA_OPTION_INVALID`,e$1.PERMISSION_DENIED=`PERMISSION_DENIED`,e$1.CONSTRAINT_NOT_SATISFIED=`CONSTRAINT_NOT_SATISFIED`,e$1.TRACK_IS_DISABLED=`TRACK_IS_DISABLED`,e$1.GET_VIDEO_ELEMENT_VISIBLE_ERROR=`GET_VIDEO_ELEMENT_VISIBLE_ERROR`,e$1.SHARE_AUDIO_NOT_ALLOWED=`SHARE_AUDIO_NOT_ALLOWED`,e$1.LOW_STREAM_ENCODING_ERROR=`LOW_STREAM_ENCODING_ERROR`,e$1.SET_ENCODING_PARAMETER_ERROR=`SET_ENCODING_PARAMETER_ERROR`,e$1.TRACK_STATE_UNREACHABLE=`TRACK_STATE_UNREACHABLE`,e$1.INVALID_UINT_UID_FROM_STRING_UID=`INVALID_UINT_UID_FROM_STRING_UID`,e$1.CAN_NOT_GET_PROXY_SERVER=`CAN_NOT_GET_PROXY_SERVER`,e$1.CAN_NOT_GET_GATEWAY_SERVER=`CAN_NOT_GET_GATEWAY_SERVER`,e$1.VOID_GATEWAY_ADDRESS=`VOID_GATEWAY_ADDRESS`,e$1.UID_CONFLICT=`UID_CONFLICT`,e$1.MULTI_UNILBS_RESPONSE_ERROR=`MULTI_UNILBS_RESPONSE_ERROR`,e$1.UPDATE_TICKET_FAILED=`UPDATE_TICKET_FAILED`,e$1.TOKEN_EXPIRE=`TOKEN_EXPIRE`,e$1.INVALID_LOCAL_TRACK=`INVALID_LOCAL_TRACK`,e$1.INVALID_TRACK=`INVALID_TRACK`,e$1.SENDER_NOT_FOUND=`SENDER_NOT_FOUND`,e$1.CREATE_OFFER_FAILED=`CREATE_OFFER_FAILED`,e$1.SET_ANSWER_FAILED=`SET_ANSWER_FAILED`,e$1.ICE_FAILED=`ICE_FAILED`,e$1.PC_CLOSED=`PC_CLOSED`,e$1.SENDER_REPLACE_FAILED=`SENDER_REPLACE_FAILED`,e$1.GET_LOCAL_CAPABILITIES_FAILED=`GET_LOCAL_CAPABILITIES_FAILED`,e$1.GET_LOCAL_CONNECTION_PARAMS_FAILED=`GET_LOCAL_CONNECTION_PARAMS_FAILED`,e$1.SUBSCRIBE_FAILED=`SUBSCRIBE_FAILED`,e$1.UNSUBSCRIBE_FAILED=`UNSUBSCRIBE_FAILED`,e$1.GATEWAY_P2P_LOST=`GATEWAY_P2P_LOST`,e$1.NO_ICE_CANDIDATE=`NO_ICE_CANDIDATE`,e$1.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS=`CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS`,e$1.EXIST_DISABLED_VIDEO_TRACK=`EXIST_DISABLED_VIDEO_TRACK`,e$1.INVALID_REMOTE_USER=`INVALID_REMOTE_USER`,e$1.REMOTE_USER_IS_NOT_PUBLISHED=`REMOTE_USER_IS_NOT_PUBLISHED`,e$1.CUSTOM_REPORT_SEND_FAILED=`CUSTOM_REPORT_SEND_FAILED`,e$1.CUSTOM_REPORT_FREQUENCY_TOO_HIGH=`CUSTOM_REPORT_FREQUENCY_TOO_HIGH`,e$1.FETCH_AUDIO_FILE_FAILED=`FETCH_AUDIO_FILE_FAILED`,e$1.READ_LOCAL_AUDIO_FILE_ERROR=`READ_LOCAL_AUDIO_FILE_ERROR`,e$1.DECODE_AUDIO_FILE_FAILED=`DECODE_AUDIO_FILE_FAILED`,e$1.WS_ABORT=`WS_ABORT`,e$1.WS_DISCONNECT=`WS_DISCONNECT`,e$1.WS_ERR=`WS_ERR`,e$1.EXTERNAL_SIGNAL_ABORT=`EXTERNAL_SIGNAL_ABORT`,e$1.LIVE_STREAMING_TASK_CONFLICT=`LIVE_STREAMING_TASK_CONFLICT`,e$1.LIVE_STREAMING_INVALID_ARGUMENT=`LIVE_STREAMING_INVALID_ARGUMENT`,e$1.LIVE_STREAMING_INTERNAL_SERVER_ERROR=`LIVE_STREAMING_INTERNAL_SERVER_ERROR`,e$1.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED=`LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED`,e$1.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED=`LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED`,e$1.LIVE_STREAMING_CDN_ERROR=`LIVE_STREAMING_CDN_ERROR`,e$1.LIVE_STREAMING_INVALID_RAW_STREAM=`LIVE_STREAMING_INVALID_RAW_STREAM`,e$1.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT=`LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT`,e$1.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE=`LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE`,e$1.LIVE_STREAMING_WARN_FREQUENT_REQUEST=`LIVE_STREAMING_WARN_FREQUENT_REQUEST`,e$1.WEBGL_INTERNAL_ERROR=`WEBGL_INTERNAL_ERROR`,e$1.BEAUTY_PROCESSOR_INTERNAL_ERROR=`BEAUTY_PROCESSOR_INTERNAL_ERROR`,e$1.CROSS_CHANNEL_WAIT_STATUS_ERROR=`CROSS_CHANNEL_WAIT_STATUS_ERROR`,e$1.CROSS_CHANNEL_FAILED_JOIN_SRC=`CROSS_CHANNEL_FAILED_JOIN_SEC`,e$1.CROSS_CHANNEL_FAILED_JOIN_DEST=`CROSS_CHANNEL_FAILED_JOIN_DEST`,e$1.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST=`CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST`,e$1.CROSS_CHANNEL_SERVER_ERROR_RESPONSE=`CROSS_CHANNEL_SERVER_ERROR_RESPONSE`,e$1.METADATA_OUT_OF_RANGE=`METADATA_OUT_OF_RANGE`,e$1.LOCAL_AEC_ERROR=`LOCAL_AEC_ERROR`,e$1.INVALID_PLUGIN=`INVALID_PLUGIN`,e$1.DISCONNECT_P2P=`DISCONNECT_P2P`,e$1.CONVERTING_IMAGEDATA_TO_BLOB_FAILED=`CONVERTING_IMAGEDATA_TO_BLOB_FAILED`,e$1.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED=`CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED`,e$1.INIT_DATACHANNEL_TIMEOUT=`INIT_DATACHANNEL_TIMEOUT`,e$1.CREATE_DATACHANNEL_ERROR=`CREATE_DATACHANNEL_ERROR`,e$1.DATACHANNEL_CONNECTION_TIMEOUT=`DATACHANNEL_CONNECTION_TIMEOUT`,e$1.PROHIBITED_OPERATION=`PROHIBITED_OPERATION`,e$1.IMAGE_MODERATION_UPLOAD_FAILED=`IMAGE_MODERATION_UPLOAD_FAILED`,e$1.P2P_MESSAGE_FAILED=`P2P_MESSAGE_FAILED`,e$1}({}),pO=class extends Error{constructor(e$1){let t$1=arguments.length>1&&arguments[1]!==void 0?arguments[1]:``,i$1=arguments.length>2?arguments[2]:void 0;super(t$1),dO(this,`code`,void 0),dO(this,`message`,void 0),dO(this,`data`,void 0),dO(this,`name`,`AgoraRTCException`),this.code=e$1,this.message=`AgoraRTCError ${this.code}: ${t$1}`,this.data=i$1}toString(){return this.data?`${this.message}
data: ${JSON.stringify(this.data)}`:this.message}print(){let e$1=arguments.length>0&&arguments[0]!==void 0?arguments[0]:`error`,t$1=arguments.length>1?arguments[1]:void 0;return e$1===`error`&&(t$1||console).error(this.toString()),e$1===`warning`&&(t$1||console).warn(this.toString()),this}throw(e$1){throw this.print(`error`,e$1),this}};function _O(e$1,t$1){if(typeof e$1!=`boolean`)throw new pO(hO.INVALID_PARAMS,`Invalid ${t$1}: The value is of the boolean type.`)}function EO(e$1,t$1,i$1){if(!Ln(i$1).call(i$1,e$1))throw new pO(hO.INVALID_PARAMS,`${t$1} can only be set as ${JSON.stringify(i$1)}`)}function mO(e$1,t$1){let i$1=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,n$1=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1e4;if(e$1<i$1||e$1>n$1||(!(arguments.length>4&&arguments[4]!==void 0)||arguments[4])&&!function(e$2){return typeof e$2==`number`&&e$2%1==0}(e$1))throw new pO(hO.INVALID_PARAMS,`invalid ${t$1}: the value range is [${i$1}, ${n$1}]. integer only`)}function fO(e$1,t$1){if(typeof e$1!=`number`){if(!(e$1.min||e$1.max||e$1.ideal||e$1.exact))throw new pO(hO.INVALID_PARAMS,`${t$1} is not a valid ConstrainLong`);e$1.min!==void 0&&mO(e$1.min,`${t$1}.min`,0,1/0),e$1.max!==void 0&&mO(e$1.max,`${t$1}.max`,1,1/0),e$1.exact!==void 0&&mO(e$1.exact,`${t$1}.exact`,1,1/0),e$1.ideal!==void 0&&mO(e$1.ideal,`${t$1}.ideal`,1,1/0)}else mO(e$1,t$1,1,1/0)}function SO(e$1,t$1){let i$1=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,n$1=arguments.length>3&&arguments[3]!==void 0?arguments[3]:255,r$1=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(e$1==null)throw new pO(hO.INVALID_PARAMS,`${t$1||`param`} cannot be empty`);if(!RO(e$1,i$1,n$1,r$1))throw new pO(hO.INVALID_PARAMS,`Invalid ${t$1||`string param`}: Length of the string: [${i$1},${n$1}].${r$1?` ASCII characters only.`:``}`)}function gO(e$1,t$1){if(!Array.isArray(e$1))throw new pO(hO.INVALID_PARAMS,`${t$1} should be an array`)}function TO(e$1){return e$1==null}function RO(e$1){let t$1=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,i$1=arguments.length>2&&arguments[2]!==void 0?arguments[2]:255,n$1=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];return typeof e$1==`string`&&e$1.length<=i$1&&e$1.length>=t$1&&(!n$1||function(e$2){if(typeof e$2!=`string`)return!1;for(let t$2=0;t$2<e$2.length;t$2+=1){let i$2=e$2.charCodeAt(t$2);if(i$2<0||i$2>255)return!1}return!0}(e$1))}function CO(e$1,t$1,i$1){if(`getBigUint64`in DataView.prototype)return e$1.getBigUint64(t$1,i$1);let n$1=e$1.getUint32(t$1,i$1),r$1=e$1.getUint32(t$1+4,i$1),o$1=Number(!!i$1),s$1=Number(!i$1);return BigInt(n$1*s$1+r$1*o$1)<<BigInt(32)|BigInt(n$1*o$1+r$1*s$1)}function vO(e$1,t$1,i$1,n$1){if(`setBigUint64`in DataView.prototype)return e$1.setBigUint64(t$1,i$1,n$1);let r$1=Number(i$1>>BigInt(32)),o$1=Number(i$1&BigInt(4294967295));n$1?(e$1.setUint32(t$1+4,r$1,n$1),e$1.setUint32(t$1,o$1,n$1)):(e$1.setUint32(t$1,r$1,n$1),e$1.setUint32(t$1+4,o$1,n$1))}var yO=function(e$1){return e$1.COVERED=`COVERED`,e$1.POSITION=`POSITION`,e$1.SIZE=`SIZE`,e$1.STYLE=`STYLE`,e$1}(yO||{}),IO=function(e$1){return e$1.UNMOUNTED=`UNMOUNTED`,e$1.INVALID_HTML_ELEMENT=`INVALID_HTML_ELEMENT`,e$1}(IO||{});let AO=new class{constructor(){dO(this,`_clientSize`,null),dO(this,`getClientWidth`,(()=>document.documentElement?document.documentElement.clientWidth:document.body.clientWidth)),dO(this,`getClientHeight`,(()=>document.documentElement?document.documentElement.clientHeight:document.body.clientHeight)),dO(this,`getStyle`,(e$1=>window.getComputedStyle(e$1,null))),dO(this,`checkCssVisibleProperty`,(e$1=>{var t$1;let i$1=!0,{display:r$1,visibility:o$1,opacity:s$1,filter:a$1}=this.getStyle(e$1);return(r$1===`none`||Ln(t$1=[`hidden`,`collapse`]).call(t$1,o$1)||Number(s$1)<.1)&&(i$1=!1),!!i$1&&(a$1&&a$1.split(` `).filter((e$2=>{var t$2;let i$2=e$2.split(`(`)[0];return Ln(t$2=[`brightness`,`blur`,`opacity`]).call(t$2,i$2)})).map((e$2=>{let[t$2,i$2]=e$2.split(/\(|\)/);return[t$2,Number(i$2.match(/^[0-9\.]+/))]})).forEach((e$2=>{let[t$2,n$1]=e$2;switch(t$2){case`brightness`:(n$1<.1||n$1>3)&&(i$1=!1);break;case`blur`:n$1>3&&(i$1=!1);break;case`opacity`:n$1<.1&&(i$1=!1)}})),i$1)})),dO(this,`checkPropertyUpToAllParentNodes`,((e$1,t$1)=>{let i$1=!0,n$1=!0,r$1=e$2=>t$1(e$2),o$1=e$1;for(;o$1&&n$1;)r$1(o$1)||(i$1=!1,n$1=!1),o$1=o$1.parentElement,o$1||(n$1=!1);return i$1})),dO(this,`checkActualCssVisibleIncludeInherit`,(e$1=>this.checkPropertyUpToAllParentNodes(e$1,this.checkCssVisibleProperty))),dO(this,`getSizeAboutClient`,(e$1=>{let{width:t$1,height:i$1,left:n$1,right:r$1,top:o$1,bottom:s$1}=e$1.getBoundingClientRect(),a$1=this.getClientWidth(),c$1=this.getClientHeight();return{width:t$1,height:i$1,left:n$1,right:r$1,top:o$1,bottom:s$1,clientWidth:a$1,clientHeight:c$1,clientMin:Math.min(a$1,c$1)}})),dO(this,`checkActualSize`,(()=>{let{width:e$1,height:t$1,clientMin:i$1}=this._clientSize;return this.checkSizeIsVisible(e$1,t$1,i$1)})),dO(this,`elementFromPoint`,((e$1,t$1)=>document.elementFromPoint?document.elementFromPoint(e$1,t$1):null)),dO(this,`checkCoverForAPoint`,((e$1,t$1,i$1)=>{let n$1=this.elementFromPoint(e$1,t$1);return n$1!==null&&n$1!==i$1})),dO(this,`getPointPositionList`,(()=>{let{width:e$1,height:t$1,left:i$1,top:n$1}=this._clientSize,r$1=e$1/6,o$1=t$1/6,s$1=[],a$1=10**6;for(let e$2=0;e$2<5;e$2++)for(let t$2=0;t$2<5;t$2++){let c$1=(i$1*a$1+(e$2===0?.1:e$2===4?(r$1*e$2*a$1-1e5)/a$1:r$1*e$2)*a$1)/a$1,d$1=(n$1*a$1+(t$2===0?.1:t$2===4?(o$1*t$2*a$1-1e5)/a$1:o$1*t$2)*a$1)/a$1;s$1.push({x:c$1,y:d$1})}return[...s$1]})),dO(this,`checkElementCover`,(e$1=>this.getPointPositionList().map((t$1=>this.checkCoverForAPoint(t$1.x,t$1.y,e$1))).filter((e$2=>!!e$2)).length>6)),dO(this,`checkSizeIsVisible`,((e$1,t$1,i$1)=>(e$1>50||i$1/e$1<=10)&&(t$1>50||i$1/t$1<=10))),dO(this,`checkSizeOfPartInClient`,(()=>{let{left:e$1,right:t$1,top:i$1,bottom:n$1,clientHeight:r$1,clientWidth:o$1,clientMin:s$1}=this._clientSize,a$1,c$1,d$1,l$1;if(e$1<0)a$1=0;else{if(!(e$1<o$1))return!1;a$1=e$1}if(t$1<0)return!1;if(c$1=t$1<o$1?t$1:o$1,i$1<0)d$1=0;else{if(!(i$1<r$1))return!1;d$1=i$1}if(n$1<0)return!1;l$1=n$1<r$1?n$1:r$1;let u$1=c$1-a$1,h$1=l$1-d$1;return this.checkSizeIsVisible(u$1,h$1,s$1)})),dO(this,`returnHiddenResult`,(e$1=>(this._clientSize=null,{visible:!1,reason:e$1}))),dO(this,`checkOneElementVisible`,(e$1=>{if(e$1 instanceof HTMLElement){if(this.checkElementIsMountedOnDom(e$1)){if(this.checkActualCssVisibleIncludeInherit(e$1)){if(this._clientSize=this.getSizeAboutClient(e$1),this.checkElementCover(e$1))return this.returnHiddenResult(yO.COVERED);{let e$2=this.checkActualSize(),t$1=this.checkSizeOfPartInClient();return e$2&&!t$1?this.returnHiddenResult(yO.POSITION):e$2?(this._clientSize=null,{visible:!0}):this.returnHiddenResult(yO.SIZE)}}return this.returnHiddenResult(yO.STYLE)}return this.returnHiddenResult(IO.UNMOUNTED)}return this.returnHiddenResult(IO.INVALID_HTML_ELEMENT)})),dO(this,`checkElementIsMountedOnDom`,(e$1=>this.checkPropertyUpToAllParentNodes(e$1,(e$2=>e$2.nodeName.toUpperCase()===`HTML`?!!document.documentElement:e$2.parentElement!==null))))}};function bO(e$1){return new TextEncoder().encode(e$1)}let wO=function(e$1,t$1){let i$1=new Uint8Array(e$1.byteLength+t$1.byteLength);return i$1.set(new Uint8Array(e$1),0),i$1.set(new Uint8Array(t$1),e$1.byteLength),i$1},OO=async e$1=>function(e$2,t$1){let i$1=``;return new Uint8Array(e$2).forEach((e$3=>{i$1+=e$3.toString(t$1).padStart(2,`0`)})),i$1}(await crypto.subtle.digest(`SHA-256`,bO(e$1)),16),NO=class{constructor(){dO(this,`_events`,{}),dO(this,`addListener`,this.on)}getListeners(e$1){return this._events[e$1]?this._events[e$1].map((e$2=>e$2.listener)):[]}on(e$1,t$1){this._events[e$1]||(this._events[e$1]=[]);let i$1=this._events[e$1];this._indexOfListener(i$1,t$1)===-1&&i$1.push({listener:t$1,once:!1})}once(e$1,t$1){this._events[e$1]||(this._events[e$1]=[]);let i$1=this._events[e$1];this._indexOfListener(i$1,t$1)===-1&&i$1.push({listener:t$1,once:!0})}off(e$1,t$1){if(!this._events[e$1])return;let i$1=this._events[e$1],n$1=this._indexOfListener(i$1,t$1);n$1!==-1&&i$1.splice(n$1,1),this._events[e$1].length===0&&delete this._events[e$1]}removeAllListeners(e$1){e$1?delete this._events[e$1]:this._events={}}emit(e$1){this._events[e$1]||(this._events[e$1]=[]);let t$1=this._events[e$1].map((e$2=>e$2));var n$1=[...arguments].slice(1);for(let i$2=0;i$2<t$1.length;i$2+=1){let r$2=t$1[i$2];r$2.once&&this.off(e$1,r$2.listener),r$2.listener.apply(this,n$1||[])}}safeEmit(e$1){var i$1=[...arguments].slice(1);[...this._events[e$1]||[]].forEach((t$2=>{t$2.once&&this.off(e$1,t$2.listener);try{t$2.listener.apply(this,i$1)}catch(t$3){console.error(`safeEmit event:${e$1} error ${t$3?.toString()}`)}}))}_indexOfListener(e$1,t$1){let i$1=e$1.length;for(;i$1--;)if(e$1[i$1].listener===t$1)return i$1;return-1}},DO=null;function PO(){if(DO)return DO;if(window.electron)return DO=window.electron;if(!window.require)return null;try{return DO=window.require(`electron`),DO}catch{return null}}let LO=function(e$1){return e$1.CREATE_CLIENT=`createClient`,e$1.CHECK_SYSTEM_REQUIREMENTS=`checkSystemRequirements`,e$1.SET_AREA=`setArea`,e$1.PRELOAD=`PRELOAD`,e$1.CHECK_VIDEO_TRACK_IS_ACTIVE=`checkVideoTrackIsActive`,e$1.CHECK_AUDIO_TRACK_IS_ACTIVE=`checkAudioTrackIsActive`,e$1.CREATE_MIC_AUDIO_TRACK=`createMicrophoneAudioTrack`,e$1.CREATE_CUSTOM_AUDIO_TRACK=`createCustomAudioTrack`,e$1.CREATE_BUFFER_AUDIO_TRACK=`createBufferSourceAudioTrack`,e$1.CREATE_CAM_VIDEO_TRACK=`createCameraVideoTrack`,e$1.CREATE_CUSTOM_VIDEO_TRACK=`createCustomVideoTrack`,e$1.CREATE_MIC_AND_CAM_TRACKS=`createMicrophoneAndCameraTracks`,e$1.CREATE_SCREEN_VIDEO_TRACK=`createScreenVideoTrack`,e$1.SET_ENCRYPTION_CONFIG=`Client.setEncryptionConfig`,e$1.START_PROXY_SERVER=`Client.startProxyServer`,e$1.STOP_PROXY_SERVER=`Client.stopProxyServer`,e$1.SET_PROXY_SERVER=`Client.setProxyServer`,e$1.SET_TURN_SERVER=`Client.setTurnServer`,e$1.SET_CLIENT_ROLE=`Client.setClientRole`,e$1.SET_LOW_STREAM_PARAMETER=`Client.setLowStreamParameter`,e$1.ENABLE_DUAL_STREAM=`Client.enableDualStream`,e$1.DISABLE_DUAL_STREAM=`Client.disableDualStream`,e$1.JOIN=`Client.join`,e$1.LEAVE=`Client.leave`,e$1.PUBLISH=`Client.publish`,e$1.UNPUBLISH=`Client.unpublish`,e$1.SUBSCRIBE=`Client.subscribe`,e$1.MASS_SUBSCRIBE=`Client.massSubscribe`,e$1.MASS_UNSUBSCRIBE=`Client.massUnsubscribe`,e$1.UNSUBSCRIBE=`Client.unsubscribe`,e$1.RENEW_TOKEN=`Client.renewToken`,e$1.SET_REMOTE_VIDEO_STREAM_TYPE=`Client.setRemoteVideoStreamType`,e$1.SET_STREAM_FALLBACK_OPTION=`Client.setStreamFallbackOption`,e$1.ENABLE_AUDIO_VOLUME_INDICATOR=`Client.enableAudioVolumeIndicator`,e$1.SEND_CUSTOM_REPORT_MESSAGE=`Client.sendCustomReportMessage`,e$1.INSPECT_VIDEO_CONTENT=`Client.inspectVideoContent`,e$1.STOP_INSPECT_VIDEO_CONTENT=`Client.stopInspectVideoContent`,e$1.JOIN_FALLBACK_TO_PROXY=`Client._joinFallbackToProxy`,e$1.ON_LIVE_STREAM_WARNING=`Client.onLiveStreamWarning`,e$1.ON_LIVE_STREAM_ERROR=`Client.onLiveStreamingError`,e$1.START_LIVE_STREAMING=`Client.startLiveStreaming`,e$1.SET_LIVE_TRANSCODING=`Client.setLiveTranscoding`,e$1.STOP_LIVE_STREAMING=`Client.stopLiveStreaming`,e$1.START_CHANNEL_MEDIA_RELAY=`Client.startChannelMediaRelay`,e$1.UPDATE_CHANNEL_MEDIA_RELAY=`Client.updateChannelMediaRelay`,e$1.STOP_CHANNEL_MEDIA_RELAY=`Client.stopChannelMediaRelay`,e$1.REQUEST_CONFIG_DISTRIBUTE=`_config-distribute-request`,e$1.SET_CONFIG_DISTRIBUTE=`_configDistribute`,e$1.LOCAL_TRACK_SET_MUTED=`LocalTrack.setMute`,e$1.LOCAL_AUDIO_TRACK_PLAY=`LocalAudioTrack.play`,e$1.LOCAL_AUDIO_TRACK_PLAY_IN_ELEMENT=`LocalAudioTrack.playInElement`,e$1.LOCAL_AUDIO_TRACK_STOP=`LocalAudioTrack.stop`,e$1.LOCAL_AUDIO_TRACK_SET_VOLUME=`LocalAudioTrack.setVolume`,e$1.MIC_AUDIO_TRACK_SET_DEVICE=`MicrophoneAudioTrack.setDevice`,e$1.BUFFER_AUDIO_TRACK_START=`BufferSourceAudioTrack.startProcessAudioBuffer`,e$1.BUFFER_AUDIO_TRACK_STOP=`BufferSourceAudioTrack.stopProcessAudioBuffer`,e$1.BUFFER_AUDIO_TRACK_PAUSE=`BufferSourceAudioTrack.pauseProcessAudioBuffer`,e$1.BUFFER_AUDIO_TRACK_RESUME=`BufferSourceAudioTrack.resumeProcessAudioBuffer`,e$1.BUFFER_AUDIO_TRACK_SEEK=`BufferSourceAudioTrack.seekAudioBuffer`,e$1.LOCAL_VIDEO_TRACK_PLAY=`LocalVideoTrack.play`,e$1.LOCAL_VIDEO_TRACK_STOP=`LocalVideoTrack.stop`,e$1.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE=`LocalVideoTrack.getVideoElementVisibleStatus`,e$1.LOCAL_VIDEO_TRACK_BEAUTY=`LocalVideoTrack.setBeautyEffect`,e$1.LOCAL_VIDEO_SEND_SEI_DATA=`LocalVideoTrack.sendSeiData`,e$1.CAM_VIDEO_TRACK_SET_DEVICE=`CameraVideoTrack.setDevice`,e$1.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG=`CameraVideoTrack.setEncoderConfiguration`,e$1.REMOTE_VIDEO_TRACK_PLAY=`RemoteVideoTrack.play`,e$1.REMOTE_VIDEO_TRACK_STOP=`RemoteVideoTrack.stop`,e$1.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE=`RemoteVideoTrack.getVideoElementVisibleStatus`,e$1.REMOTE_AUDIO_TRACK_PLAY=`RemoteAudioTrack.play`,e$1.REMOTE_AUDIO_TRACK_STOP=`RemoteAudioTrack.stop`,e$1.REMOTE_AUDIO_SET_VOLUME=`RemoteAudioTrack.setVolume`,e$1.REMOTE_AUDIO_SET_OUTPUT_DEVICE=`RemoteAudioTrack.setOutputDevice`,e$1.GET_MEDIA_STREAM_TRACK=`Track.getMediaStreamTrack`,e$1.STREAM_TYPE_CHANGE=`streamTypeChange`,e$1.CONNECTION_STATE_CHANGE=`connectionStateChange`,e$1.LOAD_CONFIG_FROM_LOCALSTORAGE=`loadConfigFromLocalStorage`,e$1.IMAGE_MODERATION_UPLOAD=`imageModerationUpload`,e$1.REPUB_AFTER_PC_CONNECTED=`repubAfterPCConnected`,e$1.PRELOAD_MEDIA_FAILED=`preloadMediaFailed`,e$1.MISMATCH_DTLS_PARAMETERS=`mismatchDtlsParameters`,e$1.VOS_FALLBACK_CN=`vosFallbackCN`,e$1.DATACHANNEL_FAILBACK=`datachannelFailback`,e$1}({}),kO=function(e$1){return e$1.TRACER=`tracer`,e$1}({});function MO(e$1){return mO(e$1.timeout,`config.timeout`,0,1e5),mO(e$1.timeoutFactor,`config.timeoutFactor`,0,100,!1),mO(e$1.maxRetryCount,`config.maxRetryConfig`,0,1/0),mO(e$1.maxRetryTimeout,`config.maxRetryTimeout`,0,1/0),!0}let UO=function(e$1){return e$1[e$1.AUDIENCE_LEVEL_LOW_LATENCY=1]=`AUDIENCE_LEVEL_LOW_LATENCY`,e$1[e$1.AUDIENCE_LEVEL_ULTRA_LOW_LATENCY=2]=`AUDIENCE_LEVEL_ULTRA_LOW_LATENCY`,e$1[e$1.AUDIENCE_LEVEL_SYNC_LATENCY=3]=`AUDIENCE_LEVEL_SYNC_LATENCY`,e$1}({}),VO=function(e$1){return e$1.LEAVE=`LEAVE`,e$1.NETWORK_ERROR=`NETWORK_ERROR`,e$1.SERVER_ERROR=`SERVER_ERROR`,e$1.UID_BANNED=`UID_BANNED`,e$1.FALLBACK=`FALLBACK`,e$1.IP_BANNED=`IP_BANNED`,e$1.CHANNEL_BANNED=`CHANNEL_BANNED`,e$1.LICENSE_MISSING=`LICENSE_MISSING`,e$1.LICENSE_EXPIRED=`LICENSE_EXPIRED`,e$1.LICENSE_MINUTES_EXCEEDED=`LICENSE_MINUTES_EXCEEDED`,e$1.LICENSE_PERIOD_INVALID=`LICENSE_PERIOD_INVALID`,e$1.LICENSE_MULTIPLE_SDK_SERVICE=`LICENSE_MULTIPLE_SDK_SERVICE`,e$1.LICENSE_ILLEGAL=`LICENSE_ILLEGAL`,e$1.TOKEN_EXPIRE=`TOKEN_EXPIRE`,e$1.FALLBACK_TO_HLS=`FALLBACK_TO_HLS`,e$1.UID_CONFLICT=`UID_CONFLICT`,e$1}({});function xO(e$1){if(!Array.isArray(e$1)||e$1.length<1)return!1;try{e$1.forEach((e$2=>{if(!e$2.urls)throw Error()}))}catch{return!1}return!0}function FO(e$1){return SO(e$1.turnServerURL,`turnServerURL`),SO(e$1.username,`username`),SO(e$1.password,`password`),e$1.udpport&&mO(e$1.udpport,`udpport`,1,99999,!0),e$1.forceturn&&_O(e$1.forceturn,`forceturn`),e$1.security&&_O(e$1.security,`security`),e$1.tcpport&&mO(e$1.tcpport,`tcpport`,1,99999,!0),!0}let BO=function(e$1){return e$1[e$1.AUTO_SIMULCAST_STREAM=-1]=`AUTO_SIMULCAST_STREAM`,e$1[e$1.DISABLE_SIMULCAST_STREM=0]=`DISABLE_SIMULCAST_STREM`,e$1[e$1.ENABLE_SIMULCAST_STREAM=1]=`ENABLE_SIMULCAST_STREAM`,e$1}({});function jO(e$1){return e$1.level!==void 0&&EO(e$1.level,`level`,[1,2,3]),e$1.delay!==void 0&&mO(e$1.delay,`delay`,0,3e3,!0),!0}let GO=function(e$1){return e$1.PEERCONNECTION_STATE_CHANGE=`peerconnection-state-change`,e$1.AUDIO_METADATA=`audio-metadata`,e$1.AUDIO_PTS=`audio-pts`,e$1.CONNECTION_STATE_CHANGE=`connection-state-change`,e$1.MEDIA_RECONNECT_START=`media-reconnect-start`,e$1.MEDIA_RECONNECT_END=`media-reconnect-end`,e$1.IS_USING_CLOUD_PROXY=`is-using-cloud-proxy`,e$1.USER_JOINED=`user-joined`,e$1.USER_LEAVED=`user-left`,e$1.USER_PUBLISHED=`user-published`,e$1.USER_UNPUBLISHED=`user-unpublished`,e$1.USER_INFO_UPDATED=`user-info-updated`,e$1.CLIENT_BANNED=`client-banned`,e$1.CHANNEL_MEDIA_RELAY_STATE=`channel-media-relay-state`,e$1.CHANNEL_MEDIA_RELAY_EVENT=`channel-media-relay-event`,e$1.VOLUME_INDICATOR=`volume-indicator`,e$1.CRYPT_ERROR=`crypt-error`,e$1.ON_TOKEN_PRIVILEGE_WILL_EXPIRE=`token-privilege-will-expire`,e$1.ON_TOKEN_PRIVILEGE_DID_EXPIRE=`token-privilege-did-expire`,e$1.NETWORK_QUALITY=`network-quality`,e$1.STREAM_TYPE_CHANGED=`stream-type-changed`,e$1.STREAM_FALLBACK=`stream-fallback`,e$1.RECEIVE_METADATA=`receive-metadata`,e$1.STREAM_MESSAGE=`stream-message`,e$1.LIVE_STREAMING_ERROR=`live-streaming-error`,e$1.LIVE_STREAMING_WARNING=`live-streaming-warning`,e$1.EXCEPTION=`exception`,e$1.ERROR=`error`,e$1.P2P_LOST=`p2p_lost`,e$1.JOIN_FALLBACK_TO_PROXY=`join-fallback-to-proxy`,e$1.CHANNEL_FALLBACK_TO_WEBSOCKET=`channel-fallback-to-websocket`,e$1.MEDIA_CONNECTION_TYPE_CHANGE=`media-connection-type-change`,e$1.PUBLISHED_USER_LIST=`published-user-list`,e$1.CONTENT_INSPECT_CONNECTION_STATE_CHANGE=`content-inspect-connection-state-change`,e$1.CONTENT_INSPECT_ERROR=`content-inspect-error`,e$1.CONTENT_INSPECT_RESULT=`content-inspect-result`,e$1.IMAGE_MODERATION_CONNECTION_STATE_CHANGE=`image-moderation-connection-state-change`,e$1.FALLBACK_TO_HLS=`fallback-to-hls`,e$1.FIRST_VIDEO_BUFFER_READY=`first-video-buffer-ready`,e$1.FIRST_VIDEO_PRE_RENDER=`first-video-pre-render`,e$1.AV1_DECODABLE_RESULT=`av1-decodable-result`,e$1}({}),WO=function(e$1){return e$1.CONFIG=`config`,e$1.VOSERROR=`vos_error`,e$1.AP_ERROR=`ap_error`,e$1}({}),HO=function(e$1){return e$1.NETWORK_ERROR=`NETWORK_ERROR`,e$1.SERVER_ERROR=`SERVER_ERROR`,e$1.MULTI_IP=`MULTI_IP`,e$1.TIMEOUT=`TIMEOUT`,e$1.OFFLINE=`OFFLINE`,e$1.LEAVE=`LEAVE`,e$1.P2P_FAILED=`P2P_FAILED`,e$1.FALLBACK=`FALLBACK`,e$1.REGIONAL_DISTRIBUTION=`REGIONAL_DISTRIBUTION`,e$1}({}),KO=function(e$1){return e$1.ONLINE=`ONLINE`,e$1.OFFLINE=`OFFLINE`,e$1}({}),YO=function(e$1){return e$1.NETWORK_STATE_CHANGE=`NETWORK_STATE_CHANGE`,e$1.ONLINE=`ONLINE`,e$1.OFFLINE=`OFFLINE`,e$1}({});function zO(e$1,t$1){var n$1=[...arguments].slice(2);return e$1.getListeners(t$1).length===0?rp.reject(new pO(hO.UNEXPECTED_ERROR,`can not emit promise`)):new rp(((i$2,r$2)=>{e$1.emit(t$1,...n$1,i$2,r$2)}))}function qO(e$1,t$1){return e$1.getListeners(t$1).length===0?rp.resolve():zO(e$1,t$1,...[...arguments].slice(2))}function XO(e$1,t$1){return e$1.getListeners(t$1).length===0?null:JO(e$1,t$1,...[...arguments].slice(2))}function JO(e$1,t$1){let i$1=null,n$1=null;var o$1=[...arguments].slice(2);if(e$1.emit(t$1,...o$1,(e$2=>{i$1=e$2}),(e$2=>{n$1=e$2})),n$1!==null)throw n$1;if(i$1===null)throw new pO(hO.UNEXPECTED_ERROR,`handler is not sync`);return i$1}let QO=new class extends NO{set networkState(e$1){this.emit(YO.NETWORK_STATE_CHANGE,e$1,this._networkState),e$1===KO.ONLINE?this.emit(YO.ONLINE):e$1===KO.OFFLINE&&(this.onlineWaiter=new rp((e$2=>{this.once(YO.ONLINE,(()=>{this.onlineWaiter=void 0,e$2(KO.ONLINE)}))})),this.emit(YO.OFFLINE)),this._networkState=e$1}get networkState(){return this._networkState}get isOnline(){return this._networkState===KO.ONLINE}constructor(){super(),dO(this,`_moduleName`,`network-indicator`),dO(this,`_networkState`,KO.ONLINE),dO(this,`onlineWaiter`,void 0),window.addEventListener(`online`,(()=>{this.networkState=KO.ONLINE})),window.addEventListener(`offline`,(()=>{this.networkState=KO.OFFLINE}))}},ZO=[];for(let e$1=0;e$1<256;++e$1)ZO.push((e$1+256).toString(16).slice(1));let $O=typeof crypto<`u`&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),eN,tN=new Uint8Array(16);function iN(){return $O?$O():function(e$2,t$2,i$1){var n$1,r$1,o$1,s$1;let a$1=(e$2||={}).random??(s$1=e$2).rng?.call(s$1)??function(){if(!eN){if(typeof crypto>`u`||!crypto.getRandomValues)throw Error(`crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported`);eN=crypto.getRandomValues.bind(crypto)}return eN(tN)}();if(a$1.length<16)throw Error(`Random bytes length must be >= 16`);if(a$1[6]=15&a$1[6]|64,a$1[8]=63&a$1[8]|128,t$2){if((i$1||=0)<0||i$1+16>t$2.length)throw RangeError(`UUID byte range ${i$1}:${i$1+15} is out of buffer bounds`);for(let e$3=0;e$3<16;++e$3)t$2[i$1+e$3]=a$1[e$3];return t$2}return function(e$3){let t$3=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(ZO[e$3[t$3+0]]+ZO[e$3[t$3+1]]+ZO[e$3[t$3+2]]+ZO[e$3[t$3+3]]+`-`+ZO[e$3[t$3+4]]+ZO[e$3[t$3+5]]+`-`+ZO[e$3[t$3+6]]+ZO[e$3[t$3+7]]+`-`+ZO[e$3[t$3+8]]+ZO[e$3[t$3+9]]+`-`+ZO[e$3[t$3+10]]+ZO[e$3[t$3+11]]+ZO[e$3[t$3+12]]+ZO[e$3[t$3+13]]+ZO[e$3[t$3+14]]+ZO[e$3[t$3+15]]).toLowerCase()}(a$1)}(e$1,t$1,void 0);var e$1,t$1}function nN(e$1,t$1){let i$1=e$1.indexOf(t$1);i$1!==-1&&e$1.splice(i$1,1)}function rN(e$1){let t$1=[];return e$1.forEach((e$2=>{t$1.indexOf(e$2)===-1&&t$1.push(e$2)})),t$1}function oN(e$1){rp===void 0?setTimeout(e$1,0):rp.resolve().then(e$1)}function sN(e$1){return JSON.parse(JSON.stringify(e$1))}function aN(e$1){try{return sN(e$1)}catch{return e$1}}let cN={};function dN(e$1,t$1){cN[t$1]||(cN[t$1]=!0,e$1())}function lN(e$1){let t$1=window.atob(e$1),i$1=new Uint8Array(new ArrayBuffer(t$1.length));for(let e$2=0;e$2<t$1.length;e$2+=1)i$1[e$2]=t$1.charCodeAt(e$2);return i$1}function uN(e$1){let t$1=``;for(let i$1=0;i$1<e$1.length;i$1+=1)t$1+=String.fromCharCode(e$1[i$1]);return window.btoa(t$1)}function hN(e$1){let t$1=arguments.length>1&&arguments[1]!==void 0?arguments[1]:16,i$1=new TextEncoder().encode(e$1);if(i$1.length>t$1)i$1=i$1.slice(0,t$1);else if(i$1.length<t$1){let e$2=new Uint8Array(t$1);e$2.set(i$1),i$1=e$2}return i$1}function pN(){var t$1=[...arguments];let n$1=nr(t$1).call(t$1,((e$2,t$2)=>e$2+t$2.length),0),r$1=new Uint8Array(new ArrayBuffer(n$1)),o$1=0;return t$1.forEach((e$2=>{r$1.set(e$2,o$1),o$1+=e$2.length})),r$1}function _N(e$1){return window.TextEncoder?new TextEncoder().encode(e$1).length:e$1.length}function EN(e$1){let t$1=0;return(/DingTalk/i.test(navigator.userAgent)||/AliApp/i.test(navigator.userAgent))&&e$1.realFormData&&(e$1=e$1.realFormData),e$1.forEach((e$2=>{t$1+=typeof e$2==`string`?_N(e$2):e$2.size})),t$1+138}function mN(e$1){let t$1=new pO(hO.TIMEOUT,`timeout`);return new rp(((i$1,n$1)=>{window.setTimeout((()=>n$1(t$1)),e$1)}))}function fN(e$1){return new rp((t$1=>{window.setTimeout(t$1,e$1)}))}function SN(){let e$1=arguments.length>0&&arguments[0]!==void 0?arguments[0]:7,t$1=arguments.length>1?arguments[1]:void 0,i$1=Math.random().toString(16).substr(2,e$1).toLowerCase();return i$1.length===e$1?`${t$1}${i$1}`:`${t$1}${i$1}`+SN(e$1-i$1.length,``)}function gN(){let e$1,t$1=!1;try{var i$1;e$1=MT(i$1=iN()).call(i$1,`-`,``)}catch{t$1=!0}return!t$1&&e$1&&e$1.length===32||(e$1=SN(32,``)),e$1.toUpperCase()}let TN=()=>{},RN=new class{constructor(){dO(this,`fnMap`,new Map)}throttleByKey(e$1,t$1,i$1,n$1){var o$1=[...arguments].slice(4);if(this.fnMap.has(t$1)){let r$2=this.fnMap.get(t$1);if(r$2.threshold!==i$1){r$2.fn(...r$2.args),clearTimeout(r$2.timer);let s$2=window.setTimeout((()=>{let e$2=this.fnMap.get(t$1);e$2&&e$2.fn(...e$2.args),this.fnMap.delete(t$1)}),i$1);this.fnMap.set(t$1,{fn:e$1,threshold:i$1,timer:s$2,args:o$1,skipFn:n$1})}else r$2.skipFn&&r$2.skipFn(...r$2.args),this.fnMap.set(t$1,uO(uO({},r$2),{},{fn:e$1,args:o$1,skipFn:n$1}))}else{let r$2=window.setTimeout((()=>{let e$2=this.fnMap.get(t$1);e$2&&e$2.fn(...e$2.args),this.fnMap.delete(t$1)}),i$1);this.fnMap.set(t$1,{fn:e$1,threshold:i$1,timer:r$2,args:o$1,skipFn:n$1})}}},CN=RN.throttleByKey.bind(RN);function vN(e$1){return typeof e$1==`object`&&!!e$1&&!(e$1 instanceof RegExp)}function yN(e$1,t$1){if(!vN(e$1)||!vN(t$1)||Array.isArray(e$1)&&!Array.isArray(t$1)||!Array.isArray(e$1)&&Array.isArray(t$1))return t$1;if(Array.isArray(t$1)&&Array.isArray(e$1)){let i$1=[...e$1];for(let n$1=0;n$1<t$1.length;n$1++)i$1[n$1]=yN(e$1[n$1],t$1[n$1]);return i$1}{let i$1=uO({},e$1);for(let n$1 in t$1)Object.prototype.hasOwnProperty.call(t$1,n$1)&&(Object.prototype.hasOwnProperty.call(e$1,n$1)?i$1[n$1]=yN(e$1[n$1],t$1[n$1]):i$1[n$1]=t$1[n$1]);return i$1}}function IN(e$1,t$1){let i$1=[0];if(t$1&&(i$1=Array(t$1).fill(0)),e$1===0)return i$1;let n$1=0;for(;e$1>0&&(i$1[n$1]=255&e$1,e$1>>=8,n$1++,!t$1||n$1!==t$1););return i$1}function AN(e$1){return typeof e$1==`number`?e$1:e$1.exact||e$1.ideal||e$1.max||e$1.min||0}function bN(e$1,t$1){try{return typeof e$1==`object`&&typeof t$1==`object`&&JSON.stringify(e$1)===JSON.stringify(t$1)}catch{return!1}}function wN(e$1){return nr(e$1).call(e$1,((e$2,t$1)=>e$2+t$1),0)}function ON(e$1){let t$1=`0123456789abcdef`;function i$1(e$2){let i$2,n$2=``;for(i$2=0;i$2<=3;i$2++)n$2+=t$1.charAt(e$2>>8*i$2+4&15)+t$1.charAt(e$2>>8*i$2&15);return n$2}function n$1(e$2,t$2){let i$2=(65535&e$2)+(65535&t$2);return(e$2>>16)+(t$2>>16)+(i$2>>16)<<16|65535&i$2}function r$1(e$2,t$2,i$2,r$2,o$2,s$2){return n$1(function(e$3,t$3){return e$3<<t$3|e$3>>>32-t$3}(n$1(n$1(t$2,e$2),n$1(r$2,s$2)),o$2),i$2)}function o$1(e$2,t$2,i$2,n$2,o$2,s$2,a$2){return r$1(t$2&i$2|~t$2&n$2,e$2,t$2,o$2,s$2,a$2)}function s$1(e$2,t$2,i$2,n$2,o$2,s$2,a$2){return r$1(t$2&n$2|i$2&~n$2,e$2,t$2,o$2,s$2,a$2)}function a$1(e$2,t$2,i$2,n$2,o$2,s$2,a$2){return r$1(t$2^i$2^n$2,e$2,t$2,o$2,s$2,a$2)}function c$1(e$2,t$2,i$2,n$2,o$2,s$2,a$2){return r$1(i$2^(t$2|~n$2),e$2,t$2,o$2,s$2,a$2)}let d$1=function(e$2){let t$2,i$2=1+(e$2.length+8>>6),n$2=Array(16*i$2);for(t$2=0;t$2<16*i$2;t$2++)n$2[t$2]=0;for(t$2=0;t$2<e$2.length;t$2++)n$2[t$2>>2]|=e$2.charCodeAt(t$2)<<t$2%4*8;return n$2[t$2>>2]|=128<<t$2%4*8,n$2[16*i$2-2]=8*e$2.length,n$2}(e$1),l$1,u$1,h$1,p$1,_$1,E$1=1732584193,m$1=-271733879,f$1=-1732584194,S$1=271733878;for(l$1=0;l$1<d$1.length;l$1+=16)u$1=E$1,h$1=m$1,p$1=f$1,_$1=S$1,E$1=o$1(E$1,m$1,f$1,S$1,d$1[l$1+0],7,-680876936),S$1=o$1(S$1,E$1,m$1,f$1,d$1[l$1+1],12,-389564586),f$1=o$1(f$1,S$1,E$1,m$1,d$1[l$1+2],17,606105819),m$1=o$1(m$1,f$1,S$1,E$1,d$1[l$1+3],22,-1044525330),E$1=o$1(E$1,m$1,f$1,S$1,d$1[l$1+4],7,-176418897),S$1=o$1(S$1,E$1,m$1,f$1,d$1[l$1+5],12,1200080426),f$1=o$1(f$1,S$1,E$1,m$1,d$1[l$1+6],17,-1473231341),m$1=o$1(m$1,f$1,S$1,E$1,d$1[l$1+7],22,-45705983),E$1=o$1(E$1,m$1,f$1,S$1,d$1[l$1+8],7,1770035416),S$1=o$1(S$1,E$1,m$1,f$1,d$1[l$1+9],12,-1958414417),f$1=o$1(f$1,S$1,E$1,m$1,d$1[l$1+10],17,-42063),m$1=o$1(m$1,f$1,S$1,E$1,d$1[l$1+11],22,-1990404162),E$1=o$1(E$1,m$1,f$1,S$1,d$1[l$1+12],7,1804603682),S$1=o$1(S$1,E$1,m$1,f$1,d$1[l$1+13],12,-40341101),f$1=o$1(f$1,S$1,E$1,m$1,d$1[l$1+14],17,-1502002290),m$1=o$1(m$1,f$1,S$1,E$1,d$1[l$1+15],22,1236535329),E$1=s$1(E$1,m$1,f$1,S$1,d$1[l$1+1],5,-165796510),S$1=s$1(S$1,E$1,m$1,f$1,d$1[l$1+6],9,-1069501632),f$1=s$1(f$1,S$1,E$1,m$1,d$1[l$1+11],14,643717713),m$1=s$1(m$1,f$1,S$1,E$1,d$1[l$1+0],20,-373897302),E$1=s$1(E$1,m$1,f$1,S$1,d$1[l$1+5],5,-701558691),S$1=s$1(S$1,E$1,m$1,f$1,d$1[l$1+10],9,38016083),f$1=s$1(f$1,S$1,E$1,m$1,d$1[l$1+15],14,-660478335),m$1=s$1(m$1,f$1,S$1,E$1,d$1[l$1+4],20,-405537848),E$1=s$1(E$1,m$1,f$1,S$1,d$1[l$1+9],5,568446438),S$1=s$1(S$1,E$1,m$1,f$1,d$1[l$1+14],9,-1019803690),f$1=s$1(f$1,S$1,E$1,m$1,d$1[l$1+3],14,-187363961),m$1=s$1(m$1,f$1,S$1,E$1,d$1[l$1+8],20,1163531501),E$1=s$1(E$1,m$1,f$1,S$1,d$1[l$1+13],5,-1444681467),S$1=s$1(S$1,E$1,m$1,f$1,d$1[l$1+2],9,-51403784),f$1=s$1(f$1,S$1,E$1,m$1,d$1[l$1+7],14,1735328473),m$1=s$1(m$1,f$1,S$1,E$1,d$1[l$1+12],20,-1926607734),E$1=a$1(E$1,m$1,f$1,S$1,d$1[l$1+5],4,-378558),S$1=a$1(S$1,E$1,m$1,f$1,d$1[l$1+8],11,-2022574463),f$1=a$1(f$1,S$1,E$1,m$1,d$1[l$1+11],16,1839030562),m$1=a$1(m$1,f$1,S$1,E$1,d$1[l$1+14],23,-35309556),E$1=a$1(E$1,m$1,f$1,S$1,d$1[l$1+1],4,-1530992060),S$1=a$1(S$1,E$1,m$1,f$1,d$1[l$1+4],11,1272893353),f$1=a$1(f$1,S$1,E$1,m$1,d$1[l$1+7],16,-155497632),m$1=a$1(m$1,f$1,S$1,E$1,d$1[l$1+10],23,-1094730640),E$1=a$1(E$1,m$1,f$1,S$1,d$1[l$1+13],4,681279174),S$1=a$1(S$1,E$1,m$1,f$1,d$1[l$1+0],11,-358537222),f$1=a$1(f$1,S$1,E$1,m$1,d$1[l$1+3],16,-722521979),m$1=a$1(m$1,f$1,S$1,E$1,d$1[l$1+6],23,76029189),E$1=a$1(E$1,m$1,f$1,S$1,d$1[l$1+9],4,-640364487),S$1=a$1(S$1,E$1,m$1,f$1,d$1[l$1+12],11,-421815835),f$1=a$1(f$1,S$1,E$1,m$1,d$1[l$1+15],16,530742520),m$1=a$1(m$1,f$1,S$1,E$1,d$1[l$1+2],23,-995338651),E$1=c$1(E$1,m$1,f$1,S$1,d$1[l$1+0],6,-198630844),S$1=c$1(S$1,E$1,m$1,f$1,d$1[l$1+7],10,1126891415),f$1=c$1(f$1,S$1,E$1,m$1,d$1[l$1+14],15,-1416354905),m$1=c$1(m$1,f$1,S$1,E$1,d$1[l$1+5],21,-57434055),E$1=c$1(E$1,m$1,f$1,S$1,d$1[l$1+12],6,1700485571),S$1=c$1(S$1,E$1,m$1,f$1,d$1[l$1+3],10,-1894986606),f$1=c$1(f$1,S$1,E$1,m$1,d$1[l$1+10],15,-1051523),m$1=c$1(m$1,f$1,S$1,E$1,d$1[l$1+1],21,-2054922799),E$1=c$1(E$1,m$1,f$1,S$1,d$1[l$1+8],6,1873313359),S$1=c$1(S$1,E$1,m$1,f$1,d$1[l$1+15],10,-30611744),f$1=c$1(f$1,S$1,E$1,m$1,d$1[l$1+6],15,-1560198380),m$1=c$1(m$1,f$1,S$1,E$1,d$1[l$1+13],21,1309151649),E$1=c$1(E$1,m$1,f$1,S$1,d$1[l$1+4],6,-145523070),S$1=c$1(S$1,E$1,m$1,f$1,d$1[l$1+11],10,-1120210379),f$1=c$1(f$1,S$1,E$1,m$1,d$1[l$1+2],15,718787259),m$1=c$1(m$1,f$1,S$1,E$1,d$1[l$1+9],21,-343485551),E$1=n$1(E$1,u$1),m$1=n$1(m$1,h$1),f$1=n$1(f$1,p$1),S$1=n$1(S$1,_$1);return i$1(E$1)+i$1(m$1)+i$1(f$1)+i$1(S$1)}let NN=1,DN=console,PN=class{static setLogger(e$1){DN=e$1}constructor(e$1,t$1){dO(this,`id`,void 0),dO(this,`lockingPromise`,rp.resolve()),dO(this,`locks`,0),dO(this,`name`,``),dO(this,`lockId`,void 0),this.lockId=NN++,e$1&&(this.name=e$1),t$1&&(this.id=t$1),this.logger(`created`)}logger(e$1,t$1){let i$1=(this.id?`[${this.id}]`:``)+`[lock-${this.name}-${this.lockId}]`,n$1=e$1===`created`?`is ${e$1}.`:`is ${e$1}, current queue ${this.locks}. ${t$1??``}`;DN.debug(`${i$1} ${n$1}`)}setId(e$1){this.id=e$1}get isLocked(){return this.locks>0}lock(e$1){let t$1;this.locks+=1,this.logger(`locked`,e$1);let i$1=new rp((i$2=>{t$1=()=>{--this.locks,this.logger(`unlocked`,e$1),i$2()}})),n$1=this.lockingPromise.then((()=>t$1));return this.lockingPromise=this.lockingPromise.then((()=>i$1)),n$1}};function LN(e$1,t$1){return function(i$1,n$1,r$1){let o$1=r$1.value;if(typeof o$1!=`function`)throw Error(`Cannot use mutex on object property.`);return r$1.value=async function(){let i$2=this[t$1];if(!i$2)throw Error(`mutex property key ${t$1} doesn't exist on ${e$1}`);let r$2=await i$2.lock(`From ${e$1}.${n$1}`);try{var a$1=[...arguments];return await o$1.apply(this,a$1)}finally{r$2()}},r$1}}let kN={timeout:500,timeoutFactor:1.5,maxRetryCount:1/0,maxRetryTimeout:1e4};function MN(e$1,t$1){let i$1=Math.floor(t$1.timeout*t$1.timeoutFactor**+e$1);return Math.min(t$1.maxRetryTimeout,i$1)}function UN(e$1,t$1,i$1,n$1){let r$1=Object.assign({},kN,n$1),o$1=r$1.timeout,s$1=async()=>{await function(e$2){return new rp((t$2=>{window.setTimeout(t$2,e$2)}))}(o$1),o$1*=r$1.timeoutFactor,o$1=Math.min(r$1.maxRetryTimeout,o$1)},a$1=!1,c$1=new rp((async(n$2,o$2)=>{t$1||=(()=>!1),i$1||=(()=>!0);for(let c$2=0;c$2<r$1.maxRetryCount;c$2+=1){if(a$1)return o$2(new pO(hO.OPERATION_ABORTED));try{let i$2=await e$1();if(!t$1(i$2,c$2)||c$2+1===r$1.maxRetryCount)return n$2(i$2);await s$1()}catch(e$2){if(!i$1(e$2,c$2)||c$2+1===r$1.maxRetryCount)return o$2(e$2);await s$1()}}}));return c$1.cancel=()=>a$1=!0,c$1}let VN,xN=class{constructor(e$1){dO(this,`input`,[]),dO(this,`size`,void 0),this.size=e$1}add(e$1){this.input.push(e$1),this.input.length>this.size&&this.input.splice(0,1)}mean(){var e$1;return this.input.length===0?0:nr(e$1=this.input).call(e$1,((e$2,t$1)=>e$2+t$1))/this.input.length}},FN=0,BN=0;function jN(e$1,t$1,i$1,n$1){return new rp(((r$1,o$1)=>{t$1.responseType=t$1.responseType||`json`,t$1.data&&!i$1?(t$1.data=JSON.stringify(t$1.data),FN+=_N(t$1.data)):i$1&&(t$1.data.size?FN+=t$1.data.size:t$1.data instanceof FormData?FN+=EN(t$1.data):FN+=_N(JSON.stringify(t$1.data))),t$1.headers=t$1.headers||{},t$1.headers[`Content-Type`]=t$1.headers[`Content-Type`]||`application/json`,t$1.method=`POST`,t$1.url=e$1,Tw.request(t$1).then((e$2=>{typeof e$2.data==`string`?BN+=_N(e$2.data):e$2.data instanceof ArrayBuffer||e$2.data instanceof Uint8Array?BN+=e$2.data.byteLength:BN+=_N(JSON.stringify(e$2.data)),n$1&&r$1({data:e$2.data,headers:e$2.headers}),r$1(e$2.data)})).catch((e$2=>{Tw.isCancel(e$2)?o$1(new pO(hO.OPERATION_ABORTED,`cancel token canceled`)):e$2.code===`ECONNABORTED`?o$1(new pO(hO.NETWORK_TIMEOUT,e$2.message)):e$2.response?o$1(new pO(hO.NETWORK_RESPONSE_ERROR,e$2.response.status)):o$1(new pO(hO.NETWORK_ERROR,e$2.message))}))}))}async function GN(e$1,t$1){let i$1=new Blob([t$1.data],{type:`buffer`});return await jN(e$1,uO(uO({},t$1),{},{data:i$1,headers:{"Content-Type":`application/octet-stream`}}),!0)}let WN=()=>window.isSecureContext!==void 0;function HN(e$1){if(Array.isArray(e$1))return e$1.map((e$2=>e$2));if(!KN(e$1))return e$1;let t$1={};for(let i$1 in e$1){let n$1=e$1[i$1];KN(n$1)||Array.isArray(n$1)?t$1[i$1]=HN(n$1):t$1[i$1]=n$1}return t$1}function KN(e$1){return!(typeof e$1!=`object`||Array.isArray(e$1)||!e$1)}let YN=class{constructor(e$1){dO(this,`input`,[]),dO(this,`size`,void 0),this.size=e$1}add(e$1){this.input.push(e$1),this.input.length>this.size&&this.input.splice(0,1)}diffMean(){return this.input.length===0?0:(this.input[this.input.length-1]-this.input[0])/this.input.length}},zN={address:`unknown`,candidateType:`unknown`,id:`unknown`,port:0,priority:0,protocol:`unknown`,type:`unknown`},qN={timestamp:0,bitrate:{actualEncoded:0,transmit:0},sendPacketLossRate:0,recvPacketLossRate:0,videoRecv:[],videoSend:[],audioRecv:[],audioSend:[],transport:{bytesSent:0,bytesReceived:0,packetsSent:0,packetsReceived:0},selectedCandidatePair:{id:`unknown`,localCandidate:zN,remoteCandidate:zN},updateInterval:0},XN={firsCount:0,nacksCount:0,plisCount:0,framesDecodeCount:0,framesDecodeInterval:0,framesDecodeFreezeTime:0,decodeFrameRate:0,bytes:0,packetsLost:0,packetLostRate:0,packets:0,ssrc:0,qpSumPerFrame:0,framesDroppedCount:0,outputFrameRate:0,packetsDiscarded:0,framesAssembledFromMultiplePackets:0,totalProcessingDelay:0,avgDecodeMs:0,avgFramesAssembledFromMultiplePacketsMs:0,avgProcessingDelayMs:0,avgInterFrameDelayMs:0,totalAssemblyTime:0},JN={firsCount:0,nacksCount:0,plisCount:0,frameCount:0,bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,jitterMs:0,qpSumPerFrame:0},QN={bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,jitterMs:0},ZN={jitterBufferMs:0,jitterMs:0,bytes:0,packetsLost:0,packetLostRate:0,packetsDiscarded:0,packets:0,ssrc:0,receivedFrames:0,droppedFrames:0,concealedSamples:0,totalSamplesReceived:0,silentConcealedSamples:0,concealmentEvents:0,freezeMs80:0,freezeMs200:0,freezeSamples80:0,freezeSamples200:0},$N=class{constructor(e$1,t$1){dO(this,`onFirstVideoReceived`,void 0),dO(this,`onFirstVideoDecoded`,void 0),dO(this,`onFirstAudioReceived`,void 0),dO(this,`onFirstVideoDecodedTimeout`,void 0),dO(this,`onFirstAudioDecoded`,void 0),dO(this,`onSelectedLocalCandidateChanged`,void 0),dO(this,`onSelectedRemoteCandidateChanged`,void 0),dO(this,`videoIsReady`,!1),dO(this,`videoIsReady2`,{}),dO(this,`pc`,void 0),dO(this,`options`,void 0),dO(this,`intervalTimer`,void 0),dO(this,`stats`,HN(qN)),dO(this,`isFirstVideoReceived`,{}),dO(this,`isFirstVideoDecoded`,{}),dO(this,`isFirstAudioReceived`,{}),dO(this,`isFirstAudioDecoded`,{}),dO(this,`isFirstVideoDecodedTimeout`,{}),dO(this,`lossRateWindowStats`,[]),this.pc=e$1,this.options=t$1,this.intervalTimer=window.setInterval((async()=>{this.updateStats()}),this.options.updateInterval)}getStats(){return this.stats}getSelectedCandidatePair(){return new rp((e$1=>{e$1({local:uO({},zN),remote:uO({},zN)})}))}setVideoIsReady(e$1){this.videoIsReady=e$1}setVideoIsReady2(e$1,t$1){this.videoIsReady2[e$1]=t$1}getVideoIsReady(e$1){return this.videoIsReady2[e$1]||!1}setIsFirstAudioDecoded(e$1){}destroy(){window.clearInterval(this.intervalTimer),this.pc=void 0}calcLossRate(e$1){this.lossRateWindowStats.push(e$1),this.lossRateWindowStats.length>this.options.lossRateInterval&&this.lossRateWindowStats.splice(0,1);let t$1=this.lossRateWindowStats.length,i$1=[`videoSend`,`audioSend`,`videoRecv`,`audioRecv`],n$1=0,r$1=0,o$1=0,s$1=0;for(let a$1 of i$1)e$1[a$1].forEach(((e$2,i$2)=>{if(!this.lossRateWindowStats[t$1-1][a$1][i$2]||!this.lossRateWindowStats[0][a$1][i$2])return;let c$1=this.lossRateWindowStats[t$1-1][a$1][i$2].packets-this.lossRateWindowStats[0][a$1][i$2].packets,d$1=this.lossRateWindowStats[t$1-1][a$1][i$2].packetsLost-this.lossRateWindowStats[0][a$1][i$2].packetsLost;a$1===`videoSend`||a$1===`audioSend`?(n$1+=c$1,o$1+=d$1):(r$1+=c$1,s$1+=d$1),Number.isNaN(c$1)||Number.isNaN(c$1)?e$2.packetLostRate=0:e$2.packetLostRate=c$1<=0||d$1<=0?0:d$1/(c$1+d$1)}));e$1.sendPacketLossRate=n$1<=0||o$1<=0?0:o$1/(n$1+o$1),e$1.recvPacketLossRate=r$1<=0||s$1<=0?0:s$1/(r$1+s$1)}},eD=class extends $N{constructor(){super(...arguments),dO(this,`_stats`,qN),dO(this,`lastDecodeVideoReceiverStats`,new Map)}async updateStats(){let e$1=await this._getStats(),t$1=this.statsResponsesToObjects(e$1);this._stats=HN(qN);let i$1=t$1.filter((e$2=>e$2.type===`ssrc`));this.processSSRCStats(i$1);let n$1=t$1.find((e$2=>e$2.type===`VideoBwe`));n$1&&this.processBandwidthStats(n$1),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats}processBandwidthStats(e$1){this._stats.bitrate={actualEncoded:Number(e$1.googActualEncBitrate),targetEncoded:Number(e$1.googTargetEncBitrate),retransmit:Number(e$1.googRetransmitBitrate),transmit:Number(e$1.googTransmitBitrate)},this._stats.sendBandwidth=Number(e$1.googAvailableSendBandwidth)}processSSRCStats(e$1){e$1.forEach((e$2=>{var t$1;let i$1=Ln(t$1=e$2.id).call(t$1,`send`);switch(`${e$2.mediaType}_${i$1?`send`:`recv`}`){case`video_send`:{let t$2=HN(JN);t$2.codec=e$2.googCodecName,t$2.adaptionChangeReason=`none`,e$2.googCpuLimitedResolution&&(t$2.adaptionChangeReason=`cpu`),e$2.googBandwidthLimitedResolution&&(t$2.adaptionChangeReason=`bandwidth`),t$2.avgEncodeMs=Number(e$2.googAvgEncodeMs),t$2.inputFrame={width:Number(e$2.googFrameWidthInput)||Number(e$2.googFrameWidthSent),height:Number(e$2.googFrameHeightInput)||Number(e$2.googFrameHeightSent),frameRate:Number(e$2.googFrameRateInput)},t$2.sentFrame={width:Number(e$2.googFrameWidthSent),height:Number(e$2.googFrameHeightSent),frameRate:Number(e$2.googFrameRateInput)},t$2.firsCount=Number(e$2.googFirReceived),t$2.nacksCount=Number(e$2.googNacksReceived),t$2.plisCount=Number(e$2.googPlisReceived),t$2.frameCount=Number(e$2.framesEncoded),t$2.bytes=Number(e$2.bytesSent),t$2.packets=Number(e$2.packetsSent),t$2.packetsLost=Number(e$2.packetsLost),t$2.ssrc=Number(e$2.ssrc),t$2.rttMs=Number(e$2.googRtt||0),this._stats.videoSend.push(t$2),this._stats.rtt=t$2.rttMs;break}case`video_recv`:{let t$2=HN(XN),i$2=this.lastDecodeVideoReceiverStats.get(Number(e$2.ssrc));if(t$2.codec=e$2.googCodecName,t$2.targetDelayMs=Number(e$2.googTargetDelayMs),t$2.renderDelayMs=Number(e$2.googRenderDelayMs),t$2.currentDelayMs=Number(e$2.googCurrentDelayMs),t$2.minPlayoutDelayMs=Number(e$2.googMinPlayoutDelayMs),t$2.decodeMs=Number(e$2.googDecodeMs),t$2.maxDecodeMs=Number(e$2.googMaxDecodeMs),t$2.receivedFrame={width:Number(e$2.googFrameWidthReceived),height:Number(e$2.googFrameHeightReceived),frameRate:Number(e$2.googFrameRateReceived)},t$2.decodedFrame={width:Number(e$2.googFrameWidthReceived),height:Number(e$2.googFrameHeightReceived),frameRate:Number(e$2.googFrameRateDecoded)},t$2.decodeFrameRate=Number(e$2.googFrameRateDecoded),t$2.outputFrame={width:Number(e$2.googFrameWidthReceived),height:Number(e$2.googFrameHeightReceived),frameRate:Number(e$2.googFrameRateOutput)},t$2.jitterBufferMs=Number(e$2.googJitterBufferMs),t$2.firsCount=Number(e$2.googFirsSent),t$2.nacksCount=Number(e$2.googNacksSent),t$2.plisCount=Number(e$2.googPlisSent),t$2.framesDecodeCount=Number(e$2.framesDecoded),t$2.bytes=Number(e$2.bytesReceived),t$2.packets=Number(e$2.packetsReceived),t$2.packetsLost=Number(e$2.packetsLost),t$2.ssrc=Number(e$2.ssrc),t$2.packets>0&&!this.isFirstVideoReceived[t$2.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(t$2.ssrc),this.isFirstVideoReceived[t$2.ssrc]=!0),t$2.framesDecodeCount>0&&!this.isFirstVideoDecoded[t$2.ssrc]&&(this.onFirstVideoDecoded&&this.onFirstVideoDecoded(t$2.ssrc,t$2.decodedFrame.width,t$2.decodedFrame.height),this.isFirstVideoDecoded[t$2.ssrc]=!0),i$2){let n$1=i$2.stats,r$1=Date.now()-i$2.lts;t$2.framesDecodeFreezeTime=n$1.framesDecodeFreezeTime,t$2.framesDecodeInterval=n$1.framesDecodeInterval,t$2.framesDecodeCount>n$1.framesDecodeCount&&this.isFirstVideoDecoded[t$2.ssrc]?(i$2.lts=Date.now(),t$2.framesDecodeInterval=r$1,t$2.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(e$2.ssrc,10))?t$2.framesDecodeFreezeTime+=t$2.framesDecodeInterval:this.setVideoIsReady2(parseInt(e$2.ssrc,10),!0))):t$2.framesDecodeCount<i$2.stats.framesDecodeCount&&(t$2.framesDecodeInterval=0)}this.lastDecodeVideoReceiverStats.set(t$2.ssrc,{stats:uO({},t$2),lts:Date.now()}),this._stats.videoRecv.push(t$2);break}case`audio_recv`:{let t$2=HN(ZN);t$2.codec=e$2.googCodecName,t$2.outputLevel=Math.abs(Number(e$2.audioOutputLevel))/32767,t$2.decodingCNG=Number(e$2.googDecodingCNG),t$2.decodingCTN=Number(e$2.googDecodingCTN),t$2.decodingCTSG=Number(e$2.googDecodingCTSG),t$2.decodingNormal=Number(e$2.googDecodingNormal),t$2.decodingPLC=Number(e$2.googDecodingPLC),t$2.decodingPLCCNG=Number(e$2.googDecodingPLCCNG),t$2.expandRate=Number(e$2.googExpandRate),t$2.accelerateRate=Number(e$2.googAccelerateRate),t$2.preemptiveExpandRate=Number(e$2.googPreemptiveExpandRate),t$2.secondaryDecodedRate=Number(e$2.googSecondaryDecodedRate),t$2.speechExpandRate=Number(e$2.googSpeechExpandRate),t$2.preferredJitterBufferMs=Number(e$2.googPreferredJitterBufferMs),t$2.jitterBufferMs=Number(e$2.googJitterBufferMs),t$2.jitterMs=Number(e$2.googJitterReceived),t$2.bytes=Number(e$2.bytesReceived),t$2.packets=Number(e$2.packetsReceived),t$2.packetsLost=Number(e$2.packetsLost),t$2.ssrc=Number(e$2.ssrc),t$2.receivedFrames=Number(e$2.googDecodingCTN)||Number(e$2.packetsReceived),t$2.droppedFrames=Number(e$2.googDecodingPLC)+Number(e$2.googDecodingPLCCNG)||Number(e$2.packetsLost),t$2.receivedFrames>0&&!this.isFirstAudioReceived[t$2.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(t$2.ssrc),this.isFirstAudioReceived[t$2.ssrc]=!0),t$2.decodingNormal>0&&!this.isFirstAudioDecoded[t$2.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(t$2.ssrc),this.isFirstAudioDecoded[t$2.ssrc]=!0),this._stats.audioRecv.push(t$2);break}case`audio_send`:{let t$2=HN(QN);t$2.codec=e$2.googCodecName,t$2.inputLevel=Math.abs(Number(e$2.audioInputLevel))/32767,t$2.aecReturnLoss=Number(e$2.googEchoCancellationReturnLoss||0),t$2.aecReturnLossEnhancement=Number(e$2.googEchoCancellationReturnLossEnhancement||0),t$2.residualEchoLikelihood=Number(e$2.googResidualEchoLikelihood||0),t$2.residualEchoLikelihoodRecentMax=Number(e$2.googResidualEchoLikelihoodRecentMax||0),t$2.bytes=Number(e$2.bytesSent),t$2.packets=Number(e$2.packetsSent),t$2.packetsLost=Number(e$2.packetsLost),t$2.ssrc=Number(e$2.ssrc),t$2.rttMs=Number(e$2.googRtt||0),this._stats.rtt=t$2.rttMs,this._stats.audioSend.push(t$2);break}}}))}_getStats(){return new rp(((e$1,t$1)=>{this.pc.getStats(e$1,t$1)}))}statsResponsesToObjects(e$1){let t$1=[];return e$1.result().forEach((e$2=>{let i$1={id:e$2.id,timestamp:e$2.timestamp.valueOf().toString(),type:e$2.type};e$2.names().forEach((t$2=>{i$1[t$2]=e$2.stat(t$2)})),t$1.push(i$1)})),t$1}},tD=function(e$1){return e$1.BANDWIDTH=`bandwidth`,e$1.CPU=`cpu`,e$1.NONE=`none`,e$1.OTHER=`other`,e$1}({}),iD=function(e$1){return e$1.L1T1=`L1T1`,e$1.L1T2=`L1T2`,e$1.L1T3=`L1T3`,e$1.L1T3_KEY=`L1T3_KEY`,e$1.L2T1_KEY=`L2T1_KEY`,e$1.L2T2_KEY=`L2T2_KEY`,e$1.L2T3_KEY=`L2T3_KEY`,e$1.L3T1_KEY=`L3T1_KEY`,e$1.L3T2_KEY=`L3T2_KEY`,e$1.L3T3_KEY=`L3T3_KEY`,e$1}({}),nD=function(e$1){return e$1[e$1.new=0]=`new`,e$1[e$1.connecting=1]=`connecting`,e$1[e$1.connected=2]=`connected`,e$1[e$1.disconnected=3]=`disconnected`,e$1[e$1.failed=4]=`failed`,e$1[e$1.closed=5]=`closed`,e$1}({}),rD=function(e$1){return e$1.CERTIFICATE=`certificate`,e$1.CODEC=`codec`,e$1.CANDIDATE_PAIR=`candidate-pair`,e$1.LOCAL_CANDIDATE=`local-candidate`,e$1.REMOTE_CANDIDATE=`remote-candidate`,e$1.INBOUND=`inbound-rtp`,e$1.TRACK=`track`,e$1.OUTBOUND=`outbound-rtp`,e$1.PC=`peer-connection`,e$1.REMOTE_INBOUND=`remote-inbound-rtp`,e$1.REMOTE_OUTBOUND=`remote-outbound-rtp`,e$1.TRANSPORT=`transport`,e$1.CSRC=`csrc`,e$1.DATA_CHANNEL=`data-channel`,e$1.STREAM=`stream`,e$1.SENDER=`sender`,e$1.RECEIVER=`receiver`,e$1}({});var oD=function(e$1){return e$1[e$1.kNone=1]=`kNone`,e$1[e$1.kMillisecondsFromSeconds=1e3]=`kMillisecondsFromSeconds`,e$1[e$1.kBytesToBits=8]=`kBytesToBits`,e$1}(oD||{});function sD(e$1,t$1,i$1,n$1){let r$1=arguments.length>4&&arguments[4]!==void 0?arguments[4]:oD.kNone;if(!t$1)return;let o$1=Number(t$1[i$1]);if(typeof o$1!=`number`)return;let s$1=Number(t$1[n$1]);if(typeof s$1!=`number`)return;if(!e$1)return s$1?o$1/s$1*r$1:void 0;let a$1=Number(e$1[i$1]);if(typeof a$1!=`number`)return;let c$1=Number(e$1[n$1]);if(typeof c$1!=`number`)return;let d$1=s$1-c$1;return d$1?(o$1-a$1)/d$1*r$1:void 0}let aD=class extends $N{constructor(){super(...arguments),dO(this,`_stats`,qN),dO(this,`report`,void 0),dO(this,`lastDecodeVideoReceiverStats`,new Map),dO(this,`lastVideoFramesRecv`,new Map),dO(this,`lastVideoFramesSent`,new Map),dO(this,`lastVideoFramesDecode`,new Map),dO(this,`lastVideoFramesOutput`,new Map),dO(this,`lastVideoJBDelay`,new Map),dO(this,`lastAudioJBDelay`,new Map),dO(this,`mediaBytesSent`,new Map),dO(this,`mediaBytesRetransmit`,new Map),dO(this,`mediaBytesTargetEncode`,new Map),dO(this,`lastDecodeAudioReceiverStats`,new Map),dO(this,`lastAudioConcealment`,new Map),dO(this,`lastEncoderMs`,new Map)}async updateStats(){this.report=await this.pc.getStats(),this._stats=HN(qN),this.report.forEach((e$1=>{switch(e$1.type){case rD.OUTBOUND:case rD.INBOUND:{let t$1=e$1.mediaType||e$1.kind,i$1=!t$1&&`frameWidth`in e$1,n$1=!t$1&&!(`frameWidth`in e$1);e$1.type===rD.OUTBOUND?t$1===`audio`||n$1?this.processAudioOutboundStats(e$1):(t$1===`video`||i$1)&&this.processVideoOutboundStats(e$1):e$1.type===rD.INBOUND&&(t$1===`audio`||n$1?this.processAudioInboundStats(e$1):(t$1===`video`||i$1)&&this.processVideoInboundStats(e$1));break}case rD.TRANSPORT:{this.processTransportStats(e$1);let t$1=this.report.get(e$1.selectedCandidatePairId);t$1&&this.processCandidatePairStats(t$1);break}case rD.CANDIDATE_PAIR:e$1.selected&&this.processCandidatePairStats(e$1)}})),this.updateSendBitrate(),this._stats.updateInterval=Date.now()-this.stats.timestamp,this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats}async getSelectedCandidatePair(){let e$1=await this.pc.getStats(),t$1={local:uO({},zN),remote:uO({},zN)};return e$1.forEach((i$1=>{let n$1;if(i$1.type===rD.TRANSPORT&&(n$1=e$1.get(i$1.selectedCandidatePairId)),i$1.type===rD.CANDIDATE_PAIR&&i$1.selected&&(n$1=i$1),n$1){let i$2=(e$2,t$2)=>{e$2.type=t$2.type,e$2.id=t$2.id,t$2.address&&(e$2.address=t$2.address),t$2.candidateType&&(e$2.candidateType=t$2.candidateType),t$2.port&&(e$2.port=t$2.port),t$2.priority&&(e$2.priority=t$2.priority),t$2.protocol&&(e$2.protocol=t$2.protocol),t$2.relayProtocol&&(e$2.relayProtocol=t$2.relayProtocol)};if(n$1.localCandidateId){let r$1=e$1.get(n$1.localCandidateId);r$1&&i$2(t$1.local,r$1)}if(n$1.remoteCandidateId){let r$1=e$1.get(n$1.remoteCandidateId);r$1&&i$2(t$1.remote,r$1)}}})),t$1}processCandidatePairStats(e$1){if(this._stats.sendBandwidth=e$1.availableOutgoingBitrate||0,e$1.currentRoundTripTime&&(this._stats.rtt=1e3*e$1.currentRoundTripTime),this._stats.videoSend.forEach((t$1=>{e$1.currentRoundTripTime&&(t$1.rttMs=1e3*e$1.currentRoundTripTime)})),this._stats.audioSend.forEach((t$1=>{e$1.currentRoundTripTime&&(t$1.rttMs=1e3*e$1.currentRoundTripTime)})),this._stats.selectedCandidatePair.id=e$1.id,e$1.localCandidateId){let t$1=this.report.get(e$1.localCandidateId);t$1&&this.processCandidateStats(t$1)}if(e$1.remoteCandidateId){let t$1=this.report.get(e$1.remoteCandidateId);t$1&&this.processCandidateStats(t$1)}}processCandidateStats(e$1){let t$1;e$1.type===rD.LOCAL_CANDIDATE&&(t$1=this._stats.selectedCandidatePair.localCandidate),e$1.type===rD.REMOTE_CANDIDATE&&(t$1=this._stats.selectedCandidatePair.remoteCandidate),t$1&&(t$1.type=e$1.type,t$1.id=e$1.id,e$1.address&&(t$1.address=e$1.address),e$1.candidateType&&(t$1.candidateType=e$1.candidateType),e$1.port&&(t$1.port=e$1.port),e$1.priority&&(t$1.priority=e$1.priority),e$1.protocol&&(t$1.protocol=e$1.protocol),e$1.relayProtocol&&(t$1.relayProtocol=e$1.relayProtocol),e$1.type===rD.LOCAL_CANDIDATE&&this.stats.selectedCandidatePair.localCandidate.id!==t$1.id&&this.onSelectedLocalCandidateChanged&&this.onSelectedLocalCandidateChanged(uO({},t$1),uO({},this.stats.selectedCandidatePair.localCandidate)),e$1.type===rD.REMOTE_CANDIDATE&&this.stats.selectedCandidatePair.remoteCandidate.id!==t$1.id&&this.onSelectedRemoteCandidateChanged&&this.onSelectedRemoteCandidateChanged(uO({},t$1),uO({},this.stats.selectedCandidatePair.remoteCandidate)))}processAudioInboundStats(e$1){let t$1=this._stats.audioRecv.find((t$2=>t$2.ssrc===e$1.ssrc));t$1||(t$1=HN(ZN),this._stats.audioRecv.push(t$1)),t$1.ssrc=e$1.ssrc,t$1.packets=e$1.packetsReceived,t$1.packetsLost=e$1.packetsLost,t$1.packetsDiscarded=e$1.packetsDiscarded,t$1.bytes=e$1.bytesReceived,t$1.jitterMs=1e3*e$1.jitter,t$1.retransmittedBytesReceived=e$1.retransmittedBytesReceived,t$1.retransmittedPacketsReceived=e$1.retransmittedPacketsReceived,t$1.totalProcessingDelay=e$1.totalProcessingDelay,t$1.jitterBufferEmittedCount=e$1.jitterBufferEmittedCount,t$1.estimatedPlayoutTimestamp=e$1.estimatedPlayoutTimestamp;let i$1=this.lastDecodeAudioReceiverStats.get(t$1.ssrc);t$1.avgProcessingDelayMs=sD(i$1,t$1,`totalProcessingDelay`,`jitterBufferEmittedCount`,oD.kMillisecondsFromSeconds),this.processAudioTrackReceiverStats(e$1,e$1.trackId,t$1),this.calculateAudioFreeze(t$1,i$1,e$1),e$1.codecId&&(t$1.codec=this.getCodecFromCodecStats(e$1.codecId)),t$1.receivedFrames||=e$1.packetsReceived,t$1.droppedFrames||=e$1.packetsLost,t$1.receivedFrames>0&&!this.isFirstAudioReceived[t$1.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(t$1.ssrc),this.isFirstAudioReceived[t$1.ssrc]=!0),t$1.outputLevel&&t$1.outputLevel>0&&!this.isFirstAudioDecoded[t$1.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(t$1.ssrc),this.isFirstAudioDecoded[t$1.ssrc]=!0),typeof e$1.concealedSamples==`number`&&(t$1.concealedSamples=e$1.concealedSamples),this.lastDecodeAudioReceiverStats.set(t$1.ssrc,uO({},t$1))}calculateAudioFreeze(e$1,t$1,i$1){let n$1=this.lastAudioConcealment.get(e$1.ssrc);if(t$1!=null&&n$1!=null){let r$1=n$1.lts,o$1=i$1.timestamp,s$1=o$1-r$1;if(s$1<=0)return;let a$1=e$1.concealedSamples-t$1.concealedSamples-0,c$1=n$1.nonSilent+a$1,d$1=e$1.totalSamplesReceived-t$1.totalSamplesReceived;if(d$1<=0)return;let l$1=80*d$1/s$1,u$1=200*d$1/s$1,h$1=s$1/d$1,p$1=0;e$1.freezeSamples80=t$1.freezeSamples80,e$1.freezeMs80=t$1.freezeMs80,c$1>l$1&&(n$1.plc80>0?(e$1.freezeSamples80+=a$1,e$1.freezeMs80+=Math.round(a$1*h$1)):(e$1.freezeSamples80+=c$1,e$1.freezeMs80+=Math.round(c$1*h$1)),p$1=n$1.plc80+1);let _$1=0;e$1.freezeSamples200=t$1.freezeSamples200,e$1.freezeMs200=t$1.freezeMs200,c$1>u$1&&(n$1.plc200>0?(e$1.freezeSamples200+=a$1,e$1.freezeMs200+=Math.round(a$1*h$1)):(e$1.freezeSamples200+=c$1,e$1.freezeMs200+=Math.round(c$1*h$1)),_$1=n$1.plc200+1),this.lastAudioConcealment.set(e$1.ssrc,{nonSilent:a$1,lts:o$1,plc80:p$1,plc200:_$1})}else e$1.freezeSamples80=0,e$1.freezeSamples200=0,e$1.freezeMs80=0,e$1.freezeMs200=0,this.lastAudioConcealment.set(e$1.ssrc,{nonSilent:0,lts:i$1.timestamp,plc80:0,plc200:0})}processVideoInboundStats(e$1){let t$1=this._stats.videoRecv.find((t$2=>t$2.ssrc===e$1.ssrc));t$1||(t$1=HN(XN),this._stats.videoRecv.push(t$1)),t$1.ssrc=e$1.ssrc,t$1.packets=e$1.packetsReceived,t$1.packetsLost=e$1.packetsLost,t$1.bytes=e$1.bytesReceived,t$1.firsCount=e$1.firCount,t$1.nacksCount=e$1.nackCount,t$1.plisCount=e$1.pliCount,t$1.framesDecodeCount=e$1.framesDecoded,t$1.framesDroppedCount=e$1.framesDropped,t$1.totalInterFrameDelay=e$1.totalInterFrameDelay,t$1.totalSquaredInterFrameDelay=e$1.totalSquaredInterFrameDelay,t$1.totalFreezesDuration=e$1.totalFreezesDuration,t$1.totalProcessingDelay=e$1.totalProcessingDelay,t$1.packetsDiscarded=e$1.packetsDiscarded,t$1.framesAssembledFromMultiplePackets=e$1.framesAssembledFromMultiplePackets,t$1.totalAssemblyTime=e$1.totalAssemblyTime,t$1.keyFramesDecoded=e$1.keyFramesDecoded,t$1.retransmittedBytesReceived=e$1.retransmittedBytesReceived,t$1.retransmittedPacketsReceived=e$1.retransmittedPacketsReceived,t$1.estimatedPlayoutTimestamp=e$1.estimatedPlayoutTimestamp;let i$1=this.lastDecodeVideoReceiverStats.get(t$1.ssrc),n$1=this.lastVideoFramesDecode.get(t$1.ssrc),r$1=this.lastVideoFramesOutput.get(t$1.ssrc),o$1=Date.now();if(t$1.framesDecodeCount>0&&!this.isFirstVideoDecoded[t$1.ssrc]){let e$2=t$1.decodedFrame?t$1.decodedFrame.width:0,i$2=t$1.decodedFrame?t$1.decodedFrame.height:0;this.onFirstVideoDecoded&&this.onFirstVideoDecoded(t$1.ssrc,e$2,i$2),this.isFirstVideoDecoded[t$1.ssrc]=!0}if(i$1){let n$2=i$1.stats,r$2=o$1-i$1.lts;t$1.framesDecodeFreezeTime=n$2.framesDecodeFreezeTime,t$1.framesDecodeInterval=n$2.framesDecodeInterval,!this.isFirstVideoDecoded[t$1.ssrc]&&r$2>this.options.firstVideoDecodedTimeout&&!this.isFirstVideoDecodedTimeout[t$1.ssrc]&&(this.onFirstVideoDecodedTimeout&&this.onFirstVideoDecodedTimeout(t$1.ssrc),this.isFirstVideoDecodedTimeout[t$1.ssrc]=!0),t$1.framesDecodeCount>n$2.framesDecodeCount&&this.isFirstVideoDecoded[t$1.ssrc]?(i$1.lts=Date.now(),t$1.framesDecodeInterval=r$2,t$1.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(e$1.ssrc))?t$1.framesDecodeFreezeTime+=t$1.framesDecodeInterval:this.setVideoIsReady2(parseInt(e$1.ssrc,10),!0))):t$1.framesDecodeCount<n$2.framesDecodeCount&&(t$1.framesDecodeInterval=0),e$1.framesDecoded&&e$1.qpSum&&(i$1.stats.framesDecodeCount>e$1.framesDecoded?t$1.qpSumPerFrame=e$1.qpSum/e$1.framesDecoded:t$1.qpSumPerFrame=(e$1.qpSum-i$1.qpSum)/(e$1.framesDecoded-i$1.stats.framesDecodeCount))}e$1.totalDecodeTime&&(t$1.decodeMs=1e3*e$1.totalDecodeTime,t$1.avgDecodeMs=sD(i$1?.stats,t$1,`decodeMs`,`framesDecodeCount`)),t$1.avgProcessingDelayMs=sD(i$1?.stats,t$1,`totalProcessingDelay`,`framesDecodeCount`,oD.kMillisecondsFromSeconds),t$1.avgFramesAssembledFromMultiplePacketsMs=sD(i$1?.stats,t$1,`totalAssemblyTime`,`framesAssembledFromMultiplePackets`,oD.kMillisecondsFromSeconds),t$1.avgInterFrameDelayMs=sD(i$1?.stats,t$1,`totalInterFrameDelay`,`framesDecodeCount`,oD.kMillisecondsFromSeconds),n$1&&o$1-n$1.lts>=800?(t$1.decodeFrameRate=Math.round((t$1.framesDecodeCount-n$1.count)/((o$1-n$1.lts)/1e3)),this.lastVideoFramesDecode.set(t$1.ssrc,{count:t$1.framesDecodeCount,lts:o$1,rate:t$1.decodeFrameRate})):n$1?t$1.decodeFrameRate=n$1.rate:this.lastVideoFramesDecode.set(t$1.ssrc,{count:t$1.framesDecodeCount,lts:o$1,rate:0}),t$1.framesDroppedCount&&e$1.framesReceived&&(r$1&&o$1-r$1.lts>=800?(t$1.outputFrameRate=Math.round((e$1.framesReceived-t$1.framesDroppedCount-r$1.count)/((o$1-r$1.lts)/1e3)),this.lastVideoFramesOutput.set(t$1.ssrc,{count:e$1.framesReceived-t$1.framesDroppedCount,lts:o$1,rate:Math.max(t$1.outputFrameRate,0)})):r$1?t$1.outputFrameRate=r$1.rate:this.lastVideoFramesOutput.set(t$1.ssrc,{count:e$1.framesReceived-t$1.framesDroppedCount,lts:o$1,rate:0})),this.processVideoTrackReceiverStats(e$1,e$1.trackId,t$1),e$1.codecId&&(t$1.codec=this.getCodecFromCodecStats(e$1.codecId)),e$1.framerateMean&&(t$1.framesRateFirefox=e$1.framerateMean),t$1.packets>0&&!this.isFirstVideoReceived[t$1.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(t$1.ssrc),this.isFirstVideoReceived[t$1.ssrc]=!0),this.lastDecodeVideoReceiverStats.set(t$1.ssrc,{stats:uO({},t$1),lts:i$1?i$1.lts:Date.now(),qpSum:e$1.qpSum})}processVideoOutboundStats(e$1){let t$1=this._stats.videoSend.find((t$2=>t$2.ssrc===e$1.ssrc));t$1||(t$1=HN(JN),this._stats.videoSend.push(t$1));let i$1=this.mediaBytesSent.get(e$1.ssrc);if(i$1)i$1.add(e$1.bytesSent);else{let t$2=new YN(10);t$2.add(e$1.bytesSent),this.mediaBytesSent.set(e$1.ssrc,t$2)}if(e$1.retransmittedBytesSent!==void 0){let t$2=this.mediaBytesRetransmit.get(e$1.ssrc);if(t$2)t$2.add(e$1.retransmittedBytesSent);else{let t$3=new YN(10);t$3.add(e$1.retransmittedBytesSent),this.mediaBytesRetransmit.set(e$1.ssrc,t$3)}}if(e$1.totalEncodedBytesTarget){let t$2=this.mediaBytesTargetEncode.get(e$1.ssrc);if(t$2)t$2.add(e$1.totalEncodedBytesTarget);else{let t$3=new YN(10);t$3.add(e$1.totalEncodedBytesTarget),this.mediaBytesTargetEncode.set(e$1.ssrc,t$3)}}if(t$1.ssrc=e$1.ssrc,t$1.bytes=e$1.bytesSent,t$1.packets=e$1.packetsSent,t$1.firsCount=e$1.firCount,t$1.nacksCount=e$1.nackCount,t$1.plisCount=e$1.pliCount,t$1.frameCount=e$1.framesEncoded,t$1.adaptionChangeReason=e$1.qualityLimitationReason,t$1.scalabilityMode=e$1.scalabilityMode,t$1.retransmittedBytesSent=e$1.retransmittedBytesSent,t$1.retransmittedPacketsSent=e$1.retransmittedPacketsSent,t$1.hugeFramesSent=e$1.hugeFramesSent,t$1.keyFramesEncoded=e$1.keyFramesEncoded,t$1.targetBitrate=e$1.targetBitrate,e$1.totalEncodeTime&&e$1.framesEncoded){let i$2=this.lastEncoderMs.get(e$1.ssrc);if(!i$2||i$2.lastFrameCount>e$1.framesEncoded)t$1.avgEncodeMs=1e3*e$1.totalEncodeTime/e$1.framesEncoded;else{let n$1=e$1.framesEncoded-i$2.lastFrameCount;t$1.avgEncodeMs=1e3*(e$1.totalEncodeTime-i$2.lastEncoderTime)/n$1}}if(e$1.framesEncoded&&e$1.qpSum){let i$2=this.lastEncoderMs.get(e$1.ssrc);!i$2||i$2.lastFrameCount>e$1.framesEncoded?t$1.qpSumPerFrame=e$1.qpSum/e$1.framesEncoded:t$1.qpSumPerFrame=(e$1.qpSum-i$2.lastQpSum)/(e$1.framesEncoded-i$2.lastFrameCount)}if(this.lastEncoderMs.set(e$1.ssrc,{lastFrameCount:e$1.framesEncoded,lastEncoderTime:e$1.totalEncodeTime,lastQpSum:e$1.qpSum,lts:Date.now()}),e$1.codecId&&(t$1.codec=this.getCodecFromCodecStats(e$1.codecId)),e$1.mediaSourceId&&this.processVideoMediaSource(e$1.mediaSourceId,t$1),this.processVideoTrackSenderStats(e$1,e$1.trackId,t$1),e$1.remoteId)this.processRemoteInboundStats(e$1.remoteId,t$1);else{let i$2=this.findRemoteStatsId(e$1.ssrc,rD.REMOTE_INBOUND);i$2&&this.processRemoteInboundStats(i$2,t$1)}}processAudioOutboundStats(e$1){let t$1=this._stats.audioSend.find((t$2=>t$2.ssrc===e$1.ssrc));if(t$1||(t$1=HN(QN),this._stats.audioSend.push(t$1)),t$1.ssrc=e$1.ssrc,t$1.packets=e$1.packetsSent,t$1.bytes=e$1.bytesSent,t$1.retransmittedBytesSent=e$1.retransmittedBytesSent,t$1.retransmittedPacketsSent=e$1.retransmittedPacketsSent,e$1.mediaSourceId&&this.processAudioMediaSource(e$1.mediaSourceId,t$1),e$1.codecId&&(t$1.codec=this.getCodecFromCodecStats(e$1.codecId)),this.processAudioTrackSenderStats(e$1,e$1.trackId,t$1),e$1.remoteId)this.processRemoteInboundStats(e$1.remoteId,t$1);else{let i$1=this.findRemoteStatsId(e$1.ssrc,rD.REMOTE_INBOUND);i$1&&this.processRemoteInboundStats(i$1,t$1)}}processTransportStats(e$1){this._stats.transport.bytesReceived=e$1.bytesReceived||this._stats.transport.bytesReceived,this._stats.transport.bytesSent=e$1.bytesSent||this._stats.transport.bytesSent,this._stats.transport.packetsReceived=e$1.packetsReceived||this._stats.transport.packetsReceived,this._stats.transport.packetsSent=e$1.packetsSent||this._stats.transport.packetsSent}findRemoteStatsId(e$1,t$1){var i$1;let n$1=Array.from(pp(i$1=this.report).call(i$1)).find((i$2=>i$2.type===t$1&&i$2.ssrc===e$1));return n$1?n$1.id:null}processVideoMediaSource(e$1,t$1){let i$1=this.report.get(e$1);i$1&&i$1.width&&i$1.height&&i$1.framesPerSecond&&(t$1.inputFrame={width:i$1.width,height:i$1.height,frameRate:i$1.framesPerSecond})}processAudioMediaSource(e$1,t$1){let i$1=this.report.get(e$1);i$1&&(t$1.inputLevel=i$1.audioLevel)}processVideoTrackSenderStats(e$1,t$1,i$1){var n$1,r$1,o$1,s$1;let a$1=t$1?this.report.get(t$1):void 0,c$1=a$1?.framesSent??e$1.framesSent;if(typeof c$1!=`number`)return;let d$1=a$1?.frameWidth??e$1.frameWidth,l$1=a$1?.frameHeight??e$1.frameHeight,u$1=a$1?.framesPerSecond??e$1.framesPerSecond;if(typeof d$1==`number`&&typeof l$1==`number`||(d$1=0,l$1=0),u$1==null){let e$2=Date.now(),t$2=this.lastVideoFramesSent.get(i$1.ssrc);t$2&&e$2-t$2.lts>=800?(u$1=Math.round((c$1-t$2.count)/((e$2-t$2.lts)/1e3)),this.lastVideoFramesSent.set(i$1.ssrc,{count:c$1,lts:e$2,rate:u$1})):t$2?u$1=t$2.rate:this.lastVideoFramesSent.set(i$1.ssrc,{count:c$1,lts:e$2,rate:0})}i$1.sentFrame={width:d$1,height:l$1,frameRate:Math.max(0,u$1)}}processVideoTrackReceiverStats(e$1,t$1,i$1){var n$1,r$1,o$1,s$1,a$1;let c$1=t$1?this.report.get(t$1):void 0,d$1=c$1?.framesReceived??e$1.framesReceived,l$1=c$1?.frameWidth??e$1.frameWidth,u$1=c$1?.frameHeight??e$1.frameHeight,h$1=c$1?.jitterBufferDelay??e$1.jitterBufferDelay,p$1=c$1?.jitterBufferEmittedCount??e$1.jitterBufferEmittedCount;if(typeof d$1==`number`){let e$2=this.lastVideoFramesRecv.get(i$1.ssrc),t$2=Date.now();i$1.framesReceivedCount=d$1;let n$2=0;e$2&&t$2-e$2.lts>=800?(n$2=Math.round((d$1-e$2.count)/((t$2-e$2.lts)/1e3)),this.lastVideoFramesRecv.set(i$1.ssrc,{count:d$1,lts:t$2,rate:n$2})):e$2?n$2=e$2.rate:this.lastVideoFramesRecv.set(i$1.ssrc,{count:d$1,lts:t$2,rate:0}),i$1.receivedFrame={width:l$1||0,height:u$1||0,frameRate:n$2||0},i$1.decodedFrame={width:l$1||0,height:u$1||0,frameRate:i$1.decodeFrameRate||0},i$1.outputFrame={width:l$1||0,height:u$1||0,frameRate:i$1.outputFrameRate||i$1.decodeFrameRate||0}}if(h$1&&p$1){let e$2=this.lastVideoJBDelay.get(i$1.ssrc)||{jitterBufferDelay:0,jitterBufferEmittedCount:0,jitterBufferMs:0},t$2=e$2.jitterBufferMs,n$2=p$1-e$2.jitterBufferEmittedCount;n$2>0&&(t$2=1e3*(h$1-e$2.jitterBufferDelay)/n$2),i$1.jitterBufferMs=t$2,i$1.currentDelayMs=Math.round(t$2),this.lastVideoJBDelay.set(i$1.ssrc,{jitterBufferDelay:h$1,jitterBufferEmittedCount:p$1,jitterBufferMs:i$1.currentDelayMs})}}processAudioTrackSenderStats(e$1,t$1,i$1){var n$1,r$1,o$1,s$1;let a$1=t$1?this.report.get(t$1):void 0,c$1=a$1?.echoReturnLoss??e$1.echoReturnLoss??0,d$1=a$1?.echoReturnLossEnhancement??e$1.echoReturnLossEnhancement??0;i$1.aecReturnLoss=c$1,i$1.aecReturnLossEnhancement=d$1}processAudioTrackReceiverStats(e$1,t$1,i$1){var n$1,r$1,o$1,s$1,a$1,c$1,d$1,l$1,u$1;let h$1=t$1?this.report.get(t$1):void 0,p$1=h$1?.removedSamplesForAcceleration??e$1.removedSamplesForAcceleration,_$1=h$1?.totalSamplesReceived??e$1.totalSamplesReceived,E$1=h$1?.jitterBufferDelay??e$1.jitterBufferDelay,m$1=h$1?.jitterBufferEmittedCount??e$1.jitterBufferEmittedCount,f$1=h$1?.audioLevel??e$1?.audioLevel,S$1=h$1?.totalSamplesDuration??e$1?.totalSamplesDuration,g$1=h$1?.concealedSamples??e$1.concealedSamples,T$1=h$1?.silentConcealedSamples??e$1.silentConcealedSamples,R$1=h$1?.concealmentEvents??e$1.concealmentEvents;if(typeof _$1==`number`&&(i$1.totalSamplesReceived=_$1),typeof T$1==`number`&&(i$1.silentConcealedSamples=T$1),typeof R$1==`number`&&(i$1.concealmentEvents=R$1),typeof g$1==`number`&&(i$1.concealedSamples=g$1),p$1&&_$1&&(i$1.accelerateRate=p$1/_$1),E$1&&m$1){let e$2=this.lastAudioJBDelay.get(i$1.ssrc)||{jitterBufferDelay:0,jitterBufferEmittedCount:0,jitterBufferMs:0},t$2=e$2.jitterBufferMs,n$2=m$1-e$2.jitterBufferEmittedCount;n$2>0&&(t$2=1e3*(E$1-e$2.jitterBufferDelay)/n$2),i$1.jitterBufferMs=Math.round(t$2),this.lastAudioJBDelay.set(i$1.ssrc,{jitterBufferDelay:E$1,jitterBufferEmittedCount:m$1,jitterBufferMs:i$1.jitterBufferMs})}i$1.outputLevel=f$1;let C$1=1920;S$1&&_$1&&(C$1=_$1/S$1/50,i$1.receivedFrames=Math.round(_$1/C$1)),g$1&&(i$1.droppedFrames=Math.round(g$1/C$1))}processRemoteInboundStats(e$1,t$1){let i$1=this.report.get(e$1);i$1&&(t$1.packetsLost=i$1.packetsLost,i$1.roundTripTime&&(t$1.rttMs=1e3*i$1.roundTripTime),i$1.jitter&&(t$1.jitterMs=1e3*i$1.jitter),i$1.timestamp&&(t$1.timestamp=i$1.timestamp))}getCodecFromCodecStats(e$1){let t$1=this.report.get(e$1);if(!t$1)return``;let i$1=t$1.mimeType.match(/\/(.*)$/);return i$1&&i$1[1]?i$1[1]:``}updateSendBitrate(){let e$1=0,t$1=null,i$1=null;this.mediaBytesSent.forEach((t$2=>{e$1+=t$2.diffMean()})),this.mediaBytesRetransmit.forEach((e$2=>{t$1=t$1===null?e$2.diffMean():t$1+e$2.diffMean()})),this.mediaBytesTargetEncode.forEach((e$2=>{i$1=i$1===null?e$2.diffMean():i$1+e$2.diffMean()}));let n$1=t$1===null?e$1:e$1-t$1;this._stats.bitrate={actualEncoded:8*n$1/(this.options.updateInterval/1e3),transmit:8*e$1/(this.options.updateInterval/1e3)},t$1!==null&&(this._stats.bitrate.retransmit=8*t$1/(this.options.updateInterval/1e3)),i$1!==null&&(this._stats.bitrate.targetEncoded=8*i$1/(this.options.updateInterval/1e3))}},cD=class extends $N{updateStats(){return rp.resolve()}};function dD(e$1){let t$1=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250,i$1=arguments.length>2&&arguments[2]!==void 0?arguments[2]:8,n$1=arguments.length>3&&arguments[3]!==void 0?arguments[3]:500,r$1=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e4,o$1=function(){let e$2=navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]*/i);return e$2&&e$2[0]?Number(e$2[0].split(`/`)[1]):null}();return o$1?o$1<76?new eD(e$1,{updateInterval:t$1,lossRateInterval:i$1,freezeRateLimit:n$1,firstVideoDecodedTimeout:r$1}):new aD(e$1,{updateInterval:t$1,lossRateInterval:i$1,freezeRateLimit:n$1,firstVideoDecodedTimeout:r$1}):function(e$2){if(!window.RTCStatsReport)return!1;let t$2=e$2.getStats();return!!(t$2 instanceof rp||function(e$3){return!!e$3&&(typeof e$3==`object`||typeof e$3==`function`)&&typeof e$3.then==`function`}(t$2))}(e$1)?new aD(e$1,{updateInterval:t$1,lossRateInterval:i$1,freezeRateLimit:n$1,firstVideoDecodedTimeout:r$1}):new cD(e$1,{updateInterval:t$1,lossRateInterval:i$1,freezeRateLimit:n$1,firstVideoDecodedTimeout:r$1})}let lD=`websdk_ng_install_id`;function uD(){try{if(CD(`INSTALL_ID`))return CD(`INSTALL_ID`);let e$1=window.localStorage.getItem(lD);return e$1||(e$1=gN(),window.localStorage.setItem(lD,e$1)),RD(`INSTALL_ID`,e$1),e$1}catch{return}}let hD=function(e$1){if(e$1.match(/[0-9]+\.[0-9]+\.[0-9]+$/))return e$1;let t$1=e$1.match(/([0-9]+\.[0-9]+\.[0-9]+)\-([0-9]+)/);return t$1&&t$1[1]&&t$1[2]?`${t$1[1]}.${t$1[2]}`:`4.0.0.999`}(`4.24.2`),pD=function(){try{return!0===JSON.parse(`true`)}catch{return!0}}(),_D=function(e$1){return e$1.Default=`default`,e$1.Auto=`auto`,e$1.Relay=`relay`,e$1.SdRtn=`sd-rtn`,e$1}({}),ED=function(){let e$1=`username`,t$1=`password`,i$1=[`t`,`s`,`t`];i$1.splice(1,0,`e`);let n$1=i$1.join(``),r$1=[];for(let e$2=0;e$2<6;e$2++)r$1.push(`1`);let o$1=r$1.join(``),s$1={};return s$1.username=n$1,s$1.password=o$1,Object.assign(s$1,{turnServerURL:``,tcpport:3433,udpport:3478,forceturn:!1})}();window.DEFAULT_TURN_CONFIG=ED;let mD={ENABLE_PUBLISHED_USER_LIST:!0,MAX_SUBSCRIPTION:50,SUBSCRIBE_AUDIO_FILTER_TOPN:void 0,ENABLE_PUBLISH_AUDIO_FILTER:void 0,ENABLE_USER_LICENSE_CHECK:!0,DISABLE_FEC:void 0,ENABLE_NTP_REPORT:!1,ENABLE_INSTANT_VIDEO:!1,ENABLE_USER_AUTO_REBALANCE_CHECK:!0,ENABLE_LOSSBASED_BWE:!0,ENABLE_AUT_CC:!0,FORCE_ENABLE_AUT_CC:!1,ENABLE_CC_FALLBACK:void 0,SUBSCRIBE_TWCC:!0,PUBLISH_TWCC:!1,ENABLE_SVC_DEFAULT_CODECS:[`H264`,`VP8`,`VP9`,`AV1`],SVC:[],ENABLE_FULL_LINK_AV_SYNC:!1,SVC_MODE:null,PRE_SUB_NUM:1,ENABLE_AUT_FEEDBACK:!0,SVC_EXTENDED:[`VP9`]},fD={MIN_FRAME_RATE:1,MAX_FRAME_RATE:30,MAX_THRESHOLD_FRAMERATE:30,BITRATE_MIN_THRESHOLD:100,BITRATE_MAX_THRESHOLD:100,MAX_SCALE:5,BWE_SCALE_UP_THRESHOLD:.6,BWE_SCALE_DOWN_THRESHOLD:.6,PERF_SCALE_UP_THRESHOLD:.7,PERF_SCALE_DOWN_THRESHOLD:.6,MOTION_RESOLUTION_FACTOR:.8,MOTION_BITRATE_FACTOR:.6,DETAIL_FRAMERATE_FACTOR:.8,DETAIL_BITRATE_FACTOR:.6,BALANCE_RESOLUTION_FACTOR:.9,BALANCE_FRAMERATE_FACTOR:.9,BALANCE_BITRATE_FACTOR:.6,OVERUSE_TIMES_THRESHOLD:10,UNDERUSE_TIMES_THRESHOLD:40},SD=`v4.24.2-0-g002485b1-dirty(12/12/2025, 5:26:54 PM)`,gD={ENABLE_EVENT_REPORT:!0,UPLOAD_LOG:!1,ENABLE_AG_ADAPTATION:!0,FORCE_AG_HIGH_FRAMERATE:!1,FORCE_SUPPORT_AG_ADAPTATION:!1,ENCODER_CONFIG_LIMIT:{},CAMERA_CAPTURE_CONFIG:void 0,ENABLE_PRELOAD:!0,NEW_ICE_RESTART:!0,ICE_RESTART_INTERVAL:1e4,RESTART_SEQUENCE:[`udp_tcp_relay`,`relay`],FIRST_TCP_CANDIDATE:!1,FIRST_TCP_CANDIDATE_INTERVAL:1e3,TURN_DOMAIN:`edge.agora.io`,TURN_DOMAINS:[`edge.agora.io`],USE_TURN_IP:!0,NEW_TURN_MODE:4,NEW_FORCE_TURN:!1,USE_NEW_RENDER_FREEZE_TIME:!1,FLS_FALLBACK_TIMEOUT:3e4,RTE_DETAIL_REPORT_INTERVAL:6e4,ENCODE_EXCEPTION_TIMES:5,ENABLE_ENCODE_EXCEPTION:!0,ENCODE_EXCEPTION_VALIDATE_CODEC:[`h264`],VIDEO_ENCODER_CONFIG_LIST:[{width:240,height:180},{width:320,height:240},{width:400,height:300},{width:480,height:360},{width:560,height:420},{width:640,height:480}],DELETE_NEQ_AFTER_USER_LEAVE:!0,UPDATE_RTP_CAP_IN_HOST:!1,IOS_BG_TAG:!0,IOS_AUTO_RESTART_BG_TAG:!0,IGNORE_UID_CHECK:!1,ENABLE_UP_SPS_PPS:!1,ENABLE_DOWN_SPS_PPS:!1,NO_EDGES_RETRY:!0,BUFFER_READY_FRAMES:3,FLS_SYNC_AV_PLAY_LIMIT:0,FLS_BUFFER_WAIT_TIME:1500,VOS_CONFIGURE:void 0,ENABLE_QUALITY_FALLBACK:!1,QUALITY_FALLBACK_REHEARSAL:!0,ENABLE_FLS_AV1_FIRST:!1,ENABLE_AP_MULTI_IP:!0,FLS_ENABLE_AV1_DETECT:!0,FLS_ENABLE_AV1_DECODE_DETECT:!0},TD=uO(uO(uO(uO({},gD),{},{PROCESS_ID:``,ENCRYPT_AES:!0,AREAS:[`CHINA`,`GLOBAL`],WEBCS_DOMAIN:[`webrtc2-ap-web-1.agora.io`,`webrtc2-2.ap.sd-rtn.com`],WEBCS_DOMAIN_BACKUP_LIST:[`webrtc2-ap-web-3.agora.io`,`webrtc2-4.ap.sd-rtn.com`],PROXY_CS:[`ap-proxy-1.agora.io`,`ap-proxy-2.agora.io`],CDS_AP:[`cds-ap-web-1.agora.io`,`cds-web-2.ap.sd-rtn.com`,`cds-ap-web-3.agora.io`,`cds-web-4.ap.sd-rtn.com`],ACCOUNT_REGISTER:[`sua-ap-web-1.agora.io`,`sua-web-2.ap.sd-rtn.com`,`sua-ap-web-3.agora.io`,`sua-web-4.ap.sd-rtn.com`],UAP_AP:[`uap-ap-web-1.agora.io`,`uap-web-2.ap.sd-rtn.com`,`uap-ap-web-3.agora.io`,`uap-web-4.ap.sd-rtn.com`],LOG_UPLOAD_SERVER:`logservice.agora.io`,EVENT_REPORT_DOMAIN:`statscollector-1.agora.io`,EVENT_REPORT_BACKUP_DOMAIN:`web-2.statscollector.sd-rtn.com`,GATEWAY_ADDRESS:[],GATEWAY_WSS_ADDRESS:``,LIVE_STREAMING_ADDRESS:``,HTTP_CONNECT_TIMEOUT:5e3,SIGNAL_REQUEST_TIMEOUT:1e4,REPORT_STATS:!0,NOT_REPORT_EVENT:[],PING_PONG_TIME_OUT:10,WEBSOCKET_TIMEOUT_MIN:1e4,EVENT_REPORT_SEND_INTERVAL:3e3,CONFIG_DISTRIBUTE_INTERVAL:3e5,ENABLE_CONFIG_DISTRIBUTE:!0,CANDIDATE_TIMEOUT:5e3,SHOW_REPORT_INVOKER_LOG:!1,SHOW_REPORT_USER_INVOKER_LOG:!0,JOIN_EXTEND:``,PUB_EXTEND:``,SUB_EXTEND:``,FORCE_TURN:!1,TURN_ENABLE_TCP:!0,TURN_ENABLE_UDP:!0,MAX_UPLOAD_CACHE:50,UPLOAD_CACHE_INTERVAL:2e3,AJAX_REQUEST_CONCURRENT:3,REPORT_APP_SCENARIO:void 0,GATEWAY_DOMAINS:[`edge.agora.io`,`edge.sd-rtn.com`],CONNECT_GATEWAY_WITHOUT_DOMAIN:!1,WORKER_DOMAIN:`edge.agora.io`,EVENT_REPORT_RETRY:!0,CHROME_FORCE_PLAN_B:!1,AUDIO_SOURCE_VOLUME_UPDATE_INTERVAL:400,AUDIO_SOURCE_AVG_VOLUME_DURATION:3e3,AUDIO_VOLUME_INDICATION_INTERVAL:2e3,VOLUME_VOICE_WEIGHT:10,GET_VOLUME_OF_MUTED_AUDIO_TRACK:!1,STATS_UPDATE_INTERVAL:250,NORMAL_EVENT_QUEUE_CAPACITY:100,CUSTOM_REPORT:!0,CUSTOM_REPORT_LIMIT:20,PROXY_SERVER_TYPE2:`webnginx-proxy.agora.io`,PROXY_SERVER_TYPE3:[`webrtc-cloud-proxy.sd-rtn.com`,`webrtc-cloud-proxy.agora.io`],CUSTOM_PUB_ANSWER_MODIFIER:null,CUSTOM_SUB_ANSWER_MODIFIER:null,CUSTOM_PUB_OFFER_MODIFIER:null,CUSTOM_SUB_OFFER_MODIFIER:null,DSCP_TYPE:`high`,REMOVE_NEW_CODECS:!0,FRAGEMENT_LENGTH:3,WEBSOCKET_COMPRESS:!1,SIMULCAST:!1,CHECK_VIDEO_VISIBLE_INTERVAL:3e4,CHECK_LOCAL_STATS_INTERVAL:250,PROFILE_SWITCH_INTERVAL:2e3,UNSUPPORTED_VIDEO_CODEC:[],ENUMERATE_DEVICES_INTERVAL:!1,ENUMERATE_DEVICES_INTERVAL_TIME:1e4,USE_NEW_TOKEN:!1,CLOSE_AFB_FOR_LOCAL_AP:!0,JOIN_MAX_CONCURRENCY:6,JOIN_WITH_FALLBACK_SIGNAL_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE:!1,JOIN_GATEWAY_TRY_443PORT_DURATION:2e3,JOIN_GATEWAY_USE_443PORT_ONLY:!1,JOIN_GATEWAY_USE_DUAL_DOMAIN:!0,JOIN_GATEWAY_FALLBACK_PORT:443,USE_TURN_SERVER_OF_GATEWAY:!1,H264_PROFILE_LEVEL_ID:``,USE_NEW_LOG:!1,LOG_VERSION:3,MEDIA_DEVICE_CONSTRAINTS:null,ENCRYPT_PROXY_USERNAME_AND_PSW:!0,SDP_LOGGING:!1,CSP_DETECTED_HOSTNAME_LIST:[`agora.io`,`sd-rtn.com`],REMOTE_AUDIO_TRACK_USES_WEB_AUDIO:!1,LOCAL_AUDIO_TRACK_USES_WEB_AUDIO:!1,BITRATE_ADAPTER_TYPE:`STANDARD_BITRATE`,AI_DENOISER_PARAMETERS:{excludedLinks:[]},ADJUST_3A_FROM_PLUGINS:!0,RAISE_H264_BASELINE_PRIORITY:!0,FILTER_SEND_H264_BASELINE:!1,FIRST_H264_PROFILE_LEVEL_ID:`42001f`,FIRST_PACKETIZATION_MODE:``,X_GOOGLE_START_BITRATE:void 0,NEW_REPORT_SERVER:!1,NEW_REPORT_SERVER_DOMAINS:[`data-reporting.agora.io`,`data-reporting.agora.io`],VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT:3e5,VIDEO_INSPECT_INTERVAL_MINIMUM:1e3,VIDEO_INSPECT_QUALITY_RATIO:.9,VIDEO_INSPECT_WORKER_MANAGER_HOST:`edge.agora.io`,VIDEO_INSPECT_WORKER_MANAGER_PORT:``,VIDEO_INSPECT_WORKER_MANAGER_WSS:``,VIDEO_INSPECT_WORKER_PORT:``,SHOW_VIDEO_INSPECT_WORKER_MESSAGE:!1,STATS_COLLECTOR_PORT:443,FORCE_TURN_TCP:!1,WEBAUDIO_INIT_OPTIONS:void 0,FILTER_VIDEO_FEC:!0,FILTER_AUDIO_FEC:!1,CHROME_DUAL_STREAM_USE_ENCODING:!0,DISABLE_DUAL_STREAM_USE_ENCODING:!1,EXTENSION_USAGE_UPLOAD_INTERVAL:1e4,ICE_RESTART:!0,FINGERPRINT:null,ENABLE_VIDEO_FRAME_CALLBACK:!0,VIDEO_FREEZE_DURATION:500,SPATIALIZER_PARAMETERS:{},UPLOAD_LOG_INTERVAL:3e3,UPLOAD_LOG_REQUEST_RETRY_INTERVAL:2e3,UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL:2e4,UPLOAD_LOG_TRY_INTERVAL_WHILE_OFF:5e3,UPLOAD_LOG_RETRY_INTERVAL_V1:1e4,UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1:200,UPLOAD_LOG_LENGTH_EACH_TIME:10,APP_TYPE:0,DISABLE_WEBAUDIO:!1,CHANNEL_MEDIA_RELAY_SERVERS:void 0,KEEP_LAST_FRAME:!0,FORWARD_P2P_CREATION:!0,SYNC_GROUP:!0,BLOCK_LOCAL_CLIENT:!1,ENABLE_AUDIO_TOPN:!1,ENABLE_AUDIO_METADATA:!1,ENABLE_AUDIO_PTS:!1,TOPN_SMOOTH_LEVEL:void 0,TOPN_NEW_SPEAKER_DELAY:void 0,TOPN_SWITCH_HOLD_MS:void 0,TOPN_AUDIO_GAIN:void 0,TOPN_SILENCE_THRESHOLD:250,AP_AREA:!0,ENABLE_ENCODED_TRANSFORM:!1,ENABLE_VIDEO_SEI:!1,IMAGE_MODERATION_WORKER_HOST:`edge.agora.io`,IMAGE_MODERATION_WORKER_WSS:``,IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT:3e5,IMAGE_MODERATION_INTERVAL_MINIMUM:1e3,SHOW_IMAGE_MODERATION_WORKER_MESSAGE:!1,IMAGE_MODERATION_QUALITY_RATIO:.9,IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL:5e3,SHOW_GLOBAL_CLIENT_LIST:!1,DATASTREAM_MAX_RETRANSMITS:10,TCP_CANDIDATE_ONLY:!1,EXTERNAL_SIGNAL_REQUEST_TIMEOUT:3e3,SHOW_P2P_LOG:!1,MAX_P2P_TIMEOUT:3e4,P2P_TOKEN_INTERVAL:1e3,SHOW_DATASTREAM2_LOG:!1,RESTRICTION_SET_PLAYBACK_DEVICE:!0,USE_PURE_ENCRYPTION_MASTER_KEY:!1,ENABLE_AUDIO_RED:!1,OPUS_PTIME:void 0,AUDIO_DUPLICATE_NUM:void 0,ENABLE_ABSSENDTIME_AS_SENTTS:!0,ACCOUNT_REGISTER_RETRY_TIMEOUT:1,ACCOUNT_REGISTER_RETRY_RATIO:2,ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX:6e4,ACCOUNT_REGISTER_RETRY_COUNT_MAX:1e5,AUDIO_CONTEXT:null,WEBCS_BACKUP_CONNECT_TIMEOUT:6e3,PLAYER_STATE_DEFER:2e3,SIGNAL_REQUEST_WATCH_INTERVAL:1e3,FILEPATH_LENMAX:255,DUALSTREAM_OPERATION_CHECK:!0,MEDIA_ELEMENT_EXISTS_DEPTH:3,SHIM_CANDIDATE:!1,LEAVE_MSG_TIMEOUT:2e3,STATS_FILTER:{transportId:!0,googTrackId:!0},FILTER_VIDEO_CODEC:[],SIGNAL_CHANNEL:0,TRANSMITTER_INITIAL_RTT:30,TRANSMITTER_INITIAL_RTO:30,TRANSMITTER_MAX_BATCH_ACK_COUNT:2,TRANSMITTER_MAX_RTO:500,DATACHANNEL_COMPRESS:!1,DC_JOIN_WITH_FAILBACK:4e3,DC_CONNECTION_TIMEOUT:2e3,DC_PINGPONG_INTERVAL:2e3,DC_DEBUG_LOG:!1,UNSUPPORTED_VIDEO_UPLINK_CODEC:[],UNSUPPORTED_VIDEO_DOWNLINK_CODEC:[],USE_NEW_NETWORK_CONFIG:!1,AUTO_RESET_AUDIO_ROUTE:!1,PLUGIN_INFO:[],OVERUSE_DETECTOR_PARAMS:fD,CUSTOM_ADAPTATION_DEFAULT_MODE:``,HIDE_NO_POSTER:!1,AP_CACHE_NUM:10,AP_UPDATE_INTERVAL:12e4,AP_CACHE_LIFETIME:12e4,MAX_PRELOAD_ASYNC_LENGTH:3,DISABLE_SCREEN_SHARE_REMB:!1},mD),{},{USE_CANDIDATE_FROM_AP_DETAIL:!1,AP_REQUEST_DETAIL:void 0,ENABLE_ROLE_SELECT_EDGE:!1,CLIENT_ROLE_OPTIONS:void 0,REMOTE_VIDEO_STREAM_TYPE:void 0,COMPATIBLE_SDP_EXTENSION:[`gdpr_forbidden`],LIMIT_BITRATE:void 0,EXPERIMENTS:{},USE_PUB_RTX:!0,USE_SUB_RTX:!0,ENABLE_DATASTREAM_2:!1,USE_XR:!0,ENABLE_PREALLOC_PC:!1,ENABLE_PRE_SUB:!1,ENABLE_SVC:!1,ENABLE_FORCE_HLS:!1,MAX_WEBAUDIO_VOLUME:300,ENABLE_VOS_FALLBACK:!1,ENABLE_FALLBACK_TO_HLS:!1,ENABLE_PRE_RENDER:!1,FORCE_DISABLE_AUTO_SUB:!1,ENABLE_PRE_SUB_WITH_PRE_PC:!0,PRE_USE_LOCAL_CODECS:!0},{INSTALL_ID:``}),{},{K_MIN_RENDER_DELAY:66,USE_STANDARD_BITRATE_DEFAULT:!1,VIDEO_NEW_BITRATE_RATIO:void 0,VIDEO_STANDARD_BITRATE_VERSION:2,BASELINE_MORE_H264_BITRATE_RATIO:1.1,IGNORE_RTC_DEVICE_CHECK:!1,FLS_AUTOPLAY_EMITS:!1,ENABLE_DUAL_STREAM_FLAG:!1,FORBID_MODIFY_LOCAL_OFFER_SDP:!1,RESERVE_MID_1_MLINE:!1});function RD(e$1,t$1,i$1){var n$1,r$1,o$1;Ln(n$1=Object.keys(TD)).call(n$1,e$1)&&(!i$1&&Ln(r$1=Object.keys(yD)).call(r$1,e$1)||(TD[e$1]=t$1,e$1!==`ENABLE_VIDEO_SEI`&&e$1!==`ENABLE_AUDIO_TOPN`&&e$1!==`ENABLE_AUDIO_METADATA`&&e$1!==`ENABLE_AUDIO_PTS`||!0!==t$1||(TD.ENABLE_ENCODED_TRANSFORM=!0),e$1===`USE_NEW_NETWORK_CONFIG`&&t$1&&(o$1=!!t$1,TD.USE_NEW_NETWORK_CONFIG=o$1,o$1&&(TD.WEBCS_DOMAIN=[`webrtc2-2.ap.sd-rtn.com`],TD.WEBCS_DOMAIN_BACKUP_LIST=[`webrtc2-4.ap.sd-rtn.com`],TD.CDS_AP=[`cds-web-2.ap.sd-rtn.com`,`cds-web-4.ap.sd-rtn.com`],TD.ACCOUNT_REGISTER=[`sua-web-2.ap.sd-rtn.com`,`sua-web-4.ap.sd-rtn.com`],TD.EVENT_REPORT_DOMAIN=`web-2.statscollector.sd-rtn.com`,TD.EVENT_REPORT_BACKUP_DOMAIN=`statscollector-1.agora.io`,TD.GATEWAY_DOMAINS=[`edge.sd-rtn.com`])),e$1===`ENABLE_PRE_SUB`&&t$1&&(TD.ENABLE_INSTANT_VIDEO=!0,TD.ENABLE_PREALLOC_PC=!0),e$1===`ENABLE_SVC`&&t$1&&(TD.ENABLE_AUT_CC=!0),e$1===`NEW_FORCE_TURN`&&t$1&&(TD.NEW_TURN_MODE||=4)))}function CD(e$1){if(e$1===`TURN_DOMAINS`){let e$2=TD.TURN_DOMAINS;return Ln(e$2).call(e$2,CD(`TURN_DOMAIN`))?e$2:[CD(`TURN_DOMAIN`)].concat(e$2)}return TD[e$1]}pD||(TD.WEBCS_DOMAIN=[`ap-web-1-oversea.agora.io`,`ap-web-1-north-america.agora.io`],TD.WEBCS_DOMAIN_BACKUP_LIST=[`ap-web-2-oversea.agora.io`,`ap-web-2-north-america.agora.io`],TD.PROXY_CS=[`proxy-ap-web-oversea.agora.io`,`proxy-ap-web-america.agora.io`],TD.CDS_AP=[`cds-ap-web-oversea.agora.io`,`cds-ap-web-america.agora.io`,`cds-ap-web-america2.agora.io`],TD.ACCOUNT_REGISTER=[`sua-ap-web-oversea.agora.io`,`sua-ap-web-america.agora.io`,`sua-ap-web-america2.agora.io`],TD.UAP_AP=[`uap-ap-web-oversea.agora.io`,`uap-ap-web-america.agora.io`,`uap-ap-web-america2.agora.io`],TD.LOG_UPLOAD_SERVER=`logservice-oversea.agora.io`,TD.EVENT_REPORT_DOMAIN=`statscollector-1-oversea.agora.io`,TD.EVENT_REPORT_BACKUP_DOMAIN=`statscollector-2-oversea.agora.io`,TD.PROXY_SERVER_TYPE3=`webrtc-cloud-proxy.agora.io`,TD.AREAS=[`NORTH_AMERICA`,`OVERSEA`]);let vD=function(e$1){return e$1[e$1.REALTIME=1]=`REALTIME`,e$1}({}),yD={};var ID=function(e$1){return e$1.SET_SESSION_ID=`SET_SESSION_ID`,e$1.SET_RTE_URL=`SET_RTE_URL`,e$1.SET_RTE_SID=`SET_RTE_SID`,e$1.SET_P2P_ID=`SET_P2P_id`,e$1.SET_DC_ID=`SET_DC_id`,e$1.SET_UID=`SET_UID`,e$1.SET_INT_UID=`SET_INT_UID`,e$1.SET_PUB_ID=`SET_PUB_ID`,e$1.SET_CLOUD_PROXY_SERVER_MODE=`SET_CLOUD_PROXY_SERVER_MODE`,e$1.KEY_METRIC_CLIENT_CREATED=`KEY_METRIC_CLIENT_CREATED`,e$1.KEY_METRIC_JOIN_START=`KEY_METRIC_JOIN_START`,e$1.KEY_METRIC_PRELOAD_START=`KEY_METRIC_PRELOAD_START`,e$1.KEY_METRIC_PRELOAD_END=`KEY_METRIC_PRELOAD_END`,e$1.KEY_METRIC_JOIN_END=`KEY_METRIC_JOIN_END`,e$1.KEY_METRIC_REQUEST_AP_START=`KEY_METRIC_REQUEST_AP_START`,e$1.KEY_METRIC_REQUEST_AP_END=`KEY_METRIC_REQUEST_AP_END`,e$1.KEY_METRIC_REQUEST_SUA_END=`KEY_METRIC_REQUEST_SUA_END`,e$1.KEY_METRIC_BEFORE_CONNECT=`KEY_METRIC_BEFORE_CONNECT`,e$1.KEY_METRIC_PEER_RECEIVER=`KEY_METRIC_PEER_RECEIVER`,e$1.KEY_METRIC_SIGNAL_CONNECTED=`KEY_METRIC_SIGNAL_CONNECTED`,e$1.KEY_METRIC_JOIN_REQ=`KEY_METRIC_JOIN_REQ`,e$1.KEY_METRIC_JOIN_REP=`KEY_METRIC_JOIN_REP`,e$1.KEY_METRIC_JOIN_GATEWAY_START=`KEY_METRIC_JOIN_GATEWAY_START`,e$1.KEY_METRIC_JOIN_GATEWAY_END=`KEY_METRIC_JOIN_GATEWAY_END`,e$1.KEY_METRIC_PEER_CONNECTION_START=`KEY_METRIC_PEER_CONNECTION_START`,e$1.KEY_METRIC_PEER_CONNECTION_END=`KEY_METRIC_PEER_CONNECTION_END`,e$1.KEY_METRIC_FIRST_VIDEO_FRAME_DECODED=`KEY_METRIC_FIRST_VIDEO_FRAME_DECODED`,e$1.KEY_METRIC_DESCRIPTION_START=`KEY_METRIC_DESCRIPTION_START`,e$1.KEY_METRIC_ICE_CONNECTION_END=`KEY_METRIC_ICE_CONNECTION_END`,e$1.KEY_METRIC_SIGNAL_CHANNEL_OPEN=`KEY_METRIC_SIGNAL_CHANNEL_OPEN`,e$1.KEY_METRIC_PUBLISH=`KEY_METRIC_PUBLISH`,e$1.KEY_METRIC_SUBSCRIBE=`KEY_METRIC_SUBSCRIBE`,e$1.RECORD_JOIN_CHANNEL_SERVICE=`RECORD_JOIN_CHANNEL_SERVICE`,e$1.RESET_JOIN_CHANNEL_SERVICE_RECORDS=`RESET_JOIN_CHANNEL_SERVICE_RECORDS`,e$1.RESET_KEY_METRICS=`RESET_KEY_METRICS`,e$1.RESET_FIRST_VIDEO_FRAME_DECODED=`RESET_FIRST_VIDEO_FRAME_DECODED`,e$1.SET_USE_P2P=`SET_USE_P2P`,e$1.SET_TRANSPORT_TYPE=`SET_TRANSPORT_TYPE`,e$1}(ID||{});let AD=function(e$1){return e$1.h264=`h264`,e$1.h265=`h265`,e$1.vp8=`vp8`,e$1.vp9=`vp9`,e$1.av1=`av1`,e$1}({});(function(e$1){e$1.opus=`opus`,e$1.pcma=`pcma`,e$1.pcmu=`pcmu`,e$1.g722=`g722`})({});let bD=128,wD=96,OD=1e3,ND=10,DD=0;var PD=(()=>{var e$1={8:(e$2,t$2,i$2)=>{i$2.r(t$2),i$2.d(t$2,{Parser:()=>C$1,Printer:()=>b$1,parse:()=>D$1,print:()=>P$1});let n$1=`
`,r$1=`\r
`,o$1=` `,s$1;function a$1(e$3){return e$3>=`0`&&e$3<=`9`}function c$1(e$3){return e$3>=`!`&&e$3<=`~`}function d$1(e$3){return c$1(e$3)||e$3>=``&&e$3<=`ÿ`}function l$1(e$3){return e$3===`!`||e$3>=`#`&&e$3<=`'`||e$3>=`*`&&e$3<=`+`||e$3>=`-`&&e$3<=`.`||e$3>=`0`&&e$3<=`9`||e$3>=`A`&&e$3<=`Z`||e$3>=`^`&&e$3<=`~`}function u$1(e$3){return e$3>=`1`&&e$3<=`9`}function h$1(e$3){return e$3>=`A`&&e$3<=`Z`||e$3>=`a`&&e$3<=`z`}function p$1(e$3){return e$3===`d`||e$3===`h`||e$3===`m`||e$3===`s`}function _$1(e$3){return e$3>``&&e$3<`	`||e$3>`\v`&&e$3<`\f`||e$3>``&&e$3<`ÿ`}function E$1(e$3){return h$1(e$3)||a$1(e$3)||e$3===`+`||e$3===`/`}function m$1(e$3){return a$1(e$3)||h$1(e$3)||e$3===`+`||e$3===`/`||e$3===`-`||e$3===`_`}function f$1(e$3){return h$1(e$3)||a$1(e$3)||e$3===`+`||e$3===`/`}function S$1(e$3,t$3){var i$3=Object.keys(e$3);if(Object.getOwnPropertySymbols){var n$2=Object.getOwnPropertySymbols(e$3);t$3&&(n$2=n$2.filter((function(t$4){return Object.getOwnPropertyDescriptor(e$3,t$4).enumerable}))),i$3.push.apply(i$3,n$2)}return i$3}function g$1(e$3){for(var t$3=1;t$3<arguments.length;t$3++){var i$3=arguments[t$3]==null?{}:arguments[t$3];t$3%2?S$1(Object(i$3),!0).forEach((function(t$4){T$1(e$3,t$4,i$3[t$4])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e$3,Object.getOwnPropertyDescriptors(i$3)):S$1(Object(i$3)).forEach((function(t$4){Object.defineProperty(e$3,t$4,Object.getOwnPropertyDescriptor(i$3,t$4))}))}return e$3}function T$1(e$3,t$3,i$3){return t$3 in e$3?Object.defineProperty(e$3,t$3,{value:i$3,enumerable:!0,configurable:!0,writable:!0}):e$3[t$3]=i$3,e$3}(function(e$3){e$3.VERSION=`v`,e$3.ORIGIN=`o`,e$3.SESSION_NAME=`s`,e$3.INFORMATION=`i`,e$3.URI=`u`,e$3.EMAIL=`e`,e$3.PHONE=`p`,e$3.CONNECTION=`c`,e$3.BANDWIDTH=`b`,e$3.TIME=`t`,e$3.REPEAT=`r`,e$3.ZONE_ADJUSTMENTS=`z`,e$3.KEY=`k`,e$3.ATTRIBUTE=`a`,e$3.MEDIA=`m`})(s$1||={});class R$1{consumeText(e$3,t$3){let i$3=t$3;for(;i$3<e$3.length;){let t$4=e$3[i$3];if(t$4===`\0`||t$4===`\r`||t$4===`
`)break;i$3+=1}if(i$3-t$3==0)throw Error(`Invalid text, at ${e$3}`);return i$3}consumeUnicastAddress(e$3,t$3,i$3){return this.consumeTill(e$3,t$3,` `)}consumeOneOrMore(e$3,t$3,i$3){let n$2=t$3;for(;i$3(e$3[n$2]);)n$2++;if(n$2-t$3==0)throw Error(`Invalid rule at ${t$3}.`);return n$2}consumeSpace(e$3,t$3){if(e$3[t$3]===` `)return t$3+1;throw Error(`Invalid space at ${t$3}.`)}consumeIP4Address(e$3,t$3){let i$3=t$3;for(let t$4=0;t$4<4;t$4++)if(i$3=this.consumeDecimalUChar(e$3,i$3),t$4!==3){if(e$3[i$3]!==`.`)throw Error(`Invalid IP4 address.`);i$3++}return i$3}consumeDecimalUChar(e$3,t$3){let i$3=t$3;for(let t$4=0;t$4<3&&a$1(e$3[i$3]);t$4++,i$3++);if(i$3-t$3==0)throw Error(`Invalid decimal uchar.`);let n$2=parseInt(e$3.slice(t$3,i$3));if(n$2>=0&&n$2<=255)return i$3;throw Error(`Invalid decimal uchar`)}consumeIP6Address(e$3,t$3){let i$3=this.consumeHexpart(e$3,t$3);return e$3[i$3]===`:`?(i$3+=1,i$3=this.consumeIP4Address(e$3,i$3),i$3):i$3}consumeHexpart(e$3,t$3){let i$3=t$3;if(e$3[i$3]===`:`&&e$3[i$3+1]===`:`){i$3+=2;try{i$3=this.consumeHexseq(e$3,i$3)}catch{}return i$3}if(i$3=this.consumeHexseq(e$3,i$3),e$3[i$3]===`:`&&e$3[i$3+1]===`:`){i$3+=2;try{i$3=this.consumeHexseq(e$3,i$3)}catch{}return i$3}return i$3}consumeHexseq(e$3,t$3){let i$3=t$3;for(;i$3=this.consumeHex4(e$3,i$3),e$3[i$3]===`:`&&e$3[i$3+1]!==`:`;)i$3+=1;return i$3}consumeHex4(e$3,t$3){let i$3=0;for(;i$3<4;i$3++)if(!((n$2=e$3[t$3+i$3])>=`0`&&n$2<=`9`||n$2>=`a`&&n$2<=`f`||n$2>=`A`&&n$2<=`F`)){if(i$3===0)throw Error(`Invalid hex 4`);break}var n$2;return t$3+i$3}consumeFQDN(e$3,t$3){let i$3=t$3;for(;a$1(e$3[i$3])||h$1(e$3[i$3])||e$3[i$3]===`-`||e$3[i$3]===`.`;)i$3+=1;if(i$3-t$3<4)throw Error(`Invalid FQDN`);return i$3}consumeExtnAddr(e$3,t$3){return this.consumeOneOrMore(e$3,t$3,d$1)}consumeMulticastAddress(e$3,t$3,i$3){switch(i$3){case`IP4`:case`ip4`:return this.consumeIP4MulticastAddress(e$3,t$3);case`IP6`:case`ip6`:return this.consumeIP6MulticastAddress(e$3,t$3);default:try{return this.consumeFQDN(e$3,t$3)}catch{return this.consumeExtnAddr(e$3,t$3)}}}consumeIP6MulticastAddress(e$3,t$3){let i$3=this.consumeHexpart(e$3,t$3);return e$3[i$3]===`/`?this.consumeInteger(e$3,i$3+1):i$3}consumeIP4MulticastAddress(e$3,t$3){let i$3=t$3+3,n$2=e$3.slice(t$3,i$3),r$2=parseInt(n$2);if(r$2<224||r$2>239)throw Error(`Invalid IP4 multicast address, IPv4 multicast addresses may be in the range 224.0.0.0 to 239.255.255.255.`);for(let t$4=0;t$4<3;t$4++){if(e$3[i$3]!==`.`)throw Error(`Invalid IP4 multicast address.`);i$3+=1,i$3=this.consumeDecimalUChar(e$3,i$3)}return e$3[i$3]===`/`&&(i$3+=1),i$3=this.consumeTTL(e$3,i$3),e$3[i$3]===`/`&&(i$3=this.consumeInteger(e$3,i$3)),i$3}consumeInteger(e$3,t$3){if(!u$1(e$3[t$3]))throw Error(`Invalid integer.`);for(t$3+=1;a$1(e$3[t$3]);)t$3+=1;return t$3}consumeTTL(e$3,t$3){if(e$3[t$3]===`0`)return t$3+1;if(!u$1(e$3[t$3]))throw Error(`Invalid TTL.`);t$3+=1;for(let i$3=0;i$3<2&&a$1(e$3[t$3]);i$3++)t$3+=1;return t$3}consumeToken(e$3,t$3){return this.consumeOneOrMore(e$3,t$3,l$1)}consumeTime(e$3,t$3){let i$3=t$3;if(e$3[i$3]===`0`)return i$3+1;for(u$1(e$3[i$3])&&(i$3+=1);a$1(e$3[i$3]);)i$3++;if(i$3-t$3<10)throw Error(`Invalid time`);return i$3}consumeAddress(e$3,t$3){return this.consumeTill(e$3,t$3,` `)}consumeTypedTime(e$3,t$3){let i$3=t$3;return i$3=this.consumeOneOrMore(e$3,i$3,a$1),p$1(e$3[i$3])?i$3+1:i$3}consumeRepeatInterval(e$3,t$3){if(!u$1(e$3[t$3]))throw Error(`Invalid repeat interval`);for(t$3+=1;a$1(e$3[t$3]);)t$3+=1;return p$1(e$3[t$3])&&(t$3+=1),t$3}consumePort(e$3,t$3){return this.consumeOneOrMore(e$3,t$3,a$1)}consume(e$3,t$3,i$3){for(let n$2=0;n$2<i$3.length;n$2++){if(t$3+n$2>=e$3.length)throw Error(`consume exceeding value length`);if(e$3[t$3+n$2]!==i$3[n$2])throw Error(`consume ${i$3} failed at ${n$2}`)}return t$3+i$3.length}consumeTill(e$3,t$3,i$3){let n$2=t$3;for(;n$2<e$3.length&&(typeof i$3!=`string`||e$3[n$2]!==i$3)&&(typeof i$3!=`function`||!i$3(e$3[n$2]));)n$2++;return n$2}}class C$1 extends R$1{constructor(){super(),T$1(this,`records`,[]),T$1(this,`currentLine`,0)}parse(e$3){let t$3=this.probeEOL(e$3);this.records=e$3.split(t$3).filter((e$4=>!!kg(e$4).call(e$4))).map(this.parseLine),this.currentLine=0;let i$3=this.parseVersion(),n$2=this.parseOrigin(),r$2=this.parseSessionName(),o$2=this.parseInformation(),s$2=this.parseUri(),a$2=this.parseEmail(),c$2=this.parsePhone(),d$2=this.parseConnection(),l$2=this.parseBandWidth(),u$2=this.parseTimeFields(),h$2=this.parseKey(),p$2=this.parseSessionAttribute(),_$2=this.parseMediaDescription();if(this.currentLine!==this.records.length)throw Error(`parsing failed, non exhaustive sdp lines.`);return{version:i$3,origin:n$2,sessionName:r$2,information:o$2,uri:s$2,emails:a$2,phones:c$2,connection:d$2,bandwidths:l$2,timeFields:u$2,key:h$2,attributes:p$2,mediaDescriptions:_$2}}getCurrentRecord(){let e$3=this.records[this.currentLine];if(!e$3)throw Error(`Record doesn't exit.`);return e$3}probeEOL(e$3){for(let t$3=0;t$3<e$3.length;t$3++)if(e$3[t$3]===`
`)return e$3[t$3-1]===`\r`?`\r
`:`
`;throw Error(`Invalid newline character.`)}parseLine(e$3,t$3){if(e$3.length<2)throw Error(`Invalid sdp line, sdp line should be of form <type>=<value>.`);let i$3=e$3[0];if(e$3[1]!==`=`)throw Error(`Invalid sdp line, <type> should be a single character followed by an "=" sign.`);return{type:i$3,value:e$3.slice(2),line:t$3,cur:0}}parseSessionAttribute(){let e$3=new y$1;for(;this.currentLine<this.records.length;){let t$3=this.getCurrentRecord();if(t$3.type!==s$1.ATTRIBUTE)break;let i$3={attField:this.extractOneOrMore(t$3,(e$4=>l$1(e$4)&&e$4!==`:`)),_cur:0};t$3.value[t$3.cur]===`:`&&(t$3.cur+=1,i$3.attValue=this.extractOneOrMore(t$3,_$1)),e$3.parse(i$3),this.currentLine++}return e$3.digest()}parseMediaAttributes(e$3){let t$3=new I$1(e$3);for(;this.currentLine<this.records.length;){let e$4=this.getCurrentRecord();if(e$4.type!==s$1.ATTRIBUTE)break;let i$3={attField:this.extractOneOrMore(e$4,(e$5=>l$1(e$5)&&e$5!==`:`)),_cur:0};e$4.value[e$4.cur]===`:`&&(e$4.cur+=1,i$3.attValue=this.extractOneOrMore(e$4,_$1)),t$3.parse(i$3),this.currentLine++}return t$3.digest()}parseKey(){let e$3=this.getCurrentRecord();if(e$3.type===s$1.KEY){if(e$3.value===`prompt`||e$3.value===`clear:`||e$3.value===`base64:`||e$3.value===`uri:`)return e$3.value;throw this.currentLine++,Error(`Invalid key.`)}}parseZone(){let e$3=this.getCurrentRecord();if(e$3.type===s$1.ZONE_ADJUSTMENTS){let t$3=[];for(;;)try{let i$3=this.extract(e$3,this.consumeTime);this.consumeSpaceForRecord(e$3);let n$2=!1;e$3.value[e$3.cur]===`-`&&(n$2=!0,e$3.cur+=1);let r$2=this.extract(e$3,this.consumeTypedTime);t$3.push({time:i$3,typedTime:r$2,back:n$2})}catch{break}if(t$3.length===0)throw Error(`Invalid zone adjustments`);return this.currentLine++,t$3}return[]}parseRepeat(){let e$3=[];for(;;){let t$3=this.getCurrentRecord();if(t$3.type!==s$1.REPEAT)break;{let i$3=this.extract(t$3,this.consumeRepeatInterval),n$2=this.parseTypedTime(t$3);e$3.push({repeatInterval:i$3,typedTimes:n$2}),this.currentLine++}}return e$3}parseTypedTime(e$3){let t$3=[];for(;;)try{this.consumeSpaceForRecord(e$3),t$3.push(this.extract(e$3,this.consumeTypedTime))}catch{break}if(t$3.length===0)throw Error(`Invalid typed time.`);return t$3}parseTime(){let e$3=this.getCurrentRecord(),t$3=this.extract(e$3,this.consumeTime);this.consumeSpaceForRecord(e$3);let i$3=this.extract(e$3,this.consumeTime);return this.currentLine++,{startTime:t$3,stopTime:i$3}}parseBandWidth(){let e$3=[];for(;this.currentLine<this.records.length;){let t$3=this.getCurrentRecord();if(t$3.type!==s$1.BANDWIDTH)break;{let i$3=this.extractOneOrMore(t$3,l$1);if(t$3.value[t$3.cur]!==`:`)throw Error(`Invalid bandwidth field.`);t$3.cur++;let n$2=this.extractOneOrMore(t$3,a$1);e$3.push({bwtype:i$3,bandwidth:n$2}),this.currentLine++}}return e$3}parseVersion(){let e$3=this.getCurrentRecord();if(e$3.type!==s$1.VERSION)throw Error(`first sdp record must be version`);let t$3=e$3.value.slice(0,this.consumeOneOrMore(e$3.value,0,a$1));if(t$3.length!==e$3.value.length)throw Error(`invalid proto version, "v=${e$3.value}"`);return this.currentLine++,t$3}parseOrigin(){let e$3=this.getCurrentRecord();if(e$3.type!==s$1.ORIGIN)throw Error(`second line of sdp must be origin`);let t$3=this.extractOneOrMore(e$3,d$1);this.consumeSpaceForRecord(e$3);let i$3=this.extractOneOrMore(e$3,a$1);this.consumeSpaceForRecord(e$3);let n$2=this.extractOneOrMore(e$3,a$1);this.consumeSpaceForRecord(e$3);let r$2=this.extractOneOrMore(e$3,l$1);this.consumeSpaceForRecord(e$3);let o$2=this.extractOneOrMore(e$3,l$1);this.consumeSpaceForRecord(e$3);let c$2=this.extract(e$3,this.consumeUnicastAddress);return this.currentLine++,{username:t$3,sessId:i$3,sessVersion:n$2,nettype:r$2,addrtype:o$2,unicastAddress:c$2}}parseSessionName(){let e$3=this.getCurrentRecord();if(e$3.type===s$1.SESSION_NAME){let t$3=this.extract(e$3,this.consumeText);return this.currentLine++,t$3}}parseInformation(){let e$3=this.getCurrentRecord();if(e$3.type!==s$1.INFORMATION)return;let t$3=this.extract(e$3,this.consumeText);return this.currentLine++,t$3}parseUri(){let e$3=this.getCurrentRecord();if(e$3.type===s$1.URI)return this.currentLine++,e$3.value}parseEmail(){let e$3=[];for(;;){let t$3=this.getCurrentRecord();if(t$3.type!==s$1.EMAIL)break;e$3.push(t$3.value),this.currentLine++}return e$3}parsePhone(){let e$3=[];for(;;){let t$3=this.getCurrentRecord();if(t$3.type!==s$1.PHONE)break;e$3.push(t$3.value),this.currentLine++}return e$3}parseConnection(){let e$3=this.getCurrentRecord();if(e$3.type===s$1.CONNECTION){let t$3=this.extractOneOrMore(e$3,l$1);this.consumeSpaceForRecord(e$3);let i$3=this.extractOneOrMore(e$3,l$1);this.consumeSpaceForRecord(e$3);let n$2=this.extract(e$3,this.consumeAddress);return this.currentLine++,{nettype:t$3,addrtype:i$3,address:n$2}}}parseMedia(){let e$3=this.getCurrentRecord(),t$3=this.extract(e$3,this.consumeToken);this.consumeSpaceForRecord(e$3);let i$3=this.extract(e$3,this.consumePort);e$3.value[e$3.cur]===`/`&&(e$3.cur+=1,i$3+=this.extract(e$3,this.consumeInteger)),this.consumeSpaceForRecord(e$3);let n$2=[];for(n$2.push(this.extract(e$3,this.consumeToken));e$3.value[e$3.cur]===`/`;)e$3.cur+=1,n$2.push(this.extract(e$3,this.consumeToken));if(n$2.length===0)throw Error(`Invalid proto`);let r$2=this.parseFmt(e$3);return this.currentLine++,{mediaType:t$3,port:i$3,protos:n$2,fmts:r$2}}parseTimeFields(){let e$3=[];for(;this.getCurrentRecord().type===s$1.TIME;){let t$3=this.parseTime(),i$3=this.parseRepeat(),n$2=this.parseZone();e$3.push({time:t$3,repeats:i$3,zones:n$2})}return e$3}parseMediaDescription(){let e$3=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===s$1.MEDIA;){let t$3=this.parseMedia(),i$3=this.parseInformation(),n$2=this.parseConnections(),r$2=this.parseBandWidth(),o$2=this.parseKey(),s$2=this.parseMediaAttributes(t$3);e$3.push({media:t$3,information:i$3,connections:n$2,bandwidths:r$2,key:o$2,attributes:s$2})}return e$3}parseConnections(){let e$3=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===s$1.CONNECTION;)e$3.push(this.parseConnection());return e$3}parseFmt(e$3){let t$3=[];for(;;)try{this.consumeSpaceForRecord(e$3),t$3.push(this.extract(e$3,this.consumeToken))}catch{break}if(t$3.length===0)throw Error(`Invalid fmts`);return t$3}extract(e$3,t$3){var n$2=[...arguments].slice(2);let o$2=t$3.call(this,e$3.value,e$3.cur,...n$2),s$2=e$3.value.slice(e$3.cur,o$2);return e$3.cur=o$2,s$2}extractOneOrMore(e$3,t$3){let i$3=this.consumeOneOrMore(e$3.value,e$3.cur,t$3),n$2=e$3.value.slice(e$3.cur,i$3);return e$3.cur=i$3,n$2}consumeSpaceForRecord(e$3){if(e$3.value[e$3.cur]!==` `)throw Error(`Invalid space at ${e$3.cur}.`);e$3.cur+=1}}class v$1 extends R$1{constructor(){super(...arguments),T$1(this,`attributes`,void 0),T$1(this,`digested`,!1)}extractOneOrMore(e$3,t$3,i$3){let n$2=this.consumeOneOrMore(e$3.attValue,e$3._cur,t$3),r$2=e$3.attValue.slice(e$3._cur,n$2),[o$2,s$2]=i$3||[];if(typeof o$2==`number`&&r$2.length<o$2)throw Error(`error in length, should be more or equal than ${o$2} characters.`);if(typeof s$2==`number`&&r$2.length>s$2)throw Error(`error in length, should be less or equal than ${s$2} characters.`);return e$3._cur=n$2,r$2}consumeAttributeSpace(e$3){if(e$3.attValue[e$3._cur]!==` `)throw Error(`Invalid space at ${e$3._cur}.`);e$3._cur+=1}extract(e$3,t$3){if(!e$3.attValue)throw Error(`Nothing to extract from attValue.`);var n$2=[...arguments].slice(2);let o$2=t$3.call(this,e$3.attValue,e$3._cur,...n$2),s$2=e$3.attValue.slice(e$3._cur,o$2);return e$3._cur=o$2,s$2}atEnd(e$3){if(!e$3.attValue)throw Error();return e$3._cur>=e$3.attValue.length}peekChar(e$3){if(!e$3.attValue)throw Error();return e$3.attValue[e$3._cur]}peek(e$3,t$3){if(!e$3.attValue)throw Error();for(let i$3=0;i$3<t$3.length;i$3++)if(t$3[i$3]!==e$3.attValue[e$3._cur+i$3])return!1;return!0}parseIceUfrag(e$3){if(this.attributes.iceUfrag)throw Error(`Invalid ice-ufrag, should be only a single line if 'a=ice-ufrag'`);this.attributes.iceUfrag=this.extractOneOrMore(e$3,E$1,[4,256])}parseIcePwd(e$3){if(this.attributes.icePwd)throw Error(`Invalid ice-pwd, should be only a single line if 'a=ice-pwd'`);this.attributes.icePwd=this.extractOneOrMore(e$3,E$1,[22,256])}parseIceOptions(e$3){if(this.attributes.iceOptions)throw Error(`Invalid ice-options, should be only one 'ice-options' line`);let t$3=[];for(;!this.atEnd(e$3);){t$3.push(this.extractOneOrMore(e$3,E$1));try{this.consumeAttributeSpace(e$3)}catch(t$4){if(this.atEnd(e$3))break;throw t$4}}this.attributes.iceOptions=t$3}parseFingerprint(e$3){let t$3=this.extract(e$3,this.consumeToken);this.consumeAttributeSpace(e$3);let i$3=this.extract(e$3,this.consumeTill);this.attributes.fingerprints.push({hashFunction:t$3,fingerprint:i$3})}parseExtmap(e$3){let t$3=this.extractOneOrMore(e$3,a$1),i$3;this.peekChar(e$3)===`/`&&(this.extract(e$3,this.consume,`/`),i$3=this.extract(e$3,this.consumeToken)),this.consumeAttributeSpace(e$3);let n$2=this.extract(e$3,this.consumeTill,` `),r$2=g$1(g$1({entry:parseInt(t$3,10)},i$3&&{direction:i$3}),{},{extensionName:n$2});this.peekChar(e$3)===` `&&(this.consumeAttributeSpace(e$3),r$2.extensionAttributes=this.extract(e$3,this.consumeTill)),this.attributes.extmaps.push(r$2)}parseSetup(e$3){if(this.attributes.setup)throw Error(`must only be one single 'a=setup' line.`);let t$3=this.extract(e$3,this.consumeTill);if(t$3!==`active`&&t$3!==`passive`&&t$3!==`actpass`&&t$3!==`holdconn`)throw Error(`role must be one of 'active', 'passive', 'actpass', 'holdconn'.`);this.attributes.setup=t$3}}class y$1 extends v$1{constructor(){super(...arguments),T$1(this,`attributes`,{unrecognized:[],groups:[],extmaps:[],fingerprints:[],identities:[]})}parse(e$3){if(this.digested)throw Error(`already digested`);try{switch(e$3.attField){case`group`:this.parseGroup(e$3);break;case`ice-lite`:this.parseIceLite();break;case`ice-ufrag`:this.parseIceUfrag(e$3);break;case`ice-pwd`:this.parseIcePwd(e$3);break;case`ice-options`:this.parseIceOptions(e$3);break;case`fingerprint`:this.parseFingerprint(e$3);break;case`setup`:this.parseSetup(e$3);break;case`tls-id`:this.parseTlsId(e$3);break;case`identity`:this.parseIdentity(e$3);break;case`extmap`:this.parseExtmap(e$3);break;case`msid-semantic`:this.parseMsidSemantic(e$3);break;default:e$3.ignored=!0,this.attributes.unrecognized.push(e$3)}}catch(t$3){throw console.error(`parsing session attribute ${e$3.attField} error, "a=${e$3.attField}:${e$3.attValue}"`),t$3}if(!e$3.ignored&&e$3.attValue&&!this.atEnd(e$3))throw Error(`attribute parsing error`)}digest(){return this.digested=!0,this.attributes}parseGroup(e$3){let t$3=this.extract(e$3,this.consumeToken),i$3=[];for(;!this.atEnd(e$3)&&this.peekChar(e$3)===` `;)this.consumeAttributeSpace(e$3),i$3.push(this.extract(e$3,this.consumeToken));this.attributes.groups.push({semantic:t$3,identificationTag:i$3})}parseIceLite(){if(this.attributes.iceLite)throw Error(`Invalid ice-lite, should be only a single line of 'a=ice-lite'`);this.attributes.iceLite=!0}parseTlsId(e$3){if(this.attributes.tlsId)throw Error(`must be only one tld-id line`);this.attributes.tlsId=this.extractOneOrMore(e$3,m$1)}parseIdentity(e$3){let t$3=this.extractOneOrMore(e$3,f$1),i$3=[];for(;!this.atEnd(e$3)&&this.peekChar(e$3)===` `;){this.consumeAttributeSpace(e$3);let t$4=this.extract(e$3,this.consumeToken);this.extract(e$3,this.consume,`=`);let n$2=this.extractOneOrMore(e$3,(e$4=>e$4!==` `&&_$1(e$4)));i$3.push({name:t$4,value:n$2})}this.attributes.identities.push({assertionValue:t$3,extensions:i$3})}parseMsidSemantic(e$3){this.peekChar(e$3)===` `&&this.consumeAttributeSpace(e$3);let t$3={semantic:this.extract(e$3,this.consumeToken),identifierList:[]};for(;;){try{this.consumeAttributeSpace(e$3)}catch{break}if(this.peekChar(e$3)===`*`){this.extract(e$3,this.consume,`*`),t$3.applyForAll=!0;break}{let i$3=this.extract(e$3,this.consumeTill,` `);t$3.identifierList.push(i$3)}}this.attributes.msidSemantic=t$3}}class I$1 extends v$1{constructor(e$3){super(),T$1(this,`attributes`,void 0),e$3.protos.indexOf(`RTP`)!==-1||e$3.protos.indexOf(`rtp`),this.attributes={unrecognized:[],candidates:[],extmaps:[],fingerprints:[],imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[]}}parse(e$3){if(this.digested)throw Error(`already digested`);try{switch(e$3.attField){case`extmap`:this.parseExtmap(e$3);break;case`setup`:this.parseSetup(e$3);break;case`ice-ufrag`:this.parseIceUfrag(e$3);break;case`ice-pwd`:this.parseIcePwd(e$3);break;case`ice-options`:this.parseIceOptions(e$3);break;case`candidate`:this.parseCandidate(e$3);break;case`remote-candidate`:this.parseRemoteCandidate(e$3);break;case`end-of-candidates`:this.parseEndOfCandidates();break;case`fingerprint`:this.parseFingerprint(e$3);break;case`rtpmap`:this.parseRtpmap(e$3);break;case`ptime`:this.parsePtime(e$3);break;case`maxptime`:this.parseMaxPtime(e$3);break;case`sendrecv`:case`recvonly`:case`sendonly`:case`inactive`:this.parseDirection(e$3);break;case`ssrc`:this.parseSSRC(e$3);break;case`fmtp`:this.parseFmtp(e$3);break;case`rtcp-fb`:this.parseRtcpFb(e$3);break;case`rtcp-mux`:this.parseRTCPMux();break;case`rtcp-mux-only`:this.parseRTCPMuxOnly();break;case`rtcp-rsize`:this.parseRTCPRsize();break;case`rtcp`:this.parseRTCP(e$3);break;case`mid`:this.parseMid(e$3);break;case`msid`:this.parseMsid(e$3);break;case`imageattr`:this.parseImageAttr(e$3);break;case`rid`:this.parseRid(e$3);break;case`simulcast`:this.parseSimulcast(e$3);break;case`sctp-port`:this.parseSctpPort(e$3);break;case`max-message-size`:this.parseMaxMessageSize(e$3);break;case`ssrc-group`:this.parseSSRCGroup(e$3);break;default:e$3.ignored=!0,this.attributes.unrecognized.push(e$3)}}catch(t$3){throw console.error(`parsing media attribute ${e$3.attField} error, "a=${e$3.attField}:${e$3.attValue}"`),t$3}if(!e$3.ignored&&e$3.attValue&&!this.atEnd(e$3))throw Error(`attribute parsing error`)}parseCandidate(e$3){let t$3=this.extractOneOrMore(e$3,E$1,[1,32]);this.consumeAttributeSpace(e$3);let i$3=this.extractOneOrMore(e$3,a$1,[1,5]);this.consumeAttributeSpace(e$3);let n$2=this.extract(e$3,this.consumeToken);this.consumeAttributeSpace(e$3);let r$2=this.extractOneOrMore(e$3,a$1,[1,10]);this.consumeAttributeSpace(e$3);let s$2=this.extract(e$3,this.consumeAddress);this.consumeAttributeSpace(e$3);let d$2=this.extract(e$3,this.consumePort);this.consumeAttributeSpace(e$3),this.extract(e$3,this.consume,`typ`),this.consumeAttributeSpace(e$3);let l$2={foundation:t$3,componentId:i$3,transport:n$2,priority:r$2,connectionAddress:s$2,port:d$2,type:this.extract(e$3,this.consumeToken),extension:{}};for(this.peek(e$3,` raddr`)&&(this.extract(e$3,this.consume,` raddr`),this.consumeAttributeSpace(e$3),l$2.relAddr=this.extract(e$3,this.consumeAddress)),this.peek(e$3,` rport`)&&(this.extract(e$3,this.consume,` rport`),this.consumeAttributeSpace(e$3),l$2.relPort=this.extract(e$3,this.consumePort));this.peekChar(e$3)===` `;){this.consumeAttributeSpace(e$3);let t$4=this.extract(e$3,this.consumeToken);this.consumeAttributeSpace(e$3),l$2.extension[t$4]=this.extractOneOrMore(e$3,c$1)}this.attributes.candidates.push(l$2)}parseRemoteCandidate(e$3){let t$3=[];for(;;){let i$3=this.extractOneOrMore(e$3,a$1,[1,5]);this.consumeAttributeSpace(e$3);let n$2=this.extract(e$3,this.consumeAddress);this.consumeAttributeSpace(e$3);let r$2=this.extract(e$3,this.consumePort);t$3.push({componentId:i$3,connectionAddress:n$2,port:r$2});try{this.consumeAttributeSpace(e$3)}catch{break}}this.attributes.remoteCandidatesList.push(t$3)}parseEndOfCandidates(){if(this.attributes.endOfCandidates)throw Error(`must be only one line of end-of-candidates`);this.attributes.endOfCandidates=!0}parseRtpmap(e$3){let t$3=this.extract(e$3,this.consumeToken);this.consumeAttributeSpace(e$3);let i$3=this.extract(e$3,this.consumeTill,`/`);this.extract(e$3,this.consume,`/`);let n$2={encodingName:i$3,clockRate:this.extractOneOrMore(e$3,a$1)};this.atEnd(e$3)||this.peekChar(e$3)!==`/`||(this.extract(e$3,this.consume,`/`),n$2.encodingParameters=parseInt(this.extract(e$3,this.consumeTill),10));let r$2=this.attributes.payloads.find((e$4=>e$4.payloadType===parseInt(t$3,10)));r$2?r$2.rtpMap=n$2:this.attributes.payloads.push({payloadType:parseInt(t$3,10),rtpMap:n$2,rtcpFeedbacks:[]})}parsePtime(e$3){if(this.attributes.ptime)throw Error(`must be only one line of ptime`);this.attributes.ptime=this.extract(e$3,this.consumeTill)}parseMaxPtime(e$3){if(this.attributes.maxPtime)throw Error(`must be only one line of ptime`);this.attributes.maxPtime=this.extract(e$3,this.consumeTill)}parseDirection(e$3){if(this.attributes.direction)throw Error(`must be only one line of direction info`);this.attributes.direction=e$3.attField}parseSSRC(e$3){let t$3=this.extractOneOrMore(e$3,a$1);this.consumeAttributeSpace(e$3);let i$3=this.extract(e$3,this.consumeTill,`:`),n$2;this.peekChar(e$3)===`:`&&(this.extract(e$3,this.consume,`:`),n$2=this.extract(e$3,this.consumeTill));let r$2=this.attributes.ssrcs.find((e$4=>e$4.ssrcId===parseInt(t$3,10)));r$2?r$2.attributes[i$3]=n$2:this.attributes.ssrcs.push({ssrcId:parseInt(t$3,10),attributes:{[i$3]:n$2}})}parseFmtp(e$3){let t$3=this.extract(e$3,this.consumeTill,` `);this.consumeAttributeSpace(e$3);let i$3=this.extract(e$3,this.consumeTill),n$2={};i$3.split(`;`).forEach((e$4=>{let[t$4,i$4]=e$4.split(`=`);t$4=kg(t$4).call(t$4);let r$3=typeof i$4==`string`?kg(i$4).call(i$4):null;typeof t$4==`string`&&t$4.length>0&&(n$2[t$4]=r$3)}));let r$2=this.attributes.payloads.find((e$4=>e$4.payloadType===parseInt(t$3,10)));r$2?r$2.fmtp={parameters:n$2}:this.attributes.payloads.push({payloadType:parseInt(t$3,10),rtcpFeedbacks:[],fmtp:{parameters:n$2}})}parseFmtParameters(e$3){let t$3={},i$3=this.extract(e$3,this.consumeTill,`=`);for(e$3._cur++,t$3[i$3]=this.extract(e$3,this.consumeTill,`;`);e$3.attValue[e$3._cur]===`;`;){let i$4=this.extract(e$3,this.consumeTill,`=`);e$3._cur++,t$3[i$4]=this.extract(e$3,this.consumeTill,`;`)}return t$3}parseRtcpFb(e$3){let t$3=``;t$3=this.peekChar(e$3)===`*`?this.extract(e$3,this.consume,`*`):this.extract(e$3,this.consumeTill,` `),this.consumeAttributeSpace(e$3);let i$3=this.extract(e$3,this.consumeTill,` `),n$2;if(i$3===`trr-int`)n$2={type:i$3,interval:this.extract(e$3,this.consumeTill)};else{let t$4={type:i$3};this.peekChar(e$3)===` `&&(this.consumeAttributeSpace(e$3),t$4.parameter=this.extract(e$3,this.consumeToken),this.peekChar(e$3)===` `&&(t$4.additional=this.extract(e$3,this.consumeTill))),n$2=t$4}if(t$3===`*`)this.attributes.rtcpFeedbackWildcards.push(n$2);else{let e$4=this.attributes.payloads.find((e$5=>e$5.payloadType===parseInt(t$3,10)));e$4?e$4.rtcpFeedbacks.push(n$2):this.attributes.payloads.push({payloadType:parseInt(t$3,10),rtcpFeedbacks:[n$2]})}}parseRTCPMux(){if(this.attributes.rtcpMux)throw Error(`must be single line of rtcp-mux`);this.attributes.rtcpMux=!0}parseRTCPMuxOnly(){if(this.attributes.rtcpMuxOnly)throw Error(`must be single line of rtcp-only`);this.attributes.rtcpMuxOnly=!0}parseRTCPRsize(){if(this.attributes.rtcpRsize)throw Error(`must be single line of rtcp-rsize`);this.attributes.rtcpRsize=!0}parseRTCP(e$3){if(this.attributes.rtcp)throw Error(`must be single line of rtcp`);let t$3={port:this.extract(e$3,this.consumePort)};this.peekChar(e$3)===` `&&(this.consumeAttributeSpace(e$3),t$3.netType=this.extractOneOrMore(e$3,l$1),this.consumeAttributeSpace(e$3),t$3.addressType=this.extractOneOrMore(e$3,l$1),this.consumeAttributeSpace(e$3),t$3.address=this.extract(e$3,this.consumeAddress)),this.attributes.rtcp=t$3}parseMsid(e$3){let t$3={id:this.extractOneOrMore(e$3,l$1,[1,64])};this.peekChar(e$3)===` `&&(this.consumeAttributeSpace(e$3),t$3.appdata=this.extractOneOrMore(e$3,l$1,[1,64])),this.attributes.msids.push(t$3)}parseImageAttr(e$3){this.attributes.imageattr.push(e$3.attValue)}parseRid(e$3){let t$3=this.extractOneOrMore(e$3,(e$4=>h$1(e$4)||a$1(e$4)||e$4===`_`||e$4===`-`));this.consumeAttributeSpace(e$3);let i$3={id:t$3,direction:this.extract(e$3,this.consumeToken),params:[]};if(this.peekChar(e$3)===` `){if(this.consumeAttributeSpace(e$3),this.peek(e$3,`pt=`)){this.extract(e$3,this.consume,`pt=`);let t$4=[];for(;;){let i$4=this.extract(e$3,this.consumeToken);t$4.push(i$4);try{this.extract(e$3,this.consume,`,`)}catch{break}}i$3.payloads=t$4,this.peekChar(e$3)===` `&&this.extract(e$3,this.consume,` `)}for(;;){let t$4=this.extract(e$3,this.consumeToken);switch(t$4){case`depend`:{let n$2={type:t$4,rids:this.extract(e$3,this.consume,`=`).split(`,`)};i$3.params.push(n$2);break}default:{let n$2={type:t$4};this.peekChar(e$3)===`=`&&(this.extract(e$3,this.consume,`=`),n$2.val=this.extract(e$3,this.consumeTill,`;`)),i$3.params.push(n$2)}}try{this.extract(e$3,this.consume,`;`)}catch{break}}}this.attributes.rids.push(i$3)}parseSimulcast(e$3){if(this.attributes.simulcast)throw Error(`must be single line of simulcast`);this.attributes.simulcast=e$3.attValue,this.extract(e$3,this.consumeTill)}parseSctpPort(e$3){this.attributes.sctpPort=this.extractOneOrMore(e$3,a$1,[1,5])}parseMaxMessageSize(e$3){this.attributes.maxMessageSize=this.extractOneOrMore(e$3,a$1,[1,void 0])}digest(){return this.digested=!0,this.attributes}parseMid(e$3){this.attributes.mid=this.extract(e$3,this.consumeToken)}parseSSRCGroup(e$3){let t$3=this.extract(e$3,this.consumeToken),i$3=[];for(;;)try{this.consumeAttributeSpace(e$3);let t$4=this.extract(e$3,this.consumeInteger);i$3.push(parseInt(t$4,10))}catch{break}this.attributes.ssrcGroups.push({semantic:t$3,ssrcIds:i$3})}}function A$1(e$3,t$3,i$3){return t$3 in e$3?Object.defineProperty(e$3,t$3,{value:i$3,enumerable:!0,configurable:!0,writable:!0}):e$3[t$3]=i$3,e$3}class b$1{constructor(){A$1(this,`eol`,`\r
`)}print(e$3,t$3){let i$3=``;return t$3&&(this.eol=t$3),i$3+=this.printVersion(e$3.version),i$3+=this.printOrigin(e$3.origin),i$3+=this.printSessionName(e$3.sessionName),i$3+=this.printInformation(e$3.information),i$3+=this.printUri(e$3.uri),i$3+=this.printEmail(e$3.emails),i$3+=this.printPhone(e$3.phones),i$3+=this.printConnection(e$3.connection),i$3+=this.printBandwidth(e$3.bandwidths),i$3+=this.printTimeFields(e$3.timeFields),i$3+=this.printKey(e$3.key),i$3+=this.printSessionAttributes(e$3.attributes),i$3+=this.printMediaDescription(e$3.mediaDescriptions),i$3}printVersion(e$3){return`v=${e$3}${this.eol}`}printOrigin(e$3){return`o=${e$3.username} ${e$3.sessId} ${e$3.sessVersion} ${e$3.nettype} ${e$3.addrtype} ${e$3.unicastAddress}${this.eol}`}printSessionName(e$3){return e$3?`s=${e$3}${this.eol}`:``}printInformation(e$3){return e$3?`i=${e$3}${this.eol}`:``}printUri(e$3){return e$3?`u=${e$3}${this.eol}`:``}printEmail(e$3){let t$3=``;for(let i$3 of e$3)t$3+=`e=${i$3}${this.eol}`;return t$3}printPhone(e$3){let t$3=``;for(let i$3 of e$3)t$3+=`e=${i$3}${this.eol}`;return t$3}printConnection(e$3){return e$3?`c=${e$3.nettype} ${e$3.addrtype} ${e$3.address}${this.eol}`:``}printBandwidth(e$3){let t$3=``;for(let i$3 of e$3)t$3+=`b=${i$3.bwtype}:${i$3.bandwidth}${this.eol}`;return t$3}printTimeFields(e$3){let t$3=``;for(let i$3 of e$3){t$3+=`t=${i$3.time.startTime} ${i$3.time.startTime}${this.eol}`;for(let e$4 of i$3.repeats)t$3+=`r=${e$4.repeatInterval} ${e$4.typedTimes.join(` `)}${this.eol}`;i$3.zoneAdjustments&&(t$3+=`z=`,t$3+=`z=${i$3.zoneAdjustments.map((e$4=>`${e$4.time} ${e$4.back?`-`:``} ${e$4.typedTime}`)).join(` `)}${this.eol}`,t$3+=this.eol)}return t$3}printKey(e$3){return e$3?`k=${e$3}${this.eol}`:``}printAttributes(e$3){let t$3=``;for(let i$3 of e$3)t$3+=`a=${i$3.attField}${i$3.attValue?`:${i$3.attValue}`:``}${this.eol}`;return t$3}printMediaDescription(e$3){let t$3=``;for(let i$3 of e$3)t$3+=this.printMedia(i$3.media),t$3+=this.printInformation(i$3.information),t$3+=this.printConnections(i$3.connections),t$3+=this.printBandwidth(i$3.bandwidths),t$3+=this.printKey(i$3.key),t$3+=this.printMediaAttributes(i$3);return t$3}printConnections(e$3){let t$3=``;for(let i$3 of e$3)t$3+=this.printConnection(i$3);return t$3}printMedia(e$3){return`m=${e$3.mediaType} ${e$3.port} ${e$3.protos.join(`/`)} ${e$3.fmts.join(` `)}${this.eol}`}printSessionAttributes(e$3){return new O$1(this.eol).print(e$3)}printMediaAttributes(e$3){return new N$1(this.eol).print(e$3)}}class w$1{constructor(e$3){A$1(this,`eol`,void 0),this.eol=e$3}printIceUfrag(e$3){return e$3===void 0?``:`a=ice-ufrag:${e$3}${this.eol}`}printIcePwd(e$3){return e$3===void 0?``:`a=ice-pwd:${e$3}${this.eol}`}printIceOptions(e$3){return e$3===void 0?``:`a=ice-options:${e$3.join(` `)}${this.eol}`}printFingerprints(e$3){return e$3.length>0?e$3.map((e$4=>`a=fingerprint:${e$4.hashFunction} ${e$4.fingerprint}`)).join(this.eol)+this.eol:``}printExtmap(e$3){return e$3.map((e$4=>`a=extmap:${e$4.entry}${e$4.direction?`/${e$4.direction}`:``} ${e$4.extensionName}${e$4.extensionAttributes?` ${e$4.extensionAttributes}`:``}${this.eol}`)).join(``)}printSetup(e$3){return e$3===void 0?``:`a=setup:${e$3}${this.eol}`}printUnrecognized(e$3){return e$3.map((e$4=>`a=${e$4.attField}${e$4.attValue?`:${e$4.attValue}`:``}${this.eol}`)).join(``)}}class O$1 extends w$1{print(e$3){let t$3=``;return t$3+=this.printGroups(e$3.groups),t$3+=this.printMsidSemantic(e$3.msidSemantic),t$3+=this.printIceLite(e$3.iceLite),t$3+=this.printIceUfrag(e$3.iceUfrag),t$3+=this.printIcePwd(e$3.icePwd),t$3+=this.printIceOptions(e$3.iceOptions),t$3+=this.printFingerprints(e$3.fingerprints),t$3+=this.printSetup(e$3.setup),t$3+=this.printTlsId(e$3.tlsId),t$3+=this.printIdentity(e$3.identities),t$3+=this.printExtmap(e$3.extmaps),t$3+=this.printUnrecognized(e$3.unrecognized),t$3}printGroups(e$3){let t$3=``;return e$3.length>0&&(t$3+=e$3.map((e$4=>`a=group:${e$4.semantic}${e$4.identificationTag.map((e$5=>` ${e$5}`)).join(``)}${this.eol}`)).join(``)),t$3}printIceLite(e$3){return e$3===void 0?``:`a=ice-lite`+this.eol}printTlsId(e$3){return e$3?`a=tls-id:${e$3}${this.eol}`:``}printIdentity(e$3){return e$3.length===0?``:e$3.map((e$4=>`a=identity:${e$4.assertionValue}${e$4.extensions.map((e$5=>` ${e$5.name}${e$5.value?`=${e$5.value}`:``}`))}`)).join(this.eol)+this.eol}printMsidSemantic(e$3){if(!e$3)return``;let t$3=`a=msid-semantic:${e$3.semantic}`;return e$3.applyForAll?t$3+=` *`:e$3.identifierList.length>0&&(t$3+=e$3.identifierList.map((e$4=>` ${e$4}`))),t$3+this.eol}}class N$1 extends w$1{print(e$3){let t$3=e$3.attributes,i$3=``;return i$3+=this.printRTCP(t$3.rtcp),i$3+=this.printIceUfrag(t$3.iceUfrag),i$3+=this.printIcePwd(t$3.icePwd),i$3+=this.printIceOptions(t$3.iceOptions),i$3+=this.printCandidates(t$3.candidates),i$3+=this.printRemoteCandidatesList(t$3.remoteCandidatesList),i$3+=this.printEndOfCandidates(t$3.endOfCandidates),i$3+=this.printFingerprints(t$3.fingerprints),i$3+=this.printSetup(t$3.setup),i$3+=this.printMid(t$3.mid),i$3+=this.printExtmap(t$3.extmaps),i$3+=this.printRTPRelated(t$3),i$3+=this.printPtime(t$3.ptime),i$3+=this.printMaxPtime(t$3.maxPtime),i$3+=this.printDirection(t$3.direction),i$3+=this.printSSRCGroups(t$3.ssrcGroups),i$3+=this.printSSRC(t$3.ssrcs),i$3+=this.printRTCPMux(t$3.rtcpMux),i$3+=this.printRTCPMuxOnly(t$3.rtcpMuxOnly),i$3+=this.printRTCPRsize(t$3.rtcpRsize),i$3+=this.printMSId(t$3.msids),i$3+=this.printImageattr(t$3.imageattr),i$3+=this.printRid(t$3.rids),i$3+=this.printSimulcast(t$3.simulcast),i$3+=this.printSCTPPort(t$3.sctpPort),i$3+=this.printMaxMessageSize(t$3.maxMessageSize),i$3+=this.printUnrecognized(t$3.unrecognized),i$3}printCandidates(e$3){return e$3.map((e$4=>`a=candidate:${e$4.foundation} ${e$4.componentId} ${e$4.transport} ${e$4.priority} ${e$4.connectionAddress} ${e$4.port} typ ${e$4.type}${e$4.relAddr?` raddr ${e$4.relAddr}`:``}${e$4.relPort?` rport ${e$4.relPort}`:``}${Object.keys(e$4.extension).map((t$3=>` ${t$3} ${e$4.extension[t$3]}`)).join(``)}${this.eol}`)).join(``)}printRemoteCandidatesList(e$3){return e$3.map((e$4=>`a=remote-candidates:${e$4.join(` `)}${this.eol}`)).join(``)}printEndOfCandidates(e$3){return e$3===void 0?``:`a=end-of-candidates`+this.eol}printRTPRelated(e$3){if(!e$3.payloads)return``;let t$3=e$3.payloads,i$3=``;i$3+=e$3.rtcpFeedbackWildcards.map((e$4=>this.printRTCPFeedback(`*`,e$4))).join(``);for(let e$4 of t$3)i$3+=this.printRtpMap(e$4.payloadType,e$4.rtpMap),i$3+=this.printFmtp(e$4.payloadType,e$4.fmtp),i$3+=e$4.rtcpFeedbacks.map((t$4=>this.printRTCPFeedback(e$4.payloadType,t$4))).join(``);return i$3}printFmtp(e$3,t$3){if(!t$3)return``;let i$3=Object.keys(t$3.parameters);return i$3.length===1&&t$3.parameters[i$3[0]]===null?`a=fmtp:${e$3} ${i$3[0]}${this.eol}`:`a=fmtp:${e$3} ${Object.keys(t$3.parameters).map((e$4=>`${e$4}=${t$3.parameters[e$4]}`)).join(`;`)}${this.eol}`}printRtpMap(e$3,t$3){return t$3?`a=rtpmap:${e$3} ${t$3.encodingName}/${t$3.clockRate}${t$3.encodingParameters?`/${t$3.encodingParameters}`:``}${this.eol}`:``}printRTCPFeedback(e$3,t$3){let i$3=`a=rtcp-fb:${e$3} `,n$2=t$3;return n$2.type===`trr-int`?i$3+=`ttr-int ${n$2.interval}`:(i$3+=`${n$2.type}`,n$2.parameter&&(i$3+=` ${n$2.parameter}`,n$2.additional&&(i$3+=` ${n$2.additional}`))),i$3+this.eol}printPtime(e$3){return e$3===void 0?``:`a=ptime:${e$3}${this.eol}`}printMaxPtime(e$3){return e$3===void 0?``:`a=maxptime:${e$3}${this.eol}`}printDirection(e$3){return e$3===void 0?``:`a=${e$3}${this.eol}`}printSSRC(e$3){return e$3.map((e$4=>Object.keys(e$4.attributes).map((t$3=>`a=ssrc:${e$4.ssrcId.toString(10)} ${t$3}${e$4.attributes[t$3]?`:${e$4.attributes[t$3]}`:``}${this.eol}`)).join(``))).join(``)}printRTCPMux(e$3){return e$3===void 0?``:`a=rtcp-mux${this.eol}`}printRTCPMuxOnly(e$3){return e$3===void 0?``:`a=rtcp-mux-only${this.eol}`}printRTCPRsize(e$3){return e$3===void 0?``:`a=rtcp-rsize${this.eol}`}printRTCP(e$3){if(e$3===void 0)return``;let t$3=`a=rtcp:${e$3.port}`;return e$3.netType&&(t$3+=` ${e$3.netType}`),e$3.addressType&&(t$3+=` ${e$3.addressType}`),e$3.address&&(t$3+=` ${e$3.address}`),t$3+this.eol}printMSId(e$3){return e$3.map((e$4=>`a=msid:${e$4.id}${e$4.appdata?` ${e$4.appdata}`:``}${this.eol}`)).join(``)}printImageattr(e$3){return e$3.map((e$4=>`a=imageattr:${e$4}${this.eol}`)).join(``)}printRid(e$3){return e$3.map((e$4=>{let t$3=`a=rid:${e$4.id} ${e$4.direction}`;return e$4.payloads&&(t$3+=` pt=${e$4.payloads.join(`,`)}`),e$4.params.length>0&&(t$3+=` ${e$4.params.map((e$5=>e$5.type===`depend`?`depend=${e$5.rids.join(`,`)}`:`${e$5.type}=${e$5.val}`)).join(`;`)}`),t$3+this.eol})).join(``)}printSimulcast(e$3){return e$3===void 0?``:`a=simulcast:${e$3}${this.eol}`}printSCTPPort(e$3){return e$3===void 0?``:`a=sctp-port:${e$3}${this.eol}`}printMaxMessageSize(e$3){return e$3===void 0?``:`a=max-message-size:${e$3}${this.eol}`}printMid(e$3){return e$3===void 0?``:`a=mid:${e$3}${this.eol}`}printSSRCGroups(e$3){return e$3.map((e$4=>`a=ssrc-group:${e$4.semantic}${e$4.ssrcIds.map((e$5=>` ${e$5.toString(10)}`)).join(``)}${this.eol}`)).join(``)}}function D$1(e$3){return new C$1().parse(e$3)}function P$1(e$3,t$3){return new b$1().print(e$3,t$3)}}},t$1={};function i$1(n$1){if(t$1[n$1])return t$1[n$1].exports;var r$1=t$1[n$1]={exports:{}};return e$1[n$1](r$1,r$1.exports,i$1),r$1.exports}return i$1.d=(e$2,t$2)=>{for(var n$1 in t$2)i$1.o(t$2,n$1)&&!i$1.o(e$2,n$1)&&Object.defineProperty(e$2,n$1,{enumerable:!0,get:t$2[n$1]})},i$1.o=(e$2,t$2)=>Object.prototype.hasOwnProperty.call(e$2,t$2),i$1.r=e$2=>{typeof Symbol<`u`&&Symbol.toStringTag&&Object.defineProperty(e$2,Symbol.toStringTag,{value:`Module`}),Object.defineProperty(e$2,`__esModule`,{value:!0})},i$1(8)})();function LD(e$1){return PD.parse(e$1)}function kD(e$1,t$1){return PD.print(e$1,t$1)}var MD=Zi(`Array`,`keys`),UD=En,VD=$e,xD=l,FD=MD,BD=Array.prototype,jD={DOMTokenList:!0,NodeList:!0},WD=i(function(e$1){var t$1=e$1.keys;return e$1===BD||xD(BD,e$1)&&t$1===BD.keys||VD(jD,UD(e$1))?FD:t$1});function HD(e$1,t$1,i$1){return(t$1=function(e$2){var t$2=function(e$3,t$3){if(typeof e$3!=`object`||!e$3)return e$3;var i$2=e$3[Symbol.toPrimitive];if(i$2!==void 0){var n$1=i$2.call(e$3,`string`);if(typeof n$1!=`object`)return n$1;throw TypeError(`@@toPrimitive must return a primitive value.`)}return String(e$3)}(e$2);return typeof t$2==`symbol`?t$2:t$2+``}(t$1))in e$1?Object.defineProperty(e$1,t$1,{value:i$1,enumerable:!0,configurable:!0,writable:!0}):e$1[t$1]=i$1,e$1}function KD(e$1,t$1){var i$1=Object.keys(e$1);if(Object.getOwnPropertySymbols){var n$1=Object.getOwnPropertySymbols(e$1);t$1&&(n$1=n$1.filter((function(t$2){return Object.getOwnPropertyDescriptor(e$1,t$2).enumerable}))),i$1.push.apply(i$1,n$1)}return i$1}function YD(e$1){for(var t$1=1;t$1<arguments.length;t$1++){var i$1=arguments[t$1]==null?{}:arguments[t$1];t$1%2?KD(Object(i$1),!0).forEach((function(t$2){HD(e$1,t$2,i$1[t$2])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e$1,Object.getOwnPropertyDescriptors(i$1)):KD(Object(i$1)).forEach((function(t$2){Object.defineProperty(e$1,t$2,Object.getOwnPropertyDescriptor(i$1,t$2))}))}return e$1}function zD(e$1,t$1){return zD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e$2,t$2){return e$2.__proto__=t$2,e$2},zD(e$1,t$1)}function qD(){qD=function(e$2,t$2){return new i$1(e$2,void 0,t$2)};var e$1=RegExp.prototype,t$1=new WeakMap;function i$1(e$2,n$2,r$1){var o$1=RegExp(e$2,n$2);return t$1.set(o$1,r$1||t$1.get(e$2)),zD(o$1,i$1.prototype)}function n$1(e$2,i$2){var n$2,r$1=t$1.get(i$2);return nr(n$2=Object.keys(r$1)).call(n$2,(function(t$2,i$3){var n$3=r$1[i$3];if(typeof n$3==`number`)t$2[i$3]=e$2[n$3];else{for(var o$1=0;e$2[n$3[o$1]]===void 0&&o$1+1<n$3.length;)o$1++;t$2[i$3]=e$2[n$3[o$1]]}return t$2}),Object.create(null))}return function(e$2,t$2){if(typeof t$2!=`function`&&t$2!==null)throw TypeError(`Super expression must either be null or a function`);e$2.prototype=Object.create(t$2&&t$2.prototype,{constructor:{value:e$2,writable:!0,configurable:!0}}),Object.defineProperty(e$2,`prototype`,{writable:!1}),t$2&&zD(e$2,t$2)}(i$1,RegExp),i$1.prototype.exec=function(t$2){var i$2=e$1.exec.call(this,t$2);if(i$2){i$2.groups=n$1(i$2,this);var r$1=i$2.indices;r$1&&(r$1.groups=n$1(r$1,this))}return i$2},i$1.prototype[Symbol.replace]=function(i$2,r$1){if(typeof r$1==`string`){var o$1=t$1.get(this);return e$1[Symbol.replace].call(this,i$2,r$1.replace(/\$<([^>]+)(>|$)/g,(function(e$2,t$2,i$3){if(i$3===``)return e$2;var n$2=o$1[t$2];return Array.isArray(n$2)?`$`+n$2.join(`$`):typeof n$2==`number`?`$`+n$2:``})))}if(typeof r$1==`function`){var s$1=this;return e$1[Symbol.replace].call(this,i$2,(function(){var e$2=arguments;return typeof e$2[e$2.length-1]!=`object`&&(e$2=[].slice.call(e$2)).push(n$1(e$2,s$1)),r$1.apply(this,e$2)}))}return e$1[Symbol.replace].call(this,i$2,r$1)},qD.apply(this,arguments)}let XD=new class extends NO{constructor(){super(...arguments),HD(this,`currentUploadLogID`,0)}reportLogUploadError(e$1){let{errorRange:t$1}=e$1;t$1[t$1.length-1]&&t$1[t$1.length-1]>this.currentUploadLogID&&(this.currentUploadLogID=t$1[t$1.length-1],this.emit(`REPORT_LOG_UPLOAD`,e$1))}};class JD{constructor(e$1){HD(this,`logger`,void 0),HD(this,`prefixLists`,[]),this.logger=e$1}debug(){var t$1=[...arguments];this.logger.debug(...this.prefixLists,...t$1)}info(){var t$1=[...arguments];this.logger.info(...this.prefixLists,...t$1)}warning(){var t$1=[...arguments];this.logger.warning(...this.prefixLists,...t$1)}error(){var t$1=[...arguments];this.logger.error(...this.prefixLists,...t$1)}prefix(e$1){return this.prefixLists.push(e$1),this}popPrefix(){return this.prefixLists.pop(),this}}function QD(){let e$1=new Date;return e$1.toTimeString().split(` `)[0]+`:`+e$1.getMilliseconds()}function ZD(){let e$1=new Date,t$1=/((\d+:){2}\d+)/.exec(new Date().toUTCString());return t$1?t$1?.[0]+`:`+e$1.getUTCMilliseconds():e$1.toTimeString().split(` `)[0]+`:`+e$1.getMilliseconds()}let $D={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},eP=Date.now(),tP=e$1=>{for(let t$1 in $D)if(Object.prototype.hasOwnProperty.call($D,t$1)&&$D[t$1]===e$1)return t$1;return`DEFAULT`},iP=new class{constructor(){HD(this,`proxyServerURL`,void 0),HD(this,`logLevel`,$D.DEBUG),HD(this,`uploadState`,`collecting`),HD(this,`uploadLogWaitingList`,[]),HD(this,`uploadLogUploadingList`,[]),HD(this,`uploadErrorCount`,0),HD(this,`currentLogID`,0),HD(this,`url`,void 0),HD(this,`extLog`,((e$1,t$1)=>{this.appendLogToWaitingList(e$1,...t$1)}))}debug(){var t$1=[...arguments];let n$1=[$D.DEBUG].concat(t$1);this.log.apply(this,n$1)}info(){var t$1=[...arguments];let n$1=[$D.INFO].concat(t$1);this.log.apply(this,n$1)}warning(){var t$1=[...arguments];let n$1=[$D.WARNING].concat(t$1);this.log.apply(this,n$1)}warn(){this.warning(...arguments)}error(){var t$1=[...arguments];let n$1=[$D.ERROR].concat(t$1);this.log.apply(this,n$1)}upload(){var t$1=[...arguments];let n$1=[$D.DEBUG].concat(t$1);this.uploadLog.apply(this,n$1)}setLogLevel(e$1){e$1=Math.min(Math.max(0,e$1),4),this.logLevel=e$1}enableLogUpload(){RD(`UPLOAD_LOG`,!0)}disableLogUpload(){RD(`UPLOAD_LOG`,!1),this.uploadLogUploadingList=[],this.uploadLogWaitingList=[]}setProxyServer(e$1){this.proxyServerURL=e$1}prefix(e$1){return new JD(this).prefix(e$1)}log(){var t$1=[...arguments];if(Date.now()-eP<100)return void setTimeout((()=>{this.log(...t$1)}),Date.now()-eP);let n$1=Math.max(0,Math.min(4,t$1[0]));if(t$1[0]=QD()+` Agora-SDK [${tP(n$1)}]:`,this.appendLogToWaitingList(n$1,...t$1),n$1<this.logLevel)return;let r$1=QD()+` %cAgora-SDK [${tP(n$1)}]:`,o$1=[];if(!CD(`USE_NEW_LOG`))switch(n$1){case $D.DEBUG:o$1=[r$1,`color: #64B5F6;`].concat(t$1.slice(1)),console.log.apply(console,o$1);break;case $D.INFO:o$1=[r$1,`color: #1E88E5; font-weight: bold;`].concat(t$1.slice(1)),console.log.apply(console,o$1);break;case $D.WARNING:o$1=[r$1,`color: #FB8C00; font-weight: bold;`].concat(t$1.slice(1)),console.warn.apply(console,o$1);break;case $D.ERROR:o$1=[r$1,`color: #B00020; font-weight: bold;`].concat(t$1.slice(1)),console.error.apply(console,o$1)}}uploadLog(){var t$1=[...arguments];if(Date.now()-eP<100)return void setTimeout((()=>{this.uploadLog(...t$1)}),Date.now()-eP);let n$1=Math.max(0,Math.min(4,t$1[0]));t$1[0]=QD()+` Agora-SDK [${tP(n$1)}]:`,this.appendLogToWaitingList(n$1,...t$1)}appendLogToWaitingList(e$1){if(!CD(`UPLOAD_LOG`))return;var i$1=[...arguments].slice(1);Array.isArray(i$1[0])?i$1[0][0]=ZD()+` Agora-SDK [${tP(e$1)}]:`:i$1[0]=ZD()+` Agora-SDK [${tP(e$1)}]:`;let r$1=``;i$1.forEach((e$2=>{typeof e$2==`object`&&(e$2=JSON.stringify(e$2)),r$1+=`${e$2} `})),this.uploadLogWaitingList.push({payload_str:r$1,log_level:e$1,log_item_id:this.currentLogID++}),this.uploadState===`uploading`&&this.uploadLogUploadingList.length===0&&this.uploadLogInterval()}startUpload(){this.uploadState=`uploading`,this.uploadLogUploadingList.length===0&&this.uploadLogInterval()}async uploadLogs(){let e$1=this.uploadLogUploadingList,t$1={sdk_version:hD,process_id:CD(`PROCESS_ID`),payload:JSON.stringify(e$1)};return UN((async()=>{let e$2=await Tw.post(this.url||(this.proxyServerURL?`https://${this.proxyServerURL}/ls/?h=${CD(`LOG_UPLOAD_SERVER`)}&p=443&d=upload/v1`:`https://${CD(`LOG_UPLOAD_SERVER`)}/upload/v1`),t$1,{responseType:`text`});if(e$2.data!==`OK`){let t$2=Error(`unexpected upload log response`);throw t$2.response=e$2,t$2}}),(()=>(this.uploadLogUploadingList=[],!1)),(t$2=>{let i$1={status:-1,message:t$2.message,errorRange:e$1.map((e$2=>e$2.log_item_id))};return t$2.response?(i$1.status=t$2.response.status,i$1.data=t$2.response.data,i$1.headers=t$2.response.headers):t$2.request&&(i$1.status=t$2.request.status),XD.reportLogUploadError(i$1),!0}),{timeout:CD(`UPLOAD_LOG_REQUEST_RETRY_INTERVAL`),maxRetryTimeout:CD(`UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL`)})}uploadLogInterval(){this.uploadLogUploadingList.length===0&&this.uploadLogWaitingList.length===0||(this.uploadLogUploadingList.length===0&&(this.uploadLogUploadingList=this.uploadLogWaitingList.splice(0,CD(`UPLOAD_LOG_LENGTH_EACH_TIME`))),this.uploadLogs().then((()=>{this.uploadErrorCount=0,this.uploadLogWaitingList.length>0&&window.setTimeout((()=>this.uploadLogInterval()),CD(`UPLOAD_LOG_INTERVAL`))})).catch((e$1=>{this.uploadErrorCount+=1,this.uploadErrorCount<2?window.setTimeout((()=>this.uploadLogInterval()),CD(`UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1`)):window.setTimeout((()=>this.uploadLogInterval()),CD(`UPLOAD_LOG_RETRY_INTERVAL_V1`))})))}};var nP;function rP(e$1){return SO(e$1.reportId,`params.reportId`,0,100,!1),SO(e$1.category,`params.category`,0,100,!1),SO(e$1.event,`params.event`,0,100,!1),SO(e$1.label,`params.label`,0,100,!1),mO(e$1.value,`params.value`,-(2**53-1),2**53-1,!1),!0}(nP={}).FREE=`free`,nP.UPLOADING=`uploading`,function(e$1){e$1[e$1.MISC=0]=`MISC`,e$1[e$1.INTERNAL_EVENT=1]=`INTERNAL_EVENT`,e$1[e$1.PUBLIC_EVENT=2]=`PUBLIC_EVENT`,e$1[e$1.WEB_EVENT=3]=`WEB_EVENT`,e$1[e$1.INTERNAL_API=4]=`INTERNAL_API`,e$1[e$1.WEB_API=5]=`WEB_API`,e$1[e$1.PUBLIC_API=6]=`PUBLIC_API`}({});let oP={sid:``,lts:0,success:null,cname:null,uid:null,peer:null,cid:null,elapse:null,extend:null,vid:0},sP=function(e$1){return e$1.PUBLISH=`publish`,e$1.SUBSCRIBE=`subscribe`,e$1.WS_COMPRESSOR_INIT=`ws_compressor_init`,e$1.SESSION_INIT=`session_init`,e$1.JOIN_CHOOSE_SERVER=`join_choose_server`,e$1.RTE_DETAIL=`rte_detail_stats`,e$1.REQ_USER_ACCOUNT=`req_user_account`,e$1.JOIN_GATEWAY=`join_gateway`,e$1.REJOIN_GATEWAY=`rejoin_gateway`,e$1.STREAM_SWITCH=`stream_switch`,e$1.REQUEST_PROXY_WORKER_MANAGER=`request_proxy_worker_manager`,e$1.REQUEST_PROXY_APPCENTER=`request_proxy_appcenter`,e$1.FIRST_VIDEO_RECEIVED=`first_video_received`,e$1.FIRST_AUDIO_RECEIVED=`first_audio_received`,e$1.FIRST_VIDEO_DECODE=`first_video_decode`,e$1.FIRST_AUDIO_DECODE=`first_audio_decode`,e$1.XLA_PEER_FIRST_VIDEO_FRAME=`xla_peer_first_video_frame`,e$1.ON_ADD_AUDIO_STREAM=`on_add_audio_stream`,e$1.ON_ADD_VIDEO_STREAM=`on_add_video_stream`,e$1.ON_UPDATE_STREAM=`on_update_stream`,e$1.ON_REMOVE_STREAM=`on_remove_stream`,e$1.USER_ANALYTICS=`req_user_analytics`,e$1.PC_STATS=`pc_stats`,e$1.UPDATE_REMOTE_RTPCAPABILITIES=`update_remote_rtpCapabilities`,e$1.AB_TEST=`ab_test`,e$1}({}),aP=function(e$1){return e$1.SESSION=`io.agora.pb.Wrtc.Session`,e$1.JOIN_CHOOSE_SERVER=`io.agora.pb.Wrtc.JoinChooseServer`,e$1.RTE_DETAIL=`io.agora.pb.Wrtc.RteDetailStats`,e$1.REQ_USER_ACCOUNT=`io.agora.pb.Wrtc.ReqUserAccount`,e$1.JOIN_GATEWAY=`io.agora.pb.Wrtc.JoinGateway`,e$1.RE_JOIN_GATEWAY=`io.agora.pb.Wrtc.ReJoinGateway`,e$1.PUBLISH=`io.agora.pb.Wrtc.Publish`,e$1.SUBSCRIBE=`io.agora.pb.Wrtc.Subscribe`,e$1.WS_COMPRESSOR_INIT=`io.agora.pb.Wrtc.WsCompressorInit`,e$1.STREAM_SWITCH=`io.agora.pb.Wrtc.StreamSwitch`,e$1.AUDIO_SENDING_STOPPED=`io.agora.pb.Wrtc.AudioSendingStopped`,e$1.VIDEO_SENDING_STOPPED=`io.agora.pb.Wrtc.VideoSendingStopped`,e$1.REQUEST_PROXY_APPCENTER=`io.agora.pb.Wrtc.RequestProxyAppCenter`,e$1.REQUEST_PROXY_WORKER_MANAGER=`io.agora.pb.Wrtc.RequestProxyWorkerManager`,e$1.API_INVOKE=`io.agora.pb.Wrtc.ApiInvoke`,e$1.FIRST_VIDEO_RECEIVED=`io.agora.pb.Wrtc.FirstVideoReceived`,e$1.FIRST_AUDIO_RECEIVED=`io.agora.pb.Wrtc.FirstAudioReceived`,e$1.FIRST_VIDEO_DECODE=`io.agora.pb.Wrtc.FirstVideoDecode`,e$1.FIRST_AUDIO_DECODE=`io.agora.pb.Wrtc.FirstAudioDecode`,e$1.XLA_PEER_FIRST_VIDEO_FRAME=`io.agora.pb.Wrtc.XLAPeerFirstVideoFrame`,e$1.ON_ADD_AUDIO_STREAM=`io.agora.pb.Wrtc.OnAddAudioStream`,e$1.ON_ADD_VIDEO_STREAM=`io.agora.pb.Wrtc.OnAddVideoStream`,e$1.ON_UPDATE_STREAM=`io.agora.pb.Wrtc.OnUpdateStream`,e$1.ON_REMOVE_STREAM=`io.agora.pb.Wrtc.OnRemoveStream`,e$1.JOIN_CHANNEL_TIMEOUT=`io.agora.pb.Wrtc.JoinChannelTimeout`,e$1.PEER_PUBLISH_STATUS=`io.agora.pb.Wrtc.PeerPublishStatus`,e$1.WORKER_EVENT=`io.agora.pb.Wrtc.WorkerEvent`,e$1.AP_WORKER_EVENT=`io.agora.pb.Wrtc.APWorkerEvent`,e$1.JOIN_WEB_PROXY_AP=`io.agora.pb.Wrtc.JoinWebProxyAP`,e$1.WEBSOCKET_QUIT=`io.agora.pb.Wrtc.WebSocketQuit`,e$1.USER_ANALYTICS=`io.agora.pb.Wrtc.UserAnalytics`,e$1.AUTOPLAY_FAILED=`io.agora.pb.Wrtc.AutoplayFailed`,e$1.PC_STATS=`io.agora.pb.Wrtc.PCStats`,e$1.UPDATE_REMOTE_RTPCAPABILITIES=`io.agora.pb.Wrtc.UpdateRemoteRTPCapabilities`,e$1.AB_TEST=`io.agora.pb.Wrtc.ABTest`,e$1}({});(function(e$1){e$1[e$1.WORKER_EVENT=156]=`WORKER_EVENT`,e$1[e$1.AP_WORKER_EVENT=160]=`AP_WORKER_EVENT`})({});let cP=function(e$1){return e$1[e$1.SESSION=26]=`SESSION`,e$1[e$1.JOIN_CHOOSE_SERVER=27]=`JOIN_CHOOSE_SERVER`,e$1[e$1.REQ_USER_ACCOUNT=196]=`REQ_USER_ACCOUNT`,e$1[e$1.JOIN_GATEWAY=28]=`JOIN_GATEWAY`,e$1[e$1.PUBLISH=30]=`PUBLISH`,e$1[e$1.SUBSCRIBE=29]=`SUBSCRIBE`,e$1[e$1.WS_COMPRESSOR_INIT=9430]=`WS_COMPRESSOR_INIT`,e$1[e$1.STREAM_SWITCH=32]=`STREAM_SWITCH`,e$1[e$1.AUDIO_SENDING_STOPPED=33]=`AUDIO_SENDING_STOPPED`,e$1[e$1.VIDEO_SENDING_STOPPED=34]=`VIDEO_SENDING_STOPPED`,e$1[e$1.REQUEST_PROXY_APPCENTER=35]=`REQUEST_PROXY_APPCENTER`,e$1[e$1.REQUEST_PROXY_WORKER_MANAGER=36]=`REQUEST_PROXY_WORKER_MANAGER`,e$1[e$1.API_INVOKE=41]=`API_INVOKE`,e$1[e$1.FIRST_VIDEO_RECEIVED=348]=`FIRST_VIDEO_RECEIVED`,e$1[e$1.FIRST_AUDIO_RECEIVED=349]=`FIRST_AUDIO_RECEIVED`,e$1[e$1.FIRST_VIDEO_DECODE=350]=`FIRST_VIDEO_DECODE`,e$1[e$1.FIRST_AUDIO_DECODE=351]=`FIRST_AUDIO_DECODE`,e$1[e$1.ON_ADD_AUDIO_STREAM=352]=`ON_ADD_AUDIO_STREAM`,e$1[e$1.ON_ADD_VIDEO_STREAM=353]=`ON_ADD_VIDEO_STREAM`,e$1[e$1.ON_UPDATE_STREAM=356]=`ON_UPDATE_STREAM`,e$1[e$1.ON_REMOVE_STREAM=355]=`ON_REMOVE_STREAM`,e$1[e$1.JOIN_CHANNEL_TIMEOUT=407]=`JOIN_CHANNEL_TIMEOUT`,e$1[e$1.PEER_PUBLISH_STATUS=408]=`PEER_PUBLISH_STATUS`,e$1[e$1.WORKER_EVENT=156]=`WORKER_EVENT`,e$1[e$1.AP_WORKER_EVENT=160]=`AP_WORKER_EVENT`,e$1[e$1.JOIN_WEB_PROXY_AP=700]=`JOIN_WEB_PROXY_AP`,e$1[e$1.WEBSOCKET_QUIT=671]=`WEBSOCKET_QUIT`,e$1[e$1.USER_ANALYTICS=1e4]=`USER_ANALYTICS`,e$1[e$1.AUTOPLAY_FAILED=9178]=`AUTOPLAY_FAILED`,e$1}({});function dP(){let e$1=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(t$1,i$1,n$1){let r$1=n$1.value;if(typeof r$1==`function`){let o$1=e$1.className||t$1.__className__||(t$1.constructor.name===`AgoraRTCClient`?`Client`:t$1.constructor.name);n$1.value=function(){for(var t$2,n$2=arguments.length,s$1=Array(n$2),a$1=0;a$1<n$2;a$1++)s$1[a$1]=arguments[a$1];let c$1=s$1;if(e$1.argsMap)try{c$1=e$1.argsMap(this,...s$1)}catch(e$2){iP.warning(e$2),c$1=[]}try{JSON.stringify(c$1)}catch{iP.warning(`arguments for method ${o$1}.${String(i$1)} not serializable for apiInvoke.`),c$1=[]}let d$1=(e$1.report||lP).reportApiInvoke(this._sessionId||null,{id:this._clientId||this.store?.clientId||this._ID,name:`${o$1}.${String(i$1)}`,options:c$1,tag:kO.TRACER,reportResult:e$1.reportResult},e$1.throttleTime);try{let t$3=r$1.apply(this,s$1);return t$3 instanceof rp?t$3.then((t$4=>(d$1.onSuccess(e$1.reportResult&&t$4),t$4))).catch((e$2=>{throw d$1.onError(e$2),e$2})):(d$1.onSuccess(e$1.reportResult&&t$3),t$3)}catch(e$2){throw d$1.onError(e$2),e$2}}}return n$1}}let lP=new class{constructor(){HD(this,`baseInfoMap`,new Map),HD(this,`proxyServer`,void 0),HD(this,`eventUploadTimer`,void 0),HD(this,`setSessionIdTimer`,void 0),HD(this,`url`,void 0),HD(this,`sids`,new Set),HD(this,`backupUrl`,void 0),HD(this,`_appId`,void 0),HD(this,`_aid`,0),HD(this,`keyEventUploadPendingItems`,[]),HD(this,`normalEventUploadPendingItems`,[]),HD(this,`apiInvokeUploadPendingItems`,[]),HD(this,`apiInvokeCount`,0),HD(this,`apiInvokeLoggedCount`,0),HD(this,`ltsList`,[]),HD(this,`lastSendNormalEventTime`,Date.now()),HD(this,`customReportCounterTimer`,void 0),HD(this,`customReportCount`,0),HD(this,`extApiInvoke`,(async e$1=>{for(let t$1 of e$1){let e$2=YD(YD({},t$1),{},{sid:null,invokeId:++this.apiInvokeCount,tag:kO.TRACER});this.sendApiInvoke(e$2)}})),this.eventUploadTimer=window.setInterval(this.doSend.bind(this),CD(`EVENT_REPORT_SEND_INTERVAL`)),this.setSessionIdTimer=window.setInterval(this.appendSessionId.bind(this),CD(`EVENT_REPORT_SEND_INTERVAL`))}getBaseInfoBySessionId(e$1){return this.baseInfoMap.get(e$1)}setAppId(e$1){this._appId=e$1,this._aid=parseInt(e$1.replace(/[a-fA-F0-9]{8}/g,(e$2=>{let[t$1,i$1]=e$2;return t$1+i$1})),16)||0}reportApiInvoke(e$1,t$1,i$1){t$1.timeout=t$1.timeout||6e4,t$1.reportResult=t$1.reportResult===void 0||t$1.reportResult;let n$1=Date.now();this.apiInvokeCount+=1;let r$1=this.apiInvokeCount,o$1=!!CD(`SHOW_REPORT_INVOKER_LOG`),s$1=!!CD(`SHOW_REPORT_USER_INVOKER_LOG`),a$1=o$1||s$1&&t$1.id;a$1&&(this.apiInvokeLoggedCount+=1);let c$1=this.apiInvokeLoggedCount;function d$1(e$2,i$2){if(a$1){let n$2=`[apiInvoke-${c$1}]`;if(t$1.id&&(n$2+=`[${t$1.id}]`),t$1.name&&(n$2+=`[${t$1.name}]`,t$1.name===LO.JOIN))return iP.info(`${n$2} ${e$2}`);iP.info(`${n$2} ${e$2}`,e$2===`start`?t$1.options:i$2||``)}}let l$1=()=>({tag:t$1.tag,invokeId:r$1,sid:e$1,name:t$1.name,apiInvokeTime:n$1,options:t$1.options,states:t$1.states||null});d$1(`start`);let u$1=!1;fN(t$1.timeout).then((()=>{u$1||(this.sendApiInvoke(YD(YD({},l$1()),{},{error:hO.API_INVOKE_TIMEOUT,success:!1})),d$1(`timeout`))}));let h$1=new pO(hO.UNEXPECTED_ERROR,`${t$1.name}: this api invoke is end`);return{onSuccess:e$2=>{let n$2=()=>{if(u$1)throw h$1;return u$1=!0,this.sendApiInvoke(YD(YD({},l$1()),{},{success:!0},t$1.reportResult&&{result:e$2})),d$1(`onSuccess`),e$2};return i$1?CN(n$2,t$1.name+`Success`,i$1,(()=>u$1=!0)):n$2()},onError:e$2=>{let n$2=()=>{if(u$1)throw e$2;u$1=!0,this.sendApiInvoke(YD(YD({},l$1()),{},{success:!1,error:e$2})),d$1(`onFailure`,e$2.toString())};return i$1?CN(n$2,t$1.name+`Error`,i$1,(()=>u$1=!0)):n$2()}}}_send(e$1,t$1,i$1){this.send({type:e$1,data:t$1},i$1)}_sendApiInvoke(e$1){return this.sendApiInvoke(e$1)}sessionInit(e$1,t$1){if(this.baseInfoMap.has(e$1))return;let i$1=Date.now(),n$1=this.createBaseInfo(e$1,i$1);n$1.cname=t$1.cname,n$1.rteUrl=t$1.rteUrl;let r$1=Object.assign({},{willUploadConsoleLog:CD(`UPLOAD_LOG`),maxTouchPoints:navigator.maxTouchPoints,areaVersion:pD?`global`:`oversea`,areas:CD(`AREAS`)&&CD(`AREAS`).join(`,`)},t$1.extend),{stringUid:o$1,channelProfile:s$1,channelMode:a$1,isABTestSuccess:c$1,lsid:d$1,clientRole:l$1}=t$1,u$1=Date.now(),h$1=YD(YD({},n$1),{},{eventType:sP.SESSION_INIT,appid:t$1.appid,browser:navigator.userAgent,buildFormat:t$1.buildFormat,build:SD,lts:u$1,elapse:u$1-i$1,extend:JSON.stringify(r$1),mode:t$1.mode,process:CD(`PROCESS_ID`),appType:CD(`APP_TYPE`),success:!0,version:hD,stringUid:o$1,channelProfile:s$1,channelMode:a$1,isABTestSuccess:c$1,lsid:d$1,clientType:Ln(p$1=window.navigator.userAgent).call(p$1,`AgoraWebView`)?42:20,clientRole:l$1,serviceId:CD(`PROCESS_ID`),extensionID:CD(`PLUGIN_INFO`).join(`,`)||``,rteUrl:t$1.rteUrl,rteSid:t$1.rteSid});var p$1;this.send({type:aP.SESSION,data:h$1},!0)}reportRteDetail(e$1){let t$1=this.baseInfoMap.get(e$1);if(!t$1)return;let i$1=t$1.info,n$1=Date.now(),r$1=YD(YD({},i$1),{},{eventType:sP.RTE_DETAIL,lts:n$1,success:!0,elapse:n$1-t$1.startTime,vid:i$1.vid===void 0?0:Number(i$1.vid),ua:navigator.userAgent});this.send({type:aP.RTE_DETAIL,data:r$1},!0)}joinChooseServer(e$1,t$1){let i$1=this.baseInfoMap.get(e$1);if(!i$1)return;let n$1=i$1.info;t$1.vid&&(n$1.vid=t$1.vid);let r$1=Date.now(),o$1=YD(YD({},n$1),{},{role:t$1.role,eventType:sP.JOIN_CHOOSE_SERVER,lts:r$1,eventElapse:t$1.elapse||r$1-t$1.lts,chooseServerAddr:t$1.csAddr,errorCode:t$1.ec,elapse:r$1-i$1.startTime,success:t$1.succ,chooseServerAddrList:JSON.stringify(t$1.serverList),uid:t$1.uid?parseInt(t$1.uid):null,cid:t$1.cid?parseInt(t$1.cid):null,chooseServerIp:t$1.csIp||``,opid:t$1.opid,unilbsServerIds:t$1.unilbsServerIds,extend:t$1.extend||void 0,isHttp3:t$1.isHttp3,corssRegionTagReq:t$1.corssRegionTagReq||void 0,corssRegionTagRes:t$1.corssRegionTagRes||void 0,ua:navigator.userAgent,resourceTimingInfo:t$1.resourceTimingInfo||void 0});this.send({type:aP.JOIN_CHOOSE_SERVER,data:o$1},!0)}reqUserAccount(e$1,t$1){let i$1=this.baseInfoMap.get(e$1);if(!i$1)return;let n$1=i$1.info,r$1=Date.now(),o$1=YD(YD({},n$1),{},{eventType:sP.REQ_USER_ACCOUNT,lts:r$1,success:t$1.success,serverAddress:t$1.serverAddr,stringUid:t$1.stringUid,uid:t$1.uid,errorCode:t$1.errorCode,elapse:t$1.elapse||r$1-i$1.startTime,eventElapse:r$1-t$1.lts,extend:JSON.stringify(t$1.extend)});this.send({type:aP.REQ_USER_ACCOUNT,data:o$1},!0)}joinGateway(e$1,t$1){let i$1=this.baseInfoMap.get(e$1);if(!i$1)return;let n$1=i$1.info;t$1.vid&&(n$1.vid=t$1.vid),n$1.uid=t$1.uid,n$1.cid=t$1.cid;let r$1=Date.now(),{firstSuccess:o$1,addr:s$1,isProxy:a$1}=t$1,c$1=r$1-i$1.startTime,d$1=YD(YD({},n$1),{},{eventType:sP.JOIN_GATEWAY,lts:r$1,gatewayAddr:t$1.addr,success:t$1.succ,errorCode:t$1.ec,errorMsg:t$1.errorMsg||``,elapse:c$1,eventElapse:r$1-t$1.lts,firstSuccess:o$1,signalChannel:t$1.signalChannel,preload:t$1.preload?1:0,installId:uD(),isABTestSuccess:t$1.isABTestSuccess?1:0,gatewayIp:null,gatewayPort:null,isProxy:a$1?1:0}),l$1=d$1.success?1:0;if(t$1.succ&&(i$1.lastJoinSuccessTime=r$1),s$1)if(d$1.signalChannel===`1`){let e$2=qD(/(\d+\.\d+\.\d+\.\d+):(\d+)/,{ip:1,port:2}),t$2=s$1.match(e$2);d$1.gatewayIp=t$2&&t$2.groups?t$2.groups.ip:``,d$1.gatewayPort=t$2&&t$2.groups?t$2.groups.port:``}else if(a$1){let e$2=s$1.match(/h=(\d{1,3}-){3}\d{1,3}/g),t$2=s$1.match(/p=[0-9]{1,6}/g);d$1.gatewayIp=e$2&&e$2.length?e$2[0].split(`=`)[1].replace(/-/g,`.`):``,d$1.gatewayPort=t$2&&t$2.length?t$2[0].split(`=`)[1]:``}else{let e$2=s$1.match(/wss:\/\/(\d{1,3}-){3}\d{1,3}/g),t$2=s$1.match(/(:|p=)[0-9]{1,6}/g);d$1.gatewayIp=e$2&&e$2.length?e$2[0].split(`//`)[1].replace(/-/g,`.`):``,d$1.gatewayPort=t$2&&t$2.length?t$2[0].split(/:|p=/g)[1]:``}if(o$1)this.send({type:aP.JOIN_GATEWAY,data:d$1},!0);else{let e$2={isSuccess:l$1,port:d$1.gatewayPort};delete d$1.success,delete d$1.eventType,delete d$1.firstSuccess,delete d$1.gatewayPort,d$1.vid=Number(d$1.vid);let t$2=Object.assign({},d$1,e$2,{eventType:sP.REJOIN_GATEWAY});this.send({type:aP.RE_JOIN_GATEWAY,data:t$2},!0)}}joinChannelTimeout(e$1,t$1){let i$1=this.baseInfoMap.get(e$1);if(!i$1)return;let n$1=Date.now(),r$1=YD(YD({},i$1.info),{},{lts:n$1,timeout:t$1,elapse:n$1-i$1.startTime});this.send({type:aP.JOIN_CHANNEL_TIMEOUT,data:r$1},!0)}publish(e$1,t$1){let i$1=this.baseInfoMap.get(e$1);if(!i$1)return;let n$1=i$1.info,r$1=Date.now(),o$1=YD(YD({},n$1),{},{eventType:sP.PUBLISH,lts:r$1,eventElapse:t$1.eventElapse,elapse:r$1-i$1.startTime,success:t$1.succ,errorCode:t$1.ec,videoName:t$1.videoName,audioName:t$1.audioName,screenName:t$1.screenName,screenshare:t$1.screenshare,audio:t$1.audio,video:t$1.video,p2pid:t$1.p2pid,publishRequestid:t$1.publishRequestid});this.send({type:aP.PUBLISH,data:o$1},!0)}subscribe(e$1,t$1,i$1){let n$1=this.baseInfoMap.get(e$1);if(!n$1)return;let r$1=n$1.info,o$1=Date.now(),s$1=YD(YD({},r$1),{},{eventType:sP.SUBSCRIBE,lts:o$1,eventElapse:t$1.eventElapse,elapse:o$1-n$1.startTime,success:t$1.succ,errorCode:t$1.ec,video:t$1.video,audio:t$1.audio,subscribeRequestid:t$1.subscribeRequestid,p2pid:t$1.p2pid,preSsrc:t$1.preSsrc?1:0},i$1&&{extend:JSON.stringify({isMassSubscribe:!0})});typeof t$1.peerid==`string`?s$1.peerSuid=t$1.peerid:s$1.peer=t$1.peerid,this.send({type:aP.SUBSCRIBE,data:s$1},!0)}wsCompressorInit(e$1){var t$1;let i$1=[...WD(t$1=this.baseInfoMap).call(t$1)],n$1=i$1.length?i$1[0]:`UnableToGetSid`,r$1=this.baseInfoMap.get(n$1);if(!r$1)return;let o$1=r$1.info,s$1=Date.now(),a$1=YD(YD({},o$1),{},{eventType:sP.WS_COMPRESSOR_INIT,lts:s$1,eventElapse:e$1.eventElapse,elapse:s$1-r$1.startTime,status:e$1.status?1:2});this.send({type:aP.WS_COMPRESSOR_INIT,data:a$1},!0)}firstXLAPeerFirstVideoFrame(e$1,t$1){let i$1=this.baseInfoMap.get(e$1);if(!i$1)return;let n$1=i$1.info,r$1=Date.now(),o$1=t$1.peerPubStatusMs-(i$1.lastJoinSuccessTime||r$1),s$1=YD(YD({},n$1),{},{elapse:r$1-i$1.startTime,eventType:sP.XLA_PEER_FIRST_VIDEO_FRAME,lts:r$1,peer:t$1.peer,width:t$1.width,height:t$1.height,ssrc:t$1.ssrc,p2pid:t$1.p2pid,peerPublishDuration:t$1.peerPublishDuration,joinChannelSuccessElapse:o$1,peerPubStatusMs:t$1.peerPubStatusMs-t$1.joinChannelStart,availablePublish:t$1.peerPublishDuration>o$1?1:0,preloadStart:Math.max(t$1.preloadStart-t$1.joinChannelStart,0),preloadEnd:Math.max(t$1.preloadEnd-t$1.joinChannelStart,0),encrypt:Math.max(t$1.apStart-t$1.joinChannelStart,0),ap:Math.max(t$1.apEnd-t$1.joinChannelStart,0),sua:Math.max(t$1.suaEnd-t$1.joinChannelStart,0),beforeConnect:Math.max(t$1.beforeConnect-t$1.joinChannelStart,0),peerRecevier:Math.max(t$1.peerReceiver-t$1.joinChannelStart,0),ice:Math.max(t$1.ice-t$1.joinChannelStart,0),pc:Math.max(t$1.pc-t$1.joinChannelStart,0),signalConnected:Math.max(t$1.signalConnected-t$1.joinChannelStart,0),joinReq:Math.max(t$1.joinReq-t$1.joinChannelStart,0),joinRes:Math.max(t$1.joinRes-t$1.joinChannelStart,0),userJoinNotify:Math.max(t$1.userJoinNotify-t$1.joinChannelStart,0),videoSsrcNotify:Math.max(t$1.videoAddNotify-t$1.joinChannelStart,0),subscribeDelayMs:Math.max(t$1.subscribeStart-t$1.videoAddNotify,0),subscribeStart:Math.max(t$1.subscribeStart-t$1.joinChannelStart,0),subscribeEnd:Math.max(t$1.subscribeEnd-t$1.joinChannelStart,0),firstReceived:Math.max(t$1.firstReceived-t$1.joinChannelStart,0),firstDecoded:Math.max(t$1.firstDecoded-t$1.joinChannelStart,0),firstPreRender:Math.max(t$1.firstPreRender-t$1.joinChannelStart,0),firstRender:Math.max(t$1.firstRender-t$1.joinChannelStart,0),playDelayMs:Math.max(t$1.playStart-t$1.subscribeEnd,0),playStart:Math.max(t$1.playStart-t$1.joinChannelStart,0),playEnd:Math.max(t$1.playEnd-t$1.joinChannelStart,0),isPreSub:t$1.isPreSub?1:0,isPrePc:t$1.isPrePc?1:0,isPreInstantVideo:t$1.isPreInstantVideo?1:0,firstReceivedEncodedFrame:t$1.firstReceivedEncodedFrame?Math.max(t$1.firstReceivedEncodedFrame-t$1.joinChannelStart,0):void 0,frameType:t$1.frameType||``,rtpTimestamp:t$1.rtpTimestamp||0,framePayloadType:t$1.framePayloadType||0,frameDataLength:t$1.frameDataLength||0,mimeType:t$1.mimeType||``});this.send({type:aP.XLA_PEER_FIRST_VIDEO_FRAME,data:s$1},!0)}firstRemoteVideoDecode(e$1,t$1,i$1,n$1){let r$1=this.baseInfoMap.get(e$1);if(!r$1)return;let o$1=r$1.info,s$1=Date.now(),a$1=YD(YD(YD({},o$1),n$1),{},{elapse:s$1-r$1.startTime,eventType:t$1,lts:s$1,firstDecodeFrame:Math.max((n$1.firstFrame||s$1)-r$1.startTime,0),apEnd:Math.max(n$1.apEnd-r$1.startTime,0),apStart:Math.max(n$1.apStart-r$1.startTime,0),joinGwEnd:Math.max(n$1.joinGwEnd-r$1.startTime,0),joinGwStart:Math.max(n$1.joinGwStart-r$1.startTime,0),pcEnd:Math.max(n$1.pcEnd-r$1.startTime,0),pcStart:Math.max(n$1.pcStart-r$1.startTime,0),subscriberEnd:Math.max(n$1.subscriberEnd-r$1.startTime,0),subscriberStart:Math.max(n$1.subscriberStart-r$1.startTime,0),videoAddNotify:Math.max(n$1.videoAddNotify-r$1.startTime,0)});this.send({type:i$1,data:a$1},!0)}firstRemoteFrame(e$1,t$1,i$1,n$1){let r$1=this.baseInfoMap.get(e$1);if(!r$1)return;let o$1=r$1.info,s$1=Date.now(),a$1=YD(YD(YD({},o$1),n$1),{},{elapse:s$1-r$1.startTime,eventType:t$1,lts:s$1});this.send({type:i$1,data:a$1},!0)}abTest(e$1,t$1){let i$1=this.baseInfoMap.get(e$1);if(!i$1)return;let n$1=i$1.info,r$1=Date.now(),o$1=YD(YD(YD({},n$1),t$1),{},{vid:n$1.vid===void 0?0:Number(n$1.vid),elapse:r$1-i$1.startTime,eventType:sP.AB_TEST,lts:r$1});this.send({type:aP.AB_TEST,data:o$1},!0)}pcStats(e$1,t$1){let i$1=this.baseInfoMap.get(e$1);if(!i$1)return;let n$1=i$1.info,r$1=Date.now(),o$1=YD(YD(YD({},n$1),t$1),{},{vid:n$1.vid===void 0?0:Number(n$1.vid),elapse:r$1-i$1.startTime,eventType:sP.PC_STATS,lts:r$1,preallocation:t$1.preallocation?1:0});this.send({type:aP.PC_STATS,data:o$1},!0)}updateRemoteRTPCapabilities(e$1,t$1){if(e$1){let i$1=this.baseInfoMap.get(e$1);if(!i$1)return;let n$1=i$1.info,r$1=Date.now(),o$1=YD(YD(YD({},n$1),t$1),{},{vid:n$1.vid===void 0?0:Number(n$1.vid),eventType:sP.UPDATE_REMOTE_RTPCAPABILITIES,lts:r$1});this.send({type:aP.UPDATE_REMOTE_RTPCAPABILITIES,data:o$1},!0)}}onGatewayStream(e$1,t$1,i$1,n$1){let r$1=this.baseInfoMap.get(e$1);if(!r$1)return;let o$1=r$1.info,s$1=Date.now(),a$1=YD(YD(YD({},o$1),n$1),{},{eventType:t$1,lts:s$1});this.send({type:i$1,data:a$1},!0)}streamSwitch(e$1,t$1){let i$1=this.baseInfoMap.get(e$1);if(!i$1)return;let n$1=i$1.info,r$1=Date.now(),o$1=YD(YD({},n$1),{},{eventType:sP.STREAM_SWITCH,lts:r$1,isDual:t$1.isdual,elapse:r$1-i$1.startTime,success:t$1.succ});this.send({type:aP.STREAM_SWITCH,data:o$1},!0)}requestProxyAppCenter(e$1,t$1){let i$1=this.baseInfoMap.get(e$1);if(!i$1)return;let n$1=i$1.info,r$1=Date.now(),o$1=YD(YD({},n$1),{},{eventType:sP.REQUEST_PROXY_APPCENTER,lts:r$1,eventElapse:r$1-t$1.lts,elapse:r$1-i$1.startTime,APAddr:t$1.APAddr,workerManagerList:t$1.workerManagerList,response:t$1.response,errorCode:t$1.ec,success:t$1.succ});this.send({type:aP.REQUEST_PROXY_APPCENTER,data:o$1},!0)}requestProxyWorkerManager(e$1,t$1){let i$1=this.baseInfoMap.get(e$1);if(!i$1)return;let n$1=i$1.info,r$1=Date.now(),o$1=YD(YD({},n$1),{},{eventType:sP.REQUEST_PROXY_WORKER_MANAGER,lts:r$1,eventElapse:r$1-t$1.lts,elapse:r$1-i$1.startTime,workerManagerAddr:t$1.workerManagerAddr,response:t$1.response,errorCode:t$1.ec,success:t$1.succ});this.send({type:aP.REQUEST_PROXY_WORKER_MANAGER,data:o$1},!0)}setProxyServer(e$1){this.proxyServer=e$1,e$1?iP.debug(`reportProxyServerurl: ${e$1}`):iP.debug(`disable reportProxyServerurl: ${e$1}`)}peerPublishStatus(e$1,t$1){let i$1=this.baseInfoMap.get(e$1);if(!i$1)return;let n$1=i$1.info,r$1=Date.now(),o$1=YD(YD({},n$1),{},{subscribeElapse:t$1.subscribeElapse,peer:t$1.peer,peerPublishDuration:Math.max(t$1.audioPublishDuration,t$1.videoPublishDuration),audiotag:t$1.audioPublishDuration>0?1:-1,videotag:t$1.videoPublishDuration>0?1:-1,lts:r$1,elapse:r$1-i$1.startTime,joinChannelSuccessElapse:r$1-(i$1.lastJoinSuccessTime||r$1),peerPublishDurationVideo:t$1.videoPublishDuration,peerPublishDurationAudio:t$1.audioPublishDuration});this.send({type:aP.PEER_PUBLISH_STATUS,data:o$1},!0)}workerEvent(e$1,t$1){let i$1=this.baseInfoMap.get(e$1);if(!i$1)return;let n$1=i$1.info,r$1=Date.now();(function(e$2,t$2,i$2){let n$2=e$2[t$2];if(!n$2||typeof n$2!=`string`)return[e$2];e$2[t$2]=``;let r$2=_N(JSON.stringify(e$2)),o$1=0,s$1=[],a$1=0;for(let c$1=0;c$1<n$2.length;c$1++)a$1+=n$2.charCodeAt(c$1)<=127?1:3,a$1<=i$2-r$2||(s$1[s$1.length]=uO(uO({},e$2),{},{[t$2]:n$2.substring(o$1,c$1)}),o$1=c$1,a$1=n$2.charCodeAt(c$1)<=127?1:3);return o$1!==n$2.length-1&&(s$1[s$1.length]=uO(uO({},e$2),{},{[t$2]:n$2.substring(o$1)})),s$1})(YD(YD(YD({},n$1),t$1),{},{elapse:r$1-i$1.startTime,lts:r$1,productType:`WebRTC`}),`payload`,1300).forEach((e$2=>this.send({type:aP.WORKER_EVENT,data:e$2},!0)))}apworkerEvent(e$1,t$1){let i$1=this.baseInfoMap.get(e$1);if(!i$1)return;let n$1=i$1.info,r$1=Date.now(),o$1=YD(YD(YD({},n$1),t$1),{},{elapse:r$1-i$1.startTime,lts:r$1});this.send({type:aP.AP_WORKER_EVENT,data:o$1},!0)}joinWebProxyAP(e$1,t$1){let i$1=this.baseInfoMap.get(e$1);if(!i$1)return;let n$1=i$1.info,r$1=Date.now(),o$1=YD(YD(YD({},n$1),t$1),{},{elapse:r$1-i$1.startTime,lts:r$1,extend:t$1.extend||void 0});this.send({type:aP.JOIN_WEB_PROXY_AP,data:o$1},!0)}WebSocketQuit(e$1,t$1){let i$1=this.baseInfoMap.get(e$1);if(!i$1)return;let n$1=i$1.info,r$1=Date.now(),o$1=YD(YD(YD({},n$1),t$1),{},{elapse:r$1-i$1.startTime,lts:r$1});this.send({type:aP.WEBSOCKET_QUIT,data:o$1},!0)}async sendCustomReportMessage(e$1,t$1){if(this.customReportCount+=t$1.length,this.customReportCount>CD(`CUSTOM_REPORT_LIMIT`))throw new pO(hO.CUSTOM_REPORT_FREQUENCY_TOO_HIGH);this.customReportCounterTimer||=window.setInterval((()=>{this.customReportCount=0}),5e3);let i$1=Date.now(),n$1=t$1.map((t$2=>({type:aP.USER_ANALYTICS,data:YD(YD({sid:e$1},t$2),{},{lts:i$1})})));try{CD(`NEW_REPORT_SERVER`)?await this.postDataToStatsCollector2(n$1):await this.postDataToStatsCollector(n$1)}catch(e$2){throw iP.error(`send custom report message failed`,e$2.toString()),new pO(hO.CUSTOM_REPORT_SEND_FAILED,e$2.message)}}sendApiInvoke(e$1){let t$1=CD(`NOT_REPORT_EVENT`);if(e$1.tag&&Ln(t$1)&&Ln(t$1).call(t$1,e$1.tag))return!1;if(e$1.sid===null)return this.apiInvokeUploadPendingItems.push(e$1),!1;let i$1=this.baseInfoMap.get(e$1.sid);if(!i$1)return this.apiInvokeUploadPendingItems.push(e$1),!1;let{cname:n$1,uid:r$1,cid:o$1}=i$1.info,s$1;if(e$1.lts=e$1.lts||Date.now(),e$1.error)if(e$1.error instanceof pO){let{code:t$2,message:i$2}=e$1.error;s$1=t$2||i$2||e$1.error.toString()}else s$1=e$1.error.toString();let a$1={invokeId:e$1.invokeId,sid:e$1.sid,cname:n$1,cid:o$1,uid:r$1,lts:e$1.lts,success:e$1.success,elapse:e$1.lts-i$1.startTime,execElapse:e$1.lts-e$1.apiInvokeTime,apiName:e$1.name,options:e$1.options?JSON.stringify(e$1.options):void 0,execStates:e$1.states?JSON.stringify(e$1.states):void 0,execResult:e$1.result?JSON.stringify(e$1.result):void 0,errorCode:e$1.error?s$1:void 0,errorMsg:e$1.error?JSON.stringify(e$1.error):void 0};return this.send({type:aP.API_INVOKE,data:a$1},!1),!0}addSid(e$1){this.sids.add(e$1)}removeSid(e$1){this.sids.delete(e$1)}appendSessionId(){let e$1=this.apiInvokeUploadPendingItems;if(e$1.length===0)return;let t$1=Array.from(this.sids).find((e$2=>e$2!==null));t$1&&e$1.forEach((e$2=>{e$2&&(e$2.sid=t$1,this.sendApiInvoke(Object.assign({},e$2)))})),e$1.length=0}send(e$1,t$1){if(t$1)return this.keyEventUploadPendingItems.push(e$1),void this.sendItems(this.keyEventUploadPendingItems,!0);this.normalEventUploadPendingItems.push(e$1),this.normalEventUploadPendingItems.length>CD(`NORMAL_EVENT_QUEUE_CAPACITY`)&&this.normalEventUploadPendingItems.splice(0,1),this.normalEventUploadPendingItems.length>=10&&this.sendItems(this.normalEventUploadPendingItems,!1)}doSend(){this.keyEventUploadPendingItems.length>0&&this.sendItems(this.keyEventUploadPendingItems,!0),this.normalEventUploadPendingItems.length>0&&Date.now()-this.lastSendNormalEventTime>=5e3&&this.sendItems(this.normalEventUploadPendingItems,!1)}sendItems(e$1,t$1){let i$1=[],n$1=[];for(;e$1.length;){let t$2=e$1.shift();i$1.length<20?i$1.push(t$2):n$1.push(t$2)}e$1.push(...n$1);for(let e$2 of[...i$1]){var r$1;this.ltsList.indexOf(e$2.data.lts)===-1?(this.ltsList.push(e$2.data.lts),Qp(r$1=this.ltsList).call(r$1,((e$3,t$2)=>e$3-t$2))):(e$2.data.lts=this.ltsList[this.ltsList.length-1]+1,this.ltsList.push(e$2.data.lts))}return t$1||(this.lastSendNormalEventTime=Date.now()),CD(`ENABLE_EVENT_REPORT`)&&i$1.length&&(CD(`NEW_REPORT_SERVER`)?this.postDataToStatsCollector2(i$1):this.postDataToStatsCollector(i$1)).catch((e$2=>i$2=>{CD(`EVENT_REPORT_RETRY`)&&(t$1?this.keyEventUploadPendingItems=this.keyEventUploadPendingItems.concat(e$2):(this.normalEventUploadPendingItems=this.normalEventUploadPendingItems.concat(e$2),this.normalEventUploadPendingItems.length>CD(`NORMAL_EVENT_QUEUE_CAPACITY`)&&(this.normalEventUploadPendingItems.splice(0,this.normalEventUploadPendingItems.length-CD(`NORMAL_EVENT_QUEUE_CAPACITY`)),iP.warning(`report: drop normal events`))))})(i$1)),e$1}async postDataToStatsCollector2(e$1){QO.networkState===KO.OFFLINE&&await rp.race([QO.onlineWaiter,fN(2*kN.maxRetryTimeout)]);let t$1=e$2=>{let t$2=new Uint8Array;return e$2.forEach((e$3=>{let i$2=bO(JSON.stringify(e$3.data)),n$2=new ArrayBuffer(5),r$1=(e$4=>{let t$3=0;return Object.entries(aP).forEach((i$3=>{let[n$3,r$2]=i$3;r$2===e$4.type&&(t$3=cP[n$3])})),t$3})(e$3),o$1=new DataView(n$2);o$1.setUint16(0,i$2.byteLength,!0),o$1.setUint8(2,255&r$1),o$1.setUint8(3,r$1>>>8&255),o$1.setUint8(4,r$1>>>16&255),t$2=wO(t$2,new Uint8Array(n$2)),t$2=wO(t$2,i$2)})),t$2},i$1=`event`,n$1=this.proxyServer?`https://${this.proxyServer}/rs/?h=${CD(`NEW_REPORT_SERVER_DOMAINS`)[0]}&p=443&d=${i$1}`:`https://${CD(`NEW_REPORT_SERVER_DOMAINS`)[0]}/${i$1}`;for(let r$1=0;r$1<2;r$1+=1){r$1===1&&(n$1=this.proxyServer?`https://${this.proxyServer}/rs/?h=${CD(`NEW_REPORT_SERVER_DOMAINS`)[1]}&p=443&d=${i$1}`:`https://${CD(`NEW_REPORT_SERVER_DOMAINS`)[1]}/${i$1}`);try{await jN(n$1,{timeout:1e4,data:t$1(e$1),headers:YD(YD({biz:`webrtc`,sendts:Math.round(Date.now()/1e3),debug:`false`},this._appId&&{appid:this._appId}),{},{"Content-Type":`application/octet-stream`})},!0)}catch(e$2){if(r$1===1)throw e$2;continue}return}}async postDataToStatsCollector(e$1){let t$1=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i$1=(e$2=>{let t$2=e$2&&e$2.data.sid&&this.baseInfoMap.get(e$2.data.sid);return t$2&&t$2.info.vid&&+t$2.info.vid||0})(e$1[0]),n$1=i$1?void 0:this._aid,r$1={msgType:`EventMessages`,sentTs:Math.round(Date.now()/1e3),payloads:e$1.map((e$2=>JSON.stringify(e$2))),vid:i$1,aid:n$1};QO.networkState===KO.OFFLINE&&await rp.race([QO.onlineWaiter,fN(2*kN.maxRetryTimeout)]);let o$1=t$1?`/events/proto-raws`:`/events/messages`,s$1=this.url||(this.proxyServer?`https://${this.proxyServer}/rs/?h=${CD(`EVENT_REPORT_DOMAIN`)}&p=${CD(`STATS_COLLECTOR_PORT`)}&d=${o$1}`:`https://${CD(`EVENT_REPORT_DOMAIN`)}:${CD(`STATS_COLLECTOR_PORT`)}${o$1}`);for(let e$2=0;e$2<2;e$2+=1){e$2===1&&(s$1=this.backupUrl||(this.proxyServer?`https://${this.proxyServer}/rs/?h=${CD(`EVENT_REPORT_BACKUP_DOMAIN`)}&p=${CD(`STATS_COLLECTOR_PORT`)}&d=${o$1}`:`https://${CD(`EVENT_REPORT_BACKUP_DOMAIN`)}:${CD(`STATS_COLLECTOR_PORT`)}${o$1}`));try{t$1?await GN(s$1,{timeout:1e4,data:r$1}):await jN(s$1,{timeout:1e4,data:r$1})}catch(t$2){if(e$2===1)throw t$2;continue}return}}createBaseInfo(e$1,t$1){let i$1=Object.assign({},oP);return i$1.sid=e$1,this.baseInfoMap.set(e$1,{info:i$1,startTime:t$1}),i$1}reportResourceTiming(e$1,t$1){let i$1=performance.getEntriesByName(e$1),n$1=i$1[i$1.length-1];n$1&&this.reportApiInvoke(t$1,{name:`Client.resourceTiming`,options:n$1,tag:kO.TRACER}).onSuccess()}};XD.on(`REPORT_LOG_UPLOAD`,(e$1=>{e$1.networkState=QO.networkState,lP.reportApiInvoke(null,{name:`logUploadError`,options:e$1,tag:kO.TRACER}).onSuccess(`logUploadError`)}));let uP=class extends pO{constructor(e$1){super(e$1,arguments.length>1&&arguments[1]!==void 0?arguments[1]:``,arguments.length>2?arguments[2]:void 0),HD(this,`name`,`AgoraRTCException`)}print(){let e$1=arguments.length>0&&arguments[0]!==void 0?arguments[0]:`error`;return super.print(e$1,iP)}throw(){super.throw(iP)}},hP={getDisplayMedia:!1,getStreamFromExtension:!1,supportUnifiedPlan:!1,supportMinBitrate:!1,supportSetRtpSenderParameters:!1,supportDualStream:!0,webAudioMediaStreamDest:!1,supportReplaceTrack:!1,supportWebGL:!1,webAudioWithAEC:!1,supportRequestFrame:!1,supportShareAudio:!1,supportDualStreamEncoding:!1,supportDataChannel:!1,supportPCSetConfiguration:!1,supportWebRTCEncodedTransform:!1,supportWebRTCInsertableStream:!1,supportRequestVideoFrameCallback:!1,supportWebCrypto:!1,supportSuppressLocalAudioPlayback:!1,supportRestrictOwnAudio:!1};function pP(){return hP}function _P(){return`setSinkId`in HTMLAudioElement.prototype&&(!CD(`RESTRICTION_SET_PLAYBACK_DEVICE`)||(Uw()||Fw())&&!oO())}function EP(){return!hP.supportUnifiedPlan||CD(`CHROME_FORCE_PLAN_B`)&&sO()}function mP(e$1){return!(Bw()||Ww(87)||EP()||!CD(`ENABLE_PRE_SUB`)&&(e$1==null||!e$1.autoSubscribe||CD(`FORCE_DISABLE_AUTO_SUB`)))}function fP(e$1){return CD(`ENABLE_INSTANT_VIDEO`)?CD(`ENABLE_INSTANT_VIDEO`):!(e$1==null||!e$1.autoSubscribe||CD(`FORCE_DISABLE_AUTO_SUB`))}function SP(){return navigator.mediaDevices&&`getSupportedConstraints`in navigator.mediaDevices}function gP(){if(SP()){let e$1=navigator.mediaDevices.getSupportedConstraints();return!(!(`suppressLocalAudioPlayback`in e$1)||!e$1.suppressLocalAudioPlayback)}return Gw(141)||Kw(141)||Qw(141)}function TP(){if(SP()){let e$1=navigator.mediaDevices.getSupportedConstraints();return!(!(`restrictOwnAudio`in e$1)||!e$1.restrictOwnAudio)}return Gw(141)||Kw(141)||Qw(125)}let RP=function(e$1){return e$1.IOS_15_16_INTERRUPTION_START=`ios15_16-interruption-start`,e$1.IOS_15_16_INTERRUPTION_END=`ios15_16-interruption-end`,e$1.IOS_INTERRUPTION_START=`ios-interruption-start`,e$1.IOS_INTERRUPTION_END=`ios-interruption-end`,e$1.STATE_CHANGE=`state-change`,e$1}({});function CP(e$1,t$1,i$1){return{sampleRate:e$1,stereo:t$1,bitrate:i$1}}function vP(e$1,t$1,i$1,n$1,r$1){return{width:e$1,height:t$1,frameRate:i$1,bitrateMin:n$1,bitrateMax:r$1}}function yP(e$1,t$1,i$1,n$1,r$1){return{width:{max:e$1},height:{max:t$1},frameRate:i$1,bitrateMin:n$1,bitrateMax:r$1}}function IP(e$1,t$1){return{numSpatialLayers:e$1,numTemporalLayers:t$1}}let AP={"90p":vP(160,90),"90p_1":vP(160,90),"120p":vP(160,120,15,30,65),"120p_1":vP(160,120,15,30,65),"120p_3":vP(120,120,15,30,50),"120p_4":vP(212,120),"180p":vP(320,180,15,30,140),"180p_1":vP(320,180,15,30,140),"180p_3":vP(180,180,15,30,100),"180p_4":vP(240,180,15,30,120),"240p":vP(320,240,15,40,200),"240p_1":vP(320,240,15,40,200),"240p_3":vP(240,240,15,40,140),"240p_4":vP(424,240,15,40,220),"360p":vP(640,360,15,80,400),"360p_1":vP(640,360,15,80,400),"360p_3":vP(360,360,15,80,260),"360p_4":vP(640,360,30,80,600),"360p_6":vP(360,360,30,80,400),"360p_7":vP(480,360,15,80,320),"360p_8":vP(480,360,30,80,490),"360p_9":vP(640,360,15,80,800),"360p_10":vP(640,360,24,80,800),"360p_11":vP(640,360,24,80,1e3),"480p":vP(640,480,15,100,500),"480p_1":vP(640,480,15,100,500),"480p_2":vP(640,480,30,100,1e3),"480p_3":vP(480,480,15,100,400),"480p_4":vP(640,480,30,100,750),"480p_6":vP(480,480,30,100,600),"480p_8":vP(848,480,15,100,610),"480p_9":vP(848,480,30,100,930),"480p_10":vP(640,480,10,100,400),"720p":vP(1280,720,15,120,1130),"720p_auto":vP(1280,720,30,900,3e3),"720p_1":vP(1280,720,15,120,1130),"720p_2":vP(1280,720,30,120,2e3),"720p_3":vP(1280,720,30,120,1710),"720p_5":vP(960,720,15,120,910),"720p_6":vP(960,720,30,120,1380),"1080p":vP(1920,1080,15,120,2080),"1080p_1":vP(1920,1080,15,120,2080),"1080p_2":vP(1920,1080,30,120,3e3),"1080p_3":vP(1920,1080,30,120,3150),"1080p_5":vP(1920,1080,60,120,4780),"1440p":vP(2560,1440,30,120,4850),"1440p_1":vP(2560,1440,30,120,4850),"1440p_2":vP(2560,1440,60,120,7350),"4k":vP(3840,2160,30,120,8910),"4k_1":vP(3840,2160,30,120,8910),"4k_3":vP(3840,2160,60,120,13500)},bP={"480p":yP(640,480,5),"480p_1":yP(640,480,5),"480p_2":yP(640,480,30),"480p_3":yP(640,480,15),"720p":yP(1280,720,5),"720p_auto":vP(1280,720,30,900,3e3),"720p_1":yP(1280,720,5),"720p_2":yP(1280,720,30),"720p_3":yP(1280,720,15),"1080p":yP(1920,1080,5),"1080p_1":yP(1920,1080,5),"1080p_2":yP(1920,1080,30),"1080p_3":yP(1920,1080,15)},wP={"1SL1TL":IP(1,1),"3SL3TL":IP(3,3),"2SL3TL":IP(2,3)};function OP(e$1){return e$1||=`480p_1`,typeof e$1==`string`?Object.assign({},AP[e$1]):e$1}function NP(e$1){return typeof e$1==`string`?Object.assign({},bP[e$1]):e$1}function DP(e$1){return typeof e$1==`string`?Object.assign({},wP[e$1]):e$1}let PP={speech_low_quality:CP(16e3,!1),speech_standard:CP(32e3,!1,18),music_standard:CP(48e3,!1),standard_stereo:CP(48e3,!0,56),high_quality:CP(48e3,!1,128),high_quality_stereo:CP(48e3,!0,192)};function LP(e$1){return typeof e$1==`string`?Object.assign({},PP[e$1]):e$1}let kP=[];function MP(e$1){return EO(e$1,`mediaSource`,[`screen`,`window`,`application`]),!0}let UP=function(e$1){return e$1.NEED_RENEGOTIATE=`@need_renegotiate`,e$1.NEED_REPLACE_TRACK=`@need_replace_track`,e$1.NEED_REPLACE_MIXING_TRACK=`@need_replace_mixing_track`,e$1.NEED_CLOSE=`@need_close`,e$1.NEED_ENABLE_TRACK=`@need_enable_track`,e$1.NEED_DISABLE_TRACK=`@need_disable_track`,e$1.NEED_SESSION_ID=`@need_sid`,e$1.SET_OPTIMIZATION_MODE=`@set_optimization_mode`,e$1.GET_STATS=`@get_stats`,e$1.GET_RTC_STATS=`@get_rtc_stats`,e$1.GET_LOW_VIDEO_TRACK=`@get_low_video_track`,e$1.NEED_RESET_REMOTE_SDP=`@need_reset_remote_sdp`,e$1.NEED_UPDATE_VIDEO_ENCODER=`@need_update_video_encoder`,e$1.NEED_UPDATE_VIDEO_SEND_PARAMETERS=`@need_update_video_send_parameters`,e$1.NEED_MUTE_TRACK=`@need_mute_track`,e$1.NEED_UNMUTE_TRACK=`@need_unmute_track`,e$1}({}),VP=function(e$1){return e$1.SCREEN_TRACK=`screen_track`,e$1.CUSTOM_TRACK=`custome_track`,e$1.LOW_STREAM=`low_stream`,e$1.SCREEN_LOW_TRACK=`screen_low_track`,e$1}({}),xP=function(e$1){return e$1[e$1.HIGH_STREAM=0]=`HIGH_STREAM`,e$1[e$1.LOW_STREAM=1]=`LOW_STREAM`,e$1}({}),FP=function(e$1){return e$1[e$1.HIGH_STREAM=0]=`HIGH_STREAM`,e$1[e$1.LOW_STREAM=1]=`LOW_STREAM`,e$1[e$1.HIGH_STREAM_LAYER1=4]=`HIGH_STREAM_LAYER1`,e$1[e$1.HIGH_STREAM_LAYER2=5]=`HIGH_STREAM_LAYER2`,e$1[e$1.HIGH_STREAM_LAYER3=6]=`HIGH_STREAM_LAYER3`,e$1[e$1.HIGH_STREAM_LAYER4=7]=`HIGH_STREAM_LAYER4`,e$1[e$1.HIGH_STREAM_LAYER5=8]=`HIGH_STREAM_LAYER5`,e$1[e$1.HIGH_STREAM_LAYER6=9]=`HIGH_STREAM_LAYER6`,e$1}({}),BP=function(e$1){return e$1[e$1.DISABLE=0]=`DISABLE`,e$1[e$1.LOW_STREAM=1]=`LOW_STREAM`,e$1[e$1.AUDIO_ONLY=2]=`AUDIO_ONLY`,e$1[e$1.HIGH_STREAM_LAYER1=3]=`HIGH_STREAM_LAYER1`,e$1[e$1.HIGH_STREAM_LAYER2=4]=`HIGH_STREAM_LAYER2`,e$1[e$1.HIGH_STREAM_LAYER3=5]=`HIGH_STREAM_LAYER3`,e$1[e$1.HIGH_STREAM_LAYER4=6]=`HIGH_STREAM_LAYER4`,e$1[e$1.HIGH_STREAM_LAYER5=7]=`HIGH_STREAM_LAYER5`,e$1[e$1.HIGH_STREAM_LAYER6=8]=`HIGH_STREAM_LAYER6`,e$1}({}),jP=function(e$1){return e$1.TRANSCEIVER_UPDATED=`transceiver-updated`,e$1.SEI_TO_SEND=`sei-to-send`,e$1.SEI_RECEIVED=`sei-received`,e$1.TRACK_UPDATED=`track-updated`,e$1}({}),GP=function(e$1){return e$1.SOURCE_STATE_CHANGE=`source-state-change`,e$1.TRACK_ENDED=`track-ended`,e$1.BEAUTY_EFFECT_OVERLOAD=`beauty-effect-overload`,e$1.VIDEO_ELEMENT_VISIBLE_STATUS=`video-element-visible-status`,e$1.CLOSED=`closed`,e$1}({}),WP=function(e$1){return e$1.FIRST_FRAME_DECODED=`first-frame-decoded`,e$1.VIDEO_ELEMENT_VISIBLE_STATUS=`video-element-visible-status`,e$1.VIDEO_STATE_CHANGED=`video-state-changed`,e$1.PLAY_START=`play-start`,e$1.PLAY_END=`play-end`,e$1.FIRST_FRAME_RENDER=`first-frame-render`,e$1}({}),HP=function(e$1){return e$1.AUDIO=`audio`,e$1.VIDEO=`video`,e$1.DATA=`data`,e$1}({}),KP=function(e$1){return e$1.AUDIO_SOURCE_STATE_CHANGE=`audio_source_state_change`,e$1.RECEIVE_TRACK_BUFFER=`receive_track_buffer`,e$1.ON_AUDIO_BUFFER=`on_audio_buffer`,e$1.UPDATE_SOURCE=`update_source`,e$1}({});(function(e$1){e$1.UPDATE_TRACK_SOURCE=`update-track-source`})({});let YP={sendVolumeLevel:0,sendBitrate:0,sendBytes:0,sendPackets:0,sendPacketsLost:0,sendJitterMs:0,sendRttMs:0,currentPacketLossRate:0},zP={sendBytes:0,sendBitrate:0,sendPackets:0,sendPacketsLost:0,sendJitterMs:0,sendRttMs:0,sendResolutionHeight:0,sendResolutionWidth:0,captureResolutionHeight:0,captureResolutionWidth:0,targetSendBitrate:0,totalDuration:0,totalFreezeTime:0,currentPacketLossRate:0},qP={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveLevel:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,receivePacketsDiscarded:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1},XP={uplinkNetworkQuality:0,downlinkNetworkQuality:0},JP={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,receiveResolutionHeight:0,receiveResolutionWidth:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1},QP=function(e$1){return e$1.ON_TRACK=`on_track`,e$1.ON_NODE=`on_node`,e$1}({}),ZP=function(e$1){return e$1.REQUEST_UPDATE_CONSTRAINTS=`request_update_constraints`,e$1.REQUEST_CONSTRAINTS=`request_constraints`,e$1}({}),$P=function(e$1){return e$1.IDLE=`IDLE`,e$1.INITING=`INITING`,e$1.INITEND=`INITEND`,e$1}({}),eL=function(e$1){return e$1.STATE_CHANGE=`state_change`,e$1.RECORDING_DEVICE_CHANGED=`recordingDeviceChanged`,e$1.PLAYOUT_DEVICE_CHANGED=`playoutDeviceChanged`,e$1.CAMERA_DEVICE_CHANGED=`cameraDeviceChanged`,e$1}({}),tL=function(e$1){return e$1.NONE=`none`,e$1.INIT=`init`,e$1.CANPLAY=`canplay`,e$1.PLAYING=`playing`,e$1.PAUSED=`paused`,e$1.SUSPEND=`suspend`,e$1.STALLED=`stalled`,e$1.WAITING=`waiting`,e$1.ERROR=`error`,e$1.DESTROYED=`destroyed`,e$1.ABORT=`abort`,e$1.ENDED=`ended`,e$1.EMPTIED=`emptied`,e$1.LOADEDDATA=`loadeddata`,e$1}({}),iL=function(e$1){return e$1[e$1.VideoStateStopped=0]=`VideoStateStopped`,e$1[e$1.VideoStateStarting=1]=`VideoStateStarting`,e$1[e$1.VideoStateDecoding=2]=`VideoStateDecoding`,e$1[e$1.VideoStateFrozen=3]=`VideoStateFrozen`,e$1}({}),nL={uninit:100,none:110,init:120,loadeddata:130,canplay:200,playing:210,paused:220,suspend:300,stalled:310,waiting:320,error:330,destroyed:340,abort:350,ended:360,emptied:370},rL=function(e$1){return e$1.OPEN=`open`,e$1.MESSAGE=`message`,e$1.CLOSE=`close`,e$1.CLOSING=`closing`,e$1.ERROR=`error`,e$1}({});function oL(e$1,t$1,i$1,n$1,r$1){var o$1,s$1,a$1={};return Object.keys(n$1).forEach((function(e$2){a$1[e$2]=n$1[e$2]})),a$1.enumerable=!!a$1.enumerable,a$1.configurable=!!a$1.configurable,(`value`in a$1||a$1.initializer)&&(a$1.writable=!0),a$1=nr(o$1=mr(s$1=i$1.slice()).call(s$1)).call(o$1,(function(i$2,n$2){return n$2(e$1,t$1,i$2)||i$2}),a$1),r$1&&a$1.initializer!==void 0&&(a$1.value=a$1.initializer?a$1.initializer.call(r$1):void 0,a$1.initializer=void 0),a$1.initializer===void 0?(Object.defineProperty(e$1,t$1,a$1),null):a$1}function sL(e$1,t$1,i$1){return(t$1=function(e$2){var t$2=function(e$3,t$3){if(typeof e$3!=`object`||!e$3)return e$3;var i$2=e$3[Symbol.toPrimitive];if(i$2!==void 0){var n$1=i$2.call(e$3,`string`);if(typeof n$1!=`object`)return n$1;throw TypeError(`@@toPrimitive must return a primitive value.`)}return String(e$3)}(e$2);return typeof t$2==`symbol`?t$2:t$2+``}(t$1))in e$1?Object.defineProperty(e$1,t$1,{value:i$1,enumerable:!0,configurable:!0,writable:!0}):e$1[t$1]=i$1,e$1}function aL(e$1,t$1){var i$1=Object.keys(e$1);if(Object.getOwnPropertySymbols){var n$1=Object.getOwnPropertySymbols(e$1);t$1&&(n$1=n$1.filter((function(t$2){return Object.getOwnPropertyDescriptor(e$1,t$2).enumerable}))),i$1.push.apply(i$1,n$1)}return i$1}function cL(e$1){for(var t$1=1;t$1<arguments.length;t$1++){var i$1=arguments[t$1]==null?{}:arguments[t$1];t$1%2?aL(Object(i$1),!0).forEach((function(t$2){sL(e$1,t$2,i$1[t$2])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e$1,Object.getOwnPropertyDescriptors(i$1)):aL(Object(i$1)).forEach((function(t$2){Object.defineProperty(e$1,t$2,Object.getOwnPropertyDescriptor(i$1,t$2))}))}return e$1}class dL extends NO{set _mediaStreamTrack(e$1){e$1!==this.mediaStreamTrack&&(this.safeEmit(jP.TRACK_UPDATED,e$1),this.mediaStreamTrack=e$1)}get _mediaStreamTrack(){return this.mediaStreamTrack}constructor(e$1,t$1){super(),sL(this,`trackMediaType`,void 0),sL(this,`_ID`,void 0),sL(this,`_rtpTransceiver`,void 0),sL(this,`_lowRtpTransceiver`,void 0),sL(this,`_hints`,[]),sL(this,`_isClosed`,!1),sL(this,`_originMediaStreamTrack`,void 0),sL(this,`mediaStreamTrack`,void 0),sL(this,`_external`,{}),this._ID=t$1||SN(8,`track-`),this._originMediaStreamTrack=e$1,this.mediaStreamTrack=e$1,function(e$2){Ln(kP).call(kP,e$2)||kP.push(e$2)}(this)}toString(){return this._ID}getTrackId(){return this._ID}getMediaStreamTrack(e$1){return e$1||dN((()=>{var e$2;lP.reportApiInvoke(null,{name:LO.GET_MEDIA_STREAM_TRACK,options:[],tag:kO.TRACER}).onSuccess(this._mediaStreamTrack?.label||``)}),this.mediaStreamTrack.id||this.getTrackId()),this._mediaStreamTrack}getRTCRtpTransceiver(e$1){return e$1===xP.LOW_STREAM?this._lowRtpTransceiver:this._rtpTransceiver}getMediaStreamTrackSettings(){return this.getMediaStreamTrack(!0).getSettings()}close(){this._isClosed=!0,this._lowRtpTransceiver=void 0,this._rtpTransceiver=void 0,function(e$1){let t$1=kP.indexOf(e$1);t$1!==-1&&kP.splice(t$1,1)}(this),this.emit(GP.CLOSED),this.removeAllListeners(jP.SEI_RECEIVED)}_updateRtpTransceiver(e$1,t$1){if(t$1===xP.LOW_STREAM){if(this._lowRtpTransceiver===e$1)return;this._lowRtpTransceiver=e$1}else{if(this._rtpTransceiver===e$1)return;this._rtpTransceiver=e$1}this.emit(jP.TRANSCEIVER_UPDATED,e$1,t$1)}}class lL extends dL{get isExternalTrack(){return this._isExternalTrack}get muted(){return this._muted}get enabled(){return this._enabled}get processorContext(){return this._processorContext}constructor(e$1,t$1){super(e$1,t$1),sL(this,`_enabled`,!0),sL(this,`_muted`,!1),sL(this,`_isExternalTrack`,!1),sL(this,`_isClosed`,!1),sL(this,`_enabledMutex`,void 0),sL(this,`processor`,void 0),sL(this,`_processorContext`,void 0),sL(this,`_handleTrackEnded`,(()=>{this.onTrackEnded()})),this._enabledMutex=new PN(`${this.getTrackId()}`),e$1.addEventListener(`ended`,this._handleTrackEnded)}getTrackLabel(){var e$1,t$1;return this._originMediaStreamTrack?.label??``}close(){this._isClosed||(this.stop(),this._originMediaStreamTrack.stop(),this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack.stop(),this._mediaStreamTrack=null),this._originMediaStreamTrack=null,this._enabledMutex=null,iP.debug(`[${this.getTrackId()}] close`),this.emit(UP.NEED_CLOSE),super.close())}async _updateOriginMediaStreamTrack(e$1,t$1){this._isExternalTrack=arguments.length>2&&arguments[2]!==void 0&&arguments[2],e$1!==this._originMediaStreamTrack&&(this._originMediaStreamTrack&&(this._originMediaStreamTrack.removeEventListener(`ended`,this._handleTrackEnded),t$1&&this._originMediaStreamTrack.stop()),e$1.addEventListener(`ended`,this._handleTrackEnded),this._originMediaStreamTrack=e$1,this._muted&&(this._originMediaStreamTrack.enabled=!1),this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await qO(this,UP.NEED_REPLACE_TRACK,this),this.processor&&this._processorContext&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this._processorContext}))}_getDefaultPlayerConfig(){return{}}onTrackEnded(){iP.debug(`[${this.getTrackId()}] track ended`),this.safeEmit(GP.TRACK_ENDED)}stateCheck(e$1,t$1){if(iP.debug(`check track state, [muted: ${this._muted}, enabled: ${this._enabled}] to [${e$1}: ${t$1}]`),_O(t$1,e$1),this._enabled&&this._muted&&e$1===`enabled`&&!1===t$1)throw new pO(hO.TRACK_STATE_UNREACHABLE,`cannot set enabled while the track is muted`).print(`error`,iP);if(!this._enabled&&!this._muted&&e$1===`muted`&&!0===t$1)throw new pO(hO.TRACK_STATE_UNREACHABLE,`cannot set muted while the track is disabled`).print(`error`,iP)}getProcessorStats(){return this._processorContext&&this._processorContext.gatherStats()||[]}getProcessorUsage(){return this._processorContext?this._processorContext.gatherUsage():rp.resolve([])}}let uL=window.AudioContext||window.webkitAudioContext,hL,pL=null,_L=new class extends NO{constructor(){super(...arguments),sL(this,`prevState`,void 0),sL(this,`curState`,void 0),sL(this,`currentTime`,void 0),sL(this,`currentTimeStuckAt`,void 0),sL(this,`interruptDetectorTrack`,void 0),sL(this,`onLocalAudioTrackMute`,(()=>{iP.info(`ios15-interruption-start`),this.emit(RP.IOS_15_16_INTERRUPTION_START)})),sL(this,`onLocalAudioTrackUnmute`,(async()=>{iP.info(`ios15-interruption-end`),this.curState!==`running`||this.duringInterruption?iP.info(`ios15-interruption-end-canceled`):(pL&&await pL.suspend(),this.emit(RP.IOS_15_16_INTERRUPTION_END))}))}get duringInterruption(){return this.prevState===`running`&&this.curState===`interrupted`}bindInterruptDetectorTrack(e$1){iP.debug(`webaudio bindInterruptDetectorTrack ${e$1.getTrackId()}`),this.interruptDetectorTrack||(this.interruptDetectorTrack=e$1,this.interruptDetectorTrack._mediaStreamTrack.onmute=this.onLocalAudioTrackMute,this.interruptDetectorTrack._mediaStreamTrack.onunmute=this.onLocalAudioTrackUnmute)}unbindInterruptDetectorTrack(e$1){iP.debug(`webaudio unbindInterruptDetectorTrack ${e$1.getTrackId()}`),this.interruptDetectorTrack&&this.interruptDetectorTrack===e$1&&(this.interruptDetectorTrack._mediaStreamTrack&&(this.interruptDetectorTrack._mediaStreamTrack.onmute=null,this.interruptDetectorTrack._mediaStreamTrack.onunmute=null),this.interruptDetectorTrack=void 0)}};function EL(){if(!pL){if(function(){if(!uL)return void iP.error(`your browser is not support web audio`);iP.info(`create audio context`);let e$1=cL({},CD(`WEBAUDIO_INIT_OPTIONS`));iP.debug(`audio context init option:`,JSON.stringify(e$1)),pL=new uL(e$1),_L.curState=pL.state,pL.onstatechange=()=>{_L.prevState=_L.curState,_L.curState=pL?pL.state:void 0;let{prevState:e$2,curState:t$1}=_L,i$1=t$1===`running`,n$1=t$1===`interrupted`,r$1=e$2===`running`,o$1=e$2===`suspended`,s$1=e$2===`interrupted`,a$1=Dw().osVersion;(jw()||iO())&&r$1&&n$1&&(iP.info(`ios${a$1}-interruption-start`),_L.emit(RP.IOS_INTERRUPTION_START)),(jw()||iO())&&(o$1||s$1)&&i$1&&(iP.info(`ios${a$1}-interruption-end`),_L.emit(RP.IOS_INTERRUPTION_END)),e$2!==t$1&&_L.emit(RP.STATE_CHANGE,t$1,e$2)},setInterval((()=>{var e$2;let t$1=pL?.currentTime;_L.currentTime===t$1?(t$1!==_L.currentTimeStuckAt&&(lP.reportApiInvoke(null,{name:`WEB_AUDIO_CURRENT_TIME_STUCK`,options:{currentTime:t$1},tag:kO.TRACER}).onSuccess(),iP.warning(`AudioContext current time stuck at ${t$1}`)),_L.currentTimeStuckAt=t$1):(_L.currentTimeStuckAt&&=(iP.debug(`AudioContext current time resume at ${t$1}`),void 0),_L.currentTime=t$1)}),5e3),async function(e$2){let t$1=[`click`,`contextmenu`,`auxclick`,`dblclick`,`mousedown`,`mouseup`,`touchend`,`keydown`,`keyup`],i$1,n$1,r$1=!1,o$1=!1,s$1=!1;function a$1(t$2){e$2.state===`running`?c$1(!1):jw()||iO()?e$2.state===`suspended`&&(c$1(!0),t$2&&e$2.resume().then(d$1,d$1)):e$2.state!==`closed`&&(c$1(!0),t$2&&e$2.resume().then(d$1,d$1))}function c$1(e$3){if(r$1!==e$3){r$1=e$3;for(let i$2=0,n$2=t$1;i$2<n$2.length;i$2+=1){let t$2=n$2[i$2];e$3?window.addEventListener(t$2,l$1,{capture:!0,passive:!0}):window.removeEventListener(t$2,l$1,{capture:!0,passive:!0})}}}function d$1(){a$1(!1)}function l$1(){a$1(!0)}function u$1(){let e$3;try{e$3=i$1.play(),e$3?e$3.then(_$1,_$1):(i$1.addEventListener(`playing`,_$1),i$1.addEventListener(`abort`,_$1),i$1.addEventListener(`error`,_$1))}catch{_$1()}}function h$1(e$3){s$1||(i$1.paused?e$3?(p$1(!1),s$1=!0,u$1()):p$1(!0):p$1(!1))}function p$1(e$3){if(o$1!==e$3){o$1=e$3;for(let i$2=0,n$2=t$1;i$2<n$2.length;i$2++){let t$2=n$2[i$2];e$3?window.addEventListener(t$2,E$1,{capture:!0,passive:!0}):window.removeEventListener(t$2,E$1,{capture:!0,passive:!0})}}}function _$1(){i$1.removeEventListener(`playing`,_$1),i$1.removeEventListener(`abort`,_$1),i$1.removeEventListener(`error`,_$1),s$1=!1,h$1(!1)}function E$1(){h$1(!0)}if(jw()&&CD(`IOS_BG_TAG`)){let t$2=e$2.createMediaStreamDestination(),r$2=document.createElement(`div`);r$2.innerHTML=`<audio x-webkit-airplay='deny'></audio>`,i$1=r$2.children.item(0),i$1.controls=!1,i$1.disableRemotePlayback=!0,i$1.preload=`auto`,i$1.srcObject=t$2.stream,n$1=()=>{if(CD(`IOS_AUTO_RESTART_BG_TAG`)&&i$1&&i$1.srcObject&&!s$1&&(!i$1.paused||!0!==o$1)){i$1.paused||i$1.pause();try{s$1=!0,u$1()}catch{s$1=!1}return!0}},h$1(!0)}return _L.on(RP.STATE_CHANGE,(function(){a$1(!0)})),a$1(!1),n$1}(pL).then((e$2=>{hL=e$2}))}(),!pL)throw new pO(hO.NOT_SUPPORTED,`can not create audio context`);return pL}return pL}function mL(e$1){if(function(){if(fL!==null)return fL;let e$2=EL(),t$2=e$2.createBufferSource(),i$2=e$2.createGain(),n$1=e$2.createGain();t$2.connect(i$2),t$2.connect(n$1),t$2.disconnect(i$2);let r$1=!1;try{t$2.disconnect(i$2)}catch{r$1=!0}return t$2.disconnect(),fL=r$1,r$1}())return;let t$1=e$1.connect,i$1=e$1.disconnect;e$1.connect=(i$2,n$1,r$1)=>{var o$1;return e$1._inputNodes||=[],Ln(o$1=e$1._inputNodes).call(o$1,i$2)||(i$2 instanceof AudioNode?(e$1._inputNodes.push(i$2),t$1.call(e$1,i$2,n$1,r$1)):t$1.call(e$1,i$2,n$1)),e$1},e$1.disconnect=(n$1,r$1,o$1)=>{i$1.call(e$1),n$1?nN(e$1._inputNodes,n$1):e$1._inputNodes=[];for(let i$2 of e$1._inputNodes)t$1.call(e$1,i$2)}}let fL=null;function SL(e$1,t$1){let i$1=!1,n$1=1/t$1;if(CD(`DISABLE_WEBAUDIO`)){let t$2=window.setInterval((()=>{i$1?window.clearInterval(t$2):e$1(performance.now()/1e3)}),1e3*n$1)}else{let t$2=EL(),r$1=t$2.createGain();r$1.gain.value=0,r$1.connect(t$2.destination);let o$1=()=>{if(i$1)return void(r$1=null);let s$1=t$2.createOscillator();s$1.onended=o$1,s$1.connect(r$1),s$1.start(0),s$1.stop(t$2.currentTime+n$1),e$1(t$2.currentTime)};o$1()}return()=>{i$1=!0}}class gL{constructor(){sL(this,`context`,void 0),sL(this,`analyserNode`,void 0),sL(this,`sourceNode`,void 0),this.context=EL(),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4}updateSource(e$1){if(e$1!==this.sourceNode){if(this.sourceNode)try{this.sourceNode.disconnect(this.analyserNode)}catch{}this.sourceNode=e$1,e$1?.connect(this.analyserNode)}}getVolumeLevel(){if(!this.sourceNode||(!this.context||jw()||iO()||this.context.state!==`running`&&this.context.resume(),!this.analyserNode))return 0;let e$1=new Float32Array(this.analyserNode.fftSize);if(this.analyserNode.getFloatTimeDomainData)this.analyserNode.getFloatTimeDomainData(e$1);else{let t$2=new Uint8Array(this.analyserNode.fftSize);this.analyserNode.getByteTimeDomainData(t$2);for(let i$1=0;i$1<e$1.length;++i$1)e$1[i$1]=t$2[i$1]/128-1}let t$1=nr(e$1).call(e$1,((e$2,t$2)=>e$2+t$2*t$2),0)/e$1.length;return Math.max(10*Math.log10(t$1)+100,0)/100}getAnalyserNode(){return this.analyserNode}rebuildAnalyser(){try{var e$1,t$1;(e$1=this.sourceNode)==null||e$1.disconnect(this.analyserNode),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4,(t$1=this.sourceNode)==null||t$1.connect(this.analyserNode)}catch{iP.warning(`rebuild analyser node failed.`)}}destroy(){this.updateSource(void 0)}}class TL extends NO{get processSourceNode(){return this.sourceNode}set processedNode(e$1){var t$1;if(!this.isDestroyed&&this._processedNode!==e$1){try{var i$1;(i$1=this.sourceNode)==null||i$1.disconnect(this.outputNode)}catch{}(t$1=this._processedNode)==null||t$1.disconnect(),this._processedNode=e$1,this.connect()}}get processedNode(){return this._processedNode}constructor(){super(),sL(this,`outputNode`,void 0),sL(this,`outputTrack`,void 0),sL(this,`isPlayed`,!1),sL(this,`sourceNode`,void 0),sL(this,`context`,void 0),sL(this,`audioBufferNode`,void 0),sL(this,`destNode`,void 0),sL(this,`audioOutputLevel`,0),sL(this,`volumeLevelAnalyser`,void 0),sL(this,`_processedNode`,void 0),sL(this,`playNode`,void 0),sL(this,`isDestroyed`,!1),sL(this,`onNoAudioInput`,void 0),sL(this,`isNoAudioInput`,!1),sL(this,`_noAudioInputCount`,0),this.context=EL(),this.playNode=this.context.destination,this.outputNode=this.context.createGain(),mL(this.outputNode),this.volumeLevelAnalyser=new gL}startGetAudioBuffer(e$1){this.audioBufferNode||(this.audioBufferNode=this.context.createScriptProcessor(e$1),this.outputNode.connect(this.audioBufferNode),this.audioBufferNode.connect(this.context.destination),this.audioBufferNode.onaudioprocess=e$2=>{this.emit(KP.ON_AUDIO_BUFFER,function(e$3){for(let t$1=0;t$1<e$3.outputBuffer.numberOfChannels;t$1+=1){let i$1=e$3.outputBuffer.getChannelData(t$1);for(let e$4=0;e$4<i$1.length;e$4+=1)i$1[e$4]=0}return e$3.inputBuffer}(e$2))})}stopGetAudioBuffer(){this.audioBufferNode&&=(this.audioBufferNode.onaudioprocess=null,this.outputNode.disconnect(this.audioBufferNode),void 0)}createOutputTrack(){if(!pP().webAudioMediaStreamDest)throw new pO(hO.NOT_SUPPORTED,`your browser is not support audio processor`);return this.destNode&&this.outputTrack||(this.destNode=this.context.createMediaStreamDestination(),this.outputNode.connect(this.destNode),this.outputTrack=this.destNode.stream.getAudioTracks()[0]),this.outputTrack}play(e$1){this.context.state!==`running`&&oN((()=>{_L.emit(`autoplay-failed`)})),this.isPlayed=!0,this.playNode=e$1||this.context.destination,this.outputNode.connect(this.playNode)}stop(){if(this.isPlayed)try{this.outputNode.disconnect(this.playNode)}catch{}this.isPlayed=!1}getAccurateVolumeLevel(){return this.volumeLevelAnalyser.getVolumeLevel()}async checkHasAudioInput(){let e$1=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(e$1>5)return this.isNoAudioInput=!0,this.onNoAudioInput&&this.onNoAudioInput(),!1;jw()||iO()?this.context.state===`suspended`&&this.context.resume():this.context.state!==`running`&&this.context.resume();let t$1=this.volumeLevelAnalyser.getAnalyserNode(),i$1;t$1.getFloatTimeDomainData?(i$1=new Float32Array(t$1.fftSize),t$1.getFloatTimeDomainData(i$1)):(i$1=new Uint8Array(t$1.fftSize),t$1.getByteTimeDomainData(i$1));let n$1=!1;for(let e$2=0;e$2<i$1.length;e$2++)i$1[e$2]!==0&&(n$1=!0);return n$1?(this.isNoAudioInput=!1,!0):(await fN(200),await this.checkHasAudioInput(e$1?e$1+1:1)&&n$1)}getAudioVolume(){return this.outputNode.gain.value}setVolume(e$1){this.outputNode.gain.setValueAtTime(e$1,this.context.currentTime)}destroy(){this.disconnect(),this.stop(),this.isDestroyed=!0,this.onNoAudioInput=void 0}disconnect(){var e$1,t$1;(e$1=this.processedNode)==null||e$1.disconnect(),(t$1=this.sourceNode)==null||t$1.disconnect(),this.outputNode&&this.outputNode.disconnect()}connect(){var e$1;this.processedNode?(e$1=this.processedNode)==null||e$1.connect(this.outputNode):this.sourceNode&&this.sourceNode.connect(this.outputNode),this.volumeLevelAnalyser.updateSource(this.outputNode)}}class RL extends TL{get isFreeze(){return!1}constructor(e$1,t$1,i$1){var n$1;if(super(),sL(this,`sourceNode`,void 0),sL(this,`track`,void 0),sL(this,`clonedTrack`,void 0),sL(this,`audioElement`,void 0),sL(this,`isCurrentTrackCloned`,!1),sL(this,`isRemoteTrack`,!1),sL(this,`originVolumeLevelAnalyser`,void 0),sL(this,`rebuildWebAudio`,(async()=>{if(iP.debug(`ready to rebuild web audio, state:`,this.context.state),this.isNoAudioInput&&await this.checkHasAudioInput(),!this.isNoAudioInput||this.isDestroyed)return document.body.removeEventListener(`click`,this.rebuildWebAudio,!0),void iP.debug(`rebuild web audio success, current volume status`,this.getAccurateVolumeLevel());this.context.resume().then((()=>iP.info(`resume success`))),iP.debug(`rebuild web audio because of ios 12 bugs`),this.disconnect();let e$2=this.track;this.track=this.track.clone(),this.isCurrentTrackCloned?e$2.stop():this.isCurrentTrackCloned=!0;let t$2=new MediaStream([this.track]);this.sourceNode=this.context.createMediaStreamSource(t$2),mL(this.sourceNode),this.volumeLevelAnalyser.rebuildAnalyser();let i$2=this.outputNode.gain.value;this.outputNode=this.context.createGain(),this.outputNode.gain.setValueAtTime(i$2,this.context.currentTime),mL(this.outputNode),this.emit(KP.UPDATE_SOURCE),this.connect(),this.audioElement.srcObject=t$2,this.isPlayed&&this.play(this.playNode),this.checkHasAudioInput()})),e$1.kind!==`audio`)throw new pO(hO.UNEXPECTED_ERROR);this.track=e$1;let r$1=new MediaStream([this.track]);if(this.isRemoteTrack=!!t$1,this.sourceNode=this.context.createMediaStreamSource(r$1),mL(this.sourceNode),i$1){let e$2=i$1.clone();e$2.enabled=!0,this.clonedTrack=e$2,iP.debug(`create an unmuted track ${e$2.id} from the original track ${i$1.id} to get the volume`);let t$2=this.context.createMediaStreamSource(new MediaStream([e$2]));mL(t$2),this.originVolumeLevelAnalyser=new gL,this.originVolumeLevelAnalyser.updateSource(t$2)}this.connect(),this.audioElement=document.createElement(`audio`),this.audioElement.srcObject=r$1;let o$1=Dw();t$1&&o$1.os===Aw.IOS&&Number(o$1.osVersion?.split(`.`)[0])<15&&(_L.on(RP.STATE_CHANGE,(()=>{this.context.state===`suspended`?document.body.addEventListener(`click`,this.rebuildWebAudio,!0):this.context.state===`running`&&this.rebuildWebAudio()})),this.checkHasAudioInput().then((e$2=>{e$2||document.body.addEventListener(`click`,this.rebuildWebAudio,!0)})))}updateTrack(e$1){this.sourceNode.disconnect(),this.track=e$1,this.isCurrentTrackCloned=!1;let t$1=new MediaStream([e$1]);this.sourceNode=this.context.createMediaStreamSource(t$1),mL(this.sourceNode),this.processedNode||this.sourceNode.connect(this.outputNode),this.emit(KP.UPDATE_SOURCE),this.audioElement.srcObject=t$1}destroy(){var e$1;this.audioElement.srcObject=null,this.audioElement.remove(),_L.off(`state-change`,this.rebuildWebAudio),(e$1=this.originVolumeLevelAnalyser)==null||e$1.destroy(),this.clonedTrack=void 0,super.destroy()}createMediaStreamSourceNode(e$1){return this.context.createMediaStreamSource(new MediaStream([e$1]))}updateOriginTrack(e$1){let t$1=e$1.clone();t$1.enabled=!0,this.clonedTrack&&=(this.clonedTrack.stop(),t$1),iP.debug(`create an unmuted track ${t$1.id} from the original track ${e$1.id} to get the volume`);let i$1=this.context.createMediaStreamSource(new MediaStream([t$1]));mL(i$1),this.originVolumeLevelAnalyser&&this.originVolumeLevelAnalyser.updateSource(i$1)}getOriginVolumeLevel(){return this.originVolumeLevelAnalyser?this.originVolumeLevelAnalyser.getVolumeLevel():this.getAccurateVolumeLevel()}}async function CL(e$1,t$1,i$1){let n$1=(e$2,t$2)=>e$2?typeof e$2==`number`?e$2:e$2.max||e$2.exact||e$2.ideal||e$2.min||t$2:t$2,r$1={audio:!!i$1&&{mandatory:{chromeMediaSource:`desktop`}},video:{mandatory:{chromeMediaSource:`desktop`,chromeMediaSourceId:e$1,maxHeight:n$1(t$1.height,1080),maxWidth:n$1(t$1.width,1920)}}};return t$1.frameRate&&typeof t$1.frameRate!=`number`?(r$1.video.mandatory.maxFrameRate=t$1.frameRate.max,r$1.video.mandatory.minFrameRate=t$1.frameRate.min):typeof t$1.frameRate==`number`&&(r$1.video.mandatory.maxFrameRate=t$1.frameRate),await navigator.mediaDevices.getUserMedia(r$1)}async function vL(e$1,t$1){let{sourceId:n$1,audio:r$1}=await function(e$2){let t$2=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new rp(((i$1,n$2)=>{let r$2=document.createElement(`div`);r$2.innerText=`share screen`,r$2.setAttribute(`style`,`text-align: center; height: 25px; line-height: 25px; border-radius: 4px 4px 0 0; background: #D4D2D4; border-bottom:  solid 1px #B9B8B9;`);let o$1=document.createElement(`div`);o$1.setAttribute(`style`,`width: 100%; height: 500px; padding: 15px 25px ; box-sizing: border-box;`);let s$1=document.createElement(`div`);s$1.innerText=`Agora Web Screensharing wants to share the contents of your screen with webdemo.agorabeckon.com. Choose what you'd like to share.`,s$1.setAttribute(`style`,`height: 12%;`);let a$1=document.createElement(`div`);a$1.setAttribute(`style`,`width: 100%; height: 80%; background: #FFF; border:  solid 1px #CBCBCB; display: flex; flex-wrap: wrap; justify-content: space-around; overflow-y: scroll; padding: 0 15px; box-sizing: border-box;`);let c$1=document.createElement(`div`);c$1.setAttribute(`style`,`display: flex; justify-content: space-between; padding: 16px 0;`);let d$1=document.createElement(`button`);d$1.innerHTML=`cancel`,d$1.setAttribute(`style`,`width: 85px;`),d$1.onclick=()=>{document.body.removeChild(h$1);let e$3=Error(`NotAllowedError`);e$3.name=`NotAllowedError`,n$2(e$3)};let l$1=t$2,u$1=document.createElement(`div`);if(t$2){let e$3=document.createElement(`input`);e$3.setAttribute(`type`,`checkbox`);let t$3=document.createElement(`span`);e$3.setAttribute(`style`,`margin-right: 6px;`),t$3.innerText=`Share audio`,e$3.checked=l$1,e$3.onchange=()=>{l$1=e$3.checked},u$1.appendChild(e$3),u$1.appendChild(t$3)}c$1.appendChild(u$1),c$1.appendChild(d$1),o$1.appendChild(s$1),o$1.appendChild(a$1),o$1.appendChild(c$1);let h$1=document.createElement(`div`);h$1.setAttribute(`style`,`position: fixed; z-index: 99999999; top: 50%; left: 50%; width: 620px; height: 525px; background: #ECECEC; border-radius: 4px; -webkit-transform: translate(-50%,-50%); transform: translate(-50%,-50%);`),h$1.appendChild(r$2),h$1.appendChild(o$1),document.body.appendChild(h$1),e$2.map((e$3=>{if(e$3.id){let t$3=document.createElement(`div`);t$3.setAttribute(`style`,`width: 30%; height: 160px; padding: 20px 0; text-align: center;box-sizing: content-box;`);let n$3=e$3.thumbnail;try{let{width:e$4}=n$3.getSize();e$4>1920&&(n$3=n$3.resize({width:1920}))}catch(e$4){throw e$4&&e$4.message.startsWith(`Illegal invocation`)&&console.error(`Operate thumbnail error, please try to set contextIsolation: false. (https://github.com/electron/electron/issues/34953)`),e$4}t$3.innerHTML=`<div style="height: 120px; display: table-cell; vertical-align: middle;"><img style="width: 100%; background: #333333; box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.2);" src=`+n$3.toDataURL()+` /></div><span style="	height: 40px; line-height: 40px; display: inline-block; width: 70%; word-break: keep-all; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">`+e$3.name.replace(/[\u00A0-\u9999<>\&]/g,(function(e$4){return`&#`+e$4.charCodeAt(0)+`;`}))+`</span>`,t$3.onclick=()=>{document.body.removeChild(h$1),i$1({sourceId:e$3.id,audio:l$1})},a$1.appendChild(t$3)}}))}))}(await yL(e$1.mediaSource),t$1);return await CL(n$1,e$1,r$1)}async function yL(e$1){let t$1=[`window`,`screen`];e$1!==`application`&&e$1!==`window`||(t$1=[`window`]),e$1===`screen`&&(t$1=[`screen`]);let i$1=PO();if(!i$1)throw console.error(`failed to fetch electron, please mount it to window`),new pO(hO.ELECTRON_IS_NULL);let n$1=null;try{var r$1;n$1=i$1.desktopCapturer?.getSources({types:t$1})||i$1.ipcRenderer.invoke(`DESKTOP_CAPTURER_GET_SOURCES`,{types:t$1})}catch{n$1=null}n$1&&n$1.then||(n$1=new rp(((e$2,n$2)=>{i$1.desktopCapturer.getSources({types:t$1},((t$2,i$2)=>{t$2?n$2(t$2):e$2(i$2)}))})));try{return await n$1}catch(e$2){throw new pO(hO.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR,e$2.toString())}}let IL=new PN(`safari`),AL=!1,bL=!1;async function wL(e$1,t$1){let i$1=0,n$1=null;for(;i$1<2;)try{n$1=await OL(e$1,t$1,i$1>0);break}catch(e$2){if(e$2 instanceof pO)throw iP.error(`[${t$1}] ${e$2.toString()}`),e$2;let n$2=NL(e$2.name||e$2.code||e$2,e$2.message);if(n$2.code===hO.MEDIA_OPTION_INVALID){iP.debug(`[${t$1}] detect media option invalid, retry`),i$1+=1,await fN(500);continue}throw iP.error(`[${t$1}] ${n$2.toString()}`),n$2}if(!n$1)throw new pO(hO.UNEXPECTED_ERROR,`can not find stream after getUserMedia`);return n$1}async function OL(e$1,t$1,i$1){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new pO(hO.NOT_SUPPORTED,`can not find getUserMedia`);i$1&&(e$1.video&&(delete e$1.video.width,delete e$1.video.height),e$1.screen&&(delete e$1.screen.width,delete e$1.screen.height));let n$1=pP(),r$1=new MediaStream;if(e$1.audioSource&&r$1.addTrack(e$1.audioSource),e$1.videoSource&&r$1.addTrack(e$1.videoSource),!e$1.audio&&!e$1.video&&!e$1.screen)return iP.debug(`Using Video Source/ Audio Source`),r$1;if(e$1.screen)if(PO())e$1.screen.sourceId?DL(r$1,await CL(e$1.screen.sourceId,e$1.screen,!!e$1.screenAudio)):DL(r$1,await vL(e$1.screen,!!e$1.screenAudio));else if(Uw()&&e$1.screen.extensionId&&e$1.screen.mandatory){if(!n$1.getStreamFromExtension)throw new pO(hO.NOT_SUPPORTED,`This browser does not support screen sharing`);iP.debug(`[${t$1}] Screen access on chrome stable, looking for extension"`);let i$2=await(s$1=e$1.screen.extensionId,a$1=t$1,new rp(((e$2,t$2)=>{try{chrome.runtime.sendMessage(s$1,{getStream:!0},(i$3=>{if(!i$3||!i$3.streamId)return iP.error(`[${a$1}] No response from Chrome Plugin. Plugin not installed properly`,i$3),void t$2(new pO(hO.CHROME_PLUGIN_NO_RESPONSE,`No response from Chrome Plugin. Plugin not installed properly`));e$2(i$3.streamId)}))}catch(e$3){iP.error(`[${a$1}] AgoraRTC screensharing plugin is not accessible(${s$1})`,e$3.toString()),t$2(new pO(hO.CHROME_PLUGIN_NOT_INSTALL))}})));e$1.screen.mandatory.chromeMediaSourceId=i$2,DL(r$1,await navigator.mediaDevices.getUserMedia({video:{mandatory:e$1.screen.mandatory}}))}else if(n$1.getDisplayMedia){var o$1;e$1.screen.mediaSource&&MP(e$1.screen.mediaSource);let i$2={width:e$1.screen.width,height:e$1.screen.height,frameRate:e$1.screen.frameRate,displaySurface:e$1.screen.displaySurface??(e$1.screen.mediaSource===`screen`?`monitor`:e$1.screen.mediaSource)},{selfBrowserSurface:n$2,surfaceSwitching:s$2,systemAudio:a$2,preferCurrentTab:c$2,windowAudio:d$2,monitorTypeSurfaces:l$2}=e$1.screen,u$2={selfBrowserSurface:n$2,surfaceSwitching:s$2,systemAudio:a$2,preferCurrentTab:c$2,windowAudio:d$2,monitorTypeSurfaces:l$2};!n$2&&delete u$2.selfBrowserSurface,!s$2&&delete u$2.surfaceSwitching,!a$2&&delete u$2.systemAudio,!c$2&&delete u$2.preferCurrentTab,!d$2&&delete u$2.windowAudio,!l$2&&delete u$2.monitorTypeSurfaces,iP.debug(`[${t$1}] getDisplayMedia:`,JSON.stringify({video:i$2,audio:e$1.screenAudio,controls:u$2})),DL(r$1,await navigator.mediaDevices.getDisplayMedia(cL({video:i$2,audio:e$1.screenAudio},u$2)))}else{if(!Bw())throw iP.error(`[${t$1}] This browser does not support screenSharing`),new pO(hO.NOT_SUPPORTED,`This browser does not support screen sharing`);{e$1.screen.mediaSource&&MP(e$1.screen.mediaSource);let i$2={video:{mediaSource:e$1.screen.mediaSource,width:e$1.screen.width,height:e$1.screen.height,frameRate:e$1.screen.frameRate}};iP.debug(`[${t$1}] getUserMedia: ${JSON.stringify(i$2)}`),DL(r$1,await navigator.mediaDevices.getUserMedia(i$2))}}var s$1,a$1;if(!e$1.video&&!e$1.audio)return r$1;let c$1={video:e$1.video,audio:e$1.audio},d$1=CD(`MEDIA_DEVICE_CONSTRAINTS`);if(d$1)try{typeof d$1==`string`&&(d$1=JSON.parse(d$1)),c$1=yN(c$1,d$1)}catch{}iP.debug(`[${t$1}] GetUserMedia`,JSON.stringify(c$1)),Dw();let l$1,u$1=null;(Vw()||jw()||Mw())&&(u$1=await IL.lock());try{l$1=await navigator.mediaDevices.getUserMedia(c$1)}catch(e$2){throw u$1&&u$1(),e$2}return c$1.audio&&(AL=!0),c$1.video&&(bL=!0),DL(r$1,l$1),u$1&&u$1(),r$1}function NL(e$1,t$1){switch(e$1){case`Starting video failed`:case`OverconstrainedError`:case`TrackStartError`:return new pO(hO.MEDIA_OPTION_INVALID,`${e$1}: ${t$1}`);case`NotFoundError`:case`DevicesNotFoundError`:return new pO(hO.DEVICE_NOT_FOUND,`${e$1}: ${t$1}`);case`NotSupportedError`:return new pO(hO.NOT_SUPPORTED,`${e$1}: ${t$1}`);case`NotReadableError`:return new pO(hO.NOT_READABLE,`${e$1}: ${t$1}`);case`InvalidStateError`:case`NotAllowedError`:case`PERMISSION_DENIED`:case`PermissionDeniedError`:return new pO(hO.PERMISSION_DENIED,`${e$1}: ${t$1}`);case`ConstraintNotSatisfiedError`:return new pO(hO.CONSTRAINT_NOT_SATISFIED,`${e$1}: ${t$1}`);default:return iP.error(`getUserMedia unexpected error`,e$1),new pO(hO.UNEXPECTED_ERROR,`${e$1}: ${t$1}`)}}function DL(e$1,t$1){let i$1=e$1.getVideoTracks()[0],n$1=e$1.getAudioTracks()[0],r$1=t$1.getVideoTracks()[0],o$1=t$1.getAudioTracks()[0];o$1&&(n$1&&e$1.removeTrack(n$1),e$1.addTrack(o$1)),r$1&&(i$1&&e$1.removeTrack(i$1),e$1.addTrack(r$1))}let PL=new class extends NO{get state(){return this._state}set state(e$1){e$1!==this._state&&(this.emit(eL.STATE_CHANGE,e$1),this._state=e$1)}constructor(){super(),sL(this,`_state`,$P.IDLE),sL(this,`isAccessMicrophonePermission`,!1),sL(this,`isAccessCameraPermission`,!1),sL(this,`lastAccessMicrophonePermission`,!1),sL(this,`lastAccessCameraPermission`,!1),sL(this,`checkdeviceMatched`,!1),sL(this,`deviceInfoMap`,new Map),this.init().then((()=>{navigator.mediaDevices.addEventListener&&navigator.mediaDevices.addEventListener(`devicechange`,this.updateDevicesInfo.bind(this)),window.setInterval((()=>{(CD(`ENUMERATE_DEVICES_INTERVAL`)||(aO()||Lw()===Aw.HARMONY_OS)&&sO())&&this.updateDevicesInfo()}),CD(`ENUMERATE_DEVICES_INTERVAL_TIME`))})).catch((e$1=>iP.error(e$1.toString())))}async enumerateDevices(e$1,t$1){let i$1=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)throw new pO(hO.NOT_SUPPORTED,`enumerateDevices() not supported.`);let n$1=await navigator.mediaDevices.enumerateDevices(),r$1=this.checkMediaDeviceInfoIsOk(n$1),o$1=!this.isAccessMicrophonePermission&&e$1,s$1=!this.isAccessCameraPermission&&t$1;r$1.audio&&(o$1=!1),r$1.video&&(s$1=!1);let a$1=null,c$1=null,d$1=null;if(!i$1&&(o$1||s$1)){if(IL.isLocked&&(iP.debug(`[device manager] wait GUM lock`),(await IL.lock())(),iP.debug(`[device manager] GUM unlock`)),AL&&(o$1=!1,this.isAccessMicrophonePermission=!0),bL&&(s$1=!1,this.isAccessCameraPermission=!0),iP.debug(`[device manager] check media device permissions`,e$1,t$1,o$1,s$1),o$1&&s$1){try{d$1=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0})}catch(e$2){let t$2=NL(e$2.name||e$2.code||e$2,e$2.message);if(t$2.code===hO.PERMISSION_DENIED)throw t$2;iP.warning(`getUserMedia failed in getDevices`,t$2)}this.isAccessCameraPermission=!0,this.isAccessMicrophonePermission=!0}else if(o$1){try{a$1=await navigator.mediaDevices.getUserMedia({audio:e$1})}catch(e$2){let t$2=NL(e$2.name||e$2.code||e$2,e$2.message);if(t$2.code===hO.PERMISSION_DENIED)throw t$2;iP.warning(`getUserMedia failed in getDevices`,t$2)}this.isAccessMicrophonePermission=!0}else if(s$1){try{c$1=await navigator.mediaDevices.getUserMedia({video:t$1})}catch(e$2){let t$2=NL(e$2.name||e$2.code||e$2,e$2.message);if(t$2.code===hO.PERMISSION_DENIED)throw t$2;iP.warning(`getUserMedia failed in getDevices`,t$2)}this.isAccessCameraPermission=!0}iP.debug(`[device manager] mic permission`,e$1,`cam permission`,t$1)}try{let e$2=await navigator.mediaDevices.enumerateDevices();return a$1&&a$1.getTracks().forEach((e$3=>e$3.stop())),c$1&&c$1.getTracks().forEach((e$3=>e$3.stop())),d$1&&d$1.getTracks().forEach((e$3=>e$3.stop())),a$1=null,c$1=null,d$1=null,e$2}catch(e$2){return a$1&&a$1.getTracks().forEach((e$3=>e$3.stop())),c$1&&c$1.getTracks().forEach((e$3=>e$3.stop())),d$1&&d$1.getTracks().forEach((e$3=>e$3.stop())),a$1=null,c$1=null,d$1=null,new pO(hO.ENUMERATE_DEVICES_FAILED,e$2.toString()).throw()}}async getRecordingDevices(){let e$1=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return(await this.enumerateDevices(!0,!1,e$1)).filter((e$2=>e$2.kind===`audioinput`))}async getCamerasDevices(){let e$1=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return(await this.enumerateDevices(!1,!0,e$1)).filter((e$2=>e$2.kind===`videoinput`))}async getSpeakers(){let e$1=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return(await this.enumerateDevices(!0,!1,e$1)).filter((e$2=>e$2.kind===`audiooutput`))}searchDeviceIdByName(e$1){let t$1=null;return this.deviceInfoMap.forEach((i$1=>{i$1.device.label===e$1&&(t$1=i$1.device.deviceId)})),t$1}async getDeviceById(e$1){let t$1=(await this.enumerateDevices(!0,!0,!0)).find((t$2=>t$2.deviceId===e$1));if(!t$1)throw new pO(hO.DEVICE_NOT_FOUND,`deviceId: ${e$1}`);return t$1}async init(){this.state=$P.INITING;try{await this.updateDevicesInfo(),this.state=$P.INITEND}catch(e$1){throw this.state=$P.IDLE,(typeof isSecureContext==`boolean`?isSecureContext:location.protocol===`https:`||location.protocol===`file:`||location.hostname===`localhost`||location.hostname===`127.0.0.1`||location.hostname===`::1`)?(iP.warning(`Device Detection functionality cannot start properly.`,e$1.toString()),e$1):new pO(hO.WEB_SECURITY_RESTRICT,`Your context is limited by web security, please try using https protocol or localhost.`)}}async updateDevicesInfo(){let e$1=await this.enumerateDevices(!0,!0,!0),t$1=Date.now(),i$1=[];if(e$1[0]&&e$1[0].label&&!1===this.checkdeviceMatched){this.checkdeviceMatched=!0;let t$2=e$1.find((e$2=>e$2.kind===`audioinput`&&e$2.deviceId===`default`)),i$2=e$1.find((e$2=>e$2.kind===`audiooutput`&&e$2.deviceId===`default`));t$2&&i$2?i$2.groupId===t$2.groupId?iP.debug(`[device-check] default input ${t$2.label} and output ${i$2.label} is the same group`):iP.debug(`[device-check] default input ${t$2.label} and output ${i$2.label} is not the same group`):iP.debug(`[device-check] default input or output not found`)}let n$1=this.checkMediaDeviceInfoIsOk(e$1);if(e$1.forEach((e$2=>{if(!e$2.deviceId)return;let n$2=this.deviceInfoMap.get(`${e$2.kind}_${e$2.deviceId}`);if((n$2?n$2.state:`INACTIVE`)!==`ACTIVE`){let n$3={initAt:t$1,updateAt:t$1,device:e$2,state:`ACTIVE`};this.deviceInfoMap.set(`${e$2.kind}_${e$2.deviceId}`,n$3),i$1.push(n$3)}n$2&&(n$2.updateAt=t$1)})),this.deviceInfoMap.forEach(((e$2,n$2)=>{e$2.state===`ACTIVE`&&e$2.updateAt!==t$1&&(e$2.state=`INACTIVE`,i$1.push(e$2))})),this.state!==$P.INITEND)return n$1.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),void(n$1.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0));i$1.forEach((e$2=>{switch(e$2.device.kind){case`audioinput`:this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(eL.RECORDING_DEVICE_CHANGED,e$2);break;case`videoinput`:this.lastAccessCameraPermission&&this.isAccessCameraPermission&&this.emit(eL.CAMERA_DEVICE_CHANGED,e$2);break;case`audiooutput`:this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(eL.PLAYOUT_DEVICE_CHANGED,e$2)}})),n$1.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),n$1.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0)}checkMediaDeviceInfoIsOk(e$1){let t$1=e$1.filter((e$2=>e$2.kind===`audioinput`)),i$1=e$1.filter((e$2=>e$2.kind===`videoinput`)),n$1={audio:!1,video:!1};for(let e$2 of t$1)if(e$2.label&&e$2.deviceId){n$1.audio=!0;break}for(let e$2 of i$1)if(e$2.label&&e$2.deviceId){n$1.video=!0;break}return n$1}},LL=!1,kL=new class extends NO{constructor(){super(...arguments),sL(this,`onAutoplayFailed`,void 0),sL(this,`onAudioAutoplayFailed`,void 0)}};function ML(){if(LL)return CD(`FLS_AUTOPLAY_EMITS`)?(kL.onAutoplayFailed&&kL.onAutoplayFailed(),kL.emit(`autoplay-failed`)):void 0;{let e$1=t$1=>{t$1.preventDefault(),LL=!1,cO()?document.body.removeEventListener(`click`,e$1,!0):(document.body.removeEventListener(`touchstart`,e$1,!0),document.body.removeEventListener(`mousedown`,e$1,!0))};LL=!0,cO()?document.body.addEventListener(`click`,e$1,!0):(document.body.addEventListener(`touchstart`,e$1,!0),document.body.addEventListener(`mousedown`,e$1,!0)),iP.info(`detect media autoplay failed, document: https://docs.agora.io/cn/Voice/autoplay_policy_web_ng?platform=Web`),kL.onAutoplayFailed?kL.onAutoplayFailed():kL.onAudioAutoplayFailed?iP.warning(`AgoraRTC.onAudioAutoplayFailed has been deprecated in favor of AgoraRTC.onAutoplayFailed.

  Please refer to the Agora document to migrate the newer API, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web .`):iP.warning(`We have detected a media autoplay failed event, and found out that you haven't implemented AgoraRTC.onAutoplayFailed callback yet.

  It will cause audio/video element not playing automatically on some browsers without user interaction, possibly hurting user experiences.

  Please refer to the Agora document to properly handle autoplay failed event, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web .`),kL.emit(`autoplay-failed`)}}function UL(e$1,t$1,i$1,n$1){if(!e$1)return;let r$1=lP.getBaseInfoBySessionId(e$1);if(!r$1)return;let o$1=r$1.info,s$1=Date.now(),a$1=cL(cL({},o$1),{},{vid:o$1.vid===void 0?0:Number(o$1.vid),lts:s$1,elapse:s$1-r$1.startTime,cbRegistered:kL.onAutoplayFailed||kL.onAudioAutoplayFailed?1:-1,errorMsg:i$1,mediaType:t$1,trackId:n$1,extend:void 0});lP.send({type:aP.AUTOPLAY_FAILED,data:a$1},!0)}let VL=[`play`,`playing`,`loadeddata`,`canplay`,`pause`,`stalled`,`suspend`,`waiting`,`abort`,`emptied`,`ended`,`error`],xL=new class{constructor(){sL(this,`onAutoplayFailed`,void 0),sL(this,`elementMap`,new Map),sL(this,`elementStateMap`,new Map),sL(this,`elementsNeedToResume`,[]),sL(this,`sinkIdMap`,new Map),sL(this,`autoResumeAfterInterruption`,(e$1=>rp.all(Array.from(this.elementMap.entries()).map((async t$1=>{let[i$1,n$1]=t$1,r$1=this.elementStateMap.get(i$1),o$1=n$1.srcObject.getAudioTracks()[0],s$1=o$1&&o$1.readyState;if(iP.debug(`resume after interrupted, ele: ${r$1} audio: ${s$1} ${e$1}`),s$1===`live`){if(e$1)return n$1.pause(),n$1.play();if(_L.curState===`running`)return $w()?(n$1.pause(),n$1.play()):r$1&&r$1===`paused`?n$1.play():void 0}}))))),sL(this,`autoResumeAfterInterruptionOnIOS15_16`,(()=>{Array.from(this.elementMap.entries()).forEach((e$1=>{let[t$1,i$1]=e$1,n$1=i$1.srcObject.getAudioTracks()[0];n$1&&n$1.readyState===`live`&&(iP.debug(`auto resume after interruption inside autoResumeAfterInterruptionOnIOS15`),i$1.pause(),i$1.play())}))})),this.autoResumeAudioElement(),_L.on(RP.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),_L.on(RP.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16),_L.on(RP.STATE_CHANGE,(()=>{jw()&&_L.prevState===`suspended`&&_L.curState===`running`&&this.autoResumeAfterInterruption()}))}async setSinkID(e$1,t$1){let i$1=this.elementMap.get(e$1);if(this.sinkIdMap.set(e$1,t$1),i$1)try{await i$1.setSinkId(t$1)}catch(e$2){throw new pO(hO.PERMISSION_DENIED,`can not set sink id: `+e$2.toString())}}play(e$1,t$1,i$1,n$1){if(this.elementMap.has(t$1))return;let r$1=document.createElement(`audio`);r$1.autoplay=!0,r$1.srcObject=new MediaStream([e$1]),this.bindAudioElementEvents(t$1,r$1),this.elementMap.set(t$1,r$1),this.elementStateMap.set(t$1,tL.INIT),this.setVolume(t$1,i$1);let o$1=this.sinkIdMap.get(t$1);if(o$1)try{r$1.setSinkId(o$1).catch((e$2=>{iP.warning(`[${t$1}] set sink id failed`,e$2.toString())}))}catch(e$2){iP.warning(`[${t$1}] set sink id failed`,e$2.toString())}let s$1=r$1.play();s$1&&s$1.then&&s$1.catch((e$2=>{n$1&&UL(n$1,`audio`,e$2.message,t$1),iP.warning(`audio element play warning`,e$2.toString()),this.elementMap.has(t$1)&&e$2.name===`NotAllowedError`&&(iP.warning(`detected audio element autoplay failed`),this.elementsNeedToResume.push(r$1),oN((()=>{this.onAutoplayFailed&&this.onAutoplayFailed(),ML()})))}))}updateTrack(e$1,t$1){let i$1=this.elementMap.get(e$1);i$1&&(i$1.srcObject=new MediaStream([t$1]))}isPlaying(e$1){return this.elementMap.has(e$1)&&this.elementStateMap.get(e$1)===`playing`}setVolume(e$1,t$1){let i$1=this.elementMap.get(e$1);i$1&&(t$1=Math.max(0,Math.min(100,t$1)),i$1.volume=t$1/100)}getVolume(e$1){let t$1=this.elementMap.get(e$1);return t$1?t$1.volume:0}stop(e$1){let t$1=this.elementMap.get(e$1);if(this.sinkIdMap.delete(e$1),!t$1)return;let i$1=this.elementsNeedToResume.indexOf(t$1);this.elementsNeedToResume.splice(i$1,1),t$1.srcObject=null,t$1.remove(),this.elementMap.delete(e$1),this.elementStateMap.delete(e$1)}bindAudioElementEvents(e$1,t$1){VL.forEach((i$1=>{t$1.addEventListener(i$1,(i$2=>{let n$1=this.elementStateMap.get(e$1),r$1=i$2.type===`pause`?`paused`:i$2.type;if(iP.debug(`[${e$1}] audio-element-status change ${n$1} => ${r$1}`),i$2.type===`error`){let i$3=t$1?.error;i$3&&iP.error(`[${e$1}] media error, code: ${i$3.code}, message: ${i$3.message}`)}this.elementStateMap.set(e$1,r$1)}))}))}getPlayerState(e$1){return this.elementStateMap.get(e$1)||`uninit`}autoResumeAudioElement(){let e$1=()=>{this.elementsNeedToResume.forEach((e$2=>{e$2.play().then((e$3=>{iP.debug(`Auto resume audio element success`)})).catch((e$3=>{iP.warning(`Auto resume audio element failed!`,e$3)}))})),this.elementsNeedToResume=[]};new rp((e$2=>{document.body?e$2():window.addEventListener(`load`,(()=>e$2()))})).then((()=>{cO()?document.body.addEventListener(`click`,e$1,!0):(document.body.addEventListener(`touchstart`,e$1,!0),document.body.addEventListener(`mousedown`,e$1,!0))}))}};function FL(){return function(e$1,t$1,i$1){let n$1=i$1.value;return typeof n$1==`function`&&(i$1.value=function(){this._isClosed&&new pO(hO.INVALID_OPERATION,`[${this.getTrackId()}] cannot operate a closed track`).print(`warning`,iP);var t$2=[...arguments];let r$1=n$1.apply(this,t$2);return r$1 instanceof rp?new rp(((e$3,t$3)=>{r$1.then(e$3).catch(t$3)})):r$1}),i$1}}class BL extends NO{constructor(e$1){super(),sL(this,`name`,`VideoProcessorDestination`),sL(this,`ID`,`0`),sL(this,`_source`,void 0),sL(this,`videoContext`,void 0),sL(this,`inputTrack`,void 0),this.videoContext=e$1}get kind(){return`video`}get enabled(){return!0}pipe(){throw new pO(hO.NOT_SUPPORTED,`VideoProcessor cannot pipe to any other Processor`)}unpipe(){throw new pO(hO.NOT_SUPPORTED,`VideoProcessor cannot unpipe to any other Processor`)}enable(){}disable(){}updateInput(e$1){if(e$1.context!==this.videoContext)throw Error(`ProcessorContext passed to VideoTrack.processorDestination doesn't match it's belonging VideoTrack's context.
Probably you are making pipeline like this:
videoTrack1.pipe(processor).pipe(videoTrack2.processorDestination).`);e$1.track&&e$1.track!==this.inputTrack&&(this.videoContext.chained=!0,this.inputTrack=e$1.track,this.emit(QP.ON_TRACK,e$1.track))}reset(){this.inputTrack=void 0,this.videoContext.chained=!1,this.emit(QP.ON_TRACK,void 0)}}class jL extends NO{set chained(e$1){this._chained=e$1}get chained(){return this._chained}constructor(e$1,t$1){super(),sL(this,`constraintsMap`,new Map),sL(this,`statsRegistry`,[]),sL(this,`usageRegistry`,[]),sL(this,`trackId`,void 0),sL(this,`direction`,void 0),sL(this,`_chained`,!1),this.trackId=e$1,this.direction=t$1}async getConstraints(){return await zO(this,ZP.REQUEST_CONSTRAINTS)}async requestApplyConstraints(e$1,t$1){var i$1;return iP.info(`processor ${t$1.name} requestApplyConstraints for ${this.trackId}`),e$1&&this.constraintsMap.set(t$1,e$1),qO(this,ZP.REQUEST_UPDATE_CONSTRAINTS,Array.from(pp(i$1=this.constraintsMap).call(i$1)))}async requestRevertConstraints(e$1){var t$1;if(this.constraintsMap.has(e$1))return iP.info(`processor ${e$1.name} requestRevertConstraints for ${this.trackId}`),this.constraintsMap.delete(e$1),qO(this,ZP.REQUEST_UPDATE_CONSTRAINTS,Array.from(pp(t$1=this.constraintsMap).call(t$1)))}registerStats(e$1,t$1,i$1){this.statsRegistry.find((i$2=>i$2.processorID===e$1.ID&&i$2.processorName===e$1.name&&i$2.type===t$1))||this.statsRegistry.push({processorName:e$1.name,processorID:e$1.ID,type:t$1,cb:i$1})}unregisterStats(e$1,t$1){let i$1=this.statsRegistry.findIndex((i$2=>i$2.processorID===e$1.ID&&i$2.processorName===e$1.name&&i$2.type===t$1));i$1!==-1&&this.statsRegistry.splice(i$1,1)}gatherStats(){let e$1=[];for(let{processorID:t$1,processorName:i$1,type:n$1,cb:r$1}of this.statsRegistry)try{let o$1=r$1();e$1.push({processorID:t$1,processorName:i$1,type:n$1,stats:o$1})}catch(e$2){iP.error(new pO(hO.UNEXPECTED_ERROR,e$2.message))}return e$1}registerUsage(e$1,t$1){this.usageRegistry.find((t$2=>t$2.processorID===e$1.ID&&t$2.processorName===e$1.name))||this.usageRegistry.push({processorID:e$1.ID,processorName:e$1.name,cb:t$1})}unregisterUsage(e$1){let t$1=this.usageRegistry.findIndex((t$2=>t$2.processorID===e$1.ID&&t$2.processorName===e$1.name));t$1!==-1&&this.usageRegistry.splice(t$1,1)}async gatherUsage(){let e$1=[];if(!this.chained)return[];for(let{cb:t$1}of this.usageRegistry)try{let i$1=t$1();i$1 instanceof rp&&(i$1=await i$1),e$1.push(cL(cL({},i$1),{},{direction:this.direction}))}catch(e$2){iP.error(`gather extension usage error`,e$2)}return e$1}getDirection(){return this.direction}}class GL extends NO{constructor(e$1){super(),sL(this,`name`,`AudioProcessorDestination`),sL(this,`ID`,`0`),sL(this,`inputTrack`,void 0),sL(this,`inputNode`,void 0),sL(this,`audioProcessorContext`,void 0),sL(this,`_source`,void 0),this.audioProcessorContext=e$1}get kind(){return`audio`}get enabled(){return!0}pipe(){throw new pO(hO.NOT_SUPPORTED,`AudioProcessorDestination cannot pipe to any other Processor`)}unpipe(){throw new pO(hO.NOT_SUPPORTED,`AudioProcessor cannot unpipe to any other Processor`)}enable(){}disable(){}reset(){this.inputTrack=void 0,this.inputNode=void 0,this.audioProcessorContext.chained=!1,this.emit(QP.ON_TRACK,void 0),this.emit(QP.ON_NODE,void 0)}updateInput(e$1){if(e$1.context!==this.audioProcessorContext)throw Error(`ProcessorContext passed to AudioTrack.processorDestination doesn't match it's belonging AudioTrack's context.
        Probably you are making pipeline like this: audioTrack1.pipe(processor).pipe(audioTrack2.processorDestination).`);e$1.track&&this.inputTrack!==e$1.track&&(this.audioProcessorContext.chained=!0,this.inputTrack=e$1.track,this.emit(QP.ON_TRACK,this.inputTrack)),e$1.node&&this.inputNode!==e$1.node&&(this.audioProcessorContext.chained=!0,this.inputNode=e$1.node,this.emit(QP.ON_NODE,this.inputNode))}}class WL extends NO{set chained(e$1){this._chained=e$1}get chained(){return this._chained}constructor(e$1,t$1,i$1){super(),sL(this,`constraintsMap`,new Map),sL(this,`statsRegistry`,[]),sL(this,`audioContext`,void 0),sL(this,`trackId`,void 0),sL(this,`direction`,void 0),sL(this,`usageRegistry`,[]),sL(this,`_chained`,!1),this.audioContext=e$1,this.trackId=t$1,this.direction=i$1}async getConstraints(){return zO(this,ZP.REQUEST_CONSTRAINTS)}getAudioContext(){return this.audioContext}async requestApplyConstraints(e$1,t$1){var i$1;return iP.info(`processor ${t$1.name} requestApplyConstraints for ${this.trackId}`),e$1&&this.constraintsMap.set(t$1,e$1),qO(this,ZP.REQUEST_UPDATE_CONSTRAINTS,Array.from(pp(i$1=this.constraintsMap).call(i$1)))}async requestRevertConstraints(e$1){var t$1;if(this.constraintsMap.has(e$1))return this.constraintsMap.delete(e$1),qO(this,ZP.REQUEST_UPDATE_CONSTRAINTS,Array.from(pp(t$1=this.constraintsMap).call(t$1)))}registerStats(e$1,t$1,i$1){this.statsRegistry.find((i$2=>i$2.processorID===e$1.ID&&i$2.processorName===e$1.name&&i$2.type===t$1))||this.statsRegistry.push({processorName:e$1.name,processorID:e$1.ID,type:t$1,cb:i$1})}unregisterStats(e$1,t$1){let i$1=this.statsRegistry.findIndex((i$2=>i$2.processorID===e$1.ID&&i$2.processorName===e$1.name&&i$2.type===t$1));i$1!==-1&&this.statsRegistry.splice(i$1,1)}gatherStats(){let e$1=[];for(let{processorID:t$1,processorName:i$1,type:n$1,cb:r$1}of this.statsRegistry)try{let o$1=r$1();e$1.push({processorID:t$1,processorName:i$1,type:n$1,stats:o$1})}catch(e$2){iP.error(new pO(hO.UNEXPECTED_ERROR,e$2.message))}return e$1}registerUsage(e$1,t$1){this.usageRegistry.find((t$2=>t$2.processorID===e$1.ID&&t$2.processorName===e$1.name))||this.usageRegistry.push({processorID:e$1.ID,processorName:e$1.name,cb:t$1})}unregisterUsage(e$1){let t$1=this.usageRegistry.findIndex((t$2=>t$2.processorID===e$1.ID&&t$2.processorName===e$1.name));t$1!==-1&&this.usageRegistry.splice(t$1,1)}async gatherUsage(){let e$1=[];if(!this.chained)return[];for(let{cb:t$1}of this.usageRegistry)try{let i$1=t$1();i$1 instanceof rp&&(i$1=await i$1),e$1.push(cL(cL({},i$1),{},{direction:this.direction}))}catch(e$2){iP.error(`gather extension usage error`,e$2)}return e$1}getDirection(){return this.direction}}class HL extends NO{get isPlayed(){return!0}get isFreeze(){return!1}constructor(){super(),sL(this,`context`,void 0),sL(this,`processSourceNode`,void 0),sL(this,`outputTrack`,void 0),sL(this,`processedNode`,void 0),sL(this,`clonedTrack`,void 0),sL(this,`outputNode`,void 0),this.outputNode=new KL}setVolume(){}createOutputTrack(){throw new pO(hO.NOT_SUPPORTED,`can not create output MediaStreamTrack when WebAudio disabled`)}getOriginVolumeLevel(){return 0}getAccurateVolumeLevel(){return 0}stopGetAudioBuffer(){}startGetAudioBuffer(){}play(){}stop(){}destroy(){}updateTrack(){}updateOriginTrack(){}createMediaStreamSourceNode(){}}class KL{disconnect(){}connect(){}}function YL(e$1){return new rp(((t$1,i$1)=>{let n$1=!1,r$1=document.createElement(`video`);r$1.setAttribute(`autoplay`,``),r$1.setAttribute(`muted`,``),r$1.muted=!0,r$1.autoplay=!0,r$1.setAttribute(`playsinline`,``),r$1.setAttribute(`style`,`position: fixed; top: 0; left: 0; width: 1px; height: 1px`),document.body.appendChild(r$1);let o$1=jw()?`canplay`:`playing`;r$1.addEventListener(o$1,(()=>{let e$2=r$1.videoWidth,i$2=r$1.videoHeight;!e$2&&Bw()||(n$1=!0,r$1.srcObject=null,r$1.remove(),t$1([e$2,i$2]))})),r$1.srcObject=new MediaStream([e$1]),r$1.play().catch(TN),setTimeout((()=>{n$1||(r$1.srcObject=null,r$1.remove(),t$1([r$1.videoWidth,r$1.videoHeight]))}),4e3)}))}function zL(e$1){let t$1={};e$1.facingMode&&(t$1.facingMode=e$1.facingMode),e$1.cameraId&&(t$1.deviceId={exact:e$1.cameraId});let i$1=OP(e$1.encoderConfig);return i$1.width!=null&&(t$1.width=i$1.width),i$1.height!=null&&(t$1.height=i$1.height),!rO()&&i$1.frameRate&&(t$1.frameRate=i$1.frameRate),Fw()&&typeof t$1.frameRate==`object`&&(t$1.frameRate.max=60),Bw()&&(t$1.frameRate={ideal:30,max:30}),t$1}function qL(e$1){let t$1={};return rO()||(e$1.AGC!==void 0&&(t$1.autoGainControl=e$1.AGC),e$1.AEC!==void 0&&(t$1.echoCancellation=e$1.AEC),e$1.ANS!==void 0&&(t$1.noiseSuppression=e$1.ANS,Uw()&&e$1.ANS&&(t$1.googHighpassFilter=e$1.ANS))),t$1}function XL(e$1){let t$1=qL(e$1);if(e$1.encoderConfig){let i$1=LP(e$1.encoderConfig);t$1.channelCount=i$1.stereo?2:1,t$1.sampleRate=i$1.sampleRate,t$1.sampleSize=i$1.sampleSize}return e$1.microphoneId&&(t$1.deviceId={exact:e$1.microphoneId}),aO()&&(t$1.sampleRate=void 0),t$1}let JL=e$1=>{let t$1=e$1._encoderConfig;if(!t$1)return;let{frameRate:i$1,width:n$1,height:r$1}=e$1.getMediaStreamTrackSettings(),{frameRate:o$1=i$1,width:s$1=n$1,height:a$1=r$1}=t$1;if(!o$1||!s$1||!a$1)return;s$1=AN(s$1),a$1=AN(a$1),o$1=AN(o$1);let{max:c$1,min:d$1}=function(e$2,t$2,i$2){let n$2=200*(i$2/15)**.6*(e$2*t$2/640/360)**.75;return{min:Math.floor(n$2),max:Math.floor(4*n$2)}}(s$1,a$1,o$1),{bitrateMax:l$1,bitrateMin:u$1}=t$1||{};l$1||iP.debug(`calculate bitrate: [w: ${s$1}, h: ${a$1}, fps: ${o$1}] => [brMax: ${l$1}, brMin: ${u$1}]`);let{maxFramerate:h$1}=CD(`ENCODER_CONFIG_LIMIT`);return h$1&&typeof h$1==`number`&&(o$1=Math.min(o$1,h$1)),{frameRate:o$1,bitrateMax:l$1||c$1,bitrateMin:u$1||d$1,scaleResolutionDownBy:1,scale:0}},QL=async(e$1,t$1,i$1)=>await(async(e$2,t$2,i$2)=>{let n$1=function(e$3){let t$3=[];for(let i$3=0;i$3<e$3.length;i$3+=2)t$3.push(parseInt(e$3.slice(i$3,i$3+2),16));return Uint8Array.from(t$3)}(ON(``+t$2+i$2)).slice(0,16),r$1=n$1.slice(0,12),o$1=await window.crypto.subtle.importKey(`raw`,n$1,`AES-GCM`,!0,[`encrypt`]);return new Uint8Array(await window.crypto.subtle.encrypt({name:`AES-GCM`,iv:r$1},o$1,e$2))})(e$1.buffer,t$1,i$1),ZL=e$1=>{let t$1=document.createElement(`canvas`);return t$1.width=2,t$1.height=2,new rp(((i$1,n$1)=>{t$1.toBlob((async e$2=>{t$1.remove(),e$2?i$1({buffer:await $L(e$2),width:t$1.width,height:t$1.height}):n$1(new pO(hO.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED))}),e$1,1)}))},$L=async e$1=>{let t$1=await e$1.arrayBuffer();return new Uint8Array(t$1)};var ek,tk,ik,nk,rk,ok,sk,ak,ck,dk,lk,uk,hk,pk,_k,Ek,mk,fk,Sk,gk,Tk,Rk,Ck,vk,yk,Ik,Ak,bk,wk,Ok,Nk,Dk,Pk,Lk,kk,Mk,Uk,Vk,xk,Fk;let Bk=(ek=dP({argsMap:(e$1,t$1)=>[e$1.getTrackId(),t$1],throttleTime:300}),tk=dP({argsMap:(e$1,t$1)=>[e$1.getTrackId(),t$1]}),ik=FL(),nk=LN(`LocalAudioTrack`,`_enabledMutex`),rk=dP({argsMap:(e$1,t$1)=>[e$1.getTrackId(),t$1]}),ok=FL(),sk=LN(`LocalAudioTrack`,`_enabledMutex`),ak=dP({argsMap:(e$1,t$1)=>[e$1.getTrackId(),t$1]}),ck=FL(),dk=FL(),lk=FL(),uk=dP({argsMap:e$1=>[e$1.getTrackId()]}),hk=FL(),pk=dP({argsMap:e$1=>[e$1.getTrackId()]}),_k=FL(),Ek=dP({argsMap:e$1=>[e$1.getTrackId()]}),mk=dP({argsMap:(e$1,t$1)=>[e$1.getTrackId(),t$1.name]}),fk=dP({argsMap:e$1=>[e$1.getTrackId()]}),oL((Sk=class extends lL{get _source(){return this.initWebAudio()}set _source(e$1){this._trackSource=e$1}get processorContext(){return this._processorContext||=this.initProcessor().processorContext,this._processorContext}get processorDestination(){return this._processorDestination||=this.initProcessor().processorDestination,this._processorDestination}get isPlaying(){return this._useAudioElement?xL.isPlaying(this.getTrackId()):this._source.isPlayed}get __className__(){return`LocalAudioTrack`}constructor(e$1,t$1,i$1,n$1){super(e$1,i$1),sL(this,`trackMediaType`,HP.AUDIO),sL(this,`_encoderConfig`,void 0),sL(this,`_trackSource`,void 0),sL(this,`metadata`,[]),sL(this,`_enabled`,!0),sL(this,`_volume`,100),sL(this,`_useAudioElement`,!0),sL(this,`_bypassWebAudio`,!1),sL(this,`processor`,void 0),sL(this,`_processorContext`,void 0),sL(this,`_processorDestination`,void 0),sL(this,`_getOriginVolumeLevel`,void 0),this._encoderConfig=t$1,this._getOriginVolumeLevel=!!n$1,this._trackSource=new HL,CD(`DISABLE_WEBAUDIO`)&&(this._bypassWebAudio=!0),CD(`LOCAL_AUDIO_TRACK_USES_WEB_AUDIO`)&&(this._useAudioElement=!1),Vw()&&!pL?setTimeout((()=>this.initWebAudio())):this.initWebAudio()}setVolume(e$1){mO(e$1,`volume`,0,1e3),this._volume=e$1,this._source.setVolume(e$1/100),this._useAudioElement&&xL.setVolume(this.getTrackId(),e$1);try{if(this._bypassWebAudio)return void iP.debug(`[${this.getTrackId()}] setVolume returned because no pass through WebAudio.`);let e$2=this._source.createOutputTrack();this._mediaStreamTrack!==e$2&&(this._mediaStreamTrack=e$2,qO(this,UP.NEED_REPLACE_TRACK,this).then((()=>{iP.debug(`[${this.getTrackId()}] replace web audio track success`)})).catch((e$3=>{iP.warning(`[${this.getTrackId()}] replace web audio track failed`,e$3)})))}catch{}}getVolumeLevel(){return this._muted&&this.enabled&&this._getOriginVolumeLevel?this._source.getOriginVolumeLevel():this._source.getAccurateVolumeLevel()}async setPlaybackDevice(e$1){if(!this._useAudioElement||!_P())throw new pO(hO.NOT_SUPPORTED,`your browser does not support setting the audio output device`);await xL.setSinkID(this.getTrackId(),e$1)}async setEnabled(e$1,t$1,i$1){return this._setEnabled(e$1,t$1,i$1)}async _setEnabled(e$1,t$1,i$1){if(!i$1){if(e$1===this._enabled)return;this.stateCheck(`enabled`,e$1)}if(iP.info(`[${this.getTrackId()}] start setEnabled`,e$1),e$1){this._originMediaStreamTrack.enabled=!0;try{i$1||(this._enabled=!0),await qO(this,UP.NEED_ENABLE_TRACK,this),iP.info(`[${this.getTrackId()}] setEnabled to ${e$1} success`)}catch(e$2){throw i$1||(this._enabled=!1),iP.error(`[${this.getTrackId()}] setEnabled to true error`,e$2.toString()),e$2}}else{this._originMediaStreamTrack.enabled=!1,i$1||(this._enabled=!1);try{await qO(this,UP.NEED_DISABLE_TRACK,this)}catch(e$2){throw i$1||(this._enabled=!0),iP.error(`[${this.getTrackId()}] setEnabled to false error`,e$2.toString()),e$2}}}async setMuted(e$1){e$1!==this._muted&&(this.stateCheck(`muted`,e$1),this._muted=e$1,this._originMediaStreamTrack.enabled=!e$1,iP.debug(`[${this.getTrackId()}] start set muted: ${e$1}`),e$1?await qO(this,UP.NEED_MUTE_TRACK,this):await qO(this,UP.NEED_UNMUTE_TRACK,this))}getStats(){return dN((()=>{iP.warning(`[deprecated] LocalAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalAudioStats instead`)}),`localAudioTrackGetStatsWarning`),XO(this,UP.GET_STATS)||cL({},YP)}setAudioFrameCallback(e$1){let t$1=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4096;if(!e$1)return this._source.removeAllListeners(KP.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(t$1),this._source.removeAllListeners(KP.ON_AUDIO_BUFFER),this._source.on(KP.ON_AUDIO_BUFFER,(t$2=>e$1(t$2)))}play(){iP.debug(`[${this.getTrackId()}] start audio playback`),this._useAudioElement?(iP.debug(`[${this.getTrackId()}] start audio playback in element`),xL.play(this._mediaStreamTrack,this.getTrackId(),this._volume)):this._source.play()}stop(){iP.debug(`[${this.getTrackId()}] stop audio playback`),this._useAudioElement?xL.stop(this.getTrackId()):this._source.stop()}close(){super.close(),this._processorDestination&&this.unbindProcessorDestinationEvents(this._processorDestination),this._processorContext&&this.unbindProcessorContextEvents(this._processorContext),this.unpipe(),this._processorDestination&&this._processorDestination._source&&this._processorDestination._source.unpipe(),this._source.destroy()}_updatePlayerSource(){let e$1=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];iP.debug(`[${this.getTrackId()}] update player source track`),e$1&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&xL.updateTrack(this.getTrackId(),this._mediaStreamTrack)}async _updateOriginMediaStreamTrack(e$1,t$1){this._originMediaStreamTrack!==e$1&&(this._originMediaStreamTrack&&(this._originMediaStreamTrack.removeEventListener(`ended`,this._handleTrackEnded),t$1&&this._originMediaStreamTrack.stop()),e$1.addEventListener(`ended`,this._handleTrackEnded),this._originMediaStreamTrack=e$1,this._muted&&(this._originMediaStreamTrack.enabled=!1),this.processor&&this._processorContext&&this.processor.updateInput({track:e$1,context:this._processorContext}),this._mediaStreamTrack===this._source.outputTrack?this._source.updateTrack(this._originMediaStreamTrack):(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await qO(this,UP.NEED_REPLACE_TRACK,this)),this._getOriginVolumeLevel&&this._source.updateOriginTrack(e$1))}renewMediaStreamTrack(e$1){return rp.resolve(void 0)}pipe(e$1){if(this._bypassWebAudio)throw new pO(hO.INVALID_OPERATION,`Can not process AudioTrack when bypassWebAudio set to true.`);if(this.processor===e$1)return e$1;if(e$1._source)throw new pO(hO.INVALID_OPERATION,`Processor ${e$1.name} already piped, please call unpipe beforehand.`);return this.unpipe(),this.processor=e$1,this.processor._source=this,e$1.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),e$1}unpipe(){var e$1;if(!this.processor)return;let t$1=this.processor;(e$1=this._source.processSourceNode)==null||e$1.disconnect(),this.processor._source=!1,this.processor=void 0,t$1.reset()}bindProcessorDestinationEvents(e$1){e$1.on(QP.ON_TRACK,(async e$2=>{e$2?e$2!==this._mediaStreamTrack&&(this._mediaStreamTrack=e$2,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(e$2),await qO(this,UP.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await qO(this,UP.NEED_REPLACE_TRACK,this))})),e$1.on(QP.ON_NODE,(e$2=>{this._source.processedNode=e$2}))}unbindProcessorDestinationEvents(e$1){e$1.removeAllListeners(QP.ON_TRACK),e$1.removeAllListeners(QP.ON_NODE)}bindProcessorContextEvents(e$1){e$1.on(ZP.REQUEST_CONSTRAINTS,(async e$2=>{e$2(this._originMediaStreamTrack.getSettings())}))}unbindProcessorContextEvents(e$1){e$1.removeAllListeners(ZP.REQUEST_CONSTRAINTS)}initWebAudio(){return this._trackSource instanceof HL&&(this._trackSource=new RL(this._mediaStreamTrack,!1,this._getOriginVolumeLevel?this._mediaStreamTrack:void 0)),this._trackSource}initProcessor(){let e$1=new WL(this._source.context,this.getTrackId(),`local`),t$1=new GL(e$1);return this._processorContext=e$1,this._processorDestination=t$1,this.bindProcessorContextEvents(e$1),this.bindProcessorDestinationEvents(t$1),this._source.on(KP.UPDATE_SOURCE,(()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:e$1})})),this._useAudioElement&&(this._useAudioElement=!1,this.isPlaying&&(xL.stop(this.getTrackId()),this._source.play()),qO(this,UP.NEED_REPLACE_MIXING_TRACK,this).then((()=>{iP.debug(`[${this.getTrackId()}] replace from origin track to web audio track success`)})).catch((e$2=>{iP.warning(`[${this.getTrackId()}] replace from origin track to web audio track failed`,e$2)}))),{processorContext:e$1,processorDestination:t$1}}}).prototype,`setVolume`,[ek],Object.getOwnPropertyDescriptor(Sk.prototype,`setVolume`),Sk.prototype),oL(Sk.prototype,`setPlaybackDevice`,[tk,ik],Object.getOwnPropertyDescriptor(Sk.prototype,`setPlaybackDevice`),Sk.prototype),oL(Sk.prototype,`setEnabled`,[nk,rk,ok],Object.getOwnPropertyDescriptor(Sk.prototype,`setEnabled`),Sk.prototype),oL(Sk.prototype,`setMuted`,[sk,ak,ck],Object.getOwnPropertyDescriptor(Sk.prototype,`setMuted`),Sk.prototype),oL(Sk.prototype,`getStats`,[dk],Object.getOwnPropertyDescriptor(Sk.prototype,`getStats`),Sk.prototype),oL(Sk.prototype,`setAudioFrameCallback`,[lk],Object.getOwnPropertyDescriptor(Sk.prototype,`setAudioFrameCallback`),Sk.prototype),oL(Sk.prototype,`play`,[uk,hk],Object.getOwnPropertyDescriptor(Sk.prototype,`play`),Sk.prototype),oL(Sk.prototype,`stop`,[pk,_k],Object.getOwnPropertyDescriptor(Sk.prototype,`stop`),Sk.prototype),oL(Sk.prototype,`close`,[Ek],Object.getOwnPropertyDescriptor(Sk.prototype,`close`),Sk.prototype),oL(Sk.prototype,`pipe`,[mk],Object.getOwnPropertyDescriptor(Sk.prototype,`pipe`),Sk.prototype),oL(Sk.prototype,`unpipe`,[fk],Object.getOwnPropertyDescriptor(Sk.prototype,`unpipe`),Sk.prototype),Sk),jk=(gk=dP({argsMap:(e$1,t$1)=>[e$1.getTrackId(),t$1]}),Tk=FL(),Rk=LN(`MicrophoneAudioTrack`,`_enabledMutex`),Ck=dP({argsMap:(e$1,t$1,i$1)=>[e$1.getTrackId(),t$1,i$1]}),vk=FL(),yk=dP({argsMap:e$1=>[e$1.getTrackId()]}),oL((Ik=class extends Bk{get __className__(){return`MicrophoneAudioTrack`}constructor(e$1,t$1,i$1,n$1){super(e$1,t$1.encoderConfig?LP(t$1.encoderConfig):{},n$1,CD(`GET_VOLUME_OF_MUTED_AUDIO_TRACK`)),sL(this,`_config`,void 0),sL(this,`_deviceName`,`default`),sL(this,`_constraints`,void 0),sL(this,`_originalConstraints`,void 0),sL(this,`_enabled`,!0),this._config=t$1,this._constraints=i$1,this._originalConstraints=i$1,this._deviceName=e$1.label,typeof t$1.bypassWebAudio==`boolean`&&(this._bypassWebAudio=t$1.bypassWebAudio),($w()||eO())&&_L.bindInterruptDetectorTrack(this)}async setDevice(e$1){if(iP.info(`[${this.getTrackId()}] start set device to ${e$1}`),this._enabled)try{let t$1=await PL.getDeviceById(e$1),i$1={};i$1.audio=cL({},this._constraints),i$1.audio.deviceId={exact:e$1},this._originMediaStreamTrack.stop();let n$1=null;try{n$1=await wL(i$1,this.getTrackId())}catch(e$2){throw iP.error(`[${this.getTrackId()}] setDevice failed`,e$2.toString()),n$1=await wL({audio:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(n$1.getAudioTracks()[0],!1),e$2}await this._updateOriginMediaStreamTrack(n$1.getAudioTracks()[0],!1),this._deviceName=t$1.label,this._config.microphoneId=e$1,this._constraints.deviceId={exact:e$1}}catch(e$2){throw iP.error(`[${this.getTrackId()}] setDevice error`,e$2.toString()),e$2}else try{this._deviceName=(await PL.getDeviceById(e$1)).label,this._config.microphoneId=e$1,this._constraints.deviceId={exact:e$1}}catch(e$2){throw iP.error(`[${this.getTrackId()}] setDevice error`,e$2.toString()),e$2}iP.info(`[${this.getTrackId()}] set device to ${e$1} success`)}async setEnabled(e$1,t$1,i$1){if(t$1)return iP.debug(`[${this.getTrackId()}] setEnabled false (do not close microphone)`),await super._setEnabled(e$1);if(!i$1){if(e$1===this._enabled)return;this.stateCheck(`enabled`,e$1)}if(iP.info(`[${this.getTrackId()}] start setEnabled`,e$1),CD(`AUTO_RESET_AUDIO_ROUTE`)&&(jw()||iO())){let t$2=navigator.audioSession;t$2&&(e$1||(t$2.type=`playback`),t$2.type=`auto`)}if(!e$1){var n$1;this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop(),(n$1=this._source.clonedTrack)==null||n$1.stop(),i$1||(this._enabled=!1);try{await qO(this,UP.NEED_DISABLE_TRACK,this)}catch(e$2){throw iP.error(`[${this.getTrackId()}] setEnabled false failed`,e$2.toString()),e$2}return}let r$1=cL({},this._constraints),o$1=PL.searchDeviceIdByName(this._deviceName);o$1&&!r$1.deviceId&&(r$1.deviceId=o$1);try{i$1||(this._enabled=!0);let e$2=await wL({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e$2.getAudioTracks()[0],!1),await qO(this,UP.NEED_ENABLE_TRACK,this)}catch(e$2){throw i$1||(this._enabled=!1),iP.error(`[${this.getTrackId()}] setEnabled true failed`,e$2.toString()),e$2}iP.info(`[${this.getTrackId()}] setEnabled success`)}close(){super.close(),($w()||eO())&&_L.unbindInterruptDetectorTrack(this),kP.some((e$1=>function(e$2){return`__className__`in e$2&&e$2.__className__===`MicrophoneAudioTrack`}(e$1)))||hL&&hL()&&(lP.reportApiInvoke(null,{name:`BG_AUDIO_TAG_RESTART`,options:{},tag:kO.TRACER}).onSuccess(),iP.debug(`restart background audio tag success`))}onTrackEnded(){if((jw()||iO())&&this._enabled&&!this._isClosed&&_L.duringInterruption){let e$1=async()=>{_L.off(RP.IOS_INTERRUPTION_END,e$1),this._enabled&&!this._isClosed&&(iP.debug(`[${this.getTrackId()}] try capture microphone media device for interrupted iOS device.`),await this.setEnabled(!1),await this.setEnabled(!0))};_L.on(RP.IOS_INTERRUPTION_END,e$1)}else iP.debug(`[${this.getTrackId()}] track ended`),this.safeEmit(GP.TRACK_ENDED)}async renewMediaStreamTrack(e$1){let t$1=e$1||this._constraints,i$1=PL.searchDeviceIdByName(this._deviceName);if(i$1&&!t$1.deviceId&&(t$1.deviceId=i$1),this._constraints=t$1,this._enabled){this._originMediaStreamTrack.stop();let e$2=await wL({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e$2.getAudioTracks()[0],!0)}}bindProcessorContextEvents(e$1){super.bindProcessorContextEvents(e$1),e$1.on(ZP.REQUEST_UPDATE_CONSTRAINTS,(async(e$2,t$1,i$1)=>{try{let i$2=Object.assign({},this._originalConstraints,...e$2);await this.renewMediaStreamTrack(i$2),t$1()}catch(e$3){i$1(e$3)}}))}unbindProcessorContextEvents(e$1){super.unbindProcessorContextEvents(e$1),e$1.removeAllListeners(ZP.REQUEST_UPDATE_CONSTRAINTS)}}).prototype,`setDevice`,[gk,Tk],Object.getOwnPropertyDescriptor(Ik.prototype,`setDevice`),Ik.prototype),oL(Ik.prototype,`setEnabled`,[Rk,Ck,vk],Object.getOwnPropertyDescriptor(Ik.prototype,`setEnabled`),Ik.prototype),oL(Ik.prototype,`close`,[yk],Object.getOwnPropertyDescriptor(Ik.prototype,`close`),Ik.prototype),Ik),Gk=(Ak=dP({argsMap:(e$1,t$1)=>[e$1.getTrackId(),t$1,e$1.duration]}),bk=FL(),wk=dP({argsMap:e$1=>[e$1.getTrackId()]}),Ok=FL(),Nk=dP({argsMap:e$1=>[e$1.getTrackId()]}),Dk=FL(),Pk=dP({argsMap:e$1=>[e$1.getTrackId()]}),Lk=FL(),kk=dP({argsMap:e$1=>[e$1.getTrackId()]}),Mk=FL(),Uk=dP({argsMap:e$1=>[e$1.getTrackId()]}),Vk=dP({argsMap:e$1=>[e$1.getTrackId()]}),xk=FL(),oL((Fk=class extends Bk{get __className__(){return`BufferSourceAudioTrack`}constructor(e$1,t$1,i$1,n$1){super(t$1.createOutputTrack(),i$1,n$1),sL(this,`source`,void 0),sL(this,`_bufferSource`,void 0),this._useAudioElement=!1,this.source=e$1,this._bufferSource=t$1,this._bufferSource.on(KP.AUDIO_SOURCE_STATE_CHANGE,(e$2=>{this.safeEmit(GP.SOURCE_STATE_CHANGE,e$2)}));try{this._mediaStreamTrack=this._source.createOutputTrack()}catch{}}get currentState(){return this._bufferSource.currentState}get duration(){return this._bufferSource.duration}get playbackSpeed(){return this._bufferSource.playbackSpeed}getCurrentTime(){return this._bufferSource.currentTime}startProcessAudioBuffer(e$1){e$1&&this._bufferSource.updateOptions(e$1),this._bufferSource.startProcessAudioBuffer()}pauseProcessAudioBuffer(){this._bufferSource.pauseProcessAudioBuffer()}seekAudioBuffer(e$1){this._bufferSource.seekAudioBuffer(e$1)}resumeProcessAudioBuffer(){this._bufferSource.resumeProcessAudioBuffer()}stopProcessAudioBuffer(){this._bufferSource.stopProcessAudioBuffer()}close(){this.source=null,this._bufferSource.destroy(),super.close()}setAudioBufferPlaybackSpeed(e$1){mO(e$1,`speed`,0),this._bufferSource.setAudioBufferPlaybackSpeed(e$1)}}).prototype,`startProcessAudioBuffer`,[Ak,bk],Object.getOwnPropertyDescriptor(Fk.prototype,`startProcessAudioBuffer`),Fk.prototype),oL(Fk.prototype,`pauseProcessAudioBuffer`,[wk,Ok],Object.getOwnPropertyDescriptor(Fk.prototype,`pauseProcessAudioBuffer`),Fk.prototype),oL(Fk.prototype,`seekAudioBuffer`,[Nk,Dk],Object.getOwnPropertyDescriptor(Fk.prototype,`seekAudioBuffer`),Fk.prototype),oL(Fk.prototype,`resumeProcessAudioBuffer`,[Pk,Lk],Object.getOwnPropertyDescriptor(Fk.prototype,`resumeProcessAudioBuffer`),Fk.prototype),oL(Fk.prototype,`stopProcessAudioBuffer`,[kk,Mk],Object.getOwnPropertyDescriptor(Fk.prototype,`stopProcessAudioBuffer`),Fk.prototype),oL(Fk.prototype,`close`,[Uk],Object.getOwnPropertyDescriptor(Fk.prototype,`close`),Fk.prototype),oL(Fk.prototype,`setAudioBufferPlaybackSpeed`,[Vk,xk],Object.getOwnPropertyDescriptor(Fk.prototype,`setAudioBufferPlaybackSpeed`),Fk.prototype),Fk);class Wk extends Bk{get __className__(){return`MixingAudioTrack`}get isActive(){for(let e$1 of this.trackList)if(e$1._enabled&&!e$1._isClosed&&!e$1.muted)return!0;return!1}constructor(){let e$1=EL().createMediaStreamDestination();super(e$1.stream.getAudioTracks()[0],void 0,SN(8,`track-mix-`)),sL(this,`trackList`,void 0),sL(this,`destNode`,void 0),this._useAudioElement=!1;try{this._mediaStreamTrack=this._source.createOutputTrack()}catch{}this.destNode=e$1,this.trackList=[]}hasAudioTrack(e$1){return this.trackList.indexOf(e$1)!==-1}addAudioTrack(e$1){this.trackList.indexOf(e$1)===-1?(iP.debug(`add ${e$1.getTrackId()} to mixing track`),e$1._source.outputNode.connect(this.destNode),this.trackList.push(e$1),this.updateEncoderConfig()):iP.debug(`track ${e$1.getTrackId()} is already added`)}removeAudioTrack(e$1){if(this.trackList.indexOf(e$1)!==-1){iP.debug(`remove ${e$1.getTrackId()} from mixing track`);try{e$1._source.outputNode.disconnect(this.destNode)}catch{}nN(this.trackList,e$1),this.updateEncoderConfig()}}updateEncoderConfig(){let e$1={};this.trackList.forEach((t$1=>{t$1._encoderConfig&&((t$1._encoderConfig.bitrate||0)>(e$1.bitrate||0)&&(e$1.bitrate=t$1._encoderConfig.bitrate),(t$1._encoderConfig.sampleRate||0)>(e$1.sampleRate||0)&&(e$1.sampleRate=t$1._encoderConfig.sampleRate),(t$1._encoderConfig.sampleSize||0)>(e$1.sampleSize||0)&&(e$1.sampleSize=t$1._encoderConfig.sampleSize),t$1._encoderConfig.stereo&&(e$1.stereo=!0))})),this._encoderConfig=e$1}_updateRtpTransceiver(e$1){this._rtpTransceiver!==e$1&&(this._rtpTransceiver=e$1,this.trackList.forEach((t$1=>{t$1 instanceof Wk?t$1.emit(jP.TRANSCEIVER_UPDATED,e$1):t$1._updateRtpTransceiver(e$1)})))}}class Hk extends TL{set currentState(e$1){e$1!==this._currentState&&(this._currentState=e$1,this.safeEmit(KP.AUDIO_SOURCE_STATE_CHANGE,this._currentState))}get currentState(){return this._currentState}constructor(e$1){let t$1=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),sL(this,`audioBuffer`,void 0),sL(this,`sourceNode`,void 0),sL(this,`startPlayTime`,0),sL(this,`startPlayOffset`,0),sL(this,`pausePlayTime`,0),sL(this,`options`,void 0),sL(this,`currentLoopCount`,0),sL(this,`currentPlaybackSpeed`,100),sL(this,`_currentState`,`stopped`),this.audioBuffer=e$1,this.options=t$1,this.startPlayOffset=this.options.startPlayTime||0}createWebAudioDiagram(){return this.context.createGain()}get duration(){return this.audioBuffer?this.audioBuffer.duration:0}get playbackSpeed(){return this.currentPlaybackSpeed}get currentTime(){return this.audioBuffer?this.currentState===`stopped`?0:this.currentState===`paused`?this.pausePlayTime:((this.context.currentTime-this.startPlayTime)*(this.playbackSpeed/100)+this.startPlayOffset)%this.audioBuffer.duration:0}updateOptions(e$1){this.currentState===`stopped`?(this.options=e$1,this.startPlayOffset=this.options.startPlayTime||0):iP.warning(`can not set audio source options`)}startProcessAudioBuffer(){this.sourceNode&&this.stopProcessAudioBuffer(),this.sourceNode=this.createSourceNode(),this.startSourceNode(),this.currentState=`playing`}pauseProcessAudioBuffer(){this.sourceNode&&this.currentState===`playing`&&(this.pausePlayTime=this.currentTime,this.sourceNode.onended=null,this.sourceNode.stop(),this.sourceNode.buffer=null,this.sourceNode=this.createSourceNode(),this.currentState=`paused`)}seekAudioBuffer(e$1){this.sourceNode&&(this.sourceNode.onended=null,this.currentState===`playing`&&this.sourceNode.stop(),this.sourceNode=this.createSourceNode(),this.currentState===`playing`?(this.startPlayOffset=e$1,this.startSourceNode()):this.currentState===`paused`&&(this.pausePlayTime=e$1))}resumeProcessAudioBuffer(){this.currentState===`paused`&&this.sourceNode&&(this.startPlayOffset=this.pausePlayTime,this.pausePlayTime=0,this.startSourceNode(),this.currentState=`playing`)}stopProcessAudioBuffer(){if(this.sourceNode){this.sourceNode.onended=null;try{this.sourceNode.stop()}catch{}this.reset()}}destroy(){this.audioBuffer=null,super.destroy()}setAudioBufferPlaybackSpeed(e$1){this.sourceNode&&(this.currentState===`playing`&&(this.startPlayOffset=this.currentTime,this.startPlayTime=this.context.currentTime),this.sourceNode.playbackRate.value=e$1/100),this.currentPlaybackSpeed=e$1}startSourceNode(){this.sourceNode&&this.sourceNode.buffer&&(this.sourceNode.start(0,this.startPlayOffset),this.startPlayTime=this.context.currentTime,this.sourceNode.onended=this.handleSourceNodeEnded.bind(this))}createSourceNode(){let e$1=this.context.createBufferSource();return e$1.buffer=this.audioBuffer,e$1.loop=!!this.options.loop,e$1.connect(this.outputNode),e$1.playbackRate.value=this.currentPlaybackSpeed/100,e$1}handleSourceNodeEnded(){if(this.currentLoopCount+=1,this.options.cycle&&this.options.cycle>this.currentLoopCount)return this.startPlayOffset=0,this.sourceNode=void 0,void this.startProcessAudioBuffer();this.reset()}reset(){this.startPlayOffset=this.options.startPlayTime||0,this.currentState=`stopped`,this.sourceNode&&=(this.sourceNode.disconnect(),void 0),this.currentLoopCount=0}}let Kk=new Map;function Yk(e$1,t$1){if(e$1.length===0||t$1.length===0)return 1/0;let i$1=wN(e$1),n$1=wN(t$1);return Math.floor(n$1/i$1)}class zk{get rendFrameRate(){let e$1=Math.max(1,Yk(this._render_interframe_delays_sizes,this._render_interframe_delays));return Math.floor(1e3/e$1)}get videoElementStatus(){return this._isInPage?this._videoElementStatus:tL.DESTROYED}set videoElementStatus(e$1){e$1!==this._videoElementStatus&&(iP.debug(`[${this.trackId}] video-element-status change ${this._videoElementStatus} => ${e$1}`),this._videoElementStatus=e$1)}get videoState(){return this._videoState}set videoState(e$1){var t$1;e$1!==this._videoState&&(this._videoState=e$1,(t$1=this.onVideoStateChanged)==null||t$1.call(this,this.videoState))}constructor(e$1){sL(this,`trackId`,void 0),sL(this,`config`,void 0),sL(this,`onFirstVideoFrameDecoded`,void 0),sL(this,`onFirstVideoFrameRender`,void 0),sL(this,`onVideoBufferReady`,void 0),sL(this,`onVideoStateChanged`,void 0),sL(this,`freezeTimeCounterList`,[]),sL(this,`renderFreezeAccTime`,0),sL(this,`renderFreezeAccTime2`,0),sL(this,`isKeepLastFrame`,!1),sL(this,`isDestroyed`,!1),sL(this,`timeUpdatedCount`,0),sL(this,`freezeTime`,0),sL(this,`playbackTime`,0),sL(this,`lastTimeUpdatedTime`,0),sL(this,`autoplayFailed`,!1),sL(this,`videoTrack`,void 0),sL(this,`videoElement`,void 0),sL(this,`cacheVideoElement`,void 0),sL(this,`cancelRVFId`,void 0),sL(this,`internal`,!1),sL(this,`_render_interframe_delays`,[]),sL(this,`_render_interframe_delays_sizes`,[]),sL(this,`_videoState`,iL.VideoStateStopped),sL(this,`videoElementCheckInterval`,void 0),sL(this,`videoElementFreezeTimeout`,void 0),sL(this,`_videoElementStatus`,tL.NONE),sL(this,`_isInPage`,!0),sL(this,`isGettingVideoDimensions`,!1),sL(this,`startGetVideoDimensions`,(()=>{let e$2=()=>{if(this.isGettingVideoDimensions=!0,this.videoElement.videoWidth*this.videoElement.videoHeight>4)return iP.debug(`[${this.trackId}] current video dimensions:`,this.videoElement.videoWidth,this.videoElement.videoHeight),void(this.isGettingVideoDimensions=!1);setTimeout(e$2,500)};!this.isGettingVideoDimensions&&e$2()})),sL(this,`autoResumeAfterInterruption`,(()=>{this.videoTrack&&this.videoTrack.readyState===`live`&&_L.curState===`running`&&(iP.debug(`[track-${this.trackId}] video element paused, auto resume for ${kw()}`),tO()?(this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):(this.videoElement.pause(),this.videoElement.play()))})),sL(this,`handleVideoEvents`,(e$2=>{switch(e$2.type){case`play`:case`playing`:e$2.type===`play`&&iP.debug(`[${this.trackId}] video element status: play`),this.startGetVideoDimensions(),this.videoElementStatus=tL.PLAYING;break;case`loadeddata`:if(this.videoState=iL.VideoStateStarting,this.onFirstVideoFrameRender&&this.onFirstVideoFrameRender(),this.onFirstVideoFrameDecoded&&this.onFirstVideoFrameDecoded(),this.cacheVideoElement){try{this.cacheVideoElement.srcObject=null,this.cacheVideoElement.remove()}catch{}this.cacheVideoElement=void 0}break;case`canplay`:this.videoElementStatus=tL.CANPLAY;break;case`stalled`:this.videoElementStatus=tL.STALLED;break;case`suspend`:this.videoElementStatus=tL.SUSPEND;break;case`pause`:this.videoElementStatus=tL.PAUSED,jw()||iO()||Vw()&&this.autoplayFailed||!this.videoTrack||this.videoTrack.readyState!==`live`||(iP.debug(`[track-${this.trackId}] video element paused, auto resume`),this.videoElement.play());break;case`waiting`:this.videoElementStatus=tL.WAITING;break;case`abort`:this.videoElementStatus=tL.ABORT;break;case`ended`:this.videoElementStatus=tL.ENDED;break;case`emptied`:this.videoElementStatus=tL.EMPTIED;break;case`error`:{let e$3=this.videoElement.error;e$3&&(this.videoElementStatus=tL.ERROR,iP.error(`[${this.trackId}] media error: ${e$3.message} (${e$3.code})`));break}case`timeupdate`:{let e$3=performance.now();if(this.timeUpdatedCount+=1,this.onVideoBufferReady&&this.timeUpdatedCount>CD(`BUFFER_READY_FRAMES`)&&this.onVideoBufferReady(),this.timeUpdatedCount<10)return void(this.lastTimeUpdatedTime=e$3);let t$1=e$3-this.lastTimeUpdatedTime,i$1=this.lastTimeUpdatedTime;if(this.lastTimeUpdatedTime=e$3,eU.lastVisibleTime<eU.lastHiddenTime||i$1<eU.lastHiddenTime||i$1<eU.lastVisibleTime||this.isSkipCalcRenderFreezeTime())return;for(t$1>CD(`VIDEO_FREEZE_DURATION`)&&(this.freezeTime+=t$1),this.playbackTime+=t$1;this.playbackTime>=6e3;){this.playbackTime-=6e3;let e$4=Math.min(6e3,this.freezeTime);this.freezeTimeCounterList.push(e$4),this.freezeTime=Math.max(0,this.freezeTime-6e3)}break}}})),sL(this,`autoResumeAfterInterruptionOnIOS15_16`,(()=>{this.videoTrack&&this.videoTrack.readyState===`live`&&(iP.debug(`[track-${this.trackId}] video element paused, auto resume for ${kw()}`),tO()?(this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):(this.videoElement.pause(),this.videoElement.play()))})),this.trackId=e$1.trackId,this.config=e$1,e$1.element instanceof HTMLVideoElement?this.videoElement=e$1.element:this.videoElement=document.createElement(`video`),_L.on(RP.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),_L.on(RP.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16)}getVideoElement(){return this.videoElement}getContainerElement(){var e$1;return this.videoElement.parentElement??void 0}updateConfig(e$1){this.config=e$1,this.trackId=e$1.trackId,e$1.element!==this.videoElement&&(this.destroy(),this.videoElement=e$1.element),this.videoTrack&&this.initVideoElement()}updateVideoTrack(e$1){this.videoTrack!==e$1&&(this.videoTrack=e$1,this.initVideoElement())}play(e$1){let t$1=this.videoElement.play();t$1&&t$1.catch&&t$1.catch((t$2=>{e$1&&UL(e$1,`video`,t$2.message,this.trackId),t$2.name===`NotAllowedError`?(iP.warning(`detected video element autoplay failed`,t$2),this.autoplayFailed=!0,this.handleAutoPlayFailed()):iP.warning(`[${this.trackId}] play warning: `,t$2)}));let i$1=Dw();if((i$1.name===`Safari`&&Number(i$1.version)===15||$w())&&t$1&&t$1.then){let e$2=()=>{this.config.mirror&&!this.config.noStyle&&(this.videoElement.style.transform=`rotateY(180deg)`)};t$1.then(e$2).catch(e$2)}}getCurrentFrame(){let e$1=document.createElement(`canvas`);e$1.width=this.videoElement.videoWidth,e$1.height=this.videoElement.videoHeight;let t$1=e$1.getContext(`2d`);if(!t$1)return iP.error(`create canvas context failed!`),new ImageData(2,2);t$1.drawImage(this.videoElement,0,0,e$1.width,e$1.height);let i$1=t$1.getImageData(0,0,e$1.width,e$1.height);return e$1.remove(),i$1}async getCurrentFrameToUint8Array(e$1){let t$1=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,i$1=document.createElement(`canvas`);i$1.width=this.videoElement.videoWidth,i$1.height=this.videoElement.videoHeight;let n$1=i$1.getContext(`2d`);return n$1?(n$1.drawImage(this.videoElement,0,0,i$1.width,i$1.height),new rp(((n$2,r$1)=>{i$1.toBlob((async e$2=>{i$1.remove(),e$2?n$2({buffer:await $L(e$2),width:i$1.width,height:i$1.height}):r$1(new pO(hO.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED))}),e$1,t$1<0?.1:t$1>1?1:t$1)}))):await ZL(e$1)}destroy(){let e$1=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.isDestroyed=!0,_L.off(RP.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),_L.off(RP.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16),e$1?this.videoElement.pause():this.videoElement.srcObject=null,this.resetVideoElement(),this.freezeTimeCounterList=[],this.videoState=iL.VideoStateStopped}initVideoElement(){if(this.videoElementStatus=tL.INIT,!this.videoElementCheckInterval&&(qk.forEach((e$2=>{this.videoElement.addEventListener(e$2,this.handleVideoEvents)})),this.videoElementCheckInterval=window.setInterval((()=>{this._isInPage=function(e$2){return e$2!==document.body&&document.body.contains(e$2)}(this.videoElement)}),1e3),CD(`ENABLE_VIDEO_FRAME_CALLBACK`))){var e$1,t$1;let i$2,n$2=()=>{document.visibilityState===`visible`&&(document.removeEventListener(`visibilitychange`,n$2),this.videoElementFreezeTimeout=window.setTimeout(r$1,CD(`VIDEO_FREEZE_DURATION`)))},r$1=()=>{this.videoElementFreezeTimeout=void 0,this.videoState===iL.VideoStateDecoding&&(document.visibilityState===`visible`?this.videoState=iL.VideoStateFrozen:document.addEventListener(`visibilitychange`,n$2))},o$1=(e$2,t$2)=>{if(this.videoElementStatus===tL.PLAYING){if(i$2){let e$3=t$2.presentationTime-i$2.presentationTime,n$4=t$2.presentedFrames-i$2.presentedFrames;this._render_interframe_delays_sizes.push(n$4),this._render_interframe_delays.push(e$3);let o$2=wN(this._render_interframe_delays_sizes),s$2=o$2-this._render_interframe_delays_sizes[0];if(o$2>30&&s$2>5&&(this._render_interframe_delays_sizes.shift(),this._render_interframe_delays.shift()),this.videoState===iL.VideoStateStarting&&(this.videoState=iL.VideoStateDecoding),this.videoState===iL.VideoStateDecoding&&this.onVideoStateChanged&&(this.videoElementFreezeTimeout&&window.clearTimeout(this.videoElementFreezeTimeout),this.videoElementFreezeTimeout=window.setTimeout(r$1,CD(`VIDEO_FREEZE_DURATION`))),e$3<CD(`VIDEO_FREEZE_DURATION`)&&this.videoState===iL.VideoStateFrozen&&(this.videoState=iL.VideoStateDecoding),e$3>CD(`VIDEO_FREEZE_DURATION`)&&eU.lastVisibleTime>=eU.lastHiddenTime&&i$2.timestamp>eU.lastVisibleTime&&i$2.timestamp>eU.lastHiddenTime){let t$3=Math.min(66,Yk(this._render_interframe_delays_sizes,this._render_interframe_delays)),i$3=Math.max(0,e$3-(n$4-1)*t$3);this.renderFreezeAccTime2+=i$3>t$3?i$3:0,this.renderFreezeAccTime+=e$3}}i$2=cL(cL({},t$2),{},{timestamp:e$2})}else this.isSkipCalcRenderFreezeTime()&&(i$2=cL(cL({},t$2),{},{timestamp:e$2}));var n$3,s$1;CD(`ENABLE_VIDEO_FRAME_CALLBACK`)&&(this.cancelRVFId=(s$1=this.videoElement).requestVideoFrameCallback?.call(s$1,o$1))};this.cancelRVFId=(t$1=this.videoElement).requestVideoFrameCallback?.call(t$1,o$1)}this.videoElement.controls=!1,this.videoElement.setAttribute(`playsinline`,``),aO()&&!CD(`HIDE_NO_POSTER`)&&(this.videoElement.poster=`noposter`);let i$1=Dw();this.config.noStyle||(i$1.name===`Safari`&&Number(i$1.version)===15||$w()||!this.config.mirror||(this.videoElement.style.transform=`rotateY(180deg)`),this.config.fit?this.videoElement.style.objectFit=this.config.fit:this.videoElement.style.objectFit=`cover`),this.videoElement.setAttribute(`muted`,``),this.videoElement.muted=!0,this.videoElement.srcObject&&this.videoElement.srcObject instanceof MediaStream?this.videoElement.srcObject.getVideoTracks()[0]!==this.videoTrack&&(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,Bw()&&this.videoElement.load()):(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,Bw()&&this.videoElement.load());let n$1=this.videoElement.play();n$1!==void 0&&n$1.catch((e$2=>{iP.debug(`[${this.trackId}] playback interrupted`,e$2.toString())}))}resetVideoElement(){var e$1,t$1;qk.forEach((e$2=>{this.videoElement&&this.videoElement.removeEventListener(e$2,this.handleVideoEvents)})),this.videoElementCheckInterval&&=(window.clearInterval(this.videoElementCheckInterval),void 0),this.cancelRVFId&&this.videoElement&&((e$1=(t$1=this.videoElement).cancelVideoFrameCallback)==null||e$1.call(t$1,this.cancelRVFId),this.cancelRVFId=void 0),this.videoElementStatus=tL.NONE}isSkipCalcRenderFreezeTime(){return this.videoElementStatus===tL.DESTROYED||this.internal}handleAutoPlayFailed(){let e$1=t$1=>{t$1.preventDefault(),this.videoElement.play().then((()=>{iP.debug(`[${this.trackId}] Video element for trackId:${this.trackId} autoplay resumed.`)})).catch((e$2=>{iP.error(e$2)})),this.autoplayFailed=!1,cO()?document.body.removeEventListener(`click`,e$1,!0):(document.body.removeEventListener(`touchstart`,e$1,!0),document.body.removeEventListener(`mousedown`,e$1,!0))};cO()?document.body.addEventListener(`click`,e$1,!0):(document.body.addEventListener(`touchstart`,e$1,!0),document.body.addEventListener(`mousedown`,e$1,!0)),ML()}}let qk=[`play`,`playing`,`loadeddata`,`canplay`,`pause`,`stalled`,`suspend`,`waiting`,`abort`,`emptied`,`ended`,`timeupdate`,`error`];class Xk extends zk{constructor(e$1){let t$1=arguments.length>1&&arguments[1]!==void 0&&arguments[1];super(e$1),sL(this,`container`,void 0),sL(this,`slot`,void 0),this.slot=e$1.element,this.internal=t$1,this.updateConfig(e$1)}updateConfig(e$1){this.config=e$1,this.trackId=e$1.trackId;let t$1=e$1.element;var i$1;!this.internal||this.slot?(t$1!==this.slot&&(this.destroy(),this.slot=t$1),this.createElements()):(this.slot=t$1,t$1&&this.container?(this.internal=!1,this.container.id=`agora-video-player-${this.trackId}`,this.videoElement.id=`video_${this.trackId}`,this.config.fit?this.videoElement.style.objectFit=this.config.fit:this.videoElement.style.objectFit=`cover`,(i$1=this.slot)==null||i$1.appendChild(this.container)):this.createElements())}updateVideoTrack(e$1){this.videoTrack!==e$1&&(this.videoTrack=e$1,this.createElements())}play(e$1){var t$1;(t$1=this.container)!=null&&t$1.contains(this.videoElement)&&super.play(e$1)}getCurrentFrame(){var e$1;return(e$1=this.container)!=null&&e$1.contains(this.videoElement)?super.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameToUint8Array(e$1){var t$1;let i$1=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return(t$1=this.container)!=null&&t$1.contains(this.videoElement)?await super.getCurrentFrameToUint8Array(e$1,i$1):await ZL(e$1)}destroy(){if(super.destroy(),this.videoElement.remove(),this.videoElement=document.createElement(`video`),this.container){try{var e$1;this.container.remove(),(e$1=this.slot)==null||e$1.removeChild(this.container)}catch{}this.container=void 0}}createElements(){var e$1;this.container||=document.createElement(`div`),this.container.id=`agora-video-player-${this.trackId}`,this.container.style.width=`100%`,this.container.style.height=`100%`,this.container.style.position=`relative`,this.container.style.overflow=`hidden`,this.videoTrack?(this.container.style.backgroundColor=`black`,CD(`KEEP_LAST_FRAME`)&&this.isKeepLastFrame&&this.videoElement.paused&&this.resetVideoElement(),this.mountedVideoElement()):this.unmountedVideoElement(),(e$1=this.slot)==null||e$1.appendChild(this.container)}mountedVideoElement(){var e$1;!this.container||(e$1=this.container)!=null&&e$1.contains(this.videoElement)||this.container.appendChild(this.videoElement),super.initVideoElement(),this.videoElement.id=`video_${this.trackId}`,this.videoElement.className=`agora_video_player`,this.videoElement.style.width=`100%`,this.videoElement.style.height=`100%`,this.videoElement.style.position=`absolute`,this.videoElement.style.left=`0`,this.videoElement.style.top=`0`}unmountedVideoElement(){var e$1;if((e$1=this.container)!=null&&e$1.contains(this.videoElement)){super.resetVideoElement();try{this.container&&this.container.removeChild(this.videoElement)}catch{}this.videoElement=document.createElement(`video`)}}resetVideoElement(){var e$1;(e$1=this.container)!=null&&e$1.contains(this.videoElement)&&(super.resetVideoElement(),this.cacheVideoElement=this.videoElement,this.videoElement=document.createElement(`video`))}getContainerElement(){return this.container}}var Jk,Qk,Zk,$k,eM,tM,iM,nM,rM,oM,sM,aM,cM,dM,lM,uM,hM,pM,_M,EM,mM,fM,SM,gM,TM,RM,CM,vM,yM,IM,AM,bM,wM,OM,NM,DM,PM,LM;let kM=(Jk=dP({argsMap:(e$1,t$1,i$1)=>[e$1.getTrackId(),typeof t$1==`string`?t$1:t$1 instanceof HTMLVideoElement?`HTMLVideoElement`:`HTMLElement`,i$1]}),Qk=FL(),Zk=dP({argsMap:e$1=>[e$1.getTrackId()]}),$k=LN(`LocalVideoTrack`,`_enabledMutex`),eM=dP({argsMap:(e$1,t$1)=>[e$1.getTrackId(),t$1]}),tM=FL(),iM=LN(`LocalVideoTrack`,`_enabledMutex`),nM=dP({argsMap:(e$1,t$1)=>[e$1.getTrackId(),t$1]}),rM=FL(),oM=dP({argsMap:(e$1,t$1)=>[e$1.getTrackId(),t$1,e$1._saveEncodeBitrateRatio]}),sM=FL(),aM=dP({argsMap:(e$1,t$1)=>[e$1.getTrackId(),t$1]}),cM=FL(),dM=FL(),lM=dP({argsMap:(e$1,t$1,i$1)=>[e$1.getTrackId(),t$1,i$1]}),uM=FL(),hM=FL(),pM=FL(),_M=dP({argsMap:e$1=>[e$1.getTrackId()]}),EM=FL(),mM=FL(),fM=FL(),SM=FL(),gM=FL(),TM=dP({argsMap:(e$1,t$1)=>[e$1.getTrackId(),t$1.name]}),RM=dP({argsMap:e$1=>[e$1.getTrackId()]}),CM=dP({argsMap:e$1=>[e$1.getTrackId()]}),vM=dP({argsMap:(e$1,t$1,i$1)=>[e$1.getTrackId(),t$1.label,i$1]}),yM=class e$1 extends lL{get videoHeight(){if(Vw()){let{height:e$2}=this._mediaStreamTrack.getSettings();return this._videoHeight=e$2,this._videoHeight}return this._videoHeight}get videoWidth(){if(Vw()){let{width:e$2}=this._mediaStreamTrack.getSettings();return this._videoWidth=e$2,this._videoWidth}return this._videoWidth}get isPlaying(){return!(!this._player||this._player.videoElementStatus!==tL.PLAYING)}get processorDestination(){return this._processorDestination}get processorContext(){return this._processorContext}set processorContext(e$2){this._processorContext=e$2}get __className__(){return`LocalVideoTrack`}constructor(e$2,t$1,i$1,n$1,r$1,o$1){if(super(e$2,r$1),sL(this,`trackMediaType`,HP.VIDEO),sL(this,`_player`,void 0),sL(this,`isUseScaleResolutionDownBy`,!1),sL(this,`_videoVisibleTimer`,null),sL(this,`_previousVideoVisibleStatus`,void 0),sL(this,`_clearPreviousVideoVisibleStatus`,(()=>this._previousVideoVisibleStatus=void 0)),sL(this,`_encoderConfig`,void 0),sL(this,`_scalabilityMode`,{numSpatialLayers:1,numTemporalLayers:1}),sL(this,`_optimizationMode`,void 0),sL(this,`_saveEncodeBitrateRatio`,1),sL(this,`_videoHeight`,void 0),sL(this,`_videoWidth`,void 0),sL(this,`_forceBitrateLimit`,void 0),sL(this,`_enabled`,!0),sL(this,`_processorDestination`,void 0),sL(this,`_processorContext`,void 0),Vw()){let{width:t$2,height:i$2}=e$2.getSettings();this._videoWidth=t$2,this._videoHeight=i$2}else this.updateMediaStreamTrackResolution();if(this._scalabilityMode=i$1,this._optimizationMode=n$1,this._hints=o$1||[],t$1&&this._hints.indexOf(VP.CUSTOM_TRACK)!==-1?this._encoderConfig=sN(t$1):this._encoderConfig=t$1,this._hints.indexOf(VP.SCREEN_TRACK)===-1)this.updateBitrateFromProfile();else if(Hw(bw.CHROME,115)&&Lw().indexOf(`Windows`)!==-1){let t$2=function(e$3,t$3){if(`VideoFrame`in window&&`TransformStream`in window&&pP().supportWebRTCInsertableStream){let i$2=new MediaStreamTrackProcessor(e$3),n$2=new MediaStreamTrackGenerator({kind:`video`}),r$2,o$2,s$1=Date.now(),a$1=()=>{c$1&&=(clearInterval(c$1),void 0),r$2&&=(r$2.close(),void 0),e$3.stop(),o$2=void 0,n$2.removeEventListener(`ended`,a$1)},c$1=window.setInterval((()=>{if(o$2&&r$2&&Date.now()-s$1>(t$3??1e3))try{n$2.readyState===`live`?o$2.enqueue(r$2.clone()):a$1()}catch{a$1()}}),t$3??1e3),d$1=new TransformStream({transform:(e$4,t$4)=>{n$2.readyState===`live`?(o$2=t$4,s$1=Date.now(),r$2===void 0?(r$2=e$4,t$4.enqueue(e$4.clone())):(t$4.enqueue(r$2),r$2=e$4)):e$4.close()}});return n$2.addEventListener(`ended`,a$1),i$2.readable.pipeThrough(d$1).pipeTo(n$2.writable),n$2}}(e$2);t$2&&(iP.info(`local screen video track begin to inject frame`),this._mediaStreamTrack=t$2)}t$1&&this._hints.indexOf(VP.CUSTOM_TRACK)!==-1&&this.setEncoderConfiguration(t$1),this._processorContext=new jL(this.getTrackId(),`local`),this._processorDestination=new BL(this.processorContext),this.bindProcessorDestinationEvents()}play(e$2){let t$1=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof e$2==`string`){let t$2=document.getElementById(e$2);t$2?e$2=t$2:(iP.warning(`[${this.getTrackId()}] can not find "#${e$2}" element, use document.body`),e$2=document.body)}iP.debug(`[${this.getTrackId()}] start video playback in ${e$2 instanceof HTMLVideoElement?`HTMLVideoElement`:`HTMLElement`}`,JSON.stringify(t$1));let i$1=cL(cL(cL({},this._getDefaultPlayerConfig()),t$1),{},{trackId:this.getTrackId(),element:e$2});this._player?this._player.updateConfig(i$1):(e$2 instanceof HTMLVideoElement?this._player=new zk(i$1):this._player=new Xk(i$1),this._player.updateVideoTrack(this._mediaStreamTrack)),this._player.play(),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval((()=>{try{let e$3=this.getVideoElementVisibleStatus();this.safeEmit(GP.VIDEO_ELEMENT_VISIBLE_STATUS,e$3)}catch{}}),CD(`CHECK_VIDEO_VISIBLE_INTERVAL`))}stop(){this._player&&(this._videoVisibleTimer&&=(window.clearInterval(this._videoVisibleTimer),null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,iP.debug(`[${this.getTrackId()}] stop video playback`))}async setEnabled(e$2,t$1){if(!t$1){if(e$2===this._enabled)return;this.stateCheck(`enabled`,e$2)}if(iP.info(`[${this.getTrackId()}] start setEnabled`,e$2),!e$2){this._originMediaStreamTrack.enabled=!1;try{await qO(this,UP.NEED_DISABLE_TRACK,this)}catch(e$3){throw iP.error(`[${this.getTrackId()}] setEnabled to false error`,e$3.toString()),e$3}t$1||(this._enabled=!1),iP.info(`[${this.getTrackId()}] setEnabled to false success`);return}this._originMediaStreamTrack.enabled=!0;try{await qO(this,UP.NEED_ENABLE_TRACK,this)}catch(e$3){throw iP.error(`[${this.getTrackId()}] setEnabled to true error`,e$3.toString()),e$3}iP.info(`[${this.getTrackId()}] setEnabled to true success`),t$1||(this._enabled=!0)}async setMuted(e$2){e$2!==this._muted&&(this.stateCheck(`muted`,e$2),this._muted=e$2,this._originMediaStreamTrack.enabled=!e$2,iP.debug(`[${this.getTrackId()}] start set muted: ${e$2}`),e$2?await qO(this,UP.NEED_MUTE_TRACK,this):await qO(this,UP.NEED_UNMUTE_TRACK,this))}async setSaveEncodeBitrateRatio(){let e$2=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._saveEncodeBitrateRatio;if(this._saveEncodeBitrateRatio!==1&&this._encoderConfig&&this._encoderConfig.bitrateMax&&this._encoderConfig.bitrateMin){this._encoderConfig.bitrateMin=Math.floor(this._encoderConfig.bitrateMin*e$2),this._encoderConfig.bitrateMax=Math.floor(this._encoderConfig.bitrateMax*e$2),iP.debug(`[${this.getTrackId()}] set save encode bitrate ratio, ${e$2}`),this._saveEncodeBitrateRatio=1;try{await qO(this,UP.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e$3){return e$3.throw(iP)}}}async setEncoderConfiguration(e$2,t$1){if(!this._enabled)throw new pO(hO.TRACK_IS_DISABLED,`can not set encoder configuration when track is disabled`);if(e$2=OP(e$2),CD(`USE_STANDARD_BITRATE_DEFAULT`)&&(delete e$2.bitrateMax,delete e$2.bitrateMin),this._forceBitrateLimit&&(e$2.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:e$2.bitrateMax,e$2.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:e$2.bitrateMin),e$2.width||e$2.height||e$2.frameRate){let t$2=zL({encoderConfig:e$2});(Vw()||jw()||iO())&&(t$2.deviceId=void 0),iP.debug(`[${this.getTrackId()}] setEncoderConfiguration applyConstraints`,JSON.stringify(e$2),JSON.stringify(t$2));try{await this._originMediaStreamTrack.applyConstraints(t$2),this.updateMediaStreamTrackResolution()}catch(e$3){let t$3=new pO(hO.UNEXPECTED_ERROR,e$3.toString());throw iP.error(`[${this.getTrackId()}] applyConstraints error`,t$3.toString()),t$3}}this._encoderConfig=e$2,this._hints.indexOf(VP.SCREEN_TRACK)===-1&&this.updateBitrateFromProfile();try{await qO(this,UP.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e$3){return e$3.throw(iP)}}getStats(){return dN((()=>{iP.warning(`[deprecated] LocalVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalVideoStats instead`)}),`localVideoTrackGetStatsWarning`),XO(this,UP.GET_STATS)||cL({},zP)}async setBeautyEffect(e$2){iP.error(`LocalVideoTrack.setBeautyEffect was deprecated, please migrate to agora-extension-beauty-effect`)}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameImage(e$2){let t$1=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._player?this._player.getCurrentFrameToUint8Array(e$2,t$1):await ZL(e$2)}async findClosestProfile(){let{width:e$2,height:t$1,frameRate:i$1}=this.getMediaStreamTrackSettings(),{width:n$1,height:r$1,frameRate:o$1}=this._encoderConfig||{},s$1=AN(this._videoWidth||e$2||n$1||0),a$1=AN(this._videoHeight||t$1||r$1||0),c$1=function(e$3,t$2,i$2){if(!Array.isArray(CD(`VIDEO_ENCODER_CONFIG_LIST`))||CD(`VIDEO_ENCODER_CONFIG_LIST`).length===0)return!1;let n$2=Math.min(e$3,t$2);return!(n$2>=480)&&cL(cL({},CD(`VIDEO_ENCODER_CONFIG_LIST`).find((e$4=>e$4.height>n$2))),{},{frameRate:i$2})}(s$1,a$1,AN(i$1||o$1||15));if(c$1)return iP.debug(`[${this.getTrackId()}] find closest profile, ${s$1}x${a$1} => ${JSON.stringify(c$1)}`),this.setEncoderConfiguration(c$1)}async setBitrateLimit(e$2){iP.debug(`[${this.getTrackId()}] set bitrate limit, ${JSON.stringify(e$2)}`),e$2&&(this._forceBitrateLimit=e$2,this._encoderConfig&&(this._encoderConfig.bitrateMax?this._encoderConfig.bitrateMax=this._encoderConfig.bitrateMax<e$2.max_bitrate?this._encoderConfig.bitrateMax:e$2.max_bitrate:this._encoderConfig.bitrateMax=e$2.max_bitrate,this._encoderConfig.bitrateMin,this._encoderConfig.bitrateMin=e$2.min_bitrate))}async setOptimizationMode(e$2){if(e$2!==`motion`&&e$2!==`detail`&&e$2!==`balanced`)return void iP.error(hO.INVALID_PARAMS,`optimization mode must be motion, detail or balanced`);let t$1=this._optimizationMode;try{this._optimizationMode=e$2,await qO(this,UP.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this)}catch(e$3){throw this._optimizationMode=t$1,iP.error(`[${this.getTrackId()}] set optimization mode failed`,e$3.toString()),e$3}iP.info(`[${this.getTrackId()}] set optimization mode success (${e$2})`)}setScalabiltyMode(e$2){if(e$2.numSpatialLayers===1&&e$2.numTemporalLayers!==1)return iP.error(hO.INVALID_PARAMS,`scalability mode currently not supported, no SVC.`),void(this._scalabilityMode={numSpatialLayers:1,numTemporalLayers:1});this._scalabilityMode=e$2,iP.info(`[${this.getTrackId()}] set scalability mode success (${e$2})`)}updateMediaStreamTrackResolution(){YL(this._originMediaStreamTrack).then((e$2=>{let[t$1,i$1]=e$2;this._videoHeight=i$1,this._videoWidth=t$1})).catch(TN)}_updatePlayerSource(){this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}_getDefaultPlayerConfig(){return{fit:`contain`}}async setSenderConfiguration(e$2){if(!this._enabled)throw new pO(hO.TRACK_IS_DISABLED,`can not set encoder configuration when track is disabled`);iP.debug(`[${this.getTrackId()}] setSenderConfiguration applyConstraints`,JSON.stringify(e$2)),e$2=OP(e$2),this._forceBitrateLimit&&(e$2.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:e$2.bitrateMax,e$2.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:e$2.bitrateMin),this._encoderConfig=e$2,this._hints.indexOf(VP.SCREEN_TRACK)===-1&&this.updateBitrateFromProfile();try{await qO(this,UP.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e$3){return e$3.throw(iP)}}updateBitrateFromProfile(){if(!this._encoderConfig)return;let{width:e$2,height:t$1,frameRate:i$1}=this.getMediaStreamTrackSettings();if(!e$2||!t$1||!i$1)return;let{bitrateMax:n$1,bitrateMin:r$1}=this._encoderConfig;if(r$1==null||n$1==null){let{max:o$1,min:s$1}=function(e$3,t$2,i$2,n$2,r$2){let o$2=CD(`BITRATE_ADAPTER_TYPE`);if(o$2===`DEFAULT_BITRATE`)return{min:n$2,max:r$2};if(r$2===void 0){let s$2=Math.floor(200*(i$2/15)**.6*(e$3*t$2/640/360)**.75);r$2=o$2===`STANDARD_BITRATE`?4*s$2:2*s$2,n$2??=s$2}else n$2??=Math.floor(r$2/10);return{min:n$2,max:r$2}}(e$2,t$1,i$1,r$1,n$1);if(this._encoderConfig.bitrateMin=s$1,this._encoderConfig.bitrateMax=o$1,CD(`VIDEO_STANDARD_BITRATE_VERSION`)&&r$1==null&&n$1==null){let[n$2,r$2]=function(e$3,t$2,i$2){let n$3=4*Math.floor(2e5*(i$2/15)**.6*(e$3*t$2/230400)**.75),r$3=e$3*t$2,o$2=new Map([[19200,.9],[230400,.85],[518400,.75],[921600,.7],[2073600,.6],[3686400,.5]]),s$2=new Map([[230400,.95],[518400,.9],[921600,.85],[2073600,.8]]),a$1=pp(o$2).call(o$2).next().value,c$1=1;if(o$2.has(r$3))a$1=o$2.get(r$3);else{var d$1;let e$4=Qp(d$1=Array.from(o$2.entries())).call(d$1,((e$5,t$4)=>{let[i$3]=e$5,[n$4]=t$4;return i$3-n$4})),t$3=e$4.find((e$5=>{let[t$4]=e$5;return t$4>r$3}));if(t$3){let i$3=e$4.indexOf(t$3);if(i$3>0){let n$4=e$4[i$3-1],o$3=(r$3-n$4[0])/(t$3[0]-n$4[0]);a$1=n$4[1]+o$3*(t$3[1]-n$4[1])}else a$1=t$3[1]}else a$1=e$4[e$4.length-1][1]}if(s$2.has(r$3))c$1=s$2.get(r$3);else{var l$1;let e$4=Qp(l$1=Array.from(s$2.entries())).call(l$1,((e$5,t$4)=>{let[i$3]=e$5,[n$4]=t$4;return i$3-n$4})),t$3=e$4.find((e$5=>{let[t$4]=e$5;return t$4>r$3}));if(t$3){let i$3=e$4.indexOf(t$3);if(i$3>0){let n$4=e$4[i$3-1],o$3=(r$3-n$4[0])/(t$3[0]-n$4[0]);c$1=n$4[1]+o$3*(t$3[1]-n$4[1])}else c$1=t$3[1]}else c$1=e$4[e$4.length-1][1]}let u$1=CD(`VIDEO_NEW_BITRATE_RATIO`);u$1&&u$1>0&&(a$1=u$1/100);let h$1=Math.floor(n$3*a$1),p$1=Math.floor(65e4*(e$3*t$2/230400)**.5*(i$2/15)**.69),_$1=h$1,E$1=CD(`VIDEO_STANDARD_BITRATE_VERSION`);return E$1&&E$1>0&&(E$1===1?_$1=n$3:E$1===2?_$1=h$1:E$1===3&&(_$1=p$1)),[Math.floor(_$1/1e3),c$1]}(e$2,t$1,i$1);this._encoderConfig.bitrateMax=n$2,this._encoderConfig.bitrateMin=s$1?Math.min(s$1,n$2):n$2,this._saveEncodeBitrateRatio=r$2,iP.debug(`[${this.getTrackId()}] update new bitrate from profile, [w: ${e$2}, h: ${t$1}, fps: ${i$1}] => [brMax: ${this._encoderConfig.bitrateMax}, brMin: ${this._encoderConfig.bitrateMin}, save_bitrate_ratio: ${this._saveEncodeBitrateRatio}]`)}else iP.debug(`[${this.getTrackId()}] update bitrate from profile, [w: ${e$2}, h: ${t$1}, fps: ${i$1}] => [brMax: ${o$1}, brMin: ${s$1}]`),this._saveEncodeBitrateRatio=1}}getVideoElementVisibleStatus(){try{var e$2,t$1;let i$1=this==null||(e$2=this._player)==null?void 0:e$2.getContainerElement(),{element:r$1,slot:o$1}={track:this,element:this==null||(t$1=this._player)==null?void 0:t$1.getVideoElement(),slot:i$1?.parentElement};if(this.isPlaying&&r$1 instanceof HTMLVideoElement&&o$1 instanceof HTMLElement){let e$3=AO.checkOneElementVisible(r$1),t$2=Object.assign({},e$3);if(t$2.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=t$2.visible;let e$4=lP.reportApiInvoke(null,{tag:kO.TRACER,name:LO.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});t$2.visible?e$4.onSuccess(`Video is visible`):e$4.onSuccess(`Invisible because of ${t$2.reason}`)}return t$2}return}catch(e$3){throw new pO(hO.GET_VIDEO_ELEMENT_VISIBLE_ERROR,e$3.message)}}async renewMediaStreamTrack(e$2){}pipe(e$2){if(this.processor===e$2)return e$2;if(e$2._source)throw new pO(hO.INVALID_OPERATION,`Processor ${e$2.name} already piped, please call unpipe beforehand.`);return this.unpipe(),this.processor=e$2,this.processor._source=this,e$2.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),e$2}unpipe(){if(!this.processor)return;let e$2=this.processor;this.processor._source=void 0,this.processor=void 0,e$2.reset()}close(){super.close(),this.unbindProcessorDestinationEvents(),this.unbindProcessorContextEvents(),this.unpipe(),this.processorDestination._source&&this.processorDestination._source.unpipe()}clone(t$1){let i$1=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n$1=this._encoderConfig;t$1&&(n$1=cL(cL({},n$1),OP(t$1))),n$1=aN(n$1);let r$1=SN(8,`track-video-cloned-`),o$1=new e$1(i$1?this._mediaStreamTrack.clone():this._mediaStreamTrack,n$1,aN(this._scalabilityMode),this._optimizationMode,r$1,aN(this._hints));return t$1&&n$1&&o$1.setEncoderConfiguration(n$1),iP.debug(`clone video track from ${this.getTrackId()} to ${r$1}, clone ${i$1}`),o$1}async replaceTrack(e$2,t$1){if(!(e$2 instanceof MediaStreamTrack))throw new pO(hO.INVALID_PARAMS,`track should be an instance of MediaStreamTrack`);if(e$2.kind!==`video`)throw new pO(hO.INVALID_PARAMS,`track should be a video MediaStreamTrack`);await this._updateOriginMediaStreamTrack(e$2,t$1,!0),this.updateMediaStreamTrackResolution()}sendSeiData(e$2){if(dN((()=>{lP.reportApiInvoke(null,{name:LO.LOCAL_VIDEO_SEND_SEI_DATA,options:[],tag:kO.TRACER}).onSuccess(``)}),this._mediaStreamTrack.id||this.getTrackId()),!CD(`ENABLE_VIDEO_SEI`)||!CD(`ENABLE_ENCODED_TRANSFORM`))return void iP.warning(`To send/receive SEI, please call AgoraRTC.setParameter("ENABLE_VIDEO_SEI", true) before instantiate IAgoraRtcClient`);if(e$2 instanceof Uint8Array==0)return new pO(hO.INVALID_PARAMS,`Invalid argument type, ILocalVideoTrack.sendSeiData() only accept Uint8Array argument.`).throw();let t$1=this.getRTCRtpTransceiver();if(!t$1)return void iP.warning(`Video track is not published, SEI can not be send`);let i$1=t$1.sender.getParameters();if(i$1.codecs.length===0)return;let n$1=i$1.codecs[0].mimeType.toLocaleLowerCase();n$1===`video/h264`||n$1===`video/h265`?this.safeEmit(`sei-to-send`,e$2):iP.warning(`SEI is not supported by ${n$1}`)}bindProcessorDestinationEvents(){this.processorDestination.on(QP.ON_TRACK,(async e$2=>{e$2?e$2!==this._mediaStreamTrack&&(this._mediaStreamTrack=e$2,this._updatePlayerSource(),await qO(this,UP.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await qO(this,UP.NEED_REPLACE_TRACK,this))}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(QP.ON_TRACK)}unbindProcessorContextEvents(){this.processorContext.removeAllListeners(ZP.REQUEST_UPDATE_CONSTRAINTS),this.processorContext.removeAllListeners(ZP.REQUEST_CONSTRAINTS)}},oL(yM.prototype,`play`,[Jk,Qk],Object.getOwnPropertyDescriptor(yM.prototype,`play`),yM.prototype),oL(yM.prototype,`stop`,[Zk],Object.getOwnPropertyDescriptor(yM.prototype,`stop`),yM.prototype),oL(yM.prototype,`setEnabled`,[$k,eM,tM],Object.getOwnPropertyDescriptor(yM.prototype,`setEnabled`),yM.prototype),oL(yM.prototype,`setMuted`,[iM,nM,rM],Object.getOwnPropertyDescriptor(yM.prototype,`setMuted`),yM.prototype),oL(yM.prototype,`setSaveEncodeBitrateRatio`,[oM,sM],Object.getOwnPropertyDescriptor(yM.prototype,`setSaveEncodeBitrateRatio`),yM.prototype),oL(yM.prototype,`setEncoderConfiguration`,[aM,cM],Object.getOwnPropertyDescriptor(yM.prototype,`setEncoderConfiguration`),yM.prototype),oL(yM.prototype,`getStats`,[dM],Object.getOwnPropertyDescriptor(yM.prototype,`getStats`),yM.prototype),oL(yM.prototype,`setBeautyEffect`,[lM,uM],Object.getOwnPropertyDescriptor(yM.prototype,`setBeautyEffect`),yM.prototype),oL(yM.prototype,`getCurrentFrameData`,[hM],Object.getOwnPropertyDescriptor(yM.prototype,`getCurrentFrameData`),yM.prototype),oL(yM.prototype,`getCurrentFrameImage`,[pM],Object.getOwnPropertyDescriptor(yM.prototype,`getCurrentFrameImage`),yM.prototype),oL(yM.prototype,`findClosestProfile`,[_M,EM],Object.getOwnPropertyDescriptor(yM.prototype,`findClosestProfile`),yM.prototype),oL(yM.prototype,`setBitrateLimit`,[mM],Object.getOwnPropertyDescriptor(yM.prototype,`setBitrateLimit`),yM.prototype),oL(yM.prototype,`setOptimizationMode`,[fM],Object.getOwnPropertyDescriptor(yM.prototype,`setOptimizationMode`),yM.prototype),oL(yM.prototype,`setScalabiltyMode`,[SM],Object.getOwnPropertyDescriptor(yM.prototype,`setScalabiltyMode`),yM.prototype),oL(yM.prototype,`updateMediaStreamTrackResolution`,[gM],Object.getOwnPropertyDescriptor(yM.prototype,`updateMediaStreamTrackResolution`),yM.prototype),oL(yM.prototype,`pipe`,[TM],Object.getOwnPropertyDescriptor(yM.prototype,`pipe`),yM.prototype),oL(yM.prototype,`unpipe`,[RM],Object.getOwnPropertyDescriptor(yM.prototype,`unpipe`),yM.prototype),oL(yM.prototype,`close`,[CM],Object.getOwnPropertyDescriptor(yM.prototype,`close`),yM.prototype),oL(yM.prototype,`replaceTrack`,[vM],Object.getOwnPropertyDescriptor(yM.prototype,`replaceTrack`),yM.prototype),yM),MM=(IM=dP({argsMap:(e$1,t$1)=>[e$1.getTrackId(),t$1]}),AM=FL(),bM=LN(`CameraVideoTrack`,`_enabledMutex`),wM=dP({argsMap:(e$1,t$1)=>[e$1.getTrackId(),t$1]}),OM=FL(),NM=dP({argsMap:(e$1,t$1)=>[e$1.getTrackId(),t$1]}),DM=FL(),PM=dP({argsMap:e$1=>[e$1.getTrackId()]}),LM=class e$1 extends kM{get __className__(){return`CameraVideoTrack`}constructor(e$2,t$1,i$1,n$1,r$1,o$1){super(e$2,OP(t$1.encoderConfig),n$1,r$1,o$1),sL(this,`_config`,void 0),sL(this,`_originalConstraints`,void 0),sL(this,`_constraints`,void 0),sL(this,`_enabled`,!0),sL(this,`_deviceName`,`default`),sL(this,`tryResumeVideoForIOS15_16WeChat`,(async()=>{($w()||eO())&&!function(){let e$3=Dw();if(e$3.os!==Aw.IOS||!e$3.osVersion)return!1;let t$2=e$3.osVersion.split(`.`);return Number(t$2[0])===15&&Number(t$2[1])>=2}()&&nO()&&this._enabled&&!this._isClosed&&(iP.debug(`[${this.getTrackId()}] try capture camera media device for interrupted iOS 15 device on WeChat.`),await this.renewMediaStreamTrack())})),this._config=t$1,this._originalConstraints=i$1,this._constraints=i$1,this._deviceName=e$2.label,this._encoderConfig=OP(this._config.encoderConfig),_L.on(RP.IOS_15_16_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),_L.on(RP.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),this.bindProcessorContextEvents()}async setDevice(e$2){return typeof e$2==`string`?this._setDeviceById(e$2):e$2.deviceId?this._setDeviceById(e$2.deviceId):e$2.facingMode?this._setDeviceByFacingModel(e$2.facingMode):void 0}async _setDeviceById(e$2){if(iP.info(`[${this.getTrackId()}] set device to ${e$2}`),this._enabled)try{let t$1=await PL.getDeviceById(e$2),i$1={};i$1.video=cL({},this._constraints),i$1.video.deviceId={exact:e$2},i$1.video.facingMode=void 0,this._originMediaStreamTrack.stop();let n$1=null;try{n$1=await wL(i$1,this.getTrackId())}catch(e$3){throw iP.error(`[${this.getTrackId()}] setDevice failed`,e$3.toString()),n$1=await wL({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(n$1.getVideoTracks()[0],!1),e$3}await this._updateOriginMediaStreamTrack(n$1.getVideoTracks()[0],!1),this.updateMediaStreamTrackResolution(),this._deviceName=t$1.label,this._config.cameraId=e$2,this._constraints.deviceId={exact:e$2}}catch(e$3){throw iP.error(`[${this.getTrackId()}] setDevice error`,e$3.toString()),e$3}else try{this._deviceName=(await PL.getDeviceById(e$2)).label,this._config.cameraId=e$2,this._constraints.deviceId={exact:e$2}}catch(e$3){throw iP.error(`[${this.getTrackId()}] setDevice error`,e$3.toString()),e$3}iP.info(`[${this.getTrackId()}] setDevice success`)}async _setDeviceByFacingModel(e$2){iP.info(`[${this.getTrackId()}] set facingMode ${e$2}`);let t$1={video:cL(cL({},this._constraints),{},{deviceId:void 0,facingMode:{exact:e$2}})};if(this._enabled){this._originMediaStreamTrack.stop();let e$3=null;try{e$3=await wL(t$1,this.getTrackId())}catch(t$2){throw iP.error(`[${this.getTrackId()}] setDeviceByFacingModel failed`,t$2.toString()),e$3=await wL({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(e$3.getVideoTracks()[0],!1),t$2}await this._updateOriginMediaStreamTrack(e$3.getVideoTracks()[0],!1),this.updateMediaStreamTrackResolution()}this._deviceName=``,this._config.facingMode=e$2,this._config.cameraId=void 0,this._constraints=cL({},t$1.video),iP.info(`[${this.getTrackId()}] setDeviceByFacingModel success`)}async setEnabled(e$2,t$1){if(!t$1){if(e$2===this._enabled)return;this.stateCheck(`enabled`,e$2)}if(iP.info(`[${this.getTrackId()}] start setEnabled`,e$2),e$2){try{if(this.isExternalTrack)this._originMediaStreamTrack.enabled=!0;else{let e$3=await wL({video:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e$3.getVideoTracks()[0],!1)}await qO(this,UP.NEED_ENABLE_TRACK,this)}catch(e$3){throw iP.error(`[${this.getTrackId()}] setEnabled true error`,e$3.toString()),e$3}this.updateMediaStreamTrackResolution(),iP.info(`[${this.getTrackId()}] setEnabled to true success`),t$1||(this._enabled=!0)}else{this.isExternalTrack?this._originMediaStreamTrack.enabled=!1:(this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop()),t$1||(this._enabled=!1);try{await qO(this,UP.NEED_DISABLE_TRACK,this)}catch(e$3){throw iP.error(`[${this.getTrackId()}] setEnabled to false error`,e$3.toString()),e$3}iP.info(`[${this.getTrackId()}] setEnabled to false success`)}}async setEncoderConfiguration(e$2,t$1){if(!this._enabled)throw new pO(hO.TRACK_IS_DISABLED,`can not set encoder configuration when track is disabled`);e$2=OP(e$2),CD(`USE_STANDARD_BITRATE_DEFAULT`)&&(delete e$2.bitrateMax,delete e$2.bitrateMin),this._forceBitrateLimit&&(e$2.bitrateMax=this._forceBitrateLimit.max_bitrate||e$2.bitrateMax,e$2.bitrateMin=this._forceBitrateLimit.min_bitrate||e$2.bitrateMin);let i$1=sN(this._config);i$1.encoderConfig=e$2;let n$1=zL(i$1);(Vw()||jw()||iO())&&(n$1.deviceId=void 0),iP.debug(`[${this.getTrackId()}] setEncoderConfiguration applyConstraints`,JSON.stringify(e$2),JSON.stringify(n$1));try{await this._originMediaStreamTrack.applyConstraints(n$1),this.updateMediaStreamTrackResolution()}catch(e$3){let t$2=new pO(hO.UNEXPECTED_ERROR,e$3.toString());throw iP.error(`[${this.getTrackId()}] applyConstraints error`,t$2.toString()),t$2}this._config=i$1,this._constraints=n$1,this._originalConstraints=n$1,this._encoderConfig=e$2,this._hints.indexOf(VP.SCREEN_TRACK)===-1&&this.updateBitrateFromProfile();try{await qO(this,UP.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e$3){return e$3.throw(iP)}}_getDefaultPlayerConfig(){return{mirror:!0,fit:`cover`}}onTrackEnded(){if((jw()||iO())&&this._enabled&&!this._isClosed&&_L.duringInterruption){let e$2=async()=>{_L.off(RP.IOS_INTERRUPTION_END,e$2),this._enabled&&!this._isClosed&&(iP.debug(`[${this.getTrackId()}] try capture camera media device for interrupted iOS device.`),await this.setEnabled(!1),await this.setEnabled(!0))};_L.on(RP.IOS_INTERRUPTION_END,e$2)}else iP.debug(`[${this.getTrackId()}] track ended`),this.safeEmit(GP.TRACK_ENDED)}async renewMediaStreamTrack(e$2){let t$1=e$2||this._constraints,i$1=PL.searchDeviceIdByName(this._deviceName);if(i$1&&!t$1.deviceId&&(t$1.deviceId={exact:i$1}),this._enabled){let e$3=await wL({video:t$1},this.getTrackId());this._constraints=t$1,await this._updateOriginMediaStreamTrack(e$3.getVideoTracks()[0],!0),this.updateMediaStreamTrackResolution()}}close(){super.close(),_L.off(RP.IOS_15_16_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),_L.off(RP.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat)}clone(t$1){let i$1=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n$1=this._encoderConfig;t$1&&(n$1=cL(cL({},n$1),OP(t$1))),n$1=aN(n$1);let r$1=SN(8,`track-cam-cloned-`),o$1=new e$1(i$1?this._mediaStreamTrack.clone():this._mediaStreamTrack,aN(cL(cL({},this._config),{},{encoderConfig:n$1})),aN(this._constraints),aN(this._scalabilityMode),this._optimizationMode,r$1);return t$1&&n$1&&o$1.setEncoderConfiguration(n$1),iP.debug(`clone track from ${this.getTrackId()} to ${r$1}, clone ${i$1}`),o$1}bindProcessorContextEvents(){this.processorContext.on(ZP.REQUEST_UPDATE_CONSTRAINTS,(async(e$2,t$1,i$1)=>{try{let i$2=Object.assign({},this._originalConstraints,...e$2);await this.renewMediaStreamTrack(i$2),t$1()}catch(e$3){i$1(e$3)}})),this.processorContext.on(ZP.REQUEST_CONSTRAINTS,(async e$2=>{e$2(this._originMediaStreamTrack.getSettings())}))}},oL(LM.prototype,`setDevice`,[IM,AM],Object.getOwnPropertyDescriptor(LM.prototype,`setDevice`),LM.prototype),oL(LM.prototype,`setEnabled`,[bM,wM,OM],Object.getOwnPropertyDescriptor(LM.prototype,`setEnabled`),LM.prototype),oL(LM.prototype,`setEncoderConfiguration`,[NM,DM],Object.getOwnPropertyDescriptor(LM.prototype,`setEncoderConfiguration`),LM.prototype),oL(LM.prototype,`close`,[PM],Object.getOwnPropertyDescriptor(LM.prototype,`close`),LM.prototype),LM);function UM(e$1){let t$1=SN(8,`track-cus-`),i$1=lP.reportApiInvoke(null,{id:t$1,tag:kO.TRACER,name:LO.CREATE_CUSTOM_AUDIO_TRACK,options:[e$1]}),n$1=new Bk(e$1.mediaStreamTrack,e$1.encoderConfig?LP(e$1.encoderConfig):{},t$1,!1);return iP.info(`create custom audio track success with config`,e$1,`trackId`,n$1.getTrackId()),i$1.onSuccess(n$1.getTrackId()),n$1}function VM(e$1,t$1,i$1,n$1){i$1.optimizationMode&&(n$1&&n$1.width&&n$1.height?(i$1.encoderConfig=cL(cL({},n$1),{},{bitrateMin:n$1.bitrateMin,bitrateMax:n$1.bitrateMax}),i$1.optimizationMode!==`motion`&&i$1.optimizationMode!==`detail`||(t$1.contentHint=i$1.optimizationMode,t$1.contentHint===i$1.optimizationMode?iP.debug(`[${e$1}] set content hint to`,i$1.optimizationMode):iP.debug(`[${e$1}] set content hint failed`))):iP.warning(`[${e$1}] can not apply optimization mode bitrate config, no encoderConfig`))}var xM,FM,BM,jM,GM,WM,HM,KM,YM,zM,qM,XM,JM;class QM extends dL{getUserId(){return this._userId}constructor(e$1,t$1,i$1,n$1){super(e$1,`track-${e$1.kind}-${t$1}-${n$1.clientId}_${SN(5,``)}`),sL(this,`_userId`,void 0),sL(this,`_uintId`,void 0),sL(this,`_isDestroyed`,!1),sL(this,`store`,void 0),sL(this,`processor`,void 0),sL(this,`processorContext`,void 0),this._userId=t$1,this._uintId=i$1,this.store=n$1}_updateOriginMediaStreamTrack(e$1){this._originMediaStreamTrack=e$1,this._mediaStreamTrack=e$1,this._updatePlayerSource(),this.processor&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this.processorContext})}_destroy(){this._isDestroyed=!0,iP.info(`[${this.getTrackId()}] is destroyed`),this.stop(),super.close()}getProcessorStats(){return this.processorContext.gatherStats()}getProcessorUsage(){return this.processorContext.gatherUsage()}}let ZM=(xM=dP({argsMap:(e$1,t$1,i$1)=>[e$1.getTrackId(),typeof t$1==`string`?t$1:t$1 instanceof HTMLVideoElement?`HTMLVideoElement`:`HTMLElement`,i$1]}),FM=dP({argsMap:e$1=>[e$1.getTrackId()]}),BM=dP({argsMap:(e$1,t$1)=>[e$1.getTrackId(),t$1.name]}),jM=dP({argsMap:e$1=>[e$1.getTrackId()]}),oL((GM=class extends QM{get isPlaying(){return!(!this._player||this._player.videoElementStatus!==tL.PLAYING)}get __className__(){return`RemoteVideoTrack`}constructor(e$1,t$1,i$1,n$1,r$1){super(e$1,t$1,i$1,n$1),sL(this,`_videoVisibleTimer`,null),sL(this,`_previousVideoVisibleStatus`,void 0),sL(this,`_clearPreviousVideoVisibleStatus`,(()=>this._previousVideoVisibleStatus=void 0)),sL(this,`trackMediaType`,HP.VIDEO),sL(this,`_videoWidth`,void 0),sL(this,`_videoHeight`,void 0),sL(this,`_player`,void 0),sL(this,`_prePlayer`,void 0),sL(this,`processorDestination`,void 0),sL(this,`processorContext`,void 0),this._prePlayer=r$1,this.updateMediaStreamTrackResolution(),this.processorContext=new jL(this.getTrackId(),`remote`),this.processorDestination=new BL(this.processorContext),this.bindProcessorDestinationEvents()}getStats(){return dN((()=>{iP.warning(`[deprecated] RemoteVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteVideoStats instead`)}),`remoteVideoTrackGetStatsWarning`),XO(this,UP.GET_STATS)||cL({},JP)}play(e$1){let t$1=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.safeEmit(WP.PLAY_START),typeof e$1==`string`){let t$2=document.getElementById(e$1);t$2?e$1=t$2:(iP.warning(`[${this.getTrackId()}] can not find "#${e$1}" element, use document.body`),e$1=document.body)}iP.debug(`[${this.getTrackId()}] start video playback in ${e$1 instanceof HTMLVideoElement?`HTMLVideoElement`:`HTMLElement`}`,JSON.stringify(t$1));let i$1=cL(cL({fit:`cover`},t$1),{},{trackId:this.getTrackId(),element:e$1});if(this._player)this._player.updateConfig(i$1);else{let t$2=!1,n$1=!1;e$1 instanceof HTMLVideoElement?(this._player=new zk(i$1),this._prePlayer&&(this._prePlayer.destroy(),this._prePlayer=void 0,n$1=!0)):this._prePlayer&&!this._prePlayer.isDestroyed?(this._player=this._prePlayer,this._prePlayer=void 0,t$2=this._player.videoState>0,this._player.updateConfig(i$1)):this._player=new Xk(i$1),this._player.updateVideoTrack(this._mediaStreamTrack),this._player.onFirstVideoFrameDecoded=()=>{this.store.subscribe(this.getUserId(),`video`,void 0,void 0,Date.now()),this.safeEmit(WP.FIRST_FRAME_DECODED),n$1&&this.safeEmit(WP.FIRST_FRAME_RENDER)},this._player.onVideoStateChanged=e$2=>{this.safeEmit(WP.VIDEO_STATE_CHANGED,e$2)},t$2&&(this._player.onFirstVideoFrameDecoded(),this._player.onVideoStateChanged(this._player.videoState))}this._player.play(this.store.sessionId||void 0),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval((()=>{try{let e$2=this.getVideoElementVisibleStatus();this.safeEmit(WP.VIDEO_ELEMENT_VISIBLE_STATUS,e$2)}catch{}}),CD(`CHECK_VIDEO_VISIBLE_INTERVAL`)),this.safeEmit(WP.PLAY_END)}stop(){let e$1=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this._player&&(this._videoVisibleTimer&&=(window.clearInterval(this._videoVisibleTimer),null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(e$1),this._player=void 0,iP.debug(`[${this.getTrackId()}] stop video playback`))}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}updateMediaStreamTrackResolution(){YL(this._originMediaStreamTrack).then((e$1=>{let[t$1,i$1]=e$1;this._videoHeight=i$1,this._videoWidth=t$1})).catch(TN)}_updatePlayerSource(){iP.debug(`[${this.getTrackId()}] update player source track`),this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}getVideoElementVisibleStatus(){try{var e$1,t$1;let i$1=this==null||(e$1=this._player)==null?void 0:e$1.getContainerElement(),{element:r$1,slot:o$1}={track:this,element:this==null||(t$1=this._player)==null?void 0:t$1.getVideoElement(),slot:i$1?.parentElement};if(this.isPlaying&&r$1 instanceof HTMLVideoElement&&o$1 instanceof HTMLElement){let e$2=AO.checkOneElementVisible(r$1),t$2=Object.assign({},e$2);if(t$2.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=t$2.visible;let e$3=lP.reportApiInvoke(null,{tag:kO.TRACER,name:LO.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});t$2.visible?e$3.onSuccess(`Video is visible`):e$3.onSuccess(`Invisible because of ${t$2.reason}`)}return t$2}return}catch(e$2){throw new pO(hO.GET_VIDEO_ELEMENT_VISIBLE_ERROR,e$2.message)}}pipe(e$1){if(this.processor===e$1)return e$1;if(e$1._source)throw new pO(hO.INVALID_OPERATION,`Processor ${e$1.name} already piped, please call unpipe beforehand.`);return this.unpipe(),this.processor=e$1,this.processor._source=this,e$1.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),e$1}unpipe(){if(!this.processor)return;let e$1=this.processor;this.processor._source=void 0,this.processor=void 0,e$1.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(QP.ON_TRACK,(async e$1=>{e$1?e$1!==this._mediaStreamTrack&&(this._mediaStreamTrack=e$1,this._updatePlayerSource()):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource())}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(QP.ON_TRACK)}_destroy(){this._prePlayer&&=(this._prePlayer.destroy(),void 0),super._destroy(),this.unbindProcessorDestinationEvents()}_onSei(e$1){this.emit(jP.SEI_RECEIVED,e$1)}}).prototype,`play`,[xM],Object.getOwnPropertyDescriptor(GM.prototype,`play`),GM.prototype),oL(GM.prototype,`stop`,[FM],Object.getOwnPropertyDescriptor(GM.prototype,`stop`),GM.prototype),oL(GM.prototype,`pipe`,[BM],Object.getOwnPropertyDescriptor(GM.prototype,`pipe`),GM.prototype),oL(GM.prototype,`unpipe`,[jM],Object.getOwnPropertyDescriptor(GM.prototype,`unpipe`),GM.prototype),GM),$M=(WM=dP({argsMap:(e$1,t$1)=>[e$1.getTrackId(),t$1],throttleTime:300}),HM=dP({argsMap:(e$1,t$1)=>[e$1.getTrackId(),t$1],throttleTime:300}),KM=dP({argsMap:(e$1,t$1)=>[e$1.getTrackId(),t$1]}),YM=dP({argsMap:e$1=>[e$1.getTrackId()]}),zM=dP({argsMap:e$1=>[e$1.getTrackId()]}),qM=dP({argsMap:(e$1,t$1)=>[e$1.getTrackId(),t$1.name]}),XM=dP({argsMap:e$1=>[e$1.getTrackId()]}),oL((JM=class extends QM{get isPlaying(){return this._useAudioElement?xL.isPlaying(this.getTrackId()):this._source.isPlayed}get __className__(){return`RemoteAudioTrack`}constructor(e$1,t$1,i$1,n$1){super(e$1,t$1,i$1,n$1),sL(this,`trackMediaType`,HP.AUDIO),sL(this,`_source`,void 0),sL(this,`_useAudioElement`,!0),sL(this,`_volume`,100),sL(this,`processorContext`,void 0),sL(this,`processorDestination`,void 0),sL(this,`_played`,!1),sL(this,`_bypassWebAudio`,!1),CD(`DISABLE_WEBAUDIO`)?(this._source=new HL,this._bypassWebAudio=!0,this._useAudioElement=!0):(this._source=new RL(e$1,!0),CD(`REMOTE_AUDIO_TRACK_USES_WEB_AUDIO`)&&(this._useAudioElement=!1)),this._source.once(KP.RECEIVE_TRACK_BUFFER,(()=>{this.safeEmit(WP.FIRST_FRAME_DECODED)})),this.processorContext=new WL(this._source.context,this.getTrackId(),`remote`),this.processorDestination=new GL(this.processorContext),this.bindProcessorDestinationEvents(),this._source.on(KP.UPDATE_SOURCE,(()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:this.processorContext})}))}setAudioFrameCallback(e$1){let t$1=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4096;if(!e$1)return this._source.removeAllListeners(KP.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(t$1),this._source.removeAllListeners(KP.ON_AUDIO_BUFFER),this._source.on(KP.ON_AUDIO_BUFFER,(t$2=>e$1(t$2)))}setVolume(e$1){this._volume=e$1,this._useAudioElement?xL.setVolume(this.getTrackId(),e$1):this._source.setVolume(e$1/100)}setAmplifiedVolume(e$1){this._useAudioElement&&this._played&&(xL.stop(this.getTrackId()),this._source.play()),this._useAudioElement=!1,e$1=Math.min(e$1,CD(`MAX_WEBAUDIO_VOLUME`)),this._volume=e$1,this._source.setVolume(e$1/100)}async setPlaybackDevice(e$1){if(!this._useAudioElement||!_P())throw new pO(hO.NOT_SUPPORTED,`your browser does not support setting the audio output device`);await xL.setSinkID(this.getTrackId(),e$1)}getVolumeLevel(){return this._source.getAccurateVolumeLevel()}getVolume(){return this._useAudioElement?xL.getVolume(this.getTrackId()):this._source instanceof RL?this._source.getAudioVolume():0}getStats(){return dN((()=>{iP.warning(`[deprecated] RemoteAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteAudioStats instead`)}),`remoteAudioTrackGetStatsWarning`),XO(this,UP.GET_STATS)||cL({},qP)}play(){iP.debug(`[${this.getTrackId()}] start audio playback`),this._played=!0,this._useAudioElement?(iP.debug(`[${this.getTrackId()}] use audio element to play`),xL.play(this._mediaStreamTrack,this.getTrackId(),this._volume,this.store.sessionId||void 0)):(iP.debug(`[${this.getTrackId()}] use audio context to play`),this._source.play())}stop(){iP.debug(`[${this.getTrackId()}] stop audio playback`),this._played=!1,this._useAudioElement?xL.stop(this.getTrackId()):this._source.stop()}_destroy(){super._destroy(),this._played=!1,this.unbindProcessorDestinationEvents(),this._source.destroy()}_isFreeze(){return this._source.isFreeze}_updatePlayerSource(){let e$1=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];iP.debug(`[${this.getTrackId()}] update player source track`),e$1&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&xL.updateTrack(this.getTrackId(),this._mediaStreamTrack)}pipe(e$1){if(this._bypassWebAudio)throw new pO(hO.NOT_SUPPORTED,`can not pipe extension when WebAudio disabled`);if(this.processor===e$1)return e$1;if(e$1._source)throw new pO(hO.INVALID_OPERATION,`Processor ${e$1.name} already piped, please call unpipe beforehand.`);return this.unpipe(),this.processor=e$1,this.processor._source=this,e$1.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),e$1}unpipe(){var e$1;if(this._bypassWebAudio)throw new pO(hO.NOT_SUPPORTED,`can not unpipe extension when WebAudio disabled`);if(!this.processor)return;let t$1=this.processor;(e$1=this._source.processSourceNode)==null||e$1.disconnect(),this.processor._source=!1,this.processor=void 0,t$1.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(QP.ON_TRACK,(async e$1=>{e$1?e$1!==this._mediaStreamTrack&&(this._mediaStreamTrack=e$1,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(e$1)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource())})),this.processorDestination.on(QP.ON_NODE,(e$1=>{this._source.processedNode=e$1;let t$1=!e$1;this._useAudioElement!==t$1&&(this._played?(this.stop(),this._useAudioElement=t$1,this.play()):this._useAudioElement=t$1)}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(QP.ON_TRACK),this.processorDestination.removeAllListeners(QP.ON_NODE)}}).prototype,`setVolume`,[WM],Object.getOwnPropertyDescriptor(JM.prototype,`setVolume`),JM.prototype),oL(JM.prototype,`setAmplifiedVolume`,[HM],Object.getOwnPropertyDescriptor(JM.prototype,`setAmplifiedVolume`),JM.prototype),oL(JM.prototype,`setPlaybackDevice`,[KM],Object.getOwnPropertyDescriptor(JM.prototype,`setPlaybackDevice`),JM.prototype),oL(JM.prototype,`play`,[YM],Object.getOwnPropertyDescriptor(JM.prototype,`play`),JM.prototype),oL(JM.prototype,`stop`,[zM],Object.getOwnPropertyDescriptor(JM.prototype,`stop`),JM.prototype),oL(JM.prototype,`pipe`,[qM],Object.getOwnPropertyDescriptor(JM.prototype,`pipe`),JM.prototype),oL(JM.prototype,`unpipe`,[XM],Object.getOwnPropertyDescriptor(JM.prototype,`unpipe`),JM.prototype),JM),eU=new class extends NO{get visibility(){return document.visibilityState}get lastHiddenTime(){return this._lastHiddenTime}get lastVisibleTime(){return this._lastVisibleTime}constructor(){super(),sL(this,`_lastHiddenTime`,0),sL(this,`_lastVisibleTime`,0),sL(this,`needUploadStats`,[]),sL(this,`isCollectingStats`,!1),document.addEventListener(`visibilitychange`,(()=>{document.visibilityState===`hidden`?this._lastHiddenTime=performance.now():this._lastVisibleTime=performance.now(),this.isCollectingStats&&this.needUploadStats.push(document.visibilityState===`visible`?1:0),iP.debug(`current web page is ${document.visibilityState}`),this.emit(`VISIBILITY_CHANGE`,document.visibilityState)}))}startCollectStats(){this.isCollectingStats=!0,this.needUploadStats.push(this.visibility===`visible`?1:0)}stopCollectStats(){this.isCollectingStats=!1,this.needUploadStats.length=0}};class tU extends NO{constructor(e$1,t$1){super(),sL(this,`trackMediaType`,HP.DATA),sL(this,`_version`,1),sL(this,`_type`,3),sL(this,`_config`,void 0),sL(this,`_originDataChannel`,void 0),sL(this,`_dataStreamPacketHeader`,new ArrayBuffer(4)),sL(this,`_dataStreamPacketHandler`,{serialize:e$2=>e$2,deserialize:e$2=>e$2}),sL(this,`_datachannelEventMap`,new Map),this._config=e$1,t$1&&(this._originDataChannel=t$1,this._bandDataChannelEvents(t$1)),this._initPacketHeader()}useDataStream(e$1){this._dataStreamPacketHandler=e$1}get id(){return this._config.id}get ordered(){return this._config.ordered}get maxRetransmits(){return CD(`DATASTREAM_MAX_RETRANSMITS`)}get metadata(){return this._config.metadata}get readyState(){var e$1,t$1;return this._originDataChannel?.readyState??`connecting`}get _originDataChannelId(){var e$1,t$1;return this._originDataChannel?.id??null}getChannelId(){return this.id}getConfig(){return this._config}_close(){this._originDataChannel&&=(this._unbindDataChannelEvents(this._originDataChannel),void 0)}async _waitTillOpen(){return new rp(((e$1,t$1)=>{if(this._originDataChannel){this._originDataChannel.readyState===`open`&&e$1();let i$1=setTimeout((()=>{var e$2;t$1(new pO(hO.DATACHANNEL_CONNECTION_TIMEOUT,`Cannot create datachannel, id: ${this._originDataChannel?.id}`))}),1e4);this._originDataChannel.onopen=()=>{clearTimeout(i$1),this._originDataChannel&&this._bandDataChannelEvents(this._originDataChannel),e$1()},this._originDataChannel.onerror=()=>{throw clearTimeout(i$1),new pO(hO.DATACHANNEL_CONNECTION_TIMEOUT)}}else t$1(new pO(hO.DATACHANNEL_CONNECTION_TIMEOUT,`cannot find dataChannel`))}))}_updateOriginDataChannel(e$1){this._originDataChannel=e$1,this._bandDataChannelEvents(e$1)}_initPacketHeader(){let e$1=new DataView(this._dataStreamPacketHeader);e$1.setUint16(0,this._version),e$1.setUint8(2,this._type),e$1.setUint8(3,this._config.id)}_bandDataChannelEvents(e$1){this._unbindDataChannelEvents(e$1),[rL.OPEN,rL.CLOSE,rL.ERROR].forEach((t$1=>{let i$1=()=>{this.emit(t$1)};this._datachannelEventMap.set(t$1,i$1),e$1.addEventListener(t$1,i$1)}))}_unbindDataChannelEvents(e$1){Array.from(this._datachannelEventMap.entries()).forEach((t$1=>{let[i$1,n$1]=t$1;e$1.removeEventListener(i$1,n$1)})),this._datachannelEventMap.clear()}}class iU extends tU{constructor(e$1){super(e$1),sL(this,`_messageListener`,void 0),this._messageListener=e$2=>{if(e$2.data.byteLength<this._dataStreamPacketHeader.byteLength)throw Error(`invalid byteLength: the byte length must exceed `+this._dataStreamPacketHeader.byteLength);let t$1=e$2.data.slice(0,this._dataStreamPacketHeader.byteLength),i$1=new DataView(t$1).getUint8(3);if(i$1!==this.id)return void(CD(`SHOW_DATASTREAM2_LOG`)&&iP.debug(`invalid datachannel id: ${i$1} !== ${this.id}`));let n$1=e$2.data.slice(this._dataStreamPacketHeader.byteLength);n$1=this._dataStreamPacketHandler.deserialize(n$1),this.emit(rL.MESSAGE,n$1)}}_updateOriginDataChannel(e$1){super._updateOriginDataChannel(e$1),this._bandRemoteDataChannelEvents()}_close(){this._originDataChannel&&(this._originDataChannel.removeEventListener(`message`,this._messageListener),super._close())}_bandRemoteDataChannelEvents(){this._originDataChannel&&this._originDataChannel.addEventListener(`message`,this._messageListener)}}class nU extends tU{send(e$1){if(this._originDataChannel){let t$1=e$1;t$1=this._dataStreamPacketHandler.serialize(e$1);let i$1=new Uint8Array(this._dataStreamPacketHeader.byteLength+t$1.byteLength);i$1.set(new Uint8Array(this._dataStreamPacketHeader),0),i$1.set(new Uint8Array(t$1),this._dataStreamPacketHeader.byteLength),this._originDataChannel.send(i$1.buffer)}}}function rU(){let e$1=new Blob([atob(`Y29uc3QgdD0idmlkZW8vaDI2NCIsZT0idmlkZW8vaDI2NSI7ZnVuY3Rpb24gbih0LGUsbil7bGV0IGE9bmV3IFVpbnQ4QXJyYXkodCxlLG4pLHI9W10sbz0wO2Zvcig7ci5sZW5ndGg8bjspbyszPG4mJjA9PT1hW29dJiYwPT09YVtvKzFdJiYzPT09YVtvKzJdJiYoMD09PWFbbyszXXx8MT09PWFbbyszXXx8Mj09PWFbbyszXXx8Mz09PWFbbyszXSk/KHIucHVzaChhW29dLGFbbysxXSxhW28rM10pLG8rPTQpOihyLnB1c2goYVtvXSksbysrKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkocil9ZnVuY3Rpb24gYShhLHIpe3N3aXRjaChyKXtjYXNlIHQ6cmV0dXJuIGZ1bmN0aW9uKHQpe2NvbnN0IGU9bmV3IERhdGFWaWV3KHQuZGF0YSk7bGV0IGE9MDtmb3IoO2ErNDx0LmRhdGEuYnl0ZUxlbmd0aDspe2lmKDA9PT1lLmdldFVpbnQ4KGErMCkmJjA9PT1lLmdldFVpbnQ4KGErMSkmJjA9PT1lLmdldFVpbnQ4KGErMikmJjE9PT1lLmdldFVpbnQ4KGErMykmJjY9PT1lLmdldFVpbnQ4KGErNCkpe2xldCByPWErNixvPTAsaT0wO2Zvcig7MjU1PT09KGk9ZS5nZXRVaW50OChyKyspKTspbys9MjU1O28rPWk7Y29uc3Qgcz1uKHQuZGF0YSxyLG8pO3JldHVybiBuZXcgVWludDhBcnJheShzKX1hKyt9cmV0dXJuIG51bGx9KGEpO2Nhc2UgZTpyZXR1cm4gZnVuY3Rpb24odCl7Y29uc3QgZT1uZXcgRGF0YVZpZXcodC5kYXRhKTtsZXQgYT0wO2Zvcig7YSs1PHQuZGF0YS5ieXRlTGVuZ3RoOyl7aWYoMD09PWUuZ2V0VWludDgoYSswKSYmMD09PWUuZ2V0VWludDgoYSsxKSYmMD09PWUuZ2V0VWludDgoYSsyKSYmMT09PWUuZ2V0VWludDgoYSszKSYmNzg9PT1lLmdldFVpbnQ4KGErNCkmJjE9PT1lLmdldFVpbnQ4KGErNSkmJjEwMT09PWUuZ2V0VWludDgoYSs2KSl7bGV0IHI9YSs3LG89MCxpPTA7Zm9yKDsyNTU9PT0oaT1lLmdldFVpbnQ4KHIrKykpOylvKz0yNTU7bys9aTtjb25zdCBzPW4odC5kYXRhLHIsbyk7cmV0dXJuIG5ldyBVaW50OEFycmF5KHMpfWErK31yZXR1cm4gbnVsbH0oYSk7ZGVmYXVsdDpyZXR1cm4gbnVsbH19ZnVuY3Rpb24gcih0KXtjb25zdCBlPXQubGVuZ3RoO2xldCBuPVtdLGE9MDtmb3IoO2E8ZTspYSsyPGUmJjA9PT10W2FdJiYwPT09dFthKzFdJiYoMD09PXRbYSsyXXx8MT09PXRbYSsyXXx8Mj09PXRbYSsyXXx8Mz09PXRbYSsyXSk/KG4ucHVzaCh0W2FdLHRbYSsxXSwzLHRbYSsyXSksYSs9Myk6KG4ucHVzaCh0W2FdKSxhKyspO3JldHVybiBuZXcgVWludDhBcnJheShuKX1mdW5jdGlvbiBvKG4sYSxvKXtzd2l0Y2gobyl7Y2FzZSB0OnJldHVybiBmdW5jdGlvbih0LGUpe2NvbnN0IG49cihlKSxhPW4ubGVuZ3RoLG89TWF0aC5mbG9vcihhLzI1NSksaT1hJTI1NSxzPW5ldyBVaW50OEFycmF5KDYrbysxK2ErdC5ieXRlTGVuZ3RoKTtzWzBdPTAsc1sxXT0wLHNbMl09MCxzWzNdPTEsc1s0XT02LHNbNV09MTAxO2xldCBmPTA7Zm9yKDtmPG87KXNbNitmXT0yNTUsZisrO3JldHVybiBzWzYrZl09aSxmKysscy5zZXQobiw2K2YpLHMuc2V0KG5ldyBVaW50OEFycmF5KHQpLDYrZithKSxzLmJ1ZmZlcn0obixhKTtjYXNlIGU6cmV0dXJuIGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1yKGUpLGE9bi5sZW5ndGgsbz1NYXRoLmZsb29yKGEvMjU1KSxpPWElMjU1LHM9bmV3IFVpbnQ4QXJyYXkoNytvKzErYSsxK3QuYnl0ZUxlbmd0aCk7c1swXT0wLHNbMV09MCxzWzJdPTAsc1szXT0xLHNbNF09Nzgsc1s1XT0xLHNbNl09MTAxO2xldCBmPTA7Zm9yKDtmPG87KXNbNytmXT0yNTUsZisrO3JldHVybiBzWzcrZl09aSxmKysscy5zZXQobiw3K2YpLGYrPWEsc1s3K2ZdPTEyOCxmKysscy5zZXQobmV3IFVpbnQ4QXJyYXkodCksNytmKSxzLmJ1ZmZlcn0obixhKTtkZWZhdWx0OnJldHVybiBudWxsfX1mdW5jdGlvbiBpKG4pe2lmKG4ubGVuZ3RoPDUpcmV0dXJuIiI7bGV0IGE9LTE7Zm9yKGxldCB0PTA7dDxuLmxlbmd0aC0zO3QrKyl7aWYoMD09PW5bdF0mJjA9PT1uW3QrMV0mJjE9PT1uW3QrMl0pe2E9dDticmVha31pZih0PG4ubGVuZ3RoLTQmJjA9PT1uW3RdJiYwPT09blt0KzFdJiYwPT09blt0KzJdJiYxPT09blt0KzNdKXthPXQ7YnJlYWt9fWlmKC0xPT09YSlyZXR1cm4iIjtjb25zdCByPWErKDA9PT1uW2ErMl0/NDozKTtpZihyPj1uLmxlbmd0aClyZXR1cm4iIjtjb25zdCBvPW5bcl07aWYoMTI4Jm8pcmV0dXJuIiI7aWYoKG8+PjEmNjMpPj0zMilyZXR1cm4gZTtpZihyKzE8bi5sZW5ndGgpe2lmKDA9PSgyNDgmbltyKzFdKSlyZXR1cm4gZX1yZXR1cm4oMzEmbyk8PTMxP3Q6IiJ9Y29uc3Qgcz03MSxmPTEsbD0yLHU9MSxnPTI7dmFyIGM7ZnVuY3Rpb24gZCh0LGU9ITEpe2NvbnN0IG49dC5nZXRVaW50OCgwKTtpZihuIT09cylyZXR1cm47Y29uc3QgYT10LmdldFVpbnQxNigxKSxyPWYrbCthLG89bmV3IFVpbnQ4QXJyYXkodC5ieXRlTGVuZ3RoLXIpO28uc2V0KG5ldyBVaW50OEFycmF5KHQuYnVmZmVyLHIsdC5ieXRlTGVuZ3RoLXIpKTtjb25zdCBpPXttOm4sdGx2TGVuOmEsdGx2OltdLGZyYW1lOm99O2xldCBkPWYrbDtmb3IoO2Q8cjspe2NvbnN0IG49dC5nZXRVaW50OChkKSxhPXQuZ2V0VWludDE2KGQrdSkscj11K2c7aWYobj09PWMuQVVESU9fTEVWRUwpe2xldCBvPXQuZ2V0VWludDgoZCtyKTtmb3IobGV0IGU9MTtlPGE7ZSsrKW89bzw8OHx0LmdldFVpbnQ4KGQrcitlKTtpLnRsdi5wdXNoKHt0YWc6bixsZW5ndGg6YSx2YWx1ZTplPzEyN15vPj4xOjEyNyZvfSl9ZWxzZSBpZihuPT09Yy5NRVRBREFUQXx8bj09PWMuQVVESU9fNjRfQklUX1BUUyl7Y29uc3QgZT1uZXcgVWludDhBcnJheShhKTtmb3IobGV0IG49MDtuPGE7bisrKWVbbl09dC5nZXRVaW50OChkK3Irbik7aS50bHYucHVzaCh7dGFnOm4sbGVuZ3RoOmEsdmFsdWU6ZX0pfWQrPXIrYX1yZXR1cm4gaX0hZnVuY3Rpb24odCl7dFt0LkFVRElPX0xFVkVMPTFdPSJBVURJT19MRVZFTCIsdFt0Lk1FVEFEQVRBPTJdPSJNRVRBREFUQSIsdFt0LkFVRElPXzY0X0JJVF9QVFM9M109IkFVRElPXzY0X0JJVF9QVFMifShjfHwoYz17fSkpLHNlbGYub25ydGN0cmFuc2Zvcm09dD0+e2NvbnN0IGU9dC50cmFuc2Zvcm1lcixuPVtdLHI9W107bGV0IGg9bnVsbDtlLm9wdGlvbnMucG9ydC5vbm1lc3NhZ2U9dD0+e3QuZGF0YS5zZWkmJm4ucHVzaCh0LmRhdGEuc2VpKSx0LmRhdGEubWV0YWRhdGEmJnIucHVzaCh0LmRhdGEubWV0YWRhdGEpfSxzZWxmLnBvc3RNZXNzYWdlKCJzdGFydGVkIik7Y29uc3QgcD1lLnJlYWRhYmxlLmdldFJlYWRlcigpLFU9ZS53cml0YWJsZS5nZXRXcml0ZXIoKTsic2VpLXJ4Ij09PWUub3B0aW9ucy5uYW1lP2Z1bmN0aW9uIHQoZSl7cC5yZWFkKCkudGhlbigobj0+e2lmKCFuLmRvbmUpe2lmKG4udmFsdWUgaW5zdGFuY2VvZiBSVENFbmNvZGVkVmlkZW9GcmFtZSl7Y29uc3QgdD1pKG5ldyBVaW50OEFycmF5KG4udmFsdWUuZGF0YSkpLHI9YShuLnZhbHVlLHQpO2lmKHImJmUub3B0aW9ucy5wb3J0LnBvc3RNZXNzYWdlKHtzZWk6cn0pLCFoKXtjb25zdCB0PW4udmFsdWUuZ2V0TWV0YWRhdGEoKXx8e307aD17dHlwZTpuLnZhbHVlLnR5cGUscnRwVGltZXN0YW1wOm4udmFsdWUudGltZXN0YW1wLHBheWxvYWRUeXBlOnQucGF5bG9hZFR5cGV8fDAsc3NyYzp0LnN5bmNocm9uaXphdGlvblNvdXJjZXx8MCxsZW5ndGg6bi52YWx1ZS5kYXRhLmJ5dGVMZW5ndGgsLi4uIm1pbWVUeXBlImluIHQ/e21pbWVUeXBlOnQubWltZVR5cGV9Ont9fSxlLm9wdGlvbnMucG9ydC5wb3N0TWVzc2FnZSh7Zmlyc3RGcmFtZUluZm86aH0pfX1VLndyaXRlKG4udmFsdWUpLGUub3B0aW9ucy5wb3J0LnBvc3RNZXNzYWdlKHt0cmFuc2Zvcm1lZDohMH0pLHQoZSl9fSkpfShlKToic2VpLXR4Ij09PWUub3B0aW9ucy5uYW1lP2Z1bmN0aW9uIHQoZSl7cC5yZWFkKCkudGhlbigoYT0+e2lmKCFhLmRvbmUpe2lmKGEudmFsdWUgaW5zdGFuY2VvZiBSVENFbmNvZGVkVmlkZW9GcmFtZSl7Y29uc3QgdD1pKG5ldyBVaW50OEFycmF5KGEudmFsdWUuZGF0YSkpLGU9bi5zaGlmdCgpO2lmKGUpe2NvbnN0IG49byhhLnZhbHVlLmRhdGEsZSx0KTtuJiYoYS52YWx1ZS5kYXRhPW4pfX1VLndyaXRlKGEudmFsdWUpLGUub3B0aW9ucy5wb3J0LnBvc3RNZXNzYWdlKHt0cmFuc2Zvcm1lZDohMH0pLHQoZSl9fSkpfShlKToiYXVkaW8tbWV0YWRhdGEtcngiPT09ZS5vcHRpb25zLm5hbWU/ZnVuY3Rpb24gdChlKXtwLnJlYWQoKS50aGVuKChuPT57aWYoIW4uZG9uZSl7aWYobi52YWx1ZSBpbnN0YW5jZW9mIFJUQ0VuY29kZWRBdWRpb0ZyYW1lKXtjb25zdCB0PW5ldyBEYXRhVmlldyhuLnZhbHVlLmRhdGEpLGE9dC5nZXRVaW50OCgwKTtsZXQgcjtpZigwIT0oMTI4JmEpJiY3MSE9PWEpe2NvbnN0IGU9ZnVuY3Rpb24odCl7aWYodC5ieXRlTGVuZ3RoPD0wKXJldHVybltdO2NvbnN0IGU9W107bGV0IG49MDtmb3IoO248dC5ieXRlTGVuZ3RoOyl7Y29uc3QgYT0oMTI4JnQuZ2V0VWludDgobikpPj43LHI9MTI3JnQuZ2V0VWludDgobik7aWYoIShhJiZuKzQ8PXQuYnl0ZUxlbmd0aCkpe24rKzticmVha317Y29uc3QgYT10LmdldFVpbnQzMihuLCExKSxvPSgxNjc3NjE5MiZhKT4+MTAsaT0xMDIzJmE7ZS5wdXNoKHtwdDpyLHRzX29mZnNldDpvLGxlbmd0aDppLGRhdGE6bmV3IFVpbnQ4QXJyYXl9KSxuKz00fX1sZXQgYT10LmJ5dGVMZW5ndGgtbjtmb3IoY29uc3QgciBvZiBlKXtpZihyLmxlbmd0aD5hKXJldHVybiBjb25zb2xlLndhcm4oIkJyb2tlbiByZWQgcGF5bG9hZCIpLFtdO3IubGVuZ3RoPjAmJihyLmRhdGE9bmV3IFVpbnQ4QXJyYXkodC5idWZmZXIsdC5ieXRlT2Zmc2V0K24sci5sZW5ndGgpLG4rPXIubGVuZ3RoLGEtPXIubGVuZ3RoKX1pZihhPjApe2NvbnN0IHI9e3B0OmUubGVuZ3RoPjA/ZVtlLmxlbmd0aC0xXS5wdDowLHRzX29mZnNldDowLGxlbmd0aDphLGRhdGE6bmV3IFVpbnQ4QXJyYXkodC5idWZmZXIsdC5ieXRlT2Zmc2V0K24sYSl9O2UucHVzaChyKX1yZXR1cm4gZX0odCk7aWYoZS5sZW5ndGg+MCl7Y29uc3QgdD1mdW5jdGlvbih0KXtsZXQgZT0wO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKWUrPW48dC5sZW5ndGgtMT80OjEsZSs9dFtuXS5sZW5ndGg7Y29uc3Qgbj1uZXcgVWludDhBcnJheShlKTtsZXQgYT0wO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKGU8dC5sZW5ndGgtMSl7Y29uc3Qgcj0oMjE0NzQ4MzY0OHwoMTI3JnRbZV0ucHQpPDwyNHwoMjYyMTQzJnRbZV0udHNfb2Zmc2V0KTw8MTB8MTAyMyZ0W2VdLmxlbmd0aCk+Pj4wO25bYSsrXT1yPj4yNCYyNTUsblthKytdPXI+PjE2JjI1NSxuW2ErK109cj4+OCYyNTUsblthKytdPTI1NSZyfWVsc2UgblthKytdPTEyNyZ0W2VdLnB0O2Zvcihjb25zdCBlIG9mIHQpbi5zZXQoZS5kYXRhLGEpLGErPWUubGVuZ3RoO3JldHVybiBufShlLm1hcCgodD0+e2NvbnN0IGU9bmV3IFVpbnQ4QXJyYXkodC5sZW5ndGgpO2Uuc2V0KHQuZGF0YSk7Y29uc3Qgbj1kKG5ldyBEYXRhVmlldyhlLmJ1ZmZlcikpO3JldHVybiBuPy5mcmFtZSYmKHQuZGF0YT1uPy5mcmFtZSkscj1uLHR9KSkpO24udmFsdWUuZGF0YT10LmJ1ZmZlcn19ZWxzZSByPWQodCksciYmKG4udmFsdWUuZGF0YT1yLmZyYW1lLmJ1ZmZlcik7aWYocil7bGV0IHQ9ci50bHYuZmluZCgodD0+dC50YWc9PT1jLk1FVEFEQVRBKSk7aWYodCYmdC52YWx1ZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkmJmUub3B0aW9ucy5wb3J0LnBvc3RNZXNzYWdlKHttZXRhZGF0YTp0LnZhbHVlfSksdD1yLnRsdi5maW5kKCh0PT50LnRhZz09PWMuQVVESU9fNjRfQklUX1BUUykpLHQmJnQudmFsdWUgaW5zdGFuY2VvZiBVaW50OEFycmF5JiY4PT10LnZhbHVlLmxlbmd0aCl7Y29uc3Qgbj1uZXcgRGF0YVZpZXcodC52YWx1ZS5idWZmZXIpLmdldEJpZ1VpbnQ2NCgwLCEwKTt0JiZ0LnZhbHVlIGluc3RhbmNlb2YgVWludDhBcnJheSYmZS5vcHRpb25zLnBvcnQucG9zdE1lc3NhZ2Uoe3B0czpufSl9fX1VLndyaXRlKG4udmFsdWUpLGUub3B0aW9ucy5wb3J0LnBvc3RNZXNzYWdlKHt0cmFuc2Zvcm1lZDohMH0pLHQoZSl9fSkpfShlKToiYXVkaW8tbWV0YWRhdGEtdHgiPT09ZS5vcHRpb25zLm5hbWUmJmZ1bmN0aW9uIHQoZSl7cC5yZWFkKCkudGhlbigobj0+e2lmKCFuLmRvbmUpe2lmKGUub3B0aW9ucy5wb3J0LnBvc3RNZXNzYWdlKHtnZXRNZXRhZGF0YTohMH0pLG4udmFsdWUgaW5zdGFuY2VvZiBSVENFbmNvZGVkQXVkaW9GcmFtZSl7Y29uc3QgdD1yLnNoaWZ0KCk7dCYmKG4udmFsdWUuZGF0YT1mdW5jdGlvbih0LGUsbil7Y29uc3QgYT1uLmJ5dGVMZW5ndGgscj1hK3UrZyxvPWYrbCtyLGk9bmV3IEFycmF5QnVmZmVyKHQuYnl0ZUxlbmd0aCtvKSxjPW5ldyBEYXRhVmlldyhpKTtjLnNldFVpbnQ4KDAscyksYy5zZXRVaW50MTYoMSxyKSxjLnNldFVpbnQ4KDMsZSksYy5zZXRVaW50MTYoNCxhKTtmb3IobGV0IHQ9MDt0PGE7dCsrKWMuc2V0VWludDgoNit0LG5bdF0pO2NvbnN0IGQ9bmV3IFVpbnQ4QXJyYXkoYy5idWZmZXIpO3JldHVybiBkLnNldChuZXcgVWludDhBcnJheSh0KSxvKSxkLmJ1ZmZlcn0obi52YWx1ZS5kYXRhLGMuQVVESU9fNjRfQklUX1BUUyx0KSl9VS53cml0ZShuLnZhbHVlKSxlLm9wdGlvbnMucG9ydC5wb3N0TWVzc2FnZSh7dHJhbnNmb3JtZWQ6ITB9KSx0KGUpfX0pKX0oZSl9LHNlbGYucG9zdE1lc3NhZ2UoInJlZ2lzdGVyZWQiKTsK`)],{type:`text/javascript`});return setTimeout((()=>vS.revokeObjectURL(e$1)),0),new Worker(vS.createObjectURL(e$1))}let oU=71,sU=1,aU=2,cU=1,dU=2;var lU=function(e$1){return e$1[e$1.AUDIO_LEVEL=1]=`AUDIO_LEVEL`,e$1[e$1.METADATA=2]=`METADATA`,e$1[e$1.AUDIO_64_BIT_PTS=3]=`AUDIO_64_BIT_PTS`,e$1}(lU||{});function uU(e$1){let t$1=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i$1=e$1.getUint8(0);if(i$1!==71)return;let n$1=e$1.getUint16(1),r$1=3+n$1,o$1=new Uint8Array(e$1.byteLength-r$1);o$1.set(new Uint8Array(e$1.buffer,r$1,e$1.byteLength-r$1));let s$1={m:i$1,tlvLen:n$1,tlv:[],frame:o$1},a$1=3;for(;a$1<r$1;){let i$2=e$1.getUint8(a$1),n$2=e$1.getUint16(a$1+1),r$2=3;if(i$2===lU.AUDIO_LEVEL){let o$2=e$1.getUint8(a$1+3);for(let t$2=1;t$2<n$2;t$2++)o$2=o$2<<8|e$1.getUint8(a$1+3+t$2);s$1.tlv.push({tag:i$2,length:n$2,value:t$1?127^o$2>>1:127&o$2})}else if(i$2===lU.METADATA||i$2===lU.AUDIO_64_BIT_PTS){let t$2=new Uint8Array(n$2);for(let i$3=0;i$3<n$2;i$3++)t$2[i$3]=e$1.getUint8(a$1+3+i$3);s$1.tlv.push({tag:i$2,length:n$2,value:t$2})}a$1+=3+n$2}return s$1}let hU=new Map,pU=127,_U=1e-10,EU=139/13,mU=new Map;function fU(e$1,t$1,i$1){let n$1=`${e$1}-${t$1}-${i$1}`,r$1=0;if(mU.has(n$1))r$1=mU.get(n$1);else{let o$1=.5;r$1=Math.log(function(e$2,t$2){let i$2=e$2-t$2;t$2<i$2&&(t$2=i$2);let n$2=1;for(let i$3=e$2,r$2=1;i$3>t$2;i$3--,r$2++)n$2=n$2*i$3/r$2;return n$2}(t$1,e$1))+e$1*Math.log(o$1)+(t$1-e$1)*Math.log(1-o$1)-Math.log(i$1)+i$1*e$1,mU.set(n$1,r$1)}return r$1<_U&&(r$1=_U),r$1}function SU(e$1,t$1,i$1){let n$1=t$1.length,r$1=e$1.length/n$1,o$1=!1;for(let s$1=0,a$1=0;s$1<n$1;s$1++){let n$2=0;for(let t$2=a$1+r$1;a$1<t$2;a$1++)e$1[a$1]>i$1&&n$2++;t$1[s$1]!==n$2&&(t$1[s$1]=n$2,o$1=!0)}return o$1}window.cache=mU;let gU=0;class TU{constructor(e$1){sL(this,`id`,void 0),sL(this,`immediates`,[]),sL(this,`lastNonSilence`,-1),sL(this,`immediateSpeechActivityScore`,_U),sL(this,`lastLevelChangedTime`,Date.now()),sL(this,`levels`,[]),sL(this,`longs`,[]),sL(this,`longSpeechActivityScore`,_U),sL(this,`mediums`,[]),sL(this,`mediumSpeechActivityScore`,_U),sL(this,`minLevel`,0),sL(this,`nextMinLevel`,0),sL(this,`nextMinLevelWindowLength`,0),sL(this,`energyScore`,0),this.id=e$1||`${gU++}`,this.immediates.length=50,this.mediums.length=10,this.longs.length=1,this.levels.length=this.immediates.length}computeImmediates(){let e$1=this.immediates,t$1=this.levels,i$1=this.minLevel+EU,n$1=!1;for(let r$1=0;r$1<e$1.length;++r$1){let o$1=t$1[r$1];o$1<i$1&&(o$1=0);let s$1=Math.floor(o$1/EU);e$1[r$1]!==s$1&&(e$1[r$1]=s$1,n$1=!0)}return n$1}computeLongs(){return SU(this.mediums,this.longs,4)}computeMediums(){return SU(this.immediates,this.mediums,7)}evaluateImmediateSpeechActivityScore(){this.immediateSpeechActivityScore=fU(this.immediates[0],13,.78)}evaluateLongSpeechActivityScore(e$1){this.longSpeechActivityScore=fU(this.longs[0],10,47),this.longSpeechActivityScore>_U&&(this.lastNonSilence=e$1)}evaluateMediumSpeechActivityScore(){this.mediumSpeechActivityScore=fU(this.mediums[0],5,24)}evaluateSpeechActivityScores(e$1){this.computeImmediates()&&(this.evaluateImmediateSpeechActivityScore(),this.computeMediums()&&(this.evaluateMediumSpeechActivityScore(),this.computeLongs()&&this.evaluateLongSpeechActivityScore(e$1)))}getLastLevelChangedTime(){return this.lastLevelChangedTime}getLevels(){var e$1;return`[${mr(e$1=[...this.levels]).call(e$1).join()}]`}getSpeechActivityScore(e$1){switch(e$1){case 0:return this.immediateSpeechActivityScore;case 1:return this.mediumSpeechActivityScore;case 2:return this.longSpeechActivityScore;default:throw Error(`interval `+e$1)}}levelChanged(e$1,t$1){if(this.lastLevelChangedTime<=t$1){this.lastLevelChangedTime=t$1;let i$1=e$1;return e$1<0&&(i$1=0),e$1>127&&(i$1=127),this.levels.unshift(i$1),this.levels.length>this.immediates.length&&this.levels.pop(),this.updateMinLevel(i$1),i$1>=this.minLevel+EU?i$1:i$1/2}return-1}levelTimedOut(){this.levelChanged(0,this.lastLevelChangedTime)}updateMinLevel(e$1){if(e$1!==0){if(this.minLevel===0||this.minLevel>e$1)return this.minLevel=e$1,this.nextMinLevel=0,void(this.nextMinLevelWindowLength=0);if(this.nextMinLevel===0)return this.nextMinLevel=e$1,void(this.nextMinLevelWindowLength=1);if(this.nextMinLevel>e$1&&(this.nextMinLevel=e$1),this.nextMinLevelWindowLength++,this.nextMinLevelWindowLength>=750){let e$2=Math.sqrt(this.minLevel*this.nextMinLevel);e$2<0?e$2=0:e$2>127&&(e$2=127),this.minLevel=e$2,this.nextMinLevel=0,this.nextMinLevelWindowLength=0}}}}class RU{constructor(e$1){sL(this,`algorithm`,void 0),this.algorithm=e$1}execute(){let e$1=!this.algorithm;if(!e$1)try{let t$1=this.algorithm.runInDecisionMaker(this);t$1<=0?e$1=!0:setTimeout(this.execute.bind(this),t$1)}catch{e$1=!0}e$1&&this.algorithm&&this.algorithm.decisionMakerExited(this)}}class CU{constructor(e$1,t$1,i$1){sL(this,`isDominant`,void 0),sL(this,`energyRanking`,void 0),sL(this,`energyScore`,void 0),this.isDominant=e$1,this.energyRanking=t$1,this.energyScore=i$1}}class vU extends NO{constructor(e$1){super(),sL(this,`dominantId`,null),sL(this,`lastDecisionTime`,0),sL(this,`lastLevelChangedTime`,0),sL(this,`lastLevelIdleTime`,0),sL(this,`relativeSpeechActivities`,[]),sL(this,`speakers`,new Map),sL(this,`enableSilence`,!1),sL(this,`timeoutToSilenceInterval`,0),sL(this,`decisionMaker`,null),sL(this,`loudest`,[]),sL(this,`numLoudestToTrack`,3),sL(this,`energyExpireTimeMs`,250),sL(this,`energyAlphaPct`,50),this.timeoutToSilenceInterval=e$1,this.enableSilence=e$1>0,this.relativeSpeechActivities.length=3}setLoudestConfig(){let e$1=arguments.length>0&&arguments[0]!==void 0?arguments[0]:3,t$1=arguments.length>1?arguments[1]:void 0,i$1=arguments.length>2?arguments[2]:void 0;this.numLoudestToTrack=e$1,t$1!=null&&(this.energyExpireTimeMs=t$1),i$1!=null&&(this.energyAlphaPct=i$1),this.loudest.length>e$1&&this.loudest.splice(e$1)}getDominantSpeaker(){return this.dominantId}isAmongLoudest(e$1){return this.loudest.some((t$1=>t$1.id===e$1))}levelChanged(e$1,t$1){let i$1=Date.now(),n$1=this.getOrCreateSpeaker(e$1);this.lastLevelChangedTime<i$1&&(this.lastLevelChangedTime=i$1,this.maybeStartDecisionMaker());let r$1=n$1.levelChanged(t$1,i$1);return this.updateLoudestList(n$1,r$1,i$1)}runInDecisionMaker(e$1){return this.decisionMaker!==e$1||this.lastDecisionTime>0&&this.lastDecisionTime-this.lastLevelChangedTime>=15e3?-1:this._runInDecisionMaker()}decisionMakerExited(e$1){this.decisionMaker===e$1&&(this.decisionMaker=null)}destroy(){this.decisionMaker=null,this.loudest.length=0,this.speakers.clear(),this.removeAllListeners()}addSpeakers(e$1){e$1.forEach((e$2=>{this.speakers.has(e$2.id)||this.speakers.set(e$2.id,e$2)}))}removeSpeakers(e$1){e$1.forEach((e$2=>{this.speakers.delete(e$2.id)}))}getOrCreateSpeaker(e$1){let t$1=this.speakers.get(e$1);return t$1||(t$1=new TU(e$1),this.speakers.set(e$1,t$1),this.maybeStartDecisionMaker()),t$1}updateLoudestList(e$1,t$1,i$1){let n$1=e$1.id===this.dominantId;if(t$1<0){let t$2=0;for(;t$2<this.loudest.length&&this.loudest[t$2]!==e$1;)++t$2;return new CU(n$1,t$2,e$1.energyScore)}if(e$1.energyScore=Math.floor((this.energyAlphaPct*t$1+(100-this.energyAlphaPct)*e$1.energyScore+50)/100),this.numLoudestToTrack===0)return new CU(n$1,0,e$1.energyScore);let r$1=i$1-this.energyExpireTimeMs,o$1=0;for(;o$1<this.loudest.length;){let t$2=this.loudest[o$1];if(t$2.getLastLevelChangedTime()<r$1&&this.loudest.length>=this.numLoudestToTrack)this.loudest.splice(o$1,1);else if(t$2.id!==e$1.id)++o$1;else if(this.loudest.splice(o$1,1),this.loudest.length<this.numLoudestToTrack)break}let s$1=0;for(;s$1<this.loudest.length&&!(this.loudest[s$1].energyScore<e$1.energyScore);)++s$1;return s$1<this.numLoudestToTrack&&(this.loudest.splice(s$1,0,e$1),this.loudest.length>this.numLoudestToTrack&&this.loudest.splice(this.numLoudestToTrack,1)),new CU(n$1,s$1,e$1.energyScore)}maybeStartDecisionMaker(){!this.decisionMaker&&this.speakers.size>0&&(this.decisionMaker=new RU(this),this.decisionMaker.execute())}makeDecision(e$1){let t$1=null,i$1=null,n$1=this.speakers.size,r$1=null;if(n$1===0)r$1=null;else if(n$1===1){var o$1;let t$2=pp(o$1=this.speakers).call(o$1).next().value;this.enableSilence&&t$2&&(r$1=t$2.id,t$2.evaluateSpeechActivityScores(e$1),e$1-t$2.lastNonSilence>this.timeoutToSilenceInterval&&(r$1=null))}else{let t$2=this.dominantId==null?null:this.speakers.get(this.dominantId);if(t$2==null){let e$2=this.speakers.entries().next();e$2.value&&(r$1=e$2.value[0],t$2=e$2.value[1])}else r$1=t$2.id;t$2?.evaluateSpeechActivityScores(e$1);let i$2=this.relativeSpeechActivities,n$2=2;for(let o$2 of this.speakers.entries()){let[s$1,a$1]=o$2;if(a$1===t$2)continue;a$1.evaluateSpeechActivityScores(e$1);for(let e$2=0;e$2<i$2.length;++e$2){let n$3=t$2==null?_U:t$2.getSpeechActivityScore(e$2);i$2[e$2]=Math.log(a$1.getSpeechActivityScore(e$2)/n$3)}let c$1=i$2[0],d$1=i$2[1],l$1=i$2[2];c$1>3&&d$1>2&&l$1>0&&d$1>n$2&&(n$2=d$1,r$1=s$1)}this.enableSilence&&t$2!=null&&r$1===t$2.id&&e$1-t$2.lastNonSilence>this.timeoutToSilenceInterval&&(r$1=null)}r$1==null&&!this.enableSilence||r$1===this.dominantId||(t$1=this.dominantId,this.dominantId=r$1,i$1=this.dominantId),i$1==null&&!this.enableSilence||i$1===t$1||this.emit(`ActiveSpeakerChanged`,i$1)}_runInDecisionMaker(){let e$1=Date.now(),t$1=300-(e$1-this.lastLevelIdleTime),i$1=0;t$1<=0?(this.lastLevelIdleTime!==0&&this.timeoutIdleLevels(e$1),this.lastLevelIdleTime=e$1):i$1=t$1;let n$1=300-(e$1-this.lastDecisionTime);return n$1<=0&&(this.lastDecisionTime=e$1,this.makeDecision(e$1),n$1=300-(Date.now()-e$1)),n$1>0&&i$1>n$1&&(i$1=n$1),i$1}timeoutIdleLevels(e$1){let t$1=[];for(let n$1 of pp(i$1=this.speakers).call(i$1)){var i$1;let r$1=e$1-n$1.getLastLevelChangedTime();36e5<r$1&&(this.dominantId==null||n$1.id!==this.dominantId)?t$1.push(n$1.id):300<r$1&&n$1.levelTimedOut()}t$1.forEach((e$2=>this.speakers.delete(e$2)))}}let yU=new Map,IU=null,AU=null,bU=3,wU=[],OU=new Map,NU=new Map;class DU{get samples(){return this.actives+this.inactives}get activeRate(){return this.actives/this.samples}constructor(e$1,t$1){sL(this,`id`,void 0),sL(this,`track`,void 0),sL(this,`score`,0),sL(this,`active`,!0),sL(this,`muted`,!1),sL(this,`timer`,0),sL(this,`actives`,0),sL(this,`inactives`,0),this.id=e$1,this.track=t$1,this.setActive(OU.size<3)}autoCheckActive(){this.autoSetActive(),this.autoAdjustActive(),this.resetTimer(),this.actives=0,this.inactives=0}autoSetActive(){let e$1=this.active;this.active=this.activeRate>=.8;let{actives:t$1,inactives:i$1}=function(){let e$2=[],t$2=[];return Array.from(pp(OU).call(OU)).forEach((i$2=>{i$2.active?e$2.push(i$2):t$2.push(i$2)})),{actives:e$2,inactives:t$2}}();if(t$1.length>3){let e$2;t$1.forEach((t$2=>{(!e$2||e$2.score>t$2.score)&&(e$2=t$2)})),e$2&&e$2.setActive(!1)}if(t$1.length<3&&i$1.length>0){let t$2;i$1.forEach((e$2=>{(!t$2||t$2.score<e$2.score)&&e$2.id!==this.id&&(t$2=e$2)})),t$2&&e$1&&!this.active&&(t$2.samples>40&&t$2.activeRate-this.activeRate>.4?t$2.setActive(!0):this.active=!0)}this.setMuted(!this.active)}setActive(e$1){this.active=e$1,this.resetTimer(),this.setMuted(!e$1)}autoAdjustActive(){this.active?this.autoSwitchToInactive():this.autoSwitchToActive()}autoSwitchToActive(){let e$1=function(e$2){let t$1;return Array.from(pp(OU).call(OU)).forEach((i$1=>{!i$1.active||i$1.id===e$2||i$1.samples<40||(!t$1||i$1.score<t$1.score)&&(t$1=i$1)})),t$1}(this.id);e$1&&this.activeRate-e$1.activeRate>.4&&(e$1.setActive(!1),this.setActive(!0))}autoSwitchToInactive(){let e$1=function(e$2){let t$1;return Array.from(pp(OU).call(OU)).forEach((i$1=>{i$1.active||i$1.id===e$2||i$1.samples<40||(!t$1||i$1.score>t$1.score)&&(t$1=i$1)})),t$1}(this.id);e$1&&e$1.activeRate-this.activeRate>.4&&(e$1.setActive(!0),this.setActive(!1))}addSample(e$1){e$1?this.actives+=1:this.inactives+=1,this.samples>66.66666666666667&&this.autoCheckActive()}setMuted(e$1){this.track&&(this.track.enabled=!e$1,this.muted=e$1)}resetTimer(){this.clearTimer(),this.timer=window.setTimeout((()=>{if(this.samples!==0)return this.samples<50?this.resetTimer():void this.autoCheckActive()}),1e3)}clearTimer(){this.timer&&=(clearTimeout(this.timer),0)}}let PU;function LU(e$1){let t$1=OU.get(e$1);t$1&&(OU.delete(e$1),t$1.clearTimer())}let kU=new Map,MU=new Map,UU=`video/h264`,VU=`video/h265`;function xU(e$1,t$1,i$1){let n$1=new Uint8Array(e$1,t$1,i$1),r$1=[],o$1=0;for(;r$1.length<i$1;)o$1+3<i$1&&n$1[o$1]===0&&n$1[o$1+1]===0&&n$1[o$1+2]===3&&(n$1[o$1+3]===0||n$1[o$1+3]===1||n$1[o$1+3]===2||n$1[o$1+3]===3)?(r$1.push(n$1[o$1],n$1[o$1+1],n$1[o$1+3]),o$1+=4):(r$1.push(n$1[o$1]),o$1++);return new Uint8Array(r$1)}function FU(e$1){let t$1=e$1.length,i$1=[],n$1=0;for(;n$1<t$1;)n$1+2<t$1&&e$1[n$1]===0&&e$1[n$1+1]===0&&(e$1[n$1+2]===0||e$1[n$1+2]===1||e$1[n$1+2]===2||e$1[n$1+2]===3)?(i$1.push(e$1[n$1],e$1[n$1+1],3,e$1[n$1+2]),n$1+=3):(i$1.push(e$1[n$1]),n$1++);return new Uint8Array(i$1)}function BU(e$1){if(e$1.length<5)return``;let t$1=-1;for(let i$2=0;i$2<e$1.length-3;i$2++){if(e$1[i$2]===0&&e$1[i$2+1]===0&&e$1[i$2+2]===1){t$1=i$2;break}if(i$2<e$1.length-4&&e$1[i$2]===0&&e$1[i$2+1]===0&&e$1[i$2+2]===0&&e$1[i$2+3]===1){t$1=i$2;break}}if(t$1===-1)return``;let i$1=t$1+(e$1[t$1+2]===0?4:3);if(i$1>=e$1.length)return``;let n$1=e$1[i$1];return 128&n$1?``:(n$1>>1&63)>=32||i$1+1<e$1.length&&!(248&e$1[i$1+1])?VU:(31&n$1)<=31?UU:``}let jU=new Map,GU=new Map;(function(){let e$1=Dw();hP.getDisplayMedia=!(!navigator.mediaDevices||!navigator.mediaDevices.getDisplayMedia),hP.getStreamFromExtension=e$1.name===bw.CHROME&&Number(e$1.version)>34,hP.supportUnifiedPlan=function(){if(!window.RTCRtpTransceiver||!(`currentDirection`in RTCRtpTransceiver.prototype))return!1;let e$2=new RTCPeerConnection,t$1=!1;try{e$2.addTransceiver(`audio`),t$1=!0}catch{}return e$2.close(),t$1}(),hP.supportMinBitrate=e$1.name===bw.CHROME||e$1.name===bw.EDGE,hP.supportSetRtpSenderParameters=function(){let e$2=Dw();return!!(window.RTCRtpSender&&window.RTCRtpSender.prototype.setParameters&&window.RTCRtpSender.prototype.getParameters)&&(!!sO()||!(!Vw()&&!Mw())||e$2.name===bw.FIREFOX&&Number(e$2.version)>=64)}(),e$1.name===bw.SAFARI&&(Number(e$1.version)>=14?hP.supportDualStream=!0:hP.supportDualStream=!1),hP.webAudioMediaStreamDest=function(){let e$2=Dw();return!(e$2.name===bw.SAFARI&&Number(e$2.version)<12)}(),hP.supportReplaceTrack=!!window.RTCRtpSender&&typeof RTCRtpSender.prototype.replaceTrack==`function`,hP.supportWebGL=typeof WebGLRenderingContext<`u`,hP.supportRequestFrame=!!window.CanvasCaptureMediaStreamTrack,sO()||(hP.webAudioWithAEC=!0),hP.supportShareAudio=function(){let e$2=Dw();return(e$2.os===Aw.WIN_10||e$2.os===Aw.WIN_81||e$2.os===Aw.WIN_7||e$2.os===Aw.LINUX||e$2.os===Aw.MAC_OS||e$2.os===Aw.CHROMIUM_OS)&&e$2.name===bw.CHROME&&Number(e$2.version)>=74}(),hP.supportDataChannel=!!(Gw(76)||Yw(68)||zw(14)),hP.supportPCSetConfiguration=function(){let e$2=window.RTCPeerConnection;return!Bw()&&!!e$2&&e$2.prototype.setConfiguration instanceof Function}(),hP.supportWebRTCEncodedTransform=Gw(87)||xw()||Yw(117),hP.supportWebRTCInsertableStream=function(){let e$2=Dw();return(e$2.name===bw.CHROME||e$2.name===bw.EDGE)&&Number(e$2.version)>=94&&`MediaStreamTrackGenerator`in window&&`MediaStreamTrackProcessor`in window}(),hP.supportRequestVideoFrameCallback=`requestVideoFrameCallback`in HTMLVideoElement.prototype,hP.supportWebCrypto=typeof window<`u`&&window.crypto!==void 0&&window.crypto.subtle!==void 0,hP.supportSuppressLocalAudioPlayback=gP(),hP.supportRestrictOwnAudio=TP(),oN((()=>{hP.supportDualStreamEncoding=function(){let e$2=Dw();return!!CD(`DISABLE_WEBAUDIO`)||e$2.name===`Safari`&&Number(e$2.version)>=14||!!(e$2.name===`Chrome`&&/Windows/i.test(e$2.os||``)&&Number(e$2.version)>=100&&CD(`CHROME_DUAL_STREAM_USE_ENCODING`))}(),iP.debug(`browser ua: `,navigator.userAgent),iP.info(`browser info: `,e$1),iP.info(`browser compatibility: `,hP)}))})();let WU=[`CHINA`,`GLOBAL`],HU=[[0,1,2,3,4,5,5],[0,2,2,3,4,5,5],[0,3,3,3,4,5,5],[0,4,4,4,4,5,5],[0,5,5,5,5,5,5]],KU=[],YU=[];function zU(e$1,t$1){return!!t$1&&KU.some((i$1=>i$1.uid===e$1&&i$1.channelName===t$1))}function qU(){return YU.length>0}var XU=Sv.forEach,JU=Wn(`forEach`)?[].forEach:function(e$1){return XU(this,e$1,arguments.length>1?arguments[1]:void 0)};Oi({target:`Array`,proto:!0,forced:[].forEach!==JU},{forEach:JU});var QU=Zi(`Array`,`forEach`),ZU=En,$U=$e,eV=l,tV=QU,iV=Array.prototype,nV={DOMTokenList:!0,NodeList:!0},oV=i(function(e$1){var t$1=e$1.forEach;return e$1===iV||eV(iV,e$1)&&t$1===iV.forEach||$U(nV,ZU(e$1))?tV:t$1}),sV=Je,aV=ho;Oi({target:`Object`,stat:!0,forced:n((function(){aV(1)}))},{keys:function(e$1){return aV(sV(e$1))}});var cV=i($.Object.keys),dV=i(ir),lV=i(Er),uV=Oi,hV=or,pV=Qc,_V=Z,EV=xi,mV=Wi,fV=J,SV=qE,gV=pt,TV=sd,RV=PC(`slice`),CV=gV(`species`),vV=Array,yV=Math.max;uV({target:`Array`,proto:!0,forced:!RV},{slice:function(e$1,t$1){var i$1,n$1,r$1,o$1=fV(this),s$1=mV(o$1),a$1=EV(e$1,s$1),c$1=EV(t$1===void 0?s$1:t$1,s$1);if(hV(o$1)&&(i$1=o$1.constructor,(pV(i$1)&&(i$1===vV||hV(i$1.prototype))||_V(i$1)&&(i$1=i$1[CV])===null)&&(i$1=void 0),i$1===vV||i$1===void 0))return TV(o$1,a$1,c$1);for(n$1=new(i$1===void 0?vV:i$1)(yV(c$1-a$1,0)),r$1=0;a$1<c$1;a$1++,r$1++)a$1 in o$1&&SV(n$1,r$1,o$1[a$1]);return n$1.length=r$1,n$1}});var IV=Zi(`Array`,`slice`),AV=l,bV=IV,wV=Array.prototype,NV=i(function(e$1){var t$1=e$1.slice;return e$1===wV||AV(wV,e$1)&&t$1===wV.slice?bV:t$1});function DV(e$1,t$1,i$1,n$1,r$1){var o$1,s$1,a$1,c$1={};return oV(o$1=cV(n$1)).call(o$1,(function(e$2){c$1[e$2]=n$1[e$2]})),c$1.enumerable=!!c$1.enumerable,c$1.configurable=!!c$1.configurable,(`value`in c$1||c$1.initializer)&&(c$1.writable=!0),c$1=dV(s$1=lV(a$1=NV(i$1).call(i$1)).call(a$1)).call(s$1,(function(i$2,n$2){return n$2(e$1,t$1,i$2)||i$2}),c$1),r$1&&c$1.initializer!==void 0&&(c$1.value=c$1.initializer?c$1.initializer.call(r$1):void 0,c$1.initializer=void 0),c$1.initializer===void 0?(TC(e$1,t$1,c$1),null):c$1}let PV=function(e$1){return e$1[e$1.ACCESS_POINT=101]=`ACCESS_POINT`,e$1[e$1.UNILBS=201]=`UNILBS`,e$1[e$1.STRING_UID_ALLOCATOR=901]=`STRING_UID_ALLOCATOR`,e$1}({}),LV=function(e$1){return e$1[e$1.IIIEGAL_APPID=1]=`IIIEGAL_APPID`,e$1[e$1.IIIEGAL_UID=2]=`IIIEGAL_UID`,e$1[e$1.INTERNAL_ERROR=3]=`INTERNAL_ERROR`,e$1}({}),kV=function(e$1){return e$1[e$1.INVALID_VENDOR_KEY=5]=`INVALID_VENDOR_KEY`,e$1[e$1.INVALID_CHANNEL_NAME=7]=`INVALID_CHANNEL_NAME`,e$1[e$1.INTERNAL_ERROR=8]=`INTERNAL_ERROR`,e$1[e$1.NO_AUTHORIZED=9]=`NO_AUTHORIZED`,e$1[e$1.DYNAMIC_KEY_TIMEOUT=10]=`DYNAMIC_KEY_TIMEOUT`,e$1[e$1.NO_ACTIVE_STATUS=11]=`NO_ACTIVE_STATUS`,e$1[e$1.DYNAMIC_KEY_EXPIRED=13]=`DYNAMIC_KEY_EXPIRED`,e$1[e$1.STATIC_USE_DYNAMIC_KEY=14]=`STATIC_USE_DYNAMIC_KEY`,e$1[e$1.DYNAMIC_USE_STATIC_KEY=15]=`DYNAMIC_USE_STATIC_KEY`,e$1[e$1.USER_OVERLOAD=16]=`USER_OVERLOAD`,e$1[e$1.FORBIDDEN_REGION=18]=`FORBIDDEN_REGION`,e$1[e$1.CANNOT_MEET_AREA_DEMAND=19]=`CANNOT_MEET_AREA_DEMAND`,e$1[e$1.REQ_DOWNGRADE_FALLBACK=27]=`REQ_DOWNGRADE_FALLBACK`,e$1}({}),MV=function(e$1){return e$1[e$1.NO_FLAG_SET=100]=`NO_FLAG_SET`,e$1[e$1.FLAG_SET_BUT_EMPTY=101]=`FLAG_SET_BUT_EMPTY`,e$1[e$1.INVALID_FALG_SET=102]=`INVALID_FALG_SET`,e$1[e$1.FLAG_SET_BUT_NO_RE=103]=`FLAG_SET_BUT_NO_RE`,e$1[e$1.INVALID_SERVICE_ID=104]=`INVALID_SERVICE_ID`,e$1[e$1.NO_SERVICE_AVAILABLE=200]=`NO_SERVICE_AVAILABLE`,e$1[e$1.NO_SERVICE_AVAILABLE_P2P=201]=`NO_SERVICE_AVAILABLE_P2P`,e$1[e$1.NO_SERVICE_AVAILABLE_VOICE=202]=`NO_SERVICE_AVAILABLE_VOICE`,e$1[e$1.NO_SERVICE_AVAILABLE_WEBRTC=203]=`NO_SERVICE_AVAILABLE_WEBRTC`,e$1[e$1.NO_SERVICE_AVAILABLE_CDS=204]=`NO_SERVICE_AVAILABLE_CDS`,e$1[e$1.NO_SERVICE_AVAILABLE_CDN=205]=`NO_SERVICE_AVAILABLE_CDN`,e$1[e$1.NO_SERVICE_AVAILABLE_TDS=206]=`NO_SERVICE_AVAILABLE_TDS`,e$1[e$1.NO_SERVICE_AVAILABLE_REPORT=207]=`NO_SERVICE_AVAILABLE_REPORT`,e$1[e$1.NO_SERVICE_AVAILABLE_APP_CENTER=208]=`NO_SERVICE_AVAILABLE_APP_CENTER`,e$1[e$1.NO_SERVICE_AVAILABLE_ENV0=209]=`NO_SERVICE_AVAILABLE_ENV0`,e$1[e$1.NO_SERVICE_AVAILABLE_VOET=210]=`NO_SERVICE_AVAILABLE_VOET`,e$1[e$1.NO_SERVICE_AVAILABLE_STRING_UID=211]=`NO_SERVICE_AVAILABLE_STRING_UID`,e$1[e$1.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS=212]=`NO_SERVICE_AVAILABLE_WEBRTC_UNILBS`,e$1[e$1.NO_SERVICE_AVAILABLE_UNILBS_FLV=213]=`NO_SERVICE_AVAILABLE_UNILBS_FLV`,e$1}({}),UV=function(e$1){return e$1[e$1.K_TIMESTAMP_EXPIRED=2]=`K_TIMESTAMP_EXPIRED`,e$1[e$1.K_CHANNEL_PERMISSION_INVALID=3]=`K_CHANNEL_PERMISSION_INVALID`,e$1[e$1.K_CERTIFICATE_INVALID=4]=`K_CERTIFICATE_INVALID`,e$1[e$1.K_CHANNEL_NAME_EMPTY=5]=`K_CHANNEL_NAME_EMPTY`,e$1[e$1.K_CHANNEL_NOT_FOUND=6]=`K_CHANNEL_NOT_FOUND`,e$1[e$1.K_TICKET_INVALID=7]=`K_TICKET_INVALID`,e$1[e$1.K_CHANNEL_CONFLICTED=8]=`K_CHANNEL_CONFLICTED`,e$1[e$1.K_SERVICE_NOT_READY=9]=`K_SERVICE_NOT_READY`,e$1[e$1.K_SERVICE_TOO_HEAVY=10]=`K_SERVICE_TOO_HEAVY`,e$1[e$1.K_UID_BANNED=14]=`K_UID_BANNED`,e$1[e$1.K_IP_BANNED=15]=`K_IP_BANNED`,e$1[e$1.K_CHANNEL_BANNED=16]=`K_CHANNEL_BANNED`,e$1[e$1.DATASTREAM2_NOT_AVAILABLE=27]=`DATASTREAM2_NOT_AVAILABLE`,e$1[e$1.K_AUTO_REBALANCE=28]=`K_AUTO_REBALANCE`,e$1[e$1.K_VOS_FALLBACK=30]=`K_VOS_FALLBACK`,e$1[e$1.WARN_NO_AVAILABLE_CHANNEL=103]=`WARN_NO_AVAILABLE_CHANNEL`,e$1[e$1.WARN_LOOKUP_CHANNEL_TIMEOUT=104]=`WARN_LOOKUP_CHANNEL_TIMEOUT`,e$1[e$1.WARN_LOOKUP_CHANNEL_REJECTED=105]=`WARN_LOOKUP_CHANNEL_REJECTED`,e$1[e$1.WARN_OPEN_CHANNEL_TIMEOUT=106]=`WARN_OPEN_CHANNEL_TIMEOUT`,e$1[e$1.WARN_OPEN_CHANNEL_REJECTED=107]=`WARN_OPEN_CHANNEL_REJECTED`,e$1[e$1.WARN_REQUEST_DEFERRED=108]=`WARN_REQUEST_DEFERRED`,e$1[e$1.ERR_DYNAMIC_KEY_TIMEOUT=109]=`ERR_DYNAMIC_KEY_TIMEOUT`,e$1[e$1.ERR_NO_AUTHORIZED=110]=`ERR_NO_AUTHORIZED`,e$1[e$1.ERR_VOM_SERVICE_UNAVAILABLE=111]=`ERR_VOM_SERVICE_UNAVAILABLE`,e$1[e$1.ERR_NO_CHANNEL_AVAILABLE_CODE=112]=`ERR_NO_CHANNEL_AVAILABLE_CODE`,e$1[e$1.ERR_MASTER_VOCS_UNAVAILABLE=114]=`ERR_MASTER_VOCS_UNAVAILABLE`,e$1[e$1.ERR_INTERNAL_ERROR=115]=`ERR_INTERNAL_ERROR`,e$1[e$1.ERR_NO_ACTIVE_STATUS=116]=`ERR_NO_ACTIVE_STATUS`,e$1[e$1.ERR_INVALID_UID=117]=`ERR_INVALID_UID`,e$1[e$1.ERR_DYNAMIC_KEY_EXPIRED=118]=`ERR_DYNAMIC_KEY_EXPIRED`,e$1[e$1.ERR_STATIC_USE_DYANMIC_KE=119]=`ERR_STATIC_USE_DYANMIC_KE`,e$1[e$1.ERR_DYNAMIC_USE_STATIC_KE=120]=`ERR_DYNAMIC_USE_STATIC_KE`,e$1[e$1.ERR_NO_VOCS_AVAILABLE=2e3]=`ERR_NO_VOCS_AVAILABLE`,e$1[e$1.ERR_NO_VOS_AVAILABLE=2001]=`ERR_NO_VOS_AVAILABLE`,e$1[e$1.ERR_JOIN_CHANNEL_TIMEOUT=2002]=`ERR_JOIN_CHANNEL_TIMEOUT`,e$1[e$1.ERR_REPEAT_JOIN_CHANNEL=2003]=`ERR_REPEAT_JOIN_CHANNEL`,e$1[e$1.ERR_JOIN_BY_MULTI_IP=2004]=`ERR_JOIN_BY_MULTI_IP`,e$1[e$1.ERR_NOT_JOINED=2011]=`ERR_NOT_JOINED`,e$1[e$1.ERR_REPEAT_JOIN_REQUEST=2012]=`ERR_REPEAT_JOIN_REQUEST`,e$1[e$1.ERR_INVALID_VENDOR_KEY=2013]=`ERR_INVALID_VENDOR_KEY`,e$1[e$1.ERR_INVALID_CHANNEL_NAME=2014]=`ERR_INVALID_CHANNEL_NAME`,e$1[e$1.ERR_INVALID_STRINGUID=2015]=`ERR_INVALID_STRINGUID`,e$1[e$1.ERR_TOO_MANY_USERS=2016]=`ERR_TOO_MANY_USERS`,e$1[e$1.ERR_SET_CLIENT_ROLE_TIMEOUT=2017]=`ERR_SET_CLIENT_ROLE_TIMEOUT`,e$1[e$1.ERR_SET_CLIENT_ROLE_NO_PERMISSION=2018]=`ERR_SET_CLIENT_ROLE_NO_PERMISSION`,e$1[e$1.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE=2019]=`ERR_SET_CLIENT_ROLE_ALREADY_IN_USE`,e$1[e$1.ERR_PUBLISH_REQUEST_INVALID=2020]=`ERR_PUBLISH_REQUEST_INVALID`,e$1[e$1.ERR_SUBSCRIBE_REQUEST_INVALID=2021]=`ERR_SUBSCRIBE_REQUEST_INVALID`,e$1[e$1.ERR_NOT_SUPPORTED_MESSAGE=2022]=`ERR_NOT_SUPPORTED_MESSAGE`,e$1[e$1.ERR_ILLEAGAL_PLUGIN=2023]=`ERR_ILLEAGAL_PLUGIN`,e$1[e$1.ERR_REJOIN_TOKEN_INVALID=2024]=`ERR_REJOIN_TOKEN_INVALID`,e$1[e$1.ERR_REJOIN_USER_NOT_JOINED=2025]=`ERR_REJOIN_USER_NOT_JOINED`,e$1[e$1.ERR_INVALID_OPTIONAL_INFO=2027]=`ERR_INVALID_OPTIONAL_INFO`,e$1[e$1.ILLEGAL_AES_PASSWORD=2028]=`ILLEGAL_AES_PASSWORD`,e$1[e$1.ILLEGAL_CLIENT_ROLE_LEVEL=2029]=`ILLEGAL_CLIENT_ROLE_LEVEL`,e$1[e$1.ERR_TOO_MANY_BROADCASTERS=2031]=`ERR_TOO_MANY_BROADCASTERS`,e$1[e$1.ERR_TOO_MANY_SUBSCRIBERS=2032]=`ERR_TOO_MANY_SUBSCRIBERS`,e$1[e$1.ERR_LICENSE_MISSING=32769]=`ERR_LICENSE_MISSING`,e$1[e$1.ERR_LICENSE_EXPIRED=32771]=`ERR_LICENSE_EXPIRED`,e$1[e$1.ERR_LICENSE_MINUTES_EXCEEDED=32773]=`ERR_LICENSE_MINUTES_EXCEEDED`,e$1[e$1.ERR_LICENSE_PERIOD_INVALID=32774]=`ERR_LICENSE_PERIOD_INVALID`,e$1[e$1.ERR_LICENSE_MULTIPLE_SDK_SERVICE=32778]=`ERR_LICENSE_MULTIPLE_SDK_SERVICE`,e$1[e$1.ERR_LICENSE_ILLEGAL=32783]=`ERR_LICENSE_ILLEGAL`,e$1[e$1.ERR_TEST_RECOVER=9e3]=`ERR_TEST_RECOVER`,e$1[e$1.ERR_TEST_TRYNEXT=9001]=`ERR_TEST_TRYNEXT`,e$1[e$1.ERR_TEST_RETRY=9002]=`ERR_TEST_RETRY`,e$1}({}),VV=function(e$1){return e$1.CONNECTING=`connecting`,e$1.CONNECTED=`connected`,e$1.RECONNECTING=`reconnecting`,e$1.CLOSED=`closed`,e$1}({}),xV=function(e$1){return e$1.WS_CONNECTED=`ws_connected`,e$1.WS_RECONNECTING=`ws_reconnecting`,e$1.WS_CLOSED=`ws_closed`,e$1.WS_RECONNECT_CREATE_CONNECTION=`ws_reconnect_create_connection`,e$1.ON_BINARY_DATA=`on_binary_data`,e$1.REQUEST_RECOVER=`request_recover`,e$1.REQUEST_JOIN_INFO=`request_join_info`,e$1.REQUEST_REJOIN_INFO=`req_rejoin_info`,e$1.IS_P2P_DISCONNECTED=`is_p2p_dis`,e$1.DISCONNECT_P2P=`dis_p2p`,e$1.ABORT_P2P_EXECUTION=`abort_p2p_execution`,e$1.NEED_RENEW_SESSION=`need-sid`,e$1.REPORT_JOIN_GATEWAY=`report_join_gateway`,e$1.REQUEST_TIMEOUT=`request_timeout`,e$1.REQUEST_SUCCESS=`request_success`,e$1.JOIN_RESPONSE=`join_response`,e$1.PRE_CONNECT_PC=`pre_connect_pc`,e$1.DATACHANNEL_PRECONNECT=`datachannel_preconnect`,e$1.DATACHANNEL_CONNECTING=`datachannel_connecting`,e$1.DATACHANNEL_FAILBACK=`datachannel_failback`,e$1.P2P_CONNECTION=`p2p_connection`,e$1.P2P_REMOTE_CANDIDATE_UPDATE=`p2p_remote_candidate_update`,e$1.P2P_SUBSCRIBE=`p2p_subscribe`,e$1.P2P_UNSUBSCRIBE=`p2p_unsubscribe`,e$1.P2P_EXCHANGE_SDP=`p2p_exchange_sdp`,e$1.P2P_ON_ADD_VIDEO_STREAM=`p2p_on_add_video_stream`,e$1.P2P_ON_ADD_AUDIO_STREAM=`p2p_on_add_audio_stream`,e$1.RECOVER_NOTIFICATION=`recover_notification`,e$1.VOS_FALLBACK=`vos_fallback`,e$1.VOS_FALLBACK_PROMISE=`vos_fallback_promise`,e$1}({}),FV=function(e$1){return e$1.PING=`ping`,e$1.PING_BACK=`ping_back`,e$1.JOIN=`join_v3`,e$1.REJOIN=`rejoin_v3`,e$1.LEAVE=`leave`,e$1.SET_CLIENT_ROLE=`set_client_role`,e$1.PUBLISH=`publish`,e$1.PUBLISH_DATASTREAM=`publish_datastream`,e$1.UNPUBLISH=`unpublish`,e$1.UNPUBLISH_DATASTREAM=`unpublish_datastream`,e$1.SUBSCRIBE=`subscribe`,e$1.PRE_SUBSCRIBE=`pre_subscribe`,e$1.SUBSCRIBE_DATASTREAM=`subscribe_datastream`,e$1.SUBSCRIBE_STREAMS=`subscribe_streams`,e$1.UNSUBSCRIBE=`unsubscribe`,e$1.UNSUBSCRIBE_DATASTREAM=`unsubscribe_datastream`,e$1.UNSUBSCRIBE_STREAMS=`unsubscribe_streams`,e$1.SUBSCRIBE_CHANGE=`subscribe_change`,e$1.TRAFFIC_STATS=`traffic_stats`,e$1.RENEW_TOKEN=`renew_token`,e$1.SET_DUAL_STREAM_MODE=`set_dual_stream_mode`,e$1.SWITCH_VIDEO_STREAM=`switch_video_stream`,e$1.DEFAULT_VIDEO_STREAM=`default_video_stream`,e$1.SET_FALLBACK_OPTION=`set_fallback_option`,e$1.CONFIGURE=`configure`,e$1.GATEWAY_INFO=`gateway_info`,e$1.CONTROL=`control`,e$1.SEND_METADATA=`send_metadata`,e$1.DATA_STREAM=`data_stream`,e$1.PICK_SVC_LAYER=`pick_svc_layer`,e$1.RESTART_ICE=`restart_ice`,e$1.CONNECT_PC=`connect_pc`,e$1.SET_VIDEO_PROFILE=`set_video_profile`,e$1.SET_PARAMETER=`set_parameter`,e$1.SET_RTM2_FLAG=`set_rtm2_flag`,e$1.DOWNGRADE_CODEC=`downgrade_codec`,e$1}({}),BV=function(e$1){return e$1.WRTC_STATS=`wrtc_stats`,e$1.WS_INFLATE_DATA_LENGTH=`ws_inflate_data_length`,e$1.DENOISER_STATS=`denoiser_stats`,e$1.EXTENSION_USAGE_STATS=`extension_usage_stats`,e$1}({}),jV=function(e$1){return e$1.ON_USER_ONLINE=`on_user_online`,e$1.ON_USER_OFFLINE=`on_user_offline`,e$1.ON_STREAM_FALLBACK_UPDATE=`on_stream_fallback_update`,e$1.ON_PUBLISH_STREAM=`on_publish_stream`,e$1.ON_UPLINK_STATS=`on_uplink_stats`,e$1.ON_P2P_LOST=`on_p2p_lost`,e$1.ON_REMOVE_STREAM=`on_remove_stream`,e$1.ON_ADD_AUDIO_STREAM=`on_add_audio_stream`,e$1.ON_ADD_VIDEO_STREAM=`on_add_video_stream`,e$1.ON_TOKEN_PRIVILEGE_WILL_EXPIRE=`on_token_privilege_will_expire`,e$1.ON_TOKEN_PRIVILEGE_DID_EXPIRE=`on_token_privilege_did_expire`,e$1.ON_USER_BANNED=`on_user_banned`,e$1.ON_USER_LICENSE_BANNED=`on_user_license_banned`,e$1.ON_NOTIFICATION=`on_notification`,e$1.ON_CRYPT_ERROR=`on_crypt_error`,e$1.MUTE_AUDIO=`mute_audio`,e$1.MUTE_VIDEO=`mute_video`,e$1.UNMUTE_AUDIO=`unmute_audio`,e$1.UNMUTE_VIDEO=`unmute_video`,e$1.ON_P2P_OK=`on_p2p_ok`,e$1.RECEIVE_METADATA=`receive_metadata`,e$1.ON_DATA_STREAM=`on_data_stream`,e$1.ON_RTP_CAPABILITY_CHANGE=`on_rtp_capability_change`,e$1.ON_REMOTE_DATASTREAM_UPDATE=`on_remote_datastream_update`,e$1.ON_REMOTE_FULL_DATASTREAM_INFO=`on_remote_full_datastream_info`,e$1.ENABLE_LOCAL_VIDEO=`enable_local_video`,e$1.DISABLE_LOCAL_VIDEO=`disable_local_video`,e$1.ENABLE_LOCAL_AUDIO=`enable_local_audio`,e$1.DISABLE_LOCAL_AUDIO=`disable_local_audio`,e$1.ON_PUBLISHED_USER_LIST=`on_published_user_list`,e$1.ENABLE_MULTI_STREAM=`enable_multi_stream`,e$1}({}),GV=function(e$1){return e$1.SEND_ONLY=`SEND_ONLY`,e$1.RECEIVE_ONLY=`RECEIVE_ONLY`,e$1}({}),WV=function(e$1){return e$1.CONNECTED=`websocket:connected`,e$1.RECONNECTING=`websocket:reconnecting`,e$1.WILL_RECONNECT=`websocket:will_reconnect`,e$1.CLOSED=`websocket:closed`,e$1.FAILED=`websocket:failed`,e$1.ON_MESSAGE=`websocket:on_message`,e$1.REQUEST_NEW_URLS=`websocket:request_new_urls`,e$1.RECONNECT_CREATE_CONNECTION=`websocket:reconnect_create_connection`,e$1.ON_TOKEN_PRIVILEGE_DID_EXPIRE=`websocket:on_token_privilege_did_expire`,e$1.ON_FALLBACK=`websocket:on_fallback`,e$1}({});function HV(e$1){if(typeof e$1!=`string`||!/^[a-zA-Z0-9 \!\#\$\%\&\(\)\+\-\:\;\<\=\.\>\?\@\[\]\^\_\{\}\|\~\,]{1,64}$/.test(e$1))throw iP.error(`Invalid Channel Name ${e$1}`),new uP(hO.INVALID_PARAMS,`The length must be within 64 bytes. The supported characters: a-z,A-Z,0-9,space,!, #, $, %, &, (, ), +, -, :, ;, <, =, ., >, ?, @, [, ], ^, _,  {, }, |, ~, ,`)}function KV(e$1){if(t$1=e$1,!(typeof t$1==`number`&&Math.floor(t$1)===t$1&&0<=t$1&&t$1<=4294967295||RO(e$1,1,255)))throw new uP(hO.INVALID_PARAMS,`[String uid] Length of the string: [1,255]. ASCII characters only. [Number uid] The value range is [0,10000]`);var t$1;typeof e$1==`string`&&iP.warn(`You input a string as the user ID, to ensure better end-user experience, Agora highly suggests not using a string as the user ID.`)}let YV=function(e$1){return e$1.TRANSCODE=`mix_streaming`,e$1.RAW=`raw_streaming`,e$1}({}),zV={alpha:1,height:640,width:360,x:0,y:0,zOrder:0,audioChannel:0},qV={x:0,y:0,width:160,height:160,zOrder:255,alpha:1};function XV(e$1,t$1){SO(e$1.url,`${t$1}.url`,1,1e3,!1),TO(e$1.x)||mO(e$1.x,`${t$1}.x`,0,1e4),TO(e$1.y)||mO(e$1.y,`${t$1}.y`,0,1e4),TO(e$1.width)||mO(e$1.width,`${t$1}.width`,0,1e4),TO(e$1.height)||mO(e$1.height,`${t$1}.height`,0,1e4),TO(e$1.zOrder)||mO(e$1.zOrder,`${t$1}.zOrder`,0,255),TO(e$1.alpha)||mO(e$1.alpha,`${t$1}.alpha`,0,1,!1)}let JV={audioBitrate:48,audioChannels:1,audioSampleRate:48e3,backgroundColor:0,height:360,lowLatency:!1,videoBitrate:400,videoCodecProfile:100,videoCodecType:1,videoFrameRate:15,videoGop:30,width:640,images:[],userConfigs:[],userConfigExtraInfo:``},QV=function(e$1){return e$1.WARNING=`@live_uap-warning`,e$1.ERROR=`@line_uap-error`,e$1.PUBLISH_STREAM_STATUS=`@live_uap-publish-status`,e$1.WORKER_STATUS=`@live_uap-worker-status`,e$1.REQUEST_NEW_ADDRESS=`@live_uap-request-address`,e$1}({}),ZV=function(e$1){return e$1.REQUEST_WORKER_MANAGER_LIST=`@live_req_worker_manager`,e$1}({}),$V=function(e$1){return e$1[e$1.LIVE_STREAM_RESPONSE_SUCCEED=200]=`LIVE_STREAM_RESPONSE_SUCCEED`,e$1[e$1.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM=454]=`LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM`,e$1[e$1.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR=450]=`LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR`,e$1[e$1.LIVE_STREAM_RESPONSE_BAD_STREAM=451]=`LIVE_STREAM_RESPONSE_BAD_STREAM`,e$1[e$1.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR=400]=`LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR`,e$1[e$1.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST=404]=`LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST`,e$1[e$1.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED=456]=`LIVE_STREAM_RESPONSE_NOT_AUTHORIZED`,e$1[e$1.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE=457]=`LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE`,e$1[e$1.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN=429]=`LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN`,e$1[e$1.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH=452]=`LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH`,e$1[e$1.LIVE_STREAM_RESPONSE_NOT_SUPPORTED=453]=`LIVE_STREAM_RESPONSE_NOT_SUPPORTED`,e$1[e$1.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM=455]=`LIVE_STREAM_RESPONSE_MAX_STREAM_NUM`,e$1[e$1.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR=500]=`LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR`,e$1[e$1.LIVE_STREAM_RESPONSE_WORKER_LOST=501]=`LIVE_STREAM_RESPONSE_WORKER_LOST`,e$1[e$1.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT=502]=`LIVE_STREAM_RESPONSE_RESOURCE_LIMIT`,e$1[e$1.LIVE_STREAM_RESPONSE_WORKER_QUIT=503]=`LIVE_STREAM_RESPONSE_WORKER_QUIT`,e$1[e$1.ERROR_FAIL_SEND_MESSAGE=504]=`ERROR_FAIL_SEND_MESSAGE`,e$1[e$1.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE=30]=`PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE`,e$1[e$1.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT=31]=`PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT`,e$1[e$1.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH=32]=`PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH`,e$1[e$1.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN=33]=`PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN`,e$1}({});function ex(e$1){if(!e$1.channelName)throw new uP(hO.INVALID_PARAMS,`invalid channelName in info`);if(typeof e$1.uid!=`number`)throw new uP(hO.INVALID_PARAMS,`invalid uid in info, uid must be a number`);return e$1.token&&SO(e$1.token,`info.token`,1,2047),KV(e$1.uid),HV(e$1.channelName),!0}let tx=function(e$1){return e$1[e$1.SetSdkProfile=0]=`SetSdkProfile`,e$1[e$1.SetSourceChannel=1]=`SetSourceChannel`,e$1[e$1.SetSourceUserId=2]=`SetSourceUserId`,e$1[e$1.SetDestChannel=3]=`SetDestChannel`,e$1[e$1.StartPacketTransfer=4]=`StartPacketTransfer`,e$1[e$1.StopPacketTransfer=5]=`StopPacketTransfer`,e$1[e$1.UpdateDestChannel=6]=`UpdateDestChannel`,e$1[e$1.Reconnect=7]=`Reconnect`,e$1[e$1.SetVideoProfile=8]=`SetVideoProfile`,e$1}({}),ix=function(e$1){return e$1.NETWORK_DISCONNECTED=`NETWORK_DISCONNECTED`,e$1.NETWORK_CONNECTED=`NETWORK_CONNECTED`,e$1.PACKET_JOINED_SRC_CHANNEL=`PACKET_JOINED_SRC_CHANNEL`,e$1.PACKET_JOINED_DEST_CHANNEL=`PACKET_JOINED_DEST_CHANNEL`,e$1.PACKET_SENT_TO_DEST_CHANNEL=`PACKET_SENT_TO_DEST_CHANNEL`,e$1.PACKET_RECEIVED_VIDEO_FROM_SRC=`PACKET_RECEIVED_VIDEO_FROM_SRC`,e$1.PACKET_RECEIVED_AUDIO_FROM_SRC=`PACKET_RECEIVED_AUDIO_FROM_SRC`,e$1.PACKET_UPDATE_DEST_CHANNEL=`PACKET_UPDATE_DEST_CHANNEL`,e$1.PACKET_UPDATE_DEST_CHANNEL_REFUSED=`PACKET_UPDATE_DEST_CHANNEL_REFUSED`,e$1.PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE=`PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE`,e$1}({}),nx=function(e$1){return e$1.RELAY_STATE_IDLE=`RELAY_STATE_IDLE`,e$1.RELAY_STATE_CONNECTING=`RELAY_STATE_CONNECTING`,e$1.RELAY_STATE_RUNNING=`RELAY_STATE_RUNNING`,e$1.RELAY_STATE_FAILURE=`RELAY_STATE_FAILURE`,e$1}({}),rx=function(e$1){return e$1.RELAY_OK=`RELAY_OK`,e$1.SERVER_CONNECTION_LOST=`SERVER_CONNECTION_LOST`,e$1.SRC_TOKEN_EXPIRED=`SRC_TOKEN_EXPIRED`,e$1.DEST_TOKEN_EXPIRED=`DEST_TOKEN_EXPIRED`,e$1}({}),ox=function(e$1){return e$1.High=`high`,e$1.Low=`low`,e$1.Audio=`audio`,e$1.Screen=`screen`,e$1.ScreenLow=`screen_low`,e$1}({}),sx=function(e$1){return e$1.DISCONNECT=`disconnect`,e$1.CONNECTION_STATE_CHANGE=`connection-state-change`,e$1.NETWORK_QUALITY=`network-quality`,e$1.STREAM_TYPE_CHANGE=`stream-type-change`,e$1.IS_P2P_DISCONNECTED=`is-p2p-dis`,e$1.DISCONNECT_P2P=`dis-p2p`,e$1.REQUEST_NEW_GATEWAY_LIST=`req-gate-url`,e$1.NEED_RENEW_SESSION=`need-sid`,e$1.REQUEST_P2P_CONNECTION_PARAMS=`request-p2p-connection-params`,e$1.JOIN_RESPONSE=`join-response`,e$1.RESET_CONNECTION_EVENTS=`reset-connection-events`,e$1.PRE_CONNECT_PC=`pre-connect_pc`,e$1.UPDATE_GATEWAY_CONFIG=`update-gateway-config`,e$1.VOS_FALLBACK=`vos-fallback`,e$1.VOS_FALLBACK_PROMISE=`vos-fallback-promise`,e$1.RESET_SIGNAL=`reset-signal`,e$1.DATACHANNEL_FAILBACK=`datachannel-failback`,e$1}({}),ax=function(e$1){return e$1.P2P_DISCONNECTED=`P2P_DISCONNECTED`,e$1.A_ROUND_WS_FAILED=`A_ROUND_WS_FAILED`,e$1.TIMEOUT=`TIMEOUT`,e$1.UNKNOWN_REASON=`UNKNOWN_REASON`,e$1}({}),cx=function(e$1){return e$1[e$1.Nothing=0]=`Nothing`,e$1[e$1.Audio=1]=`Audio`,e$1[e$1.LwoVideo=2]=`LwoVideo`,e$1[e$1.Video=4]=`Video`,e$1[e$1.Data=8]=`Data`,e$1[e$1.DataStream0=256]=`DataStream0`,e$1[e$1.DataStream1=512]=`DataStream1`,e$1[e$1.DataStream2=1024]=`DataStream2`,e$1[e$1.DataStream3=2048]=`DataStream3`,e$1[e$1.DataStream4=4096]=`DataStream4`,e$1[e$1.DataStream5=8192]=`DataStream5`,e$1[e$1.DataStream6=16384]=`DataStream6`,e$1[e$1.DataStream7=32768]=`DataStream7`,e$1}({}),dx=function(e$1){return e$1.CHINA=`CHINA`,e$1.ASIA=`ASIA`,e$1.NORTH_AMERICA=`NORTH_AMERICA`,e$1.EUROPE=`EUROPE`,e$1.JAPAN=`JAPAN`,e$1.INDIA=`INDIA`,e$1.KOREA=`KOREA`,e$1.HKMC=`HKMC`,e$1.US=`US`,e$1.OCEANIA=`OCEANIA`,e$1.SOUTH_AMERICA=`SOUTH_AMERICA`,e$1.AFRICA=`AFRICA`,e$1.OVERSEA=`OVERSEA`,e$1.GLOBAL=`GLOBAL`,e$1.EXTENSIONS=`EXTENSIONS`,e$1}({}),lx=[dx.AFRICA,dx.ASIA,dx.CHINA,dx.EUROPE,dx.GLOBAL,dx.INDIA,dx.JAPAN,dx.NORTH_AMERICA,dx.OCEANIA,dx.OVERSEA,dx.SOUTH_AMERICA],ux=function(e$1){return e$1.CHINA=`CN`,e$1.ASIA=`AS`,e$1.NORTH_AMERICA=`NA`,e$1.EUROPE=`EU`,e$1.JAPAN=`JP`,e$1.INDIA=`IN`,e$1.KOREA=`KR`,e$1.HKMC=`HK`,e$1.US=`US`,e$1.OCEANIA=`OC`,e$1.SOUTH_AMERICA=`SA`,e$1.AFRICA=`AF`,e$1.OVERSEA=`OVERSEA`,e$1.GLOBAL=`GLOBAL`,e$1.EXTENSIONS=`GLOBAL`,e$1}({}),hx={CHINA:{},ASIA:{CODE:ux.ASIA,WEBCS_DOMAIN:[`ap-web-1-asia.agora.io`],WEBCS_DOMAIN_BACKUP_LIST:[`ap-web-2-asia.agora.io`],PROXY_CS:[`proxy-ap-web-asia.agora.io`],CDS_AP:[`cds-ap-web-asia.agora.io`,`cds-ap-web-asia2.agora.io`],ACCOUNT_REGISTER:[`sua-ap-web-asia.agora.io`,`sua-ap-web-asia2.agora.io`],UAP_AP:[`uap-ap-web-asia.agora.io`,`uap-ap-web-asia2.agora.io`],EVENT_REPORT_DOMAIN:[`statscollector-1-asia.agora.io`],EVENT_REPORT_BACKUP_DOMAIN:[`statscollector-2-asia.agora.io`],LOG_UPLOAD_SERVER:[`logservice-asia.agora.io`],PROXY_SERVER_TYPE3:[`southeast-asia.webrtc-cloud-proxy.sd-rtn.com`]},NORTH_AMERICA:{CODE:ux.NORTH_AMERICA,WEBCS_DOMAIN:[`ap-web-1-north-america.agora.io`],WEBCS_DOMAIN_BACKUP_LIST:[`ap-web-2-north-america.agora.io`],PROXY_CS:[`proxy-ap-web-america.agora.io`],CDS_AP:[`cds-ap-web-america.agora.io`,`cds-ap-web-america2.agora.io`],ACCOUNT_REGISTER:[`sua-ap-web-america.agora.io`,`sua-ap-web-america2.agora.io`],UAP_AP:[`uap-ap-web-america.agora.io`,`uap-ap-web-america2.agora.io`],EVENT_REPORT_DOMAIN:[`statscollector-1-north-america.agora.io`],EVENT_REPORT_BACKUP_DOMAIN:[`statscollector-2-north-america.agora.io`],LOG_UPLOAD_SERVER:[`logservice-north-america.agora.io`],PROXY_SERVER_TYPE3:[`east-usa.webrtc-cloud-proxy.sd-rtn.com`]},EUROPE:{CODE:ux.EUROPE,WEBCS_DOMAIN:[`ap-web-1-europe.agora.io`],WEBCS_DOMAIN_BACKUP_LIST:[`ap-web-2-europe.agora.io`],PROXY_CS:[`proxy-ap-web-europe.agora.io`],CDS_AP:[`cds-ap-web-europe.agora.io`,`cds-ap-web-europe2.agora.io`],ACCOUNT_REGISTER:[`sua-ap-web-europe.agora.io`,`sua-ap-web-europe.agora.io`],UAP_AP:[`uap-ap-web-europe.agora.io`,`uap-ap-web-europe2.agora.io`],EVENT_REPORT_DOMAIN:[`statscollector-1-europe.agora.io`],EVENT_REPORT_BACKUP_DOMAIN:[`statscollector-2-europe.agora.io`],LOG_UPLOAD_SERVER:[`logservice-europe.agora.io`],PROXY_SERVER_TYPE3:[`europe.webrtc-cloud-proxy.sd-rtn.com`]},JAPAN:{CODE:ux.JAPAN,WEBCS_DOMAIN:[`ap-web-1-japan.agora.io`],WEBCS_DOMAIN_BACKUP_LIST:[`ap-web-2-japan.agora.io`],PROXY_CS:[`proxy-ap-web-japan.agora.io`],CDS_AP:[`cds-ap-web-japan.agora.io`,`cds-ap-web-japan2.agora.io`],ACCOUNT_REGISTER:[`sua-ap-web-japan.agora.io`,`sua-ap-web-japan2.agora.io`],UAP_AP:[`uap-ap-web-japan.agora.io`,`uap-ap-web-japan2.agora.io`],EVENT_REPORT_DOMAIN:[`statscollector-1-japan.agora.io`],EVENT_REPORT_BACKUP_DOMAIN:[`statscollector-2-japan.agora.io`],LOG_UPLOAD_SERVER:[`logservice-japan.agora.io`],PROXY_SERVER_TYPE3:[`japan.webrtc-cloud-proxy.sd-rtn.com`]},INDIA:{CODE:ux.INDIA,WEBCS_DOMAIN:[`ap-web-1-india.agora.io`],WEBCS_DOMAIN_BACKUP_LIST:[`ap-web-2-india.agora.io`],PROXY_CS:[`proxy-ap-web-india.agora.io`],CDS_AP:[`cds-ap-web-india.agora.io`,`cds-ap-web-india2.agora.io`],ACCOUNT_REGISTER:[`sua-ap-web-india.agora.io`,`sua-ap-web-india2.agora.io`],UAP_AP:[`uap-ap-web-india.agora.io`,`uap-ap-web-india2.agora.io`],EVENT_REPORT_DOMAIN:[`statscollector-1-india.agora.io`],EVENT_REPORT_BACKUP_DOMAIN:[`statscollector-2-india.agora.io`],LOG_UPLOAD_SERVER:[`logservice-india.agora.io`],PROXY_SERVER_TYPE3:[`india.webrtc-cloud-proxy.sd-rtn.com`]},KOREA:{CODE:ux.KOREA,WEBCS_DOMAIN:[`ap-web-1-korea.agora.io`],WEBCS_DOMAIN_BACKUP_LIST:[`ap-web-2-korea.agora.io`],PROXY_CS:[`proxy-ap-web-korea.agora.io`],CDS_AP:[`cds-ap-web-korea.agora.io`,`cds-ap-web-korea2.agora.io`],ACCOUNT_REGISTER:[`sua-ap-web-korea.agora.io`,`sua-ap-web-korea2.agora.io`],UAP_AP:[`uap-ap-web-korea.agora.io`,`uap-ap-web-korea2.agora.io`],EVENT_REPORT_DOMAIN:[`statscollector-1-korea.agora.io`],EVENT_REPORT_BACKUP_DOMAIN:[`statscollector-2-korea.agora.io`],LOG_UPLOAD_SERVER:[`logservice-korea.agora.io`],PROXY_SERVER_TYPE3:[`korea.webrtc-cloud-proxy.sd-rtn.com`]},HKMC:{CODE:ux.HKMC,WEBCS_DOMAIN:[`ap-web-1-hkmc.agora.io`],WEBCS_DOMAIN_BACKUP_LIST:[`ap-web-2-hkmc.agora.io`],PROXY_CS:[`proxy-ap-web-hkmc.agora.io`],CDS_AP:[`cds-ap-web-hkmc.agora.io`,`cds-ap-web-hkmc2.agora.io`],ACCOUNT_REGISTER:[`sua-ap-web-hkmc.agora.io`,`sua-ap-web-hkmc2.agora.io`],UAP_AP:[`uap-ap-web-hkmc.agora.io`,`uap-ap-web-hkmc2.agora.io`],EVENT_REPORT_DOMAIN:[`statscollector-1-hkmc.agora.io`],EVENT_REPORT_BACKUP_DOMAIN:[`statscollector-2-hkmc.agora.io`],LOG_UPLOAD_SERVER:[`logservice-hkmc.agora.io`],PROXY_SERVER_TYPE3:[`hkmc.webrtc-cloud-proxy.sd-rtn.com`]},US:{CODE:ux.US,WEBCS_DOMAIN:[`ap-web-1-us.agora.io`],WEBCS_DOMAIN_BACKUP_LIST:[`ap-web-2-us.agora.io`],PROXY_CS:[`proxy-ap-web-us.agora.io`],CDS_AP:[`cds-ap-web-us.agora.io`,`cds-ap-web-us2.agora.io`],ACCOUNT_REGISTER:[`sua-ap-web-us.agora.io`,`sua-ap-web-us2.agora.io`],UAP_AP:[`uap-ap-web-us.agora.io`,`uap-ap-web-us2.agora.io`],EVENT_REPORT_DOMAIN:[`statscollector-1-us.agora.io`],EVENT_REPORT_BACKUP_DOMAIN:[`statscollector-2-us.agora.io`],LOG_UPLOAD_SERVER:[`logservice-us.agora.io`],PROXY_SERVER_TYPE3:[`us.webrtc-cloud-proxy.sd-rtn.com`]},OVERSEA:{CODE:ux.OVERSEA,WEBCS_DOMAIN:[`ap-web-1-oversea.agora.io`],WEBCS_DOMAIN_BACKUP_LIST:[`ap-web-2-oversea.agora.io`],PROXY_CS:[`proxy-ap-web-oversea.agora.io`],CDS_AP:[`cds-ap-web-oversea.agora.io`],ACCOUNT_REGISTER:[`sua-ap-web-oversea.agora.io`],UAP_AP:[`uap-ap-web-oversea.agora.io`],EVENT_REPORT_DOMAIN:[`statscollector-1-oversea.agora.io`],EVENT_REPORT_BACKUP_DOMAIN:[`statscollector-2-oversea.agora.io`],LOG_UPLOAD_SERVER:[`logservice-oversea.agora.io`],PROXY_SERVER_TYPE3:[`webrtc-cloud-proxy.agora.io`]},GLOBAL:{CODE:ux.GLOBAL,WEBCS_DOMAIN:[`webrtc2-ap-web-1.agora.io`],WEBCS_DOMAIN_BACKUP_LIST:[`webrtc2-ap-web-3.agora.io`],PROXY_CS:[`ap-proxy-1.agora.io`,`ap-proxy-2.agora.io`],CDS_AP:[`cds-ap-web-1.agora.io`,`cds-ap-web-3.agora.io`],ACCOUNT_REGISTER:[`sua-ap-web-1.agora.io`,`sua-ap-web-3.agora.io`],UAP_AP:[`uap-ap-web-1.agora.io`,`uap-ap-web-3.agora.io`],EVENT_REPORT_DOMAIN:[`statscollector-1.agora.io`],EVENT_REPORT_BACKUP_DOMAIN:[`statscollector-2.agora.io`],LOG_UPLOAD_SERVER:[`logservice.agora.io`],PROXY_SERVER_TYPE3:[`webrtc-cloud-proxy.sd-rtn.com`]},OCEANIA:{CODE:ux.OCEANIA,WEBCS_DOMAIN:[`ap-web-1-oceania.agora.io`],WEBCS_DOMAIN_BACKUP_LIST:[`ap-web-2-oceania.agora.io`],PROXY_CS:[`proxy-ap-web-oceania.agora.io`],CDS_AP:[`cds-ap-web-oceania.agora.io`,`cds-ap-web-oceania2.agora.io`],ACCOUNT_REGISTER:[`sua-ap-web-oceania.agora.io`,`sua-ap-web-oceania2.agora.io`],UAP_AP:[`uap-ap-web-oceania.agora.io`,`uap-ap-web-oceania2.agora.io`],EVENT_REPORT_DOMAIN:[`statscollector-1-oceania.agora.io`],EVENT_REPORT_BACKUP_DOMAIN:[`statscollector-2-oceania.agora.io`],LOG_UPLOAD_SERVER:[`logservice-oceania.agora.io`],PROXY_SERVER_TYPE3:[`oceania.webrtc-cloud-proxy.sd-rtn.com`]},SOUTH_AMERICA:{CODE:ux.SOUTH_AMERICA,WEBCS_DOMAIN:[`ap-web-1-south-america.agora.io`],WEBCS_DOMAIN_BACKUP_LIST:[`ap-web-2-south-america.agora.io`],PROXY_CS:[`proxy-ap-web-south-america.agora.io`],CDS_AP:[`cds-ap-web-south-america.agora.io`,`cds-ap-web-south-america2.agora.io`],ACCOUNT_REGISTER:[`sua-ap-web-south-america.agora.io`,`sua-ap-web-south-america2.agora.io`],UAP_AP:[`uap-ap-web-south-america.agora.io`,`uap-ap-web-south-america2.agora.io`],EVENT_REPORT_DOMAIN:[`statscollector-1-south-america.agora.io`],EVENT_REPORT_BACKUP_DOMAIN:[`statscollector-2-south-america.agora.io`],LOG_UPLOAD_SERVER:[`logservice-south-america.agora.io`],PROXY_SERVER_TYPE3:[`south-america.webrtc-cloud-proxy.sd-rtn.com`]},AFRICA:{CODE:ux.AFRICA,WEBCS_DOMAIN:[`ap-web-1-africa.agora.io`],WEBCS_DOMAIN_BACKUP_LIST:[`ap-web-2-africa.agora.io`],PROXY_CS:[`proxy-ap-web-africa.agora.io`],CDS_AP:[`cds-ap-web-africa.agora.io`,`cds-ap-web-africa2.agora.io`],ACCOUNT_REGISTER:[`sua-ap-web-africa.agora.io`,`sua-ap-web-africa2.agora.io`],UAP_AP:[`uap-ap-web-africa.agora.io`,`uap-ap-web-africa2.agora.io`],EVENT_REPORT_DOMAIN:[`statscollector-1-africa.agora.io`],EVENT_REPORT_BACKUP_DOMAIN:[`statscollector-2-africa.agora.io`],LOG_UPLOAD_SERVER:[`logservice-south-africa.agora.io`],PROXY_SERVER_TYPE3:[`africa.webrtc-cloud-proxy.sd-rtn.com`]},EXTENSIONS:{}};pD&&(hx.CHINA={CODE:ux.CHINA,WEBCS_DOMAIN:[`webrtc2-2.ap.sd-rtn.com`],WEBCS_DOMAIN_BACKUP_LIST:[`webrtc2-4.ap.sd-rtn.com`],PROXY_CS:[`proxy-web.ap.sd-rtn.com`],CDS_AP:[`cds-web-2.ap.sd-rtn.com`,`cds-web-4.ap.sd-rtn.com`],ACCOUNT_REGISTER:[`sua-web-2.ap.sd-rtn.com`,`sua-web-4.ap.sd-rtn.com`],UAP_AP:[`uap-web-2.ap.sd-rtn.com`,`uap-web-4.ap.sd-rtn.com`],EVENT_REPORT_DOMAIN:[`web-3.statscollector.sd-rtn.com`],EVENT_REPORT_BACKUP_DOMAIN:[`web-4.statscollector.sd-rtn.com`],LOG_UPLOAD_SERVER:[`logservice-china.agora.io`],PROXY_SERVER_TYPE3:[`east-cn.webrtc-cloud-proxy.sd-rtn.com`]});let px=function(e$1){return e$1.UPDATE_BITRATE_LIMIT=`update_bitrate_limit`,e$1.UPDATE_CLIENT_ROLE_OPTIONS=`update_client_role_options`,e$1.UPDATE_REMOTE_VIDEO_STREAM_TYPE=`update_remote_video_stream_type`,e$1.FALLBACK_TO_HLS=`fallback_to_hls`,e$1.UPDATE_VOS_CONFIGURE=`update_vos_configure`,e$1}({});function _x(e$1){return!!e$1&&!(!e$1.uplink||!e$1.id)&&e$1.uplink.max_bitrate!==void 0&&e$1.uplink.min_bitrate!==void 0}class Ex extends NO{constructor(e$1,t$1){super(),iA(this,`onICEConnectionStateChange`,void 0),iA(this,`onConnectionStateChange`,void 0),iA(this,`onDTLSTransportStateChange`,void 0),iA(this,`onDTLSTransportError`,void 0),iA(this,`onICETransportStateChange`,void 0),iA(this,`onFirstAudioReceived`,void 0),iA(this,`onFirstVideoReceived`,void 0),iA(this,`onFirstAudioDecoded`,void 0),iA(this,`onFirstVideoDecoded`,void 0),iA(this,`onFirstVideoRender`,void 0),iA(this,`onFirstVideoBufferReady`,void 0),iA(this,`onFirstVideoDecodedTimeout`,void 0),iA(this,`onSelectedLocalCandidateChanged`,void 0),iA(this,`onSelectedRemoteCandidateChanged`,void 0),iA(this,`onICECandidateError`,void 0),iA(this,`getLocalVideoStats`,void 0)}}class mx extends Ex{constructor(e$1,t$1){super(e$1,t$1),iA(this,`establishPromise`,void 0)}}let fx=function(e$1){return e$1.VIDEO=`video`,e$1.AUDIO=`audio`,e$1}({}),Sx=function(e$1){return e$1.UDP_RELAY=`udp_relay`,e$1.UDP_TCP_RELAY=`udp_tcp_relay`,e$1.TCP_RELAY=`tcp_relay`,e$1.RELAY=`relay`,e$1}({}),gx=function(e$1){return e$1[e$1.FIRST_CONNECTION=0]=`FIRST_CONNECTION`,e$1[e$1.UDP_TCP_RESTART=1]=`UDP_TCP_RESTART`,e$1[e$1.RELAY_RESTART=2]=`RELAY_RESTART`,e$1[e$1.TCP_RESTART=3]=`TCP_RESTART`,e$1[e$1.OLD_FIRST_CONNECTION=10]=`OLD_FIRST_CONNECTION`,e$1[e$1.OLD_RESTART=11]=`OLD_RESTART`,e$1[e$1.DISCONNECTED_OR_FAILED=20]=`DISCONNECTED_OR_FAILED`,e$1}({}),Tx=[`disconnected`,`failed`],Rx=function(e$1){return e$1.LocalVideoTrack=`videoTrack`,e$1.LocalAudioTrack=`audioTrack`,e$1.LocalVideoLowTrack=`videoLowTrack`,e$1}({}),Cx=function(e$1){return e$1.New=`new`,e$1.Connected=`connected`,e$1.Reconnecting=`reconnecting`,e$1.Disconnected=`disconnected`,e$1}({}),vx=function(e$1){return e$1.AudioMetadata=`audioMetadata`,e$1.AudioPts=`audioPts`,e$1.StateChange=`stateChange`,e$1.IceConnectionStateChange=`iceConnectionStateChange`,e$1.RequestMuteLocal=`requestMuteLocal`,e$1.RequestUnmuteLocal=`requestUnmuteLocal`,e$1.RequestRePublish=`requestRePublish`,e$1.RequestRePublishDataChannel=`requestRePublishDataChannel`,e$1.RequestReSubscribe=`requestReSubscribe`,e$1.RequestUploadStats=`requestUploadStats`,e$1.RequestUpload=`requestUpload`,e$1.MediaReconnectStart=`MediaReconnectStart`,e$1.MediaReconnectEnd=`MediaReconnectEnd`,e$1.NeedSignalRTT=`NeedSignalRTT`,e$1.RequestRestartICE=`RequestRestartIce`,e$1.PeerConnectionStateChange=`PeerConnectionStateChange`,e$1.RequestReconnect=`RequestReconnect`,e$1.RequestReconnectPC=`RequestReconnectPC`,e$1.RequestUnpublishForReconnectPC=`RequestUnpublishForReconnectPC`,e$1.P2PLost=`P2PLost`,e$1.UpdateVideoEncoder=`UpdateVideoEncoder`,e$1.ConnectionTypeChange=`ConnectionTypeChange`,e$1.RequestLowStreamParameter=`RequestLowStreamParameter`,e$1.QueryClientConnectionState=`QueryClientConnectionState`,e$1.LocalCandidate=`LocalCandidate`,e$1.RequestP2PMuteLocal=`requestP2PMuteLocal`,e$1.RequestP2PUnPublish=`RequestP2PUnPublish`,e$1.RequestP2PUnmuteRemote=`RequestP2PUnmuteRemote`,e$1.RequestP2PMuteRemote=`RequestP2PMuteRemote`,e$1.RequestP2PRestartICE=`RequestP2PRestartICE`,e$1.FirstVideoPreRender=`FirstVideoPreRender`,e$1.FirstVideoBufferReady=`FirstVideoBufferReady`,e$1}({}),yx=function(e$1){return e$1.CONNECTING=`CONNECTING`,e$1.RECONNECTING=`RECONNECTING`,e$1.CONNECTED=`CONNECTED`,e$1.CLOSED=`CLOSED`,e$1}({}),Ix=function(e$1){return e$1[e$1.CONNECT_AP=0]=`CONNECT_AP`,e$1[e$1.AP_CONNECTED=1]=`AP_CONNECTED`,e$1[e$1.CONNECT_WORKER_MANAGER=2]=`CONNECT_WORKER_MANAGER`,e$1[e$1.WORKER_MANAGER_CONNECTED=3]=`WORKER_MANAGER_CONNECTED`,e$1[e$1.GET_WORKER_MANAGER_RESPONSE=4]=`GET_WORKER_MANAGER_RESPONSE`,e$1[e$1.CONNECT_WORKER=5]=`CONNECT_WORKER`,e$1[e$1.WORKER_CONNECTED=6]=`WORKER_CONNECTED`,e$1[e$1.CLOSED=7]=`CLOSED`,e$1}({}),Ax=function(e$1){return e$1.CONNECTION_STATE_CHANGE=`connection-state-change`,e$1.STATE_CHANGE=`state-change`,e$1.INSPECT_RESULT=`inspect-result`,e$1.CLIENT_LOCAL_VIDEO_TRACK=`client-local-video-track`,e$1.REQUEST_NEW_WORKER_URL=`request-new-worker-url`,e$1}({}),bx=function(e$1){return e$1.NETWORK_ERROR=`NETWORK_ERROR`,e$1.SERVER_ERROR=`SERVER_ERROR`,e$1.MULTI_IP=`MULTI_IP`,e$1.TIMEOUT=`TIMEOUT`,e$1.OFFLINE=`OFFLINE`,e$1.LEAVE=`LEAVE`,e$1.P2P_FAILED=`P2P_FAILED`,e$1.FALLBACK=`FALLBACK`,e$1}({}),wx=function(e$1){return e$1.CONNECTED=`transmitter:connected`,e$1.RECONNECTING=`transmitter:reconnecting`,e$1.WILL_RECONNECT=`transmitter:will_reconnect`,e$1.CLOSED=`transmitter:closed`,e$1.FAILED=`transmitter:failed`,e$1.ON_MESSAGE=`transmitter:on_message`,e$1.REQUEST_NEW_URLS=`transmitter:request_new_urls`,e$1.RECONNECT_CREATE_CONNECTION=`transmitter:reconnect_create_connection`,e$1.ON_TOKEN_PRIVILEGE_DID_EXPIRE=`transmitter:on_token_privilege_did_expire`,e$1.TO_CONNECT_DATACHANNEL=`transmitter:to_connect_datachannel`,e$1.FAILBACK=`transmitter:failback`,e$1.PRE_CONNECT_PC=`transmitter:pre_connect_pc`,e$1}({}),Ox=function(e$1){return e$1.CAMERA_CHANGED=`camera-changed`,e$1.MICROPHONE_CHANGED=`microphone-changed`,e$1.PLAYBACK_DEVICE_CHANGED=`playback-device-changed`,e$1.AUDIO_AUTOPLAY_FAILED=`audio-autoplay-failed`,e$1.AUTOPLAY_FAILED=`autoplay-failed`,e$1.AUDIO_CONTEXT_STATE_CHANGED=`audio-context-state-changed`,e$1.SECURITY_POLICY_VIOLATION=`security-policy-violation`,e$1}({}),Nx=function(e$1){return e$1.CONNECTING=`CONNECTING`,e$1.RECONNECTING=`RECONNECTING`,e$1.CONNECTED=`CONNECTED`,e$1.CLOSED=`CLOSED`,e$1}({}),Dx=function(e$1){return e$1.CONNECTION_STATE_CHANGE=`connection-state-change`,e$1.STATE_CHANGE=`state-change`,e$1.INSPECT_RESULT=`inspect-result`,e$1.CLIENT_LOCAL_VIDEO_TRACK=`client-local-video-track`,e$1.REQUEST_NEW_WORKER_URL=`request-new-worker-url`,e$1}({}),Px=function(e$1){return e$1[e$1.CONNECT_AP=0]=`CONNECT_AP`,e$1[e$1.AP_CONNECTED=1]=`AP_CONNECTED`,e$1[e$1.CONNECT_WORKER_MANAGER=2]=`CONNECT_WORKER_MANAGER`,e$1[e$1.WORKER_MANAGER_CONNECTED=3]=`WORKER_MANAGER_CONNECTED`,e$1[e$1.GET_WORKER_MANAGER_RESPONSE=4]=`GET_WORKER_MANAGER_RESPONSE`,e$1[e$1.CONNECT_WORKER=5]=`CONNECT_WORKER`,e$1[e$1.WORKER_CONNECTED=6]=`WORKER_CONNECTED`,e$1[e$1.CLOSED=7]=`CLOSED`,e$1}({}),Lx=function(e$1){return e$1.CALL=`call`,e$1.CANDIDATE=`candidate`,e$1.PUBLISH=`publish`,e$1.UNPUBLISH=`unpublish`,e$1.CONTROL=`control`,e$1.RESTART_ICE=`restart_ice`,e$1.ACK=`ack`,e$1.RESPONSE=`response`,e$1.JOIN=`join`,e$1.CHECK=`check`,e$1}({}),kx=function(e$1){return e$1.ABORT=`abort`,e$1}({}),Mx=function(e$1){return e$1.MUTE_LOCAL_AUDIO=`mute_local_audio`,e$1.MUTE_LOCAL_VIDEO=`mute_local_video`,e$1.UNMUTE_LOCAL_AUDIO=`unmute_local_audio`,e$1.UNMUTE_LOCAL_VIDEO=`unmute_local_video`,e$1}({}),Ux=function(e$1){return e$1.P2P_TOKEN_TIMEOUT=`p2p_token_timeout`,e$1.P2P_TOKEN_CHANGED=`p2p_token_changed`,e$1}({}),Vx={[PV.ACCESS_POINT]:{[MV.NO_FLAG_SET]:{desc:`flag is zero`,retry:!1},[MV.FLAG_SET_BUT_EMPTY]:{desc:`flag is empty`,retry:!1},[MV.INVALID_FALG_SET]:{desc:`invalid flag`,retry:!1},[MV.FLAG_SET_BUT_NO_RE]:{desc:`flag set unilbs but no request`,retry:!1},[MV.INVALID_SERVICE_ID]:{desc:`invalid service id`,retry:!1},[MV.NO_SERVICE_AVAILABLE]:{desc:`no service available`,retry:!0},[MV.NO_SERVICE_AVAILABLE_P2P]:{desc:`no unilbs p2p service available`,retry:!0},[MV.NO_SERVICE_AVAILABLE_VOICE]:{desc:`no unilbs voice service available`,retry:!0},[MV.NO_SERVICE_AVAILABLE_WEBRTC]:{desc:`no unilbs webrtc service available`,retry:!0},[MV.NO_SERVICE_AVAILABLE_CDS]:{desc:`no cds service available`,retry:!0},[MV.NO_SERVICE_AVAILABLE_CDN]:{desc:`no cdn dispatcher service available`,retry:!0},[MV.NO_SERVICE_AVAILABLE_TDS]:{desc:`no tds service available`,retry:!0},[MV.NO_SERVICE_AVAILABLE_REPORT]:{desc:`no unilbs report service available`,retry:!0},[MV.NO_SERVICE_AVAILABLE_APP_CENTER]:{desc:`no app center service available`,retry:!0},[MV.NO_SERVICE_AVAILABLE_ENV0]:{desc:`no unilbs sig env0 service available`,retry:!0},[MV.NO_SERVICE_AVAILABLE_VOET]:{desc:`no unilbs voet service available`,retry:!0},[MV.NO_SERVICE_AVAILABLE_STRING_UID]:{desc:`no string uid service available`,retry:!0},[MV.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS]:{desc:`no webrtc unilbs service available`,retry:!0}},[PV.UNILBS]:{[kV.INVALID_VENDOR_KEY]:{desc:`invalid vendor key, can not find appid`,retry:!1},[kV.INVALID_CHANNEL_NAME]:{desc:`invalid channel name`,retry:!1},[kV.INTERNAL_ERROR]:{desc:`unilbs internal error`,retry:!1},[kV.NO_AUTHORIZED]:{desc:`invalid token, authorized failed`,retry:!1},[kV.DYNAMIC_KEY_TIMEOUT]:{desc:`dynamic key or token timeout`,retry:!1},[kV.NO_ACTIVE_STATUS]:{desc:`no active status`,retry:!1},[kV.DYNAMIC_KEY_EXPIRED]:{desc:`dynamic key expired`,retry:!1},[kV.STATIC_USE_DYNAMIC_KEY]:{desc:`static use dynamic key`,retry:!1},[kV.DYNAMIC_USE_STATIC_KEY]:{desc:`dynamic use static key`,retry:!1},[kV.USER_OVERLOAD]:{desc:`amount of users over load`,retry:!1},[kV.FORBIDDEN_REGION]:{desc:`the request is forbidden in this area`,retry:!1},[kV.CANNOT_MEET_AREA_DEMAND]:{desc:`unable to allocate services in this area`,retry:!1},[kV.REQ_DOWNGRADE_FALLBACK]:{desc:`request downgrade fallback`,retry:!1}},[PV.STRING_UID_ALLOCATOR]:{[LV.IIIEGAL_APPID]:{desc:`invalid appid`,retry:!1},[LV.IIIEGAL_UID]:{desc:`invalid string uid`,retry:!1},[LV.INTERNAL_ERROR]:{desc:`string uid allocator internal error`,retry:!0}}};function xx(e$1){let t$1=Vx[Math.floor(e$1/1e4)];if(!t$1)return{desc:`unknown error`,retry:!1};let i$1=t$1[e$1%1e4];if(!i$1){if(Math.floor(e$1/1e4)===PV.ACCESS_POINT){let t$2=e$1%1e4;if(t$2.toString()[0]===`1`)return{desc:e$1.toString(),retry:!1};if(t$2.toString()[0]===`2`)return{desc:e$1.toString(),retry:!0}}return{desc:`unknown error`,retry:!1}}return i$1}let Fx={[UV.K_TIMESTAMP_EXPIRED]:{desc:`K_TIMESTAMP_EXPIRED`,action:`failed`},[UV.K_CHANNEL_PERMISSION_INVALID]:{desc:`K_CHANNEL_PERMISSION_INVALID`,action:`failed`},[UV.K_CERTIFICATE_INVALID]:{desc:`K_CERTIFICATE_INVALID`,action:`failed`},[UV.K_CHANNEL_NAME_EMPTY]:{desc:`K_CHANNEL_NAME_EMPTY`,action:`failed`},[UV.K_CHANNEL_NOT_FOUND]:{desc:`K_CHANNEL_NOT_FOUND`,action:`failed`},[UV.K_TICKET_INVALID]:{desc:`K_TICKET_INVALID`,action:`failed`},[UV.K_CHANNEL_CONFLICTED]:{desc:`K_CHANNEL_CONFLICTED`,action:`failed`},[UV.K_SERVICE_NOT_READY]:{desc:`K_SERVICE_NOT_READY`,action:`tryNext`},[UV.K_SERVICE_TOO_HEAVY]:{desc:`K_SERVICE_TOO_HEAVY`,action:`tryNext`},[UV.K_UID_BANNED]:{desc:`K_UID_BANNED`,action:`failed`},[UV.K_IP_BANNED]:{desc:`K_IP_BANNED`,action:`failed`},[UV.DATASTREAM2_NOT_AVAILABLE]:{desc:`DATASTREAM2_NOT_AVAILABLE`,action:`quit`},[UV.K_AUTO_REBALANCE]:{desc:`k_AUTO_REBALANCE`,action:`recover`},[UV.K_VOS_FALLBACK]:{desc:`K_VOS_FALLBACK`,action:`tryNext`},[UV.ERR_INVALID_VENDOR_KEY]:{desc:`ERR_INVALID_VENDOR_KEY`,action:`failed`},[UV.ERR_INVALID_CHANNEL_NAME]:{desc:`ERR_INVALID_CHANNEL_NAME`,action:`failed`},[UV.WARN_NO_AVAILABLE_CHANNEL]:{desc:`WARN_NO_AVAILABLE_CHANNEL`,action:`failed`},[UV.WARN_LOOKUP_CHANNEL_TIMEOUT]:{desc:`WARN_LOOKUP_CHANNEL_TIMEOUT`,action:`tryNext`},[UV.WARN_LOOKUP_CHANNEL_REJECTED]:{desc:`WARN_LOOKUP_CHANNEL_REJECTED`,action:`failed`},[UV.WARN_OPEN_CHANNEL_TIMEOUT]:{desc:`WARN_OPEN_CHANNEL_TIMEOUT`,action:`tryNext`},[UV.WARN_OPEN_CHANNEL_REJECTED]:{desc:`WARN_OPEN_CHANNEL_REJECTED`,action:`failed`},[UV.WARN_REQUEST_DEFERRED]:{desc:`WARN_REQUEST_DEFERRED`,action:`failed`},[UV.ERR_DYNAMIC_KEY_TIMEOUT]:{desc:`ERR_DYNAMIC_KEY_TIMEOUT`,action:`failed`},[UV.ERR_NO_AUTHORIZED]:{desc:`ERR_NO_AUTHORIZED`,action:`failed`},[UV.ERR_VOM_SERVICE_UNAVAILABLE]:{desc:`ERR_VOM_SERVICE_UNAVAILABLE`,action:`tryNext`},[UV.ERR_NO_CHANNEL_AVAILABLE_CODE]:{desc:`ERR_NO_CHANNEL_AVAILABLE_CODE`,action:`failed`},[UV.ERR_MASTER_VOCS_UNAVAILABLE]:{desc:`ERR_MASTER_VOCS_UNAVAILABLE`,action:`tryNext`},[UV.ERR_INTERNAL_ERROR]:{desc:`ERR_INTERNAL_ERROR`,action:`tryNext`},[UV.ERR_NO_ACTIVE_STATUS]:{desc:`ERR_NO_ACTIVE_STATUS`,action:`failed`},[UV.ERR_INVALID_UID]:{desc:`ERR_INVALID_UID`,action:`failed`},[UV.ERR_DYNAMIC_KEY_EXPIRED]:{desc:`ERR_DYNAMIC_KEY_EXPIRED`,action:`failed`},[UV.ERR_STATIC_USE_DYANMIC_KE]:{desc:`ERR_STATIC_USE_DYANMIC_KE`,action:`failed`},[UV.ERR_DYNAMIC_USE_STATIC_KE]:{desc:`ERR_DYNAMIC_USE_STATIC_KE`,action:`failed`},[UV.ERR_NO_VOCS_AVAILABLE]:{desc:`ERR_NO_VOCS_AVAILABLE`,action:`tryNext`},[UV.ERR_NO_VOS_AVAILABLE]:{desc:`ERR_NO_VOS_AVAILABLE`,action:`tryNext`},[UV.ERR_JOIN_CHANNEL_TIMEOUT]:{desc:`ERR_JOIN_CHANNEL_TIMEOUT`,action:`tryNext`},[UV.ERR_JOIN_BY_MULTI_IP]:{desc:`ERR_JOIN_BY_MULTI_IP`,action:`recover`},[UV.ERR_NOT_JOINED]:{desc:`ERR_NOT_JOINED`,action:`failed`},[UV.ERR_REPEAT_JOIN_REQUEST]:{desc:`ERR_REPEAT_JOIN_REQUEST`,action:`quit`},[UV.ERR_REPEAT_JOIN_CHANNEL]:{desc:`ERR_REPEAT_JOIN_CHANNEL`,action:`quit`},[UV.ERR_INVALID_STRINGUID]:{desc:`ERR_INVALID_STRINGUID`,action:`failed`},[UV.ERR_TOO_MANY_USERS]:{desc:`ERR_TOO_MANY_USERS`,action:`tryNext`},[UV.ERR_SET_CLIENT_ROLE_TIMEOUT]:{desc:`ERR_SET_CLIENT_ROLE_TIMEOUT`,action:`failed`},[UV.ERR_SET_CLIENT_ROLE_NO_PERMISSION]:{desc:`ERR_SET_CLIENT_ROLE_TIMEOUT`,action:`failed`},[UV.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE]:{desc:`ERR_SET_CLIENT_ROLE_ALREADY_IN_USE`,action:`success`},[UV.ERR_PUBLISH_REQUEST_INVALID]:{desc:`ERR_PUBLISH_REQUEST_INVALID`,action:`failed`},[UV.ERR_SUBSCRIBE_REQUEST_INVALID]:{desc:`ERR_SUBSCRIBE_REQUEST_INVALID`,action:`failed`},[UV.ERR_NOT_SUPPORTED_MESSAGE]:{desc:`ERR_NOT_SUPPORTED_MESSAGE`,action:`failed`},[UV.ERR_ILLEAGAL_PLUGIN]:{desc:`ERR_ILLEAGAL_PLUGIN`,action:`failed`},[UV.ILLEGAL_CLIENT_ROLE_LEVEL]:{desc:`ILLEGAL_CLIENT_ROLE_LEVEL`,action:`failed`},[UV.ERR_REJOIN_TOKEN_INVALID]:{desc:`ERR_REJOIN_TOKEN_INVALID`,action:`failed`},[UV.ERR_REJOIN_USER_NOT_JOINED]:{desc:`ERR_REJOIN_NOT_JOINED`,action:`failed`},[UV.ERR_INVALID_OPTIONAL_INFO]:{desc:`ERR_INVALID_OPTIONAL_INFO`,action:`quit`},[UV.ERR_TEST_RECOVER]:{desc:`ERR_TEST_RECOVER`,action:`recover`},[UV.ERR_TEST_TRYNEXT]:{desc:`ERR_TEST_TRYNEXT`,action:`recover`},[UV.ERR_TEST_RETRY]:{desc:`ERR_TEST_RETRY`,action:`recover`},[UV.ILLEGAL_AES_PASSWORD]:{desc:`ERR_TEST_RETRY`,action:`failed`},[UV.ERR_TOO_MANY_BROADCASTERS]:{desc:`ERR_TOO_MANY_BROADCASTERS`,action:`failed`},[UV.ERR_TOO_MANY_SUBSCRIBERS]:{desc:`ERR_TOO_MANY_SUBSCRIBERS`,action:`failed`},[UV.ERR_LICENSE_ILLEGAL]:{desc:`ERR_LICENSE_ILLEGAL`,action:`quit`},[UV.ERR_LICENSE_MISSING]:{desc:`ERR_LICENSE_MISSING`,action:`quit`},[UV.ERR_LICENSE_EXPIRED]:{desc:`ERR_LICENSE_EXPIRED`,action:`quit`},[UV.ERR_LICENSE_MINUTES_EXCEEDED]:{desc:`ERR_LICENSE_MINUTES_EXCEEDED`,action:`quit`},[UV.ERR_LICENSE_PERIOD_INVALID]:{desc:`ERR_LICENSE_PERIOD_INVALID`,action:`quit`},[UV.ERR_LICENSE_MULTIPLE_SDK_SERVICE]:{desc:`ERR_LICENSE_MULTIPLE_SDK_SERVICE`,action:`quit`}};function Bx(e$1){return Fx[e$1]||{desc:`UNKNOWN_ERROR_${e$1}`,action:`failed`}}function jx(e$1,t$1){var i$1=Object.keys(e$1);if(Object.getOwnPropertySymbols){var n$1=Object.getOwnPropertySymbols(e$1);t$1&&(n$1=n$1.filter((function(t$2){return Object.getOwnPropertyDescriptor(e$1,t$2).enumerable}))),i$1.push.apply(i$1,n$1)}return i$1}function Gx(e$1){for(var t$1=1;t$1<arguments.length;t$1++){var i$1=arguments[t$1]==null?{}:arguments[t$1];t$1%2?jx(Object(i$1),!0).forEach((function(t$2){iA(e$1,t$2,i$1[t$2])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e$1,Object.getOwnPropertyDescriptors(i$1)):jx(Object(i$1)).forEach((function(t$2){Object.defineProperty(e$1,t$2,Object.getOwnPropertyDescriptor(i$1,t$2))}))}return e$1}function Wx(e$1,t$1){if(typeof e$1==`string`)return e$1;let{proxy:i$1,host:n$1,port:r$1}=e$1;if(t$1){let e$2=CD(`JOIN_GATEWAY_FALLBACK_PORT`)||443;return e$2===443?`wss://${n$1}/ws/?p=${Number(r$1)+150}`:`wss://${n$1}:${e$2}/ws/?p=${Number(r$1)+150}`}return i$1?`wss://${i$1}/ws/?h=${n$1}&p=${r$1}`:`wss://${n$1}:${r$1}`}let Hx=/wss:\/\/(.+)\/ws\/\?h=(.+)&p=([0-9]+)\/?/,Kx=/wss:\/\/(.+)\/ws\/\?p=([0-9]+)\/?/,Yx=/wss:\/\/(.+):([0-9]+)\/?/,zx=/wss:\/\/(.[^\/]+)\/?/,qx=0;class Xx{constructor(e$1,t$1){iA(this,`id`,0),iA(this,`store`,void 0),iA(this,`recordIndex`,void 0),iA(this,`websockets`,[]),iA(this,`try443PortDuration`,2e3),iA(this,`forceCloseWSDuration`,5e3),iA(this,`try443PortTimeout`,null),iA(this,`forceCloseTimeout`,null),iA(this,`isTry443PortFailed`,!1),iA(this,`isNormalPortFailed`,!1),iA(this,`useDoubleDomain`,!1),iA(this,`useProxy`,!1),iA(this,`startTime`,Date.now()),this.id=++qx,this.try443PortDuration=CD(`JOIN_GATEWAY_TRY_443PORT_DURATION`)||2e3,this.forceCloseWSDuration=e$1||5e3,this.store=t$1}closeAllWebsockets(){this.websockets.forEach((e$1=>{e$1.onopen=null,e$1.onclose=null,e$1.onmessage=null,e$1.close()})),this.websockets.length=0}clearTimeout(){this.forceCloseTimeout&&clearTimeout(this.forceCloseTimeout),this.try443PortTimeout&&clearTimeout(this.try443PortTimeout),this.forceCloseTimeout=null,this.try443PortTimeout=null}logger(){var e$1;let t$1=Date.now()-this.startTime;var n$1=[...arguments];iP.debug(`[choose-best-ws ${this.store?.clientId} ${this.id}] ${t$1}ms:`,...n$1)}createWebSocket(e$1,t$1,i$1){this.logger(`createWebSocket:`,e$1,{isTry443Port:t$1,hasTimeoutDetection:i$1});let n$1=CD(`GATEWAY_DOMAINS`),r$1=Date.now(),o$1=[],s$1=n$1.find((t$2=>{var i$2;return Ln(i$2=e$1.host).call(i$2,t$2)}));s$1||(this.useDoubleDomain=!1);let a$1=[];if(this.useDoubleDomain)n$1.forEach((i$2=>{a$1.push(Wx(Gx(Gx({},e$1),{},{host:e$1.host.replace(s$1,i$2)}),t$1))}));else{let i$2=Gx({},e$1);if(t$1&&s$1){let e$2=n$1.find((e$3=>e$3!==s$1));e$2&&(i$2.host=i$2.host.replace(s$1,e$2))}a$1.push(Wx(i$2,t$1))}try{a$1.forEach((e$2=>{let t$2=new WebSocket(e$2);t$2.binaryType=`arraybuffer`,o$1.push(t$2),this.logger(`ws is connecting:`,t$2.url)}))}catch(n$2){if(this.logger(`ws create failed`),o$1.forEach((e$2=>e$2.close())),o$1.length=0,this.useDoubleDomain)return this.useDoubleDomain=!1,this.createWebSocket(e$1,t$1,i$1);if(!t$1&&Number(e$1.port)!==443)return this.createWebSocket(e$1,!0,i$1);throw new uP(hO.WS_ERR,`init websocket failed! Error: ${n$2.toString()}`)}let c$1=Cw();this.store&&this.store.recordJoinChannelService({urls:o$1.map((e$2=>e$2.url)),service:`gateway`},this.recordIndex),o$1.forEach((e$2=>{e$2.onopen=()=>{this.logger(`onopen: ws ${e$2.url} open cost ${Date.now()-r$1}ms`),this.websockets.forEach((t$2=>{t$2!==e$2&&(t$2.onopen=null,t$2.onclose=null,t$2.onmessage=null,t$2.close(),this.logger(`close backup websocket: ${t$2.url}`))})),this.websockets.length=0,c$1.resolve(e$2)},e$2.onclose=i$2=>{this.logger(`onclose: ws ${e$2.url} closed cost ${Date.now()-r$1}ms state: ${e$2.readyState}`);let n$2=o$1.every((e$3=>e$3.readyState===WebSocket.CLOSED||e$3.readyState===WebSocket.CLOSING));this.logger(`${t$1?`443`:`47xx`} websocket closed, all failed: ${n$2}`),n$2&&(t$1||this.isTry443PortFailed||this.useProxy)?(this.logger(`onclose: all websocket is closed, ${i$2.reason}`),c$1.reject({code:i$2.code,reason:ax.A_ROUND_WS_FAILED})):!t$1&&n$2&&!this.isNormalPortFailed&&this.try443PortTimeout&&(this.logger(`all 47xx websocket is closed, try 443 port`),this.clearTimeout(),l$1()),t$1?this.isTry443PortFailed=n$2:this.isNormalPortFailed=n$2},e$2.onmessage=t$2=>this.logger(`${e$2.url} onmessage: ${t$2.data}`)})),this.websockets.push(...o$1);let d$1=()=>{this.websockets.forEach((e$2=>e$2.readyState!==WebSocket.OPEN&&e$2.close()))},l$1=()=>{if(c$1.isResolved)return d$1();Dw().os===Aw.MAC_OS&&Bw()&&d$1(),this.createWebSocket(e$1,!0,!0).then((e$2=>{c$1.resolve(e$2)})).catch((e$2=>{this.isNormalPortFailed&&c$1.reject(e$2),this.logger(`try 443 port to create ws failed`)})),this.forceCloseTimeout=window.setTimeout((()=>{this.logger(`5s timeout close un-opens, isWebsocket created: `,c$1.isResolved),this.forceCloseTimeout=null,d$1()}),this.forceCloseWSDuration)};return i$1||(()=>{if(t$1||this.useProxy)return this.logger(`add 5s timeout at ${t$1?`try-443`:`proxy`} condition`),this.forceCloseTimeout=window.setTimeout((()=>{this.forceCloseTimeout=null,d$1()}),this.forceCloseWSDuration);this.try443PortTimeout=window.setTimeout((()=>{this.logger(`2s timeout, isWebsocket created: `,c$1.isResolved),this.try443PortTimeout=null,l$1()}),this.try443PortDuration)})(),c$1.promise}chooseBestWebsocket(e$1,t$1,i$1,n$1){return this.useDoubleDomain=!!t$1,typeof e$1==`string`&&(e$1=function(e$2){let t$2,i$2,n$2;return[,t$2,i$2,n$2]=e$2.match(Hx)||[],t$2||([,i$2,n$2]=e$2.match(Kx)||[]),i$2&&n$2||([,i$2,n$2]=e$2.match(Yx)||[]),i$2&&n$2||([,i$2]=e$2.match(zx)||[]),i$2||iP.warning(`un-destructible url: `,e$2),{proxy:t$2,host:i$2,port:n$2||`443`}}(e$1)),this.recordIndex=n$1,this.useProxy=!!e$1.proxy,i$1&&this.useProxy&&(iP.warn(`cannot use 443 only when use proxy`),i$1=!1),this.createWebSocket(e$1,!!i$1,!1).finally((()=>this.clearTimeout()))}}function Jx(e$1,t$1){var i$1=Object.keys(e$1);if(Object.getOwnPropertySymbols){var n$1=Object.getOwnPropertySymbols(e$1);t$1&&(n$1=n$1.filter((function(t$2){return Object.getOwnPropertyDescriptor(e$1,t$2).enumerable}))),i$1.push.apply(i$1,n$1)}return i$1}class Qx extends NO{get url(){return this.websocket&&this.websocket.url||this._websocketUrl}get reconnectMode(){return this._reconnectMode}set reconnectMode(e$1){var t$1;Ln(t$1=[`tryNext`,`recover`]).call(t$1,e$1)&&this.resetReconnectCount(e$1),this._reconnectMode=e$1}get state(){return this._state}set state(e$1){e$1!==this._state&&(this._state=e$1,this._state===`reconnecting`?this.emit(WV.RECONNECTING,this.reconnectReason):this._state===`connected`?this.emit(WV.CONNECTED):this._state===`closed`?this.emit(WV.CLOSED):this._state===`failed`&&this.emit(WV.FAILED))}resetReconnectCount(e$1){iP.debug(`websocket reset reconnect count, reason: `+e$1),this.reconnectCount=0}constructor(e$1,t$1){let i$1=arguments.length>2&&arguments[2]!==void 0&&arguments[2],n$1=arguments.length>3&&arguments[3]!==void 0&&arguments[3],r$1=arguments.length>4&&arguments[4]!==void 0&&arguments[4],o$1=arguments.length>5?arguments[5]:void 0;super(),iA(this,`_websocketUrl`,null),iA(this,`connectionID`,0),iA(this,`currentURLIndex`,0),iA(this,`urls`,[]),iA(this,`_reconnectMode`,`tryNext`),iA(this,`reconnectReason`,void 0),iA(this,`_initMutex`,void 0),iA(this,`name`,void 0),iA(this,`_state`,`closed`),iA(this,`reconnectInterrupter`,void 0),iA(this,`websocket`,void 0),iA(this,`retryConfig`,void 0),iA(this,`reconnectCount`,0),iA(this,`forceCloseTimeout`,5e3),iA(this,`onlineReconnectListener`,void 0),iA(this,`useCompress`,void 0),iA(this,`tryDoubleDomain`,!1),iA(this,`use443PortOnly`,!1),iA(this,`wsInflateLength`,0),iA(this,`wsDeflateLength`,0),iA(this,`closeEstablishingWs`,(()=>{})),iA(this,`store`,void 0),iA(this,`joinGatewayRecordIndex`,void 0),this.store=o$1,this.name=e$1,this.retryConfig=function(e$2){for(var t$2=1;t$2<arguments.length;t$2++){var i$2=arguments[t$2]==null?{}:arguments[t$2];t$2%2?Jx(Object(i$2),!0).forEach((function(t$3){iA(e$2,t$3,i$2[t$3])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e$2,Object.getOwnPropertyDescriptors(i$2)):Jx(Object(i$2)).forEach((function(t$3){Object.defineProperty(e$2,t$3,Object.getOwnPropertyDescriptor(i$2,t$3))}))}return e$2}({},t$1),this.useCompress=i$1,this.tryDoubleDomain=n$1,this.use443PortOnly=r$1,this._initMutex=new PN(`websocket`,o$1?o$1.clientId:void 0);let{timeout:s$1,timeoutFactor:a$1}=t$1,c$1=Math.max(300,Math.floor(3*s$1/5)),d$1=Math.max(1.2,Math.floor(8*a$1)/10);KO.ONLINE&&(this.retryConfig.timeout=c$1,this.retryConfig.timeoutFactor=d$1),QO.on(YO.NETWORK_STATE_CHANGE,((e$2,t$2)=>{e$2!==t$2&&(this.resetReconnectCount(`network state change: ${t$2} -> ${e$2}`),e$2===KO.ONLINE?(this.retryConfig.timeout=c$1,this.retryConfig.timeoutFactor=d$1):(this.retryConfig.timeout=s$1,this.retryConfig.timeoutFactor=a$1))}))}getConnection(){return this.websocket||void 0}async init(e$1){let t$1=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5e3,i$1=await this._initMutex.lock();this._reconnectMode=`tryNext`,this.forceCloseTimeout=t$1,this.urls=e$1,this.state=`connecting`;try{var n$1;let e$2=Cw(),t$2=this.urls[this.currentURLIndex];(n$1=this.store)==null||n$1.beforeConnect(),function(e$3){return!(EP()||CD(`USE_NEW_TOKEN`)||!CD(`ENABLE_PREALLOC_PC`)&&(e$3==null||!e$3.autoSubscribe||CD(`FORCE_DISABLE_AUTO_SUB`)))}(this.store)&&this.emit(wx.PRE_CONNECT_PC),this.createWebSocketConnection(t$2).then(e$2.resolve).catch(e$2.reject),this.once(WV.CLOSED,(()=>{e$2.reject(new pO(hO.WS_DISCONNECT))})),this.once(WV.CONNECTED,e$2.resolve),await e$2.promise}catch{}finally{i$1()}}close(e$1,t$1){if(this.currentURLIndex=0,this.resetReconnectCount(`close`),this.reconnectInterrupter&&this.reconnectInterrupter(),this.websocket){this.websocket.onclose=null,this.websocket.onopen=null,this.websocket.onmessage=null;let e$2=this.websocket;t$1?setTimeout((()=>e$2.close()),500):e$2.close(),this.websocket=void 0,this._websocketUrl=null}this.state=e$1?`failed`:`closed`,this.closeEstablishingWs&&this.closeEstablishingWs()}reconnect(e$1,t$1){if(!this.websocket)return void iP.warning(`[${this.name}] can not reconnect, no websocket`);e$1!==void 0&&(this.reconnectMode=e$1),iP.debug(`[${this.name}] reconnect is triggered initiative`),typeof this.joinGatewayRecordIndex==`number`&&this.store&&this.store.recordJoinChannelService({status:`error`,errors:[Error(t$1)]},this.joinGatewayRecordIndex);let i$1=this.websocket.onclose;this.websocket.onclose=null,this.websocket.close(),i$1&&i$1.bind(this.websocket)({code:9999,reason:t$1})}sendMessage(e$1){let t$1=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!this.websocket||this.websocket.readyState!==WebSocket.OPEN)throw new pO(hO.WS_ABORT,`websocket is not ready`);try{t$1||(e$1=JSON.stringify(e$1)),this.websocket.send(e$1)}catch(e$2){throw new pO(hO.WS_ERR,`send websocket message error`+e$2.toString())}}setWsInflateData(e$1){this.wsDeflateLength+=e$1.originLength,this.wsInflateLength+=e$1.compressedLength}getWsInflateData(){let e$1=this.wsInflateLength,t$1=this.wsDeflateLength;return this.clearWsInflateData(),{wsInflateLength:e$1,wsDeflateLength:t$1}}clearWsInflateData(){this.wsInflateLength=0,this.wsDeflateLength=0}async createWebSocketConnection(e$1){var t$1;let i$1=Cw();this.connectionID+=1,this.joinGatewayRecordIndex=void 0;let n$1=e$2=>{var t$2;(t$2=this.store)==null||t$2.signalChannelOpen(),iP.debug(`[${this.name}] websocket opened:`,e$2),this.reconnectMode=`retry`,this.state=`connected`,this.resetReconnectCount(`opened`),i$1.resolve()},r$1=async e$2=>{var t$2;if(iP.debug(`[${this.name}] websocket close ${this.websocket?.url}, code: ${e$2.code}, reason: ${e$2.reason}, current mode: ${this.reconnectMode}`),this.reconnectCount>=this.retryConfig.maxRetryCount)i$1.reject(new pO(hO.WS_DISCONNECT,`websocket close: ${e$2.code}`)),this.close();else{this.state===`connected`&&(this.reconnectReason=e$2.reason,this.state=`reconnecting`);let t$3=XO(this,WV.WILL_RECONNECT,this.reconnectMode,e$2.reason)||this.reconnectMode,n$2=await this.reconnectWithAction(t$3);if(this.state===`closed`)return void iP.debug(`[${this.connectionID}] ws is closed, no need to reconnect`);if(!n$2)return i$1.reject(new pO(hO.WS_DISCONNECT,`websocket reconnect failed: ${e$2.code}`)),this.close(!0);i$1.resolve()}},o$1=e$2=>{this.emit(WV.ON_MESSAGE,e$2)},s$1=e$2=>{iP.warn(`[${this.connectionID}] ws open error ${e$2}`)};this.websocket&&(this.websocket.onclose=null,this.websocket.close()),CD(`GATEWAY_WSS_ADDRESS`)&&this.name.startsWith(`gateway`)&&(e$1=CD(`GATEWAY_WSS_ADDRESS`)),iP.debug(`[${this.name}] start connect, url:`,e$1);let a$1=this.store?.recordJoinChannelService({startTs:Date.now(),status:`pending`,service:`gateway`});try{var c$1;this._websocketUrl=Wx(e$1),this.websocket=await this.chooseBestWebsocketConnection(e$1),n$1&&n$1(this.websocket.url),this.websocket.onclose=r$1,this.websocket.onmessage=o$1,this.websocket.onerror=s$1,(c$1=this.store)==null||c$1.recordJoinChannelService({endTs:Date.now(),status:`success`},a$1),this.joinGatewayRecordIndex=a$1}catch(e$2){let t$2=this.state===`closed`,n$2=e$2 instanceof pO,o$2=n$2&&e$2.code===hO.WS_ABORT,s$2=n$2&&e$2.code===hO.WS_ERR,c$2=n$2?e$2.message:e$2&&(e$2.reason||e$2.toString());iP.warning(`[choose-best-ws] chooseBestWebsocket error: ${c$2}`),this.store&&this.store.recordJoinChannelService({endTs:Date.now(),status:o$2?`aborted`:`error`,errors:[e$2]},a$1),t$2||s$2?(i$1.reject(t$2?new pO(hO.WS_DISCONNECT,`websocket is closed: ${c$2}`):new pO(hO.WS_ERR,`init websocket failed: ${c$2}`)),s$2&&iP.error(`[${this.name}] init websocket failed: ${c$2}`)):r$1&&r$1(e$2)}return i$1.promise}async reconnectWithAction(e$1){let t$1=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(this.reconnectCount>=this.retryConfig.maxRetryCount||this.urls.length===0||this.state===`closed`)return!1;iP.warning(`[choose-best-ws] action: =>`,e$1),this.onlineReconnectListener||QO.isOnline||!QO.onlineWaiter||(this.onlineReconnectListener=QO.onlineWaiter.then((()=>{this.onlineReconnectListener=void 0})));let i$1=!0;if(this.reconnectInterrupter=()=>i$1=!1,t$1){let t$2=MN(this.reconnectCount,this.retryConfig);iP.debug(`[${this.name}] wait ${t$2}ms to reconnect websocket, mode: ${e$1}`),await rp.race([fN(t$2),this.onlineReconnectListener||new rp((()=>{}))])}if(this._state===`closed`||!i$1)return!1;this.reconnectCount+=1;let n$1=async(e$2,t$2)=>{this.emit(WV.RECONNECT_CREATE_CONNECTION,t$2),await this.createWebSocketConnection(e$2)};try{if(e$1===`retry`)await n$1(this.urls[this.currentURLIndex],e$1);else if(e$1===`tryNext`){if(this.currentURLIndex+=1,this.currentURLIndex>=this.urls.length)return this.reconnectWithAction(`recover`,!1);iP.debug(`[${this.name}] websocket url length: ${this.urls.length} current index: ${this.currentURLIndex}`),await n$1(this.urls[this.currentURLIndex],e$1)}else e$1===`recover`&&(iP.debug(`[${this.name}] request new urls`),this.resetReconnectCount(`recover mode`),this.urls=await zO(this,WV.REQUEST_NEW_URLS),this.currentURLIndex=0,await n$1(this.urls[this.currentURLIndex],e$1))}catch(i$2){var r$1;iP.error(`[${this.name}] reconnect failed ${i$2&&i$2.toString()}`);let n$2=i$2==null||(r$1=i$2.data)==null?void 0:r$1.desc;if(Array.isArray(n$2)){if(Ln(n$2).call(n$2,`dynamic key expired`))return this.emit(WV.ON_TOKEN_PRIVILEGE_DID_EXPIRE),!1;if(Ln(n$2).call(n$2,`request downgrade fallback`))return this.emit(WV.ON_FALLBACK),!1}return this.reconnectWithAction(e$1,t$1)}return!0}}class Zx extends Qx{constructor(e$1,t$1){super(e$1,t$1,arguments.length>2&&arguments[2]!==void 0&&arguments[2],arguments.length>3&&arguments[3]!==void 0&&arguments[3],arguments.length>4&&arguments[4]!==void 0&&arguments[4],arguments.length>5?arguments[5]:void 0)}async chooseBestWebsocketConnection(e$1,t$1){let i$1=Cw(),n$1=function(e$2,t$2){return new Xx(e$2,t$2)}(this.forceCloseTimeout,this.store);this.closeEstablishingWs=()=>{iP.debug(`[choose-best-ws] close establishing websockets`),n$1.closeAllWebsockets(),i$1.reject(new pO(hO.WS_ABORT,`choose best websocket aborted`))};let r$1=CD(`GATEWAY_DOMAINS`);return iP.debug(`[choose-best-ws] currentDomain: `,e$1,`, domains: `,r$1,`total: ${this.urls.length}`,`current: ${this.currentURLIndex+1}`),n$1.chooseBestWebsocket(e$1,this.tryDoubleDomain,this.use443PortOnly,t$1).then(i$1.resolve).catch(i$1.reject),i$1.promise.finally((()=>{this.closeEstablishingWs=void 0}))}}class $x extends Qx{constructor(e$1,t$1){super(e$1,t$1,arguments.length>2&&arguments[2]!==void 0&&arguments[2],arguments.length>3&&arguments[3]!==void 0&&arguments[3],arguments.length>4&&arguments[4]!==void 0&&arguments[4],arguments.length>5?arguments[5]:void 0)}async chooseBestWebsocketConnection(e$1,t$1){return new rp(((i$1,n$1)=>{let r$1=!1,o$1=[];this.closeEstablishingWs=()=>{iP.debug(`[choose-best-ws] close establishing websockets`),o$1.forEach((e$2=>{e$2.onclose=null,e$2.onopen=null,e$2.onmessage=null,e$2.close()})),n$1(new pO(hO.WS_ABORT,`choose best websocket aborted`))};let s$1=CD(`GATEWAY_DOMAINS`),a$1,c$1=e$1.indexOf(`?h=`),d$1=s$1.find((t$2=>c$1===-1?Ln(e$1).call(e$1,t$2):Ln(e$1).call(e$1,t$2,c$1)));iP.debug(`[choose-best-ws] currentDomain: `,d$1,`, domains: `,s$1);let l$1=!this.tryDoubleDomain||!d$1;if(!l$1&&d$1){var u$1;let h$2=Date.now();try{s$1.forEach((t$2=>{let i$2=c$1===-1?e$1.replace(d$1,t$2):e$1.substr(0,c$1)+e$1.substr(c$1).replace(d$1,t$2),n$2=new WebSocket(i$2);n$2.binaryType=`arraybuffer`,o$1.push(n$2),iP.debug(`[choose-best-ws] ws is connecting:`,n$2.url)}))}catch{for(iP.debug(`[choose-best-ws] ws create failed, fallback to single url`),o$1.forEach((e$3=>e$3.close()));o$1.length;)o$1.pop();l$1=!0}(u$1=this.store)==null||u$1.recordJoinChannelService({urls:o$1.map((e$2=>e$2.url)),service:`gateway`},t$1),o$1.forEach((e$2=>{e$2.onopen=()=>{if(r$1)return;let t$2=Date.now()-h$2;iP.debug(`[choose-best-ws] ws open cost ${t$2}ms`),o$1.filter((t$3=>t$3!==e$2)).forEach((e$3=>{iP.debug(`[choose-best-ws]close backup websocket: ${e$3.url}`),e$3.close()})),r$1=!0,i$1(e$2)},e$2.onclose=e$3=>{a$1=e$3,!r$1&&(o$1.find((e$4=>!(e$4.readyState===WebSocket.CLOSED||e$4.readyState===WebSocket.CLOSING)))||(iP.debug(`[choose-best-ws] all websocket is closed`),r$1=!0,n$1(a$1)))},e$2.onmessage=t$2=>{iP.debug(`[choose-best-ws]${e$2.url} onmessage: ${t$2.data}`)}})),fN(this.forceCloseTimeout).then((()=>{o$1.forEach((e$2=>{e$2.readyState!==WebSocket.OPEN&&e$2.close()}))}))}if(l$1){var h$1;let r$2;iP.debug(`[choose-best-ws] use single url: `,e$1),(h$1=this.store)==null||h$1.recordJoinChannelService({urls:[e$1],service:`gateway`},t$1);try{r$2=new WebSocket(e$1),o$1.push(r$2),r$2.binaryType=`arraybuffer`}catch(e$2){let t$2=new pO(hO.WS_ERR,`init websocket failed! Error: ${e$2.toString()}`);iP.error(`[${this.name}]${t$2}`),n$1(t$2);return}r$2.onopen=()=>{i$1(r$2)},r$2.onclose=e$2=>{n$1(e$2)},r$2.onmessage=e$2=>{iP.debug(`[choose-best-ws]${r$2.url} onmessage: ${e$2.data}`)},fN(this.forceCloseTimeout).then((()=>{r$2&&r$2.readyState!==WebSocket.OPEN&&r$2.close()}))}})).then((e$2=>(this.closeEstablishingWs=void 0,e$2))).catch((e$2=>{throw this.closeEstablishingWs=void 0,e$2}))}}class eF extends NO{get connectionState(){return this._connectionState}set connectionState(e$1){e$1!==this._connectionState&&(this._connectionState=e$1,e$1===VV.CONNECTED?this.emit(xV.WS_CONNECTED):e$1===VV.RECONNECTING?this.emit(xV.WS_RECONNECTING,this._websocketReconnectReason):e$1===VV.CLOSED&&this.emit(xV.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket&&this.websocket.url||null}get rtt(){return this.rttRolling.mean()}constructor(e$1,t$1){super(),iA(this,`__name__`,`AgoraRTCSignal`),iA(this,`_disconnectedReason`,void 0),iA(this,`_websocketReconnectReason`,void 0),iA(this,`_connectionState`,VV.CLOSED),iA(this,`reconnectToken`,void 0),iA(this,`websocket`,void 0),iA(this,`openConnectionTime`,void 0),iA(this,`clientId`,void 0),iA(this,`lastMsgTime`,Date.now()),iA(this,`uploadCache`,[]),iA(this,`uploadCacheInterval`,void 0),iA(this,`rttRolling`,new xN(5)),iA(this,`pingpongTimer`,void 0),iA(this,`wsInflateDataTimer`,void 0),iA(this,`pingpongTimeoutCount`,0),iA(this,`ortc`,void 0),iA(this,`joinResponse`,void 0),iA(this,`multiIpOption`,void 0),iA(this,`initError`,void 0),iA(this,`spec`,void 0),iA(this,`store`,void 0),iA(this,`onWebsocketMessage`,(e$2=>{if(e$2.data instanceof ArrayBuffer)return void this.emit(xV.ON_BINARY_DATA,e$2.data);let t$2=JSON.parse(e$2.data);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(t$2,`_id`)){let e$3=`res-@${t$2._id}`;this.emit(e$3,t$2._result,t$2._message)}else if(Object.prototype.hasOwnProperty.call(t$2,`_type`)){if(this.emit(t$2._type,t$2._message),t$2._type===jV.ON_NOTIFICATION&&this.handleNotification(t$2._message),t$2._type===jV.ON_USER_BANNED)switch(t$2._message.error_code){case 14:this.close(VO.UID_BANNED);break;case 15:this.close(VO.IP_BANNED);break;case 16:this.close(VO.CHANNEL_BANNED)}if(t$2._type===jV.ON_USER_LICENSE_BANNED)switch(t$2._message.error_code){case UV.ERR_LICENSE_MISSING:this.close(VO.LICENSE_MISSING);break;case UV.ERR_LICENSE_EXPIRED:this.close(VO.LICENSE_EXPIRED);break;case UV.ERR_LICENSE_MINUTES_EXCEEDED:this.close(VO.LICENSE_MINUTES_EXCEEDED);break;case UV.ERR_LICENSE_PERIOD_INVALID:this.close(VO.LICENSE_PERIOD_INVALID);break;case UV.ERR_LICENSE_MULTIPLE_SDK_SERVICE:this.close(VO.LICENSE_MULTIPLE_SDK_SERVICE);break;case UV.ERR_LICENSE_ILLEGAL:this.close(VO.LICENSE_ILLEGAL);break;default:this.close()}}})),this.clientId=e$1.clientId,this.spec=e$1,this.store=t$1,this.websocket=new Zx(`gateway-${this.clientId}`,this.spec.retryConfig,!0,CD(`JOIN_GATEWAY_USE_DUAL_DOMAIN`),CD(`JOIN_GATEWAY_USE_443PORT_ONLY`),t$1),this.handleWebsocketEvents(),window.addEventListener(`offline`,(()=>{this.connectionState===VV.CONNECTED&&this.reconnect(`retry`,HO.OFFLINE)}))}async request(e$1,t$1,i$1,n$1){let r$1=SN(6,``),o$1={_id:r$1,_type:e$1,_message:t$1},s$1=this.websocket.connectionID,a$1=()=>new rp(((t$2,i$2)=>{if(this.connectionState===VV.CONNECTED)return t$2();let n$2=()=>{this.off(xV.WS_CLOSED,r$2),t$2()},r$2=()=>{this.off(xV.WS_CONNECTED,n$2),i$2(new uP(hO.WS_ABORT))};this.once(xV.WS_CONNECTED,n$2),this.once(xV.WS_CLOSED,r$2),e$1!==FV.PUBLISH&&e$1!==FV.PUBLISH_DATASTREAM&&e$1!==FV.SUBSCRIBE&&e$1!==FV.SUBSCRIBE_DATASTREAM&&e$1!==FV.UNSUBSCRIBE&&e$1!==FV.UNSUBSCRIBE_DATASTREAM&&e$1!==FV.UNPUBLISH&&e$1!==FV.UNPUBLISH_DATASTREAM&&e$1!==FV.CONTROL&&e$1!==FV.RESTART_ICE||this.once(xV.DISCONNECT_P2P,(()=>{i$2(new uP(hO.DISCONNECT_P2P))})),e$1!==FV.PUBLISH&&e$1!==FV.RESTART_ICE||this.once(xV.ABORT_P2P_EXECUTION,(()=>{i$2(new uP(hO.DISCONNECT_P2P))}))}));if(this.connectionState!==VV.CONNECTING&&this.connectionState!==VV.RECONNECTING||e$1===FV.JOIN||e$1===FV.REJOIN||await a$1(),this.websocket.sendMessage(o$1,!0),n$1)return;let c$1=new rp(((i$2,n$2)=>{let o$2=!1,a$2=(n$3,r$2)=>{o$2=!0,i$2({isSuccess:n$3===`success`,message:r$2||{}}),this.off(xV.WS_CLOSED,c$2),this.off(xV.WS_RECONNECTING,c$2),this.emit(xV.REQUEST_SUCCESS,e$1,t$1)};this.once(`res-@${r$1}`,a$2);let c$2=()=>{n$2(new uP(hO.WS_ABORT,`type: ${e$1}`)),this.off(xV.WS_CLOSED,c$2),this.off(xV.WS_RECONNECTING,c$2),this.off(`res-@${r$1}`,a$2)};this.once(xV.WS_CLOSED,c$2),this.once(xV.WS_RECONNECTING,c$2),fN(CD(`SIGNAL_REQUEST_TIMEOUT`)).then((()=>{this.websocket.connectionID!==s$1||o$2||(iP.warning(`[${this.clientId}] ws request timeout, type: ${e$1}`),this.emit(xV.REQUEST_TIMEOUT,e$1,t$1))}))})),d$1=null;try{d$1=await c$1}catch(n$2){if(this.connectionState===VV.CLOSED||e$1===FV.LEAVE)throw new uP(hO.WS_ABORT);return!this.spec.forceWaitGatewayResponse||i$1?n$2.throw():e$1===FV.JOIN||e$1===FV.REJOIN?null:(await a$1(),await this.request(e$1,t$1))}if(d$1.isSuccess)return d$1.message;let l$1=Number(d$1.message.error_code||d$1.message.code),u$1=Bx(l$1),h$1=new uP(hO.UNEXPECTED_RESPONSE,`${u$1.desc}: ${d$1.message.error_str}`,{code:l$1,data:d$1.message,desc:u$1.desc});return u$1.action===`success`?d$1.message:(iP.warning(`[${this.clientId}] [${this.websocket.connectionID}] unexpected response from type ${e$1}, error_code: ${l$1}, message: ${u$1.desc}, action: ${u$1.action}`),l$1===UV.ERR_TOO_MANY_BROADCASTERS?e$1===FV.JOIN||e$1===FV.REJOIN?(this.initError=h$1,this.close(),h$1.throw()):h$1.throw():u$1.action===`failed`?h$1.throw():u$1.action===`quit`?(this.initError=h$1,this.close(),h$1.throw()):(l$1===UV.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=d$1.message.option,iP.warning(`[${this.clientId}] detect multi ip, recover`),this.reconnect(`recover`,HO.MULTI_IP)):this.reconnect(u$1.action,HO.SERVER_ERROR),e$1===FV.JOIN||e$1===FV.REJOIN?null:await this.request(e$1,t$1)))}waitMessage(e$1,t$1){return new rp((i$1=>{let n$1=r$1=>{(!t$1||t$1(r$1))&&(this.off(e$1,n$1),i$1(r$1))};this.on(e$1,n$1)}))}uploadWRTCStats(e$1){if(!this.store.sessionId)return void iP.warn(`[${this.clientId}] no session id when upload wrtc stats`);let t$1={lts:Date.now(),sid:this.store.sessionId,uid:this.store.intUid,stats:e$1};this.upload(BV.WRTC_STATS,t$1)}upload(e$1,t$1){let i$1={_type:e$1,_message:t$1};try{this.websocket.sendMessage(i$1)}catch{let t$2=CD(`MAX_UPLOAD_CACHE`)||50;this.uploadCache.push(i$1),this.uploadCache.length>t$2&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval((()=>{if(this.connectionState!==VV.CONNECTED)return;let e$3=this.uploadCache.splice(0,1)[0];this.uploadCache.length===0&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(e$3._type,e$3._message)}),CD(`UPLOAD_CACHE_INTERVAL`)||2e3))}}send(e$1,t$1){let i$1={_type:e$1,_message:t$1};this.websocket.sendMessage(i$1)}init(e$1){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new rp(((t$1,i$1)=>{this.once(xV.WS_CONNECTED,(()=>t$1(this.joinResponse))),this.once(xV.WS_CLOSED,(e$2=>i$1(this.initError||new uP(hO.WS_ABORT,e$2)))),this.connectionState=VV.CONNECTING,this.websocket.init(e$1).catch(i$1),this.wsInflateDataTimer&&window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=window.setInterval((()=>{this.handleWsInflateData()}),2e4)}))}close(e$1){this.pingpongTimer&&=(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),void 0),this.wsInflateDataTimer&&=(this.handleWsInflateData(),window.clearInterval(this.wsInflateDataTimer),void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._disconnectedReason=e$1||VO.LEAVE,this.connectionState=VV.CLOSED,iP.debug(`[${this.clientId}] will close websocket in signal`),this.websocket.close()}async join(){if(!this.joinResponse){this.emit(xV.ABORT_P2P_EXECUTION),this.store.signalConnected();let e$1=await zO(this,xV.REQUEST_JOIN_INFO);this.store.joinReq();let t$1=await this.request(FV.JOIN,e$1);if(this.ortc=e$1?.ortc,this.store.joinRep(),!t$1)return this.emit(xV.REPORT_JOIN_GATEWAY,ax.TIMEOUT,this.url||``),!1;this.joinResponse=t$1,this.emit(xV.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=VV.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}async rejoin(){if(!this.reconnectToken)throw new uP(hO.UNEXPECTED_ERROR,`can not rejoin, no rejoin token`);let e$1=JO(this,xV.REQUEST_REJOIN_INFO);e$1.token=this.reconnectToken;let t$1=await this.request(FV.REJOIN,e$1);return!!t$1&&(this.connectionState=VV.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),t$1.peers&&t$1.peers.forEach((e$2=>{this.emit(jV.ON_USER_ONLINE,{uid:e$2.uid}),e$2.audio&&this.emit(jV.ON_ADD_AUDIO_STREAM,{uid:e$2.uid,uint_id:e$2.uint_id,audio:!0,ssrcId:e$2.audio_ssrc}),e$2.video&&this.emit(jV.ON_ADD_VIDEO_STREAM,{uid:e$2.uid,uint_id:e$2.uint_id,video:!0,ssrcId:e$2.video_ssrc}),e$2.audio_mute?this.emit(jV.MUTE_AUDIO,{uid:e$2.uid}):this.emit(jV.UNMUTE_AUDIO,{uid:e$2.uid}),e$2.video_mute?this.emit(jV.MUTE_VIDEO,{uid:e$2.uid}):this.emit(jV.UNMUTE_VIDEO,{uid:e$2.uid}),e$2.audio_enable_local?this.emit(jV.ENABLE_LOCAL_AUDIO,{uid:e$2.uid}):this.emit(jV.DISABLE_LOCAL_AUDIO,{uid:e$2.uid}),e$2.video_enable_local?this.emit(jV.ENABLE_LOCAL_VIDEO,{uid:e$2.uid}):this.emit(jV.DISABLE_LOCAL_VIDEO,{uid:e$2.uid}),e$2.audio||e$2.video||this.emit(jV.ON_REMOVE_STREAM,{uid:e$2.uid,uint_id:e$2.uint_id})})),!0)}reconnect(e$1,t$1){this.pingpongTimer&&=(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),void 0),this.websocket.reconnect(e$1,t$1)}async downgradeCodec(e$1){if(!this.ortc)return!1;let t$1={downgrade_codec:e$1,ortc:this.ortc};return!!await this.request(FV.DOWNGRADE_CODEC,t$1)}handleNotification(e$1){iP.debug(`[${this.clientId}] receive notification: `,e$1);let t$1=Bx(e$1.code);if(e$1.code===28&&`detail`in e$1&&(iP.info(`[${this.clientId}] receive recover notification: `,e$1.detail),this.emit(xV.RECOVER_NOTIFICATION,e$1.detail)),t$1.action!==`success`){if(t$1.action!==`failed`)return t$1.action===`quit`?e$1.code===UV.ERR_REPEAT_JOIN_CHANNEL&&CD(`IGNORE_UID_CHECK`)?void this.close(VO.UID_CONFLICT):(t$1.desc===`ERR_REPEAT_JOIN_CHANNEL`&&this.close(VO.UID_BANNED),void this.close()):e$1.code===UV.K_VOS_FALLBACK&&`detail`in e$1?(iP.info(`[${this.clientId}] receive vos fallback notification: `,e$1.detail),e$1.detail===`FALLBACKCN`&&CD(`ENABLE_QUALITY_FALLBACK`)?void zO(this,xV.VOS_FALLBACK_PROMISE,e$1.detail).then((()=>{this.reconnect(`recover`,t$1.desc)})).catch((e$2=>{iP.debug(`[${this.clientId}] cancel vos fallback cn, error: `,e$2)})):e$1.detail===`fallback_hls`&&CD(`ENABLE_FALLBACK_TO_HLS`)?(this.emit(xV.VOS_FALLBACK,e$1.detail),void this.close(VO.FALLBACK_TO_HLS)):this.reconnect(t$1.action,t$1.desc)):void this.reconnect(t$1.action,HO.SERVER_ERROR);iP.error(`[${this.clientId}] ignore error: `,t$1.desc)}}handlePingPong(){if(!this.websocket||this.websocket.state!==`connected`)return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;let e$1=CD(`PING_PONG_TIME_OUT`),t$1=Date.now();this.pingpongTimeoutCount>=e$1&&(iP.warning(`[${this.clientId}] PING-PONG Timeout. Last Socket Message: ${t$1-this.lastMsgTime}ms`),t$1-this.lastMsgTime>CD(`WEBSOCKET_TIMEOUT_MIN`))?this.reconnect(`retry`,HO.TIMEOUT):this.request(FV.PING,void 0,!0).then((()=>{this.pingpongTimeoutCount=0;let e$2=Date.now()-t$1;this.rttRolling.add(e$2),CD(`REPORT_STATS`)&&this.send(FV.PING_BACK,{pingpongElapse:e$2})})).catch((e$2=>{}))}handleWsInflateData(){let{wsInflateLength:e$1,wsDeflateLength:t$1}=this.websocket.getWsInflateData();e$1!==0&&t$1!==0&&this.upload(BV.WS_INFLATE_DATA_LENGTH,{ws_deflate_length:t$1,ws_inflate_length:e$1})}handleWebsocketEvents(){this.websocket.on(WV.RECONNECT_CREATE_CONNECTION,(e$1=>{this.emit(xV.WS_RECONNECT_CREATE_CONNECTION,e$1)})),this.websocket.on(WV.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(WV.CLOSED,(()=>{this.connectionState=VV.CLOSED})),this.websocket.on(WV.FAILED,(()=>{this._disconnectedReason=VO.NETWORK_ERROR,this.connectionState=VV.CLOSED})),this.websocket.on(WV.RECONNECTING,(e$1=>{this._websocketReconnectReason=e$1,this.joinResponse=void 0,this.connectionState===VV.CONNECTED?this.connectionState=VV.RECONNECTING:this.connectionState=VV.CONNECTING})),this.websocket.on(WV.WILL_RECONNECT,((e$1,t$1,i$1)=>{let n$1=JO(this,xV.IS_P2P_DISCONNECTED),r$1=n$1||e$1!==`retry`;n$1&&e$1===`retry`&&(iP.debug(`${this.clientId} reconnect mode is retry, but p2p lost, change to tryNext`),e$1=`tryNext`,t$1=ax.P2P_DISCONNECTED),r$1&&(iP.debug(`${this.clientId} will renewSession, reconnect mode: ${e$1}`),this.emit(xV.REPORT_JOIN_GATEWAY,t$1||ax.UNKNOWN_REASON,this.url||``),this.reconnectToken=void 0,this.emit(xV.DISCONNECT_P2P)),i$1(e$1)})),this.websocket.on(WV.CONNECTED,(()=>{this.openConnectionTime=Date.now(),this.reconnectToken?this.rejoin().catch((e$1=>{iP.warning(`[${this.clientId}] rejoin failed ${e$1}`),this.reconnect(`tryNext`,HO.SERVER_ERROR)})):this.join().catch((e$1=>{if(this.emit(xV.REPORT_JOIN_GATEWAY,e$1,this.url||``),e$1 instanceof uP){if(e$1.code===hO.UNEXPECTED_RESPONSE&&e$1.data.code===UV.ERR_NO_AUTHORIZED)return this.initError=new uP(hO.TOKEN_EXPIRE,`dynamic key expired`),void this.close(VO.TOKEN_EXPIRE);iP.error(`[${this.clientId}] join gateway request failed`,e$1.toString()),this.spec.forceWaitGatewayResponse?this.reconnect(`tryNext`,HO.SERVER_ERROR):(this.initError=e$1,this.close())}}))})),this.websocket.on(WV.REQUEST_NEW_URLS,((e$1,t$1)=>{zO(this,xV.REQUEST_RECOVER,this.multiIpOption).then(e$1).catch(t$1)})),this.websocket.on(WV.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(()=>{this.emit(jV.ON_TOKEN_PRIVILEGE_DID_EXPIRE)})),this.websocket.on(wx.PRE_CONNECT_PC,(()=>{this.emit(xV.PRE_CONNECT_PC)})),this.websocket.on(WV.ON_FALLBACK,(()=>{CD(`ENABLE_FALLBACK_TO_HLS`)&&this.emit(xV.VOS_FALLBACK,`fallback_hls`)}))}}let tF=function(e$1){return e$1.NATIVE_RTC=`native_rtc`,e$1.NATIVE_RTM=`native_rtm`,e$1.WEB_RTC=`web_rtc`,e$1.WEB_RTM=`web_rtm`,e$1}({}),iF=function(e$1){return e$1[e$1.CHOOSE_SERVER=11]=`CHOOSE_SERVER`,e$1[e$1.CLOUD_PROXY=18]=`CLOUD_PROXY`,e$1[e$1.CLOUD_PROXY_5=20]=`CLOUD_PROXY_5`,e$1[e$1.CLOUD_PROXY_FALLBACK=26]=`CLOUD_PROXY_FALLBACK`,e$1}({});function nF(e$1,t$1){var i$1=Object.keys(e$1);if(Object.getOwnPropertySymbols){var n$1=Object.getOwnPropertySymbols(e$1);t$1&&(n$1=n$1.filter((function(t$2){return Object.getOwnPropertyDescriptor(e$1,t$2).enumerable}))),i$1.push.apply(i$1,n$1)}return i$1}function rF(e$1){for(var t$1=1;t$1<arguments.length;t$1++){var i$1=arguments[t$1]==null?{}:arguments[t$1];t$1%2?nF(Object(i$1),!0).forEach((function(t$2){iA(e$1,t$2,i$1[t$2])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e$1,Object.getOwnPropertyDescriptors(i$1)):nF(Object(i$1)).forEach((function(t$2){Object.defineProperty(e$1,t$2,Object.getOwnPropertyDescriptor(i$1,t$2))}))}return e$1}let oF=0;function sF(e$1){let t$1=CD(`TURN_DOMAINS`);oF=(oF+1)%t$1.length;let i$1=t$1[oF]||`edge.agora.io`;return e$1.match(/^[\.\:\d]+$/)?`${e$1.replace(/[^\d]/g,`-`)}.${i$1}`:(iP.debug(`Cannot recognized as ip address: ${e$1}, use as host2`),e$1)}function aF(e$1){try{let t$1=CD(`TURN_DOMAINS`),i$1=CD(`GATEWAY_DOMAINS`).concat(t$1).find((t$2=>Ln(e$1).call(e$1,t$2)));return i$1?e$1.split(`.${i$1}`)[0].replace(/-/g,`.`):e$1}catch{return iP.debug(`serverUrlToIp error, fallback to url`,e$1),e$1}}function cF(e$1,t$1){e$1.addresses||=[];let i$1=function(e$2,t$2){if(CD(`CONNECT_GATEWAY_WITHOUT_DOMAIN`))return e$2.map((e$3=>{let{ip:t$3,port:i$3}=e$3;return{address:`${t$3}:${i$3}`}}));let i$2=CD(`GATEWAY_DOMAINS`),n$2=i$2[1]&&Ln(t$2).call(t$2,i$2[1])?1:0;return e$2.map((e$3=>{let{domain_prefix:t$3,port:r$2,ip:o$2}=e$3;if(t$3)return{address:`${t$3}.${i$2[n$2++%i$2.length]}:${r$2}`};let s$2=/^[\.\:\d]+$/.test(o$2),a$1=s$2?`${o$2.replace(/[^\d]/g,`-`)}.${i$2[n$2++%i$2.length]}:${r$2}`:`${o$2}:${r$2}`;return s$2||iP.debug(`Cannot recognized as ip address: ${o$2}, use as host3`),{ip:o$2,port:r$2,address:a$1}}))}(e$1.addresses,t$1),n$1=Array.isArray(e$1.detail)&&e$1.detail[18];if(n$1&&typeof n$1==`string`){let e$2=n$1.split(`;`);for(let t$2=0;t$2<e$2.length;t$2++){var r$1;let n$2=kg(r$1=e$2[t$2]).call(r$1);i$1[t$2]&&n$2&&(i$1[t$2].ip6=n$2)}}let o$1=e$1.detail&&e$1.detail.candidate,s$1;if(o$1){let[e$2,t$2]=o$1.split(`:`);e$2&&t$2&&(s$1={port:Number(t$2),ip:e$2,address:`${e$2}:${t$2}`})}return{gatewayAddrs:i$1,apGatewayAddress:s$1,uid:e$1.uid,cid:e$1.cid,cert:e$1.cert,vid:e$1.detail&&e$1.detail[8],uni_lbs_ip:e$1.detail&&e$1.detail[1],res:e$1,csIp:e$1.detail&&e$1.detail[502]}}function dF(e$1){return typeof e$1==`number`?e$1:e$1.exact||e$1.ideal||e$1.max||e$1.min||0}function lF(e$1){let t$1=e$1._encoderConfig;if(!t$1)return{};let i$1={resolution:t$1.width&&t$1.height?`${dF(t$1.width)}x${dF(t$1.height)}`:void 0,maxVideoBW:t$1.bitrateMax,minVideoBW:t$1.bitrateMin};return typeof t$1.frameRate==`number`?(i$1.maxFrameRate=t$1.frameRate,i$1.minFrameRate=t$1.frameRate):t$1.frameRate&&(i$1.maxFrameRate=t$1.frameRate.max||t$1.frameRate.ideal||t$1.frameRate.exact||t$1.frameRate.min,i$1.minFrameRate=t$1.frameRate.min||t$1.frameRate.ideal||t$1.frameRate.exact||t$1.frameRate.max),i$1}function uF(e$1){return e$1>=0&&e$1<.17?1:e$1>=.17&&e$1<.36?2:e$1>=.36&&e$1<.59?3:e$1>=.59&&e$1<=1?4:e$1>1?5:0}function hF(e$1,t$1){let i$1,n$1,r$1;switch(t$1){case iF.CHOOSE_SERVER:n$1=4096,r$1=`choose server`;break;case iF.CLOUD_PROXY:n$1=1048576,r$1=`proxy`;break;case iF.CLOUD_PROXY_5:n$1=4194304,r$1=`proxy5`;break;case iF.CLOUD_PROXY_FALLBACK:n$1=4194310,r$1=`proxy fallback`;break;default:throw new uP(hO.UNEXPECTED_ERROR,`multi unlibs response transformer get unknown service id`,{csIp:e$1.detail&&e$1.detail[502],retry:!1})}if(e$1.response_body.forEach((t$2=>{t$2.buffer&&t$2.buffer.flag===n$1&&(i$1={code:t$2.buffer.code,addresses:(t$2.buffer.edges_services||[]).map((e$2=>rF(rF({},e$2),{},{ticket:t$2.buffer.cert}))),server_ts:e$1.enter_ts,uid:t$2.buffer.uid,cid:t$2.buffer.cid,cname:t$2.buffer.cname,detail:rF(rF({},t$2.buffer.detail),e$1.detail),flag:t$2.buffer.flag,opid:e$1.opid,cert:t$2.buffer.cert})})),!i$1)throw new uP(hO.MULTI_UNILBS_RESPONSE_ERROR,`cannot parse response ${r$1} from multi unilbs response`,{csIp:e$1.detail&&e$1.detail[502]});return i$1}async function pF(e$1,t$1){return await rp.all(e$1.addresses.map((async e$2=>({address:sF(e$2.ip),tcpport:e$2.port,udpport:e$2.port,username:t$1&&CD(`ENCRYPT_PROXY_USERNAME_AND_PSW`)&&window.isSecureContext?t$1.toString():ED.username,password:t$1&&CD(`ENCRYPT_PROXY_USERNAME_AND_PSW`)&&window.isSecureContext?await OO(t$1.toString()):ED.password}))))}function _F(e$1,t$1){let i$1=t$1.getMediaStreamTrack(!0).getSettings(),n$1=t$1.videoHeight||i$1.height,r$1=t$1.videoWidth||i$1.width;return n$1&&r$1?Math.max(Math.min(n$1,r$1)/Math.min(dF(e$1.height),dF(e$1.width)),1):(iP.warning(`can't get ori-track's height, default scale down 4 times for low stream`),4)}function EF(e$1){let{candidateType:t$1,relayProtocol:i$1,type:n$1,address:r$1,port:o$1,protocol:s$1}=e$1,a$1={candidateType:t$1,relayProtocol:i$1,protocol:s$1};if(n$1!==`local-candidate`){let e$2=r$1.split(`.`);e$2.length>=4&&(e$2[1]=`*`,e$2[2]=`*`),a$1.address=e$2.join(`.`),a$1.port=o$1}return a$1}function mF(e$1){let t$1=e$1.split(`:`),i$1=e$1.split(/[-.]/),n$1=Ln(e$1).call(e$1,`-`)?`-`:`.`,r$1=e$1;return t$1.length>1?i$1.length>1?(i$1[1]=`**`,r$1=i$1[0]+n$1+`**:`+t$1[t$1.length-1]):r$1=t$1.length>2?t$1[0]+n$1+`**:`+t$1[t$1.length-1]:`**:`+t$1[t$1.length-1]:i$1.length>1&&(r$1=i$1[0]+n$1+`**`),r$1}function fF(e$1,t$1){return e$1.getTransceivers().find((e$2=>e$2.sender.track===t$1||e$2.receiver.track===t$1))}function SF(){let e$1=arguments.length>0&&arguments[0]!==void 0?arguments[0]:CD(`SVC_MODE`);if(CD(`ENABLE_SVC`))return function(e$2){return e$2 in iD}(e$1)?e$1:iD.L1T3}let gF={[fx.VIDEO]:[{key:`abs-send-time`,extensionName:`http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time`},{key:`video-orientation`,extensionName:`urn:3gpp:video-orientation`},{key:`draft-holmer-rmcat-transport-wide-cc-extensions-01`,extensionName:`http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01`},{key:`playout-delay`,extensionName:`http://www.webrtc.org/experiments/rtp-hdrext/playout-delay`},{key:`video-content-type`,extensionName:`http://www.webrtc.org/experiments/rtp-hdrext/video-content-type`},{key:`color-space`,extensionName:`http://www.webrtc.org/experiments/rtp-hdrext/color-space`},{key:`video-timing`,extensionName:`http://www.webrtc.org/experiments/rtp-hdrext/video-timing`}],[fx.AUDIO]:[{key:`ssrc-audio-level`,extensionName:`urn:ietf:params:rtp-hdrext:ssrc-audio-level`},{key:`draft-holmer-rmcat-transport-wide-cc-extensions-01`,extensionName:`http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01`},{key:`abs-send-time`,extensionName:`http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time`}]};function TF(e$1){e$1.send&&(vF(fx.VIDEO,e$1.send.videoExtensions),vF(fx.AUDIO,e$1.send.audioExtensions)),e$1.recv&&(vF(fx.VIDEO,e$1.recv.videoExtensions),vF(fx.AUDIO,e$1.recv.audioExtensions)),e$1.sendrecv&&(vF(fx.VIDEO,e$1.sendrecv.videoExtensions),vF(fx.AUDIO,e$1.sendrecv.audioExtensions))}function RF(e$1,t$1){e$1.send&&(CF(fx.VIDEO,e$1.send.videoExtensions,t$1.send.videoExtensions),CF(fx.AUDIO,e$1.send.audioExtensions,t$1.send.audioExtensions)),e$1.recv&&(CF(fx.VIDEO,e$1.recv.videoExtensions,t$1.recv.videoExtensions),CF(fx.AUDIO,e$1.recv.audioExtensions,t$1.recv.audioExtensions))}function CF(e$1,t$1,i$1){t$1.forEach((t$2=>{var n$1;let r$1=gF[e$1].find((e$2=>{var i$2;let{key:n$2}=e$2;return Ln(i$2=t$2.extensionName).call(i$2,n$2)}));if(!r$1)return;let o$1=i$1.find((e$2=>{let{extensionName:t$3}=e$2;return Ln(t$3).call(t$3,r$1.key)}));o$1&&Ln(n$1=o$1.extensionName).call(n$1,`gdpr_forbidden`)&&(t$2.extensionName=o$1.extensionName)}))}function vF(e$1,t$1){t$1.forEach((t$2=>{var i$1;let n$1=gF[e$1].find((e$2=>{var i$2;let{key:n$2}=e$2;return Ln(i$2=t$2.extensionName).call(i$2,n$2)}));Ln(i$1=t$2.extensionName).call(i$1,`gdpr_forbidden`)&&n$1&&(t$2.extensionName=n$1.extensionName)}))}function yF(e$1){return e$1===`http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time`||Ln(e$1).call(e$1,`abs-send-time`)}function IF(e$1){return e$1===`http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01`||Ln(e$1).call(e$1,`draft-holmer-rmcat-transport-wide-cc-extensions-01`)}function AF(e$1,t$1){var i$1=Object.keys(e$1);if(Object.getOwnPropertySymbols){var n$1=Object.getOwnPropertySymbols(e$1);t$1&&(n$1=n$1.filter((function(t$2){return Object.getOwnPropertyDescriptor(e$1,t$2).enumerable}))),i$1.push.apply(i$1,n$1)}return i$1}function bF(e$1){for(var t$1=1;t$1<arguments.length;t$1++){var i$1=arguments[t$1]==null?{}:arguments[t$1];t$1%2?AF(Object(i$1),!0).forEach((function(t$2){iA(e$1,t$2,i$1[t$2])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e$1,Object.getOwnPropertyDescriptors(i$1)):AF(Object(i$1)).forEach((function(t$2){Object.defineProperty(e$1,t$2,Object.getOwnPropertyDescriptor(i$1,t$2))}))}return e$1}function wF(e$1){let t$1=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i$1=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n$1=arguments.length>3?arguments[3]:void 0,{filterRTX:r$1,filterVideoFec:o$1,filterAudioFec:s$1,filterAudioCodec:a$1,filterVideoCodec:c$1,unsupportedVideoUplinkCodec:d$1,unsupportedVideoDownlinkCodec:l$1}=t$1,{useXR:u$1}=i$1,h$1=[],p$1=[],_$1=[],E$1=[],m$1=!1,f$1=!1;if(LD(e$1).mediaDescriptions.forEach((e$2=>{n$1&&n$1!==e$2.attributes.direction||(e$2.media.mediaType!==`video`||m$1||(p$1=e$2.attributes.payloads,E$1=e$2.attributes.extmaps,m$1=!0),e$2.media.mediaType!==`audio`||f$1||(h$1=e$2.attributes.payloads,_$1=e$2.attributes.extmaps,f$1=!0))})),!E$1||p$1.length===0)throw Error(`Cannot get video capabilities from SDP.`);if(!_$1||h$1.length===0)throw Error(`Cannot get audio capabilities from SDP.`);if(p$1.forEach((e$2=>{var t$2;(t$2=e$2.rtpMap)!=null&&t$2.clockRate&&(e$2.rtpMap.clockRate=parseInt(e$2.rtpMap.clockRate)),u$1&&e$2.rtcpFeedbacks.push({type:`rrtr`})})),h$1.forEach((e$2=>{var t$2;(t$2=e$2.rtpMap)!=null&&t$2.clockRate&&(e$2.rtpMap.clockRate=parseInt(e$2.rtpMap.clockRate)),u$1&&e$2.rtcpFeedbacks.push({type:`rrtr`})})),r$1&&(h$1=h$1.filter((e$2=>{var t$2;return e$2.rtpMap?.encodingName.toLowerCase()!==`rtx`})),p$1=p$1.filter((e$2=>{var t$2;return e$2.rtpMap?.encodingName.toLowerCase()!==`rtx`}))),o$1){let e$2=p$1.filter((e$3=>{var t$3;return/(red)|(ulpfec)|(flexfec)/i.test(e$3.rtpMap?.encodingName||``)})),t$2=zF(e$2,p$1).map((e$3=>e$3.payloadType)),i$2=[...e$2.map((e$3=>e$3.payloadType)),...t$2];p$1=p$1.filter((e$3=>!Ln(i$2).call(i$2,e$3.payloadType)))}if(s$1&&(h$1=h$1.filter((e$2=>{var t$2;return!/(red)|(ulpfec)|(flexfec)/i.test(e$2.rtpMap?.encodingName||``)}))),a$1&&a$1?.length>0&&(h$1=h$1.filter((e$2=>{var t$2;return Ln(a$1).call(a$1,e$2.rtpMap?.encodingName.toLowerCase()||``)}))),c$1&&c$1?.length>0){let e$2=p$1.filter((e$3=>{var t$2;return Ln(c$1).call(c$1,e$3.rtpMap?.encodingName.toLowerCase()||``)}));p$1=e$2.concat(r$1?[]:zF(e$2,p$1))}let S$1=CD(`UNSUPPORTED_VIDEO_CODEC`);if(S$1&&S$1.length>0){let e$2=p$1.filter((e$3=>e$3.rtpMap&&Ln(S$1).call(S$1,e$3.rtpMap.encodingName.toLowerCase()))),t$2=zF(e$2,p$1),i$2=e$2.concat(t$2).map((e$3=>e$3.payloadType));p$1=p$1.filter((e$3=>!Ln(i$2).call(i$2,e$3.payloadType))),iP.debug(`unsupportedVideoCodec: ${S$1}, toBeRemoved: ${i$2}`)}if(d$1&&d$1.length>0&&n$1===`sendonly`){let e$2=p$1.filter((e$3=>e$3.rtpMap&&Ln(d$1).call(d$1,e$3.rtpMap.encodingName.toLowerCase()))),t$2=zF(e$2,p$1),i$2=e$2.concat(t$2).map((e$3=>e$3.payloadType));p$1=p$1.filter((e$3=>!Ln(i$2).call(i$2,e$3.payloadType))),iP.debug(`unsupportedVideoUplinkCodec: ${d$1}, toBeRemoved: ${i$2}`)}if(l$1&&l$1.length>0&&n$1===`recvonly`){let e$2=p$1.filter((e$3=>e$3.rtpMap&&Ln(l$1).call(l$1,e$3.rtpMap.encodingName.toLowerCase()))),t$2=zF(e$2,p$1),i$2=e$2.concat(t$2).map((e$3=>e$3.payloadType));p$1=p$1.filter((e$3=>!Ln(i$2).call(i$2,e$3.payloadType))),iP.debug(`unsupportedVideoDownlinkCodec: ${l$1}, toBeRemoved: ${i$2}`)}return{audioCodecs:h$1,videoCodecs:p$1,audioExtensions:_$1,videoExtensions:E$1}}function OF(e$1){let t$1=LD(e$1),i$1,n$1;for(let e$2 of t$1.mediaDescriptions){if(!i$1){let t$2=e$2.attributes.iceUfrag,n$2=e$2.attributes.icePwd;if(!t$2||!n$2)throw Error(`Cannot get iceUfrag or icePwd from SDP.`);i$1={iceUfrag:t$2,icePwd:n$2}}if(!n$1){let t$2=e$2.attributes.fingerprints;t$2.length>0&&(n$1={fingerprints:t$2})}}if(!n$1&&t$1.attributes.fingerprints.length>0&&(n$1={fingerprints:t$1.attributes.fingerprints}),!n$1||!i$1)throw Error(`Cannot get iceParameters or dtlsParameters from SDP.`);return{iceParameters:i$1,dtlsParameters:n$1}}function NF(e$1,t$1){let i$1=[],n$1=e$1.attributes.ssrcGroups.filter((e$2=>e$2.semantic===`FID`)),r$1=e$1.attributes.ssrcGroups.find((e$2=>e$2.semantic===`SIM`)),o$1=e$1.attributes.ssrcs;if(r$1)r$1.ssrcIds.forEach((e$2=>{var r$2;let o$2=n$1.find((t$2=>t$2.ssrcIds[0]===e$2))?.ssrcIds[1];i$1.push({ssrcId:e$2,rtx:t$1?o$2:void 0})}));else if(n$1.length>0){let e$2=n$1[0].ssrcIds[0],r$2=n$1[0].ssrcIds[1];i$1.push({ssrcId:e$2,rtx:t$1?r$2:void 0})}else{if(o$1.length===0)throw Error(`No ssrcs found on local media description.`);i$1.push({ssrcId:o$1[0].ssrcId})}return i$1}function DF(e$1,t$1,i$1){let{cname:n$1}=e$1,r$1=[];t$1&&(r$1=PF(t$1)),r$1.length===0&&(r$1=e$1.iceParameters.candidates.map((e$2=>({foundation:e$2.foundation,componentId:`1`,transport:e$2.protocol,priority:e$2.priority.toString(),connectionAddress:e$2.ip,port:e$2.port.toString(),type:e$2.type,extension:{}}))),iP.debug(`Using candidates from gateway.`));let o$1={fingerprints:e$1.dtlsParameters.fingerprints.map((e$2=>({hashFunction:e$2.algorithm,fingerprint:e$2.fingerprint})))},s$1={iceUfrag:e$1.iceParameters.iceUfrag,icePwd:e$1.iceParameters.icePwd},a$1;switch(e$1.dtlsParameters.role){case`server`:a$1=`passive`;break;case`client`:a$1=`active`;break;case`auto`:a$1=`actpass`}let c$1=HF(e$1.rtpCapabilities),d$1=[];return Array.isArray(i$1)&&i$1.length>0&&i$1.forEach((e$2=>{d$1.push({kind:fx.VIDEO,ssrcMsg:[{ssrcId:e$2.v,rtx:e$2.v_rtx}],mslabel:`${e$2.v}_${e$2.a}`},{kind:fx.AUDIO,ssrcMsg:[{ssrcId:e$2.a}],mslabel:`${e$2.v}_${e$2.a}`})})),{dtlsParameters:o$1,iceParameters:s$1,candidates:r$1,rtpCapabilities:c$1,setup:a$1,cname:n$1,preSSRCs:d$1}}function PF(e$1){let t$1=[];return e$1.ip&&typeof e$1.port==`number`&&(t$1=[{foundation:`udpcandidate`,componentId:`1`,transport:`udp`,priority:`2103266323`,connectionAddress:e$1.ip,port:e$1.port.toString(),type:`host`,extension:{}}],iP.debug(`Using remote candidate from AP ${mF(e$1.ip)}:${e$1.port}`),e$1.ip6&&(t$1.push({foundation:`udpcandidate`,componentId:`1`,transport:`udp`,priority:`2103266323`,connectionAddress:e$1.ip6,port:e$1.port.toString(),type:`host`,extension:{}}),iP.debug(`Using IPV6 remote candidate from AP ${mF(e$1.ip6)}:${e$1.port}`))),t$1}function LF(e$1,t$1,i$1){let n$1=[],r$1=[];return e$1.forEach((e$2=>{let{ssrcId:o$1,rtx:s$1}=e$2,a$1=SN(8,`track-`),c$1={ssrcId:o$1,attributes:bF({label:a$1,mslabel:i$1||=SN(10,``),msid:`${i$1} ${a$1}`},t$1&&{cname:t$1})};if(n$1.push(c$1),s$1!==void 0){let e$3={ssrcId:s$1,attributes:bF({label:a$1,mslabel:i$1,msid:`${i$1} ${a$1}`},t$1&&{cname:t$1})};n$1.push(e$3),r$1.push({semantic:`FID`,ssrcIds:[o$1,s$1]})}})),e$1.length>1&&r$1.push({semantic:`SIM`,ssrcIds:e$1.map((e$2=>{let{ssrcId:t$2}=e$2;return t$2}))}),{ssrcs:n$1,ssrcGroups:r$1}}function kF(e$1,t$1){t$1 instanceof Bk&&e$1.attributes.payloads.forEach((e$2=>{var i$1;let n$1=e$2.rtpMap?.encodingName.toLowerCase();if(!n$1||[`opus`,`pcmu`,`pcma`,`g722`].indexOf(n$1)===-1)return;e$2.fmtp||={parameters:{}},n$1===`opus`&&typeof CD(`OPUS_PTIME`)==`number`?e$2.fmtp.parameters.ptime=CD(`OPUS_PTIME`):e$2.fmtp.parameters.minptime=`10`,e$2.fmtp.parameters.useinbandfec=`1`;let r$1=t$1._encoderConfig;r$1&&(n$1!==`pcmu`&&n$1!==`pcma`&&n$1!==`g722`&&(r$1.bitrate&&!Bw()&&(e$2.fmtp.parameters.maxaveragebitrate=`${Math.floor(1e3*r$1.bitrate)}`),r$1.sampleRate&&(e$2.fmtp.parameters.maxplaybackrate=`${r$1.sampleRate}`,e$2.fmtp.parameters[`sprop-maxcapturerate`]=`${r$1.sampleRate}`),r$1.stereo&&(e$2.fmtp.parameters.stereo=`1`,e$2.fmtp.parameters[`sprop-stereo`]=`1`)),t$1 instanceof jk&&n$1===`opus`&&t$1._config.DTX&&(e$2.fmtp.parameters.usedtx=`1`))}))}function MF(e$1){let t$1=e$1.attributes.unrecognized.findIndex((e$2=>e$2.attField===`x-google-flag`&&e$2.attValue===`conference`));t$1!==-1&&e$1.attributes.unrecognized.splice(t$1,1)}function UF(e$1,t$1){var i$1;if(e$1.attributes.payloads.forEach((e$2=>{var t$2;e$2.rtpMap?.encodingName.toLowerCase()===`h264`&&e$2.fmtp&&e$2.fmtp.parameters&&CD(`ENABLE_UP_SPS_PPS`)&&(e$2.fmtp.parameters[`sps-pps-idr-in-keyframe`]=`1`)})),!(t$1 instanceof kM&&t$1._encoderConfig&&t$1._hints.indexOf(VP.SCREEN_TRACK)===-1))return;let n$1=t$1._encoderConfig;pP().supportMinBitrate&&n$1.bitrateMin&&e$1.attributes.payloads.forEach((e$2=>{var t$2,i$2;Ln(t$2=[`h264`,`h265`,`vp8`,`vp9`,`av1`]).call(t$2,e$2.rtpMap?.encodingName.toLowerCase()||``)&&(e$2.fmtp||={parameters:{}},e$2.fmtp.parameters[`x-google-min-bitrate`]=`${n$1.bitrateMin}`)})),pP().supportMinBitrate&&!Ln(i$1=t$1._hints).call(i$1,VP.LOW_STREAM)&&n$1.bitrateMax&&e$1.attributes.payloads.forEach((e$2=>{var t$2,i$2;Ln(t$2=[`h264`,`h265`,`vp8`,`vp9`,`av1`]).call(t$2,e$2.rtpMap?.encodingName.toLowerCase()||``)&&(e$2.fmtp||={parameters:{}},e$2.fmtp.parameters[`x-google-start-bitrate`]=`${CD(`X_GOOGLE_START_BITRATE`)||Math.floor(n$1.bitrateMax)}`)}))}function VF(e$1){if(e$1.media.mediaType!==`video`)return;let t$1=Dw();if(t$1.name!==bw.SAFARI&&t$1.os!==Aw.IOS)return;let i$1=e$1.attributes.extmaps.findIndex((e$2=>/video-orientation/g.test(e$2.extensionName)));i$1!==-1&&e$1.attributes.extmaps.splice(i$1,1)}function xF(e$1,t$1,i$1){if(!t$1)return;let n$1,r$1;if(e$1.media.mediaType===`video`?(n$1=i$1.videoExtensions,r$1=i$1.videoCodecs):(n$1=i$1.audioExtensions,r$1=i$1.audioCodecs),!0===t$1.twcc){let t$2=n$1.find((e$2=>IF(e$2.extensionName)));if(t$2){let i$2=t$2.extensionName;e$1.attributes.extmaps.find((e$2=>IF(e$2.extensionName)))||e$1.attributes.extmaps.push({entry:t$2.entry,extensionName:i$2}),(function(e$2,t$3){return t$3.filter((t$4=>!!e$2.find((e$3=>e$3.payloadType===t$4.payloadType&&!!e$3.rtcpFeedbacks.find((e$4=>e$4.type===`transport-cc`))))))})(r$1,e$1.attributes.payloads).forEach((e$2=>{e$2.rtcpFeedbacks.find((e$3=>e$3.type===`transport-cc`))||e$2.rtcpFeedbacks.push({type:`transport-cc`})}))}}else if(!1===t$1.twcc){let t$2=e$1.attributes.extmaps.findIndex((e$2=>IF(e$2.extensionName)));t$2!==-1&&e$1.attributes.extmaps.splice(t$2,1),e$1.attributes.payloads.forEach((e$2=>{let t$3=e$2.rtcpFeedbacks.findIndex((e$3=>e$3.type===`transport-cc`));t$3!==-1&&e$2.rtcpFeedbacks.splice(t$3,1)}))}if(!0===t$1.remb){let t$2=n$1.find((e$2=>yF(e$2.extensionName)));if(t$2){let i$2=t$2.extensionName;e$1.attributes.extmaps.find((e$2=>e$2.extensionName===i$2))||e$1.attributes.extmaps.push({entry:t$2.entry,extensionName:i$2}),(function(e$2,t$3){return t$3.filter((t$4=>!!e$2.find((e$3=>e$3.payloadType===t$4.payloadType&&!!e$3.rtcpFeedbacks.find((e$4=>e$4.type===`goog-remb`))))))})(r$1,e$1.attributes.payloads).forEach((e$2=>{e$2.rtcpFeedbacks.find((e$3=>e$3.type===`goog-remb`))||e$2.rtcpFeedbacks.push({type:`goog-remb`})}))}}else if(!1===t$1.remb){let t$2=e$1.attributes.extmaps.findIndex((e$2=>yF(e$2.extensionName)));t$2!==-1&&e$1.attributes.extmaps.splice(t$2,1),e$1.attributes.payloads.forEach((e$2=>{let t$3=e$2.rtcpFeedbacks.findIndex((e$3=>e$3.type===`goog-remb`));t$3!==-1&&e$2.rtcpFeedbacks.splice(t$3,1)}))}}function FF(e$1,t$1,i$1){if(Bw()||e$1.media.mediaType!==`video`||!(t$1 instanceof kM)||i$1!==`vp9`&&i$1!==`vp8`||i$1===`vp8`&&!CD(`SIMULCAST`)||i$1===`vp9`&&CD(`ENABLE_SVC`)||t$1._scalabilityMode===void 0||t$1._scalabilityMode.numSpatialLayers<=1)return;let n$1=i$1===`vp8`?2:t$1._scalabilityMode.numSpatialLayers,r$1=e$1.attributes.ssrcs[0],o$1=e$1.attributes.ssrcGroups.find((e$2=>e$2.semantic===`FID`&&e$2.ssrcIds[0]===r$1.ssrcId)),s$1={semantic:`SIM`,ssrcIds:[r$1.ssrcId]};for(let t$2=1;t$2<n$1;t$2++)e$1.attributes.ssrcs.push({ssrcId:r$1.ssrcId+t$2,attributes:sN(r$1.attributes)}),s$1.ssrcIds.push(r$1.ssrcId+t$2),o$1&&(e$1.attributes.ssrcs.push({ssrcId:o$1.ssrcIds[1]+t$2,attributes:sN(r$1.attributes)}),e$1.attributes.ssrcGroups.push({semantic:`FID`,ssrcIds:[r$1.ssrcId+t$2,o$1.ssrcIds[1]+t$2]}));e$1.attributes.ssrcGroups.unshift(s$1)}async function BF(){try{let e$1=new RTCPeerConnection;e$1.addTransceiver(`video`,{direction:`sendonly`,sendEncodings:[{scalabilityMode:iD.L1T3}]});let t$1=await e$1.createOffer();if(!t$1.sdp)return void e$1.close();let i$1=LD(t$1.sdp).mediaDescriptions[0];if(!i$1)return;let n$1=i$1.attributes.extmaps.find((e$2=>e$2.extensionName===`https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension`));return e$1.close(),n$1}catch{return}}async function jF(){let e$1=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t$1=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i$1=new RTCPeerConnection;i$1.addTransceiver(`video`,{direction:`sendonly`}),i$1.addTransceiver(`audio`,{direction:`sendonly`}),i$1.addTransceiver(`video`,{direction:`recvonly`}),i$1.addTransceiver(`audio`,{direction:`recvonly`});let{send:r$1,recv:o$1,sendrecv:s$1}=function(){let e$2=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t$2=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i$2=arguments.length>2?arguments[2]:void 0,n$1=wF(i$2,e$2,t$2,`sendonly`),r$2=wF(i$2,e$2,t$2,`recvonly`),o$2={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},s$2={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},a$1={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(WF(n$1,r$2,`videoExtensions`,o$2,s$2,a$1),WF(n$1,r$2,`videoCodecs`,o$2,s$2,a$1),WF(n$1,r$2,`audioExtensions`,o$2,s$2,a$1),WF(n$1,r$2,`audioCodecs`,o$2,s$2,a$1),CD(`RAISE_H264_BASELINE_PRIORITY`)){let e$3=[],t$3=[];if(a$1.videoCodecs.forEach(((i$3,n$2)=>{var r$3;if(i$3.rtpMap?.encodingName.toLocaleLowerCase()===`h264`){var o$3,s$3;let r$4=a$1.videoCodecs[n$2+1],c$1=r$4&&$F(i$3,r$4),d$1=i$3.fmtp?.parameters[`profile-level-id`],l$1=i$3.fmtp?.parameters[`packetization-mode`];!d$1||d$1!==CD(`FIRST_H264_PROFILE_LEVEL_ID`)||CD(`FIRST_PACKETIZATION_MODE`)&&l$1!==CD(`FIRST_PACKETIZATION_MODE`)?c$1?t$3.push([i$3,r$4]):t$3.push([i$3]):c$1?e$3.push([i$3,r$4]):e$3.push([i$3])}})),e$3.length>0&&t$3.length>0){iP.debug(`raising H264 baseline profile priority`),a$1.videoCodecs.forEach(((i$4,n$2)=>{var r$3;if(i$4.rtpMap?.encodingName.toLocaleLowerCase()===`h264`){let r$4=$F(i$4,a$1.videoCodecs[n$2+1]),o$3=e$3.shift()||t$3.shift()||[];o$3.length>0&&(r$4?a$1.videoCodecs.splice(n$2,2,...o$3):a$1.videoCodecs.splice(n$2,1,...o$3))}}));let i$3=s$2.videoCodecs.filter((e$4=>{var t$4,i$4;return e$4.rtpMap?.encodingName.toLocaleLowerCase()===`h264`&&e$4.fmtp?.parameters[`profile-level-id`]!==CD(`FIRST_H264_PROFILE_LEVEL_ID`)}));if(i$3.length>0){let e$4=zF(i$3,s$2.videoCodecs).map((e$5=>e$5.payloadType)),t$4=[...i$3.map((e$5=>e$5.payloadType)),...e$4];s$2.videoCodecs=s$2.videoCodecs.filter((e$5=>!Ln(t$4).call(t$4,e$5.payloadType)))}CD(`FILTER_SEND_H264_BASELINE`)&&(o$2.videoCodecs=o$2.videoCodecs.filter((e$4=>{var t$4,i$4;return!(e$4.rtpMap?.encodingName.toLocaleLowerCase()===`h264`&&e$4.fmtp?.parameters[`profile-level-id`]!==CD(`FIRST_H264_PROFILE_LEVEL_ID`))})))}return{send:o$2,recv:s$2,sendrecv:a$1}}return{send:o$2,recv:s$2,sendrecv:a$1}}(e$1,t$1,(await i$1.createOffer()).sdp);try{i$1.close()}catch{}return{send:r$1,recv:o$1,sendrecv:s$1}}function GF(){let e$1={audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},t$1=wF(arguments.length>2?arguments[2]:void 0,arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},`recvonly`),i$1={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},n$1={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},r$1={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(WF(e$1,t$1,`videoExtensions`,i$1,n$1,r$1),WF(e$1,t$1,`videoCodecs`,i$1,n$1,r$1),WF(e$1,t$1,`audioExtensions`,i$1,n$1,r$1),WF(e$1,t$1,`audioCodecs`,i$1,n$1,r$1),CD(`RAISE_H264_BASELINE_PRIORITY`)){let e$2=r$1.videoCodecs.findIndex((e$3=>e$3.rtpMap&&e$3.rtpMap.encodingName.toLocaleLowerCase()===`h264`&&e$3.fmtp&&e$3.fmtp.parameters[`profile-level-id`]===`42001f`));if(e$2!==-1){let t$2=r$1.videoCodecs.findIndex((e$3=>e$3.rtpMap&&e$3.rtpMap.encodingName.toLocaleLowerCase()===`h264`));if(t$2<e$2){iP.debug(`raising H264 baseline profile priority`);let i$2=r$1.videoCodecs[e$2];r$1.videoCodecs.splice(e$2,1),r$1.videoCodecs.splice(t$2,0,i$2)}t$2!==-1&&(n$1.videoCodecs=n$1.videoCodecs.filter((e$3=>!(e$3.rtpMap&&e$3.rtpMap.encodingName.toLocaleLowerCase()===`h264`&&e$3.fmtp&&e$3.fmtp.parameters[`profile-level-id`]!==`42001f`))))}}return{send:i$1,recv:n$1,sendrecv:r$1}}function WF(e$1,t$1,i$1,n$1,r$1,o$1){if(i$1===`videoExtensions`||i$1===`audioExtensions`){let s$1=[];e$1[i$1].forEach((e$2=>{t$1[i$1].some(((t$2,i$2)=>{if(e$2.entry===t$2.entry&&e$2.extensionName===t$2.extensionName)return s$1.push(i$2),!0}))?o$1[i$1].push(e$2):n$1[i$1].push(e$2)})),t$1[i$1].forEach(((e$2,t$2)=>{s$1.indexOf(t$2)===-1&&r$1[i$1].push(e$2)}));return}if(i$1===`videoCodecs`||i$1===`audioCodecs`){let s$1=[];e$1[i$1].forEach((e$2=>{t$1[i$1].some(((t$2,i$2)=>{if(e$2.payloadType===t$2.payloadType&&JSON.stringify(e$2)===JSON.stringify(t$2))return s$1.push(i$2),!0}))?o$1[i$1].push(e$2):n$1[i$1].push(e$2)})),t$1[i$1].forEach(((e$2,t$2)=>{s$1.indexOf(t$2)===-1&&r$1[i$1].push(e$2)}));return}}function HF(e$1){let{send:t$1,recv:i$1,sendrecv:n$1}=e$1;if(!n$1){if(!t$1||!i$1)throw Error(`cannot merge rtp capabilities because one of send or recv is empty!`);return{send:t$1,recv:i$1}}let r$1,o$1;return t$1?(r$1={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},r$1.audioCodecs=[...t$1.audioCodecs,...n$1.audioCodecs],r$1.videoCodecs=[...t$1.videoCodecs,...n$1.videoCodecs],r$1.audioExtensions=[...t$1.audioExtensions,...n$1.audioExtensions],r$1.videoExtensions=[...t$1.videoExtensions,...n$1.videoExtensions]):r$1=sN(n$1),i$1?(o$1={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},o$1.audioCodecs=[...i$1.audioCodecs,...n$1.audioCodecs],o$1.videoCodecs=[...i$1.videoCodecs,...n$1.videoCodecs],o$1.audioExtensions=[...i$1.audioExtensions,...n$1.audioExtensions],o$1.videoExtensions=[...i$1.videoExtensions,...n$1.videoExtensions]):o$1=sN(n$1),{send:r$1,recv:o$1}}function KF(e$1){e$1.media.mediaType===`audio`&&e$1.attributes.payloads.filter((e$2=>{var t$1;return e$2.rtpMap?.encodingName.toLowerCase()===`opus`})).forEach((e$2=>{e$2.fmtp||={parameters:{}},e$2.fmtp.parameters.stereo=`1`,e$2.fmtp.parameters[`sprop-stereo`]=`1`}))}function YF(e$1,t$1,i$1,n$1){let r$1=[];if(e$1===fx.VIDEO){if(CD(`H264_PROFILE_LEVEL_ID`)&&n$1===`h264`&&(r$1=t$1.videoCodecs.filter((e$2=>{var t$2;return Ln(t$2=e$2.rtpMap&&e$2.rtpMap.encodingName.toLowerCase()||``).call(t$2,n$1)&&e$2&&e$2.fmtp&&e$2.fmtp.parameters[`profile-level-id`]===CD(`H264_PROFILE_LEVEL_ID`)}))),!Array.isArray(r$1)||r$1.length===0){let e$2=[],o$1=[],s$1=[],a$1=[];if(i$1.videoCodecs.forEach((t$2=>{let i$2=t$2.rtpMap&&t$2.rtpMap.encodingName.toLowerCase()||``;Ln(i$2).call(i$2,n$1)?e$2.push(t$2):Ln(i$2).call(i$2,`vp9`)?o$1.push(t$2):Ln(i$2).call(i$2,`vp8`)?s$1.push(t$2):Ln(i$2).call(i$2,`h264`)&&a$1.push(t$2)})),e$2.length===0){let t$2=``;o$1.length===0?s$1.length===0?a$1.length!==0&&(e$2=a$1,t$2=`h264`):(e$2=s$1,t$2=`vp8`):(e$2=o$1,t$2=`vp9`),iP.warning(`codec ${n$1} not included in rtpCapabilities, fallback to default payloads: ${t$2}`)}e$2.length!==0&&(r$1=t$1.videoCodecs.filter((t$2=>e$2.some((e$3=>e$3.payloadType===t$2.payloadType)))))}if(r$1.length===0&&(iP.warning(`codec ${n$1} not included in rtpCapabilities, fallback to default payloads: ${t$1.videoCodecs[0].rtpMap&&t$1.videoCodecs[0].rtpMap.encodingName}`),r$1=t$1.videoCodecs),CD(`USE_PUB_RTX`)||CD(`USE_SUB_RTX`)){let e$2=zF(r$1,t$1.videoCodecs);r$1=[...r$1,...e$2]}}else{r$1=t$1.audioCodecs.filter((e$3=>{var t$2;return Ln(t$2=e$3.rtpMap&&e$3.rtpMap.encodingName.toLowerCase()||``).call(t$2,n$1)}));let e$2=t$1.audioCodecs.filter((e$3=>{var t$2;return Ln(t$2=e$3.rtpMap&&e$3.rtpMap.encodingName.toLowerCase()||``).call(t$2,`red`)}));r$1.length===0&&(iP.warning(`codec ${n$1} not included in rtpCapabilities, fallback to opus`),r$1=t$1.audioCodecs.filter((e$3=>{var t$2;return Ln(t$2=e$3.rtpMap&&e$3.rtpMap.encodingName.toLowerCase()||``).call(t$2,`opus`)}))),CD(`ENABLE_AUDIO_RED`)&&e$2.length!==0&&(r$1=[...e$2,...r$1])}return r$1}function zF(e$1,t$1){let i$1=e$1.map((e$2=>e$2.payloadType.toString()));return t$1.filter((e$2=>e$2.rtpMap&&e$2.rtpMap.encodingName===`rtx`&&e$2.fmtp&&e$2.fmtp.parameters.apt&&Ln(i$1).call(i$1,e$2.fmtp&&e$2.fmtp.parameters.apt)))}async function qF(e$1,t$1,i$1){let n$1=t$1.toString(),r$1=JF(n$1,`offer`,`remote`,`exchangeSDP`);await e$1.setRemoteDescription({type:`offer`,sdp:n$1});let o$1=await e$1.createAnswer();if(!o$1.sdp)throw Error(`cannot get answer sdp`);let s$1=o$1.sdp;s$1=XF(s$1,i$1||{}),r$1?.(s$1||``),await e$1.setLocalDescription({type:`answer`,sdp:s$1})}function XF(e$1,t$1,i$1){if(CD(`FORBID_MODIFY_LOCAL_OFFER_SDP`))return e$1;let n$1=LD(e$1),{useXR:r$1}=t$1;return n$1.mediaDescriptions.forEach((e$2=>{var t$2;e$2.attributes.mid&&(Array.isArray(i$1)&&!Ln(i$1).call(i$1,e$2.attributes.mid)||(e$2.media.mediaType===`audio`&&KF(e$2),e$2.media.mediaType===`video`&&function(e$3){e$3.media.mediaType===`video`&&CD(`ENABLE_DOWN_SPS_PPS`)&&e$3.attributes.payloads.filter((e$4=>{var t$3;return e$4.rtpMap?.encodingName.toLowerCase()===`h264`})).forEach((e$4=>{e$4.fmtp||={parameters:{}},e$4.fmtp.parameters[`sps-pps-idr-in-keyframe`]=`1`}))}(e$2),r$1&&Ln(t$2=[`audio`,`video`]).call(t$2,e$2.media.mediaType)&&e$2.attributes.payloads.forEach((e$3=>{e$3.rtcpFeedbacks.findIndex((e$4=>e$4.type===`rrtr`))===-1&&e$3.rtcpFeedbacks.push({type:`rrtr`})}))))})),kD(n$1)}function JF(e$1,t$1,i$1,n$1){if(CD(`SDP_LOGGING`))return iP.upload(`exchanging ${i$1} ${t$1} SDP during P2PConnection.${n$1}
`,e$1),t$1===`offer`?e$2=>{JF(e$2,`answer`,i$1===`local`?`remote`:`local`,n$1)}:void 0}async function QF(e$1,t$1,i$1){try{var n$1;if(!pP().supportSetRtpSenderParameters||!function(e$2){return e$2===`vp9`||e$2===`av1`}(e$1)||!CD(`ENABLE_SVC`))return;let r$1={},o$1={},s$1=t$1.getParameters(),a$1=s$1.encodings?.[0];o$1.scalabilityMode=SF(i$1),a$1&&Object.assign(a$1,o$1),Object.assign(s$1,r$1),await t$1.setParameters(s$1),iP.debug(`[updateAdaptation] updateRtpSenderEncodings scalabilityMode success: ${JSON.stringify(s$1.encodings)}`)}catch(e$2){iP.debug(`[updateAdaptation] updateRtpSenderEncodings scalabilityMode failed`,e$2)}}function ZF(e$1){let t$1=CD(`COMPATIBLE_SDP_EXTENSION`);return!!(Array.isArray(t$1)&&t$1.length>0)&&t$1.some((t$2=>Ln(e$1).call(e$1,t$2)))}function $F(e$1,t$1){try{var i$1;return e$1.fmtp?.parameters.apt===t$1.payloadType.toString()}catch{return!1}}function eB(e$1,t$1){var i$1=Object.keys(e$1);if(Object.getOwnPropertySymbols){var n$1=Object.getOwnPropertySymbols(e$1);t$1&&(n$1=n$1.filter((function(t$2){return Object.getOwnPropertyDescriptor(e$1,t$2).enumerable}))),i$1.push.apply(i$1,n$1)}return i$1}function tB(e$1,t$1){return typeof CD(e$1)===t$1?CD(e$1):void 0}function iB(){try{let e$1=CD(`EXPERIMENTS`)||{};return typeof e$1==`string`||Array.isArray(e$1)?{}:function(e$2){for(var t$1=1;t$1<arguments.length;t$1++){var i$1=arguments[t$1]==null?{}:arguments[t$1];t$1%2?eB(Object(i$1),!0).forEach((function(t$2){iA(e$2,t$2,i$1[t$2])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e$2,Object.getOwnPropertyDescriptors(i$1)):eB(Object(i$1)).forEach((function(t$2){Object.defineProperty(e$2,t$2,Object.getOwnPropertyDescriptor(i$1,t$2))}))}return e$2}({},e$1)}catch(e$1){return iP.debug(`handle gateway attributes failed: `,e$1),{}}}let nB={};function rB(e$1){(!(arguments.length>1&&arguments[1]!==void 0)||arguments[1])&&iP.debug(`install service ${e$1.name}`),nB[e$1.name]=e$1}function oB(e$1){let t$1=nB[e$1];if(!t$1)throw new pO(hO.INVALID_OPERATION,`${e$1} not found, please use AgoraRTC.use(${e$1}Service) to load it first`);return t$1}function sB(e$1,t$1){return oB(`DataStream`).create(e$1,t$1)}function aB(){return oB(`InterceptFrame`).create()}function cB(e$1,t$1){var i$1=Object.keys(e$1);if(Object.getOwnPropertySymbols){var n$1=Object.getOwnPropertySymbols(e$1);t$1&&(n$1=n$1.filter((function(t$2){return Object.getOwnPropertyDescriptor(e$1,t$2).enumerable}))),i$1.push.apply(i$1,n$1)}return i$1}function dB(e$1){for(var t$1=1;t$1<arguments.length;t$1++){var i$1=arguments[t$1]==null?{}:arguments[t$1];t$1%2?cB(Object(i$1),!0).forEach((function(t$2){iA(e$1,t$2,i$1[t$2])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e$1,Object.getOwnPropertyDescriptors(i$1)):cB(Object(i$1)).forEach((function(t$2){Object.defineProperty(e$1,t$2,Object.getOwnPropertyDescriptor(i$1,t$2))}))}return e$1}let lB=new Map;class uB extends NO{get state(){return this._state}set state(e$1){if(e$1===this._state)return;let t$1=this._state;this._state=e$1,e$1===`DISCONNECTED`&&this._disconnectedReason?this.emit(sx.CONNECTION_STATE_CHANGE,e$1,t$1,this._disconnectedReason):this.emit(sx.CONNECTION_STATE_CHANGE,e$1,t$1)}get joinGatewayStartTime(){return this._joinGatewayStartTime}set joinGatewayStartTime(e$1){iP.debug(`[${this.store.clientId}] set joinGatewayStartTime at ${e$1}`),this._joinGatewayStartTime=e$1}constructor(e$1,t$1){var i$1,n$1,r$1;super(),iA(this,`store`,void 0),iA(this,`joinInfo`,void 0),iA(this,`key`,void 0),iA(this,`ntpOffset`,0),iA(this,`usingProxy`,!1),iA(this,`signal`,void 0),iA(this,`role`,void 0),iA(this,`isPreallocation`,void 0),iA(this,`isPreSub`,void 0),iA(this,`inChannelInfo`,{joinAt:null,duration:0}),iA(this,`spec`,void 0),iA(this,`_state`,`DISCONNECTED`),iA(this,`_statsCollector`,void 0),iA(this,`_disconnectedReason`,void 0),iA(this,`isSignalRecover`,!1),iA(this,`hasChangeBGPAddress`,!1),iA(this,`trafficStatsInterval`,void 0),iA(this,`networkQualityInterval`,void 0),iA(this,`_joinGatewayStartTime`,0),iA(this,`_signalTimeout`,!1),iA(this,`_clientRoleOptions`,void 0),iA(this,`_isProactiveJoin`,!1),this.store=e$1,this.spec=t$1,this.signal=this.store.useP2P?(i$1={spec:dB(dB({},t$1),{},{retryConfig:t$1.websocketRetryConfig}),store:e$1},(r$1=oB(`P2PChannel`)).createSubmodule?.call(r$1,i$1)):this.store.useDcSignal?function(e$2){return oB(`DataChannelSignal`).create(e$2)}({spec:dB(dB({},t$1),{},{retryConfig:t$1.websocketRetryConfig}),store:e$1}):new eF(dB(dB({},t$1),{},{retryConfig:t$1.websocketRetryConfig}),e$1),this._statsCollector=t$1.statsCollector,this.role=t$1.role||`audience`,this._clientRoleOptions=t$1.clientRoleOptions,this.handleSignalEvents()}setUsingProxy(e$1){this.usingProxy=e$1}async join(e$1,t$1,i$1){if(this.store.useDcSignal){let t$2=!1;e$1.cloudProxyServer===`disabled`?`${e$1.apResponse.cid}_${e$1.apResponse.cert}`.length>255||`${e$1.apResponse.cid}_${e$1.apResponse.cert}`.length<22?(iP.debug(`[${this.store.clientId}] Dc is not supported, because ticket length is incorrect, it has to be between 22 and 255`),t$2=!0):e$1.apResponse.addresses.some((e$2=>e$2.fingerprint))||CD(`FINGERPRINT`)||(iP.debug(`[${this.store.clientId}] Dc is not supported, because fingerprint does not exist`),t$2=!0):(iP.debug(`[${this.store.clientId}] Dc is not supported, because cloudProxyServer are not supported (${e$1.cloudProxyServer})`),t$2=!0),t$2&&this.resetSignal()}this.store.joinGatewayStart(),e$1.cloudProxyServer!==`disabled`&&(this.hasChangeBGPAddress=!0);let n$1=Date.now(),r$1=lB.get(e$1.cname);if(r$1||(r$1=new Map,lB.set(e$1.cname,r$1)),this._isProactiveJoin=!0,r$1.has(e$1.uid)){let t$2=new uP(hO.UID_CONFLICT);throw lP.joinGateway(e$1.sid,{lts:n$1,succ:!1,ec:t$2.code,addr:null,uid:e$1.uid,cid:e$1.cid,firstSuccess:this._isProactiveJoin,isProxy:!!e$1.proxyServer||this.usingProxy,signalChannel:this.store.useDcSignal?`1`:`0`,preload:e$1.preload}),t$2}r$1.set(e$1.uid,!0),this.joinInfo=e$1,this.key=t$1;let o$1=0;this.joinGatewayStartTime=n$1;let s$1=e$1.proxyServer,a$1=this.store.useDcSignal?`datachannel`:`websocket`;try{iP.debug(`[${this.store.clientId}] use ${a$1} join uid ${o$1}`);let t$2=e$1.gatewayAddrs.map((t$3=>{let{address:i$3}=t$3,[n$2,r$2]=i$3.split(`:`),o$2={host:n$2,port:r$2};return e$1.proxyServer&&(o$2.proxy=e$1.proxyServer),o$2})),i$2;i$2=this.store.useDcSignal?await this.signal.init(e$1.apResponse.addresses):await this.signal.init(t$2),o$1=i$2.uid,iP.debug(`[${this.store.clientId}] ${a$1} join uid ${o$1} cost ${Date.now()-this.joinGatewayStartTime}`)}catch(t$2){var c$1;throw t$2.code===hO.INIT_DATACHANNEL_TIMEOUT&&this.signal.__name__===`AgoraRTCSignal`||lP.joinGateway(e$1.sid,{lts:n$1,succ:!1,ec:t$2.data?.desc||t$2.code,errorMsg:t$2.message,addr:this.signal.url,uid:e$1.uid,cid:e$1.cid,firstSuccess:this._isProactiveJoin,isProxy:!!s$1||this.usingProxy,signalChannel:this.signal.__name__===`DataChannelSignal`?`1`:`0`,preload:e$1.preload}),t$2&&t$2.code===hO.INIT_DATACHANNEL_TIMEOUT?(iP.warning(`[${this.store.clientId}] User join datachannel failed`,t$2.toString()),this.resetSignal(),t$2):(iP.error(`[${this.store.clientId}] User join failed`,t$2.toString()),r$1.delete(e$1.uid),this.signal.close(),t$2)}return this.state=`CONNECTED`,this.inChannelInfo.joinAt=Date.now(),iP.debug(`[${this.store.clientId}] Connected to gateway server`),this.trafficStatsInterval=window.setInterval((()=>{this.updateTrafficStats().catch((e$2=>{iP.warning(`[${this.store.clientId}] get traffic stats error`,e$2.toString())}))}),3e3),this.networkQualityInterval=window.setInterval((()=>{navigator&&navigator.onLine!==void 0&&!navigator.onLine?this.emit(sx.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6}):this._signalTimeout?this.emit(sx.NETWORK_QUALITY,{downlinkNetworkQuality:5,uplinkNetworkQuality:5}):this.state===`CONNECTED`&&this._statsCollector.trafficStats?this.emit(sx.NETWORK_QUALITY,{uplinkNetworkQuality:uF(this._statsCollector.trafficStats.B_unq),downlinkNetworkQuality:uF(this._statsCollector.trafficStats.B_dnq)}):this.emit(sx.NETWORK_QUALITY,{uplinkNetworkQuality:0,downlinkNetworkQuality:0})}),2e3),this.store.joinGatewayEnd(),o$1}async leave(){let e$1=arguments.length>0&&arguments[0]!==void 0&&arguments[0],t$1=arguments.length>1?arguments[1]:void 0;if(this.state!==`DISCONNECTED`){t$1!==VO.FALLBACK&&(this.state=`DISCONNECTING`);try{e$1||this.signal.connectionState!==VV.CONNECTED||await function(e$2,t$2){return t$2===1/0?e$2:rp.race([e$2,mN(t$2)])}(this.signal.request(FV.LEAVE,void 0,!0),3e3)}catch(e$2){iP.warning(`[${this.store.clientId}] leave request failed, ignore`,e$2)}this.signal.close(t$1),t$1!==VO.FALLBACK&&(this.state=`DISCONNECTED`),this.reset()}}async publish(e$1,t$1,i$1){if(this.state!==`CONNECTED`&&this.state!==`RECONNECTING`)throw new uP(hO.INVALID_OPERATION,`can not publish when connection state is ${this.state}`);let n$1={state:`offer`,p2p_id:this.store.p2pId,ortc:t$1,mode:this.spec.mode,extend:CD(`PUB_EXTEND`),twcc:!!CD(`PUBLISH_TWCC`),rtx:!!CD(`USE_PUB_RTX`)};try{return(await this.signal.request(FV.PUBLISH,n$1,!0))._message}catch(n$2){if(i$1&&n$2.data&&n$2.data.code===UV.ERR_PUBLISH_REQUEST_INVALID)return iP.warning(`[${this.store.clientId}] receive publish error code, retry`,n$2.toString()),await this.tryUnpubBeforeRepub(e$1,t$1),this.publish(e$1,t$1,!1);throw n$2}}async publishDataChannel(e$1,t$1,i$1){var n$1;if(this.state!==`CONNECTED`&&this.state!==`RECONNECTING`)throw new uP(hO.INVALID_OPERATION,`can not publish when connection state is ${this.state}`);let r$1={stream_id:t$1.streamId,ordered:t$1.ordered?1:0,max_retrans_times:t$1.maxRetransmits??10,channel_id:t$1.channelId,metadata:t$1.metadata};try{await this.signal.request(FV.PUBLISH_DATASTREAM,r$1,!0)}catch(n$2){if(i$1&&n$2.data&&n$2.data.code===UV.ERR_PUBLISH_REQUEST_INVALID)return iP.warning(`[${this.store.clientId}] receive publish datachannels error code, retry`,n$2.toString()),await this.tryUnpubDataChannelBeforeRepub(e$1,t$1),this.publishDataChannel(e$1,t$1,!1);throw n$2}}async unpublish(e$1,t$1){try{if(this.state!==`CONNECTED`&&this.state!==`RECONNECTING`)throw new uP(hO.INVALID_OPERATION,`can not publish when connection state is ${this.state}`);await this.signal.request(FV.UNPUBLISH,{stream_id:t$1,ortc:e$1},!0)}catch(e$2){iP.warning(`[${this.store.clientId}] unpublish warning: `,e$2)}}async unpublishDataChannel(e$1){try{if(this.state!==`CONNECTED`&&this.state!==`RECONNECTING`)throw new uP(hO.INVALID_OPERATION,`can not publish when connection state is ${this.state}`);await rp.all(e$1.map((e$2=>this.signal.request(FV.UNPUBLISH_DATASTREAM,{channel_id:e$2},!0))))}catch(e$2){iP.warning(`unpublish datachannels warning: `,e$2)}}async presubscribe(e$1,t$1,i$1){if(this.state!==`CONNECTED`&&this.state!==`RECONNECTING`)throw new uP(hO.INVALID_OPERATION,`can not presubscribe when connection state is ${this.state}`);let n$1={stream_id:e$1,stream_type:t$1,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,twcc:!!CD(`SUBSCRIBE_TWCC`),rtx:!!CD(`USE_SUB_RTX`)||void 0,extend:CD(`SUB_EXTEND`),svc:Array.isArray(CD(`SVC`))&&CD(`SVC`).length!==0?CD(`SVC`):void 0};try{return await this.signal.request(FV.PRE_SUBSCRIBE,n$1,!0)}catch(n$2){if(i$1&&n$2.data&&n$2.data.code===UV.ERR_SUBSCRIBE_REQUEST_INVALID)return iP.warning(`[${this.store.clientId}] pre-subscribe error, retry`,n$2.toString()),this.presubscribe(e$1,t$1,!1);throw n$2}}async subscribe(e$1,t$1,i$1){if(this.state!==`CONNECTED`&&this.state!==`RECONNECTING`)throw new uP(hO.INVALID_OPERATION,`can not subscribe when connection state is ${this.state}`);let n$1={stream_id:e$1,stream_type:t$1.stream_type,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,twcc:!!CD(`SUBSCRIBE_TWCC`),rtx:!!CD(`USE_SUB_RTX`),extend:CD(`SUB_EXTEND`),ssrcId:t$1.ssrcId,svc:Array.isArray(CD(`SVC`))&&CD(`SVC`).length!==0?CD(`SVC`):void 0};try{return(await this.signal.request(FV.SUBSCRIBE,n$1,!0))._message}catch(n$2){if(i$1&&n$2.data&&n$2.data.code===UV.ERR_SUBSCRIBE_REQUEST_INVALID)return iP.warning(`[${this.store.clientId}] receiver subscribe error code, retry`,n$2.toString()),await this.tryUnsubBeforeResub(e$1,t$1),await this.subscribe(e$1,t$1,!1);throw n$2}}async subscribeDataChannel(e$1,t$1,i$1){if(this.state!==`CONNECTED`&&this.state!==`RECONNECTING`)throw new uP(hO.INVALID_OPERATION,`can not subscribe datachannel when connection state is ${this.state}`);let n$1={uid:e$1,stream_id:t$1.id,channel_id:t$1.datachannelId};try{await this.signal.request(FV.SUBSCRIBE_DATASTREAM,n$1,!0);return}catch(n$2){if(i$1&&n$2.data&&n$2.data.code===UV.ERR_SUBSCRIBE_REQUEST_INVALID)return iP.warning(`[${this.store.clientId}] receiver subscribe datachannel error code, retry`,n$2.toString()),await this.tryUnsubDataChannelBeforeResub(e$1,t$1),await this.subscribeDataChannel(e$1,t$1,!1);throw n$2}}async subscribeAll(e$1,t$1){if(this.state!==`CONNECTED`&&this.state!==`RECONNECTING`)throw new uP(hO.INVALID_OPERATION,`can not massSubscribe when connection state is ${this.state}`);let i$1={p2p_id:this.store.p2pId,users:e$1,dtx:!1,rtx:!!CD(`USE_SUB_RTX`),twcc:!!CD(`SUBSCRIBE_TWCC`),svc:Array.isArray(CD(`SVC`))&&CD(`SVC`).length!==0?CD(`SVC`):void 0};try{return await this.signal.request(FV.SUBSCRIBE_STREAMS,i$1,!0)}catch(i$2){if(t$1&&i$2.data&&i$2.data.code===UV.ERR_SUBSCRIBE_REQUEST_INVALID)return iP.warning(`[${this.store.clientId}] receiver massSubscribe error code, retry`,i$2.toString()),await this.tryMassUnsubBeforeResub(e$1),await this.subscribeAll(e$1,!1);throw i$2}}async setVideoProfile(e$1){let t$1=function(e$2){if(!(e$2.bitrateMax&&e$2.bitrateMin&&e$2.frameRate&&e$2.height&&e$2.width))return;let t$2=e$2.frameRate,i$1=e$2.width,n$1=e$2.height,r$1=!0;return typeof t$2!=`number`&&(t$2=t$2.exact||t$2.ideal||t$2.max||t$2.min||0,t$2||(r$1=!1)),typeof i$1!=`number`&&(i$1=i$1.exact||i$1.ideal||i$1.max||i$1.min||0,i$1||(r$1=!1)),typeof n$1!=`number`&&(n$1=n$1.exact||n$1.ideal||n$1.max||n$1.min||0,t$2||(r$1=!1)),r$1?{stream_type:0,width:i$1,height:n$1,fps:t$2,start_bps:1e3*e$2.bitrateMax,min_bps:1e3*e$2.bitrateMin,target_bps:1e3*e$2.bitrateMax}:void 0}(e$1);if(t$1)return this.signal.request(FV.SET_VIDEO_PROFILE,t$1);iP.debug(`[${this.store.clientId}] encoder config is not complete, do not report to gateway`)}async unsubscribe(e$1,t$1){try{await this.signal.request(FV.UNSUBSCRIBE,{p2p_id:this.store.p2pId,ortc:e$1,stream_id:t$1},!0)}catch(e$2){iP.warning(`[${this.store.clientId}] unsubscribe warning: `,e$2)}}async unsubscribeDataChannel(e$1,t$1){try{if(this.state!==`CONNECTED`&&this.state!==`RECONNECTING`)throw new uP(hO.INVALID_OPERATION,`can not publish when connection state is ${this.state}`);await rp.all(e$1.map((e$2=>this.signal.request(FV.UNSUBSCRIBE_DATASTREAM,{stream_id:e$2,uid:t$1},!0))))}catch(e$2){iP.warning(`unsubscribeDataChannel warning: `,e$2)}}async massUnsubscribe(e$1){try{await this.signal.request(FV.UNSUBSCRIBE_STREAMS,e$1,!0)}catch(e$2){iP.warning(`[${this.store.clientId}] massUnsubscribeAll warning: `,e$2)}}async reconnectPC(e$1){let{iceParameters:t$1,dtlsParameters:i$1,rtpCapabilities:n$1}=e$1;return{gatewayEstablishParams:await this.signal.request(FV.CONNECT_PC,{p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:{iceParameters:t$1,dtlsParameters:i$1,rtpCapabilities:n$1}},!0),gatewayAddress:this.getCurrentGatewayAddress()}}getGatewayInfo(){return this.signal.request(FV.GATEWAY_INFO)}async renewToken(e$1){await this.signal.request(FV.RENEW_TOKEN,e$1),this.key=e$1.token}updateClientRole(e$1,t$1){t$1&&(this._clientRoleOptions=Object.assign({},t$1)),CD(`CLIENT_ROLE_OPTIONS`)&&(iP.debug(`[${this.store.clientId}] Set roleOptions for ${JSON.stringify(CD(`CLIENT_ROLE_OPTIONS`))} instead of ${JSON.stringify(this._clientRoleOptions)} `),this._clientRoleOptions=Object.assign({},CD(`CLIENT_ROLE_OPTIONS`))),this.role=e$1}async setClientRole(e$1,t$1){if(t$1&&(this._clientRoleOptions=Object.assign({},t$1)),CD(`CLIENT_ROLE_OPTIONS`)&&(this._clientRoleOptions=Object.assign({},CD(`CLIENT_ROLE_OPTIONS`)),iP.debug(`[${this.store.clientId}] Set roleOptions for ${JSON.stringify(CD(`CLIENT_ROLE_OPTIONS`))} instead of ${JSON.stringify(this._clientRoleOptions)} `)),this.state!==`CONNECTED`)return void(this.role=e$1);let i$1,n$1=0;e$1===`audience`?this._clientRoleOptions&&this._clientRoleOptions.delay?(i$1=this._clientRoleOptions.delay,n$1=1):n$1=this._clientRoleOptions&&this._clientRoleOptions.level?this._clientRoleOptions.level:2:n$1=0;let r$1=Object.assign({},t$1);delete r$1.delay,delete r$1.level,await this.signal.request(FV.SET_CLIENT_ROLE,dB(dB({role:e$1,level:n$1,delay:i$1},r$1),{},{client_ts:Date.now()})),this.role=e$1}async setDualStreamMode(e$1,t$1,i$1){await this.signal.request(FV.SET_DUAL_STREAM_MODE,{mode:e$1},i$1,t$1)}async setRemoteVideoStreamType(e$1,t$1){await this.signal.request(FV.SWITCH_VIDEO_STREAM,{stream_id:e$1,stream_type:t$1})}async setDefaultRemoteVideoStreamType(e$1){await this.signal.request(FV.DEFAULT_VIDEO_STREAM,{stream_type:e$1})}async setStreamFallbackOption(e$1,t$1){await this.signal.request(FV.SET_FALLBACK_OPTION,{stream_id:e$1,fallback_type:t$1})}async pickSVCLayer(e$1,t$1){await this.signal.request(FV.PICK_SVC_LAYER,{stream_id:e$1,spatial_layer:t$1.spatialLayer,temporal_layer:t$1.temporalLayer})}async setRTM2Flag(e$1){await this.signal.request(FV.SET_RTM2_FLAG,{rtm2_flag:e$1})}async sendExtensionMessage(e$1,t$1,i$1){if(this.store.useP2P)return this.signal.sendExtensionMessage(e$1,t$1,i$1)}getInChannelInfo(){return this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt),dB({},this.inChannelInfo)}async setConfigure(e$1){if(e$1&&Array.isArray(e$1)&&e$1.length!==0)return this.signal.request(FV.CONFIGURE,e$1)}async getGatewayVersion(){return(await this.signal.request(FV.GATEWAY_INFO)).version}reset(){if(this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt,this.inChannelInfo.joinAt=null),this.trafficStatsInterval&&=(window.clearInterval(this.trafficStatsInterval),void 0),this.joinInfo){let e$1=lB.get(this.joinInfo.cname);e$1&&e$1.delete(this.joinInfo.uid)}this.joinInfo=void 0,this.key=void 0,this.networkQualityInterval&&=(window.clearInterval(this.networkQualityInterval),void 0),this.usingProxy=!1}updateTurnConfigFromSignal(){if(!this.joinInfo)return;let e$1=function(e$2){let t$1;return t$1=e$2.startsWith(`dc`)?e$2.match(/(dc\:\/\/)?([^:]+):(\d+)/):e$2.match(/(wss\:\/\/)?([^:]+):(\d+)/),t$1?{username:ED.username,password:ED.password,turnServerURL:t$1[2],tcpport:parseInt(t$1[3])+30,udpport:parseInt(t$1[3])+30,forceturn:!1}:null}((this.joinInfo.cloudProxyServer===`disabled`?this.signal.url:this.joinInfo.gatewayAddrs[this.signal.currentURLIndex].address)||``);this.joinInfo.turnServer.serversFromGateway=[],e$1&&this.joinInfo.turnServer.mode!==`off`&&this.joinInfo.cloudProxyServer===`disabled`&&this.joinInfo.turnServer.serversFromGateway.push(dB(dB({},ED),{},{turnServerURL:e$1.turnServerURL,tcpport:e$1.tcpport,udpport:e$1.udpport,username:this.joinInfo.uid.toString(),password:this.joinInfo.token}))}async updateTrafficStats(){if(this.state!==`CONNECTED`)return;let e$1=await this.signal.request(FV.TRAFFIC_STATS,void 0,!0);e$1.timestamp=Date.now(),e$1.ntp_offset!=null&&(this.ntpOffset=e$1.ntp_offset),e$1.peer_delay.forEach((e$2=>{let t$1=this._statsCollector.trafficStats&&this._statsCollector.trafficStats.peer_delay.find((t$2=>t$2.peer_uid===e$2.peer_uid));t$1&&t$1.B_st!==e$2.B_st&&oN((()=>{this.emit(sx.STREAM_TYPE_CHANGE,e$2.peer_uid,e$2.B_st)}))})),this._statsCollector.updateTrafficStats(e$1)}getJoinMessage(e$1){var t$1,i$1,n$1,r$1;if(!this.joinInfo||!this.key)throw new uP(hO.UNEXPECTED_ERROR,`can not generate join message, no join info`);let o$1=Object.assign({},this.joinInfo.apResponse),s$1=CD(`REPORT_APP_SCENARIO`);if(typeof s$1!=`string`)try{s$1=JSON.stringify(s$1)}catch{s$1=void 0}var a$1;s$1&&s$1.length>128&&(s$1=void 0),this.store.hasStartJoinChannel=!0,this.store.isABTestSuccess||this.emit(sx.UPDATE_GATEWAY_CONFIG),a$1=this.store.clientId,Ln(YU).call(YU,a$1)||YU.push(a$1);let c$1=mP(this.store),d$1=!((t$1=this.isPreallocation)==null||!t$1.call(this)),l$1=fP(this.store),u$1=iB(),h$1=Gw(87)||xw()||Yw(117),p$1=(function(){let e$2=Dw();if(e$2.name!==bw.SAFARI||!e$2.browserVersion)return!1;let t$2=e$2.browserVersion.split(`.`);return Number(t$2[0])>18||Number(t$2[0])===18&&Number(t$2[1])>=4}()||qw(18,4,!1))&&Jw(18,6,!0)&&this.spec.codec===`h264`&&CD(`ENABLE_ABSSENDTIME_AS_SENTTS`),_$1=!(o$1.detail?.[3]!==`CN`||!CD(`ENABLE_QUALITY_FALLBACK`))&&CD(`ENABLE_QUALITY_FALLBACK`),E$1=!!CD(`ENABLE_AP_MULTI_IP`)&&o$1.detail?.[5]===`multi-ip`,m$1=dB({license:this.joinInfo.license,p2p_id:this.store.p2pId,session_id:this.joinInfo.sid,app_id:this.joinInfo.appId,channel_key:this.key,channel_name:this.joinInfo.cname,sdk_version:hD,browser:navigator.userAgent,process_id:CD(`PROCESS_ID`),mode:this.store.useP2P?`p2p`:this.spec.mode,codec:this.spec.codec,role:this.role,has_changed_gateway:E$1||this.hasChangeBGPAddress,ap_response:o$1,extend:CD(`JOIN_EXTEND`),details:{6:this.joinInfo.stringUid,cservice_map:this.joinInfo.cloudProxyServer===`proxy3`?`1`:this.joinInfo.cloudProxyServer===`proxy5`?`2`:void 0},features:{rejoin:!0},optionalInfo:this.joinInfo.optionalInfo,appScenario:s$1,attributes:{userAttributes:dB(dB({enableEncodedTransform:(!!CD(`ENABLE_AUDIO_METADATA`)||!!CD(`ENABLE_AUDIO_PTS`))&&h$1||!!CD(`ENABLE_AUDIO_TOPN`)&&Hw(bw.CHROME,87,116)||void 0,enableAudioMetadata:!!CD(`ENABLE_AUDIO_METADATA`)&&h$1,enableAudioPts:!!CD(`ENABLE_AUDIO_PTS`)&&h$1,topnSmoothLevel:CD(`TOPN_SMOOTH_LEVEL`),topnNewSpeakerDelay:CD(`TOPN_NEW_SPEAKER_DELAY`),topnSwitchHoldMs:CD(`TOPN_SWITCH_HOLD_MS`),topnAudioGain:CD(`TOPN_AUDIO_GAIN`),enableNetworkQualityProbe:this.store.networkQualityProbe,enablePublishedUserList:CD(`ENABLE_PUBLISHED_USER_LIST`),maxSubscription:CD(`MAX_SUBSCRIPTION`),subscribeAudioFilterTopN:tB(`SUBSCRIBE_AUDIO_FILTER_TOPN`,`number`),enablePublishAudioFilter:tB(`ENABLE_PUBLISH_AUDIO_FILTER`,`boolean`),enableUserLicenseCheck:tB(`ENABLE_USER_LICENSE_CHECK`,`boolean`),enableRTX:!0===CD(`USE_PUB_RTX`)||!0===CD(`USE_SUB_RTX`)||void 0,disableFEC:CD(`DISABLE_FEC`),enableNTPReport:!!CD(`ENABLE_NTP_REPORT`)||void 0,enableInstantVideo:l$1,enableFulllinkAvSync:!!CD(`ENABLE_FULL_LINK_AV_SYNC`)||void 0,enableDataStream2:tB(`ENABLE_DATASTREAM_2`,`boolean`),enableAutFeedback:!!CD(`FORCE_ENABLE_AUT_CC`)||!EP()&&(!!CD(`ENABLE_AUT_FEEDBACK`)||void 0),rtm2Flag:typeof this.joinInfo.rtmFlag==`number`?this.joinInfo.rtmFlag:void 0,enableUserAutoRebalanceCheck:!!CD(`ENABLE_USER_AUTO_REBALANCE_CHECK`),enableXR:tB(`USE_XR`,`boolean`),enableLossbasedBwe:tB(`ENABLE_LOSSBASED_BWE`,`boolean`),enableAutCC:!!CD(`FORCE_ENABLE_AUT_CC`)||!EP()&&(!!CD(`ENABLE_AUT_CC`)||void 0),enableCCFallback:tB(`ENABLE_CC_FALLBACK`,`boolean`),enablePreallocPC:d$1,preSubNum:c$1?tB(`PRE_SUB_NUM`,`number`):void 0,enablePubTWCC:tB(`PUBLISH_TWCC`,`boolean`),enableSubTWCC:tB(`SUBSCRIBE_TWCC`,`boolean`),enablePubRTX:tB(`USE_PUB_RTX`,`boolean`),enableSubRTX:tB(`USE_SUB_RTX`,`boolean`),enableSubSVC:CD(`ENABLE_SVC`)?CD(`ENABLE_SVC_DEFAULT_CODECS`):Array.isArray(CD(`SVC`))&&CD(`SVC`).length!==0?CD(`SVC`):void 0,enableSvcExtended:CD(`ENABLE_SVC`)&&Array.isArray(CD(`SVC_EXTENDED`))&&CD(`SVC_EXTENDED`).length!==0?CD(`SVC_EXTENDED`):void 0,enableVosFallback:CD(`ENABLE_VOS_FALLBACK`),enableQualityFallback:_$1},u$1),{},{audioDuplicate:tB(`ENABLE_AUDIO_RED`,`boolean`)?tB(`AUDIO_DUPLICATE_NUM`,`number`)??2:void 0,senttsUsesAbsSendTime:!!p$1||void 0,enableDualStreamFlag:tB(`ENABLE_DUAL_STREAM_FLAG`,`boolean`)})},join_ts:this.joinGatewayStartTime},e$1);return this.joinInfo.stringUid&&(m$1.string_uid=this.joinInfo.stringUid),this.joinInfo.aesmode&&this.joinInfo.aespassword&&(m$1.aes_mode=this.joinInfo.aesmode,CD(`ENCRYPT_AES`)?(m$1.aes_secret=this.joinInfo.aespassword,m$1.aes_encrypt=!0):m$1.aes_secret=this.joinInfo.aespassword,this.joinInfo.aessalt&&(m$1.aes_salt=this.joinInfo.aessalt)),o$1.addresses[this.signal.websocket.currentURLIndex]&&(m$1.ap_response.ticket=o$1.addresses[this.signal.websocket.currentURLIndex].ticket,delete o$1.addresses),this.joinInfo.defaultVideoStream!==void 0&&(m$1.default_video_stream=this.joinInfo.defaultVideoStream),m$1}getRejoinMessage(){if(!this.joinInfo)throw new uP(hO.UNEXPECTED_ERROR,`can not generate rejoin message, no join info`);return{session_id:this.joinInfo.sid,channel_name:this.joinInfo.cname,cid:this.joinInfo.cid,uid:this.joinInfo.uid,vid:Number(this.joinInfo.vid)}}handleSignalEvents(){this.signal.on(xV.WS_RECONNECT_CREATE_CONNECTION,(e$1=>{this.joinGatewayStartTime=Date.now()})),this.signal.on(xV.WS_RECONNECTING,(e$1=>{this.joinInfo&&lP.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:e$1||HO.NETWORK_ERROR}),this.joinInfo&&(this.state=`RECONNECTING`,lP.sessionInit(this.joinInfo.sid,{lts:new Date().getTime(),extend:this.isSignalRecover?{recover:!0}:{rejoin:!0},cname:this.joinInfo.cname,appid:this.joinInfo.appId,mode:this.spec.mode,stringUid:this.joinInfo.stringUid,channelProfile:this.spec.mode===`live`?1:0,channelMode:0,lsid:this.joinInfo.sid,clientRole:this.role===`audience`?2:1,buildFormat:1}),this.isSignalRecover=!1,this.joinGatewayStartTime=Date.now())})),this.signal.on(xV.WS_CLOSED,(e$1=>{let t$1;switch(e$1){case VO.LEAVE:t$1=HO.LEAVE;break;case VO.UID_BANNED:case VO.IP_BANNED:case VO.CHANNEL_BANNED:case VO.SERVER_ERROR:t$1=HO.SERVER_ERROR;break;case VO.FALLBACK:t$1=HO.FALLBACK;break;case VO.LICENSE_MISSING:case VO.LICENSE_EXPIRED:case VO.LICENSE_MINUTES_EXCEEDED:case VO.LICENSE_PERIOD_INVALID:case VO.LICENSE_MULTIPLE_SDK_SERVICE:case VO.LICENSE_ILLEGAL:case VO.TOKEN_EXPIRE:t$1=e$1;break;default:t$1=HO.NETWORK_ERROR}iP.debug(`[${this.store.clientId}] [signal] websocket closed, reason: ${t$1||`undefined -> `+HO.NETWORK_ERROR}`),this.joinInfo&&lP.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:e$1===VO.LEAVE?1:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:t$1}),this._disconnectedReason=e$1,e$1!==VO.FALLBACK&&(this.state=`DISCONNECTED`),this.reset()})),this.signal.on(xV.WS_CONNECTED,(()=>{if(this.updateTurnConfigFromSignal(),this.state=`CONNECTED`,this.joinInfo){if(this.role===`audience`){let e$1=CD(`CLIENT_ROLE_OPTIONS`)||this._clientRoleOptions;e$1&&(e$1.level||e$1.delay)&&(iP.debug(`[${this.store.clientId}] patch to send set client role, role: ${this.role}, mode: ${this.spec.mode}, level: ${e$1.level}, delay: ${e$1.delay}`),this.setClientRole(this.role,e$1))}if(lP.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!0,ec:null,vid:this.joinInfo.vid,addr:this.signal.url,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,isProxy:!!this.joinInfo.proxyServer||this.usingProxy,signalChannel:this.signal.__name__===`DataChannelSignal`?`1`:`0`,preload:this.joinInfo.preload,isABTestSuccess:this.store.isABTestSuccess}),this._isProactiveJoin=!1,this.joinInfo.useLocalAccessPoint&&this.joinInfo.setLocalAPVersion===1){let e$1=this.signal.url&&this.signal.url.match(/wss\:\/\/([^:]+):(\d+)/);if(!e$1)return void iP.error(`[${this.store.clientId}] set local access point after joined failed: ${e$1}`);RD(`EVENT_REPORT_DOMAIN`,e$1[1]),RD(`EVENT_REPORT_BACKUP_DOMAIN`,e$1[1]),RD(`LOG_UPLOAD_SERVER`,`${e$1[1]}:6444`)}}})),this.signal.on(jV.ON_UPLINK_STATS,(e$1=>{this._statsCollector.updateUplinkStats(e$1)})),this.signal.on(xV.REQUEST_RECOVER,((e$1,t$1,i$1)=>{if(!this.joinInfo)return i$1(new uP(hO.UNEXPECTED_ERROR,`gateway: can not recover, no join info`));e$1&&(this.joinInfo.multiIP=e$1,this.hasChangeBGPAddress=!0),this.isSignalRecover=!0,zO(this,sx.REQUEST_NEW_GATEWAY_LIST).then(t$1).catch(i$1)})),this.signal.on(xV.REQUEST_JOIN_INFO,(async(e$1,t$1,i$1)=>{var n$1,r$1,o$1;if(this.updateTurnConfigFromSignal(),this.store.useP2P)return void e$1(this.getJoinMessage({ortc:{}}));let s$1=sN(this.joinInfo?.turnServer);if(CD(`NEW_TURN_MODE`)&&s$1&&this.joinInfo?.cloudProxyServer===`disabled`){var a$1;let e$2=s$1.servers.map((e$3=>`turnServerURL`in e$3&&CD(`USE_TURN_IP`)?dB(dB({},e$3),{},{turnServerURL:aF(e$3.turnServerURL)}):e$3)),t$2=s$1.serversFromGateway?.map((e$3=>CD(`USE_TURN_IP`)?dB(dB({},e$3),{},{turnServerURL:aF(e$3.turnServerURL)}):e$3)),i$2=this.signal.currentURLIndex;e$2.length>0&&(e$2=[e$2[i$2%e$2.length]],s$1.servers=e$2),Array.isArray(t$2)&&t$2.length>0&&(t$2=[t$2[0]],s$1.serversFromGateway=t$2),iP.debug(`[${this.store.clientId}] use single turn, use turn server index: ${i$2}`)}let{iceParameters:c$1,dtlsParameters:d$1,rtpCapabilities:l$1}=await zO(this,sx.REQUEST_P2P_CONNECTION_PARAMS,{turnServer:s$1,cloudProxyServer:this.joinInfo?.cloudProxyServer});try{e$1(this.getJoinMessage({ortc:{iceParameters:c$1,dtlsParameters:d$1,rtpCapabilities:l$1,version:`2`}}))}catch(e$2){t$1(e$2)}})),this.signal.on(xV.REQUEST_REJOIN_INFO,(e$1=>{e$1(this.getRejoinMessage())})),this.signal.on(xV.REPORT_JOIN_GATEWAY,((e$1,t$1)=>{if(!this.joinInfo)return;let i$1,n$1=``;var r$1;e$1 instanceof uP?(i$1=e$1.data?.desc||e$1.code,n$1=e$1.message):i$1=e$1,lP.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!1,ec:i$1,errorMsg:n$1,addr:t$1,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,isProxy:!!this.joinInfo.proxyServer||this.usingProxy,signalChannel:this.signal.__name__===`DataChannelSignal`?`1`:`0`,preload:this.joinInfo.preload})})),this.signal.on(xV.IS_P2P_DISCONNECTED,(e$1=>{e$1(JO(this,sx.IS_P2P_DISCONNECTED))})),this.signal.on(xV.DISCONNECT_P2P,(()=>{this.emit(sx.DISCONNECT_P2P)})),this.signal.on(xV.REQUEST_SUCCESS,(()=>{this._signalTimeout=!1})),this.signal.on(xV.REQUEST_TIMEOUT,(()=>{this._signalTimeout=!0})),this.signal.on(xV.JOIN_RESPONSE,(e$1=>{let t$1=this.getCurrentGatewayAddress();this.emit(sx.JOIN_RESPONSE,e$1,t$1)})),this.signal.on(xV.PRE_CONNECT_PC,(async(e$1,t$1)=>{if(this.joinInfo){var i$1,n$1;this.updateTurnConfigFromSignal();let o$1=this.getCurrentGatewayAddress(),s$1=sN(this.joinInfo?.turnServer);if(CD(`NEW_TURN_MODE`)&&s$1&&this.joinInfo?.cloudProxyServer===`disabled`){var r$1;let e$2=s$1.servers.map((e$3=>`turnServerURL`in e$3&&CD(`USE_TURN_IP`)?dB(dB({},e$3),{},{turnServerURL:aF(e$3.turnServerURL)}):e$3)),t$2=s$1.serversFromGateway?.map((e$3=>CD(`USE_TURN_IP`)?dB(dB({},e$3),{},{turnServerURL:aF(e$3.turnServerURL)}):e$3)),i$2=this.signal.currentURLIndex;e$2.length>0&&(e$2=[e$2[i$2%e$2.length]],s$1.servers=e$2),Array.isArray(t$2)&&t$2.length>0&&(t$2=[t$2[0]],s$1.serversFromGateway=t$2),iP.debug(`[${this.store.clientId}] use single turn, use turn server index: ${i$2},in pre pc`)}let a$1=CD(`FINGERPRINT`)||this.joinInfo.apResponse.addresses[this.signal.currentURLIndex].fingerprint;if(o$1&&a$1){let i$2=PF(o$1);zO(this,sx.PRE_CONNECT_PC,{candidates:i$2,fingerprint:a$1,turnServer:s$1}).then((t$2=>{e$1?.(t$2)})).catch(t$1||(()=>{}))}}})),this.signal.on(xV.RECOVER_NOTIFICATION,(e$1=>{this.joinInfo&&typeof CD(`AP_REQUEST_DETAIL`)==`string`&&(this.joinInfo.apRequestDetail=`${CD(`AP_REQUEST_DETAIL`)};${e$1}`)})),this.signal.on(xV.VOS_FALLBACK,(e$1=>{this.emit(sx.VOS_FALLBACK,e$1)})),this.signal.on(xV.DATACHANNEL_FAILBACK,(e$1=>{iP.warning(`[${this.store.clientId}] User join datachannel failed`),this.reset(),this.resetSignal(),this.emit(sx.DATACHANNEL_FAILBACK)}))}async tryUnsubBeforeResub(e$1,t$1){try{await this.signal.request(FV.UNSUBSCRIBE,{p2p_id:this.store.p2pId,stream_id:e$1,ortc:[t$1]},!0)}catch(e$2){throw iP.warning(`[${this.store.clientId}] tryUnsubBeforeResub warning`,e$2),e$2}}async tryUnsubDataChannelBeforeResub(e$1,t$1){try{await this.signal.request(FV.UNSUBSCRIBE,{stream_id:t$1.id},!0)}catch(e$2){throw iP.warning(`unsubscribe datachannel warning`,e$2),e$2}}async tryUnpubBeforeRepub(e$1,t$1){try{await this.signal.request(FV.UNPUBLISH,{stream_id:e$1,ortc:t$1},!0)}catch(e$2){throw iP.warning(`[${this.store.clientId}] tryUnpubBeforeRepub warning: `,e$2),e$2}}async tryUnpubDataChannelBeforeRepub(e$1,t$1){try{await this.signal.request(FV.UNPUBLISH_DATASTREAM,{channnel_id:t$1.channelId},!0)}catch(e$2){throw iP.warning(`unpublish datastream warning: `,e$2),e$2}}async tryMassUnsubBeforeResub(e$1){let t$1={users:e$1.map((e$2=>({stream_id:e$2.stream_id,stream_type:e$2.stream_type})))};try{await this.signal.request(FV.UNSUBSCRIBE_STREAMS,t$1,!0)}catch(e$2){throw iP.warning(`[${this.store.clientId}] tryMassUnsubBeforeResub warning`,e$2),e$2}}async muteLocal(e$1,t$1){let i$1={action:e$1.find((e$2=>e$2.stream_type===ox.Audio))?`mute_local_audio`:`mute_local_video`,p2p_id:this.store.p2pId,ortc:e$1,stream_id:t$1};try{await this.signal.request(FV.CONTROL,i$1,!0,!0)}catch(e$2){throw iP.warning(`[${this.store.clientId}] gateway muteLocal warning: `,e$2),e$2}}async unmuteLocal(e$1,t$1){let i$1={action:e$1.find((e$2=>e$2.stream_type===ox.Audio))?`unmute_local_audio`:`unmute_local_video`,p2p_id:this.store.p2pId,ortc:e$1,stream_id:t$1};try{await this.signal.request(FV.CONTROL,i$1,!0,!0)}catch(e$2){throw iP.warning(`[${this.store.clientId}] gateway unmuteLocal warning: `,e$2),e$2}}async muteRemote(e$1,t$1){let i$1={action:e$1===fx.AUDIO?`mute_remote_audio`:`mute_remote_video`,p2p_id:this.store.p2pId,stream_id:t$1};try{await this.signal.request(FV.CONTROL,i$1,!0,!0)}catch(e$2){throw iP.warning(`[${this.store.clientId}] gateway muteRemote warning: `,e$2),e$2}}async unmuteRemote(e$1,t$1){let i$1={action:e$1===fx.AUDIO?`unmute_remote_audio`:`unmute_remote_video`,p2p_id:this.store.p2pId,stream_id:t$1};try{await this.signal.request(FV.CONTROL,i$1,!0,!0)}catch(e$2){throw iP.warning(`[${this.store.clientId}] gateway unmuteRemote warning: `,e$2),e$2}}uploadWRTCStats(e$1){this.signal.uploadWRTCStats(e$1)}upload(e$1,t$1){this.signal.upload(e$1,t$1)}getSignalRTT(){return this.signal.rtt}async restartICE(e$1){let t$1={p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:e$1};try{return await this.signal.request(FV.RESTART_ICE,t$1,!0)}catch(e$2){throw iP.warning(`[${this.store.clientId}] P2PChannel.restartICE warning: `,e$2),e$2}}reconnect(e$1,t$1){this.state===`CONNECTED`&&this.signal.reconnect(e$1||void 0,t$1||HO.P2P_FAILED)}getCurrentGatewayAddress(){var e$1,t$1;if(!CD(`GATEWAY_WSS_ADDRESS`))return CD(`USE_CANDIDATE_FROM_AP_DETAIL`)&&(e$1=this.joinInfo)!=null&&e$1.apGatewayAddress?(iP.debug(`[${this.store.clientId}] use candidate from ap detail, ${JSON.stringify(this.joinInfo.apGatewayAddress)}`),this.joinInfo.apGatewayAddress):(t$1=this.joinInfo)!=null&&t$1.gatewayAddrs?this.joinInfo.gatewayAddrs[this.signal.currentURLIndex]:void 0}async setPublishAudioFilterEnabled(e$1){await this.signal.request(FV.SET_PARAMETER,{enablePublishAudioFilter:e$1})}downgradeCodec(e$1){this.signal.downgradeCodec(e$1)}resetSignal(){this.signal&&(this.signal.removeAllListeners(),this.signal.close(VO.FALLBACK)),this.store.useDcSignal=!1,this.signal=new eF(dB(dB({},this.spec),{},{retryConfig:this.spec.websocketRetryConfig}),this.store),this.handleSignalEvents(),this.emit(sx.RESET_SIGNAL)}}let hB=0,pB=0;function _B(e$1,t$1,i$1,n$1){return new rp(((r$1,o$1)=>{t$1.timeout=t$1.timeout||CD(`HTTP_CONNECT_TIMEOUT`),t$1.responseType=t$1.responseType||`json`,t$1.data&&!i$1?(t$1.data=JSON.stringify(t$1.data),hB+=_N(t$1.data)):i$1&&(t$1.data.size?hB+=t$1.data.size:t$1.data instanceof FormData?hB+=EN(t$1.data):hB+=_N(JSON.stringify(t$1.data))),t$1.headers=t$1.headers||{},t$1.headers[`Content-Type`]=t$1.headers[`Content-Type`]||`application/json`,t$1.method=`POST`,t$1.url=e$1,Tw.request(t$1).then((e$2=>{typeof e$2.data==`string`?pB+=_N(e$2.data):e$2.data instanceof ArrayBuffer||e$2.data instanceof Uint8Array?pB+=e$2.data.byteLength:pB+=_N(JSON.stringify(e$2.data)),n$1&&r$1({data:e$2.data,headers:e$2.headers}),r$1(e$2.data)})).catch((e$2=>{Tw.isCancel(e$2)?o$1(new uP(hO.OPERATION_ABORTED,`cancel token canceled`)):e$2.code===`ECONNABORTED`?o$1(new uP(hO.NETWORK_TIMEOUT,e$2.message)):e$2.response?o$1(new uP(hO.NETWORK_RESPONSE_ERROR,e$2.response.status)):o$1(new uP(hO.NETWORK_ERROR,e$2.message))}))}))}(function(){var e$1;function i$1(e$2){var t$1=0;return function(){return t$1<e$2.length?{done:!1,value:e$2[t$1++]}:{done:!0}}}var n$1=typeof Object.defineProperties==`function`?Object.defineProperty:function(e$2,t$1,i$2){return e$2==Array.prototype||e$2==Object.prototype||(e$2[t$1]=i$2.value),e$2},r$1,o$1=function(e$2){e$2=[typeof globalThis==`object`&&globalThis,e$2,typeof window==`object`&&window,typeof self==`object`&&self,typeof t==`object`&&t];for(var i$2=0;i$2<e$2.length;++i$2){var n$2=e$2[i$2];if(n$2&&n$2.Math==Math)return n$2}throw Error(`Cannot find global object`)}(this);function s$1(e$2,t$1){if(t$1)e:{var i$2=o$1;e$2=e$2.split(`.`);for(var r$2=0;r$2<e$2.length-1;r$2++){var s$2=e$2[r$2];if(!(s$2 in i$2))break e;i$2=i$2[s$2]}(t$1=t$1(r$2=i$2[e$2=e$2[e$2.length-1]]))!=r$2&&t$1!=null&&n$1(i$2,e$2,{configurable:!0,writable:!0,value:t$1})}}function a$1(e$2){return(e$2={next:e$2})[Symbol.iterator]=function(){return this},e$2}function c$1(e$2){var t$1=typeof Symbol<`u`&&Symbol.iterator&&e$2[Symbol.iterator];return t$1?t$1.call(e$2):{next:i$1(e$2)}}if(s$1(`Symbol`,(function(e$2){function t$1(e$3,t$2){this.A=e$3,n$1(this,`description`,{configurable:!0,writable:!0,value:t$2})}if(e$2)return e$2;t$1.prototype.toString=function(){return this.A};var i$2=`jscomp_symbol_`+(1e9*Math.random()>>>0)+`_`,r$2=0;return function e$3(n$2){if(this instanceof e$3)throw TypeError(`Symbol is not a constructor`);return new t$1(i$2+(n$2||``)+`_`+ r$2++,n$2)}})),s$1(`Symbol.iterator`,(function(e$2){if(e$2)return e$2;e$2=Symbol(`Symbol.iterator`);for(var t$1=`Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array`.split(` `),r$2=0;r$2<t$1.length;r$2++){var s$2=o$1[t$1[r$2]];typeof s$2==`function`&&typeof s$2.prototype[e$2]!=`function`&&n$1(s$2.prototype,e$2,{configurable:!0,writable:!0,value:function(){return a$1(i$1(this))}})}return e$2})),typeof Object.setPrototypeOf==`function`)r$1=Object.setPrototypeOf;else{var d$1;e:{var l$1={};try{l$1.__proto__={a:!0},d$1=l$1.a;break e}catch{}d$1=!1}r$1=d$1?function(e$2,t$1){if(e$2.__proto__=t$1,e$2.__proto__!==t$1)throw TypeError(e$2+` is not extensible`);return e$2}:null}var u$1=r$1;function h$1(){this.m=!1,this.j=null,this.v=void 0,this.h=1,this.u=this.C=0,this.l=null}function p$1(e$2){if(e$2.m)throw TypeError(`Generator is already running`);e$2.m=!0}function _$1(e$2,t$1){return e$2.h=3,{value:t$1}}function E$1(e$2){this.g=new h$1,this.G=e$2}function m$1(e$2,t$1,i$2,n$2){try{var r$2=t$1.call(e$2.g.j,i$2);if(!(r$2 instanceof Object))throw TypeError(`Iterator result `+r$2+` is not an object`);if(!r$2.done)return e$2.g.m=!1,r$2;var o$2=r$2.value}catch(t$2){return e$2.g.j=null,e$2.g.s(t$2),f$1(e$2)}return e$2.g.j=null,n$2.call(e$2.g,o$2),f$1(e$2)}function f$1(e$2){for(;e$2.g.h;)try{var t$1=e$2.G(e$2.g);if(t$1)return e$2.g.m=!1,{value:t$1.value,done:!1}}catch(t$2){e$2.g.v=void 0,e$2.g.s(t$2)}if(e$2.g.m=!1,e$2.g.l){if(t$1=e$2.g.l,e$2.g.l=null,t$1.F)throw t$1.D;return{value:t$1.return,done:!0}}return{value:void 0,done:!0}}function S$1(e$2){this.next=function(t$1){return e$2.o(t$1)},this.throw=function(t$1){return e$2.s(t$1)},this.return=function(t$1){return function(e$3,t$2){p$1(e$3.g);var i$2=e$3.g.j;return i$2?m$1(e$3,`return`in i$2?i$2.return:function(e$4){return{value:e$4,done:!0}},t$2,e$3.g.return):(e$3.g.return(t$2),f$1(e$3))}(e$2,t$1)},this[Symbol.iterator]=function(){return this}}function g$1(e$2,t$1){return t$1=new S$1(new E$1(t$1)),u$1&&e$2.prototype&&u$1(t$1,e$2.prototype),t$1}if(h$1.prototype.o=function(e$2){this.v=e$2},h$1.prototype.s=function(e$2){this.l={D:e$2,F:!0},this.h=this.C||this.u},h$1.prototype.return=function(e$2){this.l={return:e$2},this.h=this.u},E$1.prototype.o=function(e$2){return p$1(this.g),this.g.j?m$1(this,this.g.j.next,e$2,this.g.o):(this.g.o(e$2),f$1(this))},E$1.prototype.s=function(e$2){return p$1(this.g),this.g.j?m$1(this,this.g.j.throw,e$2,this.g.o):(this.g.s(e$2),f$1(this))},s$1(`Array.prototype.entries`,(function(e$2){return e$2||function(){return function(e$3,t$1){e$3 instanceof String&&(e$3+=``);var i$2=0,n$2=!1,r$2={next:function(){if(!n$2&&i$2<e$3.length){var r$3=i$2++;return{value:t$1(r$3,e$3[r$3]),done:!1}}return n$2=!0,{done:!0,value:void 0}}};return r$2[Symbol.iterator]=function(){return r$2},r$2}(this,(function(e$3,t$1){return[e$3,t$1]}))}})),typeof Blob<`u`&&(typeof FormData>`u`||!FormData.prototype.keys)){var T$1=function(e$2,t$1){for(var i$2=0;i$2<e$2.length;i$2++)t$1(e$2[i$2])},R$1=function(e$2){return e$2.replace(/\r?\n|\r/g,`\r
`)},C$1=function(e$2,t$1,i$2){return t$1 instanceof Blob?(i$2=i$2===void 0?typeof t$1.name==`string`?t$1.name:`blob`:String(i$2+``),t$1.name===i$2&&Object.prototype.toString.call(t$1)!==`[object Blob]`||(t$1=new File([t$1],i$2)),[String(e$2),t$1]):[String(e$2),String(t$1)]},v$1=function(e$2,t$1){if(e$2.length<t$1)throw TypeError(t$1+` argument required, but only `+e$2.length+` present.`)},y$1=typeof globalThis==`object`?globalThis:typeof window==`object`?window:typeof self==`object`?self:this,I$1=y$1.FormData,A$1=y$1.XMLHttpRequest&&y$1.XMLHttpRequest.prototype.send,b$1=y$1.Request&&y$1.fetch,w$1=y$1.navigator&&y$1.navigator.sendBeacon,O$1=y$1.Element&&y$1.Element.prototype,N$1=y$1.Symbol&&Symbol.toStringTag;N$1&&(Blob.prototype[N$1]||(Blob.prototype[N$1]=`Blob`),`File`in y$1&&!File.prototype[N$1]&&(File.prototype[N$1]=`File`));try{new File([],``)}catch{y$1.File=function(e$3,t$1,i$2){return e$3=new Blob(e$3,i$2||{}),Object.defineProperties(e$3,{name:{value:t$1},lastModified:{value:+(i$2&&i$2.lastModified!==void 0?new Date(i$2.lastModified):new Date)},toString:{value:function(){return`[object File]`}}}),N$1&&Object.defineProperty(e$3,N$1,{value:`File`}),e$3}}var D$1=function(e$2){return e$2.replace(/\n/g,`%0A`).replace(/\r/g,`%0D`).replace(/"/g,`%22`)},P$1=function(e$2){this.i=[];var t$1=this;e$2&&T$1(e$2.elements,(function(e$3){if(e$3.name&&!e$3.disabled&&e$3.type!==`submit`&&e$3.type!==`button`&&!e$3.matches(`form fieldset[disabled] *`))if(e$3.type===`file`){var i$2=e$3.files&&e$3.files.length?e$3.files:[new File([],``,{type:`application/octet-stream`})];T$1(i$2,(function(i$3){t$1.append(e$3.name,i$3)}))}else e$3.type===`select-multiple`||e$3.type===`select-one`?T$1(e$3.options,(function(i$3){!i$3.disabled&&i$3.selected&&t$1.append(e$3.name,i$3.value)})):e$3.type===`checkbox`||e$3.type===`radio`?e$3.checked&&t$1.append(e$3.name,e$3.value):(i$2=e$3.type===`textarea`?R$1(e$3.value):e$3.value,t$1.append(e$3.name,i$2))}))};if((e$1=P$1.prototype).append=function(e$2,t$1,i$2){v$1(arguments,2),this.i.push(C$1(e$2,t$1,i$2))},e$1.delete=function(e$2){v$1(arguments,1);var t$1=[];e$2=String(e$2),T$1(this.i,(function(i$2){i$2[0]!==e$2&&t$1.push(i$2)})),this.i=t$1},e$1.entries=function e$2(){var t$1,i$2=this;return g$1(e$2,(function(e$3){if(e$3.h==1&&(t$1=0),e$3.h!=3)return t$1<i$2.i.length?e$3=_$1(e$3,i$2.i[t$1]):(e$3.h=0,e$3=void 0),e$3;t$1++,e$3.h=2}))},e$1.forEach=function(e$2,t$1){v$1(arguments,1);for(var i$2=c$1(this),n$2=i$2.next();!n$2.done;n$2=i$2.next()){var r$2=c$1(n$2.value);n$2=r$2.next().value,r$2=r$2.next().value,e$2.call(t$1,r$2,n$2,this)}},e$1.get=function(e$2){v$1(arguments,1);var t$1=this.i;e$2=String(e$2);for(var i$2=0;i$2<t$1.length;i$2++)if(t$1[i$2][0]===e$2)return t$1[i$2][1];return null},e$1.getAll=function(e$2){v$1(arguments,1);var t$1=[];return e$2=String(e$2),T$1(this.i,(function(i$2){i$2[0]===e$2&&t$1.push(i$2[1])})),t$1},e$1.has=function(e$2){v$1(arguments,1),e$2=String(e$2);for(var t$1=0;t$1<this.i.length;t$1++)if(this.i[t$1][0]===e$2)return!0;return!1},e$1.keys=function e$2(){var t$1,i$2,n$2,r$2,o$2=this;return g$1(e$2,(function(e$3){if(e$3.h==1&&(t$1=c$1(o$2),i$2=t$1.next()),e$3.h!=3)return i$2.done?void(e$3.h=0):(n$2=i$2.value,r$2=c$1(n$2),_$1(e$3,r$2.next().value));i$2=t$1.next(),e$3.h=2}))},e$1.set=function(e$2,t$1,i$2){v$1(arguments,2),e$2=String(e$2);var n$2=[],r$2=C$1(e$2,t$1,i$2),o$2=!0;T$1(this.i,(function(t$2){t$2[0]===e$2?o$2&&=!n$2.push(r$2):n$2.push(t$2)})),o$2&&n$2.push(r$2),this.i=n$2},e$1.values=function e$2(){var t$1,i$2,n$2,r$2,o$2=this;return g$1(e$2,(function(e$3){if(e$3.h==1&&(t$1=c$1(o$2),i$2=t$1.next()),e$3.h!=3)return i$2.done?void(e$3.h=0):(n$2=i$2.value,(r$2=c$1(n$2)).next(),_$1(e$3,r$2.next().value));i$2=t$1.next(),e$3.h=2}))},P$1.prototype._asNative=function(){for(var e$2=new I$1,t$1=c$1(this),i$2=t$1.next();!i$2.done;i$2=t$1.next()){var n$2=c$1(i$2.value);i$2=n$2.next().value,n$2=n$2.next().value,e$2.append(i$2,n$2)}return e$2},P$1.prototype._blob=function(){var e$2=`----formdata-polyfill-`+Math.random(),t$1=[],i$2=`--`+e$2+`\r
Content-Disposition: form-data; name="`;return this.forEach((function(e$3,n$2){return typeof e$3==`string`?t$1.push(i$2+D$1(R$1(n$2))+`"\r
\r
`+R$1(e$3)+`\r
`):t$1.push(i$2+D$1(R$1(n$2))+`"; filename="`+D$1(e$3.name)+`"\r
Content-Type: `+(e$3.type||`application/octet-stream`)+`\r
\r
`,e$3,`\r
`)})),t$1.push(`--`+e$2+`--`),new Blob(t$1,{type:`multipart/form-data; boundary=`+e$2})},P$1.prototype[Symbol.iterator]=function(){return this.entries()},P$1.prototype.toString=function(){return`[object FormData]`},O$1&&!O$1.matches&&(O$1.matches=O$1.matchesSelector||O$1.mozMatchesSelector||O$1.msMatchesSelector||O$1.oMatchesSelector||O$1.webkitMatchesSelector||function(e$2){for(var t$1=(e$2=(this.document||this.ownerDocument).querySelectorAll(e$2)).length;0<=--t$1&&e$2.item(t$1)!==this;);return-1<t$1}),N$1&&(P$1.prototype[N$1]=`FormData`),A$1){var L$1=y$1.XMLHttpRequest.prototype.setRequestHeader;y$1.XMLHttpRequest.prototype.setRequestHeader=function(e$2,t$1){L$1.call(this,e$2,t$1),e$2.toLowerCase()===`content-type`&&(this.B=!0)},y$1.XMLHttpRequest.prototype.send=function(e$2){e$2 instanceof P$1?(e$2=e$2._blob(),this.B||this.setRequestHeader(`Content-Type`,e$2.type),A$1.call(this,e$2)):A$1.call(this,e$2)}}b$1&&(y$1.fetch=function(e$2,t$1){return t$1&&t$1.body&&t$1.body instanceof P$1&&(t$1.body=t$1.body._blob()),b$1.call(this,e$2,t$1)}),w$1&&(y$1.navigator.sendBeacon=function(e$2,t$1){return t$1 instanceof P$1&&(t$1=t$1._asNative()),w$1.call(this,e$2,t$1)}),y$1.FormData=P$1}})();let EB=()=>{let e$1=CD(`AREAS`);return e$1.length===0&&e$1.push(dx.GLOBAL),nr(e$1).call(e$1,((e$2,t$1,i$1)=>{let n$1=mB(t$1);return n$1?i$1===0?n$1:`${e$2},${n$1}`:e$2}),``)},mB=e$1=>e$1===dx.OVERSEA?`${ux.ASIA},${ux.EUROPE},${ux.AFRICA},${ux.NORTH_AMERICA},${ux.SOUTH_AMERICA},${ux.OCEANIA}`:ux[e$1],fB=e$1=>{let t$1={CODE:``,WEBCS_DOMAIN:[],WEBCS_DOMAIN_BACKUP_LIST:[],PROXY_CS:[],CDS_AP:[],ACCOUNT_REGISTER:[],UAP_AP:[],EVENT_REPORT_DOMAIN:[],EVENT_REPORT_BACKUP_DOMAIN:[],LOG_UPLOAD_SERVER:[],PROXY_SERVER_TYPE3:[]};return e$1.map((e$2=>{let i$1=hx[e$2],n$1=Object.keys(i$1);n$1&&n$1.map((e$3=>{e$3!==`CODE`&&(t$1[e$3]=t$1[e$3].concat(i$1[e$3]))}))})),t$1},SB={GLOBAL:{ASIA:[dx.CHINA,dx.JAPAN,dx.INDIA,dx.KOREA,dx.HKMC],EUROPE:[],NORTH_AMERICA:[dx.US],SOUTH_AMERICA:[],OCEANIA:[],AFRICA:[]}},gB=Object.keys(SB[dx.GLOBAL]),TB=[dx.CHINA,dx.NORTH_AMERICA,dx.EUROPE,dx.ASIA,dx.JAPAN,dx.INDIA,dx.OCEANIA,dx.SOUTH_AMERICA,dx.AFRICA,dx.KOREA,dx.HKMC,dx.US],RB=function(e$1,t$1){let i$1=[];if(Ln(e$1).call(e$1,dx.GLOBAL)){let o$1=[dx.GLOBAL,dx.OVERSEA],s$1=Object.keys(hx);if(t$1===dx.GLOBAL)throw new uP(hO.INVALID_PARAMS,`GLOBAL is an invalid excludedArea value`);if(t$1===dx.CHINA)i$1=[dx.OVERSEA];else if(r$1=t$1,Ln(gB).call(gB,r$1)){let e$2=(n$1=t$1,SB[dx.GLOBAL][n$1]||[]),r$2=[...o$1,t$1,...e$2];i$1=s$1.filter((e$3=>!Ln(r$2).call(r$2,e$3)))}else if(function(e$2){let t$2=!1;return gB.forEach((i$2=>{var n$2;Ln(n$2=SB[dx.GLOBAL][i$2]).call(n$2,e$2)&&(t$2=!0)})),t$2}(t$1)){let e$2=function(e$3){let t$2;return gB.forEach((i$2=>{var n$3;Ln(n$3=SB[dx.GLOBAL][i$2]).call(n$3,e$3)&&(t$2=i$2)})),t$2}(t$1),n$2=[...o$1,e$2,t$1];i$1=s$1.filter((e$3=>!Ln(n$2).call(n$2,e$3)))}else i$1=e$1;i$1=function(e$2){let t$2=[];return TB.forEach((i$2=>{Ln(e$2).call(e$2,i$2)&&t$2.push(i$2)})),t$2.concat(e$2.filter((e$3=>!Ln(TB).call(TB,e$3))))}(i$1)}else i$1=e$1;var n$1,r$1;return i$1};function CB(e$1){var t$1,i$1;if(!e$1&&Ln(t$1=CD(`AREAS`)).call(t$1,dx.EXTENSIONS))return iP.debug(`update area from ap : reset`),void vB(WU,!0);if(!Ln(i$1=CD(`AREAS`)).call(i$1,dx.GLOBAL)||!e$1)return;let n$1=hx.EXTENSIONS;n$1&&(n$1={CODE:mB(dx.EXTENSIONS),WEBCS_DOMAIN:[`ap-web-1-${e$1}.agora.io`],WEBCS_DOMAIN_BACKUP_LIST:[`ap-web-2-${e$1}.ap.sd-rtn.com`],PROXY_CS:[`proxy-ap-web-${e$1}.agora.io`],CDS_AP:[`cds-ap-web-1-${e$1}.agora.io`,`cds-ap-web-2-${e$1}.ap.sd-rtn.com`],ACCOUNT_REGISTER:[`sua-ap-web-1-${e$1}.agora.io`,`sua-ap-web-2-${e$1}.ap.sd-rtn.com`],UAP_AP:[`uap-ap-web-1-${e$1}.agora.io`,`uap-ap-web-2-${e$1}.ap.sd-rtn.com`],EVENT_REPORT_DOMAIN:[`statscollector-1-${e$1}.agora.io`],EVENT_REPORT_BACKUP_DOMAIN:[`statscollector-2-${e$1}.agora.io`],LOG_UPLOAD_SERVER:[`logservice-${e$1}.agora.io`],PROXY_SERVER_TYPE3:[`webrtc-cloud-proxy-${e$1}.agora.io`]},iP.debug(`update area from ap success: ${e$1},config is `,n$1),RD(`AREAS`,[dx.EXTENSIONS],!0),Object.keys(n$1).map((e$2=>{e$2===`LOG_UPLOAD_SERVER`||e$2===`EVENT_REPORT_DOMAIN`||e$2===`EVENT_REPORT_BACKUP_DOMAIN`||e$2===`PROXY_SERVER_TYPE3`?RD(e$2,n$1[e$2][0]):RD(e$2,n$1[e$2])})))}function vB(e$1){let t$1=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i$1=lP.reportApiInvoke(null,{name:LO.SET_AREA,options:e$1,tag:kO.TRACER});try{let n$1=[];if(typeof e$1==`string`&&(n$1=[e$1]),Array.isArray(e$1)&&(e$1.forEach((e$2=>{if(!Ln(lx).call(lx,e$2))throw new uP(hO.INVALID_PARAMS,`invalid area code`)})),n$1=e$1),Object.prototype.toString.call(e$1)===`[object Object]`){let{areaCode:t$2,excludedArea:i$2}=e$1;if(!t$2)throw new uP(hO.INVALID_PARAMS,`area code is needed`);let r$2=t$2;typeof t$2==`string`&&(r$2=[t$2]),n$1=i$2?RB(r$2,i$2):r$2}if(!t$1){if(yD.AREAS){let e$2=new uP(hO.PROHIBITED_OPERATION,`setArea is prohibited because of config-distribute`);i$1.onError(e$2),iP.warning(`setArea is prohibited because of config-distribute`);return}if(Ln(n$1).call(n$1,dx.GLOBAL)&&CD(`AREAS`)===dx.EXTENSIONS){let e$2=new uP(hO.PROHIBITED_OPERATION,`setArea is prohibited because of ap extensions`);i$1.onError(e$2),iP.warning(`setArea is prohibited because of ap extensions`);return}}RD(`AREAS`,n$1,t$1);let r$1=fB(n$1);Object.keys(r$1).map((e$2=>{e$2===`LOG_UPLOAD_SERVER`||e$2===`EVENT_REPORT_DOMAIN`||e$2===`EVENT_REPORT_BACKUP_DOMAIN`||e$2===`PROXY_SERVER_TYPE3`?RD(e$2,r$1[e$2][0]):RD(e$2,r$1[e$2])})),iP.debug(`set area success:`,n$1.join(`,`))}catch(e$2){throw i$1.onError(e$2),e$2}i$1.onSuccess()}function yB(e$1,t$1){var i$1=Object.keys(e$1);if(Object.getOwnPropertySymbols){var n$1=Object.getOwnPropertySymbols(e$1);t$1&&(n$1=n$1.filter((function(t$2){return Object.getOwnPropertyDescriptor(e$1,t$2).enumerable}))),i$1.push.apply(i$1,n$1)}return i$1}function IB(e$1){for(var t$1=1;t$1<arguments.length;t$1++){var i$1=arguments[t$1]==null?{}:arguments[t$1];t$1%2?yB(Object(i$1),!0).forEach((function(t$2){iA(e$1,t$2,i$1[t$2])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e$1,Object.getOwnPropertyDescriptors(i$1)):yB(Object(i$1)).forEach((function(t$2){Object.defineProperty(e$1,t$2,Object.getOwnPropertyDescriptor(i$1,t$2))}))}return e$1}let AB=1;function bB(e$1,t$1,i$1,n$1,r$1){AB+=1;let o$1={sid:i$1.sid,command:`convergeAllocateEdge`,uid:`666`,appId:i$1.appId,ts:Math.floor(Date.now()/1e3),seq:AB,requestId:AB,version:hD,cname:i$1.cname},s$1={service_name:t$1,json_body:JSON.stringify(o$1)},a$1,c$1,d$1=e$1[0];return UN((async()=>{a$1=Date.now();let e$2=await _B(d$1,{data:s$1,cancelToken:n$1,headers:{"X-Packet-Service-Type":`0`,"X-Packet-URI":`61`}});if(c$1=Date.now()-a$1,e$2.code!==0){let t$2=new uP(hO.UNEXPECTED_RESPONSE,`live streaming ap error, code`+e$2.code,{retry:!0,responseTime:c$1});throw iP.error(t$2.toString()),t$2}let i$2=JSON.parse(e$2.json_body);if(i$2.code!==200){let e$3=new uP(hO.UNEXPECTED_RESPONSE,`live streaming app center error, code: ${i$2.code}, reason: ${i$2.reason}`,{code:i$2.code,responseTime:c$1});throw iP.error(e$3.toString()),e$3}if(!i$2.servers||i$2.servers.length===0){let e$3=new uP(hO.UNEXPECTED_RESPONSE,`live streaming app center empty server`,{code:i$2.code,responseTime:c$1});throw iP.error(e$3.toString()),e$3}let r$2=function(e$3,t$2){return{addressList:e$3.servers.map((e$4=>`wss://${e$4.address.replace(/\./g,`-`)}.${CD(`WORKER_DOMAIN`)}:${e$4.wss}?serviceName=${encodeURIComponent(t$2)}`)),workerToken:e$3.workerToken,vid:e$3.vid}}(i$2,t$1);return CD(`LIVE_STREAMING_ADDRESS`)&&(r$2.addressList=CD(`LIVE_STREAMING_ADDRESS`)instanceof Array?CD(`LIVE_STREAMING_ADDRESS`):[CD(`LIVE_STREAMING_ADDRESS`)]),IB(IB({},r$2),{},{responseTime:c$1})}),((n$2,r$2)=>(lP.apworkerEvent(i$1.sid,{success:!0,sc:200,serviceName:t$1,responseDetail:JSON.stringify(n$2.addressList),firstSuccess:r$2===0,responseTime:c$1,serverIp:e$1[r$2%e$1.length]}),!1)),((n$2,r$2)=>(lP.apworkerEvent(i$1.sid,{success:!1,sc:n$2.data&&n$2.data.code||200,serviceName:t$1,responseTime:c$1,serverIp:e$1[r$2%e$1.length]}),!!(n$2.code!==hO.OPERATION_ABORTED&&n$2.code!==hO.UNEXPECTED_RESPONSE||n$2.data&&n$2.data.retry)&&(d$1=e$1[(r$2+1)%e$1.length],!0))),r$1)}let wB=1;function OB(e$1,t$1,i$1,n$1){let{url:r$1,areaCode:o$1}=e$1,{clientId:s$1,sid:a$1}=t$1,c$1=Date.now(),d$1,l$1=t$1.role,[u$1,h$1]=kB(t$1,o$1,[iF.CHOOSE_SERVER]),p$1=QO.networkState;return UN((async()=>{p$1&&QO.networkState===KO.OFFLINE&&QO.onlineWaiter&&await rp.race([QO.onlineWaiter,fN(n$1&&n$1.maxRetryTimeout||kN.maxRetryTimeout)]),p$1=QO.networkState;let{data:e$2,headers:o$2}=await _B(r$1,{data:u$1,cancelToken:i$1,headers:{"Content-Type":`multipart/form-data;`}},!0,!0);d$1=o$2.http3===`1`?1:-1,lP.reportResourceTiming(r$1,a$1),DB(e$2,r$1,t$1,c$1,[iF.CHOOSE_SERVER],d$1);let s$2=hF(e$2,iF.CHOOSE_SERVER);return PB(s$2),cF(s$2,r$1)}),(e$2=>(e$2&&lP.joinChooseServer(a$1,{role:l$1,lts:c$1,succ:!0,csAddr:r$1,opid:h$1,serverList:e$2.gatewayAddrs.map((e$3=>e$3.address)),ec:null,cid:e$2.cid.toString(),uid:e$2.uid.toString(),csIp:e$2.csIp,unilbsServerIds:[iF.CHOOSE_SERVER].toString(),isHttp3:d$1,corssRegionTagReq:t$1.apRequestDetail,corssRegionTagRes:e$2.res.detail&&e$2.res.detail[38],vid:e$2.vid}),!1)),(e$2=>e$2.code!==hO.OPERATION_ABORTED&&(e$2.code===hO.CAN_NOT_GET_GATEWAY_SERVER?e$2.data.retry:(lP.joinChooseServer(a$1,{role:l$1,lts:c$1,succ:!1,csAddr:r$1,serverList:null,opid:h$1,ec:e$2.code,csIp:e$2.data&&e$2.data.csIp,unilbsServerIds:[iF.CHOOSE_SERVER].toString(),extend:JSON.stringify({networkState:p$1}),isHttp3:d$1,corssRegionTagReq:t$1.apRequestDetail}),iP.warning(`[${s$1||`sid-${a$1.slice(0,6)}`}] Choose server network error, retry`,e$2),!0))),n$1)}function NB(e$1,t$1,i$1,n$1){let r$1,{url:o$1,areaCode:s$1,serviceIds:a$1}=e$1,c$1=Date.now(),d$1=t$1.role,[l$1,u$1]=kB(t$1,s$1,a$1),h$1;return UN((async()=>{h$1&&QO.networkState===KO.OFFLINE&&QO.onlineWaiter&&await rp.race([QO.onlineWaiter,fN(n$1&&n$1.maxRetryTimeout||kN.maxRetryTimeout)]),h$1=QO.networkState;let{data:e$2,headers:s$2}=await _B(o$1,{data:l$1,cancelToken:i$1,headers:{"Content-Type":`multipart/form-data;`}},!0,!0);r$1=s$2.http3===`1`?1:-1,lP.reportResourceTiming(o$1,t$1.sid),DB(e$2,o$1,t$1,c$1,a$1,r$1);let d$2=hF(e$2,iF.CHOOSE_SERVER),u$2=hF(e$2,t$1.cloudProxyServer===`proxy5`?iF.CLOUD_PROXY_5:t$1.cloudProxyServer===`proxy3`||t$1.cloudProxyServer===`proxy4`?iF.CLOUD_PROXY:iF.CLOUD_PROXY_FALLBACK),p$1=performance.getEntriesByName(o$1),_$1=p$1[p$1.length-1],E$1;return _$1&&(E$1={name:_$1.name,protocol:`nextHopProtocol`in _$1?_$1.nextHopProtocol:``,dnscost:`domainLookupEnd`in _$1&&`domainLookupStart`in _$1&&typeof _$1.domainLookupEnd==`number`&&typeof _$1.domainLookupStart==`number`?_$1.domainLookupEnd-_$1.domainLookupStart:-1,tcpTlsCost:`connectEnd`in _$1&&`connectStart`in _$1&&typeof _$1.connectEnd==`number`&&typeof _$1.connectStart==`number`?_$1.connectEnd-_$1.connectStart:-1,reqCost:`requestStart`in _$1&&typeof _$1.requestStart==`number`&&`responseEnd`in _$1&&typeof _$1.responseEnd==`number`?_$1.responseEnd-_$1.requestStart:-1,handleCost:`leave_ts`in e$2&&`enter_ts`in e$2&&typeof e$2.leave_ts==`number`&&typeof e$2.enter_ts==`number`?e$2.leave_ts-e$2.enter_ts:-1}),PB(d$2),{gatewayInfo:cF(d$2,o$1),proxyInfo:u$2,url:o$1,resourceTimingInfo:E$1}}),(e$2=>{var i$2;return e$2.gatewayInfo&&lP.joinChooseServer(t$1.sid,{role:d$1,lts:c$1,succ:!0,csAddr:o$1,serverList:e$2.gatewayInfo.gatewayAddrs.map((e$3=>e$3.address)),ec:null,opid:u$1,cid:e$2.gatewayInfo.cid.toString(),uid:e$2.gatewayInfo.uid.toString(),csIp:e$2.gatewayInfo.csIp,unilbsServerIds:a$1.toString(),isHttp3:r$1,corssRegionTagReq:t$1.apRequestDetail,corssRegionTagRes:e$2.gatewayInfo.res.detail&&e$2.gatewayInfo.res.detail[38],vid:e$2.gatewayInfo?.vid,resourceTimingInfo:e$2.resourceTimingInfo?JSON.stringify(e$2.resourceTimingInfo):void 0}),e$2.proxyInfo&&lP.joinWebProxyAP(t$1.sid,{lts:c$1,sucess:1,apServerAddr:o$1,turnServerAddrList:e$2.proxyInfo.addresses.map((e$3=>e$3.ip)).join(`,`),errorCode:null,eventType:t$1.cloudProxyServer,unilbsServerIds:a$1.toString()}),!1}),(e$2=>e$2.code!==hO.OPERATION_ABORTED&&(e$2.code===hO.CAN_NOT_GET_GATEWAY_SERVER?e$2.data.retry:(lP.joinWebProxyAP(t$1.sid,{lts:c$1,sucess:0,apServerAddr:o$1,turnServerAddrList:null,errorCode:e$2.code,eventType:t$1.cloudProxyServer,unilbsServerIds:a$1.toString(),extend:JSON.stringify({networkState:h$1})}),iP.warning(`[${t$1.clientId}] multi unilbs network error, retry`,e$2),!0))),n$1)}let DB=(e$1,t$1,i$1,n$1,r$1,o$1)=>{let{sid:s$1,clientId:a$1,cloudProxyServer:c$1}=i$1,d$1=[],l$1=a$2=>{a$2.flag===4096?lP.joinChooseServer(s$1,{role:i$1.role,lts:n$1,succ:!1,csAddr:t$1,opid:e$1.opid,serverList:null,ec:a$2.error.message,csIp:a$2.error.data&&a$2.error.data.csIp,unilbsServerIds:r$1.toString(),isHttp3:o$1,corssRegionTagReq:i$1.apRequestDetail}):a$2.flag!==1048576&&a$2.flag!==4194304&&a$2.flag!==4194310||lP.joinWebProxyAP(s$1,{lts:n$1,sucess:0,apServerAddr:t$1,turnServerAddrList:null,errorCode:a$2.error.code,eventType:c$1,unilbsServerIds:r$1.toString()})};if(e$1.response_body.forEach((t$2=>{let i$2=t$2.buffer.code;if(t$2.uri===23&&i$2===0&&!t$2.buffer.edges_services)if(t$2.buffer.flag===4194310)iP.warning(`no edge services in ap response of proxy fallback, will not set proxy in iceServers`),t$2.buffer.edges_services=[];else{let i$3={error:new uP(hO.CAN_NOT_GET_GATEWAY_SERVER,`no edge services in ap response`,{retry:CD(`NO_EDGES_RETRY`),csIp:e$1.detail[502]}),flag:t$2.buffer.flag};d$1.push(i$3),l$1(i$3)}if(i$2!==0){let n$2=xx(i$2),r$2={error:new uP(hO.CAN_NOT_GET_GATEWAY_SERVER,n$2.desc,{desc:n$2.desc,retry:n$2.retry,csIp:e$1.detail[502]}),flag:t$2.buffer.flag};t$2.buffer.flag===4194310?iP.warning(r$2.error.toString()):d$1.push(r$2),l$1(r$2)}})),d$1.length)throw iP.warning(`[${a$1||`sid-${s$1.slice(0,6)}`}] multi unilbs ${t$1} failed, ${d$1.map((e$2=>`flag: ${e$2.flag}, message: ${e$2.error.message}, retry: ${e$2.error.data.retry}`)).join(` | `)}`),new uP(hO.CAN_NOT_GET_GATEWAY_SERVER,d$1.map((e$2=>`flag: ${e$2.flag}, message: ${e$2.error.message}`)).join(` | `),{retry:!!d$1.find((e$2=>e$2.error.data.retry)),csIp:e$1.detail[502],desc:[...new Set(d$1.map((e$2=>{var t$2;return e$2==null||(t$2=e$2.error)==null||(t$2=t$2.data)==null?void 0:t$2.desc})).filter((e$2=>!!e$2)))]})},PB=e$1=>{var t$1,i$1,n$1,r$1;if(e$1.addresses&&e$1.addresses.length===0&&e$1.code===0)throw new uP(hO.CAN_NOT_GET_GATEWAY_SERVER,`void gateway address`,{retry:!0,csIp:e$1.detail&&e$1.detail[502]});if(CD(`AP_AREA`)&&((n$1=e$1.detail)!=null&&n$1[23]&&typeof e$1.detail?.[23]==`string`?CB(e$1.detail[23].toLowerCase()):CB()),(t$1=e$1.detail)!=null&&t$1[19]&&typeof e$1.detail?.[19]==`string`){let i$2=e$1.detail[19]?.split(`;`);for(let t$3=0;t$3<i$2.length;t$3++){var o$1;let n$2=kg(o$1=i$2[t$3]).call(o$1);e$1.addresses[t$3]&&i$2&&(e$1.addresses[t$3].fingerprint=n$2)}}CD(`GATEWAY_ADDRESS`)&&CD(`GATEWAY_ADDRESS`).length>0&&(iP.debug(`assign gateway address to`,CD(`GATEWAY_ADDRESS`)),e$1.addresses=CD(`GATEWAY_ADDRESS`).map((t$2=>{var i$2,n$2;let r$2=e$1.addresses.find((e$2=>e$2.ip===t$2.ip&&e$2.port===t$2.port))?.fingerprint??``;return{ip:t$2.ip,port:t$2.port,ticket:e$1.addresses[0]&&e$1.addresses[0].ticket,fingerprint:t$2.fingerprint||r$2}})))},LB=(e$1,t$1)=>{if(e$1.response_body&&e$1.response_body.length){let t$2=e$1.response_body[0];if(t$2.buffer.code!==0){let e$2=xx(t$2.buffer.code);throw new uP(hO.UPDATE_TICKET_FAILED,`[${t$2.buffer.code}]: ${e$2.desc}`,{retry:e$2.retry})}return t$2.buffer.ticket}throw iP.debug(`update ticket request received ap response without response body:`,t$1),new uP(hO.UPDATE_TICKET_FAILED,`cannot find response body from ap response`,{retry:!1})},kB=(e$1,t$1,i$1)=>{let n$1=Math.floor(Math.random()*10**12),r$1=e$1.role===`host`?`1`:e$1.role===`audience`?`2`:void 0,o$1={appid:e$1.appId,client_ts:Date.now(),opid:n$1,sid:e$1.sid,request_bodies:[{uri:22,buffer:{cname:e$1.cname,detail:IB(IB(IB({6:e$1.stringUid,11:t$1,12:CD(`USE_NEW_TOKEN`)?`1`:void 0},r$1?{17:r$1}:{}),{},{22:t$1},e$1.apRequestDetail?{33:e$1.apRequestDetail}:{}),e$1.apRTM?{26:`RTM2`}:{}),key:e$1.token,service_ids:i$1,uid:e$1.uid||0}}]};o$1.request_bodies.forEach((t$2=>{e$1.multiIP&&e$1.multiIP.gateway_ip&&(t$2.buffer.detail[5]=JSON.stringify({vocs_ip:[e$1.multiIP.uni_lbs_ip],vos_ip:[e$1.multiIP.gateway_ip]}))}));let s$1=new FormData;return s$1.append(`request`,JSON.stringify(o$1)),[s$1,n$1]},MB=(e$1,t$1)=>{let i$1=Math.floor(Math.random()*10**12),n$1={appid:e$1.appId,client_ts:Date.now(),opid:i$1,sid:e$1.sid,request_bodies:[{uri:28,buffer:{cname:e$1.cname,detail:{1:``,6:e$1.stringUid,12:`1`},token:e$1.token,service_ids:t$1,uid:e$1.uid||0,edges_services:e$1.apResponse.addresses.map((e$2=>({ip:e$2.ip,port:e$2.port})))}}]},r$1=new FormData;return r$1.append(`request`,JSON.stringify(n$1)),[r$1,i$1]},UB=0;function VB(e$1){return rp.all(e$1.map((e$2=>e$2.then((e$3=>{throw e$3}),(e$3=>e$3))))).then((e$2=>{throw e$2}),(e$2=>e$2))}let xB=async e$1=>{let{fragementLength:t$1,referenceList:i$1,asyncMapHandler:n$1,allFailedhandler:r$1,promisesCollector:o$1}=e$1,s$1=0,a$1=t$1,c$1,d$1=0,l$1=async()=>{let e$2=(()=>{let e$3=s$1*a$1,t$2=e$3+a$1;return i$1.slice(e$3,t$2).map(n$1)})();o$1&&o$1.push(...e$2);try{c$1=await VB(e$2)}catch(e$3){if(d$1+=a$1,s$1++,!(d$1>=i$1.length))return void await l$1();r$1(e$3)}e$2.forEach((e$3=>e$3.cancel()))};return await l$1(),c$1},FB=async e$1=>{let{referenceList:t$1,asyncMapHandler:i$1,closeFn:n$1}=e$1,r$1=t$1.length,o$1=0,s$1=async()=>{let e$2=i$1(t$1.shift());try{return await e$2}catch(e$3){if(o$1++,o$1>=r$1||n$1!=null&&n$1(e$3))throw e$3;return s$1()}};return s$1()};async function BB(){if(typeof VideoDecoder>`u`)return!0;let e$1,t$1=[18,0,10,13,0,0,0,3,180,253,144,6,136,8,8,8,32,50,85,16,66,128,2,8,32,132,0,8,0,180,90,204,169,166,242,109,241,190,143,149,160,133,4,144,43,122,168,159,120,159,205,39,82,131,57,52,87,187,68,23,248,134,204,226,97,17,49,183,55,236,219,249,221,98,208,215,190,59,179,167,213,47,1,246,150,14,194,245,159,83,35,64,103,218,38,21,82,3,135,21,185,84,248,134],i$1=[18,0,10,13,0,0,0,3,180,253,144,6,136,8,8,8,32,50,87,16,66,128,2,8,32,132,0,8,0,180,90,204,169,166,242,109,241,190,143,148,62,134,140,92,172,141,77,35,94,181,164,65,169,65,156,154,43,221,162,11,252,67,102,113,48,136,137,219,62,43,113,239,23,126,250,186,252,10,138,218,25,193,244,74,68,194,209,107,23,52,206,199,78,72,98,103,151,71,96,62,51,210,158,72,231,158],n$1=[18,0,10,13,0,0,0,3,180,253,144,6,136,8,8,8,32,50,87,16,66,128,2,8,32,132,0,8,0,180,90,204,169,166,242,109,241,190,143,143,233,163,51,196,98,95,151,224,22,134,33,240,150,248,67,18,34,196,142,81,238,173,140,80,205,232,132,144,67,12,131,157,4,171,243,86,122,35,6,166,184,243,85,126,13,206,103,152,62,168,160,187,2,241,138,52,211,72,121,128,151,63,147,128,19,42],r$1=[18,0,50,138,1,48,192,64,253,248,65,17,67,192,32,0,16,0,0,0,0,0,0,0,195,12,48,144,64,32,0,209,75,61,9,204,25,115,79,226,115,63,63,208,70,210,220,153,126,241,237,37,107,195,153,1,99,112,230,189,209,169,130,10,11,22,167,215,159,205,197,7,183,162,26,48,254,141,134,103,32,16,235,45,1,15,18,119,169,110,206,251,51,115,202,60,148,1,46,39,109,25,28,86,168,15,77,211,239,2,58,43,146,26,230,184,81,48,140,226,226,250,222,146,171,133,164,13,188,180,64,122,142,146,32,208,238,170,193,35,53,44,225],o$1=[18,0,50,107,48,0,133,125,248,65,26,195,64,62,32,31,16,0,0,0,0,0,1,4,16,64,144,64,32,0,204,24,122,65,56,165,18,52,206,218,4,187,51,97,9,29,191,90,253,106,185,31,197,155,52,205,245,185,203,131,20,226,25,124,95,113,220,113,141,15,15,104,211,144,152,237,150,157,127,51,143,24,231,218,171,255,176,241,128,229,149,150,148,66,245,228,91,27,182,228,136,61,182,237,133,45,220,24,103,214,152],s$1=[18,0,50,122,48,1,9,253,248,65,26,67,64,62,32,31,16,0,0,0,0,0,1,4,16,64,144,64,32,0,198,182,231,242,220,235,163,140,12,36,36,166,46,132,210,4,71,23,218,132,27,30,17,45,244,79,31,243,195,136,100,169,76,88,142,85,204,217,121,168,29,163,198,17,251,223,73,12,212,244,139,123,151,179,75,216,96,208,136,40,229,42,59,149,10,116,228,85,99,93,221,108,255,140,248,20,30,167,122,109,206,164,108,197,110,251,23,243,133,160,63,13,207,177,12,128];return await new rp(((a$1,c$1)=>{let d$1;(async function(){e$1&&e$1.state!==`closed`||await async function(){e$1=new VideoDecoder({output:e$2=>{e$2.close(),clearTimeout(d$1),a$1(!0)},error:e$2=>{clearTimeout(d$1),a$1(!1)}}),await e$1.configure({codec:`av01.0.05M.08`,width:160,height:90})}();let c$2=[t$1,i$1,n$1,r$1,o$1,s$1];for(let t$2=0;t$2<c$2.length;t$2++){let i$2=new EncodedVideoChunk({type:t$2==0?`key`:`delta`,timestamp:33333*t$2,duration:33333,data:new Uint8Array(c$2[t$2])});try{await e$1.decode(i$2)}catch{a$1(!1);return}}})(),d$1=setTimeout((()=>{a$1(!1)}),5e3)}))}async function jB(e$1,t$1,i$1,n$1){return{gatewayInfo:await async function(e$2,t$2,i$2,n$2){let r$1=null,o$1=[],s$1=async()=>{let r$2=CD(`WEBCS_DOMAIN`).slice(0,CD(`AJAX_REQUEST_CONCURRENT`)).map((t$3=>({url:e$2.proxyServer?`https://${e$2.proxyServer}/ap/?url=${t$3+`/api/v2/transpond/webrtc?v=2`}`:`https://${t$3}/api/v2/transpond/webrtc?v=2`,areaCode:EB()}))),s$2=n$2.recordJoinChannelService({startTs:Date.now(),status:`pending`,service:`chooseServer`,urls:r$2.map((e$3=>e$3.url))}),a$2=await xB({fragementLength:CD(`FRAGEMENT_LENGTH`),referenceList:r$2,asyncMapHandler:n$3=>(iP.debug(`[${e$2.clientId}] Connect to choose_server:`,n$3.url),OB(n$3,e$2,t$2,i$2)),allFailedhandler:e$3=>{throw n$2.recordJoinChannelService({endTs:Date.now(),status:`error`,errors:e$3},s$2),e$3[0]},promisesCollector:o$1});return n$2.recordJoinChannelService({endTs:Date.now(),status:`success`},s$2),a$2},a$1=async()=>{if(await fN(1e3),r$1!==null)return r$1;let s$2=CD(`WEBCS_DOMAIN_BACKUP_LIST`).map((t$3=>({url:e$2.proxyServer?`https://${e$2.proxyServer}/ap/?url=${t$3+`/api/v2/transpond/webrtc?v=2`}`:`https://${t$3}/api/v2/transpond/webrtc?v=2`,areaCode:EB()}))),a$2=n$2.recordJoinChannelService({endTs:void 0,startTs:Date.now(),status:`pending`,service:`chooseServer`,urls:s$2.map((e$3=>e$3.url))}),c$1=await xB({fragementLength:CD(`FRAGEMENT_LENGTH`),referenceList:s$2,asyncMapHandler:n$3=>(iP.debug(`[${e$2.clientId}] Connect to backup choose_server:`,n$3.url),OB(n$3,e$2,t$2,i$2)),allFailedhandler:e$3=>{throw n$2.recordJoinChannelService({endTs:Date.now(),status:`error`,errors:e$3},a$2),e$3[0]},promisesCollector:o$1});return n$2.recordJoinChannelService({endTs:Date.now(),status:`success`},a$2),c$1};try{return r$1=await VB([s$1(),a$1()]),o$1.length&&o$1.forEach((e$3=>e$3.cancel&&typeof e$3.cancel==`function`&&e$3.cancel())),r$1}catch(e$3){throw e$3[0]}}(e$1,t$1,i$1,n$1)}}async function GB(e$1,t$1,i$1,n$1,r$1){let o$1=e$1.cloudProxyServer;if(o$1===`disabled`){if(!n$1)return;if(e$1.useLocalAccessPoint)return await jB(e$1,t$1,i$1,r$1);if(CD(`JOIN_WITH_FALLBACK_MEDIA_PROXY`)){let{gatewayInfo:n$2,proxyInfo:o$2}=await zB(e$1,t$1,i$1,r$1);if(e$1.turnServer&&e$1.turnServer.mode!==`auto`)return{gatewayInfo:n$2};let a$2=o$2.map((e$2=>({turnServerURL:e$2.address,tcpport:e$2.tcpport||ED.tcpport,udpport:e$2.udpport||ED.udpport,username:e$2.username||ED.username,password:e$2.password||ED.password,forceturn:!1,security:!0})));if(r$1.useP2P){var s$1;let i$2=`glb:${(e$1.uid??n$2.uid).toString()}`,r$2=await OO(i$2),c$2=o$2.map((e$2=>({turnServerURL:e$2.address,tcpport:e$2.tcpport||ED.tcpport,udpport:e$2.udpport||ED.udpport,username:i$2,password:r$2,forceturn:!1,security:!0})));a$2.push(...c$2)}return e$1.turnServer={mode:`manual`,servers:a$2},{gatewayInfo:n$2}}return await jB(e$1,t$1,i$1,r$1)}let{proxyInfo:a$1,gatewayInfo:c$1}=await zB(e$1,t$1,i$1,r$1),d$1={gatewayInfo:c$1},l$1=a$1.map((e$2=>({turnServerURL:e$2.address,tcpport:o$1===`proxy3`?void 0:e$2.tcpport?e$2.tcpport:ED.tcpport,udpport:o$1===`proxy4`?void 0:e$2.udpport?e$2.udpport:ED.udpport,username:e$2.username||ED.username,password:e$2.password||ED.password,forceturn:o$1!==`proxy4`,security:o$1===`proxy5`})));if(r$1.useP2P){var u$1;let i$2=`glb:${(e$1.uid??c$1.uid).toString()}`,n$2=await OO(i$2),r$2=a$1.map((e$2=>({turnServerURL:e$2.address,tcpport:o$1===`proxy3`?void 0:e$2.tcpport||ED.tcpport,udpport:o$1===`proxy4`?void 0:e$2.udpport||ED.udpport,username:i$2,password:n$2,forceturn:o$1!==`proxy4`,security:o$1===`proxy5`})));l$1.push(...r$2)}return e$1.turnServer={mode:`manual`,servers:l$1},iP.debug(`[${e$1.clientId}] set proxy server: ${e$1.proxyServer}, mode: ${o$1}`),d$1}async function WB(e$1,t$1,i$1,n$1,r$1){let o$1=CD(`ACCOUNT_REGISTER`).slice(0,CD(`AJAX_REQUEST_CONCURRENT`)),s$1=[];s$1=t$1.proxyServer?o$1.map((e$2=>`https://${t$1.proxyServer}/ap/?url=${e$2+`/api/v1`}`)):o$1.map((e$2=>`https://${e$2}/api/v1`));let a$1=r$1?.recordJoinChannelService({startTs:Date.now(),status:`pending`,service:`stringUID`,urls:s$1});try{let o$2=await async function(e$2,t$2,i$2,n$2,r$2){let o$3=Date.now(),s$2={sid:i$2.sid,opid:10,appid:i$2.appId,string_uid:t$2},a$2=e$2[0],c$1=await UN((()=>_B(a$2+`${a$2.indexOf(`?`)===-1?`?`:`&`}action=stringuid`,{data:s$2,cancelToken:n$2,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":72}})),((i$3,n$3)=>{if(i$3.code===0){if(i$3.uid<=0||i$3.uid>=2**32)throw iP.error(`Invalid Uint Uid ${t$2} => ${i$3.uid}`,i$3),lP.reqUserAccount(s$2.sid,{lts:o$3,success:!1,serverAddr:a$2,stringUid:s$2.string_uid,uid:i$3.uid,errorCode:hO.INVALID_UINT_UID_FROM_STRING_UID,extend:s$2}),new uP(hO.INVALID_UINT_UID_FROM_STRING_UID);return lP.reqUserAccount(s$2.sid,{lts:o$3,success:!0,serverAddr:a$2,stringUid:s$2.string_uid,uid:i$3.uid,errorCode:null,extend:s$2}),!1}let r$3=xx(i$3.code);return r$3.retry&&(a$2=e$2[(n$3+1)%e$2.length]),lP.reqUserAccount(s$2.sid,{lts:o$3,success:!1,serverAddr:a$2,stringUid:s$2.string_uid,uid:i$3.uid,errorCode:r$3.desc,extend:s$2}),r$3.retry}),((t$3,i$3)=>t$3.code!==hO.OPERATION_ABORTED&&(lP.reqUserAccount(s$2.sid,{lts:o$3,success:!1,serverAddr:a$2,stringUid:s$2.string_uid,uid:null,errorCode:t$3.code,extend:s$2}),a$2=e$2[(i$3+1)%e$2.length],!0)),r$2);if(c$1.code!==0){let e$3=xx(c$1.code);throw new uP(hO.UNEXPECTED_RESPONSE,e$3.desc)}return c$1}(s$1,e$1,t$1,i$1,n$1);return r$1?.recordJoinChannelService({status:`success`,endTs:Date.now()},a$1),o$2.uid}catch(e$2){throw r$1?.recordJoinChannelService({status:`error`,endTs:Date.now(),errors:[e$2]},a$1),e$2}}async function HB(e$1,t$1,i$1){let n$1=CD(`ACCOUNT_REGISTER`),r$1=[];r$1=t$1.proxyServer?n$1.map((e$2=>`https://${t$1.proxyServer}/ap/?url=${e$2+`/api/v1`}`)):n$1.map((e$2=>`https://${e$2}/api/v1`));try{return await FB({referenceList:r$1,asyncMapHandler:n$2=>async function(e$2,t$2,i$2,n$3){let r$2=Date.now(),o$1={sid:i$2.sid,opid:10,appid:i$2.appId,string_uid:t$2};try{let t$3=await _B(e$2+`${e$2.indexOf(`?`)===-1?`?`:`&`}action=stringuid`,{data:o$1,cancelToken:n$3,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":72}});if(t$3.code!==0){let e$3=xx(t$3.code);throw new uP(hO.UNEXPECTED_RESPONSE,`preload sua error:${e$3.desc}`,e$3)}if(t$3.uid<=0||t$3.uid>=2**32)throw new uP(hO.INVALID_UINT_UID_FROM_STRING_UID);return{requestTime:r$2,url:e$2,req:o$1,uid:t$3.uid,elapse:Date.now()-r$2}}catch(e$3){throw e$3}}(n$2,e$1,t$1,i$1),closeFn:e$2=>e$2.code===hO.OPERATION_ABORTED||e$2.code===hO.UNEXPECTED_RESPONSE&&!e$2.data.retry})}catch(e$2){throw e$2}}async function KB(e$1,t$1,i$1){let r$1=CD(`CDS_AP`).slice(0,CD(`AJAX_REQUEST_CONCURRENT`)).map((t$2=>e$1.proxyServer?`https://${e$1.proxyServer}/ap/?url=${t$2+`/api/v1`}`:`https://${t$2}/api/v1?action=config`)).map((n$1=>function(e$2,t$2,i$2,n$2){let r$2=Dw(),o$2={flag:64,cipher_method:0,features:IB(IB(IB(IB(IB({install_id:uD(),device:r$2.name,system:r$2.os,system_general:navigator.userAgent,vendor:t$2.appId,version:hD,cname:t$2.cname,session_id:t$2.sid,proxyServer:t$2.proxyServer,sdk_type:tF.WEB_RTC,browser_name:r$2.name,browser_version:r$2.version,user_agent:navigator.userAgent,channel_name:t$2.cname},t$2.stringUid&&{string_uid:t$2.stringUid}),t$2.uid&&{uid:t$2.uid+``}),r$2.os&&{os_name:r$2.os}),r$2.osVersion&&{os_version:r$2.osVersion}),{},{detail:``})};return UN((()=>_B(e$2,{data:o$2,timeout:1e3,cancelToken:i$2,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":54}})),void 0,(e$3=>e$3.code!==hO.OPERATION_ABORTED),n$2)}(n$1,e$1,t$1,i$1))),o$1=null,s$1=null,a$1={};try{o$1=await VB(r$1)}catch(e$2){if(e$2.code===hO.OPERATION_ABORTED)throw e$2;s$1=e$2}if(r$1.forEach((e$2=>e$2.cancel())),lP.reportApiInvoke(e$1.sid,{name:LO.REQUEST_CONFIG_DISTRIBUTE,options:{error:s$1,res:o$1}}).onSuccess(),o$1&&o$1.test_tags)try{a$1=function(e$2){if(!e$2.test_tags)return{};let t$2=e$2.test_tags,i$2=Object.keys(t$2),n$1={};return i$2.forEach((e$3=>{var i$3;let r$2=kg(i$3=e$3.slice(4)).call(i$3),o$2=JSON.parse(t$2[e$3]),s$2=o$2[1];n$1[r$2]={tag:o$2[0]||``,value:s$2}})),n$1}(o$1)}catch{}return a$1}async function YB(e$1,t$1){let i$1=CD(`WEBCS_DOMAIN`).concat(CD(`WEBCS_DOMAIN_BACKUP_LIST`)).map((e$2=>({url:`https://${e$2}/api/v2/transpond/webrtc?v=2`,areaCode:EB(),serviceIds:[iF.CHOOSE_SERVER,iF.CLOUD_PROXY_FALLBACK]})));try{return await FB({referenceList:i$1,asyncMapHandler:i$2=>async function(e$2,t$2,i$3){let n$1,{url:r$1,areaCode:o$1,serviceIds:s$1}=e$2,a$1=Date.now(),[c$1,d$1]=kB(t$2,o$1,s$1),l$1=QO.networkState;try{l$1&&QO.networkState===KO.OFFLINE&&QO.onlineWaiter&&await rp.race([QO.onlineWaiter,fN(kN.maxRetryTimeout)]),l$1=QO.networkState;let{data:e$3,headers:t$3}=await _B(r$1,{data:c$1,cancelToken:i$3,headers:{"Content-Type":`multipart/form-data;`}},!0,!0);n$1=t$3.http3===`1`?1:-1,(e$4=>{let t$4=[];if(e$4.response_body.forEach((i$4=>{let n$2=i$4.buffer.code;if(i$4.uri===23&&n$2===0&&!i$4.buffer.edges_services)if(i$4.buffer.flag===4194310)i$4.buffer.edges_services=[];else{let n$3={error:new uP(hO.CAN_NOT_GET_GATEWAY_SERVER,`no edge services in ap response`,{retry:CD(`NO_EDGES_RETRY`),csIp:e$4.detail[502]}),flag:i$4.buffer.flag};t$4.push(n$3)}if(n$2!==0){let r$2=xx(n$2),o$3={error:new uP(hO.CAN_NOT_GET_GATEWAY_SERVER,r$2.desc,{desc:r$2.desc,retry:r$2.retry,csIp:e$4.detail[502]}),flag:i$4.buffer.flag};i$4.buffer.flag===4194310?iP.warning(o$3.error.toString()):t$4.push(o$3)}})),t$4.length)throw new uP(hO.CAN_NOT_GET_GATEWAY_SERVER,t$4.map((e$5=>`flag: ${e$5.flag}, message: ${e$5.error.message}`)).join(` | `),{retry:!!t$4.find((e$5=>e$5.error.data.retry)),csIp:e$4.detail[502],desc:[...new Set(t$4.map((e$5=>{var t$5;return e$5==null||(t$5=e$5.error)==null||(t$5=t$5.data)==null?void 0:t$5.desc})).filter((e$5=>!!e$5)))]})})(e$3);let s$2=hF(e$3,iF.CHOOSE_SERVER),u$1=hF(e$3,iF.CLOUD_PROXY_FALLBACK);return PB(s$2),{gatewayInfo:cF(s$2,r$1),proxyInfo:u$1,opid:d$1,requestTime:a$1,url:r$1,isHttp3:n$1,elapse:Date.now()-a$1}}catch(e$3){throw e$3}}(i$2,e$1,t$1),closeFn:e$2=>e$2.code===hO.OPERATION_ABORTED||e$2.code===hO.CAN_NOT_GET_GATEWAY_SERVER&&!e$2.data.retry})}catch(e$2){throw e$2}}async function zB(e$1,t$1,i$1,n$1){let r$1=CD(`PROXY_SERVER_TYPE3`),o$1=(e$2,t$2,i$2)=>{let n$2=i$2||r$1;return Array.isArray(n$2)&&(n$2=t$2%2==0&&r$1[1]||r$1[0]),`https://${n$2}/ap/?url=${e$2}`},s$1=null,a$1=[],c$1=async()=>{let r$2=CD(`WEBCS_DOMAIN`).slice(0,CD(`AJAX_REQUEST_CONCURRENT`)).map(((t$2,i$2)=>{let n$2;return n$2=e$1.cloudProxyServer===`disabled`&&e$1.proxyServer?o$1(`${t$2}/api/v2/transpond/webrtc?v=2`,i$2,e$1.proxyServer):e$1.cloudProxyServer===`disabled`||e$1.cloudProxyServer===`fallback`?`https://${t$2}/api/v2/transpond/webrtc?v=2`:o$1(`${t$2}/api/v2/transpond/webrtc?v=2`,i$2),{url:n$2,areaCode:EB(),serviceIds:[iF.CHOOSE_SERVER,e$1.cloudProxyServer===`proxy5`?iF.CLOUD_PROXY_5:e$1.cloudProxyServer===`proxy3`||e$1.cloudProxyServer===`proxy4`?iF.CLOUD_PROXY:iF.CLOUD_PROXY_FALLBACK]}})),s$2=n$1.recordJoinChannelService({startTs:Date.now(),status:`pending`,service:`chooseServer`,urls:r$2.map((e$2=>e$2.url))}),c$2=await xB({fragementLength:CD(`FRAGEMENT_LENGTH`),referenceList:r$2,asyncMapHandler:n$2=>(iP.debug(`[${e$1.clientId}] Connect to choose_server:`,n$2.url),NB(n$2,e$1,t$1,i$1)),allFailedhandler:e$2=>{throw n$1.recordJoinChannelService({endTs:Date.now(),status:`error`,errors:e$2},s$2),e$2[0]},promisesCollector:a$1});return n$1.recordJoinChannelService({endTs:Date.now(),status:`success`},s$2),c$2},d$1=async()=>{if(await fN(1e3),s$1!==null)return s$1;let r$2=CD(`WEBCS_DOMAIN_BACKUP_LIST`).map(((t$2,i$2)=>{let n$2;return n$2=e$1.cloudProxyServer===`disabled`&&e$1.proxyServer?o$1(`${t$2}/api/v2/transpond/webrtc?v=2`,i$2,e$1.proxyServer):e$1.cloudProxyServer===`disabled`||e$1.cloudProxyServer===`fallback`?`https://${t$2}/api/v2/transpond/webrtc?v=2`:o$1(`${t$2}/api/v2/transpond/webrtc?v=2`,i$2),{url:n$2,areaCode:EB(),serviceIds:[iF.CHOOSE_SERVER,e$1.cloudProxyServer===`proxy5`?iF.CLOUD_PROXY_5:e$1.cloudProxyServer===`proxy3`||e$1.cloudProxyServer===`proxy4`?iF.CLOUD_PROXY:iF.CLOUD_PROXY_FALLBACK]}})),c$2=n$1.recordJoinChannelService({startTs:Date.now(),status:`pending`,service:`chooseServer`,urls:r$2.map((e$2=>e$2.url))}),d$2=await xB({fragementLength:CD(`FRAGEMENT_LENGTH`),referenceList:r$2,asyncMapHandler:n$2=>(iP.debug(`[${e$1.clientId}] Connect to backup choose_server:`,n$2.url),NB(n$2,e$1,t$1,i$1)),allFailedhandler:e$2=>{throw n$1.recordJoinChannelService({endTs:Date.now(),status:`error`,errors:e$2},c$2),e$2[0]},promisesCollector:a$1});return n$1.recordJoinChannelService({endTs:Date.now(),status:`success`},c$2),d$2},l$1,u$1,h$1;try{({gatewayInfo:l$1,proxyInfo:u$1,url:h$1}=await VB([c$1(),d$1()]))}catch(e$2){throw e$2[0]}if(a$1.length&&a$1.forEach((e$2=>e$2.cancel&&typeof e$2.cancel==`function`&&e$2.cancel())),!l$1||!u$1)throw new uP(hO.UNEXPECTED_ERROR,`missing gateway or proxy response`).print();if(e$1.apUrl=h$1,e$1.cloudProxyServer!==`disabled`&&Array.isArray(r$1)&&h$1){let t$2=/^https?:\/\/(.+?)(\/.*)?$/.exec(h$1)[1];Ln(r$1).call(r$1,t$2)&&(e$1.proxyServer=t$2,iP.setProxyServer(t$2),lP.setProxyServer(t$2))}return s$1={gatewayInfo:l$1,proxyInfo:await pF(u$1,l$1.uid)},s$1}async function qB(e$1,t$1,i$1){let r$1=CD(`UAP_AP`).slice(0,CD(`AJAX_REQUEST_CONCURRENT`)).map((t$2=>e$1.proxyServer?`https://${e$1.proxyServer}/ap/?url=${t$2+`/api/v1?action=uap`}`:`https://${t$2}/api/v1?action=uap`)).map((n$1=>function(e$2,t$2,i$2,n$2){let r$2={command:`convergeAllocateEdge`,sid:t$2.sid,appId:t$2.appId,token:t$2.token,ts:Date.now(),version:hD,cname:t$2.cname,uid:t$2.uid.toString(),requestId:wB,seq:wB};wB+=1;let o$1={service_name:`tele_channel`,json_body:JSON.stringify(r$2)};return UN((async()=>{let t$3=await _B(e$2,{data:o$1,cancelToken:i$2,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":61}});if(t$3.code!==0){let e$3=new uP(hO.UNEXPECTED_RESPONSE,`cross channel ap error, code`+t$3.code,{retry:!0});throw iP.error(e$3.toString()),e$3}let n$3=JSON.parse(t$3.json_body);if(n$3.code!==200){let e$3=new uP(hO.UNEXPECTED_RESPONSE,`cross channel app center error, code: ${n$3.code}, reason: ${n$3.reason}`);throw iP.error(e$3.toString()),e$3}if(!n$3.servers||n$3.servers.length===0){let e$3=new uP(hO.UNEXPECTED_RESPONSE,`cross channel app center empty server`);throw iP.error(e$3.toString()),e$3}return{vid:n$3.vid,workerToken:n$3.workerToken,addressList:(CD(`CHANNEL_MEDIA_RELAY_SERVERS`)||n$3.servers).map((e$3=>`wss://${e$3.address.replace(/\./g,`-`)}.${CD(`WORKER_DOMAIN`)}:${e$3.wss}`))}}),void 0,(e$3=>!!(e$3.code!==hO.OPERATION_ABORTED&&e$3.code!==hO.UNEXPECTED_RESPONSE||e$3.data&&e$3.data.retry)),n$2)}(n$1,e$1,t$1,i$1)));try{let e$2=await VB(r$1);return r$1.forEach((e$3=>e$3.cancel())),e$2}catch(e$2){throw e$2[0]}}async function XB(e$1,t$1,i$1){let n$1=null,r$1=[],o$1=async o$2=>{let s$1=CD(o$2?`WEBCS_DOMAIN_BACKUP_LIST`:`WEBCS_DOMAIN`).map((t$2=>e$1.proxyServer?`https://${e$1.proxyServer}/ap/?url=${t$2+`/api/v2/transpond/webrtc?v=2`}`:`https://${t$2}/api/v2/transpond/webrtc?v=2`));return o$2&&(await fN(1e3),n$1!==null)?n$1:await xB({fragementLength:CD(`FRAGEMENT_LENGTH`),referenceList:s$1,asyncMapHandler:n$2=>(iP.debug(`[${e$1.clientId}] update ticket, Connect to ${o$2?`backup`:``} choose_server:`,n$2),function(e$2,t$2,i$2,n$3){let[r$2]=MB(t$2,[iF.CHOOSE_SERVER]),o$3=QO.networkState;return UN((async()=>(o$3&&QO.networkState===KO.OFFLINE&&QO.onlineWaiter&&await rp.race([QO.onlineWaiter,fN(n$3&&n$3.maxRetryTimeout||kN.maxRetryTimeout)]),o$3=QO.networkState,LB(await _B(e$2,{data:r$2,cancelToken:i$2,headers:{"Content-Type":`multipart/form-data;`}},!0),e$2))),(()=>!1),(e$3=>e$3.code!==hO.OPERATION_ABORTED&&(e$3.code===hO.UPDATE_TICKET_FAILED?e$3.data.retry:(iP.warning(`[${t$2.clientId}] update ticket network error, retry`,e$3),!0))),n$3)}(n$2,e$1,t$1,i$1)),allFailedhandler:e$2=>{throw e$2[0]},promisesCollector:r$1})};try{return n$1=await VB([o$1(!1),o$1(!0)]),r$1.length&&r$1.forEach((e$2=>e$2.cancel&&typeof e$2.cancel==`function`&&e$2.cancel())),n$1}catch(e$2){throw e$2[0]}}function JB(e$1,t$1){var i$1=Object.keys(e$1);if(Object.getOwnPropertySymbols){var n$1=Object.getOwnPropertySymbols(e$1);t$1&&(n$1=n$1.filter((function(t$2){return Object.getOwnPropertyDescriptor(e$1,t$2).enumerable}))),i$1.push.apply(i$1,n$1)}return i$1}function QB(e$1){for(var t$1=1;t$1<arguments.length;t$1++){var i$1=arguments[t$1]==null?{}:arguments[t$1];t$1%2?JB(Object(i$1),!0).forEach((function(t$2){iA(e$1,t$2,i$1[t$2])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e$1,Object.getOwnPropertyDescriptors(i$1)):JB(Object(i$1)).forEach((function(t$2){Object.defineProperty(e$1,t$2,Object.getOwnPropertyDescriptor(i$1,t$2))}))}return e$1}class ZB extends NO{get isSuccess(){return!!this.configs}constructor(e$1,t$1){super(),iA(this,`configs`,void 0),iA(this,`store`,void 0),iA(this,`joinInfo`,void 0),iA(this,`cancelToken`,void 0),iA(this,`retryConfig`,{timeout:3e3,timeoutFactor:1.5,maxRetryCount:1,maxRetryTimeout:1e4}),iA(this,`interval`,void 0),iA(this,`mutex`,void 0),iA(this,`mutableParamsRead`,!1),iA(this,`configCache`,{}),iA(this,`limit_bitrate`,void 0),this.mutex=new PN(`config-distribute`,e$1),this.store=t$1}startGetConfigDistribute(e$1,t$1){this.joinInfo=e$1,this.cancelToken=t$1,this.interval&&this.stopGetConfigDistribute(),CD(`ENABLE_CONFIG_DISTRIBUTE`)&&(this.updateConfigDistribute(),this.interval=window.setInterval((()=>{this.updateConfigDistribute()}),CD(`CONFIG_DISTRIBUTE_INTERVAL`)))}stopGetConfigDistribute(){this.interval&&clearInterval(this.interval),this.interval=void 0,this.joinInfo=void 0,this.cancelToken=void 0,this.configs=void 0,this.limit_bitrate=void 0}async awaitConfigDistributeComplete(){this.mutex.isLocked&&(await this.mutex.lock())()}async updateConfigDistribute(){if(this.mutableParamsRead||(this.mutableParamsRead=!0,lP.reportApiInvoke(null,{options:void 0,name:LO.LOAD_CONFIG_FROM_LOCALSTORAGE,tag:kO.TRACER}).onSuccess(JSON.stringify(yD))),!this.joinInfo||!this.cancelToken||!this.retryConfig)return void iP.debug(`[config-distribute] get config distribute interrupted have no joininfo`);let e$1,t$1=await this.mutex.lock();try{e$1=await KB(this.joinInfo,this.cancelToken,this.retryConfig),iP.debug(`[config-distribute] get config distribute`,JSON.stringify(e$1));let i$1=function(e$2){var t$2;let i$2=Qp(t$2=Object.keys(e$2).filter((e$3=>/^webrtc_ng_global_parameter/.test(e$3)))).call(t$2);for(let t$3=0;t$3<i$2.length;t$3++)for(let n$2=i$2.length-1;n$2>t$3;n$2--){let t$4=i$2[n$2],r$2=e$2[t$4].value;if(typeof r$2.__priority==`number`){let o$1=r$2.__priority,a$1=e$2[i$2[n$2-1]].value;if(typeof a$1.__priority==`number`){if(!(o$1>a$1.__priority))continue;{let e$3=t$4;i$2[n$2]=i$2[n$2-1],i$2[n$2-1]=e$3}}else{let e$3=t$4;i$2[n$2]=i$2[n$2-1],i$2[n$2-1]=e$3}}}let n$1=Date.now(),r$1={};return i$2.forEach((t$3=>{let i$3=e$2[t$3].value.__expires;i$3&&i$3<=n$1||(r$1[t$3]=e$2[t$3])})),r$1}(e$1);this.cacheGlobalParameterConfig(i$1),this.store.hasStartJoinChannel||(this.store.isABTestSuccess=!0),this.configs=i$1}catch(e$2){let t$2=new uP(hO.NETWORK_RESPONSE_ERROR,e$2);iP.warning(`[config-distribute] ${t$2.toString()}`)}finally{t$1()}}getBitrateLimit(){return this.limit_bitrate||void 0}handleBitrateLimit(e$1){_x(e$1)&&(this.limit_bitrate?this.limit_bitrate&&this.limit_bitrate.id!==e$1.id&&this.emit(px.UPDATE_BITRATE_LIMIT,e$1):this.emit(px.UPDATE_BITRATE_LIMIT,e$1))}getLowStreamConfigDistribute(){return this.limit_bitrate&&QB({},this.limit_bitrate.low_stream_uplink)}handleABTestConfigDistribute(e$1){try{let t$1={},i$1=Object.keys(e$1),n$1=[];i$1.forEach((i$2=>{let r$1=e$1[i$2].value;t$1[i$2]=r$1;let o$1=r$1.__id;if(o$1&&this.configCache[i$2]&&this.configCache[i$2].__id===o$1)return;let s$1=r$1.__type,a$1=e$1[i$2].value,c$1=e$1[i$2].tag,d$1=0;s$1?s$1===vD.REALTIME&&(d$1=1):Object.keys(a$1).some((e$2=>Object.prototype.hasOwnProperty.call(gD,e$2)||!qU()&&Object.prototype.hasOwnProperty.call(mD,e$2)?(d$1=1,!0):void 0)),n$1.push({tag:c$1,isApplied:d$1,feature:i$2,params:JSON.stringify(r$1)})})),n$1.forEach((e$2=>{let{tag:t$2,feature:i$2,params:n$2,isApplied:r$1}=e$2;this.store.sessionId&&lP.abTest(this.store.sessionId,{intSucc:1,isApplied:r$1,tag:t$2,feature:i$2,params:n$2,cid:this.store.cid,uid:this.store.intUid})})),this.configCache=t$1}catch(e$2){iP.debug(`handleABTestConfigDistribute error`,e$2)}}cacheGlobalParameterConfig(e$1){let t$1=function(e$2){let t$2={};return Object.keys(e$2).forEach((i$2=>{let n$1=e$2[i$2].value,r$1=n$1.__expires,o$1=n$1.__type;Object.keys(n$1).forEach((e$3=>{e$3===`__id`||e$3===`__type`||e$3===`__priority`||e$3===`__expires`||Object.prototype.hasOwnProperty.call(t$2,e$3)||(t$2[e$3]=QB(QB({value:n$1[e$3]},r$1&&{expires:r$1}),o$1&&{type:o$1}))}))})),t$2}(e$1);try{var i$1;let n$1=t$1.LIMIT_BITRATE?.value;delete t$1.LIMIT_BITRATE,n$1&&_x(n$1)&&this.handleBitrateLimit(n$1),this.limit_bitrate=n$1,this.handleGlobalParameterConfig(t$1),this.handleABTestConfigDistribute(e$1),function(e$2){try{let t$2=Date.now();Object.keys(e$2).forEach((i$2=>{let{value:n$2,type:r$2,expires:o$2}=e$2[i$2];o$2&&o$2<=t$2||((r$2===vD.REALTIME||Object.prototype.hasOwnProperty.call(gD,i$2))&&(yD[i$2]=n$2,TD[i$2]=n$2,iP.debug(`Update realtime parameters from config distribute`,i$2,n$2)),r$2||qU()||!Object.prototype.hasOwnProperty.call(mD,i$2)||(yD[i$2]=n$2,TD[i$2]=n$2,iP.debug(`Update gateway parameters from config distribute`,i$2,n$2)))}))}catch(t$2){iP.error(`Error update config immediately: ${e$2}`,t$2.message)}}(t$1);let r$1=JSON.stringify(t$1),o$1=window.btoa(r$1);window.localStorage.setItem(`websdk_ng_global_parameter`,o$1),iP.debug(`Caching global parameters ${r$1}`)}catch(e$2){iP.error(`Error caching global parameters:`,e$2.message)}}handleGlobalParameterConfig(e$1){try{let t$1=Date.now();Object.keys(e$1).forEach((i$1=>{switch(i$1){case`CLIENT_ROLE_OPTIONS`:if(Object.prototype.hasOwnProperty.call(TD,i$1)){let{value:n$2,expires:r$1}=e$1[i$1];if(r$1&&r$1<=t$1)return;bN(TD[i$1],n$2)||(yD[i$1]=n$2,TD[i$1]=n$2,this.emit(px.UPDATE_CLIENT_ROLE_OPTIONS,n$2),iP.debug(`Updating client role options: ${JSON.stringify(n$2)}`))}break;case`REMOTE_VIDEO_STREAM_TYPE`:if(Object.prototype.hasOwnProperty.call(TD,i$1)){var n$1;let{value:r$1,expires:o$1}=e$1[i$1];if(o$1&&o$1<=t$1)return;typeof r$1==`number`&&Ln(n$1=[0,1,4,5,6,7,8,9]).call(n$1,r$1)&&(yD[i$1]={value:r$1},TD[i$1]=r$1,this.emit(px.UPDATE_REMOTE_VIDEO_STREAM_TYPE,r$1),iP.debug(`Updating client remote stream type: ${JSON.stringify(r$1)}`))}break;case`ENABLE_FORCE_HLS`:if(Object.prototype.hasOwnProperty.call(TD,i$1)){let{value:n$2,expires:r$1}=e$1[i$1];if(r$1&&r$1<=t$1)return;bN(TD[i$1],n$2)||(yD[i$1]=n$2,TD[i$1]=n$2,this.emit(px.FALLBACK_TO_HLS,n$2),iP.debug(`Updating enable force hls: ${JSON.stringify(n$2)}`))}break;case`VOS_CONFIGURE`:if(Object.prototype.hasOwnProperty.call(TD,i$1)){let{value:n$2,expires:r$1}=e$1[i$1];if(r$1&&r$1<=t$1)return;bN(TD[i$1],n$2)||(yD[i$1]=n$2,TD[i$1]=n$2,this.emit(px.UPDATE_VOS_CONFIGURE,n$2),iP.debug(`Updating vos configure: ${JSON.stringify(n$2)}`))}}}))}catch(e$2){iP.error(`Error handling global parameter config:`,e$2.message)}}}class $B extends NO{constructor(){super(...arguments),iA(this,`resultStorage`,new Map)}setLocalAudioStats(e$1,t$1,i$1){this.record(`AUDIO_INPUT_LEVEL_TOO_LOW`,e$1,this.checkAudioInputLevel(i$1,t$1)),this.record(`SEND_AUDIO_BITRATE_TOO_LOW`,e$1,this.checkSendAudioBitrate(i$1,t$1))}setLocalVideoStats(e$1,t$1,i$1){this.record(`SEND_VIDEO_BITRATE_TOO_LOW`,e$1,this.checkSendVideoBitrate(i$1,t$1)),this.record(`FRAMERATE_INPUT_TOO_LOW`,e$1,this.checkFramerateInput(i$1,t$1)),this.record(`FRAMERATE_SENT_TOO_LOW`,e$1,this.checkFramerateSent(i$1)),!t$1.muted&&this.record(`VIDEO_ENCODE_FAILED`,e$1,this.checResolutionSent(i$1))}setRemoteAudioStats(e$1,t$1){let i$1=e$1.getUserId();this.record(`AUDIO_OUTPUT_LEVEL_TOO_LOW`,i$1,this.checkAudioOutputLevel(t$1))}setRemoteVideoStats(e$1,t$1){let i$1=e$1.getUserId();this.record(`RECV_VIDEO_DECODE_FAILED`,i$1,this.checkVideoDecode(t$1))}record(e$1,t$1,i$1){if(CD(`STATS_UPDATE_INTERVAL`)>500)return;this.resultStorage.has(e$1)||this.resultStorage.set(e$1,{result:[],isPrevNormal:!0});let n$1=this.resultStorage.get(e$1);if(!n$1)return;n$1.result.push(i$1);let r$1=e$1===`VIDEO_ENCODE_FAILED`?CD(`ENCODE_EXCEPTION_TIMES`):5;if(n$1.result.length>=r$1){var o$1;let i$2=Ln(o$1=n$1.result).call(o$1,!0);n$1.isPrevNormal&&!i$2&&this.emit(`exception`,ej[e$1],e$1,t$1),!n$1.isPrevNormal&&i$2&&this.emit(`exception`,ej[e$1]+2e3,e$1+`_RECOVER`,t$1),n$1.isPrevNormal=i$2,n$1.result=[]}}checkAudioOutputLevel(e$1){return!(e$1.receiveBitrate>0&&e$1.receiveLevel===0)}checkAudioInputLevel(e$1,t$1){return t$1 instanceof Wk&&!t$1.isActive||!!t$1.muted||e$1.sendVolumeLevel!==0}checkFramerateInput(e$1,t$1){let i$1=null;t$1._encoderConfig&&t$1._encoderConfig.frameRate&&(i$1=dF(t$1._encoderConfig.frameRate));let n$1=e$1.captureFrameRate;return!i$1||!n$1||!(i$1>10&&n$1<5||i$1<10&&i$1>=5&&n$1<=1)}checkFramerateSent(e$1){return!(e$1.captureFrameRate&&e$1.sendFrameRate&&e$1.captureFrameRate>5&&e$1.sendFrameRate<=1)}checResolutionSent(e$1){var t$1;return!(!e$1.codecType||Ln(t$1=CD(`ENCODE_EXCEPTION_VALIDATE_CODEC`)).call(t$1,e$1.codecType.toLocaleLowerCase()))||!e$1.captureFrameRate||e$1.sendFrameRate!==0||e$1.sendResolutionWidth!==0||e$1.sendResolutionHeight!==0}checkSendVideoBitrate(e$1,t$1){return!!t$1.muted||e$1.sendBitrate!==0}checkSendAudioBitrate(e$1,t$1){return t$1 instanceof Wk&&!t$1.isActive||!!t$1.muted||e$1.sendBitrate!==0}checkVideoDecode(e$1){return e$1.receiveBitrate===0||e$1.decodeFrameRate!==0}}let ej={FRAMERATE_INPUT_TOO_LOW:1001,FRAMERATE_SENT_TOO_LOW:1002,SEND_VIDEO_BITRATE_TOO_LOW:1003,RECV_VIDEO_DECODE_FAILED:1005,AUDIO_INPUT_LEVEL_TOO_LOW:2001,AUDIO_OUTPUT_LEVEL_TOO_LOW:2002,SEND_AUDIO_BITRATE_TOO_LOW:2003,VIDEO_ENCODE_FAILED:2004},tj=new class{markSubscribeStart(e$1,t$1){performance.mark(`agora-web-sdk/${e$1}/subscribe-${t$1}`)}markPublishStart(e$1,t$1){performance.mark(`agora-web-sdk/${e$1}/publish-${t$1}`)}measureFromSubscribeStart(e$1,t$1){let i$1=performance.getEntriesByName(`agora-web-sdk/${e$1}/subscribe-${t$1}`);if(i$1.length>0){let e$2=i$1[i$1.length-1];return Math.round(performance.now()-e$2.startTime)}return 0}measureFromPublishStart(e$1,t$1){let i$1=performance.getEntriesByName(`agora-web-sdk/${e$1}/publish-${t$1}`);if(i$1.length>0){let e$2=i$1[i$1.length-1];return Math.round(performance.now()-e$2.startTime)}return 0}};function ij(e$1,t$1){var i$1=Object.keys(e$1);if(Object.getOwnPropertySymbols){var n$1=Object.getOwnPropertySymbols(e$1);t$1&&(n$1=n$1.filter((function(t$2){return Object.getOwnPropertyDescriptor(e$1,t$2).enumerable}))),i$1.push.apply(i$1,n$1)}return i$1}function nj(e$1){for(var t$1=1;t$1<arguments.length;t$1++){var i$1=arguments[t$1]==null?{}:arguments[t$1];t$1%2?ij(Object(i$1),!0).forEach((function(t$2){iA(e$1,t$2,i$1[t$2])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e$1,Object.getOwnPropertyDescriptors(i$1)):ij(Object(i$1)).forEach((function(t$2){Object.defineProperty(e$1,t$2,Object.getOwnPropertyDescriptor(i$1,t$2))}))}return e$1}class rj{constructor(e$1){iA(this,`store`,void 0),iA(this,`onStatsException`,void 0),iA(this,`onUploadPublishDuration`,void 0),iA(this,`onStatsChanged`,void 0),iA(this,`onVideoCodecChanged`,void 0),iA(this,`localStats`,new Map),iA(this,`remoteStats`,new Map),iA(this,`updateStatsInterval`,void 0),iA(this,`trafficStats`,void 0),iA(this,`trafficStatsPeerList`,[]),iA(this,`uplinkStats`,void 0),iA(this,`exceptionMonitor`,void 0),iA(this,`p2pChannel`,void 0),iA(this,`scalabilityMode`,iD.L1T1),iA(this,`updateStats`,(()=>{this.p2pChannel&&(this.updateRemoteStats(this.p2pChannel),this.updateLocalStats(this.p2pChannel))})),this.store=e$1,this.exceptionMonitor=new $B,this.exceptionMonitor.on(`exception`,((e$2,t$1,i$1)=>{this.onStatsException&&this.onStatsException(e$2,t$1,i$1)}))}startUpdateStats(){this.updateStatsInterval||=window.setInterval(this.updateStats,1e3)}stopUpdateStats(){this.updateStatsInterval&&=(window.clearInterval(this.updateStatsInterval),void 0)}reset(){this.localStats=new Map,this.remoteStats=new Map,this.trafficStats=void 0,this.trafficStatsPeerList=[],this.uplinkStats=void 0}getLocalAudioTrackStats(){return this.localStats.get(Rx.LocalAudioTrack)||nj({},YP)}getLocalVideoTrackStats(){return this.localStats.get(Rx.LocalVideoTrack)||nj({},zP)}getRemoteAudioTrackStats(e$1){let t$1=(e$2,t$2)=>{if(!this.trafficStats)return t$2;let i$2=this.trafficStats.peer_delay.find((t$3=>t$3.peer_uid===e$2));return i$2&&(t$2.publishDuration=i$2.B_ppad+(Date.now()-this.trafficStats.timestamp)),t$2},i$1={};if(e$1){var n$1;let r$1=this.remoteStats.get(e$1)?.audioStats;r$1&&(i$1[e$1]=t$1(e$1,r$1))}else Array.from(this.remoteStats.entries()).forEach((e$2=>{let[n$2,{audioStats:r$1}]=e$2;r$1&&(i$1[n$2]=t$1(n$2,r$1))}));return i$1}getRemoteNetworkQualityStats(e$1){let t$1={};if(e$1){var i$1;let n$1=this.remoteStats.get(e$1)?.networkStats;n$1&&(t$1[e$1]=n$1)}else Array.from(this.remoteStats.entries()).forEach((e$2=>{let[i$2,{networkStats:n$1}]=e$2;n$1&&(t$1[i$2]=n$1)}));return t$1}getNetworkQuality(){let e$1=0,t$1=0;return this.trafficStats&&(e$1=uF(this.trafficStats.B_unq),t$1=uF(this.trafficStats.B_dnq)),{uplinkNetworkQuality:e$1,downlinkNetworkQuality:t$1}}getRemoteVideoTrackStats(e$1){let t$1=(e$2,t$2)=>{if(!this.trafficStats)return t$2;let i$2=this.trafficStats.peer_delay.find((t$3=>t$3.peer_uid===e$2));return i$2&&(t$2.publishDuration=i$2.B_ppvd+(Date.now()-this.trafficStats.timestamp)),t$2},i$1={};if(e$1){var n$1;let r$1=this.remoteStats.get(e$1)?.videoStats;r$1&&(i$1[e$1]=t$1(e$1,r$1))}else Array.from(this.remoteStats.entries()).forEach((e$2=>{let[n$2,{videoStats:r$1}]=e$2;r$1&&(i$1[n$2]=t$1(n$2,r$1))}));return i$1}getRTCStats(){let e$1=0,t$1=0,i$1=0,n$1=0,r$1=this.localStats.get(Rx.LocalAudioTrack);r$1&&(e$1+=r$1.sendBytes,t$1+=r$1.sendBitrate);let o$1=this.localStats.get(Rx.LocalVideoTrack);o$1&&(e$1+=o$1.sendBytes,t$1+=o$1.sendBitrate);let s$1=this.localStats.get(Rx.LocalVideoLowTrack);s$1&&(e$1+=s$1.sendBytes,t$1+=s$1.sendBitrate),this.remoteStats.forEach((e$2=>{let{audioStats:t$2,videoStats:r$2}=e$2;t$2&&(i$1+=t$2.receiveBytes,n$1+=t$2.receiveBitrate),r$2&&(i$1+=r$2.receiveBytes,n$1+=r$2.receiveBitrate)}));let a$1=1;return this.trafficStats&&(a$1+=this.trafficStats.peer_delay.length),{Duration:0,UserCount:a$1,SendBitrate:t$1,SendBytes:e$1,RecvBytes:i$1,RecvBitrate:n$1,OutgoingAvailableBandwidth:this.uplinkStats?this.uplinkStats.B_uab/1e3:0,RTT:this.trafficStats?2*this.trafficStats.B_acd:0}}addLocalStats(e$1){this.localStats.set(e$1,void 0)}removeLocalStats(e$1){e$1?this.localStats.delete(e$1):this.localStats.clear()}addRemoteStats(e$1){this.remoteStats.set(e$1,{})}removeRemoteStats(e$1){e$1?this.remoteStats.delete(e$1):this.remoteStats.clear()}addP2PChannel(e$1){this.p2pChannel=e$1}updateTrafficStats(e$1){e$1.peer_delay=e$1.peer_delay.filter((e$2=>e$2.B_ppad!==void 0||e$2.B_ppvd!==void 0)),e$1.peer_delay.filter((e$2=>this.trafficStatsPeerList.indexOf(e$2.peer_uid)===-1)).forEach((e$2=>{var t$1;let i$1=this.p2pChannel?.getRemoteMedia(e$2.peer_uid),n$1=i$1!=null&&i$1.videoSSRC?tj.measureFromSubscribeStart(this.store.clientId,i$1.videoSSRC):0,r$1=i$1!=null&&i$1.audioSSRC?tj.measureFromSubscribeStart(this.store.clientId,i$1.audioSSRC):0;e$2.B_ppad!==void 0&&e$2.B_ppvd!==void 0&&(this.onUploadPublishDuration&&this.onUploadPublishDuration(e$2.peer_uid,e$2.B_ppad,e$2.B_ppvd,n$1>r$1?n$1:r$1),this.trafficStatsPeerList.push(e$2.peer_uid))})),this.trafficStats=e$1}updateUplinkStats(e$1){this.uplinkStats&&this.uplinkStats.B_fir!==e$1.B_fir&&iP.debug(`[${this.store.clientId}]: Period fir changes to ${e$1.B_fir}`),this.uplinkStats=e$1}static isRemoteVideoFreeze(e$1,t$1,i$1){if(!e$1)return!1;let n$1=!!i$1&&t$1.framesDecodeFreezeTime>i$1.framesDecodeFreezeTime,r$1=!i$1||t$1.framesDecodeCount>i$1.framesDecodeCount;return n$1||!r$1}static isRemoteAudioFreeze(e$1){return!!e$1&&e$1._isFreeze()}isLocalVideoFreeze(e$1){return!(!e$1.inputFrame||!e$1.sentFrame)&&e$1.inputFrame.frameRate>5&&e$1.sentFrame.frameRate<3}updateLocalStats(e$1){Array.from(this.localStats.entries()).forEach((t$1=>{let[i$1,n$1]=t$1;switch(i$1){case Rx.LocalVideoTrack:case Rx.LocalVideoLowTrack:{let t$2=n$1,s$1=nj({},zP),a$1=e$1.getStats(),c$1=e$1.getLocalMedia(i$1);if(a$1){let i$2=a$1.videoSend.find((e$2=>e$2.ssrc===c$1?.ssrcs[0].ssrcId));if(i$2){let n$2=e$1.getLocalVideoSize(),o$2=e$1.getEncoderConfig(Rx.LocalVideoTrack);var r$1;(i$2.codec===`H264`||i$2.codec===`H265`||i$2.codec===`VP8`||i$2.codec===`VP9`||i$2.codec===`AV1X`||i$2.codec===`AV1`)&&(s$1.codecType=i$2.codec,t$2?.codecType!==i$2.codec&&((r$1=this.onVideoCodecChanged)==null||r$1.call(this,i$2.codec.toLocaleLowerCase()))),s$1.sendBytes=i$2.bytes,s$1.sendBitrate=t$2?8*Math.max(0,s$1.sendBytes-t$2.sendBytes):0,i$2.inputFrame?(s$1.captureFrameRate=i$2.inputFrame.frameRate,s$1.captureResolutionHeight=i$2.inputFrame.height,s$1.captureResolutionWidth=i$2.inputFrame.width):n$2&&(s$1.captureResolutionWidth=n$2.width,s$1.captureResolutionHeight=n$2.height),i$2.sentFrame?(s$1.sendFrameRate=i$2.sentFrame.frameRate,s$1.sendResolutionHeight=i$2.sentFrame.height,s$1.sendResolutionWidth=i$2.sentFrame.width):n$2&&(s$1.sendResolutionWidth=n$2.width,s$1.sendResolutionHeight=n$2.height),i$2.avgEncodeMs&&(s$1.encodeDelay=i$2.avgEncodeMs),o$2&&o$2.bitrateMax?s$1.targetSendBitrate=1e3*o$2.bitrateMax:i$2.targetBitrate&&(s$1.targetSendBitrate=i$2.targetBitrate),s$1.sendPackets=i$2.packets,s$1.sendPacketsLost=i$2.packetsLost,s$1.sendJitterMs=i$2.jitterMs,s$1.sendRttMs=i$2.rttMs,s$1.totalDuration=t$2?t$2.totalDuration+1:1,s$1.totalFreezeTime=t$2?t$2.totalFreezeTime:0,this.isLocalVideoFreeze(i$2)&&(s$1.totalFreezeTime+=1),i$2.scalabilityMode&&this.scalabilityMode!==i$2.scalabilityMode&&(iP.debug(`[${this.store.clientId}]: The scalabilityMode of the video sending stream is ${i$2.scalabilityMode}`),this.scalabilityMode=i$2.scalabilityMode)}this.trafficStats&&(s$1.currentPacketLossRate=(this.trafficStats.B_pvlr4||0)/100)}var o$1;this.localStats.set(i$1,s$1),(t$2?.sendResolutionWidth!==s$1.sendResolutionWidth||t$2?.sendResolutionHeight!==s$1.sendResolutionHeight)&&((o$1=this.onStatsChanged)==null||o$1.call(this,`resolution`,{width:s$1.sendResolutionWidth,height:s$1.sendResolutionHeight})),s$1&&c$1&&this.exceptionMonitor.setLocalVideoStats(this.store.uid,c$1.track,s$1);break}case Rx.LocalAudioTrack:{let t$2=n$1,r$2=nj({},YP),o$2=e$1.getStats(),s$1=e$1.getLocalMedia(i$1);if(o$2){let i$2=o$2.audioSend.find((e$2=>e$2.ssrc===s$1?.ssrcs[0].ssrcId));if(i$2){if(i$2.codec!==`opus`&&i$2.codec!==`aac`&&i$2.codec!==`PCMU`&&i$2.codec!==`PCMA`&&i$2.codec!==`G722`||(r$2.codecType=i$2.codec),i$2.inputLevel)r$2.sendVolumeLevel=Math.round(32767*i$2.inputLevel);else{let t$3=e$1.getLocalAudioVolume();t$3&&(r$2.sendVolumeLevel=Math.round(32767*t$3))}r$2.sendBytes=i$2.bytes,r$2.sendPackets=i$2.packets,r$2.sendPacketsLost=i$2.packetsLost,r$2.sendJitterMs=i$2.jitterMs,r$2.sendRttMs=i$2.rttMs,r$2.sendBitrate=t$2?8*Math.max(0,r$2.sendBytes-t$2.sendBytes):0}}this.trafficStats&&(r$2.currentPacketLossRate=(this.trafficStats.B_palr4||0)/100),this.localStats.set(Rx.LocalAudioTrack,r$2),r$2&&s$1&&this.exceptionMonitor.setLocalAudioStats(this.store.uid,s$1.track,r$2);break}}}))}updateRemoteStats(e$1){Array.from(this.remoteStats.entries()).forEach((t$1=>{var i$1,n$1;let[r$1,{videoStats:o$1,audioStats:s$1,videoPcStats:a$1}]=t$1,c$1=s$1,d$1=o$1,l$1=a$1,u$1=nj({},qP),h$1=nj({},JP),p$1=nj({},XP),{audioTrack:_$1,videoTrack:E$1,audioSSRC:m$1,videoSSRC:f$1}=e$1.getRemoteMedia(r$1),S$1;S$1=this.store.useP2P?e$1.getStats(!0):e$1.getStats();let g$1=S$1?.audioRecv.find((e$2=>e$2.ssrc===m$1)),T$1=S$1?.videoRecv.find((e$2=>e$2.ssrc===f$1)),R$1=this.trafficStats&&this.trafficStats.peer_delay.find((e$2=>e$2.peer_uid===r$1));if(g$1&&(g$1.codec!==`opus`&&g$1.codec!==`aac`&&g$1.codec!==`PCMU`&&g$1.codec!==`PCMA`&&g$1.codec!==`G722`||(u$1.codecType=g$1.codec),g$1.outputLevel?u$1.receiveLevel=Math.round(32767*g$1.outputLevel):_$1&&(u$1.receiveLevel=Math.round(32767*_$1.getVolumeLevel())),u$1.receiveBytes=g$1.bytes,u$1.receivePackets=g$1.packets,u$1.receivePacketsLost=g$1.packetsLost,u$1.receivePacketsDiscarded=g$1.packetsDiscarded,u$1.packetLossRate=u$1.receivePacketsLost/(u$1.receivePackets+u$1.receivePacketsLost),u$1.receiveBitrate=c$1?8*Math.max(0,u$1.receiveBytes-c$1.receiveBytes):0,u$1.totalDuration=c$1?c$1.totalDuration+1:1,u$1.totalFreezeTime=c$1?c$1.totalFreezeTime:0,u$1.freezeRate=u$1.totalFreezeTime/u$1.totalDuration,u$1.receiveDelay=g$1.jitterBufferMs,u$1.totalDuration>10&&rj.isRemoteAudioFreeze(_$1)&&(u$1.totalFreezeTime+=1)),T$1){var C$1;T$1.codec!==`H264`&&T$1.codec!==`H265`&&T$1.codec!==`VP8`&&T$1.codec!==`VP9`&&T$1.codec!==`AV1X`&&T$1.codec!==`AV1`||(h$1.codecType=T$1.codec),h$1.receiveBytes=T$1.bytes,h$1.receiveBitrate=d$1?8*Math.max(0,h$1.receiveBytes-d$1.receiveBytes):0,h$1.decodeFrameRate=T$1.decodeFrameRate<0?0:T$1.decodeFrameRate,h$1.renderFrameRate=T$1.decodeFrameRate<0?0:T$1.decodeFrameRate,T$1.outputFrame&&(h$1.renderFrameRate=T$1.outputFrame.frameRate),T$1.receivedFrame?(h$1.receiveFrameRate=T$1.receivedFrame.frameRate,h$1.receiveResolutionHeight=T$1.receivedFrame.height,h$1.receiveResolutionWidth=T$1.receivedFrame.width):E$1&&(h$1.receiveResolutionHeight=E$1._videoHeight||0,h$1.receiveResolutionWidth=E$1._videoWidth||0),T$1.framesRateFirefox!==void 0&&(h$1.receiveFrameRate=Math.round(T$1.framesRateFirefox)),h$1.receivePackets=T$1.packets,h$1.receivePacketsLost=T$1.packetsLost,h$1.packetLossRate=h$1.receivePacketsLost/(h$1.receivePackets+h$1.receivePacketsLost);let t$2=d$1?d$1.totalFreezeTime:0,i$2=d$1?d$1.totalDuration:0;h$1.totalDuration=d$1?d$1.totalDuration+1:1,h$1.totalFreezeTime=T$1.totalFreezesDuration??(t$2||0),h$1.receiveDelay=T$1.jitterBufferMs||0;let n$2=!!f$1&&e$1.getRemoteVideoIsReady(f$1);T$1.totalFreezesDuration===void 0&&E$1&&n$2&&rj.isRemoteVideoFreeze(E$1,T$1,l$1)&&(h$1.totalFreezeTime+=1),h$1.freezeRate=Math.max(0,Math.min((h$1.totalFreezeTime-t$2)/(h$1.totalDuration-i$2),1))}R$1&&(u$1.end2EndDelay=R$1.B_ad,h$1.end2EndDelay=R$1.B_vd,u$1.transportDelay=R$1.B_ed,h$1.transportDelay=R$1.B_ed,u$1.currentPacketLossRate=R$1.B_ealr4/100,h$1.currentPacketLossRate=R$1.B_evlr4/100,p$1.uplinkNetworkQuality=R$1.B_punq?R$1.B_punq:0,p$1.downlinkNetworkQuality=R$1.B_pdnq?R$1.B_pdnq:0),this.remoteStats.set(r$1,{audioStats:u$1,videoStats:h$1,videoPcStats:T$1,networkStats:p$1}),_$1&&this.exceptionMonitor.setRemoteAudioStats(_$1,u$1),E$1&&this.exceptionMonitor.setRemoteVideoStats(E$1,h$1)}))}}class oj{constructor(){iA(this,`destChannelMediaInfos`,new Map),iA(this,`srcChannelMediaInfo`,void 0)}setSrcChannelInfo(e$1){ex(e$1),this.srcChannelMediaInfo=e$1}addDestChannelInfo(e$1){ex(e$1),this.destChannelMediaInfos.set(e$1.channelName,e$1)}removeDestChannelInfo(e$1){HV(e$1),this.destChannelMediaInfos.delete(e$1)}getSrcChannelMediaInfo(){return this.srcChannelMediaInfo}getDestChannelMediaInfo(){return this.destChannelMediaInfos}}function sj(e$1){if(!(e$1 instanceof oj))return new uP(hO.INVALID_PARAMS,`Config should be instance of [ChannelMediaRelayConfiguration]`).throw();let t$1=e$1.getSrcChannelMediaInfo(),i$1=e$1.getDestChannelMediaInfo();if(!t$1)return new uP(hO.INVALID_PARAMS,`srcChannelMediaInfo should not be empty`).throw();if(i$1.size===0)return new uP(hO.INVALID_PARAMS,`destChannelMediaInfo should not be empty`).throw()}class aj{get hasVideo(){return this._video_enabled_&&!this._video_muted_&&this._video_added_}get hasAudio(){return this._audio_enabled_&&!this._audio_muted_&&this._audio_added_}get audioTrack(){if(this.hasAudio||this._audio_pre_subscribed)return this._audioTrack}get videoTrack(){if(this.hasVideo||this._video_pre_subscribed)return this._videoTrack}get dataChannels(){return this._dataChannels}constructor(e$1,t$1){iA(this,`uid`,void 0),iA(this,`_uintid`,void 0),iA(this,`_trust_in_room_`,!0),iA(this,`_trust_audio_enabled_state_`,!0),iA(this,`_trust_video_enabled_state_`,!0),iA(this,`_trust_audio_mute_state_`,!0),iA(this,`_trust_video_mute_state_`,!0),iA(this,`_audio_muted_`,!1),iA(this,`_video_muted_`,!1),iA(this,`_audio_enabled_`,!0),iA(this,`_video_enabled_`,!0),iA(this,`_audio_added_`,!1),iA(this,`_video_added_`,!1),iA(this,`_is_pre_created`,!1),iA(this,`_video_pre_subscribed`,!1),iA(this,`_audio_pre_subscribed`,!1),iA(this,`_trust_video_stream_added_state_`,!0),iA(this,`_trust_audio_stream_added_state_`,!0),iA(this,`_audioTrack`,void 0),iA(this,`_videoTrack`,void 0),iA(this,`_dataChannels`,[]),iA(this,`_audioSSRC`,void 0),iA(this,`_videoSSRC`,void 0),iA(this,`_audioOrtc`,void 0),iA(this,`_videoOrtc`,void 0),iA(this,`_cname`,void 0),iA(this,`_rtxSsrcId`,void 0),iA(this,`_videoMid`,void 0),iA(this,`_audioMid`,void 0),this.uid=e$1,this._uintid=t$1}}function cj(e$1,t$1){var i$1=Object.keys(e$1);if(Object.getOwnPropertySymbols){var n$1=Object.getOwnPropertySymbols(e$1);t$1&&(n$1=n$1.filter((function(t$2){return Object.getOwnPropertyDescriptor(e$1,t$2).enumerable}))),i$1.push.apply(i$1,n$1)}return i$1}function dj(e$1){for(var t$1=1;t$1<arguments.length;t$1++){var i$1=arguments[t$1]==null?{}:arguments[t$1];t$1%2?cj(Object(i$1),!0).forEach((function(t$2){iA(e$1,t$2,i$1[t$2])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e$1,Object.getOwnPropertyDescriptors(i$1)):cj(Object(i$1)).forEach((function(t$2){Object.defineProperty(e$1,t$2,Object.getOwnPropertyDescriptor(i$1,t$2))}))}return e$1}let lj=e$1=>`v=0
o=- 0 0 IN IP4 127.0.0.1
s=AgoraGateway
t=0 0
a=group:BUNDLE 0 1 2
a=msid-semantic: WMS
a=ice-lite${e$1?`
a=extmap-allow-mixed`:``}
m=video 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=sendonly
a=rtcp-mux
a=rtcp-rsize
a=mid:0
m=audio 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=sendonly
a=rtcp-mux
a=rtcp-rsize
a=mid:1
m=application 9 UDP/DTLS/SCTP webrtc-datachannel
c=IN IP4 127.0.0.1
a=mid:2
`,uj=`9`,hj=2e4,pj=4e4,_j=class{get localCapabilities(){return sN(this._localCapabilities)}get rtpCapabilities(){return sN(this._rtpCapabilities)}get candidates(){return sN(this._candidates)}get iceParameters(){return sN(this._iceParameters)}get dtlsParameters(){return sN(this._dtlsParameters)}constructor(e$1){let t$1=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i$1=arguments.length>2&&arguments[2]!==void 0&&arguments[2],n$1=arguments.length>3&&arguments[3]!==void 0&&arguments[3];iA(this,`sessionDesc`,void 0),iA(this,`_localCapabilities`,void 0),iA(this,`_rtpCapabilities`,void 0),iA(this,`_candidates`,void 0),iA(this,`_originCandidates`,void 0),iA(this,`_iceParameters`,void 0),iA(this,`_isUseExtmapAllowMixed`,void 0),iA(this,`_isUseLocalCodecs`,void 0),iA(this,`_isUseDataChannel`,void 0),iA(this,`_dtlsParameters`,void 0),iA(this,`setup`,void 0),iA(this,`currentMidIndex`,void 0),iA(this,`cname`,void 0),iA(this,`useLocalCodecsMids`,[]),iA(this,`preloadSsrcs`,[]),iA(this,`firefoxSsrcMidMap`,new Map),this._isUseExtmapAllowMixed=t$1,this._isUseLocalCodecs=i$1,this._isUseDataChannel=n$1,e$1=sN(e$1);let{iceParameters:r$1,dtlsParameters:o$1,candidates:s$1,rtpCapabilities:a$1,setup:c$1,localCapabilities:d$1,cname:l$1}=e$1;this._rtpCapabilities=a$1,this._candidates=s$1,this._originCandidates=sN(s$1),this._iceParameters=r$1,this._dtlsParameters=o$1,this._localCapabilities=d$1,this.setup=c$1,this.cname=l$1,[this.sessionDesc]=this.updateRemoteRTPCapabilities(a$1),this.currentMidIndex=this.sessionDesc.mediaDescriptions.length-1}checkPreloadSsrcs(e$1){return e$1.length===this.preloadSsrcs.length&&e$1.every((e$2=>{var t$1;return Ln(t$1=this.preloadSsrcs).call(t$1,e$2)}))}preloadRemoteMedia(e$1){let t$1=0,i$1=[],n$1=[];for(;e$1>0;){let r$1=[dj({ssrcId:pj+t$1},CD(`USE_SUB_RTX`)?{rtx:pj+t$1+1}:{})],o$1=`${pj+t$1}_${hj+t$1}`,{ssrcs:s$1,ssrcGroups:a$1}=LF(r$1,this.cname,CD(`SYNC_GROUP`)?o$1:void 0),c$1=this.preCreateOrRecycleSendMedia(`video`,s$1,a$1,void 0),d$1=[{ssrcId:hj+t$1}],l$1=`${pj+t$1}_${hj+t$1}`,{ssrcs:u$1,ssrcGroups:h$1}=LF(d$1,this.cname,CD(`SYNC_GROUP`)?l$1:void 0),p$1=this.preCreateOrRecycleSendMedia(`audio`,u$1,h$1,void 0);e$1--,t$1+=2,i$1.push(c$1,p$1),n$1.push(s$1[0].ssrcId,u$1[0].ssrcId)}return this.useLocalCodecsMids.push(...i$1),this.preloadSsrcs=n$1,{mids:i$1,preSSRCs:n$1,isAvailable:!0}}preCreateOrRecycleSendMedia(e$1,t$1,i$1,n$1){let r$1=this.rtpCapabilities.send.videoCodecs,o$1=this._isUseLocalCodecs||r$1.length===0?this.localCapabilities.recv:this.rtpCapabilities.send;iP.debug(`create or recycle send media without remote rtp capabilities, ssrcs `,t$1[0].ssrcId);let s$1=e$1===fx.VIDEO?o$1.videoCodecs:o$1.audioCodecs,a$1=e$1===fx.VIDEO?o$1.videoExtensions:o$1.audioExtensions;this.currentMidIndex+=1;let c$1=`${this.currentMidIndex}`,d$1={media:{mediaType:e$1,port:`9`,protos:[`UDP`,`TLS`,`RTP`,`SAVPF`],fmts:s$1.map((e$2=>e$2.payloadType.toString(10)))},connections:[{nettype:`IN`,addrtype:`IP4`,address:`127.0.0.1`}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:a$1,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t$1,ssrcGroups:i$1,rtcpFeedbackWildcards:[],payloads:s$1,rtcp:{port:`9`,netType:`IN`,addressType:`IP4`,address:`0.0.0.0`},setup:this.setup,direction:`sendonly`,rtcpMux:!0,rtcpRsize:!0,mid:`${c$1}`}};return d$1=this.mungSendMediaDesc(d$1,n$1),this.sessionDesc.mediaDescriptions.push(d$1),this.updateBundleMids(),c$1}toString(){return kD(this.sessionDesc)}send(e$1,t$1,i$1,n$1){let{ssrcs:r$1,ssrcGroups:o$1}=LF(t$1,this.cname,CD(`SYNC_GROUP`)?i$1:void 0),s$1=this.findPreloadMediaDesc(r$1);if(s$1){if(Bw()&&this.firefoxSsrcMidMap.set(r$1[0].ssrcId,s$1.attributes.mid),n$1&&(n$1.twcc||n$1.remb)){let e$2=this.sessionDesc.mediaDescriptions.indexOf(s$1);return this.sessionDesc.mediaDescriptions[e$2]=this.mungSendMediaDesc(s$1,n$1),{mid:s$1.attributes.mid,needExchangeSDP:!0}}return{mid:s$1.attributes.mid,needExchangeSDP:!1}}{let t$2=this.findAvailableMediaIndex(e$1,r$1),i$2;return t$2===-1||t$2===1&&(Vw()||function(){let e$2=Dw();return!(e$2.name!==bw.CHROME||!e$2.osVersion)&&Number(e$2.version)<=90}()||Gw(143)||Kw(143)||CD(`RESERVE_MID_1_MLINE`)||CD(`ENABLE_ENCODED_TRANSFORM`)&&Uw())||t$2===0&&!function(e$2){let t$3=Dw();return!(t$3.name!==bw.FIREFOX||!t$3.osVersion)&&Number(t$3.version)===e$2}(138)&&CD(`USE_SUB_RTX`)||Zw()?(i$2=this.createOrRecycleSendMedia(e$1,r$1,o$1,`sendonly`,n$1),this.updateBundleMids()):(i$2=sN(this.sessionDesc.mediaDescriptions[t$2]),i$2.attributes.direction=`sendonly`,i$2.attributes.ssrcs=r$1,i$2.attributes.ssrcGroups=o$1,this.sessionDesc.mediaDescriptions[t$2]=this.mungSendMediaDesc(i$2,n$1)),Bw()&&this.firefoxSsrcMidMap.set(r$1[0].ssrcId,i$2.attributes.mid),{mid:i$2.attributes.mid,needExchangeSDP:!0}}}sendDataChannel(){let{mediaDesc:e$1,needExchangeSDP:t$1}=this.createOrRecycleDataChannel();return this.updateBundleMids(),{mid:e$1.attributes.mid,needExchangeSDP:t$1}}batchSend(e$1){let t$1=e$1.map((e$2=>{let{kind:t$2,ssrcMsg:i$2,mslabel:n$2}=e$2;return this.send(t$2,i$2,n$2)})),i$1=[],n$1=!1;return t$1.forEach((e$2=>{let{mid:t$2,needExchangeSDP:r$1}=e$2;r$1&&(n$1=!0),i$1.push(t$2)})),{mids:i$1,needExchangeSDP:n$1}}stopSending(e$1){let t$1=this.sessionDesc.mediaDescriptions.filter((t$2=>t$2.attributes.mid&&e$1.indexOf(t$2.attributes.mid)!==-1));if(t$1.length!==e$1.length)throw Error(`mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.`);t$1.forEach((e$2=>{e$2.attributes.mid===`0`||Bw()||Zw()?e$2.attributes.ssrcs=[]:(e$2.attributes.ssrcs=[],e$2.attributes.direction=`inactive`,e$2.media.port=`0`)})),this.updateBundleMids()}mute(e$1){let t$1=this.sessionDesc.mediaDescriptions.find((t$2=>t$2.attributes.mid===e$1));if(!t$1)throw Error(`mediaDescription not found with ${e$1} in remote SDP when calling RemoteSDP.mute.`);t$1.attributes.direction=`inactive`}unmute(e$1){let t$1=this.sessionDesc.mediaDescriptions.find((t$2=>t$2.attributes.mid===e$1));if(!t$1)throw Error(`mediaDescription not found with ${e$1} in remote SDP when calling RemoteSDP.unmute.`);t$1.attributes.direction=`sendonly`}muteRemote(e$1){let t$1=this.sessionDesc.mediaDescriptions.filter((t$2=>Ln(e$1).call(e$1,t$2.attributes.mid||``)));if(t$1.length!==e$1.length)throw Error(`mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.`);t$1.forEach((e$2=>{e$2.attributes.direction=`inactive`}))}unmuteRemote(e$1){let t$1=this.sessionDesc.mediaDescriptions.filter((t$2=>Ln(e$1).call(e$1,t$2.attributes.mid||``)));if(t$1.length!==e$1.length)throw Error(`mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.`);t$1.forEach((e$2=>{e$2.attributes.direction=`recvonly`}))}receive(e$1,t$1,i$1,n$1){e$1.forEach(((e$2,r$1)=>{this.createOrRecycleRecvMedia(e$2,[],`recvonly`,t$1,i$1,n$1[r$1])})),this.updateBundleMids()}stopReceiving(e$1){let t$1=this.sessionDesc.mediaDescriptions.filter((t$2=>e$1.indexOf(t$2.attributes.mid)!==-1));if(t$1.length!==e$1.length)throw Error(`MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.`);t$1.forEach((e$2=>{e$2.media.port=`0`,e$2.attributes.direction=`inactive`})),this.updateBundleMids()}updateRemoteRTPCapabilities(e$1){let t$1=this.sessionDesc||LD((i$1=this._isUseExtmapAllowMixed,this._isUseDataChannel?lj(i$1):`v=0
o=- 0 0 IN IP4 127.0.0.1
s=AgoraGateway
t=0 0
a=group:BUNDLE 0 1
a=msid-semantic: WMS
a=ice-lite${i$1?`
a=extmap-allow-mixed`:``}
m=video 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=sendonly
a=rtcp-mux
a=rtcp-rsize
a=mid:0
m=audio 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=sendonly
a=rtcp-mux
a=rtcp-rsize
a=mid:1
`));var i$1;this._rtpCapabilities=e$1;let n$1=!1,r$1=this.rtpCapabilities.send,o$1=this.localCapabilities.send,s$1=this.localCapabilities.recv,a$1=s$1.videoCodecs,c$1=s$1.audioCodecs,d$1=s$1.videoExtensions,l$1=s$1.audioExtensions;for(let e$2 of t$1.mediaDescriptions){var u$1;if(e$2.attributes.direction!==`sendonly`||typeof e$2.attributes.mid!=`string`||!Ln(u$1=this.useLocalCodecsMids).call(u$1,e$2.attributes.mid)){if(n$1=!0,e$2.attributes.iceUfrag=this._iceParameters.iceUfrag,e$2.attributes.icePwd=this._iceParameters.icePwd,e$2.attributes.fingerprints=this._dtlsParameters.fingerprints,e$2.attributes.candidates=this._candidates,e$2.attributes.setup=this.setup,e$2.media.mediaType===`application`&&(e$2.attributes.sctpPort=`5000`),e$2.media.mediaType===`video`)if(this._isUseLocalCodecs&&e$2.attributes.direction===`sendonly`){var h$1;e$2.media.fmts=a$1.map((e$3=>e$3.payloadType.toString(10))),e$2.attributes.payloads=a$1,e$2.attributes.extmaps=d$1;let t$2=e$2.attributes.mid;typeof t$2!=`string`||Ln(h$1=this.useLocalCodecsMids).call(h$1,t$2)||this.useLocalCodecsMids.push(t$2)}else if(r$1.videoCodecs.length===0){let t$2=o$1.videoCodecs.filter((e$3=>{var t$3,i$2;return(t$3=e$3.rtpMap)==null?void 0:Ln(i$2=t$3.encodingName.toLowerCase()).call(i$2,`vp8`)}));t$2.length===0&&t$2.push(o$1.videoCodecs[0]),e$2.media.fmts=t$2.map((e$3=>e$3.payloadType.toString(10))),e$2.attributes.payloads=t$2,e$2.attributes.extmaps=[]}else e$2.media.fmts=r$1.videoCodecs.map((e$3=>e$3.payloadType.toString(10))),e$2.attributes.payloads=r$1.videoCodecs,e$2.attributes.extmaps=r$1.videoExtensions;if(e$2.media.mediaType===`audio`)if(this._isUseLocalCodecs&&e$2.attributes.direction===`sendonly`){var p$1;e$2.media.fmts=c$1.map((e$3=>e$3.payloadType.toString(10))),e$2.attributes.payloads=c$1,e$2.attributes.extmaps=l$1;let t$2=e$2.attributes.mid;typeof t$2!=`string`||Ln(p$1=this.useLocalCodecsMids).call(p$1,t$2)||this.useLocalCodecsMids.push(t$2)}else if(r$1.audioCodecs.length===0){let t$2=o$1.audioCodecs.filter((e$3=>{var t$3,i$2;return(t$3=e$3.rtpMap)==null?void 0:Ln(i$2=t$3.encodingName.toLowerCase()).call(i$2,`opus`)}))||[o$1.audioCodecs[0]];e$2.media.fmts=t$2.map((e$3=>e$3.payloadType.toString(10))),e$2.attributes.payloads=t$2,e$2.attributes.extmaps=[]}else e$2.media.fmts=r$1.audioCodecs.map((e$3=>e$3.payloadType.toString(10))),e$2.attributes.payloads=r$1.audioCodecs,e$2.attributes.extmaps=r$1.audioExtensions,KF(e$2)}}return this.sessionDesc=t$1,this.currentMidIndex=t$1.mediaDescriptions.length-1,[this.sessionDesc,n$1]}updateCandidates(e$1){let t$1=this._originCandidates.filter((e$2=>e$2.transport===`udp`)),i$1=[];if(t$1.forEach((e$2=>{i$1.push(dj(dj({},e$2),{},{foundation:`tcpcandidate`,priority:Number(e$2.priority)-1+``,transport:`tcp`,port:Number(e$2.port)+90+``}))})),t$1.length!==0){switch(e$1){case Sx.TCP_RELAY:this._candidates=i$1;break;case Sx.UDP_TCP_RELAY:case Sx.RELAY:this._candidates=[...t$1,...i$1];break;default:this._candidates=t$1}for(let e$2 of this.sessionDesc.mediaDescriptions)e$2.attributes.candidates=this.candidates}}restartICE(e$1){e$1=sN(e$1),this._iceParameters=e$1,this.sessionDesc.mediaDescriptions.forEach((t$1=>{t$1.attributes.iceUfrag=e$1.iceUfrag,t$1.attributes.icePwd=e$1.icePwd}))}predictReceivingMids(e$1){let t$1=[];for(let i$1=0;i$1<e$1;i$1++)t$1.push((this.currentMidIndex+i$1+1).toString(10));return t$1}findAvailableMediaIndex(e$1,t$1){return this.sessionDesc.mediaDescriptions.findIndex((i$1=>{let n$1=i$1.media.mediaType===e$1&&i$1.media.port!==`0`&&(i$1.attributes.direction===`sendonly`||i$1.attributes.direction===`sendrecv`)&&i$1.attributes.ssrcs.length===0;if(Bw()){if(n$1){let e$2=this.firefoxSsrcMidMap.get(t$1[0].ssrcId);return!(e$2||i$1.attributes.mid!==`0`&&i$1.attributes.mid!==`1`)||!(!e$2||e$2!==i$1.attributes.mid)}return!1}return n$1}))}createOrRecycleDataChannel(){for(let e$2 of this.sessionDesc.mediaDescriptions)if(e$2.media.mediaType===`application`)return{mediaDesc:e$2,needExchangeSDP:!1};this.currentMidIndex+=1;let e$1=`${this.currentMidIndex}`,t$1={media:{mediaType:`application`,port:`9`,protos:[`UDP`,`DTLS`,`SCTP`],fmts:[`webrtc-datachannel`]},connections:[{nettype:`IN`,addrtype:`IP4`,address:`127.0.0.1`}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:[],fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[],rtcp:{port:`9`,netType:`IN`,addressType:`IP4`,address:`0.0.0.0`},setup:this.setup,mid:`${e$1}`,sctpPort:`5000`}};return this.sessionDesc.mediaDescriptions.push(t$1),{mediaDesc:t$1,needExchangeSDP:!0}}createOrRecycleRecvMedia(e$1,t$1,i$1,n$1,r$1,o$1){let s$1=e$1._mediaStreamTrack.kind,a$1=this.rtpCapabilities.recv,c$1=YF(s$1,a$1,this.localCapabilities.send,s$1===fx.VIDEO?n$1:r$1),d$1=s$1===fx.VIDEO?a$1.videoExtensions:a$1.audioExtensions;this.currentMidIndex+=1;let l$1=`${this.currentMidIndex}`,u$1={media:{mediaType:s$1,port:`9`,protos:[`UDP`,`TLS`,`RTP`,`SAVPF`],fmts:c$1.map((e$2=>e$2.payloadType.toString(10)))},connections:[{nettype:`IN`,addrtype:`IP4`,address:`127.0.0.1`}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:d$1,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t$1,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:c$1,rtcp:{port:`9`,netType:`IN`,addressType:`IP4`,address:`0.0.0.0`},setup:this.setup,direction:i$1,rtcpMux:!0,rtcpRsize:!0,mid:`${l$1}`}};u$1=this.mungRecvMediaDsec(u$1,e$1,o$1);let h$1=this.findFirstClosedMedia(s$1);if(h$1){let e$2=this.sessionDesc.mediaDescriptions.indexOf(h$1);this.sessionDesc.mediaDescriptions[e$2]=u$1}else this.sessionDesc.mediaDescriptions.push(u$1);return u$1}updateRemoteDtlsParameters(e$1){let t$1=new Set(this._dtlsParameters.fingerprints.map((e$2=>e$2.fingerprint))),i$1=new Set(e$1.map((e$2=>e$2.fingerprint))),n$1=!1;t$1.size!==i$1.size&&(n$1=!0);for(let e$2 of t$1)i$1.has(e$2)||(n$1=!0);return n$1}updateRemoteCodec(e$1,t$1,i$1){let n$1=[...new Set(this._rtpCapabilities.recv.videoCodecs.map((e$2=>e$2.rtpMap&&e$2.rtpMap.encodingName.toLowerCase()||``)).filter((e$2=>{var t$2;return Ln(t$2=Object.keys(AD)).call(t$2,e$2)})))],r$1=new Set(t$1);if(n$1.every((e$2=>r$1.has(e$2))))return iP.debug(`codecs has not changed, no need to updateRemoteCodec, codecs: ${t$1}`),!1;let o$1=this._rtpCapabilities.recv.videoCodecs.filter((e$2=>t$1.some((t$2=>{var i$2;return Ln(i$2=e$2.rtpMap&&e$2.rtpMap.encodingName.toLowerCase()||``).call(i$2,t$2)}))));if(o$1.length===0)return iP.debug(`updateRemoteCodec failed, because cannot find matched codec, remoteCapabilities codecs: ${n$1} codecs: ${t$1}`),!1;let s$1=[...new Set(o$1.map((e$2=>e$2.rtpMap&&e$2.rtpMap.encodingName.toLowerCase()||``)))],a$1;if(iP.debug(`updateRemoteCodec, from ${n$1} to ${s$1}`),e$1.length===0)a$1=this.sessionDesc.mediaDescriptions.filter((e$2=>e$2.media.mediaType===`video`&&e$2.attributes.direction===`recvonly`));else if(a$1=this.sessionDesc.mediaDescriptions.filter((t$2=>t$2.attributes.mid&&t$2.media.mediaType===`video`&&Ln(e$1).call(e$1,t$2.attributes.mid)&&t$2.attributes.direction===`recvonly`)),a$1.length!==e$1.length)return iP.debug(`updateRemoteCodec failed, because cannot find mids, mids: ${e$1}, codecs: ${t$1}`),!1;if(CD(`USE_PUB_RTX`)||CD(`USE_SUB_RTX`)){let e$2=zF(o$1,this.rtpCapabilities.recv.videoCodecs);o$1.push(...e$2)}this._rtpCapabilities.recv.videoCodecs=o$1;let c$1=this.localCapabilities.send,d$1=this.rtpCapabilities.recv,l$1=YF(fx.VIDEO,d$1,c$1,i$1);return a$1.forEach((e$2=>{let t$2=l$1.map((e$3=>e$3.payloadType.toString(10)));iP.debug(`updateRemoteCodec mid: ${e$2.attributes.mid}, from`,e$2.attributes.payloads,`to`,l$1),e$2.attributes.payloads=l$1,e$2.media.fmts=t$2})),iP.debug(`updateRemoteCodec success, mids: ${e$1}, codecs: ${t$1}, remote recv: ${this._rtpCapabilities.recv.videoCodecs.length}, remote send: ${this._rtpCapabilities.send.videoCodecs.length}`),!0}createOrRecycleSendMedia(e$1,t$1,i$1,n$1,r$1){let o$1=this.rtpCapabilities.send.videoCodecs,s$1=this._isUseLocalCodecs||o$1.length===0?this.localCapabilities.recv:this.rtpCapabilities.send,a$1=e$1===fx.VIDEO?s$1.videoCodecs:s$1.audioCodecs,c$1=e$1===fx.VIDEO?s$1.videoExtensions:s$1.audioExtensions;this.currentMidIndex+=1;let d$1=`${this.currentMidIndex}`,l$1={media:{mediaType:e$1,port:`9`,protos:[`UDP`,`TLS`,`RTP`,`SAVPF`],fmts:a$1.map((e$2=>e$2.payloadType.toString(10)))},connections:[{nettype:`IN`,addrtype:`IP4`,address:`127.0.0.1`}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:c$1,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t$1,ssrcGroups:i$1,rtcpFeedbackWildcards:[],payloads:a$1,rtcp:{port:`9`,netType:`IN`,addressType:`IP4`,address:`0.0.0.0`},setup:this.setup,direction:n$1,rtcpMux:!0,rtcpRsize:!0,mid:`${d$1}`}};l$1=this.mungSendMediaDesc(l$1,r$1);let u$1=this.findFirstClosedMedia(e$1);if(u$1){let e$2=this.sessionDesc.mediaDescriptions.indexOf(u$1);this.sessionDesc.mediaDescriptions[e$2]=l$1}else this.sessionDesc.mediaDescriptions.push(l$1);return l$1}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter((e$1=>e$1.media.port!==`0`)).map((e$1=>e$1.attributes.mid))}mungRecvMediaDsec(e$1,t$1,i$1){let n$1=sN(e$1);return MF(n$1),kF(n$1,t$1),UF(n$1,t$1),VF(n$1),xF(n$1,i$1,this.localCapabilities.send),n$1}mungSendMediaDesc(e$1,t$1){let i$1=sN(e$1);return i$1.attributes&&i$1.attributes.payloads&&Array.isArray(i$1.attributes.payloads)&&i$1.attributes.payloads.length>0&&i$1.attributes.payloads.forEach((e$2=>{e$2.rtpMap&&e$2.rtpMap.encodingName.toLocaleLowerCase()===`h264`&&CD(`ENABLE_DOWN_SPS_PPS`)&&(e$2.fmtp&&e$2.fmtp.parameters||(e$2.fmtp={parameters:{}}),e$2.fmtp.parameters[`sps-pps-idr-in-keyframe`]=`1`)})),xF(i$1,t$1,this.localCapabilities.recv),KF(i$1),i$1}updateRecvMedia(e$1,t$1){let i$1=this.sessionDesc.mediaDescriptions.findIndex((t$2=>t$2.attributes.mid===e$1));if(i$1!==-1){let e$2=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[i$1],t$1);this.sessionDesc.mediaDescriptions[i$1]=e$2}}bumpMid(e$1){this.currentMidIndex+=e$1}findFirstClosedMedia(e$1){return this.sessionDesc.mediaDescriptions.find((t$1=>Bw()?t$1.media.port===`0`&&t$1.media.mediaType===e$1:t$1.media.port===`0`))}findPreloadMediaDesc(e$1){return this.sessionDesc.mediaDescriptions.find((t$1=>{var i$1;return((i$1=t$1.attributes)==null||(i$1=i$1.ssrcs[0])==null?void 0:i$1.ssrcId)===e$1[0].ssrcId}))}getSSRC(e$1){var t$1;return this.sessionDesc.mediaDescriptions.find((t$2=>t$2.attributes.mid===e$1))?.attributes.ssrcs}};function Ej(e$1,t$1){var i$1=Object.keys(e$1);if(Object.getOwnPropertySymbols){var n$1=Object.getOwnPropertySymbols(e$1);t$1&&(n$1=n$1.filter((function(t$2){return Object.getOwnPropertyDescriptor(e$1,t$2).enumerable}))),i$1.push.apply(i$1,n$1)}return i$1}function mj(e$1){for(var t$1=1;t$1<arguments.length;t$1++){var i$1=arguments[t$1]==null?{}:arguments[t$1];t$1%2?Ej(Object(i$1),!0).forEach((function(t$2){iA(e$1,t$2,i$1[t$2])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e$1,Object.getOwnPropertyDescriptors(i$1)):Ej(Object(i$1)).forEach((function(t$2){Object.defineProperty(e$1,t$2,Object.getOwnPropertyDescriptor(i$1,t$2))}))}return e$1}var fj=function(e$1){return e$1[e$1.DOWN=0]=`DOWN`,e$1[e$1.UP=1]=`UP`,e$1}(fj||{});let Sj=new Map;function gj(e$1,t$1,i$1,n$1){let{scale:r$1}=e$1;if(r$1===0&&n$1===fj.UP||r$1>=t$1.length-1&&n$1===fj.DOWN)return e$1;let o$1=mj(mj({},e$1),{},{scale:n$1===fj.DOWN?++r$1:--r$1});switch(i$1){case`maintain-framerate`:o$1=mj(mj({},o$1),t$1[r$1].motion);break;case`maintain-resolution`:o$1=mj(mj({},o$1),t$1[r$1].detail);break;case`balanced`:o$1=mj(mj({},o$1),t$1[r$1].balanced)}return o$1}function Tj(e$1,t$1){if(t$1){let i$1={overUse:0,underUse:0,adaptationList:Rj(t$1)};Sj.set(e$1,i$1)}else Sj.delete(e$1)}function Rj(e$1){let t$1=mj({},e$1),{bitrateMax:i$1,frameRate:n$1,scaleResolutionDownBy:r$1,bitrateMin:o$1}=t$1,{MIN_FRAME_RATE:s$1,MAX_THRESHOLD_FRAMERATE:a$1,MAX_SCALE:c$1,BITRATE_MIN_THRESHOLD:d$1,BITRATE_MAX_THRESHOLD:l$1,BWE_SCALE_UP_THRESHOLD:u$1,BWE_SCALE_DOWN_THRESHOLD:h$1,PERF_SCALE_DOWN_THRESHOLD:p$1,PERF_SCALE_UP_THRESHOLD:_$1,BALANCE_BITRATE_FACTOR:E$1,BALANCE_FRAMERATE_FACTOR:m$1,BALANCE_RESOLUTION_FACTOR:f$1,MOTION_RESOLUTION_FACTOR:S$1,MOTION_BITRATE_FACTOR:g$1,DETAIL_FRAMERATE_FACTOR:T$1,DETAIL_BITRATE_FACTOR:R$1}=fD,C$1=Math.min(t$1.frameRate,a$1),v$1=[{scale:0,threshold:{bwe_down:Math.round(h$1**1*i$1),bwe_up:i$1,fps_down:Math.round(p$1**1*C$1),fps_up:n$1},balanced:{scaleResolutionDownBy:1,frameRate:n$1,bitrateMax:i$1,bitrateMin:o$1},motion:{scaleResolutionDownBy:1,frameRate:n$1,bitrateMax:i$1,bitrateMin:o$1},detail:{scaleResolutionDownBy:1,frameRate:n$1,bitrateMax:i$1,bitrateMin:o$1}}];for(let e$2=1;e$2<=c$1;e$2++){let t$2={bwe_up:Math.round(u$1**+e$2*i$1),bwe_down:Math.round(h$1**+(e$2+1)*i$1),fps_up:Math.round(_$1**+e$2*C$1),fps_down:Math.round(p$1**+(e$2+1)*C$1)},a$2={scaleResolutionDownBy:r$1/f$1**+e$2,frameRate:Math.max(Math.round(m$1**+e$2*n$1),s$1),bitrateMax:Math.max(Math.round(E$1**+e$2*i$1),l$1),bitrateMin:Math.max(Math.round(E$1**+e$2*o$1),d$1)},c$2={scaleResolutionDownBy:r$1/S$1**+e$2,frameRate:n$1,bitrateMax:Math.max(Math.round(g$1**+e$2*i$1),l$1),bitrateMin:Math.max(Math.round(g$1**+e$2*o$1),d$1)},y$1={scaleResolutionDownBy:1,frameRate:Math.max(Math.round(T$1**+e$2*n$1),s$1),bitrateMax:Math.max(Math.round(R$1**+e$2*i$1),l$1),bitrateMin:Math.max(Math.round(R$1**+e$2*o$1),d$1)};v$1.push({scale:e$2,threshold:t$2,balanced:a$2,motion:c$2,detail:y$1})}return v$1}function Cj(e$1,t$1,i$1,n$1,r$1,o$1){let s$1=Sj.get(e$1)||{overUse:0,underUse:0,adaptationList:Rj(r$1)},{adaptationList:a$1}=s$1;Sj.set(e$1,s$1);let{OVERUSE_TIMES_THRESHOLD:c$1,UNDERUSE_TIMES_THRESHOLD:d$1}=fD,{scale:l$1}=n$1,u$1,h$1;return typeof t$1==`number`&&t$1>0&&function(e$2,t$2,i$2,n$2){if(t$2>=i$2.length)return!1;let{threshold:{fps_down:r$2}}=i$2[t$2];return CD(`FORCE_AG_HIGH_FRAMERATE`)&&n$2===`maintain-framerate`&&(r$2=i$2[0].threshold.fps_down),e$2<r$2}(t$1,l$1,a$1,o$1)&&(s$1.overUse++,h$1=tD.CPU,s$1.overUse>c$1)||typeof i$1==`number`&&i$1>0&&function(e$2,t$2,i$2){if(t$2>=i$2.length)return!1;let{threshold:{bwe_down:n$2}}=i$2[t$2];return e$2<n$2}(i$1,l$1,a$1)&&(s$1.overUse++,h$1=tD.BANDWIDTH,s$1.overUse>c$1)?(s$1.overUse=0,s$1.underUse=0,u$1=gj(n$1,a$1,o$1,fj.DOWN),[u$1,h$1]):(typeof t$1==`number`&&t$1>0&&typeof i$1==`number`&&i$1>0&&function(e$2,t$2,i$2,n$2){if(t$2===0)return;let{threshold:{fps_up:r$2}}=i$2[t$2];return CD(`FORCE_AG_HIGH_FRAMERATE`)&&n$2===`maintain-framerate`&&(r$2=i$2[1].threshold.fps_up),e$2>r$2}(t$1,l$1,a$1,o$1)&&function(e$2,t$2,i$2){if(t$2===0)return;let{threshold:{bwe_up:n$2}}=i$2[t$2];return e$2>n$2}(i$1,l$1,a$1)&&(s$1.underUse++,s$1.underUse>d$1&&(s$1.overUse=0,s$1.underUse=0,u$1=gj(n$1,a$1,o$1,fj.UP),u$1.scale===0&&(h$1=tD.NONE))),[u$1,h$1])}function vj(e$1,t$1){var i$1=Object.keys(e$1);if(Object.getOwnPropertySymbols){var n$1=Object.getOwnPropertySymbols(e$1);t$1&&(n$1=n$1.filter((function(t$2){return Object.getOwnPropertyDescriptor(e$1,t$2).enumerable}))),i$1.push.apply(i$1,n$1)}return i$1}function yj(e$1){for(var t$1=1;t$1<arguments.length;t$1++){var i$1=arguments[t$1]==null?{}:arguments[t$1];t$1%2?vj(Object(i$1),!0).forEach((function(t$2){iA(e$1,t$2,i$1[t$2])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e$1,Object.getOwnPropertyDescriptors(i$1)):vj(Object(i$1)).forEach((function(t$2){Object.defineProperty(e$1,t$2,Object.getOwnPropertyDescriptor(i$1,t$2))}))}return e$1}function Ij(e$1){var t$1;return!!CD(`ENABLE_AG_ADAPTATION`)&&!!(e$1 instanceof MM||Ln(t$1=e$1._hints).call(t$1,VP.CUSTOM_TRACK))&&(!!CD(`FORCE_SUPPORT_AG_ADAPTATION`)||!!(qw(14,0,!1)&&Xw(17,4,!0)||zw(14)&&Jw(17,4,!0)))}let Aj=new Map;function bj(e$1,t$1,i$1,n$1,r$1,o$1){if(wj(e$1,i$1),r$1(t$1),n$1!==`balanced`&&n$1!==`maintain-framerate`&&n$1!==`maintain-resolution`)return;let s$1=-1;Tj(e$1,t$1);let a$1=window.setInterval((()=>{let a$2=Aj.get(e$1);if(!CD(`ENABLE_AG_ADAPTATION`)||!a$2)return wj(e$1,i$1),void r$1(t$1);let c$2=o$1();if(c$2.sendPackets>0&&c$2.OutgoingAvailableBandwidth>0){if(s$1===-1)return void(s$1=Date.now());if(Date.now()-s$1<1e3)return;let o$2=c$2.sendFrameRate,d$1=c$2.OutgoingAvailableBandwidth,[l$1,u$1]=Cj(e$1,o$2,d$1,a$2.adaptationConfig,t$1,n$1);u$1&&(i$1.qualityLimitationReason=u$1),l$1&&a$2.adaptationConfig.scale!==l$1.scale&&(iP.debug(`[${e$1}] applyAdaptation: ${i$1.qualityLimitationReason}
           sendFps ${o$2}, bwe ${d$1}, switch from ${a$2.adaptationConfig.scale} to ${l$1.scale} `),a$2.adaptationConfig=yj(yj({},a$2.adaptationConfig),l$1),r$1(l$1))}}),CD(`CHECK_LOCAL_STATS_INTERVAL`)),c$1=yj({},t$1);Aj.set(e$1,{timer:a$1,adaptationConfig:c$1,originConfig:t$1,adaptationFunc:r$1}),iP.debug(`[${e$1}] start adaptation, originConfig: ${JSON.stringify(t$1)}, degradationPreference: ${n$1}`)}function wj(e$1,t$1){let i$1=Aj.get(e$1);if(i$1){let{timer:t$2}=i$1;window.clearTimeout(t$2),Aj.delete(e$1)}t$1.qualityLimitationReason=tD.NONE,Tj(e$1)}function Oj(e$1,t$1){var i$1;let n$1;switch(t$1){case Rx.LocalAudioTrack:n$1=ox.Audio;break;case Rx.LocalVideoTrack:n$1=Ln(i$1=e$1._hints).call(i$1,VP.SCREEN_TRACK)?ox.Screen:ox.High;break;case Rx.LocalVideoLowTrack:n$1=ox.Low}return n$1}function Nj(e$1){let t$1=pP();if(e$1.some((e$2=>e$2._bypassWebAudio)))throw new pO(hO.NOT_SUPPORTED,`cannot publish multiple tracks which one of them configured with bypassWebAudio`);if(!t$1.webAudioMediaStreamDest)throw new pO(hO.NOT_SUPPORTED,`cannot publish multiple tracks because your browser does not support audio mixing`)}function Dj(e$1,t$1){Nj(e$1);let i$1=t$1||new Wk;return e$1.forEach((e$2=>i$1.addAudioTrack(e$2))),i$1}let Pj=!pP().supportUnifiedPlan||CD(`CHROME_FORCE_PLAN_B`)&&sO();function Lj(e$1){let t$1=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e$1.useDcSignal)return i$1={spec:t$1,store:e$1},oB(`DataChannelConnection`).create(i$1);var i$1;return Pj?function(e$2){return oB(`PlanBConnection`).create(e$2)}({spec:t$1,store:e$1}):new Fj(t$1,e$1)}function kj(e$1){return e$1&&(e$1.iceConnectionState===`disconnected`||e$1.iceConnectionState===`checking`||e$1.iceConnectionState===`failed`)}function Mj(e$1){try{if(e$1.iceServers)return!1;if(e$1.turnServer&&e$1.turnServer.mode!==`off`){if(xO(e$1.turnServer.servers))return!1;if(CD(`FORCE_TURN_TCP`)||e$1.turnServer.servers.concat(e$1.turnServer.serversFromGateway||[]).some((e$2=>e$2.forceturn)))return!0}return!1}catch{return!1}}var Uj;function Vj(e$1,t$1){var i$1=Object.keys(e$1);if(Object.getOwnPropertySymbols){var n$1=Object.getOwnPropertySymbols(e$1);t$1&&(n$1=n$1.filter((function(t$2){return Object.getOwnPropertyDescriptor(e$1,t$2).enumerable}))),i$1.push.apply(i$1,n$1)}return i$1}function xj(e$1){for(var t$1=1;t$1<arguments.length;t$1++){var i$1=arguments[t$1]==null?{}:arguments[t$1];t$1%2?Vj(Object(i$1),!0).forEach((function(t$2){iA(e$1,t$2,i$1[t$2])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e$1,Object.getOwnPropertyDescriptors(i$1)):Vj(Object(i$1)).forEach((function(t$2){Object.defineProperty(e$1,t$2,Object.getOwnPropertyDescriptor(i$1,t$2))}))}return e$1}let Fj=(Uj=class e$1 extends mx{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get dtlsTransportState(){var e$2,t$1;return((t$1=this.peerConnection.getReceivers()[0])==null||(t$1=t$1.transport)==null?void 0:t$1.state)??null}get localCodecs(){return[...new Set(this.localCapabilities&&this.localCapabilities.send.videoCodecs.map((e$2=>e$2.rtpMap&&e$2.rtpMap.encodingName.toLowerCase()||``)).filter((e$2=>{var t$1;return Ln(t$1=Object.keys(AD)).call(t$1,e$2)})))]}constructor(t$1,i$1){super(t$1,i$1),iA(this,`id`,SN(5,`connection-`)),iA(this,`store`,void 0),iA(this,`peerConnection`,void 0),iA(this,`forceTurn`,!1),iA(this,`remoteSDP`,void 0),iA(this,`initialOffer`,void 0),iA(this,`transportEventReceiver`,void 0),iA(this,`statsFilter`,void 0),iA(this,`extension`,{useXR:CD(`USE_XR`)}),iA(this,`localCapabilities`,void 0),iA(this,`remoteCodecs`,void 0),iA(this,`localCandidateCount`,0),iA(this,`allCandidatesReceived`,!1),iA(this,`isPreallocation`,!1),iA(this,`isPreRender`,!1),iA(this,`preMediaMap`,new Map),iA(this,`dataStreamChannelMap`,new Map),iA(this,`establishPromise`,void 0),iA(this,`recoveredDataChannelIds`,[]),iA(this,`currentDataChannelId`,1),iA(this,`supportAV1RtpSpec`,!1),iA(this,`mutex`,void 0),iA(this,`qualityLimitationReason`,tD.NONE),iA(this,`isFirstConnected`,!1),this.store=i$1,this.forceTurn=Mj(t$1),this.mutex=new PN(`P2PConnection-mutex`,i$1.clientId),this.peerConnection=new RTCPeerConnection(e$1.resolvePCConfiguration(t$1),{optional:[{googDscp:!0}]}),this.isFirstConnected=!1,this.statsFilter=dD(this.peerConnection,CD(`STATS_UPDATE_INTERVAL`),void 0,Bw()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,t$1.isPreallocation&&(this.isPreallocation=!0),this.establishPromise=this.establish()}getPreMedia(e$2){return this.preMediaMap.get(e$2)}isPreSub(){return this.preMediaMap.size>0}async updateRemoteRTPCapabilities(e$2,t$1){if(this.remoteCodecs=t$1,!this.remoteSDP)return void iP.debug(`[P2PConnection] cannot updateRemoteRTPCapabilities before remote SDP created, local codecs: ${this.localCodecs}, codecs: ${t$1}`);if(this.remoteSDP.updateRemoteCodec(e$2,t$1,this.store.codec)){let e$3=await this.peerConnection.createOffer(),t$2=this.logSDPExchange(e$3.sdp||``,`offer`,`local`,`muteLocal`);await this.peerConnection.setLocalDescription(e$3);let i$1=this.remoteSDP.toString();t$2?.(i$1),await this.peerConnection.setRemoteDescription({type:`answer`,sdp:i$1})}else iP.debug(`[P2PConnection] updateRemoteRTPCapabilities no need to exchange SDP.`)}async establish(){try{this.peerConnection.addTransceiver(`video`,{direction:`recvonly`}),this.peerConnection.addTransceiver(`audio`,{direction:`recvonly`});let t$1=await this.peerConnection.createOffer();if(!t$1.sdp)throw Error(`Cannot get initialOffer.sdp when trying to establish PeerConnection.`);let i$1=OF(t$1.sdp),n$1=await jF({filterRTX:!CD(`USE_PUB_RTX`)&&!CD(`USE_SUB_RTX`),filterVideoFec:CD(`FILTER_VIDEO_FEC`),filterAudioFec:CD(`FILTER_AUDIO_FEC`),filterVideoCodec:CD(`FILTER_VIDEO_CODEC`),unsupportedVideoUplinkCodec:CD(`UNSUPPORTED_VIDEO_UPLINK_CODEC`),unsupportedVideoDownlinkCodec:CD(`UNSUPPORTED_VIDEO_DOWNLINK_CODEC`)},this.extension);if(this.localCapabilities=HF(n$1),this.initialOffer=t$1,CD(`ENABLE_SVC`)&&this.store.codec==`av1`){let t$2=await BF();var e$2;t$2&&(this.supportAV1RtpSpec=!0,(e$2=n$1.send)==null||e$2.videoExtensions.push(t$2))}let r$1;return t$1.sdp&&ZF(t$1.sdp)&&(r$1=sN(n$1),TF(r$1)),xj(xj({},i$1),{},{rtpCapabilities:r$1||n$1,offerSDP:t$1.sdp})}catch(e$3){throw new pO(hO.GET_LOCAL_CONNECTION_PARAMS_FAILED,e$3.toString())}}async connect(e$2){try{if(!this.initialOffer)throw Error(`Cannot establish P2PConnection without initial offer.`);this.initialOffer.sdp&&ZF(this.initialOffer.sdp)&&RF(e$2.rtpCapabilities,this.localCapabilities),this.remoteSDP=new _j(xj(xj({},e$2),{},{localCapabilities:this.localCapabilities}),this.supportAV1RtpSpec,!(!CD(`ENABLE_PRE_SUB_WITH_PRE_PC`)||!CD(`PRE_USE_LOCAL_CODECS`))&&mP(this.store)),e$2.preallocation&&(this.isPreallocation=!0),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0&&this.remoteSDP.updateRemoteCodec([],this.remoteCodecs,this.store.codec);let t$1=this.remoteSDP.toString(),i$1=XF(this.initialOffer.sdp,this.extension),n$1=this.logSDPExchange(i$1||``,`offer`,`local`,`connect`);this.store.descriptionStart(),await this.peerConnection.setLocalDescription({type:`offer`,sdp:i$1}),n$1?.(t$1),await this.peerConnection.setRemoteDescription({type:`answer`,sdp:t$1});let r$1=this.peerConnection.getTransceivers()[0];if(r$1!=null&&r$1.receiver&&this.tryBindTransportEvents(r$1.receiver),mP(this.store))if(e$2.preallocation&&CD(`ENABLE_PRE_SUB_WITH_PRE_PC`)){let e$3=CD(`PRE_SUB_NUM`),{mids:t$2,preSSRCs:i$2}=this.remoteSDP.preloadRemoteMedia(e$3);await qF(this.peerConnection,this.remoteSDP,this.extension),iP.debug(`[${this.store.clientId}] [P2PConnection] preload media, in pre pc,add preload ssrcs ${i$2}`),this.presetMedia(t$2,i$2)}else{let{preSSRCs:t$2=[]}=e$2,i$2=t$2.map((e$3=>e$3.ssrcMsg[0].ssrcId));if(t$2.length===0)return;let{mids:n$2}=this.remoteSDP.batchSend(t$2.map((e$3=>Object.assign({},e$3))));await qF(this.peerConnection,this.remoteSDP,this.extension),iP.debug(`[P2PConnection.connect] preload media, after join, add preload ssrcs ${i$2}`),this.presetMedia(n$2,i$2)}}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,`P2PConnection.connect failed; ${e$3.toString()}`)}}presetMedia(e$2,t$1){e$2.forEach(((e$3,i$1)=>{this.peerConnection.getTransceivers().forEach((n$1=>{if(n$1.mid!=null&&e$3===n$1.mid&&n$1.receiver.track){let r$1=n$1.receiver.track,o$1;r$1.kind===`video`&&CD(`ENABLE_PRE_RENDER`)&&(o$1=new Xk({trackId:`track-${r$1.kind}-unknown-${this.store.clientId}_${SN(5,``)}`},!0),o$1.updateVideoTrack(r$1),o$1.onFirstVideoFrameRender=()=>{var e$4;let n$2=this.preMediaMap.get(t$1[i$1]);n$2&&(n$2.firstVideoRender=Date.now()),(e$4=this.onFirstVideoRender)==null||e$4.call(this,t$1[i$1])},o$1.onVideoBufferReady=()=>{var e$4;(e$4=this.onFirstVideoBufferReady)==null||e$4.call(this,t$1[i$1])},o$1.play(this.store.sessionId||void 0),this.isPreRender=!0),this.preMediaMap.set(t$1[i$1],{mid:e$3,track:r$1,player:o$1,transceiver:n$1})}})),this.store.peerReceiver()}))}checkDtlsParameters(e$2){return!!this.remoteSDP&&e$2.length>0&&this.remoteSDP.updateRemoteDtlsParameters(e$2)}async updateRemoteConnect(e$2){try{if(!this.remoteSDP)throw Error(`Cannot call P2PConnection.updateRemoteConnect before remote SDP created`);let t$1=!1,{rtpCapabilities:i$1}=e$2;if([,t$1]=this.remoteSDP.updateRemoteRTPCapabilities(i$1),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0){let e$3=this.remoteSDP.updateRemoteCodec([],this.remoteCodecs,this.store.codec);t$1||=e$3}let{preSSRCs:n$1=[]}=e$2,r$1=n$1.map((e$3=>e$3.ssrcMsg[0].ssrcId));if(!this.remoteSDP.checkPreloadSsrcs(r$1)){let e$3=[],t$2=[];if(Array.from(this.preMediaMap.entries()).every((i$2=>{let[n$2,{mid:r$2,player:o$1,track:s$1}]=i$2;return e$3.push(r$2),t$2.push(n$2),this.preMediaMap.delete(n$2),o$1&&o$1.destroy(),!0})),e$3.length>0&&(this.remoteSDP.stopSending(e$3),await qF(this.peerConnection,this.remoteSDP,this.extension),iP.warn(`[P2PConnection.updateRemoteConnect] preload media, failed, del preload ssrcs ${t$2}`),lP.reportApiInvoke(this.store.sessionId,{name:LO.PRELOAD_MEDIA_FAILED,options:[n$1,t$2],tag:kO.TRACER}).onSuccess()),n$1.length>0){let{mids:e$4}=this.remoteSDP.batchSend(n$1.map((e$5=>Object.assign({},e$5))));await qF(this.peerConnection,this.remoteSDP,this.extension),iP.debug(`[P2PConnection.updateRemoteConnect] preload media, after join, add preload ssrcs ${r$1}`),this.presetMedia(e$4,r$1)}}t$1?(await qF(this.peerConnection,this.remoteSDP,this.extension),iP.debug(`[P2PConnection] updateRemoteConnect by exchanging SDP.`)):iP.debug(`[P2PConnection] updateRemoteConnect no need to exchange SDP, because no need to update remote codecs (use local codecs)`)}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,`P2PConnection.updateRemoteConnect failed; ${e$3.toString()}`)}}send(e$2,t$1,i$1){var n$1=this;return Mb((function*(){let r$1=yield Vb(n$1.mutex.lock(`From P2PConnection.send`));try{if(!n$1.remoteSDP)throw Error(`Cannot call P2PConnection.send before remote SDP created`);let o$1=[],s$1=SF();e$2.forEach((e$3=>{let t$2=n$1.peerConnection.addTransceiver(e$3._mediaStreamTrack,xj({direction:`sendonly`},e$3.trackMediaType===`video`&&n$1.supportAV1RtpSpec&&s$1?{sendEncodings:[{scalabilityMode:s$1}]}:{}));o$1.push(t$2),e$3._updateRtpTransceiver(t$2)})),Bw()&&!0===CD(`SIMULCAST`)&&(yield Vb(n$1.applySimulcastForFirefox(o$1,e$2)));let a$1=yield Vb(n$1.peerConnection.createOffer()),c$1=n$1.remoteSDP.predictReceivingMids(e$2.length),d$1=n$1.mungSendOfferSDP(a$1.sdp,e$2,c$1),l$1=LD(d$1),u$1=c$1.map((e$3=>{let t$2=l$1.mediaDescriptions.find((t$3=>t$3.attributes.mid===e$3));if(!t$2)throw Error(`Cannot extract ssrc from mediaDescription.`);return NF(t$2,CD(`USE_PUB_RTX`))})),h$1;try{h$1=yield u$1}catch(r$2){h$1=[],n$1.remoteSDP.receive(e$2,t$1,i$1,h$1);let o$2=n$1.remoteSDP.toString();throw yield Vb(n$1.peerConnection.setLocalDescription({type:`offer`,sdp:d$1})),yield Vb(n$1.peerConnection.setRemoteDescription({type:`answer`,sdp:o$2})),yield Vb(n$1.stopSending(c$1,!0)),r$2}n$1.remoteSDP.receive(e$2,t$1,i$1,h$1);let p$1=n$1.remoteSDP.toString(),_$1=n$1.logSDPExchange(d$1,`offer`,`local`,`send`);return yield Vb(n$1.peerConnection.setLocalDescription({type:`offer`,sdp:d$1})),yield Vb(n$1.applySimulcastEncodings(o$1,e$2)),yield Vb(n$1.applySendEncodings(o$1,e$2)),_$1?.(p$1),yield Vb(n$1.peerConnection.setRemoteDescription({type:`answer`,sdp:p$1})),o$1.map(((e$3,t$2)=>{let i$2=c$1[t$2];return{localSSRC:u$1[t$2],id:i$2,transceiver:e$3}}))}catch(e$3){throw e$3 instanceof pO?e$3:new pO(hO.EXCHANGE_SDP_FAILED,`P2PConnection.send failed; ${e$3.toString()}`)}finally{r$1()}}))()}async createDataChannels(e$2,t$1){try{if(!this.remoteSDP)throw Error(`Cannot call P2PConnection.createDataChannels before remote SDP created`);let i$1=this.dataStreamChannelMap.get(e$2);if(i$1&&i$1.readyState===`open`)iP.debug(`[P2PConnection] Channels are already available and can be reused directly.`);else{let t$2=this.currentDataChannelId<1023?this.currentDataChannelId++:this.recoveredDataChannelIds.shift();if(typeof t$2!=`number`)throw Error(`create DataChannel error, because cannot get dc id`);i$1=this.peerConnection.createDataChannel(`datastream-channel`,{id:t$2,negotiated:!0,ordered:!1,maxRetransmits:CD(`DATASTREAM_MAX_RETRANSMITS`)}),i$1.binaryType=`arraybuffer`,this.dataStreamChannelMap.set(e$2,i$1)}t$1.forEach((e$3=>{e$3._updateOriginDataChannel(i$1)}));let{needExchangeSDP:n$1}=this.remoteSDP.sendDataChannel();if(n$1){let e$3=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:`offer`,sdp:e$3});let t$2=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(t$2),iP.debug(`[P2PConnection] createDataChannels by exchanging SDP.`)}else iP.debug(`[P2PConnection] createDataChannels no need to exchange SDP.`);return}catch(e$3){throw e$3 instanceof pO?e$3:new pO(hO.EXCHANGE_SDP_FAILED,`P2PConnection.createDataChannels failed; ${e$3.toString()}`)}}async stopDataChannels(e$2){try{let t$1=this.dataStreamChannelMap.get(e$2);t$1&&(t$1.id&&this.recoveredDataChannelIds.push(t$1.id),t$1.close()),this.dataStreamChannelMap.delete(e$2);return}catch(e$3){throw e$3 instanceof pO?e$3:new pO(hO.DATACHANNEL_FAILED,`P2PConnection.stopDataChannels failed; ${e$3.toString()}`)}}async stopSending(e$2,t$1){let i$1=t$1?void 0:await this.mutex.lock(`From P2PConnection.stopSending`);try{if(!this.remoteSDP)throw Error(`Cannot call P2PConnection.stopSending before remote SDP created`);let t$2=this.peerConnection.getTransceivers().filter((t$3=>e$2.indexOf(t$3.mid)!==-1));if(t$2.length!==e$2.length)throw Error(`Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.`);t$2.map((e$3=>{var t$3;wj(this.id+e$3.mid,this),e$3.direction=`inactive`,(t$3=e$3.stop)==null||t$3.call(e$3)}));let n$1=await this.peerConnection.createOffer(),r$1=this.logSDPExchange(n$1.sdp||``,`offer`,`local`,`stopSending`);await this.peerConnection.setLocalDescription(n$1),this.remoteSDP.stopReceiving(e$2);let o$1=this.remoteSDP.toString();r$1?.(o$1),await this.peerConnection.setRemoteDescription({type:`answer`,sdp:o$1})}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,`P2PConnection.stopSending failed; ${e$3.toString()}`)}finally{i$1&&i$1()}}async receive(e$2,t$1,i$1,n$1){try{if(!this.remoteSDP)throw Error(`Cannot call P2PConnection.receive ${e$2} before remoteSDP created.`);let{mid:r$1,needExchangeSDP:o$1}=this.remoteSDP.send(e$2,t$1,i$1,n$1);o$1&&(await qF(this.peerConnection,this.remoteSDP,this.extension),iP.debug(`[${this.store.clientId}] [P2PConnection] receive ${e$2} by exchanging SDP.`));let s$1=this.peerConnection.getTransceivers().find((e$3=>e$3.mid===r$1));if(!s$1)throw Error(`Cannot get transceiver after setLocalDescription.`);return{track:s$1.receiver.track,id:r$1,transceiver:s$1}}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,`P2PConnection.receive failed; ${e$3.toString()}`)}}async batchReceive(e$2){try{if(!this.remoteSDP)throw Error(`Cannot call P2PConnection.batchReceive before remoteSDP created.`);let{mids:t$1,needExchangeSDP:i$1}=this.remoteSDP.batchSend(e$2);return i$1&&(await qF(this.peerConnection,this.remoteSDP,this.extension),iP.debug(`[${this.store.clientId}] [P2PConnection] batchReceive by exchanging SDP.`)),t$1.map((e$3=>{let t$2=this.peerConnection.getTransceivers().find((t$3=>t$3.mid===e$3));if(!t$2)throw Error(`Cannot get transceiver after setLocalDescription.`);return{track:t$2.receiver.track,id:e$3,transceiver:t$2}}))}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,`P2PConnection.receive failed; ${e$3.toString()}`)}}async stopReceiving(e$2){try{if(!this.remoteSDP)throw Error(`Cannot call P2PConnection.stopReceiving before remote SDP created.`);e$2.forEach((e$3=>{Array.from(this.preMediaMap.entries()).some((t$2=>{let[i$2,{mid:n$2,player:r$1}]=t$2;if(n$2===e$3)return this.preMediaMap.delete(i$2),r$1&&r$1.destroy(),!0}))})),this.remoteSDP.stopSending(e$2);let t$1=this.remoteSDP.toString(),i$1=this.logSDPExchange(t$1,`offer`,`remote`,`stopReceiving`);await this.peerConnection.setRemoteDescription({type:`offer`,sdp:t$1});let n$1=await this.peerConnection.createAnswer();i$1?.(n$1.sdp||``),await this.peerConnection.setLocalDescription(n$1)}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,`P2PConnection stopReceiving failed; ${e$3.toString()}`)}}async muteRemote(e$2){try{if(!this.remoteSDP)throw Error(`Cannot call P2PConnection.muteRemote mid=${e$2} before remote SDP created.`);this.remoteSDP.mute(e$2);let t$1=this.remoteSDP.toString(),i$1=this.logSDPExchange(t$1,`offer`,`remote`,`muteRemote`);await this.peerConnection.setRemoteDescription({type:`offer`,sdp:t$1});let n$1=await this.peerConnection.createAnswer();i$1?.(n$1.sdp||``),await this.peerConnection.setLocalDescription(n$1)}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,`P2PConnection.muteRemote failed; ${e$3.toString()}`)}}async unmuteRemote(e$2){try{if(!this.remoteSDP)throw Error(`Cannot call P2PConnection.unmuteRemote mid=${e$2} before remote SDP created.`);this.remoteSDP.unmute(e$2);let t$1=this.remoteSDP.toString(),i$1=this.logSDPExchange(t$1,`offer`,`remote`,`unmuteRemote`);await this.peerConnection.setRemoteDescription({type:`offer`,sdp:t$1});let n$1=await this.peerConnection.createAnswer();i$1?.(n$1.sdp||``),await this.peerConnection.setLocalDescription(n$1)}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,`P2PConnection.unmuteRemote failed; ${e$3.toString()}`)}}async muteLocal(e$2){try{if(!this.remoteSDP)throw Error(`Cannot call P2PConnection.muteLocal before remote SDP created.`);let t$1=this.peerConnection.getTransceivers().filter((t$2=>t$2.mid&&e$2.indexOf(t$2.mid)!==-1));if(t$1.length!==e$2.length)throw Error(`Transceivers' length doesn't match mids' length.`);t$1.map((e$3=>{e$3.direction=`inactive`}));let i$1=await this.peerConnection.createOffer(),n$1=this.logSDPExchange(i$1.sdp||``,`offer`,`local`,`muteLocal`);await this.peerConnection.setLocalDescription(i$1),this.remoteSDP.muteRemote(e$2);let r$1=this.remoteSDP.toString();n$1?.(r$1),await this.peerConnection.setRemoteDescription({type:`answer`,sdp:r$1})}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,`P2PConnection.muteLocal failed; ${e$3.toString()}`)}}async unmuteLocal(e$2){try{if(!this.remoteSDP)throw Error(`Cannot call P2PConnection.unmuteLocal before remote SDP created.`);let t$1=this.peerConnection.getTransceivers().filter((t$2=>t$2.mid&&e$2.indexOf(t$2.mid)!==-1));if(t$1.length!==e$2.length)throw Error(`Transceivers' length doesn't match mids' length.`);t$1.map((async(e$3,t$2)=>{e$3.direction=`sendonly`}));let i$1=await this.peerConnection.createOffer(),n$1=this.logSDPExchange(i$1.sdp||``,`offer`,`local`,`unmuteLocal`);await this.peerConnection.setLocalDescription(i$1),this.remoteSDP.unmuteRemote(e$2),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0&&this.remoteSDP.updateRemoteCodec(e$2,this.remoteCodecs,this.store.codec);let r$1=this.remoteSDP.toString();n$1?.(r$1),await this.peerConnection.setRemoteDescription({type:`answer`,sdp:r$1})}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,`P2PConnection.unmuteLocal failed; ${e$3.toString()}`)}}restartICE(e$2){var t$1=this;return Mb((function*(){let i$1=yield Vb(t$1.mutex.lock(`From P2PConnection.restartICE`));try{if(!t$1.remoteSDP)throw Error(`Cannot restartICE before remoteSDP created.`);let n$1=pP().supportPCSetConfiguration,r$1=CD(`FORCE_TURN_TCP`)||t$1.forceTurn;if(e$2===Sx.RELAY&&!n$1)return;if(n$1&&!r$1){let i$2=e$2===Sx.RELAY?`relay`:`all`,n$2=t$1.peerConnection.getConfiguration();n$2.iceTransportPolicy!==i$2&&(iP.debug(`[${t$1.store.clientId}] restartICE change iceTransportPolicy from [${n$2.iceTransportPolicy}] to [${i$2}]`),n$2.iceTransportPolicy=i$2,t$1.peerConnection.setConfiguration(n$2))}t$1.remoteSDP.updateCandidates(e$2);let o$1=yield Vb(t$1.peerConnection.createOffer({iceRestart:!0}));if(!o$1.sdp)throw Error(`Cannot restartICE because restart offer SDP does not exist.`);let{remoteIceParameters:a$1}=yield OF(o$1.sdp).iceParameters;t$1.remoteSDP.restartICE(a$1);let c$1=t$1.remoteSDP.toString(),d$1=t$1.logSDPExchange(o$1.sdp||``,`offer`,`local`,`restartICE`);t$1.store.descriptionStart(),yield Vb(t$1.peerConnection.setLocalDescription(o$1)),d$1?.(c$1),yield Vb(t$1.peerConnection.setRemoteDescription({type:`answer`,sdp:c$1}))}catch(e$3){iP.warning(`[${t$1.store.clientId}] restart ICE failed, abort operation`,e$3)}finally{i$1()}}))()}async extendCandidate(){if(!this.remoteSDP||this.isFirstConnected)return;let e$2=await this.mutex.lock(`From P2PConnection.extendCandidate`);try{this.remoteSDP.updateCandidates(Sx.TCP_RELAY),await qF(this.peerConnection,this.remoteSDP,this.extension)}catch(e$3){iP.warning(`[${this.store.clientId}] extend candidate failed, abort operation`,e$3)}finally{e$2()}}close(){var e$2;this.peerConnection.getTransceivers().forEach((e$3=>{wj(this.id+e$3.mid,this)})),this.preMediaMap.forEach((e$3=>{let{player:t$1}=e$3;t$1&&t$1.destroy()})),this.preMediaMap.clear(),this.peerConnection.close(),(e$2=this.onConnectionStateChange)==null||e$2.call(this,`closed`),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.transportEventReceiver=void 0,this.statsFilter.destroy(),this.dataStreamChannelMap.clear(),this.recoveredDataChannelIds=[],this.currentDataChannelId=1}getStats(){return xj(xj({},this.statsFilter.getStats()),{},{qualityLimitationReason:this.qualityLimitationReason})}getRemoteVideoIsReady(e$2){return this.statsFilter.getVideoIsReady(e$2)}async updateEncoderConfig(e$2,t$1){try{if(!this.remoteSDP)throw Error(`Cannot call P2PConnection.updateEncoderConfig before remote SDP created.`);let i$1=await this.peerConnection.createOffer(),n$1=this.mungSendOfferSDP(i$1.sdp,[t$1],[e$2]);this.remoteSDP.updateRecvMedia(e$2,t$1);let r$1=this.remoteSDP.toString(),o$1=this.logSDPExchange(n$1,`offer`,`local`,`updateEncoderConfig`);await this.peerConnection.setLocalDescription({type:`offer`,sdp:n$1}),o$1?.(r$1),await this.peerConnection.setRemoteDescription({type:`answer`,sdp:r$1})}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,e$3.toString())}}async updateSendParameters(e$2,t$1){let i$1=this.peerConnection.getTransceivers().filter((t$2=>t$2.mid===e$2));i$1.length===1&&(this.isVP8Simulcast(t$1)?Bw()||await this.applySimulcastEncodings(i$1,[t$1]):await this.applySendEncodings(i$1,[t$1]))}setStatsRemoteVideoIsReady(e$2,t$1){this.statsFilter.setVideoIsReady2(e$2,t$1)}async replaceTrack(e$2,t$1){let i$1=this.peerConnection.getTransceivers().find((e$3=>e$3.mid===t$1));i$1&&await i$1.sender.replaceTrack(e$2._mediaStreamTrack)}async getSelectedCandidatePair(){let e$2=this.peerConnection.getReceivers();if(e$2.length>0&&e$2[0].transport&&e$2[0].transport.iceTransport&&e$2[0].transport.iceTransport.getSelectedCandidatePair&&e$2[0].transport.iceTransport.getSelectedCandidatePair()){let{local:i$1,remote:n$1}=e$2[0].transport.iceTransport.getSelectedCandidatePair();return{local:xj(xj({},zN),{},{candidateType:i$1.type,protocol:i$1.protocol,address:i$1.address,port:i$1.port}),remote:xj(xj({},zN),{},{candidateType:n$1.type,protocol:n$1.protocol,address:n$1.address,port:n$1.port})}}return this.statsFilter.getSelectedCandidatePair()}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e$2;(e$2=this.onICEConnectionStateChange)==null||e$2.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e$2;this.peerConnection.connectionState===`connected`&&(this.isFirstConnected=!0),(e$2=this.onConnectionStateChange)==null||e$2.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidateerror=e$2=>{if(e$2&&(e$2.errorCode||e$2.errorText)){var t$1;let i$1=`code: ${e$2.errorCode}, message: ${e$2.errorText}`,n$1=e$2.port?`local: ${e$2.port}`:``,r$1=mF(e$2.url||``);iP.debug(`[${this.store.clientId}] [p2pId: ${this.store.p2pId}]: P2PConnection.onICECandidateError(${i$1}), url: ${r$1||``}, host_candidate:${n$1}`),(t$1=this.onICECandidateError)==null||t$1.call(this,i$1)}},this.peerConnection.onicegatheringstatechange=e$2=>{e$2&&e$2.target&&`iceGatheringState`in e$2.target&&iP.debug(`[${this.store.clientId}] [pc-${this.store.p2pId}] RTCPeerConnection.onicegatheringstatechange(${e$2.target.iceGatheringState})`)},this.peerConnection.onicecandidate=e$2=>{e$2.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,iP.debug(`[${this.store.clientId}] [pc-${this.store.p2pId}] local candidate count`,this.localCandidateCount))},setTimeout((()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,iP.debug(`[${this.store.clientId}] [pc-${this.store.p2pId}] onicecandidate timeout, local candidate count`,this.localCandidateCount))}),CD(`CANDIDATE_TIMEOUT`))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(t$1){let i$1={iceServers:[]},n$1=t$1.cloudProxyServer||`disabled`;return t$1.iceServers?i$1.iceServers=t$1.iceServers:t$1.turnServer&&(xO(t$1.turnServer.servers)?i$1.iceServers=t$1.turnServer.servers:CD(`NEW_TURN_MODE`)&&i$1.iceServers&&n$1===`disabled`?(CD(`USE_TURN_SERVER_OF_GATEWAY`)?t$1.turnServer.serversFromGateway&&i$1.iceServers.push(...e$1.newTurnServerConfigToIceServers(t$1.turnServer.serversFromGateway)):i$1.iceServers.push(...e$1.newTurnServerConfigToIceServers(t$1.turnServer.servers)),CD(`NEW_FORCE_TURN`)&&(i$1.iceTransportPolicy=`relay`)):t$1.turnServer.mode!==`off`&&(i$1.iceServers&&i$1.iceServers.push(...e$1.turnServerConfigToIceServers(t$1.turnServer.servers)),CD(`USE_TURN_SERVER_OF_GATEWAY`)&&i$1.iceServers&&t$1.turnServer.serversFromGateway&&i$1.iceServers.push(...e$1.turnServerConfigToIceServers(t$1.turnServer.serversFromGateway)),CD(`FORCE_TURN_TCP`)?i$1.iceTransportPolicy=`relay`:t$1.turnServer.servers.concat(t$1.turnServer.serversFromGateway||[]).forEach((e$2=>{e$2.forceturn&&(i$1.iceTransportPolicy=`relay`)})))),CD(`ENABLE_ENCODED_TRANSFORM`)&&pP().supportWebRTCEncodedTransform&&(i$1.encodedInsertableStreams=!0),i$1}static turnServerConfigToIceServers(e$2){let t$1=[];return e$2.forEach((e$3=>{e$3.security?e$3.tcpport&&t$1.push({username:e$3.username,credential:e$3.password,credentialType:`password`,urls:`turns:${sF(e$3.turnServerURL)}:${e$3.tcpport}?transport=tcp`}):(e$3.udpport&&!CD(`FORCE_TURN_TCP`)&&t$1.push({username:e$3.username,credential:e$3.password,credentialType:`password`,urls:`turn:${e$3.turnServerURL}:${e$3.udpport}?transport=udp`}),e$3.tcpport&&t$1.push({username:e$3.username,credential:e$3.password,credentialType:`password`,urls:`turn:${e$3.turnServerURL}:${e$3.tcpport}?transport=tcp`}))})),t$1}static newTurnServerConfigToIceServers(e$2){let t$1=[];return e$2.forEach((e$3=>{let i$1=CD(`NEW_TURN_MODE`);i$1===1?t$1.push({username:e$3.username,credential:e$3.password,credentialType:`password`,urls:`turn:${e$3.turnServerURL}:3478?transport=udp`}):i$1===2?t$1.push({username:e$3.username,credential:e$3.password,credentialType:`password`,urls:`turn:${e$3.turnServerURL}:3478?transport=tcp`}):i$1===3?t$1.push({username:e$3.username,credential:e$3.password,credentialType:`password`,urls:`turns:${sF(e$3.turnServerURL)}:443?transport=tcp`}):i$1===4&&(t$1.push({username:e$3.username,credential:e$3.password,credentialType:`password`,urls:`turn:${e$3.turnServerURL}:3478?transport=udp`}),t$1.push({username:e$3.username,credential:e$3.password,credentialType:`password`,urls:`turn:${e$3.turnServerURL}:3478?transport=tcp`}),t$1.push({username:e$3.username,credential:e$3.password,credentialType:`password`,urls:`turns:${sF(e$3.turnServerURL)}:443?transport=tcp`}))})),t$1}tryBindTransportEvents(e$2){let t$1=e$2.transport;if(t$1){this.transportEventReceiver=e$2,t$1.onstatechange=()=>{var e$3;t$1!=null&&t$1.state&&((e$3=this.onDTLSTransportStateChange)==null||e$3.call(this,t$1.state))},t$1.onerror=e$3=>{var t$2;(t$2=this.onDTLSTransportError)==null||t$2.call(this,`error`in e$3?e$3.error:e$3)};let i$1=t$1.iceTransport;i$1&&(i$1.onstatechange=()=>{let e$3=t$1?.iceTransport.state;var i$2;e$3&&((i$2=this.onICETransportStateChange)==null||i$2.call(this,e$3))},i$1.getSelectedCandidatePair&&(i$1.onselectedcandidatepairchange=()=>{if(i$1.getSelectedCandidatePair()){let{local:e$3,remote:t$2}=i$1.getSelectedCandidatePair()||{};if(e$3&&t$2){let i$2=e$3.address+`:`+e$3.port,n$1=t$2.address+`:`+t$2.port;iP.info(`[${this.store.clientId}] [pc-${this.store.p2pId}] selectedcandidatepairchange: local ${JSON.stringify(mF(i$2))}, remote ${JSON.stringify(mF(n$1))}`)}}}))}}tryUnbindTransportEvents(){this.transportEventReceiver&&this.transportEventReceiver.transport&&(this.transportEventReceiver.transport.onstatechange=null,this.transportEventReceiver.transport.onerror=null,this.transportEventReceiver.transport.iceTransport&&(this.transportEventReceiver.transport.iceTransport.onstatechange=null))}async updateRtpSenderEncodings(e$2,t$1){var i$1,n$1;if(t$1||=this.peerConnection.getSenders().find((t$2=>t$2.track===e$2._mediaStreamTrack)),!t$1)return iP.warn(`[${e$2.getTrackId()}] no rtpSender found}`);if(this.isVP8Simulcast(e$2))return iP.warn(`[updateRtpSenderEncodings] Track is VP8 simulcast, please apply simulcast encodings`);if(!pP().supportSetRtpSenderParameters)return iP.warn(`[updateRtpSenderEncodings] Browser not support set rtp-sender parameters`);let r$1={},o$1={};switch(e$2._optimizationMode){case`motion`:r$1.degradationPreference=`maintain-framerate`;break;case`detail`:r$1.degradationPreference=`maintain-resolution`;break;case`balanced`:r$1.degradationPreference=`balanced`}let s$1=fF(this.peerConnection,e$2._mediaStreamTrack),a$1=JL(e$2);if(Ij(e$2)&&s$1&&t$1&&a$1&&this.getLocalVideoStats&&Ln(i$1=[`vp8`,`vp9`]).call(i$1,this.store.codec)){var c$1;let i$2=r$1.degradationPreference||(Ln(c$1=e$2._hints).call(c$1,VP.CUSTOM_TRACK)?CD(`CUSTOM_ADAPTATION_DEFAULT_MODE`):`maintain-framerate`);bj(this.id+s$1.mid,a$1,this,i$2,(e$3=>{t$1&&this.updateAdaptation(t$1,e$3)}),this.getLocalVideoStats.bind(this))}if(e$2._encoderConfig){var d$1;let{bitrateMax:t$2,frameRate:i$2,scaleResolutionDownBy:n$2}=e$2._encoderConfig;t$2&&(o$1.maxBitrate=1e3*t$2),(Ln(d$1=e$2._hints).call(d$1,VP.LOW_STREAM)||e$2.isUseScaleResolutionDownBy)&&(i$2&&(o$1.maxFramerate=dF(i$2)),n$2&&n$2>=1&&(o$1.scaleResolutionDownBy=n$2))}let{maxFramerate:l$1}=CD(`ENCODER_CONFIG_LIMIT`);if(l$1&&typeof l$1==`number`&&(o$1.maxFramerate=o$1.maxFramerate?Math.min(o$1.maxFramerate,l$1):l$1),CD(`DSCP_TYPE`)&&sO()){var u$1;let e$3=CD(`DSCP_TYPE`);Ln(u$1=[`very-low`,`low`,`medium`,`high`]).call(u$1,e$3)&&(o$1.networkPriority=e$3)}let h$1=t$1.getParameters(),p$1=h$1.encodings?.[0];Bw()&&!p$1&&(r$1.encodings=[o$1]),p$1&&Object.assign(p$1,o$1),Object.assign(h$1,r$1),iP.debug(`[${e$2.getTrackId()}] updateRtpSenderEncodings: ${JSON.stringify(h$1.encodings)}`),await t$1.setParameters(h$1),await QF(this.store.codec,t$1,CD(`SVC_MODE`))}async updateAdaptation(e$2,t$1){var i$1,n$1;if(!e$2)return iP.debug(`[updateAdaptation] no rtpSender found`);if(!pP().supportSetRtpSenderParameters)return iP.debug(`[updateAdaptation] Browser not support set rtp-sender parameters`);let r$1={},{bitrateMax:o$1,frameRate:s$1,scaleResolutionDownBy:a$1}=t$1;o$1&&(r$1.maxBitrate=1e3*o$1),s$1&&(r$1.maxFramerate=dF(s$1)),a$1&&a$1>=1&&Ln(i$1=[`vp8`,`vp9`]).call(i$1,this.store.codec)&&(r$1.scaleResolutionDownBy=a$1);let c$1=e$2.getParameters(),d$1=c$1.encodings?.[0];d$1&&Object.assign(d$1,r$1),Object.assign(c$1,{});try{await e$2.setParameters(c$1),iP.debug(`[updateAdaptation] updateRtpSenderEncodings: ${JSON.stringify(c$1.encodings)}`)}catch(t$2){!(`transport`in e$2)||e$2.transport&&e$2.transport.state===`connected`?this.peerConnectionState===`connected`?iP.debug(`[updateAdaptation] updateRtpSenderEncodings failed`,t$2):iP.debug(`[updateAdaptation] peerConnection not connected}`):iP.debug(`[updateAdaptation] rtpSender transport not connected}`)}}async applySendEncodings(e$2,t$1){try{if(!pP().supportSetRtpSenderParameters||e$2.length!==t$1.length)return;for(let i$1=0;i$1<e$2.length;i$1++){let n$1=e$2[i$1],r$1=t$1[i$1];r$1 instanceof kM&&!this.isVP8Simulcast(r$1)&&await this.updateRtpSenderEncodings(r$1,n$1.sender)}}catch{iP.debug(`[${this.store.clientId}] Apply RTPSendEncodings failed.`)}}mungSendOfferSDP(e$2,t$1,i$1){if(CD(`FORBID_MODIFY_LOCAL_OFFER_SDP`))return e$2;let n$1=LD(e$2);return t$1.forEach(((e$3,t$2)=>{let r$1=i$1[t$2],o$1=n$1.mediaDescriptions.find((e$4=>e$4.attributes.mid===r$1));o$1&&(kF(o$1,e$3),FF(o$1,e$3,this.store.codec))})),kD(n$1)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e$2=>{var t$1;(t$1=this.onFirstAudioReceived)==null||t$1.call(this,e$2)},this.statsFilter.onFirstVideoReceived=e$2=>{var t$1;(t$1=this.onFirstVideoReceived)==null||t$1.call(this,e$2)},this.statsFilter.onFirstAudioDecoded=e$2=>{var t$1;(t$1=this.onFirstAudioDecoded)==null||t$1.call(this,e$2)},this.statsFilter.onFirstVideoDecoded=(e$2,t$1,i$1)=>{var n$1;(n$1=this.onFirstVideoDecoded)==null||n$1.call(this,e$2,t$1,i$1)},this.statsFilter.onSelectedLocalCandidateChanged=(e$2,t$1)=>{var i$1;(i$1=this.onSelectedLocalCandidateChanged)==null||i$1.call(this,e$2,t$1)},this.statsFilter.onSelectedRemoteCandidateChanged=(e$2,t$1)=>{var i$1;(i$1=this.onSelectedRemoteCandidateChanged)==null||i$1.call(this,e$2,t$1)},this.statsFilter.onFirstVideoDecodedTimeout=e$2=>{var t$1;(t$1=this.onFirstVideoDecodedTimeout)==null||t$1.call(this,e$2)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(e$2,t$1){if(e$2.length===t$1.length)for(let a$1=0;a$1<e$2.length;a$1++){var i$1,n$1,r$1,o$1,s$1;let c$1=e$2[a$1],d$1=t$1[a$1];if(d$1 instanceof kM&&!Ln(i$1=d$1._hints).call(i$1,VP.LOW_STREAM)&&(n$1=d$1._encoderConfig)!=null&&n$1.bitrateMax&&d$1._encoderConfig?.bitrateMax>200&&(o$1=d$1._scalabilityMode)!=null&&o$1.numSpatialLayers&&d$1._scalabilityMode?.numSpatialLayers>1&&this.store.codec===`vp8`){let e$3={},t$2={high:1e3*(d$1._encoderConfig.bitrateMax-50),medium:5e4};e$3.encodings=[{rid:`m`,active:!0,maxBitrate:t$2.medium,scaleResolutionDownBy:4},{rid:`h`,active:!0,maxBitrate:t$2.high}];let i$2=c$1.sender.getParameters();await c$1.sender.setParameters(Object.assign(i$2,e$3))}}}async applySimulcastEncodings(e$2,t$1){if(!Bw()&&e$2.length===t$1.length)for(let i$1=0;i$1<e$2.length;i$1++){let n$1=t$1[i$1];if(n$1 instanceof kM&&this.isVP8Simulcast(n$1)){let t$2=e$2[i$1],r$1={},o$1={high:1e3*(n$1._encoderConfig.bitrateMax-50),medium:5e4};r$1.encodings=[{active:!0,adaptivePtime:!1,networkPriority:`high`,priority:`high`,maxBitrate:o$1.high},{active:!0,adaptivePtime:!1,networkPriority:`low`,priority:`low`,maxBitrate:o$1.medium,scaleResolutionDownBy:4}];let s$1=t$2.sender.getParameters();await t$2.sender.setParameters(Object.assign(s$1,r$1))}}}isVP8Simulcast(e$2){var t$1,i$1,n$1,r$1,o$1;return!!(e$2 instanceof kM&&CD(`SIMULCAST`)&&this.store.codec===`vp8`&&!Ln(t$1=e$2._hints).call(t$1,VP.LOW_STREAM)&&(i$1=e$2._encoderConfig)!=null&&i$1.bitrateMax&&e$2._encoderConfig?.bitrateMax>200&&(r$1=e$2._scalabilityMode)!=null&&r$1.numSpatialLayers&&e$2._scalabilityMode?.numSpatialLayers>1)}logSDPExchange(e$2,t$1,i$1,n$1){if(CD(`SDP_LOGGING`))return iP.upload(`[${this.store.clientId}] exchanging ${i$1} ${t$1} SDP during P2PConnection.${n$1}
`,e$2),t$1===`offer`?e$3=>{this.logSDPExchange(e$3,`answer`,i$1===`local`?`remote`:`local`,n$1)}:void 0}async getRemoteSSRC(e$2){if(!this.remoteSDP)return;let t$1=this.remoteSDP.getSSRC(e$2);return t$1&&t$1.length!==0?t$1[0].ssrcId:void 0}setConfiguration(t$1){if(pP().supportPCSetConfiguration){let i$1=e$1.resolvePCConfiguration(t$1);this.peerConnection.setConfiguration(i$1)}t$1.isPreallocation&&(this.isPreallocation=!0)}},DV(Uj.prototype,`updateRemoteRTPCapabilities`,[Bj],Object.getOwnPropertyDescriptor(Uj.prototype,`updateRemoteRTPCapabilities`),Uj.prototype),DV(Uj.prototype,`connect`,[Bj],Object.getOwnPropertyDescriptor(Uj.prototype,`connect`),Uj.prototype),DV(Uj.prototype,`updateRemoteConnect`,[Bj],Object.getOwnPropertyDescriptor(Uj.prototype,`updateRemoteConnect`),Uj.prototype),DV(Uj.prototype,`createDataChannels`,[Bj],Object.getOwnPropertyDescriptor(Uj.prototype,`createDataChannels`),Uj.prototype),DV(Uj.prototype,`receive`,[Bj],Object.getOwnPropertyDescriptor(Uj.prototype,`receive`),Uj.prototype),DV(Uj.prototype,`batchReceive`,[Bj],Object.getOwnPropertyDescriptor(Uj.prototype,`batchReceive`),Uj.prototype),DV(Uj.prototype,`stopReceiving`,[Bj],Object.getOwnPropertyDescriptor(Uj.prototype,`stopReceiving`),Uj.prototype),DV(Uj.prototype,`muteRemote`,[Bj],Object.getOwnPropertyDescriptor(Uj.prototype,`muteRemote`),Uj.prototype),DV(Uj.prototype,`unmuteRemote`,[Bj],Object.getOwnPropertyDescriptor(Uj.prototype,`unmuteRemote`),Uj.prototype),DV(Uj.prototype,`muteLocal`,[Bj],Object.getOwnPropertyDescriptor(Uj.prototype,`muteLocal`),Uj.prototype),DV(Uj.prototype,`unmuteLocal`,[Bj],Object.getOwnPropertyDescriptor(Uj.prototype,`unmuteLocal`),Uj.prototype),DV(Uj.prototype,`close`,[Bj],Object.getOwnPropertyDescriptor(Uj.prototype,`close`),Uj.prototype),DV(Uj.prototype,`updateEncoderConfig`,[Bj],Object.getOwnPropertyDescriptor(Uj.prototype,`updateEncoderConfig`),Uj.prototype),DV(Uj.prototype,`updateSendParameters`,[Bj],Object.getOwnPropertyDescriptor(Uj.prototype,`updateSendParameters`),Uj.prototype),DV(Uj.prototype,`replaceTrack`,[Bj],Object.getOwnPropertyDescriptor(Uj.prototype,`replaceTrack`),Uj.prototype),DV(Uj.prototype,`updateAdaptation`,[Bj],Object.getOwnPropertyDescriptor(Uj.prototype,`updateAdaptation`),Uj.prototype),DV(Uj.prototype,`getRemoteSSRC`,[Bj],Object.getOwnPropertyDescriptor(Uj.prototype,`getRemoteSSRC`),Uj.prototype),Uj);function Bj(e$1,t$1,i$1){let n$1=e$1[t$1];if(typeof n$1!=`function`)throw Error(`Cannot use mutex on object property.`);return i$1.value=async function(){let i$2=await this.mutex.lock(`From P2PConnection.${t$1}`);try{var o$1=[...arguments];return await n$1.apply(this,o$1)}finally{i$2()}},i$1}function jj(e$1,t$1){let i$1=document.createElement(`video`),n$1=document.createElement(`canvas`);i$1.setAttribute(`style`,`display:none`),n$1.setAttribute(`style`,`display:none`),i$1.setAttribute(`muted`,``),i$1.muted=!0,i$1.setAttribute(`autoplay`,``),i$1.autoplay=!0,i$1.setAttribute(`playsinline`,``),n$1.width=dF(t$1.width),n$1.height=dF(t$1.height);let r$1=dF(t$1.framerate||15);document.body.append(i$1),document.body.append(n$1);let o$1=e$1._mediaStreamTrack;i$1.srcObject=new MediaStream([o$1]),i$1.play().catch(TN);let s$1=n$1.getContext(`2d`);if(!s$1)throw new uP(hO.UNEXPECTED_ERROR,`can not get canvas context`);let a$1=pP(),c$1=n$1.captureStream(a$1.supportRequestFrame?0:r$1).getVideoTracks()[0];c$1.canvas||=n$1,n$1.startCapture=()=>{if(!i$1)return n$1.stopCapture&&n$1.stopCapture();if(i$1.paused&&i$1.play(),i$1.videoHeight>2&&i$1.videoWidth>2){let e$2=i$1.videoWidth,t$2=i$1.videoHeight/e$2,r$2=n$1.width*t$2;Math.abs(r$2-n$1.height)>=2&&(iP.debug(`adjust low stream resolution`,`${n$1.width}x${n$1.height} -> ${n$1.width}x${r$2}`),n$1.height=r$2)}s$1.drawImage(i$1,0,0,n$1.width,n$1.height),c$1.requestFrame&&c$1.requestFrame(),o$1!==e$1._mediaStreamTrack&&(o$1=e$1._mediaStreamTrack,i$1.srcObject=new MediaStream([o$1]))},n$1.stopCapture=SL((()=>n$1.startCapture&&n$1.startCapture()),r$1);let d$1=c$1.stop;return c$1.stop=()=>{d$1.call(c$1),i$1&&=(i$1.remove(),i$1.srcObject=null,null),n$1&&=(n$1.width=0,n$1.remove(),n$1.stopCapture&&n$1.stopCapture(),n$1.startCapture=void 0,n$1.stopCapture=void 0,null),iP.debug(`clean low stream renderer`)},c$1}var Gj=function(e$1){return e$1[e$1.Video_Send_Type=190]=`Video_Send_Type`,e$1}(Gj||{}),Wj=function(e$1){return e$1[e$1.Video_Send_Qp_Sum=2143]=`Video_Send_Qp_Sum`,e$1[e$1.Video_Send_Freeze=2082]=`Video_Send_Freeze`,e$1[e$1.Video_Recv_Qp_Sum=2144]=`Video_Recv_Qp_Sum`,e$1[e$1.Video_Recv_Freeze=2084]=`Video_Recv_Freeze`,e$1[e$1.Video_Render_Freeze_Time=2109]=`Video_Render_Freeze_Time`,e$1[e$1.Video_Render_Freeze_Time_Render=2147]=`Video_Render_Freeze_Time_Render`,e$1[e$1.Video_Render_Freeze_Time_Render2=2223]=`Video_Render_Freeze_Time_Render2`,e$1[e$1.Audio_Recv_Freeze=2083]=`Audio_Recv_Freeze`,e$1}(Wj||{}),Hj=function(e$1){return e$1[e$1.Video_Send_Retransmit=2062]=`Video_Send_Retransmit`,e$1[e$1.Video_Send_Target_Encoded=2064]=`Video_Send_Target_Encoded`,e$1[e$1.Video_Send_Actual_Encoded=2060]=`Video_Send_Actual_Encoded`,e$1[e$1.Video_Send_Transmit=2066]=`Video_Send_Transmit`,e$1[e$1.Video_Send_Bandwidth=2061]=`Video_Send_Bandwidth`,e$1[e$1.Video_Capture_Height=2033]=`Video_Capture_Height`,e$1[e$1.Video_Capture_Width=2035]=`Video_Capture_Width`,e$1[e$1.Video_Capture_Frame_Rate=2034]=`Video_Capture_Frame_Rate`,e$1[e$1.Video_Send_Low_Height=2073]=`Video_Send_Low_Height`,e$1[e$1.Video_Send_Low_Frame_Rate=2075]=`Video_Send_Low_Frame_Rate`,e$1[e$1.Video_Send_Low_Width=2077]=`Video_Send_Low_Width`,e$1[e$1.Video_Send_Low_Bitrate=2069]=`Video_Send_Low_Bitrate`,e$1[e$1.Video_Send_Low_Package_Lost=2070]=`Video_Send_Low_Package_Lost`,e$1[e$1.Video_Send_Low_Package_Rate=2071]=`Video_Send_Low_Package_Rate`,e$1[e$1.Video_Send_Frame_Rate=2002]=`Video_Send_Frame_Rate`,e$1[e$1.Video_Send_Width=2003]=`Video_Send_Width`,e$1[e$1.Video_Send_Height=2004]=`Video_Send_Height`,e$1[e$1.Video_Send_Disabled=2095]=`Video_Send_Disabled`,e$1[e$1.Video_Send_Adaptation=2032]=`Video_Send_Adaptation`,e$1[e$1.Video_Send_Player_Status=2128]=`Video_Send_Player_Status`,e$1[e$1.Video_Send_Nacks=2009]=`Video_Send_Nacks`,e$1[e$1.Video_Send_Plis=2010]=`Video_Send_Plis`,e$1[e$1.Video_Send_Firs=2011]=`Video_Send_Firs`,e$1[e$1.Video_Send_Avg_Encode=2007]=`Video_Send_Avg_Encode`,e$1[e$1.Video_Send_Huge_Frame_Sent=2174]=`Video_Send_Huge_Frame_Sent`,e$1[e$1.Video_Send_Bytes_Retransmit=2173]=`Video_Send_Bytes_Retransmit`,e$1[e$1.Video_Send_Packages_Retransmit=2172]=`Video_Send_Packages_Retransmit`,e$1[e$1.Video_Send_Key_Frames_Encoded=2207]=`Video_Send_Key_Frames_Encoded`,e$1[e$1.Video_Send_Bitrate=2012]=`Video_Send_Bitrate`,e$1[e$1.Video_Send_Package_Rate=2031]=`Video_Send_Package_Rate`,e$1[e$1.Video_Send_Package_Lost=2005]=`Video_Send_Package_Lost`,e$1[e$1.Audio_Capture_PCM_Level=2104]=`Audio_Capture_PCM_Level`,e$1[e$1.Audio_Send_Level=2038]=`Audio_Send_Level`,e$1[e$1.Audio_Send_Bitrate=2039]=`Audio_Send_Bitrate`,e$1[e$1.Audio_Send_Package_Rate=2040]=`Audio_Send_Package_Rate`,e$1[e$1.Audio_Send_AEC_Return_Loss=2041]=`Audio_Send_AEC_Return_Loss`,e$1[e$1.Audio_Send_AEC_Return_Loss_Enhancement=2042]=`Audio_Send_AEC_Return_Loss_Enhancement`,e$1[e$1.Audio_Send_Freeze=2081]=`Audio_Send_Freeze`,e$1[e$1.Audio_Send_Disabled=2096]=`Audio_Send_Disabled`,e$1[e$1.Audio_Send_Bytes_Retransmit=2179]=`Audio_Send_Bytes_Retransmit`,e$1[e$1.Audio_Send_Packages_Retransmit=2180]=`Audio_Send_Packages_Retransmit`,e$1[e$1.Video_Recv_Height=2019]=`Video_Recv_Height`,e$1[e$1.Video_Recv_Width=2018]=`Video_Recv_Width`,e$1[e$1.Video_Recv_Frame_Rate_Output=2155]=`Video_Recv_Frame_Rate_Output`,e$1[e$1.Video_Recv_Jitter_Buffer=2023]=`Video_Recv_Jitter_Buffer`,e$1[e$1.Video_Recv_Current_Delay=2024]=`Video_Recv_Current_Delay`,e$1[e$1.Video_Recv_Nacks=2026]=`Video_Recv_Nacks`,e$1[e$1.Video_Recv_Plis=2027]=`Video_Recv_Plis`,e$1[e$1.Video_Recv_Firs=2028]=`Video_Recv_Firs`,e$1[e$1.Video_Recv_Disabled=2101]=`Video_Recv_Disabled`,e$1[e$1.Video_Recv_Player_Status=2129]=`Video_Recv_Player_Status`,e$1[e$1.Video_Recv_I_Frame_Delay=2149]=`Video_Recv_I_Frame_Delay`,e$1[e$1.Video_Render_Frame_Rate_Render=2022]=`Video_Render_Frame_Rate_Render`,e$1[e$1.Video_Render_Freeze_Duration=2156]=`Video_Render_Freeze_Duration`,e$1[e$1.Audio_Render_Level=2043]=`Audio_Render_Level`,e$1[e$1.Audio_Render_Freeze_Time_80ms=2226]=`Audio_Render_Freeze_Time_80ms`,e$1[e$1.Audio_Render_Freeze_Time_200ms=2227]=`Audio_Render_Freeze_Time_200ms`,e$1[e$1.Audio_Render_Freeze_Samples_80ms=2228]=`Audio_Render_Freeze_Samples_80ms`,e$1[e$1.Audio_Render_Freeze_Samples_200ms=2229]=`Audio_Render_Freeze_Samples_200ms`,e$1[e$1.Audio_Recv_PCM_Level=2105]=`Audio_Recv_PCM_Level`,e$1[e$1.Audio_Recv_Disabled=2102]=`Audio_Recv_Disabled`,e$1[e$1.Audio_Recv_Jitter_Buffer=2054]=`Audio_Recv_Jitter_Buffer`,e$1[e$1.Audio_Recv_Current_Delay=2047]=`Audio_Recv_Current_Delay`,e$1[e$1.Audio_Recv_Player_Status=2130]=`Audio_Recv_Player_Status`,e$1[e$1.Audio_Recv_Bitrate=2044]=`Audio_Recv_Bitrate`,e$1[e$1.Audio_Recv_Concealed_Samples=2148]=`Audio_Recv_Concealed_Samples`,e$1[e$1.Audio_Recv_Total_Samples_Received=2224]=`Audio_Recv_Total_Samples_Received`,e$1}(Hj||{}),Kj=function(e$1){return e$1[e$1.Video_Render_Frame_Rate_Decode=2021]=`Video_Render_Frame_Rate_Decode`,e$1[e$1.Video_Recv_Frame_Rate=2020]=`Video_Recv_Frame_Rate`,e$1[e$1.Video_Recv_Frame_Dropped=2181]=`Video_Recv_Frame_Dropped`,e$1[e$1.Video_Recv_Bytes_Retransmit=2175]=`Video_Recv_Bytes_Retransmit`,e$1[e$1.Video_Recv_Packages_Retransmit=2176]=`Video_Recv_Packages_Retransmit`,e$1[e$1.Video_Recv_Packages_Discarded=2198]=`Video_Recv_Packages_Discarded`,e$1[e$1.Video_Recv_Avg_Decode=2200]=`Video_Recv_Avg_Decode`,e$1[e$1.Video_Recv_Avg_Processing_Delay=2202]=`Video_Recv_Avg_Processing_Delay`,e$1[e$1.Video_Recv_Avg_Assembly_Time=2203]=`Video_Recv_Avg_Assembly_Time`,e$1[e$1.Video_Recv_Avg_Inter_Frame_Delay=2204]=`Video_Recv_Avg_Inter_Frame_Delay`,e$1[e$1.Video_Recv_Key_Frames_Decoded=2206]=`Video_Recv_Key_Frames_Decoded`,e$1[e$1.Video_Recv_Package_Lost=2014]=`Video_Recv_Package_Lost`,e$1[e$1.Video_Recv_Bitrate=2029]=`Video_Recv_Bitrate`,e$1[e$1.Video_Recv_Package_Rate=2078]=`Video_Recv_Package_Rate`,e$1[e$1.Audio_Recv_Jitter=2055]=`Audio_Recv_Jitter`,e$1[e$1.Audio_Recv_Bytes_Retransmit=2178]=`Audio_Recv_Bytes_Retransmit`,e$1[e$1.Audio_Recv_Packages_Retransmit=2177]=`Audio_Recv_Packages_Retransmit`,e$1[e$1.Audio_Recv_Packages_Discarded=2199]=`Audio_Recv_Packages_Discarded`,e$1[e$1.Audio_Recv_Avg_Processing_Delay=2201]=`Audio_Recv_Avg_Processing_Delay`,e$1[e$1.Audio_Recv_Package_Rate=2046]=`Audio_Recv_Package_Rate`,e$1[e$1.Audio_Recv_Package_Lost=2045]=`Audio_Recv_Package_Lost`,e$1[e$1.Audio_Recv_AV_Sync_TIME=2237]=`Audio_Recv_AV_Sync_TIME`,e$1}(Kj||{}),Yj=function(e$1){return e$1[e$1.RTT=2006]=`RTT`,e$1[e$1.CONN_TYPE=801]=`CONN_TYPE`,e$1[e$1.STATS_UPDATE_INTERVAL=2205]=`STATS_UPDATE_INTERVAL`,e$1}(Yj||{}),zj=function(e$1){return e$1[e$1.RTC_PEER_CONNECTION_STATE=2219]=`RTC_PEER_CONNECTION_STATE`,e$1[e$1.PAGE_VISIBILITY=2233]=`PAGE_VISIBILITY`,e$1}(zj||{}),qj=function(e$1){return e$1[e$1.Transport_Send_Bitrate=2234]=`Transport_Send_Bitrate`,e$1[e$1.Transport_Recv_Bitrate=2235]=`Transport_Recv_Bitrate`,e$1}(qj||{});let Xj=1e3,Jj=6,Qj=3,Zj=60;function $j(e$1,t$1,i$1){i$1!=null&&Number.isFinite(i$1)&&(e$1[t$1]=Math.round(Math.max(0,i$1)))}function eG(e$1){let t$1={[Yj.CONN_TYPE]:0,[Yj.RTT]:e$1.rtt,[Yj.STATS_UPDATE_INTERVAL]:e$1.updateInterval?Math.round(Math.max(0,e$1.updateInterval)):void 0};switch(e$1.selectedCandidatePair.localCandidate.candidateType){case`relay`:{let i$1=e$1.selectedCandidatePair.localCandidate.relayProtocol;i$1===`udp`&&(t$1[Yj.CONN_TYPE]=1),i$1===`tcp`&&(t$1[Yj.CONN_TYPE]=3),i$1===`tls`&&(t$1[Yj.CONN_TYPE]=4);break}case`srflx`:t$1[Yj.CONN_TYPE]=2;break;case`unknown`:t$1[Yj.CONN_TYPE]=5;break;default:t$1[Yj.CONN_TYPE]=0}return t$1}function tG(e$1){let t$1=0;switch(e$1){case`none`:t$1=0;break;case`cpu`:t$1=1;break;case`bandwidth`:t$1=2;break;case`other`:t$1=3}return t$1}class iG extends NO{constructor(e$1){super(),iA(this,`store`,void 0),iA(this,`uploadWRTCStatsTimer`,void 0),iA(this,`uploadOutboundDenoiserStatsTimer`,void 0),iA(this,`uploadExtStatsTimer`,void 0),iA(this,`uploadExtUsageStatsTimer`,void 0),iA(this,`uploadInboundExtStatsTimer`,void 0),iA(this,`requestStats`,void 0),iA(this,`requestTransportStats`,void 0),iA(this,`requestLocalMedia`,void 0),iA(this,`requestRemoteMedia`,void 0),iA(this,`requestAllTracks`,void 0),iA(this,`requestVideoIsReady`,void 0),iA(this,`requestUploadStats`,void 0),iA(this,`requestUpload`,void 0),iA(this,`uploadOutboundStarted`,!1),iA(this,`uploadInboundStarted`,!1),iA(this,`uploadTransportStarted`,!1),iA(this,`uploadBaseStatsStarted`,!1),iA(this,`uploadExtensionUsageStarted`,!1),iA(this,`lastRecvStats`,void 0),iA(this,`lastSendStats`,void 0),iA(this,`lastRefRecvStats`,void 0),iA(this,`lastRefSendStats`,void 0),iA(this,`lastNormalRecvStats`,void 0),iA(this,`lastNormalSendStats`,void 0),iA(this,`lastExtendStats`,{}),iA(this,`needUploadStats`,{}),iA(this,`needUploadRenderFreezeTime`,!0),iA(this,`lastUploadCompensateTime`,-1),iA(this,`uploadCompensateDeltaTime`,0),this.store=e$1}uploadWRTCStats(e$1){if(!this.requestStats||!this.requestUploadStats)return;let t$1=e$1%3==0,i$1=e$1%6==0,n$1=e$1%60==0,r$1,o$1;if(this.uploadTransportStarted&&(r$1=this.requestStats(),this.store.useP2P&&(o$1=this.requestStats(!0))),!r$1&&this.uploadOutboundStarted&&(r$1=this.requestStats()),!o$1&&this.uploadInboundStarted&&(o$1=this.requestStats(!0)),r$1||o$1){var s$1;let a$1={};if(this.uploadTransportStarted&&r$1){let e$2=this.getTransportStats(r$1,t$1?this.lastRefSendStats:void 0,o$1,t$1);e$2&&(a$1.misc=[e$2])}if(this.uploadOutboundStarted&&r$1){let e$2=this.getOutboundStats(r$1,i$1?this.lastNormalSendStats:void 0,t$1?this.lastRefSendStats:void 0,this.lastSendStats,n$1);e$2&&(a$1.outbound=[e$2])}if(this.uploadInboundStarted&&o$1){this.uploadCompensateStats(e$1);let n$2=this.getInboundStats(o$1,i$1?this.lastNormalRecvStats:void 0,t$1?this.lastRefRecvStats:void 0,this.lastRecvStats);n$2&&(a$1.inbound=n$2)}let c$1=this.requestTransportStats?.call(this).connectState;if(c$1&&(Array.isArray(a$1.misc)?a$1.misc[0]&&a$1.misc[0].addition&&(a$1.misc[0].addition[zj.RTC_PEER_CONNECTION_STATE]=nD[c$1]):a$1.misc=[{addition:{[zj.RTC_PEER_CONNECTION_STATE]:nD[c$1]}}]),eU.needUploadStats.length>0||i$1){let e$2=eU.needUploadStats.shift()||(eU.visibility===`visible`?1:0);Array.isArray(a$1.misc)?a$1.misc[0]&&a$1.misc[0].addition&&(a$1.misc[0].addition[zj.PAGE_VISIBILITY]=e$2):a$1.misc=[{addition:{[zj.PAGE_VISIBILITY]:e$2}}]}this.needUploadStats.sendType&&(Array.isArray(a$1.outbound)&&a$1.outbound[0]&&a$1.outbound[0].high&&(a$1.outbound[0].high[Gj.Video_Send_Type]=this.needUploadStats.sendType),this.needUploadStats.sendType=void 0),this.requestUploadStats(a$1)}this.lastRecvStats=o$1,this.lastSendStats=r$1,i$1&&(this.lastNormalRecvStats=o$1,this.lastNormalSendStats=r$1),t$1&&(this.lastRefRecvStats=o$1,this.lastRefSendStats=r$1)}startUploadWRTCStats(){if(this.uploadWRTCStatsTimer)return;this.uploadBaseStatsStarted=!0,eU.startCollectStats();let e$1=1;this.uploadWRTCStatsTimer=window.setInterval((()=>{if(!this.uploadTransportStarted&&!this.uploadInboundStarted&&!this.uploadOutboundStarted){if(this.uploadBaseStatsStarted){var t$1,i$1;let e$2=this.requestTransportStats?.call(this);e$2&&((i$1=this.requestUploadStats)==null||i$1.call(this,{misc:[{addition:{[zj.RTC_PEER_CONNECTION_STATE]:nD[e$2.connectState]}}]}));return}return this.stopUploadWRTCStats()}this.uploadWRTCStats(e$1),++e$1===61&&(e$1=1)}),Xj)}uploadCompensateStats(e$1){if(!this.requestStats||!this.requestUploadStats||!this.requestRemoteMedia)return;let t$1=e$1%3==0&&this.needUploadRenderFreezeTime;if(!this.uploadInboundStarted||!t$1)return;if(this.lastUploadCompensateTime===-1)return void(this.lastUploadCompensateTime=Date.now());let i$1=Math.max(-6e3,Date.now()-this.lastUploadCompensateTime-6e3);if(this.uploadCompensateDeltaTime+=i$1,this.lastUploadCompensateTime=Date.now(),this.uploadCompensateDeltaTime<6e3)return;let n$1=Math.min(Math.floor(this.uploadCompensateDeltaTime/6e3),10);this.uploadCompensateDeltaTime-=6e3*n$1;let r$1=this.requestStats(!0);Array(n$1).fill(0).forEach((()=>{if(!this.requestStats||!this.requestUploadStats||!this.requestRemoteMedia)return;let e$2={};if(this.uploadInboundStarted&&r$1){let t$2=this.requestRemoteMedia()||[],i$2=[];t$2.forEach((e$3=>{let[t$3,n$2]=e$3,o$1={peer:t$3.uid};if(t$3._videoSSRC&&this.requestVideoIsReady&&this.requestVideoIsReady(t$3._videoSSRC)&&n$2.has(fx.VIDEO)&&t$3.videoTrack){let e$4=function(e$5,t$4,i$3){if(!t$4.videoRecv.find((t$5=>t$5.ssrc===e$5)))return;let n$3={};if(i$3&&i$3._player){let e$6=i$3._player,{renderFreezeAccTime2:t$5,videoElementStatus:r$2}=e$6;if(eU.visibility===`visible`&&r$2===tL.PLAYING&&pP().supportRequestVideoFrameCallback){let i$4=Math.min(6e3,t$5);e$6.renderFreezeAccTime2=Math.max(0,t$5-i$4),$j(n$3,Wj.Video_Render_Freeze_Time_Render2,i$4),CD(`USE_NEW_RENDER_FREEZE_TIME`)&&$j(n$3,Wj.Video_Render_Freeze_Time_Render,i$4)}}return n$3}(t$3._videoSSRC,r$1,t$3.videoTrack);e$4&&(o$1.video=e$4)}o$1.video&&i$2.push(o$1)})),i$2.length>0&&(e$2.inbound=i$2,this.requestUploadStats(e$2))}}))}stopUploadWRTCStats(){window.clearInterval(this.uploadWRTCStatsTimer),this.uploadWRTCStatsTimer=void 0,this.lastSendStats&&=(this.lastSendStats.videoSend=[],this.lastSendStats.audioSend=[],void 0),this.lastRecvStats&&=(this.lastRecvStats.videoRecv=[],this.lastRecvStats.audioRecv=[],void 0),this.lastRefSendStats&&=(this.lastRefSendStats.videoSend=[],this.lastRefSendStats.audioSend=[],void 0),this.lastRefRecvStats&&=(this.lastRefRecvStats.videoRecv=[],this.lastRefRecvStats.audioRecv=[],void 0),this.lastNormalSendStats&&=(this.lastNormalSendStats.videoSend=[],this.lastNormalSendStats.audioSend=[],void 0),this.lastNormalRecvStats&&=(this.lastNormalRecvStats.videoRecv=[],this.lastNormalRecvStats.audioRecv=[],void 0),this.lastExtendStats={},this.needUploadStats={},this.lastUploadCompensateTime=-1,this.uploadCompensateDeltaTime=0,this.needUploadRenderFreezeTime=!0}getTransportStats(e$1,t$1,i$1,n$1){if(!this.requestStats)return;if(!n$1)return e$1.rtt==null?void 0:{addition:{[Yj.RTT]:e$1.rtt,[Yj.CONN_TYPE]:void 0,[Yj.STATS_UPDATE_INTERVAL]:e$1.updateInterval||void 0}};let r$1=eG(e$1);if(this.store.useP2P){if(i$1){let e$2=eG(i$1);r$1[Yj.CONN_TYPE]&&e$2[Yj.CONN_TYPE]&&(r$1[Yj.CONN_TYPE]+=e$2[Yj.CONN_TYPE]<<3)}r$1[Yj.CONN_TYPE]?r$1[Yj.CONN_TYPE]+=110:r$1[Yj.CONN_TYPE]=110}else{r$1[Yj.CONN_TYPE]?r$1[Yj.CONN_TYPE]+=100:r$1[Yj.CONN_TYPE]=100;let i$2=function(e$2,t$2){return t$2?[Math.ceil(8*(e$2.transport.bytesSent-t$2.transport.bytesSent)/(e$2.timestamp-t$2.timestamp)),Math.ceil(8*(e$2.transport.bytesReceived-t$2.transport.bytesReceived)/(e$2.timestamp-t$2.timestamp))]:[0,0]}(e$1,t$1);r$1[qj.Transport_Send_Bitrate]=i$2[0],r$1[qj.Transport_Recv_Bitrate]=i$2[1]}return{addition:r$1}}getOutboundStats(e$1,t$1,i$1,n$1,r$1){if(!this.requestUploadStats||!this.requestLocalMedia)return;let o$1=this.requestLocalMedia();if(!o$1||o$1.length===0)return;let s$1,a$1,c$1;return o$1.forEach((n$2=>{let[o$2,{track:d$1,ssrcs:l$1}]=n$2;switch(o$2){case Rx.LocalVideoLowTrack:case Rx.LocalVideoTrack:if(o$2===Rx.LocalVideoTrack){var u$1;let n$3=function(e$2,t$2,i$2,n$4,r$2,o$4){let s$3=t$2.videoSend.find((t$3=>t$3.ssrc===e$2));if(!s$3)return;let a$2={},{sentFrame:c$3,inputFrame:d$2}=s$3;if(n$4&&($j(a$2,Wj.Video_Send_Qp_Sum,s$3.qpSumPerFrame),d$2&&c$3)){let e$3=d$2.frameRate,t$3=c$3.frameRate;a$2[Wj.Video_Send_Freeze]=function(e$4,t$4){let i$3=!0;return i$3=!(e$4<=5)&&(e$4<=10?t$4<3:e$4<=20?t$4<4:t$4<5),i$3}(e$3,t$3)?1:0}if(r$2){switch(c$3&&($j(a$2,Hj.Video_Send_Height,c$3.height),$j(a$2,Hj.Video_Send_Width,c$3.width),$j(a$2,Hj.Video_Send_Frame_Rate,c$3.frameRate)),a$2[Hj.Video_Send_Disabled]=i$2._originMediaStreamTrack&&!i$2._originMediaStreamTrack.enabled||i$2._mediaStreamTrack&&!i$2._mediaStreamTrack.enabled?1:0,s$3.adaptionChangeReason){case`none`:a$2[Hj.Video_Send_Adaptation]=0;break;case`cpu`:a$2[Hj.Video_Send_Adaptation]=1;break;case`bandwidth`:a$2[Hj.Video_Send_Adaptation]=2;break;case`other`:a$2[Hj.Video_Send_Adaptation]=3}let n$5=0;s$3.adaptionChangeReason&&(n$5+=tG(s$3.adaptionChangeReason)),t$2.qualityLimitationReason&&(n$5+=tG(t$2.qualityLimitationReason)<<3),a$2[Hj.Video_Send_Adaptation]=n$5,a$2[Hj.Video_Send_Player_Status]=nL[i$2._player?i$2._player.videoElementStatus:`uninit`],$j(a$2,Hj.Video_Send_Nacks,s$3.nacksCount),$j(a$2,Hj.Video_Send_Plis,s$3.plisCount),$j(a$2,Hj.Video_Send_Firs,s$3.firsCount),$j(a$2,Hj.Video_Send_Avg_Encode,s$3.avgEncodeMs),$j(a$2,Hj.Video_Send_Huge_Frame_Sent,s$3.hugeFramesSent),$j(a$2,Hj.Video_Send_Bytes_Retransmit,s$3.retransmittedBytesSent),$j(a$2,Hj.Video_Send_Packages_Retransmit,s$3.retransmittedPacketsSent),$j(a$2,Hj.Video_Send_Key_Frames_Encoded,s$3.keyFramesEncoded);let o$5=r$2.videoSend.find((t$3=>t$3.ssrc===e$2));if(o$5){let e$3=Xj*3;o$5.timestamp&&s$3.timestamp&&(e$3=s$3.timestamp-o$5.timestamp),o$5.packets!=null&&s$3.packets!=null&&$j(a$2,Hj.Video_Send_Package_Rate,1e3*(s$3.packets-o$5.packets)/e$3),s$3.packetsLost!=null&&o$5.packetsLost!=null&&$j(a$2,Hj.Video_Send_Package_Lost,s$3.packetsLost-o$5.packetsLost),o$5.bytes!=null&&s$3.bytes!=null&&$j(a$2,Hj.Video_Send_Bitrate,8*(s$3.bytes-o$5.bytes)/e$3)}}return a$2}(l$1[0].ssrcId,e$1,d$1,t$1,i$1),o$3=d$1.__className__===`CameraVideoTrack`?3:Ln(u$1=d$1._hints).call(u$1,VP.SCREEN_TRACK)?7:10;(this.lastExtendStats.sendType!==o$3||r$1)&&(this.needUploadStats={sendType:o$3},this.lastExtendStats.sendType=o$3);let s$2=d$1&&function(e$2,t$2,i$2,n$4){let r$2=t$2.videoSend.find((t$3=>t$3.ssrc===e$2));if(!r$2)return null;let o$4={};if(n$4){let e$3=r$2.inputFrame,t$3=e$3&&e$3.height||i$2.videoHeight||0,n$5=e$3&&e$3.width||i$2.videoWidth||0,s$3=e$3&&e$3.frameRate||0;$j(o$4,Hj.Video_Capture_Height,t$3),$j(o$4,Hj.Video_Capture_Width,n$5),$j(o$4,Hj.Video_Capture_Frame_Rate,s$3)}return o$4}(l$1[0].ssrcId,e$1,d$1,!!i$1),c$2=function(e$2,t$2){let i$2={};return t$2&&($j(i$2,Hj.Video_Send_Retransmit,e$2.bitrate.retransmit),$j(i$2,Hj.Video_Send_Target_Encoded,e$2.bitrate.targetEncoded),$j(i$2,Hj.Video_Send_Actual_Encoded,e$2.bitrate.actualEncoded),$j(i$2,Hj.Video_Send_Transmit,e$2.bitrate.transmit),$j(i$2,Hj.Video_Send_Bandwidth,e$2.sendBandwidth)),i$2}(e$1,!!i$1);a$1=Object.assign({},n$3,s$2,c$2)}else c$1=function(e$2,t$2,i$2,n$3,r$2){let o$3=t$2.videoSend.find((t$3=>t$3.ssrc===e$2));if(!o$3)return;let s$2={};if(n$3){let t$3=o$3.sentFrame;t$3&&($j(s$2,Hj.Video_Send_Low_Height,t$3.height),$j(s$2,Hj.Video_Send_Low_Width,t$3.width),$j(s$2,Hj.Video_Send_Low_Frame_Rate,t$3.frameRate));let i$3=n$3.videoSend.find((t$4=>t$4.ssrc===e$2));if(i$3){let e$3=Xj*6;i$3.timestamp&&o$3.timestamp&&(e$3=o$3.timestamp-i$3.timestamp),i$3.packets!=null&&o$3.packets!=null&&$j(s$2,Hj.Video_Send_Low_Package_Rate,1e3*(o$3.packets-i$3.packets)/e$3),o$3.packetsLost!=null&&i$3.packetsLost!=null&&$j(s$2,Hj.Video_Send_Low_Package_Lost,o$3.packetsLost-i$3.packetsLost),i$3.bytes!=null&&o$3.bytes!=null&&$j(s$2,Hj.Video_Send_Low_Bitrate,8*(o$3.bytes-i$3.bytes)/e$3)}}return s$2}(l$1[0].ssrcId,e$1,0,i$1);break;case Rx.LocalAudioTrack:s$1=d$1&&function(e$2,t$2,i$2,n$3,r$2,o$3){let s$2=t$2.audioSend.find((t$3=>t$3.ssrc===e$2));if(!s$2)return;let a$2={};if(r$2){a$2[Hj.Audio_Send_Disabled]=i$2._originMediaStreamTrack&&!i$2._originMediaStreamTrack.enabled||i$2._mediaStreamTrack&&!i$2._mediaStreamTrack.enabled?1:0;let t$3=100*i$2._source.getAccurateVolumeLevel(),n$4=s$2.inputLevel;if(n$4!=null){let e$3=Math.ceil(50*Math.log10(100*n$4+1));$j(a$2,Hj.Audio_Send_Level,e$3)}$j(a$2,Hj.Audio_Capture_PCM_Level,t$3),$j(a$2,Hj.Audio_Send_AEC_Return_Loss,s$2.aecReturnLoss),$j(a$2,Hj.Audio_Send_AEC_Return_Loss_Enhancement,s$2.aecReturnLossEnhancement),$j(a$2,Hj.Audio_Send_Bytes_Retransmit,s$2.retransmittedBytesSent),$j(a$2,Hj.Audio_Send_Packages_Retransmit,s$2.retransmittedPacketsSent),a$2[Hj.Audio_Send_Freeze]=0;let o$4=r$2.audioSend.find((t$4=>t$4.ssrc===e$2));if(o$4){let e$3=Xj*6;o$4.timestamp&&s$2.timestamp&&(e$3=s$2.timestamp-o$4.timestamp),o$4.bytes!=null&&s$2.bytes!=null&&$j(a$2,Hj.Audio_Send_Bitrate,8*(s$2.bytes-o$4.bytes)/e$3),o$4.packets!=null&&s$2.packets!=null&&$j(a$2,Hj.Audio_Send_Package_Rate,1e3*(s$2.packets-o$4.packets)/e$3)}}return a$2}(l$1[0].ssrcId,e$1,d$1,0,i$1)}})),{high:a$1,low:c$1,audio:s$1}}getInboundStats(e$1,t$1,i$1,n$1){if(!this.requestRemoteMedia)return;let r$1=this.requestRemoteMedia()||[],o$1=[];return r$1.forEach((r$2=>{let[s$1,a$1]=r$2,c$1={peer:s$1.uid},d$1;if(a$1.has(fx.VIDEO)&&s$1.videoTrack){let r$3=s$1._videoSSRC&&this.requestVideoIsReady&&this.requestVideoIsReady(s$1._videoSSRC)||!1,o$2=s$1.videoTrack?function(e$2,t$2,i$2,n$2,r$4,o$3,s$2,a$2){let c$2=t$2.videoRecv.find((t$3=>t$3.ssrc===e$2));if(!c$2)return;let d$2={},{receivedFrame:l$1,outputFrame:u$1,decodeFrameRate:h$1}=c$2;$j(d$2,Kj.Video_Render_Frame_Rate_Decode,h$1),c$2.framesRateFirefox&&$j(d$2,Kj.Video_Recv_Frame_Rate,c$2.framesRateFirefox),l$1&&$j(d$2,Kj.Video_Recv_Frame_Rate,l$1.frameRate),$j(d$2,Kj.Video_Recv_Frame_Dropped,c$2.framesDroppedCount),$j(d$2,Kj.Video_Recv_Bytes_Retransmit,c$2.retransmittedBytesReceived),$j(d$2,Kj.Video_Recv_Packages_Retransmit,c$2.retransmittedPacketsReceived),$j(d$2,Kj.Video_Recv_Packages_Discarded,c$2.packetsDiscarded),$j(d$2,Kj.Video_Recv_Avg_Decode,c$2.avgDecodeMs),$j(d$2,Kj.Video_Recv_Avg_Processing_Delay,c$2.avgProcessingDelayMs),$j(d$2,Kj.Video_Recv_Avg_Assembly_Time,c$2.avgFramesAssembledFromMultiplePacketsMs),$j(d$2,Kj.Video_Recv_Avg_Inter_Frame_Delay,c$2.avgInterFrameDelayMs),$j(d$2,Kj.Video_Recv_Key_Frames_Decoded,c$2.keyFramesDecoded);let p$1=a$2&&a$2.videoRecv.find((t$3=>t$3.ssrc===e$2));if(p$1){let e$3=t$2.timestamp-a$2.timestamp||Xj;c$2.packetsLost!=null&&p$1.packetsLost!=null&&$j(d$2,Kj.Video_Recv_Package_Lost,c$2.packetsLost-p$1.packetsLost),p$1.bytes!=null&&c$2.bytes!=null&&$j(d$2,Kj.Video_Recv_Bitrate,8*(c$2.bytes-p$1.bytes)/e$3),p$1.packets!=null&&c$2.packets!=null&&$j(d$2,Kj.Video_Recv_Package_Rate,1e3*(c$2.packets-p$1.packets)/e$3)}let _$1=o$3&&o$3.videoRecv.find((t$3=>t$3.ssrc===e$2));if(_$1&&($j(d$2,Wj.Video_Recv_Qp_Sum,c$2.qpSumPerFrame),d$2[Wj.Video_Recv_Freeze]=n$2&&rj.isRemoteVideoFreeze(i$2,c$2,_$1)?1:0),s$2){var E$1;let t$3=s$2.videoRecv.find((t$4=>t$4.ssrc===e$2));l$1?($j(d$2,Hj.Video_Recv_Height,l$1.height),$j(d$2,Hj.Video_Recv_Width,l$1.width)):i$2&&($j(d$2,Hj.Video_Recv_Height,i$2._videoHeight||0),$j(d$2,Hj.Video_Recv_Width,i$2._videoWidth||0)),u$1&&$j(d$2,Hj.Video_Recv_Frame_Rate_Output,u$1.frameRate);let n$3=i$2._player?.rendFrameRate.toFixed(0);if(n$3&&$j(d$2,Hj.Video_Render_Frame_Rate_Render,+n$3),$j(d$2,Hj.Video_Recv_Jitter_Buffer,c$2.jitterBufferMs),$j(d$2,Hj.Video_Recv_Current_Delay,c$2.currentDelayMs),$j(d$2,Hj.Video_Recv_Firs,c$2.firsCount),$j(d$2,Hj.Video_Recv_Nacks,c$2.nacksCount),$j(d$2,Hj.Video_Recv_Plis,c$2.plisCount),i$2){d$2[Hj.Video_Recv_Disabled]=i$2._originMediaStreamTrack.enabled&&i$2._mediaStreamTrack.enabled?0:1;let e$3=i$2._player;if(e$3){let{freezeTimeCounterList:i$3,renderFreezeAccTime:n$4,renderFreezeAccTime2:o$4,videoElementStatus:s$3}=e$3;if(i$3&&i$3.length>0&&$j(d$2,Wj.Video_Render_Freeze_Time,i$3.splice(0,1)[0]),r$4&&eU.visibility===`visible`&&s$3===tL.PLAYING&&pP().supportRequestVideoFrameCallback){let t$4=Math.min(6e3,o$4);e$3.renderFreezeAccTime2=Math.max(0,o$4-t$4),$j(d$2,Wj.Video_Render_Freeze_Time_Render2,t$4);let i$4=Math.min(6e3,n$4);e$3.renderFreezeAccTime=Math.max(0,n$4-i$4),$j(d$2,Wj.Video_Render_Freeze_Time_Render,CD(`USE_NEW_RENDER_FREEZE_TIME`)?t$4:i$4)}if(typeof c$2.totalFreezesDuration==`number`){let e$4=t$3&&t$3.totalFreezesDuration?c$2.totalFreezesDuration-t$3.totalFreezesDuration:c$2.totalFreezesDuration;$j(d$2,Hj.Video_Render_Freeze_Duration,1e3*e$4)}}}if(d$2[Hj.Video_Recv_Player_Status]=nL[i$2._player?i$2._player.videoElementStatus:`uninit`],t$3&&c$2.totalInterFrameDelay!==void 0&&c$2.totalSquaredInterFrameDelay!==void 0&&t$3.totalInterFrameDelay!==void 0&&t$3.totalSquaredInterFrameDelay!==void 0){let e$3=c$2.totalInterFrameDelay-t$3.totalInterFrameDelay,i$3=c$2.totalSquaredInterFrameDelay-t$3.totalSquaredInterFrameDelay,n$4=c$2.framesDecodeCount-t$3.framesDecodeCount,r$5=e$3/n$4*1e3,o$4=Math.round(1e3*Math.sqrt((i$3-e$3**2/n$4)/n$4));!isNaN(o$4)&&r$5+o$4>Math.max(3*r$5,r$5+150)&&(d$2[Hj.Video_Recv_I_Frame_Delay]=o$4)}}return d$2}(s$1._videoSSRC,e$1,s$1.videoTrack,!0===r$3,this.needUploadRenderFreezeTime,t$1,i$1,n$1):void 0;if(o$2&&(c$1.video=o$2),s$1.videoTrack){let t$2=e$1.videoRecv.find((e$2=>e$2.ssrc===s$1._videoSSRC));t$2&&t$2.estimatedPlayoutTimestamp&&(d$1=t$2.estimatedPlayoutTimestamp)}}if(a$1.has(fx.AUDIO)&&s$1.audioTrack){let r$3=s$1.audioTrack?function(e$2,t$2,i$2,n$2,r$4,o$2){let s$2=t$2.audioRecv.find((t$3=>t$3.ssrc===e$2));if(!s$2)return;let a$2={};$j(a$2,Kj.Audio_Recv_Jitter,s$2.jitterMs),$j(a$2,Kj.Audio_Recv_Bytes_Retransmit,s$2.retransmittedBytesReceived),$j(a$2,Kj.Audio_Recv_Packages_Retransmit,s$2.retransmittedPacketsReceived),$j(a$2,Kj.Audio_Recv_Packages_Discarded,s$2.packetsDiscarded),$j(a$2,Kj.Audio_Recv_Avg_Processing_Delay,s$2.avgProcessingDelayMs);let c$2=o$2&&o$2.audioRecv.find((t$3=>t$3.ssrc===e$2));if(c$2){let e$3=Xj;s$2.packets!=null&&c$2.packets!=null&&$j(a$2,Kj.Audio_Recv_Package_Rate,1e3*(s$2.packets-c$2.packets)/1e3),s$2.packetsLost!=null&&c$2.packetsLost!=null&&$j(a$2,Kj.Audio_Recv_Package_Lost,s$2.packetsLost-c$2.packetsLost)}if(n$2){let{receivedFrames:e$3,droppedFrames:t$3}=s$2;e$3!=null&&t$3!=null&&(a$2[Wj.Audio_Recv_Freeze]=(d$2=e$3)===0||100*t$3/d$2>20?1:0)}var d$2;if(r$4){let t$3=100*i$2._source.getAccurateVolumeLevel(),n$3=s$2.outputLevel;if(n$3!=null){let e$3=Math.ceil(50*Math.log10(100*n$3+1));$j(a$2,Hj.Audio_Render_Level,e$3)}$j(a$2,Hj.Audio_Recv_PCM_Level,t$3),i$2&&(a$2[Hj.Audio_Recv_Disabled]=i$2._originMediaStreamTrack.enabled&&i$2._mediaStreamTrack.enabled?0:1),$j(a$2,Hj.Audio_Recv_Jitter_Buffer,s$2.jitterBufferMs),$j(a$2,Hj.Audio_Recv_Current_Delay,s$2.jitterBufferMs),a$2[Hj.Audio_Recv_Player_Status]=nL[xL.getPlayerState(i$2.getTrackId())];let o$3=r$4.audioRecv.find((t$4=>t$4.ssrc===e$2));if(o$3){o$3.bytes!=null&&s$2.bytes!=null&&$j(a$2,Hj.Audio_Recv_Bitrate,8*(s$2.bytes-o$3.bytes)/(Xj*3));let e$3=s$2.concealedSamples-o$3.concealedSamples;e$3>0&&$j(a$2,Hj.Audio_Recv_Concealed_Samples,e$3);let t$4=s$2.totalSamplesReceived-o$3.totalSamplesReceived;t$4>0&&$j(a$2,Hj.Audio_Recv_Total_Samples_Received,t$4);let i$3=s$2.freezeSamples80-o$3.freezeSamples80;i$3>0&&$j(a$2,Hj.Audio_Render_Freeze_Samples_80ms,i$3);let n$4=s$2.freezeSamples200-o$3.freezeSamples200;n$4>0&&$j(a$2,Hj.Audio_Render_Freeze_Samples_200ms,n$4);let r$5=s$2.freezeMs80-o$3.freezeMs80;$j(a$2,Hj.Audio_Render_Freeze_Time_80ms,r$5<0?0:r$5);let c$3=s$2.freezeMs200-o$3.freezeMs200;$j(a$2,Hj.Audio_Render_Freeze_Time_200ms,c$3<0?0:c$3)}}return a$2}(s$1._audioSSRC,e$1,s$1.audioTrack,t$1,i$1,n$1):void 0;if(r$3&&(c$1.audio=r$3),s$1.audioTrack&&d$1){let t$2=e$1.audioRecv.find((e$2=>e$2.ssrc===s$1._audioSSRC));if(t$2&&t$2.estimatedPlayoutTimestamp){let e$2=t$2.estimatedPlayoutTimestamp-d$1;c$1.audio?c$1.audio[Kj.Audio_Recv_AV_Sync_TIME]=e$2:c$1.audio={[Kj.Audio_Recv_AV_Sync_TIME]:e$2}}}}(c$1.video||c$1.audio)&&o$1.push(c$1)})),this.needUploadRenderFreezeTime=!this.needUploadRenderFreezeTime,o$1}startUploadTransportStats(){this.uploadTransportStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats()}stopUploadTransportStats(){this.uploadTransportStarted=!1}startUploadOutboundStats(){this.uploadOutboundStarted||(this.uploadOutboundStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats(),this.uploadOutboundDenoiserStatsTimer&&window.clearInterval(this.uploadOutboundDenoiserStatsTimer),this.uploadOutboundDenoiserStatsTimer=window.setInterval((()=>{if(!this.requestAllTracks||!this.requestUpload)return;let e$1=(this.requestAllTracks()||[]).find((e$2=>e$2 instanceof jk));if(e$1&&e$1._external.getDenoiserStats){let t$1=e$1._external.getDenoiserStats();t$1&&this.requestUpload(BV.DENOISER_STATS,t$1)}}),2e3),this.uploadExtStatsTimer&&window.clearInterval(this.uploadExtStatsTimer),this.uploadExtStatsTimer=window.setInterval((()=>{!this.requestAllTracks||!this.requestUpload||this.requestAllTracks().forEach((e$1=>{e$1.getProcessorStats().forEach((e$2=>{this.requestUpload&&this.requestUpload(e$2.type,e$2.stats)}))}))}),2e3))}stopUploadOutboundStats(){this.uploadOutboundStarted&&(this.uploadOutboundStarted=!1,this.lastSendStats&&=(this.lastSendStats.videoSend=[],this.lastSendStats.audioSend=[],void 0),this.lastRefSendStats&&=(this.lastRefSendStats.videoSend=[],this.lastRefSendStats.audioSend=[],void 0),this.lastNormalSendStats&&=(this.lastNormalSendStats.videoSend=[],this.lastNormalSendStats.audioSend=[],void 0),this.lastExtendStats={},this.needUploadStats={},this.uploadOutboundDenoiserStatsTimer&&window.clearInterval(this.uploadOutboundDenoiserStatsTimer),this.uploadOutboundDenoiserStatsTimer=void 0,this.uploadExtStatsTimer&&window.clearInterval(this.uploadExtStatsTimer),this.uploadExtStatsTimer=void 0)}startUploadInboundStats(){this.uploadInboundStarted||(this.uploadInboundStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats(),this.uploadInboundExtStatsTimer&&window.clearInterval(this.uploadInboundExtStatsTimer),this.uploadInboundExtStatsTimer=window.setInterval((()=>{!this.requestUpload||!this.requestRemoteMedia||(this.requestRemoteMedia()||[]).forEach((e$1=>{let[t$1,i$1]=e$1;i$1.has(fx.VIDEO)&&t$1.videoTrack&&t$1.videoTrack.getProcessorStats().forEach((e$2=>{this.requestUpload&&this.requestUpload(e$2.type,e$2.stats)})),i$1.has(fx.AUDIO)&&t$1.audioTrack&&t$1.audioTrack.getProcessorStats().forEach((e$2=>{this.requestUpload&&this.requestUpload(e$2.type,e$2.stats)}))}))}),2e3))}stopUploadInboundStats(){this.uploadInboundStarted&&(this.uploadInboundStarted=!1,this.lastRecvStats&&=(this.lastRecvStats.videoRecv=[],this.lastRecvStats.audioRecv=[],void 0),this.lastRefRecvStats&&=(this.lastRefRecvStats.videoRecv=[],this.lastRefRecvStats.audioRecv=[],void 0),this.lastNormalRecvStats&&=(this.lastNormalRecvStats.videoRecv=[],this.lastNormalRecvStats.audioRecv=[],void 0),this.lastUploadCompensateTime=-1,this.uploadCompensateDeltaTime=0,this.needUploadRenderFreezeTime=!0,this.uploadInboundExtStatsTimer&&window.clearInterval(this.uploadInboundExtStatsTimer),this.uploadInboundExtStatsTimer=void 0)}startUploadExtensionUsageStats(){if(this.uploadExtensionUsageStarted)return;this.uploadExtensionUsageStarted=!0,this.uploadExtUsageStatsTimer&&window.clearInterval(this.uploadExtUsageStatsTimer);let e$1=new Map;this.uploadExtUsageStatsTimer=window.setInterval((async()=>{let t$1=Date.now(),i$1={connectionInterval:CD(`EXTENSION_USAGE_UPLOAD_INTERVAL`)/1e3,details:[],lts:t$1},n$1=[],r$1=this.requestAllTracks&&this.requestAllTracks()||[];for(let e$2 of r$1)!e$2.muted&&e$2.enabled&&(n$1=n$1.concat(await e$2.getProcessorUsage()));let o$1=this.requestRemoteMedia&&this.requestRemoteMedia()||[];for(let[e$2,t$2]of o$1)t$2.has(fx.VIDEO)&&e$2.videoTrack&&(n$1=n$1.concat(await e$2.videoTrack.getProcessorUsage())),t$2.has(fx.AUDIO)&&e$2.audioTrack&&(n$1=n$1.concat(await e$2.audioTrack.getProcessorUsage()));if(n$1.length===0)return;i$1.details=function(e$2,t$2){let i$2={};for(let{id:s$2,value:a$2,level:c$1,direction:d$1}of e$2){var n$2;let e$3=t$2.get(s$2)??0,l$1=a$2===2?e$3+CD(`EXTENSION_USAGE_UPLOAD_INTERVAL`)/1e3:e$3;var r$2,o$2;t$2.set(s$2,l$1),i$2[s$2]?(a$2===2&&(i$2[s$2].value=a$2),c$1>i$2[s$2].level&&(i$2[s$2].level=c$1),d$1===`remote`&&(i$2[s$2].remoteUidCount+=1),i$2[s$2].totalTs=t$2.get(s$2)??0):i$2[s$2]={value:a$2,level:c$1,remoteUidCount:d$1===`local`?0:1,totalTs:t$2.get(s$2)??0}}return Object.keys(i$2).map((e$3=>{let{level:t$3,value:n$3,totalTs:r$3}=i$2[e$3];return{id:e$3,level:t$3,value:n$3,totalTs:r$3}}))}(n$1,e$1);let s$1=Date.now(),a$1=s$1>t$1?s$1:t$1+1;this.requestUpload&&this.requestUpload(BV.EXTENSION_USAGE_STATS,{usageStats:i$1,sendTs:a$1})}),CD(`EXTENSION_USAGE_UPLOAD_INTERVAL`))}stopUploadExtensionUsageStats(){this.uploadExtensionUsageStarted&&(this.uploadExtensionUsageStarted=!1,this.uploadExtUsageStatsTimer&&window.clearInterval(this.uploadExtUsageStatsTimer),this.uploadExtUsageStatsTimer=void 0)}stopUploadBaseStats(){this.uploadBaseStatsStarted=!1,eU.stopCollectStats()}}let nG=CD(`ICE_RESTART_INTERVAL`),rG=new Map,oG=new Map,sG=[Sx.UDP_TCP_RELAY,Sx.TCP_RELAY,Sx.RELAY],aG=CD(`JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE`)&&pP().supportPCSetConfiguration;function cG(e$1){let t$1=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i$1=rG.get(e$1.id);i$1&&(window.clearTimeout(i$1),rG.delete(e$1.id));let n$1=oG.get(e$1.id);t$1&&n$1&&n$1.index===sG.length-1&&(iP.debug(`[${e$1.id}] reset ICE restart policy`),oG.delete(e$1.id))}function dG(e$1,t$1,i$1){if(rG.size===0&&oG.size===0&&(Array.isArray(CD(`RESTART_SEQUENCE`))&&CD(`RESTART_SEQUENCE`).length>0&&!function(e$2,t$2){if(e$2.length!==t$2.length)return!1;for(let i$2=0;i$2<e$2.length;i$2+=1){let n$2=e$2[i$2];if(e$2.filter((e$3=>e$3===n$2)).length!==t$2.filter((e$3=>e$3===n$2)).length)return!1}return!0}(sG,CD(`RESTART_SEQUENCE`))&&(sG=CD(`RESTART_SEQUENCE`).filter((e$2=>{var t$2;if(Ln(t$2=Object.values(Sx)).call(t$2,e$2))return!0})),iP.debug(`use reconnection policy from config distribution, queues: ${sG.join(` => `)}`)),aG=CD(`JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE`)&&pP().supportPCSetConfiguration),sG.length===0)return void i$1();let n$1,{index:r$1=0,type:o$1}=oG.get(e$1.id)||{};if(aG&&o$1===Sx.RELAY)return void i$1();let s$1=o$1&&r$1>=sG.length-1;if(aG)o$1=Sx.RELAY;else{if(s$1)return void i$1();o$1?(r$1++,o$1=sG[r$1]):(o$1=sG[0],r$1=0)}iP.debug(`[${e$1.id}] choose ICE restart policy: ${o$1}, index: ${r$1}`),t$1(o$1),oG.set(e$1.id,{index:r$1,type:o$1}),n$1=window.setTimeout((()=>dG(e$1,t$1,i$1)),nG),rG.set(e$1.id,n$1)}var lG;function uG(e$1,t$1){var i$1=Object.keys(e$1);if(Object.getOwnPropertySymbols){var n$1=Object.getOwnPropertySymbols(e$1);t$1&&(n$1=n$1.filter((function(t$2){return Object.getOwnPropertyDescriptor(e$1,t$2).enumerable}))),i$1.push.apply(i$1,n$1)}return i$1}function hG(e$1){for(var t$1=1;t$1<arguments.length;t$1++){var i$1=arguments[t$1]==null?{}:arguments[t$1];t$1%2?uG(Object(i$1),!0).forEach((function(t$2){iA(e$1,t$2,i$1[t$2])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e$1,Object.getOwnPropertyDescriptors(i$1)):uG(Object(i$1)).forEach((function(t$2){Object.defineProperty(e$1,t$2,Object.getOwnPropertyDescriptor(i$1,t$2))}))}return e$1}function pG(e$1){var t$1,i$1,n$1,r$1=2;for(typeof Symbol<`u`&&(i$1=Fb,n$1=Symbol.iterator);r$1--;){if(i$1&&(t$1=e$1[i$1])!=null)return t$1.call(e$1);if(n$1&&(t$1=e$1[n$1])!=null)return new _G(t$1.call(e$1));i$1=`@@asyncIterator`,n$1=`@@iterator`}throw TypeError(`Object is not async iterable`)}function _G(e$1){function t$1(e$2){if(Object(e$2)!==e$2)return rp.reject(TypeError(e$2+` is not an object.`));var t$2=e$2.done;return rp.resolve(e$2.value).then((function(e$3){return{value:e$3,done:t$2}}))}return _G=function(e$2){this.s=e$2,this.n=e$2.next},_G.prototype={s:null,n:null,next:function(){return t$1(this.n.apply(this.s,arguments))},return:function(e$2){var i$1=this.s.return;return i$1===void 0?rp.resolve({value:e$2,done:!0}):t$1(i$1.apply(this.s,arguments))},throw:function(e$2){var i$1=this.s.return;return i$1===void 0?rp.reject(e$2):t$1(i$1.apply(this.s,arguments))}},new _G(e$1)}let EG=(lG=class extends NO{get state(){return this._state}set state(e$1){let t$1=this._state;this._state=e$1,this.emit(vx.StateChange,t$1,this._state)}constructor(e$1,t$1){super(),iA(this,`isPlanB`,void 0),iA(this,`store`,void 0),iA(this,`statsUploader`,void 0),iA(this,`connection`,void 0),iA(this,`localTrackMap`,new Map),iA(this,`remoteUserMap`,new Map),iA(this,`localDataChannels`,[]),iA(this,`remoteDataChannelMap`,new Map),iA(this,`pendingLocalTracks`,[]),iA(this,`pendingRemoteTracks`,[]),iA(this,`pendingLocalDataChannels`,[]),iA(this,`pendingRemoteDataChannels`,[]),iA(this,`statsCollector`,void 0),iA(this,`shouldForwardP2PCreation`,void 0),iA(this,`iceFailedCount`,0),iA(this,`dtlsFailedCount`,0),iA(this,`mutex`,void 0),iA(this,`_state`,Cx.Disconnected),iA(this,`_pcStatsUploadType`,CD(`NEW_ICE_RESTART`)?gx.FIRST_CONNECTION:gx.OLD_FIRST_CONNECTION),iA(this,`_isStartRestartIce`,!1),iA(this,`_restartTimer`,void 0),iA(this,`_isTryConnecting`,!1),iA(this,`_iceError`,null),iA(this,`_forceTurn`,!1),iA(this,`_isWaitPcToRePub`,!1),iA(this,`handleMuteLocalTrack`,(async(e$2,t$2,i$1)=>{let n$1=await this.mutex.lock(`Locking from P2PChannel.handleMuteLocalTrack`);try{if(!this.connection||this.state!==Cx.Connected)return void i$1(new pO(hO.INVALID_OPERATION,`Cannot call P2PChannel.handleMuteLocalTrack before connection established.`));let r$1=this.filterTobeMutedTracks(e$2);if(r$1.length===0)return void t$2();let o$1=r$1.find((e$3=>e$3[0]===`videoLowTrack`));if(o$1){let e$3=o$1[1];this.store.enableInstantMuteRestore?(e$3.track._originMediaStreamTrack.enabled=!1,iP.info(`[${this.store.clientId}] P2PChannel muteLocalLowTrack without close sender because enableInstantMuteRestore is true`)):e$3.track._originMediaStreamTrack.stop()}this.store.enableInstantMuteRestore?iP.info(`[${this.store.clientId}] P2PChannel muteLocalTrack without close sender because enableInstantMuteRestore is true`):await this.connection.muteLocal(r$1.map((e$3=>{let[,{id:t$3}]=e$3;return t$3})));let s$1=this.createMuteMessage(r$1);await qO(this,vx.RequestMuteLocal,s$1),t$2()}catch(e$3){i$1(e$3)}finally{n$1()}})),iA(this,`handleUnmuteLocalTrack`,(async(e$2,t$2,i$1)=>{let n$1=await this.mutex.lock(`Locking from P2PChannel.handleUnmuteLocalTrack`);try{if(!this.connection||this.state!==Cx.Connected)return void i$1(new pO(hO.INVALID_OPERATION,`Cannot call P2PChannel.handleUnmuteLocalTrack before connection established.`));let r$1=this.filterTobeUnmutedTracks(e$2);if(r$1.length===0)return void t$2();let o$1=r$1.find((e$3=>e$3[0]===`videoLowTrack`));if(o$1){let t$3=o$1[1];if(this.store.enableInstantMuteRestore)t$3.track._originMediaStreamTrack.enabled=!0,iP.info(`[${this.store.clientId}] P2PChannel unmuteLocalLowTrack without close sender because enableInstantMuteRestore is true`);else{if(t$3.track._originMediaStreamTrack.stop(),!CD(`DISABLE_DUAL_STREAM_USE_ENCODING`)&&pP().supportDualStreamEncoding){let i$2=e$2._mediaStreamTrack.clone();t$3.track._mediaStreamTrack=i$2,t$3.track._originMediaStreamTrack=i$2}else{let i$2=jj(e$2,JO(this,vx.RequestLowStreamParameter));t$3.track._mediaStreamTrack=i$2,t$3.track._originMediaStreamTrack=i$2}await new rp(((e$3,i$2)=>{this.handleReplaceTrack(t$3.track,e$3,i$2,!0)}))}}this.store.enableInstantMuteRestore?iP.info(`[${this.store.clientId}] P2PChannel unmuteLocalTrack without close sender because enableInstantMuteRestore is true`):await this.connection.unmuteLocal(r$1.map((e$3=>{let[,{id:t$3}]=e$3;return t$3})));let s$1=this.createUnmuteMessage(r$1);await qO(this,vx.RequestUnmuteLocal,s$1),t$2()}catch(e$3){i$1(e$3)}finally{n$1()}})),iA(this,`handleUpdateVideoEncoder`,(async(e$2,t$2,i$1,n$1)=>{let r$1;n$1||(r$1=await this.mutex.lock(`Locking from P2PChannel.handleUpdateVideoEncoder`));try{let i$2=this.localTrackMap.get(Rx.LocalVideoTrack);if(!this.connection||!i$2||i$2.track!==e$2||this.state!==Cx.Connected)return void t$2();let{id:n$2,track:s$1}=i$2;await this.connection.updateSendParameters(n$2,s$1),await this.connection.updateEncoderConfig(n$2,s$1),this.emit(vx.UpdateVideoEncoder,s$1),t$2()}catch(e$3){i$1(e$3)}finally{var o$1;(o$1=r$1)==null||o$1()}})),iA(this,`handleUpdateVideoSendParameters`,(async(e$2,t$2,i$1)=>{let n$1=await this.mutex.lock(`Locking from P2PChannel.handleUpdateVideoSendParameters`);try{let i$2=this.localTrackMap.get(Rx.LocalVideoTrack);if(!this.connection||!i$2||i$2.track!==e$2||this.state!==Cx.Connected)return void t$2();let{id:r$1,track:o$1}=i$2;await this.connection.updateSendParameters(r$1,o$1),t$2()}catch(e$3){i$1(e$3)}finally{n$1()}})),iA(this,`handleReplaceMixingTrack`,(async(e$2,t$2,i$1,n$1)=>{if(!this.connection||this.state!==Cx.Connected)return void t$2();let r$1=Dj([e$2]),o$1;iP.debug(`[${this.store.clientId}] [p2pId: ${this.store.p2pId}]: P2PConnection will replace audioTrack [${r$1.getTrackId()}]`),typeof n$1==`boolean`&&n$1||(o$1=await this.mutex.lock(`From P2PChannel.handleReplaceMixingTrack`));try{await this.replaceTrack(e$2,r$1),t$2()}catch(e$3){i$1(e$3)}finally{var s$1;(s$1=o$1)==null||s$1()}})),iA(this,`handleReplaceTrack`,(async(e$2,t$2,i$1,n$1)=>{let r$1;iP.debug(`[${this.store.clientId}] P2PChannel handleReplaceTrack for [track-id-${e$2.getTrackId()}]`),typeof n$1==`boolean`&&n$1||(r$1=await this.mutex.lock(`From P2PChannel.handleReplaceTrack`));try{var o$1;let i$2=Array.from(this.localTrackMap.entries()).find((t$3=>{let[,{track:i$3}]=t$3;return e$2===i$3}));if(!this.connection||!i$2||this.state!==Cx.Connected)return void t$2();if(await this.connection?.replaceTrack(e$2,i$2[1].id),this.isPlanB){let t$3=i$2[1];t$3.id=e$2._mediaStreamTrack.id,this.localTrackMap.set(i$2[0],t$3)}if(i$2[0]===Rx.LocalVideoTrack&&!CD(`DISABLE_DUAL_STREAM_USE_ENCODING`)&&pP().supportDualStreamEncoding){let t$3=this.localTrackMap.get(Rx.LocalVideoLowTrack);if(t$3){let i$3=e$2._mediaStreamTrack.clone();t$3.track._originMediaStreamTrack.stop(),t$3.track._mediaStreamTrack=i$3,t$3.track._originMediaStreamTrack=i$3,await new rp(((e$3,i$4)=>{this.handleReplaceTrack(t$3.track,e$3,i$4,!0)}))}}t$2()}catch(e$3){i$1(e$3)}finally{var s$1;(s$1=r$1)==null||s$1()}})),iA(this,`handleGetRTCStats`,(e$2=>{e$2(this.statsCollector.getRTCStats())})),iA(this,`handleGetLocalVideoStats`,(e$2=>{e$2(this.statsCollector.getLocalVideoTrackStats())})),iA(this,`handleGetLocalAudioStats`,(e$2=>{e$2(this.statsCollector.getLocalAudioTrackStats())})),iA(this,`handleGetRemoteVideoStats`,(e$2=>this.statsCollector.getRemoteVideoTrackStats(e$2.uid)[e$2.uid])),iA(this,`handleGetRemoteAudioStats`,(e$2=>this.statsCollector.getRemoteAudioTrackStats(e$2.uid)[e$2.uid])),this.store=e$1,this.statsCollector=t$1,this.statsCollector.addP2PChannel(this),this.statsUploader=new iG(this.store),this.bindStatsUploaderEvents(),this.mutex=new PN(`P2PChannel-mutex`,this.store.clientId),this.isPlanB=!pP().supportUnifiedPlan||CD(`CHROME_FORCE_PLAN_B`)&&sO(),this.shouldForwardP2PCreation=CD(`FORWARD_P2P_CREATION`)&&pP().supportPCSetConfiguration&&oO(),this.shouldForwardP2PCreation&&(this.connection=Lj(this.store),this.emit(vx.PeerConnectionStateChange,this.connection.peerConnectionState),this.bindConnectionEvents(this.connection))}async startP2PConnection(e$1,t$1){var i$1;this.state=Cx.New,this._forceTurn=Mj(e$1),iP.debug(`[${this.store.clientId}] [${this.store.p2pId}] forceTurn: ${this._forceTurn}`);let n$1=this.shouldForwardP2PCreation&&this.connection?.peerConnectionState===`closed`;if((!this.shouldForwardP2PCreation||n$1||t$1)&&((n$1||t$1)&&this.connection&&(iP.warning(`[${this.store.clientId}] P2PChannel.startP2PConnection ForwardP2P closed.`),this.resetConnection(this.connection)),this.connection=Lj(this.store,e$1),this.emit(vx.PeerConnectionStateChange,this.connection.peerConnectionState),this.bindConnectionEvents(this.connection)),!this.connection)throw new pO(hO.UNEXPECTED_ERROR,`Cannot P2PChannel.startConnection before P2PConnection initialization .`);return this._pcStatsUploadType=CD(`NEW_ICE_RESTART`)?gx.FIRST_CONNECTION:gx.OLD_FIRST_CONNECTION,this._isTryConnecting=!0,this._isStartRestartIce=!1,this._iceError=null,this.connection.setConfiguration(e$1),this.connection.establishPromise}async connect(e$1){if(!this.connection)throw new pO(hO.UNEXPECTED_ERROR,`Cannot P2PChannel.connect before P2PChannel.startP2PConnection .`);if(!this.isPreallocation()||this.state!==Cx.Connected){this.store.peerConnectionStart();let t$1=await this.connection.connect(e$1);return this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=Cx.Connected,t$1}if(this.connection instanceof Fj&&this.connection.checkDtlsParameters(e$1.dtlsParameters.fingerprints)){iP.debug(`[${this.store.clientId}] [${this.store.p2pId}] dtls parameters mismatch, try next.`),lP.reportApiInvoke(this.store.sessionId,{name:LO.MISMATCH_DTLS_PARAMETERS,options:[e$1.dtlsParameters.fingerprints],tag:kO.TRACER}).onSuccess(),setTimeout((()=>{this.emit(vx.RequestReconnect)}));return}await this.connection.updateRemoteConnect(e$1)}updateRemoteRTPCapabilities(e$1){let t$1=Array.from(this.localTrackMap.entries()).filter((e$2=>{var t$2;let[i$2]=e$2;return Ln(t$2=[Rx.LocalVideoLowTrack,Rx.LocalVideoTrack]).call(t$2,i$2)})),i$1=t$1.map((e$2=>{let[,{id:t$2}]=e$2;return t$2})),n$1=t$1.map((e$2=>{let[t$2]=e$2;return t$2}));if(this.connection instanceof Fj||this.connection&&`name`in this.connection&&this.connection.name===`DataChannelConnection`){if(lP.updateRemoteRTPCapabilities(this.store.sessionId,{trackTypes:JSON.stringify(n$1),localCodecs:JSON.stringify(this.connection.localCodecs),remoteCodecs:JSON.stringify(e$1)}),!Ln(e$1).call(e$1,this.store.codec)){let t$2=[`vp9`,`vp8`,`h264`].find((t$3=>Ln(e$1).call(e$1,t$3)));t$2&&(this.store.codec=t$2,iP.debug(`[${this.store.clientId}] [${this.store.p2pId} updateRemoteRTPCapabilities] default codec is not available, hence the fallback to ${t$2}.`))}this.connection.updateRemoteRTPCapabilities(i$1,e$1)}}async getEstablishParams(){var e$1;return this.connection&&`name`in this.connection&&this.connection.name===`DataChannelConnection`&&this.connection.peerConnectionState!==`closed`||this.connection instanceof Fj&&this.connection.peerConnectionState!==`closed`&&Ln(e$1=[Cx.New,Cx.Connected]).call(e$1,this.state)?this.connection.establishPromise:void 0}async publishDataChannel(e$1){if(!this.connection||this.state!==Cx.Connected){if(this.state===Cx.Disconnected)throw new pO(hO.UNEXPECTED_ERROR,`PeerConnection already disconnected.`);return e$1.forEach((e$2=>{var t$2;Ln(t$2=this.pendingLocalDataChannels).call(t$2,e$2)||this.pendingLocalDataChannels.push(e$2)})),[]}let t$1=this.filterTobePublishedDataChannels(e$1);return t$1.length===0?[]:(t$1.forEach((e$2=>{let t$2=Date.now();this.store.publish(e$2.id.toString(),`datachannel`,t$2)})),await this.connection.createDataChannels(this.store.uid,t$1),t$1.forEach((e$2=>{this.localDataChannels.push(e$2);let t$2=Date.now();this.store.publish(e$2.id+``,`datachannel`,void 0,t$2)})),e$1.map((e$2=>({streamId:e$2.id,ordered:e$2.ordered,maxRetransmits:e$2.maxRetransmits,metadata:e$2.metadata,channelId:e$2._originDataChannelId}))))}publish(e$1,t$1,i$1){var n$1=this;return Mb((function*(){let r$1=yield Vb(n$1.mutex.lock(`From P2PChannel.publish`));try{var o$1;let s$1=n$1.connection&&Ln(o$1=[`disconnected`,`failed`]).call(o$1,n$1.connection.peerConnectionState);if(!n$1.connection||n$1.state!==Cx.Connected||s$1){if(n$1.state===Cx.Disconnected)throw new pO(hO.UNEXPECTED_ERROR,`PeerConnection already disconnected.`);n$1.throwIfTrackTypeNotMatch(e$1);let t$2=e$1.filter((e$2=>n$1.pendingLocalTracks.indexOf(e$2)===-1));n$1.pendingLocalTracks=n$1.pendingLocalTracks.concat(t$2),s$1&&(n$1._isWaitPcToRePub=!0);return}n$1.store.pubId=n$1.store.pubId+1,tj.markPublishStart(n$1.store.clientId,n$1.store.pubId);let a$1=n$1.filterTobePublishedTracks(e$1,t$1,i$1);if(a$1.length===0)return void(yield Vb(n$1.tryToUnmuteAudio(e$1)));yield*xb(pG(n$1.doPublish(n$1.connection,a$1)))}finally{r$1()}}))()}doPublish(e$1,t$1){var i$1=this;return Mb((function*(){t$1.forEach((e$2=>{let{track:t$2,type:n$2}=e$2,r$2=Date.now();i$1.store.publish(t$2.getTrackId(),n$2===Rx.LocalAudioTrack?`audio`:`video`,r$2)})),i$1.bindLocalTrackEvents(t$1);let n$1=t$1.map((e$2=>{let{track:t$2}=e$2;return t$2})),r$1=yield Vb(e$1.send(n$1,i$1.store.codec,i$1.store.audioCodec)),o$1=(yield Vb(r$1.next())).value,s$1=i$1.createGatewayPublishMessage(t$1,o$1),a$1;try{a$1=yield s$1}catch(e$2){throw r$1.throw(e$2),e$2?.code===hO.WS_ABORT&&t$1.forEach((e$3=>{let{track:t$2}=e$3;i$1.pendingLocalTracks.indexOf(t$2)===-1&&i$1.pendingLocalTracks.push(t$2)})),i$1.unbindLocalTrackEvents(t$1),e$2}let c$1=i$1.mapPubResToRemoteConfig(s$1,a$1,n$1),d$1=(yield Vb(r$1.next(c$1))).value;if(i$1.state===Cx.Disconnected)throw new pO(hO.UNEXPECTED_ERROR,`PeerConnection already disconnected.`);CD(`ENABLE_VIDEO_SEI`);let l$1=CD(`ENABLE_ENCODED_TRANSFORM`),u$1=CD(`ENABLE_AUDIO_METADATA`);n$1.forEach((async e$2=>{let t$2=e$2.getRTCRtpTransceiver();if(!t$2||!l$1)return;let{interceptLocalVideoFrame:i$2,interceptLocalAudioFrame:n$2}=aB();e$2.trackMediaType===fx.VIDEO?await i$2(t$2.sender,e$2):e$2.trackMediaType===fx.AUDIO&&await n$2(t$2.sender,{metadata:u$1?()=>{let t$3=e$2.metadata.shift();return t$3&&t$3.value}:void 0})})),t$1.forEach((e$2=>{let{type:t$2}=e$2;i$1.statsCollector.addLocalStats(t$2)})),i$1.assignLocalTracks(t$1,d$1),i$1.statsUploader.startUploadOutboundStats(),t$1.forEach((e$2=>{let{track:t$2,type:n$2}=e$2,r$2=Date.now();i$1.store.publish(t$2.getTrackId(),n$2===Rx.LocalAudioTrack?`audio`:`video`,void 0,r$2)}))}))()}async updateVideoStreamParameter(e$1,t$1){let i$1=this.localTrackMap.get(t$1);if(!i$1||!this.connection)return;if(!(i$1.track instanceof kM))return iP.warn(`[updateVideoStreamParameter]: track is not an instance of LocalVideoTrack`);let{track:n$1}=i$1,r$1=function(e$2,t$2){let i$2={};return e$2.height&&e$2.width&&(i$2.scaleResolutionDownBy=_F(e$2,t$2)),i$2.maxFramerate=e$2.framerate?dF(e$2.framerate):void 0,i$2.maxBitrate=e$2.bitrate?1e3*e$2.bitrate:void 0,i$2}(e$1,n$1);if(n$1._encoderConfig||={},t$1!==Rx.LocalVideoLowTrack||!CD(`DISABLE_DUAL_STREAM_USE_ENCODING`)&&pP().supportDualStreamEncoding)r$1.scaleResolutionDownBy!=null&&(n$1._encoderConfig.scaleResolutionDownBy=r$1.scaleResolutionDownBy);else{let t$2=n$1._originMediaStreamTrack;if(!t$2.canvas)return iP.warn(`[${n$1.getTrackId()}] no canvas on track`);(function(e$2,t$3){let i$2=e$2.canvas;t$3.width&&(i$2.width=dF(t$3.width)),t$3.height&&(i$2.height=dF(t$3.height)),t$3.framerate&&(i$2.stopCapture&&i$2.stopCapture(),i$2.stopCapture=SL((()=>{!i$2.startCapture&&i$2.stopCapture&&i$2.stopCapture(),i$2.startCapture&&i$2.startCapture()}),dF(t$3.framerate)))})(t$2,e$1)}r$1.maxBitrate!=null&&(n$1._encoderConfig.bitrateMax=r$1.maxBitrate/1e3),r$1.maxFramerate!=null&&(n$1._encoderConfig.frameRate&&typeof n$1._encoderConfig.frameRate==`object`?n$1._encoderConfig.frameRate.max=r$1.maxFramerate:n$1._encoderConfig.frameRate={max:r$1.maxFramerate}),iP.debug(`[${n$1.getTrackId()}] LowStreamEncoderConfig: , ${JSON.stringify(n$1._encoderConfig)}`),await this.connection.updateRtpSenderEncodings(n$1)}publishLowStream(e$1){var t$1=this;return Mb((function*(){if(!t$1.connection||t$1.state!==Cx.Connected)return;let i$1=yield Vb(t$1.mutex.lock(`Locking from P2PChannel.publishLowStream`));try{let r$1=t$1.localTrackMap.get(Rx.LocalVideoTrack);if(!r$1)throw new pO(hO.UNEXPECTED_ERROR,`Could not find high stream`);if(t$1.localTrackMap.has(Rx.LocalVideoLowTrack))throw new pO(hO.UNEXPECTED_ERROR,`[${t$1.store.clientId}] Can't publish low stream when stream already publish`);let o$1=[{track:t$1.getLowVideoTrack(r$1.track,e$1),type:Rx.LocalVideoLowTrack}];if(yield*xb(pG(t$1.doPublish(t$1.connection,o$1))),r$1.track.muted||!r$1.track.enabled){var n$1;let e$2=t$1.localTrackMap.get(Rx.LocalVideoLowTrack)?.id;e$2!==void 0&&(yield Vb(t$1.connection.muteLocal([e$2])))}}finally{i$1()}}))()}async republish(){this.pendingLocalTracks.length>0&&(iP.debug(`[${this.store.clientId}] Emit P2PChannelEvents.RequestRePublish to republish tracks.`),await zO(this,vx.RequestRePublish,this.pendingLocalTracks),this.emit(vx.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[]),this.pendingLocalDataChannels.length>0&&(iP.debug(`Emit P2PChannelEvents.RequestRePublishDataChannel to republish datachannels.`),await zO(this,vx.RequestRePublishDataChannel,this.pendingLocalDataChannels),this.pendingLocalDataChannels=[]),this._isWaitPcToRePub=!1}async reSubscribe(e$1){for(let e$2=this.pendingRemoteTracks.length-1;e$2>=0;e$2--){let{user:t$1,kind:i$1}=this.pendingRemoteTracks[e$2];(i$1!==fx.AUDIO||t$1._audio_added_&&t$1._audioSSRC)&&(i$1!==fx.VIDEO||t$1._video_added_&&t$1._videoSSRC)||this.pendingRemoteTracks.splice(e$2,1)}if(e$1)await zO(this,vx.RequestReSubscribe,this.pendingRemoteTracks);else for(let{user:e$2,kind:t$1}of this.pendingRemoteTracks)await this.subscribe(e$2,t$1,t$1===fx.VIDEO?e$2._videoSSRC:e$2._audioSSRC);this.pendingRemoteTracks.forEach((e$2=>{let{user:t$1}=e$2;this.emit(vx.MediaReconnectEnd,t$1.uid)})),this.pendingRemoteTracks=[]}async unpublish(e$1){if(!this.connection||this.state!==Cx.Connected)return void e$1.forEach((e$2=>{let t$2=this.pendingLocalTracks.indexOf(e$2);t$2!==-1&&this.pendingLocalTracks.splice(t$2,1)}));let t$1=this.filterTobeUnpublishedTracks(e$1);if(t$1.length===0)return;let i$1=t$1.find((e$2=>e$2[0]===`videoLowTrack`));return i$1&&i$1[1].track.close(),this.doUnpublish(this.connection,t$1)}async unpublishDataChannel(e$1){if(!this.connection||this.state!==Cx.Connected)return void e$1.forEach((e$2=>{let t$2=this.pendingLocalDataChannels.indexOf(e$2);t$2!==-1&&this.pendingLocalDataChannels.splice(t$2,1)}));let t$1=this.filterTobeUnpublishedDataChannels(e$1);return t$1.length===0?void 0:(t$1.forEach((e$2=>{let t$2=this.localDataChannels.indexOf(e$2);t$2!==-1&&this.localDataChannels.splice(t$2,1)})),this.localDataChannels.length===0&&await this.connection.stopDataChannels(this.store.uid),t$1.map((e$2=>e$2.id)))}async unpublishLowStream(){if(!this.connection||this.state!==Cx.Connected)return;let e$1=this.localTrackMap.get(Rx.LocalVideoLowTrack);if(!e$1)return;e$1.track.close();let t$1=[[Rx.LocalVideoLowTrack,e$1]];return this.doUnpublish(this.connection,t$1)}async doUnpublish(e$1,t$1){let i$1=this.createGatewayUnpublishMessage(t$1);return await e$1.stopSending(t$1.map((e$2=>{let[,{id:t$2}]=e$2;return t$2}))),this.withdrawLocalTracks(t$1),this.unbindLocalTrackEvents(t$1.map((e$2=>{let[t$2,{track:i$2}]=e$2;return{type:t$2,track:i$2}}))),t$1.forEach((e$2=>{let[t$2]=e$2;this.statsCollector.removeLocalStats(t$2)})),this.localTrackMap.size===0&&this.statsUploader.stopUploadOutboundStats(),i$1}async subscribeDataChannel(e$1,t$1){if(!this.connection||this.state!==Cx.Connected)throw new pO(hO.INVALID_OPERATION,`Cannot subscribe remote user when peerConnection disconnected.`);let i$1=t$1.filter((t$2=>{var i$2;return!((i$2=this.remoteDataChannelMap.get(e$1))!=null&&i$2.get(t$2.id))}));if(i$1.length!==0)return await this.connection.createDataChannels(e$1.uid,i$1),i$1.forEach((t$2=>{var i$2;this.remoteDataChannelMap.has(e$1)?(i$2=this.remoteDataChannelMap.get(e$1))==null||i$2.set(t$2.id,t$2):this.remoteDataChannelMap.set(e$1,new Map([[t$2.id,t$2]]));let n$1=this.pendingRemoteDataChannels.findIndex((i$3=>{let{user:n$2,id:r$1}=i$3;return n$2.uid===e$1.uid&&r$1===t$2.id}));n$1!==-1&&this.pendingRemoteDataChannels.splice(n$1,1)})),i$1.map((e$2=>e$2.id))}async subscribe(e$1,t$1,i$1,n$1,r$1){var o$1;if(!this.connection||this.state!==Cx.Connected)throw new pO(hO.INVALID_OPERATION,`Cannot subscribe remote user when peerConnection disconnected.`);if((o$1=this.remoteUserMap.get(e$1))!=null&&o$1.has(t$1))return;let s$1,a$1,c$1,d$1,l$1=this.connection.getPreMedia(i$1);if(l$1)iP.debug(`[${this.store.clientId}] [${this.store.p2pId}] preSSRCMap has ssrcId: ${i$1}, no need to send sub to gateway.`),c$1=l$1.transceiver,s$1=l$1.track,a$1=l$1.mid,d$1=l$1.player,l$1.firstVideoRender&&this.store.firstVideoFrameDecoded(e$1.uid,{firstPreRender:l$1.firstVideoRender});else if(r$1){let i$2=r$1.find((e$2=>{let{stream_type:i$3}=e$2;return i$3===t$1}));if(!i$2)throw new pO(hO.UNEXPECTED_ERROR,`Cannot subscribe to remote ${t$1} for user: ${e$1.uid} because subscribe answer from gateway does not contain stream_type: ${t$1}.`);let n$2=await this.connection.receive(t$1,i$2.ssrcs,String(e$1._uintid),i$2.attributes);(this.connection instanceof Fj||`name`in this.connection&&this.connection.name===`DataChannelConnection`)&&(c$1=n$2.transceiver),s$1=n$2.track,a$1=n$2.id}else{let r$2=await this.connection.receive(t$1,[{ssrcId:i$1,rtx:n$1}],String(e$1._uintid),void 0);(this.connection instanceof Fj||`name`in this.connection&&this.connection.name===`DataChannelConnection`)&&(c$1=r$2.transceiver),s$1=r$2.track,a$1=r$2.id}if(t$1===fx.AUDIO?(e$1._audioTrack?e$1._audioTrack._updateOriginMediaStreamTrack(s$1):(e$1._audioTrack=new $M(s$1,e$1.uid,e$1._uintid,this.store),iP.info(`[${this.store.clientId}] [${this.store.p2pId}] create remote audio track: ${e$1._audioTrack.getTrackId()}`)),c$1&&e$1._audioTrack._updateRtpTransceiver(c$1),this.bindRemoteTrackEvents(e$1,e$1._audioTrack)):(e$1._videoTrack?e$1._videoTrack._updateOriginMediaStreamTrack(s$1):(e$1._videoTrack=new ZM(s$1,e$1.uid,e$1._uintid,this.store,d$1),iP.info(`[${this.store.clientId}] [${this.store.p2pId}] create remote video track: ${e$1._videoTrack.getTrackId()}`),e$1._videoTrack.once(WP.PLAY_START,(()=>{this.store.firstVideoFrameDecoded(e$1.uid,{playStart:Date.now()})})),e$1._videoTrack.once(WP.PLAY_END,(()=>{this.store.firstVideoFrameDecoded(e$1.uid,{playEnd:Date.now()}),this.reportVideoFirstFrameRender(e$1)})),d$1?e$1._videoTrack.once(WP.FIRST_FRAME_RENDER,(()=>{this.store.firstVideoFrameDecoded(e$1.uid,{firstRender:Date.now()}),this.reportVideoFirstFrameRender(e$1)})):e$1._videoTrack.once(WP.FIRST_FRAME_DECODED,(()=>{this.store.firstVideoFrameDecoded(e$1.uid,{firstRender:Date.now()}),this.reportVideoFirstFrameRender(e$1)}))),c$1&&e$1._videoTrack._updateRtpTransceiver(c$1),this.bindRemoteTrackEvents(e$1,e$1._videoTrack)),c$1&&CD(`ENABLE_ENCODED_TRANSFORM`)){let{interceptRemoteVideoFrame:i$2,interceptRemoteAudioFrame:n$2}=aB();t$1==fx.VIDEO?await i$2(c$1.receiver,{onSei:CD(`ENABLE_VIDEO_SEI`)&&(t$2=>{var i$3;return e$1._videoTrack?._onSei(t$2)}),onFirstFrame:e$2=>{var t$2;let i$3=Array.from(WD(t$2=this.remoteUserMap).call(t$2)).find((t$3=>t$3._videoSSRC===e$2.ssrc));i$3&&this.store.firstVideoFrameDecoded(i$3.uid,{firstReceivedEncodedFrame:Date.now(),frameType:e$2.type,rtpTimestamp:e$2.rtpTimestamp,framePayloadType:e$2.payloadType,frameDataLength:e$2.length,mimeType:e$2.mimeType})}}):t$1==fx.AUDIO&&await n$2(c$1.receiver,{enableTopn:!!CD(`ENABLE_AUDIO_TOPN`),enableMetadata:!!CD(`ENABLE_AUDIO_METADATA`),enablePts:!!CD(`ENABLE_AUDIO_PTS`),onMetadata:e$2=>{this.safeEmit(vx.AudioMetadata,e$2)},onPts:e$2=>{this.safeEmit(vx.AudioPts,e$2)}})}let u$1=this.remoteUserMap.get(e$1);u$1?u$1.set(t$1,a$1):this.remoteUserMap.set(e$1,new Map([[t$1,a$1]])),this.statsCollector.addRemoteStats(e$1.uid),this.statsUploader.startUploadInboundStats();let h$1=this.pendingRemoteTracks.findIndex((i$2=>{let{user:n$2,kind:r$2}=i$2;return n$2.uid===e$1.uid&&t$1===r$2}));h$1!==-1&&(this.pendingRemoteTracks.splice(h$1,1),this.emit(vx.MediaReconnectEnd,e$1.uid))}async massSubscribe(e$1){return this.massSubscribeNoLock(e$1)}async massSubscribeNoLock(e$1){if(!this.connection||this.state!==Cx.Connected)throw new pO(hO.INVALID_OPERATION,`Cannot subscribeAll remote users when peerConnection disconnected.`);e$1=e$1.filter((e$2=>{var t$2;let{user:i$2,mediaType:n$2}=e$2;return!((t$2=this.remoteUserMap.get(i$2))!=null&&t$2.has(n$2))}));let t$1=[],i$1=new Map;e$1.forEach((e$2=>{if(!this.connection)return;let n$2=this.connection.getPreMedia(e$2.ssrcId);if(n$2){let{track:t$2,mid:r$1,transceiver:o$1,player:s$1}=n$2;i$1.set(e$2.ssrcId,{track:t$2,id:r$1,transceiver:o$1,player:s$1})}else t$1.push(e$2)}));let n$1=await this.connection.batchReceive(t$1.map((e$2=>{let{user:t$2,mediaType:i$2,ssrcId:n$2,rtxSsrcId:r$1}=e$2;return{kind:i$2,ssrcMsg:[{ssrcId:n$2,rtx:r$1}],mslabel:String(t$2._uintid)}})));t$1.forEach(((e$2,t$2)=>{i$1.set(e$2.ssrcId,n$1[t$2])}));for(let{user:t$2,mediaType:n$2,ssrcId:r$1}of e$1){let e$2=i$1.get(r$1);if(!e$2)return void iP.debug(`[${this.store.clientId}] [${this.store.p2pId}] cannot find ${t$2.uid} subscribe data,${n$2}, ${r$1}`);let{track:o$1,id:s$1,transceiver:a$1,player:c$1}=e$2;if(a$1&&CD(`ENABLE_ENCODED_TRANSFORM`)){let{interceptRemoteVideoFrame:e$3,interceptRemoteAudioFrame:i$2}=aB();n$2==fx.VIDEO?await e$3(a$1.receiver,{onSei:CD(`ENABLE_VIDEO_SEI`)&&(e$4=>{var i$3;return t$2._videoTrack?._onSei(e$4)}),onFirstFrame:e$4=>{var t$3;let i$3=Array.from(WD(t$3=this.remoteUserMap).call(t$3)).find((t$4=>t$4._videoSSRC===e$4.ssrc));i$3&&this.store.firstVideoFrameDecoded(i$3.uid,{firstReceivedEncodedFrame:Date.now(),frameType:e$4.type,rtpTimestamp:e$4.rtpTimestamp,framePayloadType:e$4.payloadType,frameDataLength:e$4.length,mimeType:e$4.mimeType})}}):n$2==fx.AUDIO&&await i$2(a$1.receiver,{enableTopn:!!CD(`ENABLE_AUDIO_TOPN`),enableMetadata:!!CD(`ENABLE_AUDIO_METADATA`),enablePts:!!CD(`ENABLE_AUDIO_PTS`),onMetadata:e$4=>{this.safeEmit(vx.AudioMetadata,e$4)},onPts:e$4=>{this.safeEmit(vx.AudioPts,e$4)}})}if(n$2===fx.AUDIO?(t$2._audioTrack?t$2._audioTrack._updateOriginMediaStreamTrack(o$1):(t$2._audioTrack=new $M(o$1,t$2.uid,t$2._uintid,this.store),iP.info(`[${this.store.clientId}] [${this.store.p2pId}] create remote audio track: ${t$2._audioTrack.getTrackId()}`)),a$1&&t$2._audioTrack._updateRtpTransceiver(a$1),this.bindRemoteTrackEvents(t$2,t$2._audioTrack)):(t$2._videoTrack?t$2._videoTrack._updateOriginMediaStreamTrack(o$1):(t$2._videoTrack=new ZM(o$1,t$2.uid,t$2._uintid,this.store,c$1),iP.info(`[${this.store.clientId}] [${this.store.p2pId}] create remote video track: ${t$2._videoTrack.getTrackId()}`)),a$1&&t$2._videoTrack._updateRtpTransceiver(a$1),this.bindRemoteTrackEvents(t$2,t$2._videoTrack)),CD(`ENABLE_VIDEO_SEI`)&&a$1){let{interceptRemoteVideoFrame:e$3,interceptRemoteAudioFrame:i$2}=aB();n$2==fx.VIDEO?await e$3(a$1.receiver,{onSei:e$4=>{var i$3;(i$3=t$2._videoTrack)==null||i$3._onSei(e$4)},onFirstFrame:e$4=>{var t$3;let i$3=Array.from(WD(t$3=this.remoteUserMap).call(t$3)).find((t$4=>t$4._videoSSRC===e$4.ssrc));i$3&&this.store.firstVideoFrameDecoded(i$3.uid,{firstReceivedEncodedFrame:Date.now(),frameType:e$4.type,rtpTimestamp:e$4.rtpTimestamp,framePayloadType:e$4.payloadType,frameDataLength:e$4.length,mimeType:e$4.mimeType})}}):n$2==fx.AUDIO&&await i$2(a$1.receiver)}let d$1=this.remoteUserMap.get(t$2);d$1?d$1.set(n$2,s$1):this.remoteUserMap.set(t$2,new Map([[n$2,s$1]])),this.statsCollector.addRemoteStats(t$2.uid),this.statsUploader.startUploadInboundStats();let l$1=this.pendingRemoteTracks.findIndex((e$3=>{let{user:i$2,kind:r$2}=e$3;return i$2.uid===t$2.uid&&n$2===r$2}));l$1!==-1&&(this.pendingRemoteTracks.splice(l$1,1),this.emit(vx.MediaReconnectEnd,t$2.uid))}}async unsubscribe(e$1,t$1,i$1){let n$1=this.pendingRemoteTracks.filter((i$2=>{let{user:n$2,kind:r$2}=i$2;return t$1===void 0?n$2.uid===e$1.uid:n$2.uid===e$1.uid&&t$1===r$2}));if(n$1.forEach((e$2=>{let t$2=this.pendingRemoteTracks.indexOf(e$2);this.pendingRemoteTracks.splice(t$2,1)})),this.connection&&this.state===Cx.Connected||i$1||n$1.forEach((t$2=>{let{kind:i$2}=t$2;var n$2;if(i$2===fx.AUDIO)(n$2=e$1._audioTrack)==null||n$2._destroy(),e$1._audioTrack=void 0;else if(i$2===fx.VIDEO){var r$2;(r$2=e$1._videoTrack)==null||r$2._destroy(),e$1._videoTrack=void 0}})),!this.connection||this.state!==Cx.Connected)return;let r$1=this.filterTobeUnSubscribedTracks(e$1,t$1);if(r$1.length===0)return;await this.connection.stopReceiving(r$1.map((e$2=>{let[,{id:t$2}]=e$2;return t$2})));let o$1=this.createUnsubscribeMessage(r$1);return this.withdrawRemoteTracks(r$1),this.remoteUserMap.size===0&&this.statsUploader.stopUploadInboundStats(),r$1.forEach((e$2=>{let[t$2,{kind:n$2}]=e$2;var r$2,o$2;if(n$2===fx.VIDEO&&t$2._videoSSRC&&((r$2=this.connection)==null||r$2.setStatsRemoteVideoIsReady(t$2._videoSSRC,!1)),n$2===fx.VIDEO)this.unbindRemoteTrackEvents(t$2._videoTrack),i$1||((o$2=t$2._videoTrack)==null||o$2._destroy(),t$2._videoTrack=void 0);else if(n$2===fx.AUDIO){var s$1;this.unbindRemoteTrackEvents(t$2._audioTrack),!i$1&&((s$1=t$2._audioTrack)==null||s$1._destroy(),t$2._audioTrack=void 0)}})),o$1}async unsubscribeDataChannel(e$1,t$1){if(t$1.forEach((e$2=>{let t$2=this.pendingRemoteDataChannels.findIndex((t$3=>t$3.id===e$2.id));t$2!==-1&&this.pendingRemoteDataChannels.splice(t$2,1)})),!this.connection)return;let i$1=this.filterTobeUnSubscribedDataChannels(e$1,t$1);if(i$1.length===0)return;t$1.forEach((e$2=>{e$2._close()}));let n$1=this.remoteDataChannelMap.get(e$1);return i$1.forEach((e$2=>{n$1&&n$1.delete(e$2.id)})),n$1&&n$1.size===0&&(this.remoteDataChannelMap.delete(e$1),await this.connection.stopDataChannels(e$1.uid)),i$1.map((e$2=>e$2.id))}async massUnsubscribe(e$1){return this.massUnsubscribeNoLock(e$1)}async massUnsubscribeNoLock(e$1){let t$1=[];for(let{user:i$2,mediaType:n$2}of e$1){let e$2=this.pendingRemoteTracks.filter((e$3=>{let{user:t$2,kind:r$1}=e$3;return n$2===void 0?t$2.uid===i$2.uid:t$2.uid===i$2.uid&&n$2===r$1}));e$2.forEach((e$3=>{let t$2=this.pendingRemoteTracks.indexOf(e$3);this.pendingRemoteTracks.splice(t$2,1)})),t$1=t$1.concat(e$2)}if(!this.connection||this.state!==Cx.Connected)return void t$1.forEach((e$2=>{let{user:t$2,kind:i$2}=e$2;var n$2;if(i$2===fx.AUDIO)(n$2=t$2._audioTrack)==null||n$2._destroy(),t$2._audioTrack=void 0;else if(i$2===fx.VIDEO){var r$1;(r$1=t$2._videoTrack)==null||r$1._destroy(),t$2._videoTrack=void 0}}));let i$1=nr(e$1).call(e$1,((e$2,t$2)=>{let{user:i$2,mediaType:n$2}=t$2,r$1=this.filterTobeUnSubscribedTracks(i$2,n$2);return e$2.concat(r$1)}),[]);if(i$1.length===0)return;await this.connection.stopReceiving(i$1.map((e$2=>{let[,{id:t$2}]=e$2;return t$2})));let n$1=this.createUnsubscribeAllMessage(i$1);return this.withdrawRemoteTracks(i$1),this.remoteUserMap.size===0&&this.statsUploader.stopUploadInboundStats(),i$1.forEach((e$2=>{let[t$2,{kind:i$2}]=e$2;var n$2,r$1;if(i$2===fx.VIDEO&&t$2._videoSSRC&&((n$2=this.connection)==null||n$2.setStatsRemoteVideoIsReady(t$2._videoSSRC,!1)),i$2===fx.VIDEO)this.unbindRemoteTrackEvents(t$2._videoTrack),(r$1=t$2._videoTrack)==null||r$1._destroy(),t$2._videoTrack=void 0;else if(i$2===fx.AUDIO){var o$1;this.unbindRemoteTrackEvents(t$2._audioTrack),(o$1=t$2._audioTrack)==null||o$1._destroy(),t$2._audioTrack=void 0}})),n$1}isPreSubScribe(e$1){return!this.connection||this.state!==Cx.Connected?!1:!!this.connection.getPreMedia(e$1)}async muteRemote(e$1,t$1){if(!this.connection)return;let i$1=this.remoteUserMap.get(e$1);if(!i$1)return void iP.warning(`[${this.store.clientId}] P2PChannel.muteRemote has no remote user ${e$1.uid}.`);if(!i$1.get(t$1))return void iP.warning(`[${this.store.clientId}] P2PChannel.muteRemote has no remote user ${e$1.uid} media type ${t$1}.`);let n$1=t$1===fx.VIDEO?e$1._videoSSRC:e$1._audioSSRC;n$1!==void 0&&this.connection.setStatsRemoteVideoIsReady(n$1,!1)}async unmuteRemote(e$1,t$1){return this.unmuteRemoteNoLock(e$1,t$1)}async unmuteRemoteNoLock(e$1,t$1){if(!this.connection)return;let i$1=this.remoteUserMap.get(e$1);if(!i$1)return void iP.warning(`[${this.store.clientId}] P2PChannel.unmuteRemote has no remote user ${e$1.uid}.`);i$1.get(t$1)||iP.warning(`[${this.store.clientId}] P2PChannel.unmuteRemote has no remote user ${e$1.uid} media type ${t$1}.`)}addAudioMetadata(e$1){let t$1=this.localTrackMap.get(Rx.LocalAudioTrack),i$1=t$1&&t$1.track;i$1&&i$1.metadata.push(e$1)}getAllTracks(e$1){let t$1=this.localTrackMap.get(Rx.LocalAudioTrack);if(t$1?.track instanceof Wk){let i$1=t$1.track;return Array.from(this.localTrackMap.entries()).filter((e$2=>{let[t$2]=e$2;return t$2!==Rx.LocalAudioTrack})).filter((t$2=>{let[i$2]=t$2;return!(e$1&&i$2===Rx.LocalVideoLowTrack)})).map((e$2=>{let[,{track:t$2}]=e$2;return t$2})).concat(i$1.trackList)}return Array.from(this.localTrackMap.entries()).filter((t$2=>{let[i$1]=t$2;return!(e$1&&i$1===Rx.LocalVideoLowTrack)})).map((e$2=>{let[,{track:t$2}]=e$2;return t$2}))}getAllDataChannels(){return this.localDataChannels}reportPublishEvent(e$1,t$1,i$1,n$1,r$1){if(e$1){let i$2=this.localTrackMap.get(Rx.LocalAudioTrack),o$2=n$1?this.localTrackMap.get(Rx.LocalVideoLowTrack):this.localTrackMap.get(Rx.LocalVideoTrack);lP.publish(this.store.sessionId,{eventElapse:tj.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e$1,ec:t$1,audioName:i$2?.track.getTrackLabel(),videoName:o$2?.track.getTrackLabel(),screenshare:o$2?.track._hints.indexOf(VP.SCREEN_TRACK)!==-1,audio:!!i$2,video:!!o$2,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r$1})}else{var o$1;i$1||=[];let s$1=i$1.find((e$2=>e$2 instanceof Bk)),a$1=n$1?this.localTrackMap.get(Rx.LocalVideoTrack)?.track:i$1.find((e$2=>e$2 instanceof kM));lP.publish(this.store.sessionId,{eventElapse:tj.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e$1,ec:t$1,audioName:s$1?.getTrackLabel(),videoName:a$1?.getTrackLabel(),screenshare:a$1?._hints.indexOf(VP.SCREEN_TRACK)!==-1,audio:!!s$1,video:!!a$1,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r$1})}}reportSubscribeEvent(e$1,t$1,i$1,n$1){let r$1=n$1===fx.VIDEO?i$1._videoSSRC:i$1._audioSSRC;r$1&&lP.subscribe(this.store.sessionId,{succ:e$1,ec:t$1,video:n$1===fx.VIDEO,audio:n$1===fx.AUDIO,peerid:i$1.uid,subscribeRequestid:r$1,p2pid:this.store.p2pId,eventElapse:tj.measureFromSubscribeStart(this.store.clientId,r$1),preSsrc:this.isPreSubScribe(r$1)})}reset(){iP.debug(`[${this.store.clientId}] P2PChannel.reset`),this.mutex=new PN(`P2PChannel-mutex`,this.store.clientId),this.connection&&=(this.resetConnection(this.connection),void 0),this.shouldForwardP2PCreation&&(this.connection=Lj(this.store),this.emit(vx.PeerConnectionStateChange,this.connection.peerConnectionState),this.bindConnectionEvents(this.connection)),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),this.statsUploader.stopUploadExtensionUsageStats(),this.statsUploader.stopUploadBaseStats(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.unbindRtpTransceiver();let e$1=this.localTrackMap.get(Rx.LocalAudioTrack);if(e$1?.track instanceof Wk){if(e$1.track.trackList.length>0){let t$1=e$1.track;e$1.track.trackList.forEach((e$2=>{t$1.removeAudioTrack(e$2)}))}e$1.track.close()}this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.iceFailedCount=0,this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.localDataChannels=[],this.remoteDataChannelMap.clear(),this.pendingLocalDataChannels=[],this.pendingRemoteDataChannels=[],this.state=Cx.Disconnected}getStats(){var e$1;return this.connection?.getStats()}getRemoteVideoIsReady(e$1){var t$1;return this.connection?.getRemoteVideoIsReady(e$1)||!1}getLocalAudioVolume(){let e$1=this.localTrackMap.get(Rx.LocalAudioTrack);if(e$1)return e$1.track.getVolumeLevel()}getLocalVideoSize(){let e$1=this.localTrackMap.get(Rx.LocalVideoTrack);if(e$1)return{width:e$1.track.videoWidth||0,height:e$1.track.videoHeight||0}}getEncoderConfig(e$1){let t$1=this.localTrackMap.get(e$1);return t$1&&t$1.track instanceof kM||t$1&&t$1.track instanceof Bk?t$1.track._encoderConfig:void 0}getLocalMedia(e$1){return this.localTrackMap.get(e$1)}hasLocalMedia(){return this.localTrackMap.size>0}hasRemoteMedia(e$1,t$1){if(!e$1)return this.remoteUserMap.size>0;let i$1=this.remoteUserMap.get(e$1);return!!i$1&&(!t$1||i$1.has(t$1))}async hasRemoteMediaWithLock(e$1,t$1){if(!e$1)return this.remoteUserMap.size>0;let i$1=this.remoteUserMap.get(e$1);return!!i$1&&(!t$1||i$1.has(t$1))}getRemoteMedia(e$1){var t$1;let i$1=Array.from(WD(t$1=this.remoteUserMap).call(t$1)).find((t$2=>t$2.uid===e$1));return i$1?{audioTrack:i$1.audioTrack,audioSSRC:i$1._audioSSRC,videoTrack:i$1.videoTrack,videoSSRC:i$1._videoSSRC}:{}}getAudioLevels(){let e$1=Array.from(this.remoteUserMap.entries()).map((e$2=>{let[t$2]=e$2;return{uid:t$2.uid,level:t$2.audioTrack?100*t$2.audioTrack._source.getAccurateVolumeLevel():0}})),t$1=this.localTrackMap.get(Rx.LocalAudioTrack);return t$1&&e$1.push({level:100*t$1.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),e$1=Qp(e$1).call(e$1,((e$2,t$2)=>e$2.level-t$2.level)),e$1}async disconnectForReconnect(){this.connection&&(iP.debug(`[${this.store.clientId}] P2PChannel.disconnectForReconnect closing P2PConnection`),this.state=Cx.Reconnecting,CD(`KEEP_LAST_FRAME`)&&this.remoteUserMap.size!==0&&Array.from(this.remoteUserMap.entries()).forEach((e$1=>{let[t$1]=e$1;var i$1;t$1._videoTrack&&t$1._videoTrack._player&&((i$1=t$1._videoTrack._player.getVideoElement())==null||i$1.pause(),t$1._videoTrack._player.isKeepLastFrame=!0,t$1._videoTrack._originMediaStreamTrack.stop())})),this.resetConnection(this.connection),this.connection=void 0,this.shouldForwardP2PCreation&&(this.connection=Lj(this.store),this.emit(vx.PeerConnectionStateChange,this.connection.peerConnectionState),this.bindConnectionEvents(this.connection)),this.localTrackMap.size!==0&&(Array.from(this.localTrackMap.entries()).forEach((e$1=>{var t$1;let[i$1,{track:n$1}]=e$1;switch(i$1){case Rx.LocalVideoTrack:Ln(t$1=n$1._hints).call(t$1,VP.LOW_STREAM)?n$1.close():this.pendingLocalTracks.push(n$1);break;case Rx.LocalAudioTrack:n$1 instanceof Wk?this.pendingLocalTracks=this.pendingLocalTracks.concat(n$1.trackList):this.pendingLocalTracks.push(n$1);case Rx.LocalVideoLowTrack:}})),this.emit(vx.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),this.remoteUserMap.size!==0&&Array.from(this.remoteUserMap.entries()).forEach((e$1=>{let[t$1,i$1]=e$1;Array.from(WD(i$1).call(i$1)).forEach((e$2=>{this.setPendingRemoteMedia(t$1,e$2)})),this.emit(vx.MediaReconnectStart,t$1.uid)})),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),this.localDataChannels.length!==0&&(this.localDataChannels.forEach((e$1=>{this.pendingLocalDataChannels.push(e$1)})),this.localDataChannels.length=0),this.remoteDataChannelMap.size!==0&&(Array.from(this.remoteDataChannelMap.entries()).forEach((e$1=>{let[t$1,i$1]=e$1;Array.from(WD(i$1).call(i$1)).forEach((e$2=>{this.setPendingRemoteDataChannel(t$1,e$2)}))})),this.remoteDataChannelMap.clear()),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),iP.debug(`[${this.store.clientId}] P2PChannel disconnected, waiting to reconnect.`))}hasPendingRemoteDataChannel(e$1,t$1){for(let i$1 of this.pendingRemoteDataChannels){let{user:n$1,id:r$1}=i$1;if((e$1 instanceof aj?e$1.uid:e$1)===n$1.uid&&r$1===t$1)return!0}return!1}setPendingRemoteDataChannel(e$1,t$1){this.hasPendingRemoteDataChannel(e$1,t$1)||this.pendingRemoteDataChannels.push({user:e$1,id:t$1})}hasPendingRemoteMedia(e$1,t$1){for(let i$1 of this.pendingRemoteTracks){let{user:n$1,kind:r$1}=i$1;if((e$1 instanceof aj?e$1.uid:e$1)===n$1.uid&&t$1===r$1)return!0}return!1}setPendingRemoteMedia(e$1,t$1){this.hasPendingRemoteMedia(e$1,t$1)||this.pendingRemoteTracks.push({user:e$1,kind:t$1})}restartICE(e$1){var t$1=this;return Mb((function*(){if(!t$1.connection||t$1.state!==Cx.Connected)return;let i$1=yield Vb(t$1.mutex.lock(`From P2PChannel.restartICE`)),n$1;try{n$1=yield Vb(t$1.connection.restartICE(e$1));let r$2=yield Vb(n$1.next());if(r$2.done)return;let s$1=yield r$2.value;switch(kj(t$1.connection)&&t$1.reportPCStats(Date.now(),!1,t$1._pcStatsUploadType),e$1){case Sx.UDP_TCP_RELAY:t$1._pcStatsUploadType=gx.UDP_TCP_RESTART;break;case Sx.TCP_RELAY:t$1._pcStatsUploadType=gx.TCP_RESTART;break;case Sx.RELAY:t$1._pcStatsUploadType=gx.RELAY_RESTART;break;default:t$1._pcStatsUploadType=gx.OLD_RESTART}t$1._isTryConnecting=!0,n$1.next(s$1)}catch(e$2){var r$1;(r$1=n$1)==null||r$1.throw(e$2)}finally{i$1()}}))()}getUplinkNetworkQuality(){if(!this.connection)return 0;let e$1=this.connection.getStats(),t$1=this.localTrackMap.get(Rx.LocalVideoTrack),i$1=this.localTrackMap.get(Rx.LocalAudioTrack),n$1=e$1.videoSend.find((e$2=>e$2.ssrc===t$1?.ssrcs[0].ssrcId)),r$1=e$1.audioSend.find((e$2=>e$2.ssrc===i$1?.ssrcs[0].ssrcId));if(!n$1||!r$1)return 1;let o$1=XO(this,vx.NeedSignalRTT),s$1=n$1?n$1.rttMs:void 0,a$1=r$1?r$1.rttMs:void 0,c$1=s$1&&a$1?(s$1+a$1)/2:s$1||a$1,d$1=(c$1&&o$1?(c$1+o$1)/2:c$1||o$1)||0,l$1=100*e$1.sendPacketLossRate*.7/50+.3*d$1/1500,u$1=l$1<.17?1:l$1<.36?2:l$1<.59?3:l$1<.1?4:5,h$1=t$1?.track;if(h$1&&h$1._encoderConfig&&h$1._hints.indexOf(VP.SCREEN_TRACK)===-1){let t$2=h$1._encoderConfig.bitrateMax,i$2=e$1.bitrate.actualEncoded;if(t$2&&i$2){let e$2=(1e3*t$2-i$2)/(1e3*t$2);return HU[e$2<.15?0:e$2<.3?1:e$2<.45?2:e$2<.6?3:4][u$1]}}return u$1}getDownlinkNetworkQuality(){if(!this.connection)return 0;let e$1=this.connection.getStats(),t$1=0;return Array.from(this.remoteUserMap.entries()).forEach((i$1=>{let[n$1]=i$1,r$1=n$1._audioSSRC,o$1=n$1._videoSSRC,s$1=e$1.audioRecv.find((e$2=>e$2.ssrc===r$1)),a$1=e$1.videoRecv.find((e$2=>e$2.ssrc===o$1));if(!s$1&&!a$1)return void(t$1+=1);let c$1=XO(this,vx.NeedSignalRTT),d$1=e$1.rtt,l$1=(d$1&&c$1?(d$1+c$1)/2:d$1||c$1)||0,u$1=s$1?s$1.jitterMs:void 0,h$1=e$1.recvPacketLossRate,p$1=.7*h$1*100/50+.3*l$1/1500;u$1&&(p$1=.6*h$1*100/50+.2*l$1/1500+.2*u$1/400),t$1+=p$1<.1?1:p$1<.17?2:p$1<.36?3:p$1<.59?4:5})),this.remoteUserMap.size>0?Math.round(t$1/this.remoteUserMap.size):t$1}async muteLocalTrack(e$1){return new rp(((t$1,i$1)=>{this.handleMuteLocalTrack(e$1,t$1,i$1)}))}async replaceTrack(e$1,t$1){var i$1;if(iP.debug(`[${this.store.clientId}] P2PChannel replaceTrack from [${e$1.getTrackId()}] to [${t$1.getTrackId()}]`),!this.connection||this.state!==Cx.Connected)return;let n$1=Array.from(this.localTrackMap.entries()).find((t$2=>{let[,{track:i$2}]=t$2;return e$1===i$2}));if(!n$1)return;let r$1=n$1[0];if(e$1!==t$1&&(this.unbindLocalTrackEvents([{track:e$1,type:r$1}]),this.bindLocalTrackEvents([{track:t$1,type:r$1}]),n$1[1].track=t$1),await this.connection?.replaceTrack(t$1,n$1[1].id),this.isPlanB){let e$2=n$1[1];e$2.id=t$1._mediaStreamTrack.id,this.localTrackMap.set(r$1,e$2)}if(r$1===Rx.LocalVideoTrack&&!CD(`DISABLE_DUAL_STREAM_USE_ENCODING`)&&pP().supportDualStreamEncoding){let t$2=this.localTrackMap.get(Rx.LocalVideoLowTrack);if(t$2){let i$2=e$1._mediaStreamTrack.clone();t$2.track._originMediaStreamTrack.stop(),t$2.track._mediaStreamTrack=i$2,t$2.track._originMediaStreamTrack=i$2,await new rp(((e$2,i$3)=>{this.handleReplaceTrack(t$2.track,e$2,i$3,!0)}))}}}filterTobePublishedTracks(e$1,t$1,i$1){let n$1=[],r$1=this.getAllTracks();e$1=rN(e$1=e$1.filter((e$2=>r$1.indexOf(e$2)===-1)));let o$1,s$1=!1,a$1=this.localTrackMap.get(Rx.LocalAudioTrack);for(let r$2 of e$1){if(r$2 instanceof kM&&(this.localTrackMap.has(Rx.LocalVideoTrack)||s$1?new pO(hO.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(n$1.push({track:r$2,type:Rx.LocalVideoTrack}),s$1=!0),t$1)){let e$2=this.getLowVideoTrack(r$2,i$1);n$1.push({track:e$2,type:Rx.LocalVideoLowTrack})}if(r$2 instanceof Bk)if(a$1){let e$2=a$1.track;if(e$2 instanceof Wk)Nj([r$2]),e$2.addAudioTrack(r$2),this.bindLocalAudioTrackEvents(r$2,!0);else{let t$2=Dj([e$2,r$2]);iP.debug(`[${this.store.clientId}] [p2pId: ${this.store.p2pId}]: P2PConnection will replace audioTrack [${t$2.getTrackId()}]`),this.replaceTrack(e$2,t$2)}}else o$1 instanceof Wk?(Nj([r$2]),o$1.addAudioTrack(r$2)):o$1=o$1||!r$2._useAudioElement&&pP().webAudioMediaStreamDest&&!r$2._bypassWebAudio?Dj(o$1?[r$2,o$1]:[r$2]):r$2}return o$1&&(iP.debug(`[${this.store.clientId}] [p2pId: ${this.store.p2pId}]: P2PConnection will send audioTrack [${o$1.getTrackId()}]`),n$1.push({track:o$1,type:Rx.LocalAudioTrack})),n$1}filterTobeUnpublishedTracks(e$1){let t$1=[],i$1=this.getAllTracks();e$1=rN(e$1=e$1.filter((e$2=>i$1.indexOf(e$2)!==-1)));for(let i$2 of e$1){if(i$2 instanceof Bk){let e$2=this.localTrackMap.get(Rx.LocalAudioTrack);if(!e$2)continue;e$2.track instanceof Wk?(e$2.track.removeAudioTrack(i$2),this.unbindLocalAudioTrackEvents(i$2),e$2.track.trackList.length===0&&(t$1.push([Rx.LocalAudioTrack,e$2]),e$2.track.close())):t$1.push([Rx.LocalAudioTrack,e$2])}if(i$2 instanceof kM){let e$2=this.localTrackMap.get(Rx.LocalVideoTrack);if(!e$2)continue;t$1.push([Rx.LocalVideoTrack,e$2]);let i$3=this.localTrackMap.get(Rx.LocalVideoLowTrack);i$3&&t$1.push([Rx.LocalVideoLowTrack,i$3])}}return t$1}filterTobePublishedDataChannels(e$1){return e$1=(e$1=rN(e$1)).filter((e$2=>this.localDataChannels.findIndex((t$1=>t$1.id===e$2.id))===-1))}filterTobeUnpublishedDataChannels(e$1){return e$1=(e$1=(e$1=rN(e$1)).filter((e$2=>this.localDataChannels.indexOf(e$2)!==-1))).filter((e$2=>e$2._originDataChannel))}bindLocalTrackEvents(e$1){e$1.forEach((e$2=>{let{track:t$1,type:i$1}=e$2;switch(i$1){case Rx.LocalVideoTrack:t$1.addListener(UP.GET_STATS,this.handleGetLocalVideoStats),t$1.addListener(UP.GET_RTC_STATS,this.handleGetRTCStats),t$1.addListener(UP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t$1.addListener(UP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t$1.addListener(UP.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t$1.addListener(UP.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),t$1.addListener(UP.NEED_REPLACE_TRACK,this.handleReplaceTrack),t$1.addListener(UP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t$1.addListener(UP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case Rx.LocalAudioTrack:this.bindLocalAudioTrackEvents(t$1);case Rx.LocalVideoLowTrack:}}))}bindLocalAudioTrackEvents(e$1,t$1){e$1 instanceof Wk?e$1.trackList.forEach((e$2=>{e$2.addListener(UP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e$2.addListener(UP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e$2.addListener(UP.GET_STATS,this.handleGetLocalAudioStats),e$2.addListener(UP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e$2.addListener(UP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e$1.addListener(UP.GET_STATS,this.handleGetLocalAudioStats),e$1.addListener(UP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e$1.addListener(UP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e$1.addListener(UP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e$1.addListener(UP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),t$1||(e$1.addListener(UP.NEED_REPLACE_TRACK,this.handleReplaceTrack),e$1.addListener(UP.NEED_REPLACE_MIXING_TRACK,this.handleReplaceMixingTrack)))}unbindLocalTrackEvents(e$1){e$1||=Array.from(this.localTrackMap.entries()).map((e$2=>{let[t$1,{track:i$1}]=e$2;return{track:i$1,type:t$1}})),e$1.forEach((e$2=>{let{track:t$1,type:i$1}=e$2;switch(i$1){case Rx.LocalVideoTrack:t$1.off(UP.GET_STATS,this.handleGetLocalVideoStats),t$1.off(UP.GET_RTC_STATS,this.handleGetRTCStats),t$1.off(UP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t$1.off(UP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t$1.off(UP.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t$1.off(UP.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),t$1.off(UP.NEED_REPLACE_TRACK,this.handleReplaceTrack),t$1.off(UP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t$1.off(UP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case Rx.LocalAudioTrack:this.unbindLocalAudioTrackEvents(t$1);case Rx.LocalVideoLowTrack:}}))}unbindLocalAudioTrackEvents(e$1){e$1 instanceof Wk?e$1.trackList.forEach((e$2=>{e$2.off(UP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e$2.off(UP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e$2.off(UP.GET_STATS,this.handleGetLocalAudioStats),e$2.off(UP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e$2.off(UP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e$1.off(UP.GET_STATS,this.handleGetLocalAudioStats),e$1.off(UP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e$1.off(UP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e$1.off(UP.NEED_REPLACE_TRACK,this.handleReplaceTrack),e$1.off(UP.NEED_REPLACE_MIXING_TRACK,this.handleReplaceMixingTrack),e$1.off(UP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e$1.off(UP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack))}bindRemoteTrackEvents(e$1,t$1){t$1 instanceof ZM&&t$1.addListener(UP.GET_STATS,(t$2=>{t$2(this.handleGetRemoteVideoStats(e$1))})),t$1 instanceof $M&&t$1.addListener(UP.GET_STATS,(t$2=>{t$2(this.handleGetRemoteAudioStats(e$1))}))}unbindRemoteTrackEvents(e$1){e$1&&e$1.removeAllListeners(UP.GET_STATS)}unbindAllRemoteTrackEvents(){Array.from(this.remoteUserMap.entries()).forEach((e$1=>{let[t$1,i$1]=e$1;i$1.has(fx.AUDIO)&&this.unbindRemoteTrackEvents(t$1._audioTrack),i$1.has(fx.VIDEO)&&this.unbindRemoteTrackEvents(t$1._videoTrack)}))}createGatewayPublishMessage(e$1,t$1){return e$1.map(((e$2,i$1)=>{var n$1;let r$1,o$1,{track:s$1,type:a$1}=e$2;switch(a$1){case Rx.LocalAudioTrack:r$1=ox.Audio,o$1={dtx:s$1 instanceof jk&&s$1._config.DTX,hq:!1,lq:!1,stereo:!1,speech:!1};break;case Rx.LocalVideoTrack:r$1=Ln(n$1=s$1._hints).call(n$1,VP.SCREEN_TRACK)?ox.Screen:ox.High,o$1=hG(hG({},lF(s$1)),{},{codec:this.store.codec,svc_mode:SF()});break;case Rx.LocalVideoLowTrack:r$1=ox.Low,o$1=hG(hG({},lF(s$1)),{},{codec:this.store.codec,svc_mode:SF()})}return{stream_type:r$1,attributes:o$1,ssrcs:t$1[i$1]}}))}createGatewayUnpublishMessage(e$1){return e$1.map((e$2=>{var t$1;let i$1,[n$1,{track:r$1,ssrcs:o$1,id:s$1}]=e$2;switch(n$1){case Rx.LocalVideoTrack:i$1=Ln(t$1=r$1._hints).call(t$1,VP.SCREEN_TRACK)?ox.Screen:ox.High;break;case Rx.LocalAudioTrack:i$1=ox.Audio;break;case Rx.LocalVideoLowTrack:i$1=ox.Low}return{stream_type:i$1,ssrcs:o$1,mid:s$1}}))}assignLocalTracks(e$1,t$1){e$1.forEach(((e$2,i$1)=>{let{track:n$1,type:r$1}=e$2;this.localTrackMap.set(r$1,{track:n$1,id:t$1[i$1].id,ssrcs:t$1[i$1].localSSRC})}))}withdrawLocalTracks(e$1){e$1.forEach((e$2=>{let[t$1]=e$2;this.localTrackMap.delete(t$1)}))}bindConnectionEvents(e$1){e$1.onConnectionStateChange=async t$1=>{if(iP.info(`[${this.store.clientId}] [p2pId: ${this.store.p2pId}]: P2PConnection.onConnectionStateChange(${t$1})`),this.emit(vx.PeerConnectionStateChange,t$1),t$1===`connecting`&&e$1 instanceof Fj&&!Bw()&&CD(`FIRST_TCP_CANDIDATE`)&&window.setTimeout((()=>{t$1===`connecting`&&e$1.extendCandidate()}),CD(`FIRST_TCP_CANDIDATE_INTERVAL`)),t$1!==`connected`||this.store.keyMetrics.peerConnectionEnd||this.store.peerConnectionEnd(),t$1===`connected`&&(this._restartTimer&&=(window.clearTimeout(this._restartTimer),void 0),e$1 instanceof Fj&&cG(e$1,!0),this._isTryConnecting&&this.reportPCStats(Date.now(),!0,this._pcStatsUploadType),this._isTryConnecting=!1,this._isStartRestartIce=!1,this._pcStatsUploadType=gx.DISCONNECTED_OR_FAILED,XO(this,vx.QueryClientConnectionState)===`CONNECTED`&&this._isWaitPcToRePub)){let e$2=this.pendingLocalTracks.map((e$3=>e$3.getTrackId())),t$2=this.pendingLocalDataChannels.map((e$3=>`dc_${e$3.id}`));lP.reportApiInvoke(this.store.sessionId,{name:LO.REPUB_AFTER_PC_CONNECTED,options:e$2.concat(t$2),tag:kO.TRACER}).onSuccess(),this.republish()}if(CD(`NEW_ICE_RESTART`)&&e$1 instanceof Fj&&!Bw()&&!this._forceTurn&&!this.store.useDcSignal){if(Ln(Tx).call(Tx,t$1)){if(this._isStartRestartIce)return;this._isStartRestartIce=!0;let t$2=t$3=>{kj(e$1)&&(iP.debug(`[${this.store.clientId}] [P2PChannel] try to restartICE, type is ${t$3}`),XO(this,vx.QueryClientConnectionState)===`CONNECTED`&&this.emit(vx.RequestRestartICE,t$3))},i$1=()=>{kj(e$1)&&(this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),iP.debug(`[${this.store.clientId}] P2PConnection disconnected timeout, force reconnect`),setTimeout((()=>this.emit(vx.P2PLost)),0),this.iceFailedCount+=1,this.requestReconnect())};this._restartTimer=window.setTimeout((()=>{dG(e$1,t$2,i$1)}),800);return}}else{if(t$1===`disconnected`&&e$1.iceConnectionState===`disconnected`)return setTimeout((()=>{e$1.iceConnectionState===`disconnected`&&CD(`ICE_RESTART`)&&XO(this,vx.QueryClientConnectionState)===`CONNECTED`&&this.emit(vx.RequestRestartICE)}),800),void setTimeout((()=>{e$1.peerConnectionState===`disconnected`&&(iP.debug(`[${this.store.clientId}] [p2pId: ${this.store.p2pId}]: P2PConnection disconnected timeout 4000ms, force reconnect`),this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),this._isTryConnecting=!1,setTimeout((()=>this.emit(vx.P2PLost)),0),this.iceFailedCount+=1,this.requestReconnect())}),4e3);t$1===`failed`&&(iP.debug(`[${this.store.clientId}] [p2pId: ${this.store.p2pId}]: P2PConnection state failed, force reconnect`),this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),setTimeout((()=>this.emit(vx.P2PLost)),0),this.iceFailedCount+=1,await this.requestReconnect())}},e$1.onICEConnectionStateChange=e$2=>{e$2!==`connected`||this.store.keyMetrics.iceConnectionEnd||this.store.iceConnectionEnd(),iP.info(`[${this.store.clientId}] [p2pId: ${this.store.p2pId}]: P2PConnection.onICEConnectionStateChange(${e$2})`),lP.reportApiInvoke(this.store.sessionId,{name:`ICEConnectionStateChange`,options:e$2,tag:kO.TRACER}).onSuccess(),this.emit(vx.IceConnectionStateChange,e$2)},e$1.onICETransportStateChange=e$2=>{iP.info(`[${this.store.clientId}] [p2pId: ${this.store.p2pId}]: P2PConnection.onICETransportStateChange(${e$2})`)},e$1.onDTLSTransportStateChange=e$2=>{iP.info(`[${this.store.clientId}] [p2pId: ${this.store.p2pId}]: P2PConnection.onDTLSTransportStateChange(${e$2})`)},e$1.onDTLSTransportError=e$2=>{iP.info(`[${this.store.clientId}] [p2pId: ${this.store.p2pId}]: P2PConnection.onDTLSTransportError(${e$2})`)},e$1.onFirstAudioDecoded=e$2=>{var t$1;let i$1=Array.from(WD(t$1=this.remoteUserMap).call(t$1)).find((t$2=>t$2._audioSSRC===e$2));var n$1;i$1&&(this.store.subscribe(i$1.uid,`audio`,void 0,void 0,void 0,Date.now()),(n$1=i$1.audioTrack)==null||n$1.emit(WP.FIRST_FRAME_DECODED),lP.firstRemoteFrame(this.store.sessionId,sP.FIRST_AUDIO_DECODE,aP.FIRST_AUDIO_DECODE,{peer:i$1._uintid,subscribeElapse:tj.measureFromSubscribeStart(this.store.clientId,e$2),subscribeRequestid:e$2,p2pid:this.store.p2pId}))},e$1.onFirstAudioReceived=e$2=>{var t$1;let i$1=Array.from(WD(t$1=this.remoteUserMap).call(t$1)).find((t$2=>t$2._audioSSRC===e$2));i$1&&lP.firstRemoteFrame(this.store.sessionId,sP.FIRST_AUDIO_RECEIVED,aP.FIRST_AUDIO_RECEIVED,{peer:i$1._uintid,subscribeElapse:tj.measureFromSubscribeStart(this.store.clientId,e$2),subscribeRequestid:e$2,p2pid:this.store.p2pId})},e$1.onFirstVideoDecoded=(e$2,t$1,i$1)=>{var n$1;let r$1=Array.from(WD(n$1=this.remoteUserMap).call(n$1)).find((t$2=>t$2._videoSSRC===e$2));r$1&&this.store.firstVideoFrameDecoded(r$1.uid,{firstDecoded:Date.now()}),this.reportVideoFirstFrameDecoded(e$2,t$1,i$1)},e$1.onFirstVideoRender=e$2=>{var t$1;let i$1=Array.from(WD(t$1=this.remoteUserMap).call(t$1)).find((t$2=>t$2._videoSSRC===e$2));i$1&&(this.store.firstVideoFrameDecoded(i$1.uid,{firstPreRender:Date.now()}),this.reportVideoFirstFrameRender(i$1),this.emit(vx.FirstVideoPreRender,i$1.uid,e$2))},e$1.onFirstVideoReceived=e$2=>{var t$1;let i$1=Array.from(WD(t$1=this.remoteUserMap).call(t$1)).find((t$2=>t$2._videoSSRC===e$2));i$1&&(this.store.firstVideoFrameDecoded(i$1.uid,{firstReceived:Date.now()}),lP.firstRemoteFrame(this.store.sessionId,sP.FIRST_VIDEO_RECEIVED,aP.FIRST_VIDEO_RECEIVED,{peer:i$1._uintid,subscribeElapse:tj.measureFromSubscribeStart(this.store.clientId,e$2),subscribeRequestid:e$2,p2pid:this.store.p2pId}))},e$1.onFirstVideoBufferReady=e$2=>{var t$1;let i$1=Array.from(WD(t$1=this.remoteUserMap).call(t$1)).find((t$2=>t$2._videoSSRC===e$2));i$1&&this.emit(vx.FirstVideoBufferReady,i$1.uid,e$2)},e$1.onSelectedLocalCandidateChanged=(e$2,t$1)=>{let i$1=e$2.candidateType===`relay`,n$1=t$1.candidateType===`relay`;t$1.candidateType!==`unknown`&&i$1===n$1||this.emit(vx.ConnectionTypeChange,i$1),iP.info(`[${this.store.clientId}] [p2pId: ${this.store.p2pId}]: P2PConnection.SelectedLocalCandidateChanged(${JSON.stringify(EF(t$1))} -> ${JSON.stringify(EF(e$2))})`)},e$1.onSelectedRemoteCandidateChanged=(e$2,t$1)=>{iP.info(`[${this.store.clientId}] [p2pId: ${this.store.p2pId}]: P2PConnection.SelectedRemoteCandidateChanged(${JSON.stringify(EF(t$1))} -> ${JSON.stringify(EF(e$2))})`)},e$1.onFirstVideoDecodedTimeout=e$2=>{this.reportVideoFirstFrameDecoded(e$2,void 0,void 0,!0)},e$1.getLocalVideoStats=()=>{let e$2=this.statsCollector.getLocalVideoTrackStats(),t$1=this.statsCollector.getRTCStats();return hG(hG({},e$2),t$1)},e$1.onICECandidateError=e$2=>{this._iceError=e$2}}fallbackConnection(){iP.debug(`[${this.store.clientId}] [P2PChannel] try to fallback connection`),this.state===Cx.Connected?(iP.debug(`[${this.store.clientId}] [P2PChannel] fallback to websocket but P2PChannel state still connected, disconnect first`),this.disconnectForReconnect()):(this.connection&&this.resetConnection(this.connection),this.shouldForwardP2PCreation&&(this.connection=Lj(this.store),this.emit(vx.PeerConnectionStateChange,this.connection.peerConnectionState),this.bindConnectionEvents(this.connection)))}resetConnection(e$1){e$1 instanceof Fj&&function(e$2){oG.delete(e$2.id),cG(e$2)}(e$1),e$1.close(),this.emit(vx.PeerConnectionStateChange,`closed`),function(e$2){e$2.onConnectionStateChange=void 0,e$2.onICEConnectionStateChange=void 0,e$2.onICETransportStateChange=void 0,e$2.onDTLSTransportStateChange=void 0,e$2.onDTLSTransportError=void 0,e$2.onFirstAudioDecoded=void 0,e$2.onFirstAudioReceived=void 0,e$2.onFirstVideoDecoded=void 0,e$2.onFirstVideoReceived=void 0,e$2.onSelectedLocalCandidateChanged=void 0,e$2.onSelectedRemoteCandidateChanged=void 0,e$2.onFirstVideoDecodedTimeout=void 0,e$2.getLocalVideoStats=void 0}(e$1),this._isWaitPcToRePub=!1}filterTobeMutedTracks(e$1){let t$1=[];if(this.getAllTracks().indexOf(e$1)===-1)return t$1;let i$1=this.localTrackMap.get(Rx.LocalAudioTrack);if(e$1 instanceof Bk&&i$1?.track instanceof Wk)return i$1.track.isActive||t$1.push([Rx.LocalAudioTrack,i$1]),t$1;let n$1=Array.from(this.localTrackMap.entries()).find((t$2=>{let[,{track:i$2}]=t$2;return e$1===i$2}));if(n$1&&(t$1.push(n$1),n$1[0]===Rx.LocalVideoTrack)){let e$2=this.localTrackMap.get(Rx.LocalVideoLowTrack);e$2&&t$1.push([Rx.LocalVideoLowTrack,e$2])}return t$1}filterTobeUnmutedTracks(e$1){let t$1=[],i$1=this.localTrackMap.get(Rx.LocalAudioTrack);if(e$1 instanceof Bk&&i$1?.track instanceof Wk)return i$1.track.isActive&&t$1.push([Rx.LocalAudioTrack,i$1]),t$1;let n$1=Array.from(this.localTrackMap.entries()).find((t$2=>{let[,{track:i$2}]=t$2;return e$1===i$2}));if(n$1)if(n$1[0]===Rx.LocalVideoTrack){t$1.push(n$1);let e$2=this.localTrackMap.get(Rx.LocalVideoLowTrack);e$2&&t$1.push([Rx.LocalVideoLowTrack,e$2])}else t$1.push(n$1);return t$1}createMuteMessage(e$1){return e$1.map((e$2=>{var t$1;let i$1,[n$1,{track:r$1,ssrcs:o$1,id:s$1}]=e$2;switch(n$1){case Rx.LocalAudioTrack:i$1=ox.Audio;break;case Rx.LocalVideoTrack:i$1=Ln(t$1=r$1._hints).call(t$1,VP.SCREEN_TRACK)?ox.Screen:ox.High;break;case Rx.LocalVideoLowTrack:i$1=ox.Low}return{stream_type:i$1,ssrcs:o$1,mid:s$1}}))}createUnmuteMessage(e$1){return e$1.map((e$2=>{var t$1;let i$1,[n$1,{track:r$1,ssrcs:o$1,id:s$1}]=e$2;switch(n$1){case Rx.LocalAudioTrack:i$1=ox.Audio;break;case Rx.LocalVideoTrack:i$1=Ln(t$1=r$1._hints).call(t$1,VP.SCREEN_TRACK)?ox.Screen:ox.High;break;case Rx.LocalVideoLowTrack:i$1=ox.Low}return{stream_type:i$1,ssrcs:o$1,mid:s$1}}))}filterTobeUnSubscribedTracks(e$1,t$1){let i$1=[],n$1=this.remoteUserMap.get(e$1);if(!n$1)return i$1;if(t$1){let r$1=n$1.get(t$1);if(!r$1)return i$1;i$1.push([e$1,{kind:t$1,id:r$1}])}else Array.from(n$1.entries()).forEach((t$2=>{let[n$2,r$1]=t$2;i$1.push([e$1,{kind:n$2,id:r$1}])}));return i$1}filterTobeUnSubscribedDataChannels(e$1,t$1){let i$1=[];return t$1.forEach((t$2=>{var n$1;(n$1=this.remoteDataChannelMap.get(e$1))!=null&&n$1.has(t$2.id)&&i$1.push(t$2)})),i$1}createUnsubscribeMessage(e$1){let t$1=[];return e$1.forEach((e$2=>{let[i$1,{kind:n$1,id:r$1}]=e$2;switch(n$1){case fx.VIDEO:i$1._videoSSRC&&t$1.push({stream_type:fx.VIDEO,ssrcId:i$1._videoSSRC});return;case fx.AUDIO:i$1._audioSSRC&&t$1.push({stream_type:fx.AUDIO,ssrcId:i$1._audioSSRC});return}})),t$1}createUnsubscribeAllMessage(e$1){let t$1=new Map;return e$1.forEach((e$2=>{let[i$1,{kind:n$1}]=e$2;if(t$1.has(i$1)){let e$3=t$1.get(i$1);n$1===fx.VIDEO?e$3|=cx.Video:e$3|=cx.Audio,t$1.set(i$1,e$3)}else n$1===fx.VIDEO?t$1.set(i$1,cx.Video):t$1.set(i$1,cx.Audio)})),{users:Array.from(t$1.entries()).map((e$2=>{let[t$2,i$1]=e$2;return{stream_id:t$2.uid,stream_type:i$1}}))}}withdrawRemoteTracks(e$1){e$1.forEach((e$2=>{let[t$1,{kind:i$1}]=e$2,n$1=this.remoteUserMap.get(t$1);n$1&&(n$1.delete(i$1),Array.from(n$1.entries()).length===0&&this.remoteUserMap.delete(t$1))}))}async updateBitrateLimit(e$1){let t$1=this.localTrackMap.get(Rx.LocalVideoTrack),i$1=this.localTrackMap.get(Rx.LocalVideoLowTrack);t$1&&(await t$1.track.setBitrateLimit(e$1.uplink),await new rp(((e$2,i$2)=>{this.handleUpdateVideoEncoder(t$1.track,e$2,i$2,!0)}))),i$1&&e$1.low_stream_uplink&&(await i$1.track.setBitrateLimit({max_bitrate:e$1.low_stream_uplink.bitrate,min_bitrate:e$1.low_stream_uplink.bitrate||0}),await new rp(((e$2,t$2)=>{this.handleUpdateVideoEncoder(i$1.track,e$2,t$2,!0)})))}isP2PDisconnected(){return this.connection?this.connection.peerConnectionState!==`connected`:!0}isPreallocation(){return!(!this.connection||!(`name`in this.connection)||this.connection.name!==`DataChannelConnection`||this.connection.peerConnectionState===`closed`)||this.connection instanceof Fj&&this.connection.isPreallocation}isPreSub(){return(this.connection&&`name`in this.connection&&this.connection.name===`DataChannelConnection`&&this.connection.peerConnectionState!==`closed`||this.connection instanceof Fj)&&this.connection.isPreSub()}isPreRender(){return this.connection instanceof Fj&&this.connection.isPreRender}mapPubResToRemoteConfig(e$1,t$1,i$1){return e$1.map(((e$2,n$1)=>{var r$1;let{stream_type:o$1}=e$2,s$1=t$1.find((e$3=>{let{stream_type:t$2}=e$3;return o$1===t$2}))?.attributes;if(s$1&&CD(`DISABLE_SCREEN_SHARE_REMB`)){let e$3=i$1[n$1]._hints;(Ln(e$3).call(e$3,VP.SCREEN_TRACK)||Ln(e$3).call(e$3,VP.SCREEN_LOW_TRACK))&&(s$1.remb=!1,iP.debug(`disable remb for screen share, hints:`,e$3))}return s$1}))}async tryToUnmuteAudio(e$1){for(let i$1=0;i$1<e$1.length;i$1++)if(e$1[i$1]instanceof Bk){var t$1;let n$1=this.filterTobeUnmutedTracks(e$1[i$1]);if(n$1.length===0)continue;await this.connection?.unmuteLocal(n$1.map((e$2=>{let[,{id:t$2}]=e$2;return t$2})));let r$1=this.createUnmuteMessage(n$1);await qO(this,vx.RequestUnmuteLocal,r$1);return}}bindStatsUploaderEvents(){this.statsUploader.requestStats=()=>this.getStats(),this.statsUploader.requestLocalMedia=()=>Array.from(this.localTrackMap.entries()),this.statsUploader.requestRemoteMedia=()=>Array.from(this.remoteUserMap.entries()),this.statsUploader.requestVideoIsReady=e$1=>{var t$1;return!((t$1=this.connection)==null||!t$1.getRemoteVideoIsReady(e$1))},this.statsUploader.requestUpload=(e$1,t$1)=>this.emit(vx.RequestUpload,e$1,t$1),this.statsUploader.requestUploadStats=e$1=>this.emit(vx.RequestUploadStats,e$1),this.statsUploader.requestAllTracks=()=>this.getAllTracks(),this.statsUploader.requestTransportStats=()=>{var e$1;return{connectState:this.connection?.peerConnectionState||`closed`}}}unbindStatsUploaderEvents(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0}async requestReconnect(){this.dtlsFailedCount+=1,await fN(MN(this.dtlsFailedCount,kN)),this.emit(vx.RequestReconnect)}async reconnectP2P(){let e$1=Array.from(this.localTrackMap.entries()),t$1=this.createGatewayUnpublishMessage(e$1);Array.from(this.remoteUserMap.entries()),t$1.length>0&&await zO(this,vx.RequestUnpublishForReconnectPC,t$1),this.disconnectForReconnect(),this.emit(vx.RequestReconnectPC)}canPublishLowStream(){return this.localTrackMap.has(Rx.LocalVideoTrack)||this.pendingLocalTracks.some((e$1=>e$1 instanceof kM))}throwIfTrackTypeNotMatch(e$1){if(e$1.filter((e$2=>e$2 instanceof kM)).length>1)throw new pO(hO.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(e$1.filter((e$2=>e$2 instanceof Bk)).length>1&&(e$1.some((e$2=>e$2 instanceof Bk&&e$2._bypassWebAudio))||!pP().webAudioMediaStreamDest))throw new pO(hO.NOT_SUPPORTED,`cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode`);for(let t$1 of e$1){if(t$1 instanceof kM&&this.pendingLocalTracks.some((e$2=>e$2 instanceof kM)))throw new pO(hO.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(t$1 instanceof Bk&&this.pendingLocalTracks.some((e$2=>e$2 instanceof Bk))&&(!pP().webAudioMediaStreamDest||t$1._bypassWebAudio||this.pendingLocalTracks.some((e$2=>e$2 instanceof Bk&&e$2._bypassWebAudio))))throw new pO(hO.NOT_SUPPORTED,`cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode`)}}getLowVideoTrack(e$1,t$1){var i$1;let n$1=!CD(`DISABLE_DUAL_STREAM_USE_ENCODING`)&&pP().supportDualStreamEncoding,r$1=hG(hG({},{width:160,height:120,framerate:15,bitrate:50}),t$1),o$1;o$1=n$1?e$1._mediaStreamTrack.clone():jj(e$1,r$1);let s$1=SN(8,`track-low-`),a$1=new kM(o$1,hG(hG({},n$1&&{scaleResolutionDownBy:_F(r$1,e$1)}),{},{frameRate:r$1.framerate,bitrateMax:r$1.bitrate,bitrateMin:r$1.bitrate}),void 0,void 0,s$1);return a$1.on(jP.TRANSCEIVER_UPDATED,(t$2=>{e$1._updateRtpTransceiver(t$2,xP.LOW_STREAM)})),a$1._hints.push(VP.LOW_STREAM),Ln(i$1=e$1._hints).call(i$1,VP.SCREEN_TRACK)&&a$1._hints.push(VP.SCREEN_LOW_TRACK),e$1.on(`sei-to-send`,(e$2=>{a$1.emit(`sei-to-send`,e$2)})),e$1.addListener(UP.NEED_CLOSE,(()=>{a$1.close()})),a$1}async globalLock(){return this.mutex.lock(`From P2PChannel.globalLock`)}async reportPCStats(e$1,t$1,i$1){let n$1=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(this.connection&&this.connection instanceof Fj){var r$1,o$1,s$1,a$1;let c$1=this.store.keyMetrics.descriptionStart||0,{iceConnectionState:d$1,dtlsTransportState:l$1,peerConnectionState:u$1}=this.connection,{local:h$1,remote:p$1}=await this.connection.getSelectedCandidatePair();lP.pcStats(this.store.sessionId,{startTime:c$1,eventElapse:e$1-c$1||0,iceconnectionsate:d$1,dtlsstate:l$1,connectionstate:u$1,intSucc:t$1?1:2,error:this._iceError||n$1||``,selectedLocalCandidateProtocol:h$1?.protocol??``,selectedLocalCandidateType:h$1.candidateType??``,selectedLocalCandidateAddress:`${h$1.address}:${h$1.port}`,selectedRemoteCandidateProtocol:p$1.protocol??``,selectedRemoteCandidateType:p$1.candidateType??``,selectedRemoteCandidateAddress:`${p$1.address}:${p$1.port}`,restartCnt:i$1,preallocation:this.connection.isPreallocation}),this._iceError=null}}reportVideoFirstFrameRender(e$1){let t$1=this.store.keyMetrics,i$1=t$1.firstVideoFrameDecoded.find((t$2=>t$2.userId===e$1.uid));if(!i$1)return;let{isInternalUpload:n$1,isExternalUpload:r$1}=i$1;if(n$1&&r$1)return;let{subscribeEnd:o$1,firstPreRender:s$1,peerPublishDuration:a$1,peerPubStatusMs:c$1}=i$1,{firstRender:d$1=0}=i$1;if(o$1&&(d$1||s$1)&&a$1&&c$1){i$1.isInternalUpload=!0;let{playEnd:n$2}=i$1;n$2&&(i$1.isExternalUpload=!0);let{firstPreRender:r$2=0}=i$1;d$1=r$2||d$1;let s$2=e$1.videoTrack,l$1={peer:e$1._uintid,width:s$2?._videoWidth||0,height:s$2?._videoHeight||0,ssrc:e$1._videoSSRC||0,p2pid:this.store.p2pId,peerPublishDuration:a$1,peerPubStatusMs:c$1,joinChannelStart:t$1.joinStart||0,preloadStart:t$1.preloadStart||0,preloadEnd:t$1.preloadEnd||0,apStart:t$1.requestAPStart||0,apEnd:t$1.requestAPEnd||0,suaEnd:t$1.requestSUAEnd||0,beforeConnect:t$1.beforeConnect||0,peerReceiver:t$1.peerReceiver||0,ice:t$1.iceConnectionEnd||0,pc:t$1.peerConnectionEnd||0,signalConnected:t$1.signalConnected||0,joinReq:t$1.joinReq||0,joinRes:t$1.joinRep||0,userJoinNotify:i$1.userJoinNotify||0,videoAddNotify:i$1.videoAddNotify||0,subscribeStart:i$1.subscribeStart||0,subscribeEnd:i$1.subscribeEnd||0,firstReceived:i$1.firstReceived||0,firstDecoded:i$1.firstDecoded||0,firstPreRender:r$2||0,firstRender:n$2?Math.max(d$1,n$2):Math.max(d$1,o$1),playStart:i$1.playStart||0,playEnd:i$1.playEnd||0,isPreSub:!(!e$1._videoSSRC||!this.isPreSubScribe(e$1._videoSSRC)),isPrePc:this.isPreallocation(),isPreInstantVideo:fP(this.store),firstReceivedEncodedFrame:i$1.firstReceivedEncodedFrame||0,frameType:i$1.frameType||``,rtpTimestamp:i$1.rtpTimestamp||0,framePayloadType:i$1.framePayloadType||0,frameDataLength:i$1.frameDataLength||0,mimeType:i$1.mimeType||``};lP.firstXLAPeerFirstVideoFrame(this.store.sessionId,l$1)}}reportVideoFirstFrameDecoded(e$1,t$1,i$1,n$1){var r$1;let o$1=Array.from(WD(r$1=this.remoteUserMap).call(r$1)).find((t$2=>t$2._videoSSRC===e$1));if(o$1){n$1||this.store.subscribe(o$1.uid,`video`,void 0,void 0,void 0,void 0,Date.now());let r$2=this.store.keyMetrics,s$1=r$2.subscribe.find((e$2=>e$2.userId===o$1.uid&&e$2.type===`video`));lP.firstRemoteVideoDecode(this.store.sessionId,sP.FIRST_VIDEO_DECODE,aP.FIRST_VIDEO_DECODE,{peer:o$1._uintid,videowidth:t$1,videoheight:i$1,subscribeElapse:tj.measureFromSubscribeStart(this.store.clientId,e$1),subscribeRequestid:e$1,p2pid:this.store.p2pId,apEnd:r$2.requestAPEnd||0,apStart:r$2.requestAPStart||0,joinGwEnd:r$2.joinGatewayEnd||0,joinGwStart:r$2.joinGatewayStart||0,pcEnd:r$2.peerConnectionEnd||0,pcStart:r$2.peerConnectionStart||0,subscriberEnd:s$1?.subscribeEnd||0,subscriberStart:s$1?.subscribeStart||0,videoAddNotify:s$1?.streamAdded||0,state:n$1?1:0,firstFrame:s$1?.firstFrame||0})}}async remoteMediaSsrcChanged(e$1,t$1,i$1){if(!this.connection)return!1;let n$1=this.remoteUserMap.get(e$1);if(!n$1)return!1;let r$1=n$1.get(t$1);if(!r$1)return!1;let o$1=await this.connection.getRemoteSSRC(r$1);return o$1!==void 0&&o$1!==i$1}unbindRtpTransceiver(){this.localTrackMap.size!==0&&Array.from(this.localTrackMap.entries()).forEach((e$1=>{let[t$1,{track:i$1}]=e$1;t$1===Rx.LocalVideoLowTrack?i$1._updateRtpTransceiver(void 0,xP.LOW_STREAM):i$1._updateRtpTransceiver(void 0)}))}},DV(lG.prototype,`startP2PConnection`,[mG],Object.getOwnPropertyDescriptor(lG.prototype,`startP2PConnection`),lG.prototype),DV(lG.prototype,`connect`,[mG],Object.getOwnPropertyDescriptor(lG.prototype,`connect`),lG.prototype),DV(lG.prototype,`updateRemoteRTPCapabilities`,[mG],Object.getOwnPropertyDescriptor(lG.prototype,`updateRemoteRTPCapabilities`),lG.prototype),DV(lG.prototype,`publishDataChannel`,[mG],Object.getOwnPropertyDescriptor(lG.prototype,`publishDataChannel`),lG.prototype),DV(lG.prototype,`unpublish`,[mG],Object.getOwnPropertyDescriptor(lG.prototype,`unpublish`),lG.prototype),DV(lG.prototype,`unpublishDataChannel`,[mG],Object.getOwnPropertyDescriptor(lG.prototype,`unpublishDataChannel`),lG.prototype),DV(lG.prototype,`unpublishLowStream`,[mG],Object.getOwnPropertyDescriptor(lG.prototype,`unpublishLowStream`),lG.prototype),DV(lG.prototype,`subscribeDataChannel`,[mG],Object.getOwnPropertyDescriptor(lG.prototype,`subscribeDataChannel`),lG.prototype),DV(lG.prototype,`subscribe`,[mG],Object.getOwnPropertyDescriptor(lG.prototype,`subscribe`),lG.prototype),DV(lG.prototype,`massSubscribe`,[mG],Object.getOwnPropertyDescriptor(lG.prototype,`massSubscribe`),lG.prototype),DV(lG.prototype,`unsubscribe`,[mG],Object.getOwnPropertyDescriptor(lG.prototype,`unsubscribe`),lG.prototype),DV(lG.prototype,`unsubscribeDataChannel`,[mG],Object.getOwnPropertyDescriptor(lG.prototype,`unsubscribeDataChannel`),lG.prototype),DV(lG.prototype,`massUnsubscribe`,[mG],Object.getOwnPropertyDescriptor(lG.prototype,`massUnsubscribe`),lG.prototype),DV(lG.prototype,`muteRemote`,[mG],Object.getOwnPropertyDescriptor(lG.prototype,`muteRemote`),lG.prototype),DV(lG.prototype,`unmuteRemote`,[mG],Object.getOwnPropertyDescriptor(lG.prototype,`unmuteRemote`),lG.prototype),DV(lG.prototype,`hasRemoteMediaWithLock`,[mG],Object.getOwnPropertyDescriptor(lG.prototype,`hasRemoteMediaWithLock`),lG.prototype),DV(lG.prototype,`disconnectForReconnect`,[mG],Object.getOwnPropertyDescriptor(lG.prototype,`disconnectForReconnect`),lG.prototype),DV(lG.prototype,`updateBitrateLimit`,[mG],Object.getOwnPropertyDescriptor(lG.prototype,`updateBitrateLimit`),lG.prototype),DV(lG.prototype,`remoteMediaSsrcChanged`,[mG],Object.getOwnPropertyDescriptor(lG.prototype,`remoteMediaSsrcChanged`),lG.prototype),lG);function mG(e$1,t$1,i$1){let n$1=e$1[t$1];if(typeof n$1!=`function`)throw Error(`Cannot use mutex on object property.`);return i$1.value=async function(){let i$2=await this.mutex.lock(`From P2PChannel.${t$1}`);try{var o$1=[...arguments];return await n$1.apply(this,o$1)}finally{i$2()}},i$1}function fG(e$1,t$1){var i$1=Object.keys(e$1);if(Object.getOwnPropertySymbols){var n$1=Object.getOwnPropertySymbols(e$1);t$1&&(n$1=n$1.filter((function(t$2){return Object.getOwnPropertyDescriptor(e$1,t$2).enumerable}))),i$1.push.apply(i$1,n$1)}return i$1}function SG(e$1){for(var t$1=1;t$1<arguments.length;t$1++){var i$1=arguments[t$1]==null?{}:arguments[t$1];t$1%2?fG(Object(i$1),!0).forEach((function(t$2){iA(e$1,t$2,i$1[t$2])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e$1,Object.getOwnPropertyDescriptors(i$1)):fG(Object(i$1)).forEach((function(t$2){Object.defineProperty(e$1,t$2,Object.getOwnPropertyDescriptor(i$1,t$2))}))}return e$1}let gG=Date.now(),TG=20,RG=new Map,CG=new Map;async function vG(e$1){let t$1=RG.get(e$1),i$1=Array.isArray(t$1)&&t$1[t$1.length-1],n$1=CG.get(e$1);if(!i$1)return void(n$1.isSyncing=!1);let r$1={uid:i$1.uid,payload:i$1.payload};n$1.firstRecvTs===0&&(n$1.firstRecvTs=i$1.recvTs,n$1.firstSendTs=i$1.sendTs);let o$1=i$1.sendTs-n$1.firstSendTs,s$1=o$1-(Date.now()-n$1.firstRecvTs);s$1>0&&(n$1.firstRecvTs=Date.now()-o$1);let a$1=i$1.mediaDelay+s$1;a$1<=0?(t$1.pop(),yG(i$1.context,r$1),a$1=0):a$1=Math.min(a$1,20),setTimeout((()=>t$1.length&&vG(e$1)),a$1)}function yG(e$1,t$1){e$1.safeEmit(GO.STREAM_MESSAGE,t$1.uid,t$1.payload),e$1.onStreamMessage&&e$1.onStreamMessage(t$1)}function IG(e$1){let t$1=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i$1=arguments.length>2?arguments[2]:void 0;if(!e$1.syncWithAudio)return yG(i$1,{uid:e$1.uid,payload:e$1.payload});let n$1=`${i$1.id}-${e$1.uid}`,r$1=RG.get(n$1)||[],o$1=r$1.findIndex((t$2=>e$1.sendTs>=t$2.sendTs)),s$1=SG(SG({},e$1),{},{context:i$1,mediaDelay:t$1,recvTs:Date.now()});o$1===-1?r$1.push(s$1):r$1.splice(o$1,0,s$1),RG.set(n$1,r$1);let a$1=!1;var c$1;CG.has(n$1)?a$1=!((c$1=CG.get(n$1))==null||!c$1.isSyncing):CG.set(n$1,{isSyncing:a$1,firstRecvTs:0,firstSendTs:0}),a$1||vG(n$1)}let AG=Dw().name;function bG(e$1,t$1){var i$1=Object.keys(e$1);if(Object.getOwnPropertySymbols){var n$1=Object.getOwnPropertySymbols(e$1);t$1&&(n$1=n$1.filter((function(t$2){return Object.getOwnPropertyDescriptor(e$1,t$2).enumerable}))),i$1.push.apply(i$1,n$1)}return i$1}function wG(e$1){for(var t$1=1;t$1<arguments.length;t$1++){var i$1=arguments[t$1]==null?{}:arguments[t$1];t$1%2?bG(Object(i$1),!0).forEach((function(t$2){iA(e$1,t$2,i$1[t$2])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e$1,Object.getOwnPropertyDescriptors(i$1)):bG(Object(i$1)).forEach((function(t$2){Object.defineProperty(e$1,t$2,Object.getOwnPropertyDescriptor(i$1,t$2))}))}return e$1}let OG=`websdk_ng_cache_parameter`,NG=CD(`MAX_PRELOAD_ASYNC_LENGTH`),DG=1e4,PG=new Map,LG=[],kG=null,MG=0,UG=0,VG=new Map,xG=new Uint8Array([241,141,127,212,103,139,200,225,251,157,127,139,143,2,22,163]),FG=function(e$1,t$1){let i$1=[],n$1=0,r$1=async()=>{let e$2=i$1.shift();e$2&&await e$2(),i$1.length>0&&n$1<t$1?r$1():n$1--};return async function(){var s$1=[...arguments];return new rp((async(o$2,a$2)=>{i$1.push((async()=>{try{o$2(await e$1(...s$1))}catch(e$2){a$2(e$2)}})),n$1<t$1&&(n$1++,r$1())}))}}(GG,NG),BG=Tw.CancelToken.source();class jG{constructor(){iA(this,`_audioContext`,null)}createMuteAudioTrack(){this._audioContext=new AudioContext;let e$1=this._audioContext.sampleRate,t$1=10*e$1,i$1=this._audioContext.createBuffer(2,t$1,e$1),n$1=this._audioContext.createBufferSource();n$1.buffer=i$1;let r$1=this._audioContext.createMediaStreamDestination();return n$1.connect(r$1),n$1.start(),r$1.stream.getAudioTracks()[0]}close(){this._audioContext&&=(this._audioContext.close(),null)}}async function GG(e$1,t$1,i$1,n$1,r$1,o$1,s$1){try{if(!CD(`ENABLE_PRELOAD`))return;if(!pP().supportWebCrypto)return void dN((()=>{iP.warn(`Your browser does not support preloading, this feature  be run in a secure environment`)}),`preload_webcrypto_not_supported`);if(!i$1&&i$1!==null)throw new pO(hO.INVALID_PARAMS,`Invalid token: ${i$1}. If you don not use token, set it to null`);i$1&&SO(i$1,`token`,1,2047),SO(e$1,`appid`,1,2047),HV(t$1),n$1&&KV(n$1);let a$1=gN();iP.debug(`preload channel ${t$1}, uid is ${n$1}`);let c$1={appId:e$1,cname:t$1,token:i$1||e$1,uid:typeof n$1==`string`?null:n$1,sid:a$1,proxyServer:r$1,role:s$1},d$1,l$1;typeof n$1==`string`?(c$1.stringUid=n$1,[l$1,d$1]=await rp.all([HB(n$1,{sid:a$1,appId:e$1},BG.token),YB(wG(wG({},c$1),{},{token:i$1||e$1,uid:0}),BG.token)]),c$1.uid=l$1.uid,d$1.gatewayInfo.uid=c$1.uid,d$1.gatewayInfo.res.uid=c$1.uid):(o$1&&(c$1.stringUid=o$1),d$1=await YB(c$1,BG.token)),await KG({sid:a$1,appId:e$1,cname:t$1,token:i$1||e$1,uid:c$1.stringUid||n$1,intUid:c$1.uid||d$1.gatewayInfo.uid,stringUid:c$1.stringUid,ts:Date.now(),sua:l$1,ap:d$1}),MG++}catch(e$2){throw UG++,function(e$3){kG||=window.setTimeout((()=>{let t$3=``;VG.forEach(((e$4,i$2)=>{t$3+=`${i$2}: ${e$4} ;`})),lP.reportApiInvoke(null,{name:LO.PRELOAD,options:{success:MG,failed:UG,err:t$3}}).onError(e$3),MG=0,UG=0,VG.clear(),kG=null}),1e4);let t$2=VG.get(e$3.code)||0;VG.set(e$3.code,t$2+1)}(e$2),e$2}}async function WG(e$1){try{if(CD(`AP_REQUEST_DETAIL`)||CD(`ENABLE_ROLE_SELECT_EDGE`))return;let t$1=HG(e$1);if(!t$1||e$1.cloudProxyServer!==`disabled`)return;let i$1=await async function(e$2,t$2){try{let i$2=await window.crypto.subtle.importKey(`raw`,hN(t$2),`AES-GCM`,!1,[`decrypt`]),n$1=await window.crypto.subtle.decrypt({name:`AES-GCM`,iv:xG},i$2,lN(e$2));return JSON.parse(window.atob(uN(new Uint8Array(n$1))))}catch{return}}(t$1,e$1.token||e$1.appId);if(!i$1||!function(e$2,t$2){return e$2.cname===t$2.cname&&e$2.appId===t$2.appId&&e$2.token===t$2.token?t$2.stringUid?e$2.stringUid===t$2.stringUid:typeof t$2.uid==`number`?e$2.uid===t$2.uid:e$2.uid==t$2.uid:!1}(i$1,e$1))return;if(i$1&&Date.now()-i$1.ts<CD(`AP_CACHE_LIFETIME`))return i$1}catch(e$2){iP.warn(`Error get preloadInfo`,e$2.message)}}function HG(e$1){let t$1;try{if(t$1=XG(OG),!t$1)return;let i$1=JSON.parse(t$1),n$1=QG(e$1),r$1=function(e$2,t$2){for(let i$2=e$2.length-1;i$2>=0;i$2--)if(t$2(e$2[i$2]))return i$2;return-1}(i$1,(e$2=>n$1 in e$2));if(r$1===-1)return;let o$1=i$1.splice(r$1,1)[0];return JG(OG,JSON.stringify(i$1)),o$1[n$1]}catch(e$2){iP.warn(`Error delete preload info: ${t$1}`,e$2.message),JG(OG,``)}}async function KG(e$1){let t$1;try{e$1.uid&&HG({appId:e$1.appId,cname:e$1.cname,token:e$1.token,uid:e$1.uid,stringUid:e$1.stringUid});let i$1=QG(e$1),n$1=await async function(e$2,t$2){try{let i$2=await window.crypto.subtle.importKey(`raw`,hN(t$2),`AES-GCM`,!1,[`encrypt`]),n$2=await window.crypto.subtle.encrypt({name:`AES-GCM`,iv:xG},i$2,lN(window.btoa(JSON.stringify(e$2))));return uN(new Uint8Array(n$2))}catch{return}}(e$1,e$1.token||e$1.appId);if(!n$1)return;t$1=XG(OG);let r$1=t$1?JSON.parse(t$1):[];r$1.push({[i$1]:n$1}),r$1.length>CD(`AP_CACHE_NUM`)&&r$1.shift(),JG(OG,JSON.stringify(r$1))}catch(e$2){iP.warn(`Error caching server parameters:`,e$2.message),JG(OG,``)}}function YG(e$1){if(e$1){let t$1=PG.get(e$1);t$1&&(window.clearTimeout(t$1),t$1=null,PG.delete(e$1)),Ln(LG).call(LG,e$1)||e$1.cloudProxyServer!==`disabled`||LG.push(e$1)}if(PG.size<CD(`AP_CACHE_NUM`)&&LG.length>0){let e$2=LG.shift();PG.set(e$2,window.setTimeout((async()=>{let{appId:t$1,cname:i$1,token:n$1,stringUid:r$1,uid:o$1,proxyServer:s$1,role:a$1}=e$2;try{await FG(t$1,i$1,n$1,o$1,s$1,r$1,a$1),PG.has(e$2)&&YG(e$2)}catch(t$2){iP.warn(`update preload failed`,t$2.message),zG(e$2)}}),CD(`AP_UPDATE_INTERVAL`)))}}function zG(e$1){let t$1=LG.indexOf(e$1);t$1!==-1&&LG.splice(t$1,1);let i$1=PG.get(e$1);i$1&&(window.clearTimeout(i$1),i$1=null,PG.delete(e$1),YG())}function qG(e$1,t$1){let i$1=e$1.sua,n$1=e$1.ap;t$1&&i$1&&lP.reqUserAccount(e$1.sid,{lts:i$1.requestTime,elapse:i$1.elapse,success:!0,serverAddr:i$1.url,stringUid:t$1,uid:e$1.intUid,errorCode:null,extend:i$1.req}),lP.reportResourceTiming(e$1.ap.url,e$1.sid),lP.joinWebProxyAP(e$1.sid,{lts:n$1.requestTime,elapse:n$1.elapse,sucess:1,apServerAddr:n$1.url,turnServerAddrList:n$1.proxyInfo.addresses.map((e$2=>e$2.ip)).join(`,`),eventType:`disabled`,unilbsServerIds:[iF.CHOOSE_SERVER,iF.CLOUD_PROXY_FALLBACK].toString()}),lP.joinChooseServer(e$1.sid,{lts:n$1.requestTime,elapse:n$1.elapse,succ:!0,csAddr:n$1.url,opid:n$1.opid,serverList:n$1.gatewayInfo.gatewayAddrs.map((e$2=>e$2.address)),ec:null,cid:n$1.gatewayInfo.cid.toString(),uid:n$1.gatewayInfo.uid.toString(),csIp:n$1.gatewayInfo.csIp,unilbsServerIds:[iF.CHOOSE_SERVER].toString(),isHttp3:n$1.isHttp3})}function XG(e$1){return window.atob(window.localStorage.getItem(e$1)||``)}function JG(e$1,t$1){window.localStorage.setItem(e$1,window.btoa(t$1))}function QG(e$1){let t$1=`${e$1.appId}_${e$1.cname}`;return typeof e$1.uid==`string`&&(t$1+=`_s_${e$1.uid}`),typeof e$1.uid==`number`&&(t$1+=`_${e$1.uid}`),e$1.token&&(t$1+=`_${e$1.token}`),ON(t$1)}function ZG(e$1){let t$1=function(){let e$2=iW.pop();return e$2?(e$2.offset=e$2.limit=0,e$2):{bytes:new Uint8Array(64),offset:0,limit:0}}();return function(e$2,t$2){let i$1=e$2.appId;i$1!==void 0&&(pW(t$2,10),dW(t$2,i$1));let n$1=e$2.cid;n$1!==void 0&&(pW(t$2,16),pW(t$2,n$1));let r$1=e$2.cname;r$1!==void 0&&(pW(t$2,26),dW(t$2,r$1));let o$1=e$2.deviceId;o$1!==void 0&&(pW(t$2,34),dW(t$2,o$1));let s$1=e$2.elapse;s$1!==void 0&&(pW(t$2,40),EW(t$2,s$1));let a$1=e$2.fileSize;a$1!==void 0&&(pW(t$2,48),EW(t$2,tW(a$1)));let c$1=e$2.height;c$1!==void 0&&(pW(t$2,56),EW(t$2,tW(c$1)));let d$1=e$2.jpg;d$1!==void 0&&(pW(t$2,66),pW(t$2,d$1.length),aW(t$2,d$1));let l$1=e$2.networkType;l$1!==void 0&&(pW(t$2,72),EW(t$2,tW(l$1)));let u$1=e$2.osType;u$1!==void 0&&(pW(t$2,80),EW(t$2,tW(u$1)));let h$1=e$2.requestId;h$1!==void 0&&(pW(t$2,90),dW(t$2,h$1));let p$1=e$2.sdkVersion;p$1!==void 0&&(pW(t$2,98),dW(t$2,p$1));let _$1=e$2.sequence;_$1!==void 0&&(pW(t$2,104),EW(t$2,tW(_$1)));let E$1=e$2.sid;E$1!==void 0&&(pW(t$2,114),dW(t$2,E$1));let m$1=e$2.timestamp;m$1!==void 0&&(pW(t$2,120),EW(t$2,m$1));let f$1=e$2.uid;f$1!==void 0&&(pW(t$2,128),pW(t$2,f$1));let S$1=e$2.vid;S$1!==void 0&&(pW(t$2,136),pW(t$2,S$1));let g$1=e$2.width;g$1!==void 0&&(pW(t$2,144),EW(t$2,tW(g$1)));let T$1=e$2.service;T$1!==void 0&&(pW(t$2,152),pW(t$2,T$1));let R$1=e$2.callbackData;R$1!==void 0&&(pW(t$2,162),pW(t$2,R$1.length),aW(t$2,R$1));let C$1=e$2.ticket;C$1!==void 0&&(pW(t$2,170),dW(t$2,C$1));let v$1=e$2.vendorConfigs;v$1!==void 0&&(pW(t$2,178),dW(t$2,v$1))}(e$1,t$1),function(e$2){let t$2=e$2.bytes,i$1=e$2.limit;return t$2.length===i$1?t$2:t$2.subarray(0,i$1)}(t$1)}function $G(e$1){return function(e$2){let t$2={};e:for(;!rW(e$2);){let i$1=hW(e$2);switch(i$1>>>3){case 0:break e;case 1:t$2.code=hW(e$2);break;case 2:t$2.msg=cW(e$2,hW(e$2));break;case 3:t$2.requestId=cW(e$2,hW(e$2));break;case 4:t$2.timestamp=_W(e$2,!1);break;default:eW(e$2,7&i$1)}}return t$2}({bytes:t$1=e$1,offset:0,limit:t$1.length});var t$1}function eW(e$1,t$1){switch(t$1){case 0:for(;128&lW(e$1););break;case 2:nW(e$1,hW(e$1));break;case 5:nW(e$1,4);break;case 1:nW(e$1,8);break;default:throw Error(`Unimplemented type: `+t$1)}}function tW(e$1){return{low:e$1|=0,high:e$1>>31,unsigned:e$1>=0}}let iW=[];function nW(e$1,t$1){if(e$1.offset+t$1>e$1.limit)throw Error(`Skip past limit`);e$1.offset+=t$1}function rW(e$1){return e$1.offset>=e$1.limit}function oW(e$1,t$1){let i$1=e$1.bytes,n$1=e$1.offset,r$1=e$1.limit,o$1=n$1+t$1;if(o$1>i$1.length){let t$2=new Uint8Array(2*o$1);t$2.set(i$1),e$1.bytes=t$2}return e$1.offset=o$1,o$1>r$1&&(e$1.limit=o$1),n$1}function sW(e$1,t$1){let i$1=e$1.offset;if(i$1+t$1>e$1.limit)throw Error(`Read past limit`);return e$1.offset+=t$1,i$1}function aW(e$1,t$1){let i$1=oW(e$1,t$1.length);e$1.bytes.set(t$1,i$1)}function cW(e$1,t$1){let i$1=sW(e$1,t$1),n$1=String.fromCharCode,r$1=e$1.bytes,o$1=`�`,s$1=``;for(let e$2=0;e$2<t$1;e$2++){let a$1,c$1,d$1,l$1,u$1=r$1[e$2+i$1];128&u$1?(224&u$1)==192?e$2+1>=t$1?s$1+=`�`:(a$1=r$1[e$2+i$1+1],(192&a$1)==128?(l$1=(31&u$1)<<6|63&a$1,l$1<128?s$1+=`�`:(s$1+=n$1(l$1),e$2++)):s$1+=`�`):(240&u$1)==224?e$2+2>=t$1?s$1+=`�`:(a$1=r$1[e$2+i$1+1],c$1=r$1[e$2+i$1+2],(49344&(a$1|c$1<<8))==32896?(l$1=(15&u$1)<<12|(63&a$1)<<6|63&c$1,l$1<2048||l$1>=55296&&l$1<=57343?s$1+=`�`:(s$1+=n$1(l$1),e$2+=2)):s$1+=`�`):(248&u$1)==240?e$2+3>=t$1?s$1+=`�`:(a$1=r$1[e$2+i$1+1],c$1=r$1[e$2+i$1+2],d$1=r$1[e$2+i$1+3],(12632256&(a$1|c$1<<8|d$1<<16))==8421504?(l$1=(7&u$1)<<18|(63&a$1)<<12|(63&c$1)<<6|63&d$1,l$1<65536||l$1>1114111?s$1+=`�`:(l$1-=65536,s$1+=n$1(55296+(l$1>>10),56320+(1023&l$1)),e$2+=3)):s$1+=`�`):s$1+=`�`:s$1+=n$1(u$1)}return s$1}function dW(e$1,t$1){let i$1=t$1.length,n$1=0;for(let e$2=0;e$2<i$1;e$2++){let r$2=t$1.charCodeAt(e$2);r$2>=55296&&r$2<=56319&&e$2+1<i$1&&(r$2=(r$2<<10)+t$1.charCodeAt(++e$2)-56613888),n$1+=r$2<128?1:r$2<2048?2:r$2<65536?3:4}pW(e$1,n$1);let r$1=oW(e$1,n$1),o$1=e$1.bytes;for(let e$2=0;e$2<i$1;e$2++){let n$2=t$1.charCodeAt(e$2);n$2>=55296&&n$2<=56319&&e$2+1<i$1&&(n$2=(n$2<<10)+t$1.charCodeAt(++e$2)-56613888),n$2<128?o$1[r$1++]=n$2:(n$2<2048?o$1[r$1++]=n$2>>6&31|192:(n$2<65536?o$1[r$1++]=n$2>>12&15|224:(o$1[r$1++]=n$2>>18&7|240,o$1[r$1++]=n$2>>12&63|128),o$1[r$1++]=n$2>>6&63|128),o$1[r$1++]=63&n$2|128)}}function lW(e$1){return e$1.bytes[sW(e$1,1)]}function uW(e$1,t$1){let i$1=oW(e$1,1);e$1.bytes[i$1]=t$1}function hW(e$1){let t$1,i$1=0,n$1=0;do t$1=lW(e$1),i$1<32&&(n$1|=(127&t$1)<<i$1),i$1+=7;while(128&t$1);return n$1}function pW(e$1,t$1){for(t$1>>>=0;t$1>=128;)uW(e$1,127&t$1|128),t$1>>>=7;uW(e$1,t$1)}function _W(e$1,t$1){let i$1,n$1=0,r$1=0,o$1=0;return i$1=lW(e$1),n$1=127&i$1,128&i$1&&(i$1=lW(e$1),n$1|=(127&i$1)<<7,128&i$1&&(i$1=lW(e$1),n$1|=(127&i$1)<<14,128&i$1&&(i$1=lW(e$1),n$1|=(127&i$1)<<21,128&i$1&&(i$1=lW(e$1),r$1=127&i$1,128&i$1&&(i$1=lW(e$1),r$1|=(127&i$1)<<7,128&i$1&&(i$1=lW(e$1),r$1|=(127&i$1)<<14,128&i$1&&(i$1=lW(e$1),r$1|=(127&i$1)<<21,128&i$1&&(i$1=lW(e$1),o$1=127&i$1,128&i$1&&(i$1=lW(e$1),o$1|=(127&i$1)<<7))))))))),{low:n$1|r$1<<28,high:r$1>>>4|o$1<<24,unsigned:t$1}}function EW(e$1,t$1){let i$1=t$1.low>>>0,n$1=(t$1.low>>>28|t$1.high<<4)>>>0,r$1=t$1.high>>>24,o$1=r$1===0?n$1===0?i$1<16384?i$1<128?1:2:i$1<1<<21?3:4:n$1<16384?n$1<128?5:6:n$1<1<<21?7:8:r$1<128?9:10,s$1=oW(e$1,o$1),a$1=e$1.bytes;switch(o$1){case 10:a$1[s$1+9]=r$1>>>7&1;case 9:a$1[s$1+8]=o$1===9?127&r$1:128|r$1;case 8:a$1[s$1+7]=o$1===8?n$1>>>21&127:n$1>>>21|128;case 7:a$1[s$1+6]=o$1===7?n$1>>>14&127:n$1>>>14|128;case 6:a$1[s$1+5]=o$1===6?n$1>>>7&127:n$1>>>7|128;case 5:a$1[s$1+4]=o$1===5?127&n$1:128|n$1;case 4:a$1[s$1+3]=o$1===4?i$1>>>21&127:i$1>>>21|128;case 3:a$1[s$1+2]=o$1===3?i$1>>>14&127:i$1>>>14|128;case 2:a$1[s$1+1]=o$1===2?i$1>>>7&127:i$1>>>7|128;case 1:a$1[s$1]=o$1===1?127&i$1:128|i$1}}let mW={},fW={},SW=4294967296,gW=SW*SW,TW=gW/2,RW=AW(0,!0),CW=AW(0),vW=bW(0,-2147483648,!1),yW=bW(-1,2147483647,!1),IW=bW(-1,-1,!0);function AW(e$1,t$1){let i$1,n$1,r$1;return t$1?(r$1=0<=(e$1>>>=0)&&e$1<256)&&(n$1=fW[e$1],n$1)?n$1:(i$1=bW(e$1,0,!0),r$1&&(fW[e$1]=i$1),i$1):(r$1=-128<=(e$1|=0)&&e$1<128)&&(n$1=mW[e$1],n$1)?n$1:(i$1=bW(e$1,e$1<0?-1:0,!1),r$1&&(mW[e$1]=i$1),i$1)}function bW(e$1,t$1,i$1){return{low:0|e$1,high:0|t$1,unsigned:!!i$1}}function wW(e$1,t$1){if(isNaN(e$1))return t$1?RW:CW;if(t$1){if(e$1<0)return RW;if(e$1>=gW)return IW}else{if(e$1<=-TW)return vW;if(e$1+1>=TW)return yW}return e$1<0?t$1?RW:CW:bW(e$1%SW|0,e$1/SW|0,t$1)}function OW(e$1,t$1){var i$1=Object.keys(e$1);if(Object.getOwnPropertySymbols){var n$1=Object.getOwnPropertySymbols(e$1);t$1&&(n$1=n$1.filter((function(t$2){return Object.getOwnPropertyDescriptor(e$1,t$2).enumerable}))),i$1.push.apply(i$1,n$1)}return i$1}class NW extends NO{get connectionState(){return this._connectionState}set connectionState(e$1){if(this._connectionState===e$1)return;let t$1=this._connectionState;this._connectionState=e$1,this.emit(Dx.CONNECTION_STATE_CHANGE,e$1,t$1)}get quality(){return this._quality}set quality(e$1){this._quality=e$1>1?1:e$1<.1?.1:e$1,this._qualityTimer&&=(window.clearTimeout(this._qualityTimer),null),this._quality>=1||(this._qualityTimer=window.setTimeout((()=>{this.quality=this._quality/this._qualityRatio}),6e4))}constructor(e$1){var t$1;super(),iA(this,`name`,`AgoraRTCImageModeration`),iA(this,`_connectionState`,Nx.CONNECTING),iA(this,`_sequence`,0),iA(this,`_moderationStartTime`,void 0),iA(this,`_workerConnection`,void 0),iA(this,`_workerMessageLengthLimit`,void 0),iA(this,`_qualityRatio`,void 0),iA(this,`_connectInfo`,void 0),iA(this,`_cancelTokenSource`,Tw.CancelToken.source()),iA(this,`_retryConfig`,void 0),iA(this,`_moderationInterval`,void 0),iA(this,`_moderationTimer`,null),iA(this,`_moderationMode`,1),iA(this,`_quality`,1),iA(this,`_qualityTimer`,null),iA(this,`_ticket`,void 0),iA(this,`_moderationIntervalMinimum`,void 0),iA(this,`_uploadFailedNum`,0),iA(this,`_uploadNum`,0),iA(this,`_uploadTimer`,null),iA(this,`_extraInfo`,void 0),iA(this,`_vendor`,``),iA(this,`_encoder`,new TextEncoder),iA(this,`_moderationId`,void 0),iA(this,`inspectImage`,(()=>{if(this.connectionState!==Nx.CONNECTED)throw new uP(hO.OPERATION_ABORTED,`image moderation service connection status is ${this.connectionState}`);this._moderationTimer&&=(window.clearInterval(this._moderationTimer),null),this._moderationTimer=window.setInterval((()=>{this.connectionState===Nx.CONNECTED?this.requestToInspectImage():iP.debug(`[${this._moderationId}] Moderation State is not connected , `,this.connectionState)}),this._moderationInterval<this._moderationIntervalMinimum?this._moderationIntervalMinimum:this._moderationInterval),this.requestToInspectImage()})),this._moderationId=SN(5,`image-moderation-`),this._workerMessageLengthLimit=CD(`IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT`),this._moderationIntervalMinimum=CD(`IMAGE_MODERATION_INTERVAL_MINIMUM`),this._moderationInterval=e$1.interval??1e3,e$1.extraInfo&&(this._extraInfo=this._encoder.encode(e$1.extraInfo)),e$1.vendor&&(this._vendor=e$1.vendor),this._qualityRatio=CD(`IMAGE_MODERATION_QUALITY_RATIO`),this._moderationStartTime=Number(Date.now()),this._workerConnection=new $x(`worker-`+this._moderationId,kN),this.on(Dx.STATE_CHANGE,((e$2,t$2)=>{iP.debug(`[${this._moderationId}] Moderation operation :${Px[e$2]} ${t$2||``}`)})),this.handleWorkerEvents()}async init(e$1,t$1){this.emit(Dx.STATE_CHANGE,Px.CONNECT_AP),this._connectInfo=e$1;let i$1=this._cancelTokenSource.token;return this._retryConfig=t$1,new rp(((n$1,r$1)=>{this.on(Dx.CONNECTION_STATE_CHANGE,((e$2,t$2)=>{e$2===Nx.CONNECTED&&n$1()})),this.requestAP(e$1,i$1,t$1).then((e$2=>{this.connectWorker(e$2)})).catch((e$2=>{r$1(e$2)}))}))}updateConfig(e$1){var t$1;this._moderationInterval=e$1.interval??1e3,e$1.extraInfo&&(this._extraInfo=this._encoder.encode(e$1.extraInfo)),e$1.vendor&&(this._vendor=e$1.vendor),iP.debug(`[${this._moderationId}] updateConfig: ${JSON.stringify(e$1)}`),this.connectionState===Nx.CONNECTED&&this.inspectImage()}async requestAP(e$1,t$1,i$1){let r$1=await function(e$2,t$2,i$2,n$1){let{appId:r$2,areaCode:o$2,cname:s$2,sid:a$1,token:c$1,uid:d$1}=t$2;UB++;let l$1=`moderation_plugin`,u$1={service_name:l$1,json_body:JSON.stringify({appId:r$2,areaCode:o$2,cname:s$2,command:`allocateEdge`,requestId:UB,seq:UB,sid:a$1,appToken:c$1,ts:Date.now(),uid:d$1+``})},h$1,p$1,_$1=e$2[0];return UN((async()=>{h$1=Date.now();let e$3=await _B(_$1,{data:u$1,cancelToken:i$2,headers:{"X-Packet-Service-Type":`0`,"X-Packet-URI":`61`},params:{action:`wrtc_gateway`}});if(p$1=Date.now()-h$1,e$3.code!==0){let t$4=new uP(hO.UNEXPECTED_RESPONSE,`moderation plugin ap error, code`+e$3.code,{retry:!0,responseTime:p$1});throw iP.error(t$4.toString()),t$4}let t$3=JSON.parse(e$3.json_body);if(t$3.code!==200){let e$4=new uP(hO.UNEXPECTED_RESPONSE,`moderation plugin ap error, code: ${t$3.code}, reason: ${t$3.reason}`,{code:t$3.code,responseTime:p$1});throw iP.error(e$4.toString()),e$4}if(!t$3.servers||!Array.isArray(t$3.servers)||t$3.servers.length===0){let e$4=new uP(hO.UNEXPECTED_RESPONSE,`moderation plugin ap empty server`,{code:t$3.code,responseTime:p$1});throw iP.error(e$4.toString()),e$4}if(!t$3.servers.some((e$4=>!!e$4.wss))){let e$4=new uP(hO.UNEXPECTED_RESPONSE,`moderation plugin ap empty port`,{code:t$3.code,responseTime:p$1});throw iP.error(e$4.toString()),e$4}let n$2=CD(`IMAGE_MODERATION_WORKER_WSS`);if(n$2)return{addressList:[n$2],workerToken:t$3.workerToken,vid:t$3.vid,responseTime:p$1};let r$3=CD(`IMAGE_MODERATION_WORKER_HOST`);return{addressList:t$3.servers.map((e$4=>{let{address:t$4,wss:i$3}=e$4;if(t$4&&i$3)return`wss://${t$4.replace(/\./g,`-`)}.${r$3}:${i$3}/moderation`})).filter((e$4=>!!e$4)),workerToken:t$3.workerToken,vid:t$3.vid,ticket:t$3.appTicket,responseTime:p$1}}),((t$3,i$3)=>(lP.apworkerEvent(a$1,{success:!0,sc:200,serviceName:l$1,responseDetail:JSON.stringify(t$3.addressList),firstSuccess:i$3===0,responseTime:p$1,serverIp:e$2[i$3%e$2.length]}),!1)),((t$3,i$3)=>(lP.apworkerEvent(a$1,{success:!1,sc:t$3.data&&t$3.data.code||200,serviceName:l$1,responseTime:p$1,serverIp:e$2[i$3%e$2.length]}),!!(t$3.code!==hO.OPERATION_ABORTED&&t$3.code!==hO.UNEXPECTED_RESPONSE||t$3.data&&t$3.data.retry)&&(_$1=e$2[(i$3+1)%e$2.length],!0))),n$1)}(CD(`WEBCS_DOMAIN`).map((e$2=>`https://${e$2}/api/v1`)),e$1,t$1,i$1);this.emit(Dx.STATE_CHANGE,Px.AP_CONNECTED);let{addressList:o$1,ticket:s$1}=r$1;return this._ticket=s$1,o$1}async connectWorker(e$1){this.emit(Dx.STATE_CHANGE,Px.CONNECT_WORKER),await this._workerConnection.init(e$1,1e4)}handleWorkerEvents(){this._workerConnection.on(WV.CONNECTED,(async()=>{this.emit(Dx.STATE_CHANGE,Px.WORKER_CONNECTED,this._workerConnection.url),this.connectionState=Nx.CONNECTED})),this._workerConnection.on(WV.CLOSED,(()=>{this.connectionState=Nx.CLOSED})),this._workerConnection.on(WV.FAILED,(()=>{this.connectionState=Nx.CLOSED})),this._workerConnection.on(WV.RECONNECTING,(()=>{this.connectionState=this.connectionState===Nx.CONNECTED?Nx.RECONNECTING:Nx.CONNECTING})),this._workerConnection.on(WV.ON_MESSAGE,(async e$1=>{if(e$1.data instanceof ArrayBuffer){let t$1=$G(new Uint8Array(e$1.data));CD(`SHOW_IMAGE_MODERATION_WORKER_MESSAGE`)&&iP.debug(`[${this._moderationId}] Response message for worker of image moderation `,JSON.stringify(t$1)),this._uploadNum++,t$1.code===void 0||t$1.code===0||(this._uploadFailedNum++,iP.error(`[${this._moderationId}] Error response from worke, code is ${t$1.code}, msg is ${t$1.msg}`),this._uploadTimer||=window.setTimeout((()=>{lP.reportApiInvoke(this._connectInfo.sid||null,{name:LO.IMAGE_MODERATION_UPLOAD,options:[this._uploadFailedNum,this._uploadNum,t$1.code],tag:kO.TRACER}).onError(new uP(hO.IMAGE_MODERATION_UPLOAD_FAILED,t$1.msg)),this._uploadTimer=null}),CD(`IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL`)))}else iP.error(`[${this._moderationId}] Unexpected message type from worker`)})),this._workerConnection.on(WV.WILL_RECONNECT,((e$1,t$1,i$1)=>{e$1===`recover`&&i$1(e$1),i$1(`tryNext`)})),this._workerConnection.on(WV.REQUEST_NEW_URLS,((e$1,t$1)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(e$1).catch(t$1)}))}static intToLong(e$1){return{low:e$1|=0,high:e$1>>31,unsigned:e$1>=0}}async requestToInspectImage(){let e$1=XO(this,Dx.CLIENT_LOCAL_VIDEO_TRACK),t$1={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(e$1){if(!e$1.isPlaying)return void(CD(`SHOW_IMAGE_MODERATION_WORKER_MESSAGE`)&&iP.debug(`Only the track being played can be inspected`));this._sequence++;let i$1=await this.generateRequestData(e$1,t$1);this._workerConnection.sendMessage(i$1,!0,!0)}else CD(`SHOW_IMAGE_MODERATION_WORKER_MESSAGE`)&&iP.debug(`Only the track being published can be inspected`)}async generateRequestData(e$1,t$1){let{appId:i$1,cname:n$1,cid:r$1,vid:o$1,sid:s$1,uid:a$1}=t$1,c$1=Date.now(),d$1=await e$1.getCurrentFrameImage(`image/jpeg`,this.quality),l$1=await QL(d$1,i$1,n$1),u$1=this._sequence+`-`+r$1+`-`+a$1+`-`+c$1+`-`+SN(12,``),h$1={appId:i$1,cid:r$1,cname:n$1,deviceId:``,elapse:NW.intToLong(Number(c$1-this._moderationStartTime)),fileSize:d$1.buffer.byteLength,height:d$1.height,width:d$1.width,jpg:l$1,networkType:6,osType:7,requestId:u$1,sdkVersion:`4.24.2`,sequence:this._sequence,sid:s$1,timestamp:wW(c$1),uid:a$1,vid:o$1,service:this._moderationMode,ticket:this._ticket,callbackData:this._extraInfo,vendorConfigs:this._vendor};this._extraInfo===void 0&&delete h$1.callbackData;let p$1=ZG(h$1);if(p$1.byteLength<this._workerMessageLengthLimit){if(CD(`SHOW_IMAGE_MODERATION_WORKER_MESSAGE`)){let e$2=function(e$3){for(var t$2=1;t$2<arguments.length;t$2++){var i$2=arguments[t$2]==null?{}:arguments[t$2];t$2%2?OW(Object(i$2),!0).forEach((function(t$3){iA(e$3,t$3,i$2[t$3])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e$3,Object.getOwnPropertyDescriptors(i$2)):OW(Object(i$2)).forEach((function(t$3){Object.defineProperty(e$3,t$3,Object.getOwnPropertyDescriptor(i$2,t$3))}))}return e$3}({},h$1);delete e$2.jpg,iP.debug(`[${this._moderationId}] Request message for worker of image moderation service: `,JSON.stringify(e$2))}return p$1}return this.quality*=this._qualityRatio,await this.generateRequestData(e$1,{appId:i$1,cname:n$1,cid:r$1,vid:o$1,sid:s$1,uid:a$1})}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=Tw.CancelToken.source(),this._workerConnection&&this._workerConnection.close(),this._moderationTimer&&window.clearInterval(this._moderationTimer),this._moderationTimer=null,this._uploadTimer&&window.clearTimeout(this._uploadTimer),this._uploadTimer=null,this.connectionState=Nx.CLOSED,this.emit(Dx.STATE_CHANGE,Px.CLOSED)}}function DW(e$1){if(mO(e$1.interval,`interval`,1e3,1/0),e$1&&e$1.extraInfo&&e$1.extraInfo.length>1024)throw new uP(hO.INVALID_PARAMS,`config.extraInfo length cannot exceed 1024 bytes`);if(e$1&&e$1.vendor&&e$1.vendor.length>1024)throw new uP(hO.INVALID_PARAMS,`config.vendor length cannot exceed 1024 bytes`)}let PW={name:`ImageModeration`,create:function(e$1){let{config:t$1}=e$1;return DW(t$1),new NW(t$1)}};var LW,kW,MW,UW,VW,xW,FW,BW,jW,GW,WW,HW,KW,YW,zW,qW,XW,JW,QW,ZW,$W,eH,tH,iH,nH,rH,oH,sH,aH,cH,dH,lH,uH,hH,pH,_H,EH,mH,fH,SH,gH,TH,RH;function CH(e$1,t$1){var i$1=Object.keys(e$1);if(Object.getOwnPropertySymbols){var n$1=Object.getOwnPropertySymbols(e$1);t$1&&(n$1=n$1.filter((function(t$2){return Object.getOwnPropertyDescriptor(e$1,t$2).enumerable}))),i$1.push.apply(i$1,n$1)}return i$1}function vH(e$1){for(var t$1=1;t$1<arguments.length;t$1++){var i$1=arguments[t$1]==null?{}:arguments[t$1];t$1%2?CH(Object(i$1),!0).forEach((function(t$2){iA(e$1,t$2,i$1[t$2])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e$1,Object.getOwnPropertyDescriptors(i$1)):CH(Object(i$1)).forEach((function(t$2){Object.defineProperty(e$1,t$2,Object.getOwnPropertyDescriptor(i$1,t$2))}))}return e$1}PN.setLogger(iP);let yH=(LW=dP(),kW=dP({argsMap:(e$1,t$1)=>{if(!Array.isArray(t$1)){if(!(t$1 instanceof lL))return[t$1];t$1=[t$1]}return t$1.map((e$2=>e$2?Object(e$2).toString():`null`))}}),MW=dP({argsMap:(e$1,t$1)=>(t$1||=[],Array.isArray(t$1)||t$1.trackMediaType!==HP.DATA?(Array.isArray(t$1)||(t$1=[t$1]),t$1.map((e$2=>e$2.getTrackId()))):[t$1.getChannelId()])}),UW=dP({argsMap:(e$1,t$1,i$1,n$1)=>[typeof t$1==`object`?t$1.uid:t$1,i$1,n$1]}),VW=dP({argsMap:(e$1,t$1,i$1)=>[t$1,i$1]}),xW=dP({argsMap:(e$1,t$1)=>t$1.map((e$2=>{let{user:t$2,mediaType:i$1}=e$2;return[t$2?.uid,i$1]}))}),FW=dP({argsMap:(e$1,t$1,i$1,n$1)=>[typeof t$1==`object`?t$1.uid:t$1,i$1,n$1]}),BW=dP({argsMap:(e$1,t$1)=>t$1.map((e$2=>{let{user:t$2,mediaType:i$1}=e$2;return{uid:t$2?.uid,mediaType:i$1}}))}),jW=dP(),GW=dP(),WW=dP(),HW=dP(),KW=dP(),YW=dP(),zW=dP(),qW=dP(),XW=dP(),JW=dP(),QW=dP(),ZW=dP(),$W=dP(),eH=dP(),tH=dP(),iH=dP(),nH=dP({argsMap:(e$1,t$1)=>[t$1]}),rH=dP(),oH=dP(),sH=dP(),aH=dP(),cH=dP(),dH=dP(),lH=dP(),uH=dP(),hH=dP({argsMap:(e$1,t$1)=>(Array.isArray(t$1)||(t$1=[t$1]),[JSON.stringify(t$1)])}),pH=dP(),_H=dP(),EH=dP(),mH=dP(),fH=dP(),SH=dP(),gH=dP({reportResult:!0}),TH=dP(),RH=class extends NO{get connectionState(){return this._gateway.state}get remoteUsers(){return this._users}get localTracks(){return this._p2pChannel.getAllTracks(!0)}get uid(){return this._uid}get channelName(){return this._channelName}get localDataChannels(){return this._p2pChannel.getAllDataChannels()}get mode(){return this._config.mode}get role(){var e$1;return this._config?.role||`audience`}get codec(){return this._config.codec}get audioCodec(){return this._config.audioCodec||`opus`}get isStringUID(){return!!this._joinInfo&&!!this._joinInfo.stringUid}get __className__(){return`Client`}constructor(e$1,t$1){let i$1;if(super(),iA(this,`store`,void 0),iA(this,`_uid`,void 0),iA(this,`_channelName`,void 0),iA(this,`_uintUid`,void 0),iA(this,`_users`,[]),iA(this,`_config`,void 0),iA(this,`_clientId`,void 0),iA(this,`_appId`,void 0),iA(this,`_sessionId`,null),iA(this,`_key`,void 0),iA(this,`_rtmConfig`,{}),iA(this,`_joinInfo`,void 0),iA(this,`_gateway`,void 0),iA(this,`_statsCollector`,void 0),iA(this,`_configDistribute`,void 0),iA(this,`_leaveMutex`,void 0),iA(this,`_publishMutex`,void 0),iA(this,`_renewTokenMutex`,void 0),iA(this,`_subscribeMutex`,void 0),iA(this,`_encryptionMode`,`none`),iA(this,`_encryptionSecret`,null),iA(this,`_encryptionSalt`,null),iA(this,`_encryptDataStream`,!1),iA(this,`_encryptDataStreamKey`,null),iA(this,`_encryptDataStreamIv`,null),iA(this,`_proxyServer`,void 0),iA(this,`_turnServer`,{servers:[],mode:`auto`}),iA(this,`_cloudProxyServerMode`,`disabled`),iA(this,`_isDualStreamEnabled`,!1),iA(this,`_defaultStreamFallbackType`,void 0),iA(this,`_lowStreamParameter`,void 0),iA(this,`_streamFallbackTypeCacheMap`,new Map),iA(this,`_remoteStreamTypeCacheMap`,new Map),iA(this,`_axiosCancelSource`,Tw.CancelToken.source()),iA(this,`_audioVolumeIndicationInterval`,void 0),iA(this,`_networkQualityInterval`,void 0),iA(this,`_userOfflineTimeout`,void 0),iA(this,`_streamRemovedTimeout`,void 0),iA(this,`_rteDetailInterval`,void 0),iA(this,`_liveTranscodeStreamingClient`,void 0),iA(this,`_liveRawStreamingClient`,void 0),iA(this,`_channelMediaRelayClient`,void 0),iA(this,`_networkQualitySensitivity`,`normal`),iA(this,`_p2pChannel`,void 0),iA(this,`_useLocalAccessPoint`,!1),iA(this,`_setLocalAPVersion`,void 0),iA(this,`_joinAndNotLeaveYet`,!1),iA(this,`_numberOfJoinCount`,0),iA(this,`_joinResponse`,null),iA(this,`_remoteDefaultVideoStreamType`,void 0),iA(this,`_inspect`,void 0),iA(this,`_moderation`,void 0),iA(this,`_license`,void 0),iA(this,`_pendingPublishedUsers`,[]),iA(this,`ntpAlignErrorCount`,0),iA(this,`remoteInboundOffset`,0),iA(this,`_peerConnectionState`,void 0),iA(this,`_pendingRtpCapabilityChange`,void 0),iA(this,`_fallbackServerInfo`,void 0),iA(this,`_dualStreamMode`,void 0),iA(this,`_handleLocalTrackEnable`,((e$2,t$2,i$2)=>{this.publish(e$2,!1).then(t$2).catch(i$2)})),iA(this,`_handleLocalTrackDisable`,((e$2,t$2,i$2)=>{this.unpublish(e$2).then(t$2).catch(i$2)})),iA(this,`_handleUserOnline`,(e$2=>{if(CD(`BLOCK_LOCAL_CLIENT`)&&zU(e$2.uid,this.channelName))return void iP.debug(`[${e$2.uid}] will be ignored in local`);this.isStringUID&&typeof e$2.uid!=`string`&&iP.error(`[${this._clientId}] StringUID is Mixed with UintUID`);let t$2=this._users.find((t$3=>t$3.uid===e$2.uid));if(t$2)t$2._trust_in_room_=!0,t$2._is_pre_created&&(t$2._is_pre_created=!1,this.safeEmit(GO.USER_JOINED,t$2));else{let t$3=new aj(e$2.uid,e$2.uint_id||e$2.uid);this._users.push(t$3),iP.debug(`[${this._clientId}] user online`,e$2.uid),this.store.firstVideoFrameDecoded(t$3.uid,{userJoinNotify:Date.now()}),this.safeEmit(GO.USER_JOINED,t$3)}})),iA(this,`_handleUserOffline`,(e$2=>{if(CD(`BLOCK_LOCAL_CLIENT`)&&zU(e$2.uid,this.channelName))return;let t$2=this._users.find((t$3=>t$3.uid===e$2.uid));t$2&&(this._handleRemoveStream(e$2),this._handleRemoveDataChannels(e$2),t$2._audio_pre_subscribed||t$2._video_pre_subscribed?t$2._is_pre_created=!0:nN(this._users,t$2),this._remoteStreamTypeCacheMap.delete(t$2.uid),this._streamFallbackTypeCacheMap.delete(t$2.uid),iP.debug(`[${this._clientId}] user offline`,e$2.uid,`reason:`,e$2.reason),this.safeEmit(GO.USER_LEAVED,t$2,e$2.reason))})),iA(this,`_handleAddAudioOrVideoStream`,((e$2,t$2,i$2,n$2,r$1,o$1,s$1,a$1)=>{if(CD(`BLOCK_LOCAL_CLIENT`)&&zU(t$2,this.channelName))return;let c$1=this._users.find((e$3=>e$3.uid===t$2));if(!c$1)return void iP.error(`[${this._clientId}] can not find target user!(on_add_stream)`);iP.debug(`[${this._clientId}] stream added with uid ${t$2}, type ${e$2}`),this.store.subscribe(c$1.uid,e$2,void 0,void 0,void 0,Date.now()),e$2===`video`&&this.store.firstVideoFrameDecoded(c$1.uid,{videoAddNotify:Date.now()});let d$1=e$2===`audio`?c$1.hasAudio:c$1.hasVideo;c$1._uintid||=o$1||t$2,e$2===`audio`?c$1._trust_audio_stream_added_state_=!0:c$1._trust_video_stream_added_state_=!0,e$2===`audio`?(c$1._audio_added_=!0,i$2!==void 0&&(c$1._audioSSRC=i$2),n$2!==void 0&&(c$1._cname=n$2),s$1&&(c$1._audioOrtc=s$1)):(c$1._video_added_=!0,i$2!==void 0&&(c$1._videoSSRC=i$2),n$2!==void 0&&(c$1._cname=n$2),a$1!==void 0&&(c$1._rtxSsrcId=a$1),s$1&&(c$1._videoOrtc=s$1)),(e$2===`audio`?c$1.hasAudio:c$1.hasVideo)&&!d$1&&(iP.info(`[${this._clientId}] remote user ${c$1.uid} published ${e$2}`),this.safeEmit(GO.USER_PUBLISHED,c$1,e$2)),e$2===`video`?lP.onGatewayStream(this._sessionId,sP.ON_ADD_VIDEO_STREAM,aP.ON_ADD_VIDEO_STREAM,{peer:o$1||t$2,ssrc:c$1._videoSSRC}):lP.onGatewayStream(this._sessionId,sP.ON_ADD_AUDIO_STREAM,aP.ON_ADD_AUDIO_STREAM,{peer:o$1||t$2,ssrc:c$1._audioSSRC}),this._p2pChannel.remoteMediaSsrcChanged(c$1,e$2,i$2).then((t$3=>{if(t$3&&(iP.debug(`[${this._clientId}] resubscribe ${e$2} for user ${c$1.uid} after rejoin because SSRC id changed.`),this._p2pChannel instanceof EG))return this._p2pChannel.unsubscribe(c$1,e$2,!0).then((()=>this._subscribe(c$1,e$2,!0).catch((e$3=>{iP.error(`[${this._clientId}] resubscribe error`,e$3.toString())}))))})),this._p2pChannel.hasPendingRemoteMedia(c$1,e$2)&&(iP.debug(`[${this._clientId}] resubscribe ${e$2} for user ${c$1.uid} after reconnect.`),this._subscribe(c$1,e$2,!0).catch((e$3=>{iP.error(`[${this._clientId}] resubscribe error`,e$3.toString())})));let l$1=this._getEncodingName(r$1);e$2===`video`&&(l$1===`unknown`?this.safeEmit(GO.AV1_DECODABLE_RESULT,!1):Vw()||jw()||l$1?.toLocaleLowerCase()!==AD.av1||BB().then((e$3=>{CD(`FLS_ENABLE_AV1_DECODE_DETECT`)&&this.safeEmit(GO.AV1_DECODABLE_RESULT,e$3),e$3||this._gateway.downgradeCodec(l$1)})))})),iA(this,`_handleRemoveStream`,(e$2=>{if(CD(`BLOCK_LOCAL_CLIENT`)&&zU(e$2.uid,this.channelName))return;let t$2=this._users.find((t$3=>t$3.uid===e$2.uid));if(!t$2)return void iP.warning(`[${this._clientId}] can not find target user!(on_remove_stream)`);iP.debug(`[${this._clientId}] stream removed with uid ${e$2.uid}`);let i$2=()=>{};t$2.hasAudio&&t$2.hasVideo?i$2=()=>{iP.info(`[${this._clientId}] remote user ${t$2.uid} unpublished audio track`),this.safeEmit(GO.USER_UNPUBLISHED,t$2,`audio`),iP.info(`[${this._clientId}] remote user ${t$2.uid} unpublished video track`),this.safeEmit(GO.USER_UNPUBLISHED,t$2,`video`)}:t$2.hasVideo?i$2=()=>{iP.info(`[${this._clientId}] remote user ${t$2.uid} unpublished video track`),this.safeEmit(GO.USER_UNPUBLISHED,t$2,`video`)}:t$2.hasAudio&&(i$2=()=>{iP.info(`[${this._clientId}] remote user ${t$2.uid} unpublished audio track`),this.safeEmit(GO.USER_UNPUBLISHED,t$2,`audio`)}),t$2._video_pre_subscribed||t$2._audio_pre_subscribed||(t$2._trust_audio_stream_added_state_=!0,t$2._trust_video_stream_added_state_=!0,t$2._audio_added_=!1,t$2._video_added_=!1,this._p2pChannel instanceof EG&&this._p2pChannel.unsubscribe(t$2).then((e$3=>{if(e$3)return this._gateway.unsubscribe(e$3,t$2.uid)})),t$2._audioSSRC=void 0,t$2._videoSSRC=void 0,t$2._audioOrtc=void 0,t$2._videoOrtc=void 0,t$2._rtxSsrcId=void 0),lP.onGatewayStream(this._sessionId,sP.ON_REMOVE_STREAM,aP.ON_REMOVE_STREAM,{peer:e$2.uint_id||e$2.uid}),i$2()})),iA(this,`_handleSetStreamLocalEnable`,((e$2,t$2,i$2)=>{if(CD(`BLOCK_LOCAL_CLIENT`)&&zU(t$2,this.channelName))return;let n$2=this._users.find((e$3=>e$3.uid===t$2));if(!n$2)return void iP.error(`[${this._clientId}] can not find target user!(disable_local)`);iP.debug(`[${this._clientId}] local ${e$2} ${i$2?`enabled`:`disabled`} with uid ${t$2}`);let r$1=e$2===`audio`?n$2.hasAudio:n$2.hasVideo;if(e$2===`audio`){n$2._trust_audio_enabled_state_=!0;let e$3=n$2._audio_enabled_;if(n$2._audio_enabled_=i$2,n$2._audio_enabled_===e$3)return;{let e$4=n$2._audio_enabled_?`enable-local-audio`:`disable-local-audio`;iP.debug(`[${this._clientId}] user-info-updated, uid: ${t$2}, msg: ${e$4}`),this.safeEmit(GO.USER_INFO_UPDATED,t$2,e$4)}}else{n$2._trust_video_enabled_state_=!0;let e$3=n$2._video_enabled_;if(n$2._video_enabled_=i$2,n$2._video_enabled_===e$3)return;{let e$4=n$2._video_enabled_?`enable-local-video`:`disable-local-video`;iP.debug(`[${this._clientId}] user-info-update, uid: ${t$2}, msg: ${e$4}`),this.safeEmit(GO.USER_INFO_UPDATED,t$2,e$4)}}let o$1=e$2===`audio`?n$2.hasAudio:n$2.hasVideo;r$1!==o$1&&(!r$1&&o$1?(iP.info(`[${this._clientId}] remote user ${t$2} published ${e$2}`),this.safeEmit(GO.USER_PUBLISHED,n$2,e$2)):(e$2===`video`&&n$2._videoTrack&&n$2._videoTrack._destroy(),e$2===`audio`&&n$2._audioTrack,this._p2pChannel.muteRemote(n$2,e$2),iP.info(`[${this._clientId}] remote user ${t$2} unpublished ${e$2}`),this.safeEmit(GO.USER_UNPUBLISHED,n$2,e$2)))})),iA(this,`_handleMuteStream`,((e$2,t$2,i$2)=>{if(CD(`BLOCK_LOCAL_CLIENT`)&&zU(e$2,this.channelName))return;iP.debug(`[${this._clientId}] receive mute message`,e$2,t$2,i$2);let n$2=this._users.find((t$3=>t$3.uid===e$2));if(!n$2)return void iP.warning(`[${this._clientId}] can not find remote user, ignore mute event, uid: ${e$2}`);let r$1=t$2===`audio`?n$2.hasAudio:n$2.hasVideo;if(t$2===`audio`){n$2._trust_audio_mute_state_=!0;let t$3=n$2._audio_muted_;if(n$2._audio_muted_=i$2,n$2._audio_muted_===t$3)return;{let t$4=n$2._audio_muted_?`mute-audio`:`unmute-audio`;iP.debug(`[${this._clientId}] user-info-update, uid: ${e$2}, msg: ${t$4}`),this.safeEmit(GO.USER_INFO_UPDATED,e$2,t$4)}}else{n$2._trust_video_mute_state_=!0;let t$3=n$2._video_muted_;if(n$2._video_muted_=i$2,n$2._video_muted_===t$3)return;{let t$4=n$2._video_muted_?`mute-video`:`unmute-video`;iP.debug(`[${this._clientId}] user-info-update, uid: ${e$2}, msg: ${t$4}`),this.safeEmit(GO.USER_INFO_UPDATED,e$2,t$4)}}let o$1=t$2===`audio`?n$2.hasAudio:n$2.hasVideo;if(r$1!==o$1){if(!r$1&&o$1){(t$2===`audio`?n$2._audioSSRC:n$2._videoSSRC)?(iP.info(`[${this._clientId}] remote user ${e$2} published ${t$2}`),this.safeEmit(GO.USER_PUBLISHED,n$2,t$2)):iP.warning(`[${this._clientId}] remote user ${e$2} receive ${t$2} unmute message  before add stream message, ${t$2} SSRC doesn't exist yet.`);return}t$2===`video`&&n$2._videoTrack&&!n$2._video_pre_subscribed&&n$2._videoTrack._destroy(),t$2===`audio`&&n$2._audioTrack,this._p2pChannel.muteRemote(n$2,t$2),iP.info(`[${this._clientId}] remote user ${e$2} unpublished ${t$2}`),this.safeEmit(GO.USER_UNPUBLISHED,n$2,t$2)}})),iA(this,`_handleP2PLost`,(async e$2=>{iP.debug(`[${this._clientId}] receive p2p lost`,e$2),parseInt(e$2.p2pid,10)===this.store.p2pId?await this._p2pChannel.requestReconnect():iP.warning(`[${this._clientId}] P2PLost stream not found`,e$2)})),iA(this,`_handleTokenWillExpire`,(()=>{iP.debug(`[${this._clientId}] received message onTokenPrivilegeWillExpire`),this.safeEmit(GO.ON_TOKEN_PRIVILEGE_WILL_EXPIRE)})),iA(this,`_handleBeforeUnload`,(e$2=>{e$2.type===`beforeunload`&&e$2.returnValue!==void 0&&e$2.returnValue!==``||(this.leave(),iP.info(`[${this._clientId}] auto leave onbeforeunload or pagehide`))})),iA(this,`_handleUpdateNetworkQuality`,(()=>{if(this._networkQualitySensitivity===`normal`)return;if(navigator&&navigator.onLine!==void 0&&!navigator.onLine)return void this.safeEmit(GO.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6});let e$2={downlinkNetworkQuality:0,uplinkNetworkQuality:0};e$2.uplinkNetworkQuality=this._p2pChannel.getUplinkNetworkQuality(),e$2.downlinkNetworkQuality=this._p2pChannel.getDownlinkNetworkQuality(),this.safeEmit(GO.NETWORK_QUALITY,e$2)})),iA(this,`_handleP2PAddAudioOrVideoStream`,((e$2,t$2,i$2,n$2)=>{let r$1=this._users.find((e$3=>e$3.uid===t$2));if(!r$1)return void iP.error(`[${this._clientId}] can not find target user!(on_add_stream)`);iP.debug(`[${this._clientId}] stream added with uid ${t$2}, type ${e$2}`),this.store.subscribe(r$1.uid,e$2,void 0,void 0,void 0,Date.now());let o$1=e$2===`audio`?r$1.hasAudio:r$1.hasVideo;e$2===`audio`?r$1._trust_audio_stream_added_state_=!0:r$1._trust_video_stream_added_state_=!0,e$2===`audio`?(r$1._audio_added_=!0,i$2!==void 0&&(r$1._audioSSRC=i$2),n$2!==void 0&&(r$1._audioMid=n$2)):(r$1._video_added_=!0,i$2!==void 0&&(r$1._videoSSRC=i$2),n$2!==void 0&&(r$1._videoMid=n$2)),(e$2===`audio`?r$1.hasAudio:r$1.hasVideo)&&!o$1&&(iP.info(`[${this._clientId}] remote user ${r$1.uid} published ${e$2}`),this.safeEmit(GO.USER_PUBLISHED,r$1,e$2)),this._p2pChannel.hasPendingRemoteMedia(r$1,e$2)&&(iP.debug(`[${this._clientId}] resubscribe ${e$2} for user ${r$1.uid} after reconnect.`),this._subscribe(r$1,e$2,!0).catch((e$3=>{iP.error(`[${this._clientId}] resubscribe error`,e$3.toString())})))})),this._config=e$1,this._clientId=t$1||SN(5,`client-`),this.store=new class{constructor(e$2,t$2,i$2,n$2,r$1){dO(this,`state`,void 0),this.state={codec:e$2,audioCodec:t$2,mode:i$2,clientId:n$2,sessionId:null,p2pId:0,dcId:0,pubId:0,subId:0,keyMetrics:{publish:[],subscribe:[],firstVideoFrameDecoded:[]},joinChannelServiceRecords:[],cloudProxyServerMode:`disabled`,useP2P:!1,p2pTransport:_D.Default,hasStartJoinChannel:!1,isABTestSuccess:!1,rteUrl:void 0,rteSid:void 0,autoSubscribe:!1,enableInstantMuteRestore:!1,networkQualityProbe:!1,useDcSignal:!!r$1}}dispatch(e$2){this.state=function(e$3,t$2){switch(t$2.type){case ID.SET_SESSION_ID:return uO(uO({},e$3),{},{sessionId:t$2.sessionId});case ID.SET_P2P_ID:return uO(uO({},e$3),{},{p2pId:t$2.p2pId});case ID.SET_UID:return uO(uO({},e$3),{},{uid:t$2.uid});case ID.SET_INT_UID:return uO(uO({},e$3),{},{intUid:t$2.intUid});case ID.SET_PUB_ID:return uO(uO({},e$3),{},{pubId:t$2.pubId});case ID.KEY_METRIC_CLIENT_CREATED:return uO(uO({},e$3),{},{keyMetrics:uO(uO({},e$3.keyMetrics),{},{clientCreated:t$2.metric})});case ID.KEY_METRIC_JOIN_START:return uO(uO({},e$3),{},{keyMetrics:uO(uO({},e$3.keyMetrics),{},{joinStart:t$2.metric})});case ID.KEY_METRIC_PRELOAD_START:return uO(uO({},e$3),{},{keyMetrics:uO(uO({},e$3.keyMetrics),{},{preloadStart:t$2.metric})});case ID.KEY_METRIC_PRELOAD_END:return uO(uO({},e$3),{},{keyMetrics:uO(uO({},e$3.keyMetrics),{},{preloadEnd:t$2.metric})});case ID.KEY_METRIC_JOIN_END:return uO(uO({},e$3),{},{keyMetrics:uO(uO({},e$3.keyMetrics),{},{joinEnd:t$2.metric})});case ID.KEY_METRIC_REQUEST_AP_START:return uO(uO({},e$3),{},{keyMetrics:uO(uO({},e$3.keyMetrics),{},{requestAPStart:t$2.metric})});case ID.KEY_METRIC_REQUEST_AP_END:return uO(uO({},e$3),{},{keyMetrics:uO(uO({},e$3.keyMetrics),{},{requestAPEnd:t$2.metric})});case ID.KEY_METRIC_REQUEST_SUA_END:return uO(uO({},e$3),{},{keyMetrics:uO(uO({},e$3.keyMetrics),{},{requestSUAEnd:t$2.metric})});case ID.KEY_METRIC_BEFORE_CONNECT:return uO(uO({},e$3),{},{keyMetrics:uO(uO({},e$3.keyMetrics),{},{beforeConnect:t$2.metric})});case ID.KEY_METRIC_PEER_RECEIVER:return uO(uO({},e$3),{},{keyMetrics:uO(uO({},e$3.keyMetrics),{},{peerReceiver:t$2.metric})});case ID.KEY_METRIC_SIGNAL_CONNECTED:return uO(uO({},e$3),{},{keyMetrics:uO(uO({},e$3.keyMetrics),{},{signalConnected:t$2.metric})});case ID.KEY_METRIC_JOIN_REQ:return uO(uO({},e$3),{},{keyMetrics:uO(uO({},e$3.keyMetrics),{},{joinReq:t$2.metric})});case ID.KEY_METRIC_JOIN_REP:return uO(uO({},e$3),{},{keyMetrics:uO(uO({},e$3.keyMetrics),{},{joinRep:t$2.metric})});case ID.KEY_METRIC_JOIN_GATEWAY_START:return uO(uO({},e$3),{},{keyMetrics:uO(uO({},e$3.keyMetrics),{},{joinGatewayStart:t$2.metric})});case ID.KEY_METRIC_JOIN_GATEWAY_END:return uO(uO({},e$3),{},{keyMetrics:uO(uO({},e$3.keyMetrics),{},{joinGatewayEnd:t$2.metric})});case ID.KEY_METRIC_PEER_CONNECTION_START:return uO(uO({},e$3),{},{keyMetrics:uO(uO({},e$3.keyMetrics),{},{peerConnectionStart:t$2.metric})});case ID.KEY_METRIC_PEER_CONNECTION_END:return uO(uO({},e$3),{},{keyMetrics:uO(uO({},e$3.keyMetrics),{},{peerConnectionEnd:t$2.metric})});case ID.KEY_METRIC_DESCRIPTION_START:return uO(uO({},e$3),{},{keyMetrics:uO(uO({},e$3.keyMetrics),{},{descriptionStart:t$2.metric})});case ID.KEY_METRIC_SIGNAL_CHANNEL_OPEN:return uO(uO({},e$3),{},{keyMetrics:uO(uO({},e$3.keyMetrics),{},{signalChannelOpen:t$2.metric})});case ID.KEY_METRIC_ICE_CONNECTION_END:return uO(uO({},e$3),{},{keyMetrics:uO(uO({},e$3.keyMetrics),{},{iceConnectionEnd:t$2.metric})});case ID.KEY_METRIC_PUBLISH:{let i$2=e$3.keyMetrics.publish,n$2=i$2.findIndex((e$4=>e$4.trackId===t$2.metric.trackId));return n$2===-1?uO(uO({},e$3),{},{keyMetrics:uO(uO({},e$3.keyMetrics),{},{publish:[...e$3.keyMetrics.publish,t$2.metric]})}):(i$2[n$2]=uO(uO({},i$2[n$2]),t$2.metric),uO(uO({},e$3),{},{keyMetrics:uO(uO({},e$3.keyMetrics),{},{publish:[...i$2]})}))}case ID.KEY_METRIC_SUBSCRIBE:{let i$2=e$3.keyMetrics.subscribe,n$2=i$2.findIndex((e$4=>e$4.userId===t$2.metric.userId&&e$4.type===t$2.metric.type));return n$2===-1?uO(uO({},e$3),{},{keyMetrics:uO(uO({},e$3.keyMetrics),{},{subscribe:[...e$3.keyMetrics.subscribe,t$2.metric]})}):(i$2[n$2]=uO(uO({},i$2[n$2]),t$2.metric),uO(uO({},e$3),{},{keyMetrics:uO(uO({},e$3.keyMetrics),{},{subscribe:[...i$2]})}))}case ID.KEY_METRIC_FIRST_VIDEO_FRAME_DECODED:{let i$2=e$3.keyMetrics.firstVideoFrameDecoded,n$2=i$2.findIndex((e$4=>e$4.userId===t$2.metric.userId));return n$2===-1?uO(uO({},e$3),{},{keyMetrics:uO(uO({},e$3.keyMetrics),{},{firstVideoFrameDecoded:[...e$3.keyMetrics.firstVideoFrameDecoded,t$2.metric]})}):(i$2[n$2]=uO(uO({},i$2[n$2]),t$2.metric),uO(uO({},e$3),{},{keyMetrics:uO(uO({},e$3.keyMetrics),{},{firstVideoFrameDecoded:[...i$2]})}))}case ID.RESET_FIRST_VIDEO_FRAME_DECODED:return e$3.keyMetrics.firstVideoFrameDecoded=[],e$3;case ID.SET_CLOUD_PROXY_SERVER_MODE:return e$3.cloudProxyServerMode=t$2.mode,e$3;case ID.RECORD_JOIN_CHANNEL_SERVICE:return typeof t$2.index==`number`?(e$3.joinChannelServiceRecords[t$2.index]=uO(uO({},e$3.joinChannelServiceRecords[t$2.index]),t$2.record),e$3.joinChannelServiceRecords=[...e$3.joinChannelServiceRecords]):e$3.joinChannelServiceRecords=[...e$3.joinChannelServiceRecords,t$2.record],e$3;case ID.RESET_JOIN_CHANNEL_SERVICE_RECORDS:return e$3.joinChannelServiceRecords=[],e$3;case ID.RESET_KEY_METRICS:return e$3.keyMetrics={publish:[],subscribe:[],firstVideoFrameDecoded:[]},e$3;case ID.SET_USE_P2P:return uO(uO({},e$3),{},{useP2P:t$2.val});case ID.SET_TRANSPORT_TYPE:return uO(uO({},e$3),{},{p2pTransport:t$2.val});case ID.SET_RTE_URL:return uO(uO({},e$3),{},{rteUrl:t$2.rteUrl});case ID.SET_RTE_SID:return uO(uO({},e$3),{},{rteSid:t$2.rteSid});default:return e$3}}(this.state,e$2)}get useDcSignal(){return this.state.useDcSignal}set useDcSignal(e$2){this.state.useDcSignal=e$2}set autoSubscribe(e$2){this.state.autoSubscribe=e$2}get autoSubscribe(){return this.state.autoSubscribe}set enableInstantMuteRestore(e$2){this.state.enableInstantMuteRestore=e$2}get enableInstantMuteRestore(){return this.state.enableInstantMuteRestore}set networkQualityProbe(e$2){this.state.networkQualityProbe=e$2}get networkQualityProbe(){return this.state.networkQualityProbe}set sessionId(e$2){this.dispatch({type:ID.SET_SESSION_ID,sessionId:e$2})}get sessionId(){return this.state.sessionId}set rteUrl(e$2){this.dispatch({type:ID.SET_RTE_URL,rteUrl:e$2})}get rteUrl(){return this.state.rteUrl}set rteSid(e$2){this.dispatch({type:ID.SET_RTE_SID,rteSid:e$2})}get rteSid(){return this.state.rteSid}set cid(e$2){this.state.cid=e$2}get cid(){return this.state.cid}set codec(e$2){this.state.codec=e$2}get codec(){return this.state.codec}get mode(){return this.state.mode}get audioCodec(){return this.state.audioCodec}get clientId(){return this.state.clientId}set p2pId(e$2){this.dispatch({type:ID.SET_P2P_ID,p2pId:e$2})}get p2pId(){return this.state.p2pId}set dcId(e$2){this.dispatch({type:ID.SET_DC_ID,dcId:e$2})}get dcId(){return this.state.dcId}set uid(e$2){this.dispatch({type:ID.SET_UID,uid:e$2})}get uid(){return this.state.uid}set intUid(e$2){this.dispatch({type:ID.SET_INT_UID,intUid:e$2})}get intUid(){return this.state.intUid}set pubId(e$2){this.dispatch({type:ID.SET_PUB_ID,pubId:e$2})}get pubId(){return this.state.pubId}set cloudProxyServerMode(e$2){this.dispatch({type:ID.SET_CLOUD_PROXY_SERVER_MODE,mode:e$2})}get cloudProxyServerMode(){return this.state.cloudProxyServerMode}set useP2P(e$2){this.dispatch({type:ID.SET_USE_P2P,val:e$2})}get useP2P(){return this.state.useP2P}set p2pTransport(e$2){this.dispatch({type:ID.SET_TRANSPORT_TYPE,val:e$2})}get p2pTransport(){return this.state.p2pTransport}set hasStartJoinChannel(e$2){this.state.hasStartJoinChannel=e$2}get hasStartJoinChannel(){return this.state.hasStartJoinChannel}set isABTestSuccess(e$2){this.state.isABTestSuccess=e$2}get isABTestSuccess(){return this.state.isABTestSuccess}clientCreated(){this.dispatch({type:ID.KEY_METRIC_CLIENT_CREATED,metric:Date.now()})}joinStart(){this.dispatch({type:ID.KEY_METRIC_JOIN_START,metric:Date.now()})}preloadStart(){this.dispatch({type:ID.KEY_METRIC_PRELOAD_START,metric:Date.now()})}preloadEnd(){this.dispatch({type:ID.KEY_METRIC_PRELOAD_END,metric:Date.now()})}joinEnd(){this.dispatch({type:ID.KEY_METRIC_JOIN_END,metric:Date.now()})}requestAPStart(){this.dispatch({type:ID.KEY_METRIC_REQUEST_AP_START,metric:Date.now()})}requestAPEnd(){this.dispatch({type:ID.KEY_METRIC_REQUEST_AP_END,metric:Date.now()})}requestSUAEnd(){this.dispatch({type:ID.KEY_METRIC_REQUEST_SUA_END,metric:Date.now()})}beforeConnect(){this.dispatch({type:ID.KEY_METRIC_BEFORE_CONNECT,metric:Date.now()})}peerReceiver(){this.dispatch({type:ID.KEY_METRIC_PEER_RECEIVER,metric:Date.now()})}signalConnected(){this.dispatch({type:ID.KEY_METRIC_SIGNAL_CONNECTED,metric:Date.now()})}joinReq(){this.dispatch({type:ID.KEY_METRIC_JOIN_REQ,metric:Date.now()})}joinRep(){this.dispatch({type:ID.KEY_METRIC_JOIN_REP,metric:Date.now()})}joinGatewayStart(){this.dispatch({type:ID.KEY_METRIC_JOIN_GATEWAY_START,metric:Date.now()})}joinGatewayEnd(){this.dispatch({type:ID.KEY_METRIC_JOIN_GATEWAY_END,metric:Date.now()})}peerConnectionStart(){this.dispatch({type:ID.KEY_METRIC_PEER_CONNECTION_START,metric:Date.now()})}peerConnectionEnd(){this.dispatch({type:ID.KEY_METRIC_PEER_CONNECTION_END,metric:Date.now()})}firstVideoFrameDecoded(e$2,t$2){this.dispatch({type:ID.KEY_METRIC_FIRST_VIDEO_FRAME_DECODED,metric:uO({userId:e$2},t$2)})}descriptionStart(){this.dispatch({type:ID.KEY_METRIC_DESCRIPTION_START,metric:Date.now()})}signalChannelOpen(){this.dispatch({type:ID.KEY_METRIC_SIGNAL_CHANNEL_OPEN,metric:Date.now()})}iceConnectionEnd(){this.dispatch({type:ID.KEY_METRIC_ICE_CONNECTION_END,metric:Date.now()})}publish(e$2,t$2,i$2,n$2){this.dispatch({type:ID.KEY_METRIC_PUBLISH,metric:uO(uO({trackId:e$2,type:t$2},i$2&&{publishStart:i$2}),n$2&&{publishEnd:n$2})})}subscribe(e$2,t$2,i$2,n$2,r$1,o$1,s$1){this.dispatch({type:ID.KEY_METRIC_SUBSCRIBE,metric:uO(uO(uO(uO(uO({userId:e$2,type:t$2},i$2&&{subscribeStart:i$2}),n$2&&{subscribeEnd:n$2}),r$1&&{firstFrame:r$1}),o$1&&{streamAdded:o$1}),s$1&&{firstDecoded:s$1})})}massSubscribe(e$2,t$2,i$2,n$2){e$2.forEach((e$3=>{this.dispatch({type:ID.KEY_METRIC_SUBSCRIBE,metric:uO(uO(uO({userId:e$3.userId,type:e$3.type},t$2&&{subscribeStart:t$2}),i$2&&{subscribeEnd:i$2}),n$2&&{firstFrame:n$2})})}))}get keyMetrics(){return this.state.keyMetrics}recordJoinChannelService(e$2,t$2){e$2.service===`gateway`&&Array.isArray(e$2.urls)&&(e$2.urls=e$2.urls.map((e$3=>e$3.replace(/(\d+)-\d+-\d+-(\d+)/,`$1-*-*-$2`))));try{return typeof t$2==`number`?(t$2<0||t$2>=this.state.joinChannelServiceRecords.length||this.dispatch({type:ID.RECORD_JOIN_CHANNEL_SERVICE,record:e$2,index:t$2}),t$2):(this.dispatch({type:ID.RECORD_JOIN_CHANNEL_SERVICE,record:uO(uO({},e$2),{},{sessionId:this.sessionId,cloudProxyMode:this.cloudProxyServerMode,uid:this.uid})}),this.state.joinChannelServiceRecords.length-1)}catch{return 0}}resetJoinChannelServiceRecords(){this.dispatch({type:ID.RESET_JOIN_CHANNEL_SERVICE_RECORDS})}resetKeyMetrics(){this.dispatch({type:ID.RESET_KEY_METRICS})}resetFirstVideoFrameDecoded(){this.dispatch({type:ID.RESET_FIRST_VIDEO_FRAME_DECODED})}get joinChannelServiceRecords(){try{return this.state.joinChannelServiceRecords}catch{return[]}}}(e$1.codec,e$1.audioCodec,e$1.mode,this._clientId,CD(`SIGNAL_CHANNEL`)===1),this._leaveMutex=new PN(`client-leave`,this._clientId),this._publishMutex=new PN(`client-publish`,this._clientId),this._renewTokenMutex=new PN(`client-renewtoken`,this._clientId),this._subscribeMutex=new PN(`client-subscribe`,this._clientId),this.store.clientCreated(),e$1.proxyServer&&this.setProxyServer(e$1.proxyServer,!0),e$1.turnServer&&this.setTurnServer(e$1.turnServer,!0),iP.info(`[${this._clientId}] Initializing AgoraRTC client v${hD} build: ${SD}, mode: ${this.mode}, codec: ${this.codec}`),e$1.clientRoleOptions)try{jO(e$1.clientRoleOptions),i$1=Object.assign({},e$1.clientRoleOptions)}catch(e$2){iP.warning(`[${this._clientId}] ${e$2.toString()}`)}var n$1;this._statsCollector=new rj(this.store),this._statsCollector.onStatsException=(e$2,t$2,i$2)=>{iP.warn(`[${this._clientId}] receive exception msg, code: ${e$2}, msg: ${t$2}, uid: ${i$2}`),e$2===ej.VIDEO_ENCODE_FAILED&&this.localTracks.forEach((e$3=>{e$3 instanceof MM&&CD(`ENABLE_ENCODE_EXCEPTION`)&&e$3.findClosestProfile()})),this.safeEmit(GO.EXCEPTION,{code:e$2,msg:t$2,uid:i$2})},this._statsCollector.onUploadPublishDuration=(e$2,t$2,i$2,n$2)=>{let r$1=this._users.find((t$3=>t$3.uid===e$2));r$1&&(this.store.keyMetrics&&(this.store.firstVideoFrameDecoded(r$1.uid,{peerPublishDuration:i$2,peerPubStatusMs:Date.now()}),this._p2pChannel.reportVideoFirstFrameRender(r$1)),lP.peerPublishStatus(this._sessionId,{subscribeElapse:n$2,audioPublishDuration:t$2,videoPublishDuration:i$2,peer:r$1._uintid}))},this._statsCollector.onVideoCodecChanged=e$2=>{if(CD(`VIDEO_STANDARD_BITRATE_VERSION`)&&(e$2===`av1`||e$2===`h265`||e$2===`h264`)){let t$2=this.localTracks.find((e$3=>e$3 instanceof kM));t$2&&t$2._saveEncodeBitrateRatio!==1&&t$2.setSaveEncodeBitrateRatio(e$2===`h264`?CD(`BASELINE_MORE_H264_BITRATE_RATIO`):void 0)}},this.store.useP2P=e$1.mode===`p2p`,this._gateway=new uB(this.store,{clientId:this._clientId,mode:this.mode,codec:this.codec,websocketRetryConfig:e$1.websocketRetryConfig||kN,httpRetryConfig:e$1.httpRetryConfig||kN,forceWaitGatewayResponse:e$1.forceWaitGatewayResponse===void 0||e$1.forceWaitGatewayResponse,statsCollector:this._statsCollector,role:e$1.role,clientRoleOptions:i$1}),this._configDistribute=new ZB(this._clientId,this.store),this.store.useP2P?(this._p2pChannel=(n$1={store:this.store,statsCollector:this._statsCollector},oB(`P2PChannel`).create(n$1)),this._handleP2PEvents()):this._p2pChannel=new EG(this.store,this._statsCollector),this._handleP2PChannelEvents(),this._handleGatewayEvents(),this._handleGatewaySignalEvents()}async joinMeta(e$1,t$1,i$1,n$1,r$1){let o$1=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5],s$1=arguments.length>6&&arguments[6]!==void 0&&arguments[6];RD(`JOIN_GATEWAY_USE_443PORT_ONLY`,o$1),RD(`JOIN_GATEWAY_USE_DUAL_DOMAIN`,s$1);let a$1=this._gateway.signal.websocket;return a$1 instanceof Zx&&(a$1.use443PortOnly=o$1,a$1.tryDoubleDomain=s$1),async function(e$2,t$2,i$2){vw.get(e$2)||vw.set(e$2,[]),yw.get(e$2)||yw.set(e$2,t$2),Iw.get(e$2)||Iw.set(e$2,0);let n$2=vw.get(e$2),r$2=yw.get(e$2);if(!n$2||!r$2)throw Error(`concurrent: deferQueue or maxConcurrency is null`);if(Iw.get(e$2)===r$2){let e$3=Cw();n$2.push(e$3),await e$3.promise}Iw.set(e$2,Iw.get(e$2)+1);let c$1=await i$2(...[...arguments].slice(3));return Iw.set(e$2,Iw.get(e$2)-1),Iw.get(e$2)===r$2-1&&n$2.length>0&&(n$2[0].resolve(),n$2.shift()),Iw.get(e$2)===0&&(vw.set(e$2,[]),yw.set(e$2,0),Iw.set(e$2,0)),c$1}(`client.join`,CD(`JOIN_MAX_CONCURRENCY`),this.join.bind(this),e$1,t$1,i$1,n$1,r$1)}async join(e$1,t$1,i$1,n$1,r$1){let o$1=++this._numberOfJoinCount;this.store.joinStart(),n$1&&(this.store.uid=n$1);let s$1=(VN||VN||(VN=(window.location.protocol.split(`:`)[0]||``).toUpperCase(),VN))===`HTTPS`,a$1=WN()?window.isSecureContext:`Browser Not Support`;(!WN()&&!s$1||!window.isSecureContext)&&iP.warning(`The website must be running in a secure context (About secure context: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts ), otherwise the media collection will be restricted by the browser`);let c$1;lP.setAppId(e$1);try{if(!i$1&&i$1!==null)throw new uP(hO.INVALID_PARAMS,`Invalid token: ${i$1}. If you don not use token, set it to null`);if(i$1&&SO(i$1,`token`,1,2047),SO(e$1,`appid`,1,2047),HV(t$1),n$1&&KV(n$1),r$1)if(typeof r$1==`string`)SO(r$1,`optionalInfo`,1,256),c$1=r$1;else{if(typeof r$1!=`object`)throw new uP(hO.INVALID_PARAMS,`Invalid options: options is not a string or object`);{let{autoSubscribe:e$2,enableInstantMuteRestore:t$2,networkQualityProbe:i$2}=r$1;e$2&&(_O(e$2,`autoSubscribe`),iP.info(`[${this._clientId}] join: autoSubscribe: ${e$2}`),this.store.autoSubscribe=e$2),t$2&&(_O(t$2,`enableInstantMuteRestore`),iP.info(`[${this._clientId}] join: enableInstantMuteRestore: ${t$2}`),this.store.enableInstantMuteRestore=t$2),i$2&&(_O(i$2,`networkQualityProbe`),iP.info(`[${this._clientId}] join: networkQualityProbe: ${i$2}`),this.store.networkQualityProbe=i$2)}}}catch(r$2){throw lP.reportApiInvoke(gN(),{name:LO.JOIN,options:[e$1,t$1,i$1,n$1],states:{isHttps:s$1,isSecureContext:a$1},tag:kO.TRACER}).onError(r$2),r$2}if(this._leaveMutex.isLocked&&(iP.debug(`[${this._clientId}] join: waiting leave operation`),(await this._leaveMutex.lock())(),iP.debug(`[${this._clientId}] join: continue`)),this._joinAndNotLeaveYet=!0,this.connectionState!==`DISCONNECTED`){let r$2=new uP(hO.INVALID_OPERATION,`[${this._clientId}] Client already in connecting/connected state`);throw lP.reportApiInvoke(gN(),{name:LO.JOIN,options:[e$1,t$1,i$1,n$1],states:{isHttps:s$1,isSecureContext:a$1},tag:kO.TRACER}).onError(r$2),r$2}this._gateway.state=`CONNECTING`,this.store.preloadStart();let d$1=await WG({appId:e$1,cname:t$1,uid:n$1,stringUid:typeof n$1==`string`?n$1:void 0,token:i$1||e$1,cloudProxyServer:this._cloudProxyServerMode});if(this.store.preloadEnd(),!this._joinAndNotLeaveYet)throw new uP(hO.INVALID_OPERATION,`[${this._clientId}] Client already left`);let l$1=d$1?.sid||gN();iP.info(`[${this._clientId}] start join channel ${t$1}, join number: ${o$1}`),this._sessionId||(this._sessionId=l$1,this.store.sessionId=this._sessionId);let u$1=lP.reportApiInvoke(this._sessionId,{id:this._clientId,name:LO.JOIN,options:[e$1,t$1,i$1,n$1],states:{isHttps:s$1,isSecureContext:a$1},tag:kO.TRACER}),h$1=vH(vH(vH({},this._rtmConfig),{},{role:this.role,clientId:this._clientId,appId:e$1,sid:this._sessionId,cname:t$1,uid:typeof n$1==`string`?null:n$1,turnServer:this._turnServer,proxyServer:this._proxyServer,token:i$1||e$1,cloudProxyServer:this._cloudProxyServerMode,optionalInfo:c$1,license:this._license,useLocalAccessPoint:this._useLocalAccessPoint,preload:!!d$1},this._remoteDefaultVideoStreamType!==void 0&&{defaultVideoStream:this._remoteDefaultVideoStreamType}),{},{apRequestDetail:CD(`AP_REQUEST_DETAIL`)||void 0});if(this._useLocalAccessPoint&&(h$1.setLocalAPVersion=this._setLocalAPVersion),typeof n$1==`string`&&(h$1.stringUid=n$1,this._uintUid?(h$1.uid=this._uintUid,this._uintUid=void 0):h$1.uid=0),this._encryptionMode!==`none`&&this._encryptionSecret){if(h$1.aesmode=this._encryptionMode,h$1.aespassword=await(async e$2=>{let t$2=function(e$3){let t$3=window.atob(`MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDCMnXAHkKIGAM+x4N22gCI+Wyu
STM9ztkT3uYslTT2PuKmZfPzhH6kVdO7PTjGCOZnAsyb3oTtWat0KcxQ4jxvqQV+
HvYl3iI1Yd4vl2c3qRMJPLtRDfNxa2Mcxgq7e9aEUibzdd0st+OJAy3tOj/Y0aVy
xQiYDz3vqa6bP29adwIDAQAB`),i$3=new Uint8Array(new ArrayBuffer(t$3.length));for(let e$4=0;e$4<t$3.length;e$4+=1)i$3[e$4]=t$3.charCodeAt(e$4);return i$3}(),i$2=await window.crypto.subtle.importKey(`spki`,t$2,{name:`RSA-OAEP`,hash:`SHA-256`},!0,[`encrypt`]),n$2=bO(e$2),r$2=await window.crypto.subtle.encrypt({name:`RSA-OAEP`},i$2,n$2);return function(e$3){let t$3=``;for(let i$3=0;i$3<e$3.length;i$3+=1)t$3+=String.fromCharCode(e$3[i$3]);return window.btoa(t$3)}(new Uint8Array(r$2))})(this._encryptionSecret),!this._joinAndNotLeaveYet)throw new uP(hO.INVALID_OPERATION,`[${this._clientId}] Client already left`);this._encryptionSalt&&(h$1.aessalt=this._encryptionSalt)}if(this._encryptDataStream&&(this._encryptionMode===`aes-128-gcm2`||this._encryptionMode===`aes-256-gcm2`))if(this._encryptionSalt&&this._encryptionSecret)if(window.crypto.subtle){let e$2=new TextEncoder,t$2=CD(`USE_PURE_ENCRYPTION_MASTER_KEY`)?e$2.encode(h$1.appId+this._encryptionSecret+this._encryptionSecret):e$2.encode(h$1.appId+h$1.cname+this._encryptionSecret);this._encryptDataStreamIv=await async function(e$3,t$3,i$2){let n$2=await window.crypto.subtle.importKey(`raw`,t$3,`PBKDF2`,!1,[`deriveBits`,`deriveKey`]),r$2=e$3===`aes-128-gcm2`?128:256,o$2=await window.crypto.subtle.deriveBits({name:`PBKDF2`,iterations:OD,hash:`SHA-256`,salt:i$2},n$2,r$2+96);return new Uint8Array(o$2).subarray(r$2/8)}(this._encryptionMode,t$2,lN(this._encryptionSalt)),this._encryptDataStreamKey=await async function(e$3,t$3,i$2){let n$2=await window.crypto.subtle.importKey(`raw`,t$3,`PBKDF2`,!1,[`deriveBits`,`deriveKey`]),r$2=e$3===`aes-128-gcm2`?128:256;return await window.crypto.subtle.deriveKey({name:`PBKDF2`,iterations:OD,hash:`SHA-256`,salt:i$2},n$2,{name:`AES-GCM`,length:r$2},!0,[`encrypt`,`decrypt`])}(this._encryptionMode,t$2,lN(this._encryptionSalt))}else a$1?iP.warning(`[${this._clientId}] encrypt datastream must be running in a secure context, fallback to plain data stream`):iP.warning(`[${this._clientId}] current browser do not support WebCrypto ,fallback to plain data stream`),this._encryptDataStream=!1;else this._encryptDataStream=!1,iP.debug(`[${this._clientId}] no salt / secret, cannot support encrypt data stream, fallback to plain data stream`);this._startSession(this._sessionId,{channel:t$1,appId:e$1,stringUid:h$1.stringUid});let p$1=this._sessionId;setTimeout((()=>{this.connectionState===`CONNECTING`&&p$1===this._sessionId&&lP.joinChannelTimeout(this._sessionId,5)}),5e3);try{var _$1;let n$2,r$2=h$1.cloudProxyServer;if(Ln(_$1=[`proxy3`,`proxy4`,`proxy5`]).call(_$1,r$2)){let e$2=CD(`PROXY_SERVER_TYPE3`);Array.isArray(e$2)?h$1.proxyServer=e$2[0]:h$1.proxyServer=e$2}if(lP.setProxyServer(h$1.proxyServer),iP.setProxyServer(h$1.proxyServer),this.store.requestAPStart(),d$1)iP.debug(`[${this._clientId}] get serverInfo Success from Preload Cache ${h$1.stringUid?`, ${h$1.stringUid} => ${d$1.intUid}`:``} `),h$1.stringUid&&!h$1.uid&&(h$1.uid=d$1.intUid),n$2={gatewayInfo:d$1.ap.gatewayInfo},CD(`JOIN_WITH_FALLBACK_MEDIA_PROXY`)&&h$1.turnServer.mode===`auto`&&(d$1.ap.proxyInfo.addresses.length===0?iP.warning(`no edge services in ap response of proxy fallback, will not set proxy in iceServers`):h$1.turnServer={mode:`manual`,servers:(await pF(d$1.ap.proxyInfo,d$1.ap.gatewayInfo.uid)).map((e$2=>({turnServerURL:e$2.address,tcpport:e$2.tcpport||ED.tcpport,udpport:e$2.udpport||ED.udpport,username:e$2.username||ED.username,password:e$2.password||ED.password,forceturn:!1,security:!0})))}),qG(d$1,h$1.stringUid);else{if(h$1.stringUid&&!h$1.uid){let e$2;[e$2,n$2]=await rp.all([WB(h$1.stringUid,h$1,this._axiosCancelSource.token,this._config.httpRetryConfig||kN,this.store).finally((()=>{this.store.requestSUAEnd()})),GB(h$1,this._axiosCancelSource.token,this._config.httpRetryConfig||kN,!0,this.store).finally((()=>{this.store.requestAPEnd()}))]),iP.debug(`[${this._clientId}] getUserAccount Success ${h$1.stringUid} => ${e$2}`),h$1.uid=e$2,n$2.gatewayInfo.uid=e$2,n$2.gatewayInfo.res.uid=e$2}else n$2=await GB(h$1,this._axiosCancelSource.token,this._config.httpRetryConfig||kN,!0,this.store);if(!this._joinAndNotLeaveYet)throw new uP(hO.INVALID_OPERATION,`[${this._clientId}] Client already left`)}this.store.requestAPEnd(),setTimeout((()=>{this._configDistribute.startGetConfigDistribute(h$1,this._axiosCancelSource.token),this._configDistribute.on(px.UPDATE_BITRATE_LIMIT,(e$2=>{this._p2pChannel.updateBitrateLimit(e$2)})),this._configDistribute.on(px.UPDATE_CLIENT_ROLE_OPTIONS,(e$2=>{this._setClientRoleOptions(e$2)})),this._configDistribute.on(px.UPDATE_REMOTE_VIDEO_STREAM_TYPE,(e$2=>{var t$2;Ln(t$2=[0,1,4,5,6,7,8,9]).call(t$2,e$2)&&(this.remoteUsers.forEach((t$3=>{this._remoteStreamTypeCacheMap.get(t$3.uid)!==e$2&&this.setRemoteVideoStreamType(t$3.uid,e$2)})),this.setRemoteDefaultVideoStreamType(e$2))})),this._configDistribute.on(px.FALLBACK_TO_HLS,(e$2=>{e$2&&this.safeEmit(GO.FALLBACK_TO_HLS,WO.CONFIG)})),this._configDistribute.on(px.UPDATE_VOS_CONFIGURE,(e$2=>{this._gateway.setConfigure(e$2).catch((e$3=>{iP.debug(`[${this._clientId}] auto set vos config failed`,e$3)}))}))}),0),this._key=i$1||e$1;let o$2=n$2.gatewayInfo,s$2=h$1.uid?h$1.uid:o$2.uid;this._joinInfo=vH(vH({},h$1),{},{cid:o$2.cid,uid:s$2,vid:o$2.vid,apResponse:o$2.res,apGatewayAddress:o$2.apGatewayAddress,uni_lbs_ip:o$2.uni_lbs_ip,gatewayAddrs:o$2.gatewayAddrs}),this.store.intUid=s$2,this.store.cid=o$2.cid;let a$2=await this._joinGateway();if(!this._joinAndNotLeaveYet)throw new uP(hO.INVALID_OPERATION,`[${this._clientId}] Client already left`);u$1.onSuccess(a$2),this._appId=e$1,this._channelName=h$1.cname,this._uid=a$2,this.store.uid=a$2,setTimeout((()=>{this._networkQualityInterval&&window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=window.setInterval(this._handleUpdateNetworkQuality,2e3),!Vw()&&this.store.useDcSignal?(window.addEventListener(`beforeunload`,this._handleBeforeUnload),window.addEventListener(`pagehide`,this._handleBeforeUnload)):window.addEventListener(Vw()?`beforeunload`:`pagehide`,this._handleBeforeUnload),this._statsCollector.startUpdateStats()}),0);let c$2=h$1.stringUid?`string uid: ${h$1.stringUid},uid: ${h$1.uid}`:`uid: ${this._uid}`;return iP.info(`[${this._clientId}] Joining channel success: channel: ${t$1},${c$2}`),setTimeout((()=>{iP.startUpload()}),5e3),this.store.joinEnd(),E$1=this,Ln(KU).call(KU,E$1)||KU.push(E$1),this._cloudProxyServerMode===`disabled`&&pP().supportWebCrypto&&CD(`ENABLE_PRELOAD`)&&YG(this._joinInfo),this._rteDetailInterval&&=(window.clearInterval(this._rteDetailInterval),void 0),this._sessionId&&lP.reportRteDetail(this._sessionId),this._rteDetailInterval=window.setInterval((()=>{this._sessionId&&lP.reportRteDetail(this._sessionId)}),CD(`RTE_DETAIL_REPORT_INTERVAL`)||6e4),a$2}catch(e$2){let t$2=Array.isArray(e$2)?e$2[0]:e$2;throw t$2&&t$2.code===hO.OPERATION_ABORTED?iP.warning(`[${this._clientId}] join number: ${o$1}, Joining channel failed, rollback`,t$2):iP.error(`[${this._clientId}] join number: ${o$1}, Joining channel failed, rollback`,t$2),t$2.code!==hO.OPERATION_ABORTED&&this._numberOfJoinCount===o$1&&(this._gateway.state=`DISCONNECTED`,this._reset()),u$1.onError(t$2),t$2}var E$1}async _joinGateway(){if(!this._joinInfo||!this._key)throw new uP(hO.INVALID_OPERATION);try{return await this._gateway.join(this._joinInfo,this._key,!(this._joinInfo.cloudProxyServer!==`disabled`||this._joinInfo.proxyServer||!CD(`JOIN_WITH_FALLBACK_SIGNAL_PROXY`)))}catch(e$1){if(e$1.code===hO.INIT_DATACHANNEL_TIMEOUT){if(this._gateway.leave(!0,VO.FALLBACK),iP.debug(`[${this._clientId}] join by datachannel timeout, fallback to websocket`),!this._joinInfo||!this._key)throw new uP(hO.INVALID_OPERATION);return lP.reportApiInvoke(this._sessionId,{name:LO.DATACHANNEL_FAILBACK,options:[this.store.clientId],tag:kO.TRACER}).onSuccess(),await this._joinGateway()}throw e$1}}async leave(){iP.info(`[${this._clientId}] Leaving channel`);let e$1=()=>{!Vw()&&this.store.useDcSignal?(window.addEventListener(`beforeunload`,this._handleBeforeUnload),window.addEventListener(`pagehide`,this._handleBeforeUnload)):window.addEventListener(Vw()?`beforeunload`:`pagehide`,this._handleBeforeUnload),this._reset(),function(e$2){let t$2=KU.indexOf(e$2);t$2!==-1&&KU.splice(t$2,1)}(this),this._statsCollector.stopUpdateStats()};this.store.useDcSignal||e$1();let t$1=await this._leaveMutex.lock();if(this.connectionState===`DISCONNECTED`)return iP.info(`[${this._clientId}] Leaving channel repeated, success`),void t$1();await this._gateway.leave(this.connectionState!==`CONNECTED`,VO.LEAVE),iP.info(`[${this._clientId}] Leaving channel success`),this._joinAndNotLeaveYet=!1,this.store.resetJoinChannelServiceRecords(),t$1(),this.store.useDcSignal&&e$1()}async publish(e$1){let t$1=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(!Array.isArray(e$1)){if(!(e$1 instanceof lL))return this._publishDataChannel(e$1);e$1=[e$1]}if(e$1.length===0)throw new uP(hO.INVALID_PARAMS,`param list is empty`);let i$1=e$1;if(this._gateway.role===`audience`)throw new uP(hO.INVALID_OPERATION,`audience can not publish stream`);for(let e$2 of i$1){if(!(e$2 instanceof lL))throw new uP(hO.INVALID_PARAMS,`parameter is not local track`);if(!e$2._enabled&&t$1)throw new uP(hO.TRACK_IS_DISABLED,`can not publish a disabled track: ${e$2.getTrackId()}`)}iP.info(`[${this._clientId}] Publishing tracks, id ${i$1.map((e$2=>`${e$2.getTrackId()} `))}`);let n$1=await this._publishMutex.lock();await this._configDistribute.awaitConfigDistributeComplete(),t$1&&i$1.forEach((e$2=>{let t$2=this._configDistribute.getBitrateLimit();e$2 instanceof kM&&t$2&&e$2.setBitrateLimit(t$2.uplink)}));try{await this._publishHighStream(i$1),iP.info(`[${this._clientId}] Publish success, id ${i$1.map((e$2=>`${e$2.getTrackId()} `))}`)}catch(e$2){throw iP.error(`[${this._clientId}] publish error`,e$2.toString()),e$2}finally{n$1()}}async _publishDataChannel(e$1){if(e$1==null)throw new uP(hO.INVALID_PARAMS,`parameter is not local track or datachannel config, config is ${JSON.stringify(e$1)}`);mO(e$1.id,`id`,0,65535,!0),_O(e$1.ordered,`ordered`),SO(e$1.metadata,`metadata`,0,512),iP.info(`[${this._clientId}] Publishing datachannels, id ${e$1.id}`);let t$1=await this._publishMutex.lock();try{if(this._p2pChannel.getAllDataChannels().findIndex((t$2=>t$2.id===e$1.id))!==-1)throw new uP(hO.INVALID_PARAMS,`Invalid id: ${e$1.id}. If you want to republish the datachannel, unpublish first`);if(!this._joinInfo||this._uid===void 0)throw new uP(hO.INVALID_OPERATION,`Can't publish datachannel, haven't joined yet!`);if(this.connectionState!==`CONNECTED`&&this.connectionState!==`RECONNECTING`)throw new uP(hO.INVALID_OPERATION,`can not publish datachannel in ${this.connectionState} state`);if(this._turnServer.mode===`auto`&&CD(`FORCE_TURN`)&&!CD(`TURN_ENABLE_TCP`)&&!CD(`TURN_ENABLE_UDP`))throw new uP(hO.UNEXPECTED_ERROR,`force TURN With No TURN Configuration`);let i$1=function(e$2){return sB(e$2,!1)}(e$1),n$1=await this._p2pChannel.publishDataChannel([i$1]);if(n$1.length>0){if(typeof i$1._originDataChannelId!=`number`)throw iP.error(`[${this._clientId}] can not publish with mediaType datachannel, cannot get RTCDatachannel id`),new uP(hO.CREATE_DATACHANNEL_ERROR);try{await rp.all(n$1.map((e$2=>this._uid&&this._gateway.publishDataChannel(this._uid,e$2,!0)))),await i$1._waitTillOpen()}catch(e$2){if(e$2.code!==hO.DISCONNECT_P2P)throw e$2}}return iP.info(`[${this._clientId}] Publish dataChannels success, id ${i$1.id}`),i$1}catch(e$2){throw iP.error(`[${this._clientId}] publish datachannels error`,e$2.toString()),e$2}finally{t$1()}}async unpublish(e$1){if(!this._joinInfo||this._uid===void 0)throw new uP(hO.INVALID_OPERATION,`Can't unpublish stream, haven't joined yet!`);let t$1=[];if(e$1)if(Array.isArray(e$1))t$1=e$1;else{if(!(e$1 instanceof lL))return this._unpublishDataChannel([e$1]);t$1=[e$1]}else this.store.useP2P||await this._unpublishDataChannel(),t$1=this._p2pChannel.getAllTracks(!0);iP.info(`[${this._clientId}] Unpublish tracks, tracks ${t$1.map((e$2=>`${e$2.getTrackId()} `))} `);let i$1=await this._publishMutex.lock();try{if(this.store.useP2P){let e$2=await this._p2pChannel.unpublish(t$1);e$2&&await this._gateway.sendExtensionMessage(Lx.UNPUBLISH,{unpubMsg:e$2},!0)}else{let e$2=await this._p2pChannel.unpublish(t$1);e$2&&await this._gateway.unpublish(e$2,this._uid),iP.info(`[${this._clientId}] Unpublish success,tracks ${t$1.map((e$3=>`${e$3.getTrackId()}`))}`)}}catch(e$2){throw iP.error(`[${this._clientId}] unpublish error`,e$2.toString()),e$2}finally{i$1&&i$1()}}async _unpublishDataChannel(e$1){e$1!==void 0&&e$1.length!==0||(e$1=this._p2pChannel.getAllDataChannels()),iP.info(`[${this._clientId}] Unpublish datachannels, datachannels ${e$1.map((e$2=>`${e$2.id} `))} `);let t$1=await this._publishMutex.lock();try{let i$1=await this._p2pChannel.unpublishDataChannel(e$1);i$1&&await this._gateway.unpublishDataChannel(i$1),iP.info(`[${this._clientId}] Unpublish dataChannel success,dataChannel ${e$1.map((e$2=>`${e$2.id}`))}`)}catch(e$2){throw iP.error(`[${this._clientId}] unpublish dataChannel error`,e$2.toString()),e$2}finally{t$1&&t$1()}}async subscribe(e$1,t$1,i$1){if(!(e$1 instanceof aj)){let t$2=this.remoteUsers.find((t$3=>t$3.uid===e$1));if(!t$2)throw new uP(hO.INVALID_REMOTE_USER,`user is not in the channel`);e$1=t$2}return t$1===`datachannel`?this._subscribeDataChannel(e$1,i$1):this._subscribe(e$1,t$1)}async presubscribe(e$1,t$1){if(EO(t$1,`mediaType`,[`audio`,`video`]),this.store.useP2P)throw new uP(hO.INVALID_OPERATION,`can't presub at p2p mode`);if(!this._joinInfo)throw new uP(hO.INVALID_OPERATION,`can't presub when not join`);if(this.connectionState!==`CONNECTED`&&this.connectionState!==`RECONNECTING`)throw new uP(hO.INVALID_OPERATION,`can't presub in ${this.connectionState} state`);let i$1=t$1===fx.AUDIO,n$1=t$1===fx.VIDEO,r$1=await this._subscribeMutex.lock();try{let{ssrcId:o$1,ortc:s$1,rtxSsrcId:a$1,cname:c$1,uint_id:d$1}=await this._gateway.presubscribe(e$1,t$1,!0);if(o$1==null)throw new uP(hO.UNEXPECTED_RESPONSE,`no ssrc id`);let l$1=this._users.find((t$2=>t$2.uid===e$1));l$1||(l$1=new aj(e$1,d$1||e$1),l$1._is_pre_created=!0,this._users.push(l$1)),c$1&&(l$1._cname=c$1),l$1._uintid||=d$1||e$1,i$1&&(l$1._audioSSRC=o$1,l$1._audio_pre_subscribed=!0,s$1&&(l$1._audioOrtc=s$1)),n$1&&(l$1._videoSSRC=o$1,l$1._video_pre_subscribed=!0,s$1&&(l$1._videoOrtc=s$1),a$1!=null&&(l$1._rtxSsrcId=a$1)),iP.info(`[${this._clientId}] presub succeed ssrc: ${o$1}`),await this._p2pChannel.subscribe(l$1,t$1,o$1,a$1,s$1);let u$1=i$1?l$1._audioTrack:l$1._videoTrack;if(!u$1)throw new uP(hO.UNEXPECTED_ERROR,`can not find remote track in user`);return i$1&&(l$1._trust_audio_stream_added_state_=!0,l$1._audio_added_=!0),n$1&&(l$1._trust_video_stream_added_state_=!0,l$1._video_added_=!0),u$1}catch(t$2){throw iP.error(`[${this._clientId}] presub user ${e$1} error`,t$2),t$2}finally{r$1()}}async _subscribeDataChannel(e$1,t$1){var i$1;if(mO(t$1,`channelId`,0,65535,!0),!this._joinInfo)throw new uP(hO.INVALID_OPERATION,`Can't subscribe datachannel, not joined`);if(this.connectionState!==`CONNECTED`&&this.connectionState!==`RECONNECTING`)throw new uP(hO.INVALID_OPERATION,`Can't subscribe datachannel in ${this.connectionState} state`);if(!this._users.find((t$2=>t$2===e$1)))throw iP.error(`[${this._clientId}] can not subscribe ${e$1.uid}, this user is not in the channel`),new uP(hO.INVALID_REMOTE_USER,`user is not in the channel`);if(!e$1.hasAudio&&!e$1.hasVideo&&e$1._dataChannels.length===0)throw iP.error(`[${this._clientId}] can not subscribe ${e$1.uid}, user is not published`),new uP(hO.INVALID_REMOTE_USER,`user is not published`);let r$1=e$1._dataChannels?.find((e$2=>e$2.id===t$1));if(!r$1)throw iP.error(`[${this._clientId}] can not subscribe ${e$1.uid} with mediaType datachannel, remote datachannel is not published`),new uP(hO.REMOTE_USER_IS_NOT_PUBLISHED);let o$1=await this._subscribeMutex.lock();iP.info(`[${this._clientId}] subscribe user ${e$1.uid}, mediaType: datachannel`);try{let t$2=await this._p2pChannel.subscribeDataChannel(e$1,[r$1]);if(t$2&&Ln(t$2).call(t$2,r$1.id))try{var s$1;if(typeof r$1._originDataChannelId!=`number`)throw iP.error(`[${this._clientId}] can not subscribe ${e$1.uid} with mediaType datachannel, cannot get RTCDatachannel`),new uP(hO.CREATE_DATACHANNEL_ERROR);let t$3={id:r$1.id,datachannelId:r$1._originDataChannelId,ordered:r$1.ordered,maxRetransmits:r$1.maxRetransmits,metadata:r$1.metadata??``};await this._gateway.subscribeDataChannel(e$1.uid,t$3,!0),await r$1._waitTillOpen()}catch(t$3){if(t$3?.code!==hO.WS_ABORT)throw await this._p2pChannel.unsubscribeDataChannel(e$1,[r$1]),t$3;await this._p2pChannel.unsubscribeDataChannel(e$1,[r$1]),this._p2pChannel.setPendingRemoteDataChannel(e$1,r$1.id)}return iP.info(`[${this._clientId}] subscribe success user ${e$1.uid}, mediaType: datachannel`),r$1}finally{o$1()}}async _p2pSubscribe(e$1,t$1,i$1){if(EO(t$1,`mediaType`,[`audio`,`video`]),!this._joinInfo)throw new uP(hO.INVALID_OPERATION,`Can't subscribe stream, not joined`);if(this.connectionState!==`CONNECTED`&&this.connectionState!==`RECONNECTING`)throw new uP(hO.INVALID_OPERATION,`Can't subscribe stream in ${this.connectionState} state`);if(!this._users.find((t$2=>t$2===e$1))){let t$2=new uP(hO.INVALID_REMOTE_USER,`user is not in the channel`);throw iP.error(`[${this._clientId}] can not subscribe ${e$1.uid}, this user is not in the channel`),t$2}if(!e$1.hasAudio&&!e$1.hasVideo){let t$2=new uP(hO.INVALID_REMOTE_USER,`user is not published`);throw iP.error(`[${this._clientId}] can not subscribe ${e$1.uid}, user is not published`),t$2}if(!i$1&&(t$1===`audio`&&!e$1.hasAudio||t$1===`video`&&!e$1.hasVideo)){let i$2=new uP(hO.REMOTE_USER_IS_NOT_PUBLISHED);throw iP.error(`[${this._clientId}] can not subscribe ${e$1.uid} with mediaType ${t$1}, remote track is not published`),i$2}let r$1=await this._subscribeMutex.lock();iP.info(`[${this._clientId}] subscribe user ${e$1.uid}, mediaType: ${t$1}`);try{if(await this._p2pChannel.hasRemoteMediaWithLock(e$1,t$1))await this._p2pChannel.unmuteRemote(e$1,t$1);else try{let i$3=t$1===`audio`?e$1._audioSSRC:e$1._videoSSRC,n$1=t$1===`audio`?e$1._audioMid:e$1._videoMid;this.store.subscribe(e$1.uid,t$1,Date.now()),this.store.useP2P&&await this._p2pChannel.subscribe(e$1,t$1,i$3,n$1)}catch(e$2){throw e$2}iP.info(`[${this._clientId}] subscribe success user ${e$1.uid}, mediaType: ${t$1}`),this._defaultStreamFallbackType!==void 0&&this.setStreamFallbackOption(e$1.uid,this._defaultStreamFallbackType).catch((e$2=>{iP.warning(`[${this._clientId}] auto set fallback failed`,e$2)}));let i$2=t$1===`audio`?e$1._audioTrack:e$1._videoTrack;if(!i$2)throw new uP(hO.UNEXPECTED_ERROR,`can not find remote track in user object`);return i$2}catch(t$2){throw iP.error(`[${this._clientId}] subscribe user ${e$1.uid} error`,t$2),t$2}finally{r$1()}}async _subscribe(e$1,t$1,i$1){if(this.store.useP2P)return this._p2pSubscribe(e$1,t$1);if(EO(t$1,`mediaType`,[`audio`,`video`]),!this._joinInfo)throw new uP(hO.INVALID_OPERATION,`Can't subscribe stream, not joined`);if(this.connectionState!==`CONNECTED`&&this.connectionState!==`RECONNECTING`)throw new uP(hO.INVALID_OPERATION,`Can't subscribe stream in ${this.connectionState} state`);if(!this._users.find((t$2=>t$2===e$1))){let t$2=new uP(hO.INVALID_REMOTE_USER,`user is not in the channel`);throw iP.error(`[${this._clientId}] can not subscribe ${e$1.uid}, this user is not in the channel`),t$2}if(!e$1.hasAudio&&!e$1.hasVideo){let t$2=new uP(hO.INVALID_REMOTE_USER,`user is not published`);throw iP.error(`[${this._clientId}] can not subscribe ${e$1.uid}, user is not published`),t$2}if(!(i$1||(t$1!==`audio`||e$1.hasAudio&&e$1._audioSSRC!==void 0)&&(t$1!==`video`||e$1.hasVideo&&e$1._videoSSRC!==void 0))){let i$2=new uP(hO.REMOTE_USER_IS_NOT_PUBLISHED);throw iP.error(`[${this._clientId}] can not subscribe ${e$1.uid} with mediaType ${t$1}, remote track is not published`),i$2}let r$1=t$1===`audio`?e$1._audioSSRC:e$1._videoSSRC,o$1=t$1===`audio`?e$1._audioOrtc:e$1._videoOrtc,s$1=t$1===`video`?e$1._rtxSsrcId:void 0,a$1={stream_type:t$1===`audio`?fx.AUDIO:fx.VIDEO,ssrcId:r$1};t$1===`video`&&this.store.firstVideoFrameDecoded(e$1.uid,{subscribeStart:Date.now()});let c$1=await this._subscribeMutex.lock();iP.info(`[${this._clientId}] subscribe user ${e$1.uid}, mediaType: ${t$1}`);try{if(await this._p2pChannel.hasRemoteMediaWithLock(e$1,t$1))await this._p2pChannel.unmuteRemote(e$1,t$1);else try{let i$3=t$1===`audio`?e$1._audioSSRC:e$1._videoSSRC;i$3!==void 0&&i$3!==r$1&&(r$1=i$3,o$1=t$1===`audio`?e$1._audioOrtc:e$1._videoOrtc,s$1=t$1===`video`?e$1._rtxSsrcId:void 0,a$1={stream_type:t$1===`audio`?fx.AUDIO:fx.VIDEO,ssrcId:r$1}),tj.markSubscribeStart(this.store.clientId,r$1),this.store.subscribe(e$1.uid,t$1,Date.now()),await this._p2pChannel.subscribe(e$1,t$1,r$1,s$1,o$1);try{this._p2pChannel.isPreSubScribe(r$1)||await this._gateway.subscribe(e$1.uid,a$1,!0)}catch(i$4){if(i$4?.code!==hO.WS_ABORT)throw await this._p2pChannel.unsubscribe(e$1,t$1),i$4;await this._p2pChannel.unsubscribe(e$1,t$1,!0),this._p2pChannel.setPendingRemoteMedia(e$1,t$1)}this.store.subscribe(e$1.uid,t$1,void 0,Date.now()),this._p2pChannel.reportSubscribeEvent(!0,null,e$1,t$1)}catch(i$3){throw this._p2pChannel.reportSubscribeEvent(!1,i$3?.code,e$1,t$1),i$3}iP.info(`[${this._clientId}] subscribe success user ${e$1.uid}, mediaType: ${t$1}`),this._defaultStreamFallbackType!==void 0&&this.setStreamFallbackOption(e$1.uid,this._defaultStreamFallbackType).catch((e$2=>{iP.warning(`[${this._clientId}] auto set fallback failed`,e$2)}));let i$2=t$1===`audio`?e$1._audioTrack:e$1._videoTrack;if(!i$2)throw new uP(hO.UNEXPECTED_ERROR,`can not find remote track in user object`);return t$1===`video`&&(this.store.firstVideoFrameDecoded(e$1.uid,{subscribeEnd:Date.now()}),this._p2pChannel.reportVideoFirstFrameRender(e$1)),i$2}catch(t$2){throw iP.error(`[${this._clientId}] subscribe user ${e$1.uid} error`,t$2),t$2}finally{c$1()}}async massSubscribe(e$1){if(gO(e$1,`subscribeList`),!this._joinInfo)throw new uP(hO.INVALID_OPERATION,`Can't subscribe stream, not joined`);if(this.connectionState!==`CONNECTED`&&this.connectionState!==`RECONNECTING`)throw new uP(hO.INVALID_OPERATION,`Can't subscribe stream in ${this.connectionState} state`);let t$1=Date.now(),i$1=new Map,n$1=await this._subscribeMutex.lock();iP.info(`[${this._clientId}]start massSubscribe user ${e$1.map((e$2=>{let{user:t$2,mediaType:i$2}=e$2;return`user: ${t$2?.uid}, mediaType: ${i$2}`})).join(`; `)}`);let r$1=(e$1=[...e$1]).map((e$2=>{let{user:t$2,mediaType:i$2}=e$2;return{user:t$2,mediaType:i$2}})),o$1=await this._p2pChannel.globalLock();try{var s$1;for(let t$2=e$1.length-1;t$2>=0;t$2--){let{user:o$2,mediaType:s$2}=e$1[t$2];if(EO(s$2,`mediaType`,[`audio`,`video`]),!o$2){let e$2=new uP(hO.INVALID_PARAMS,`user property does not exist in subscribeList item`);throw iP.error(`[${this._clientId}] user property does not exist in subscribeList item`),e$2}if(!this._users.find((e$2=>e$2===o$2))){let i$2=new uP(hO.INVALID_REMOTE_USER,`user is not in the channel`);iP.error(`[${this._clientId}] can not massSubscribe ${o$2.uid}, this user is not in the channel`),r$1[t$2].error=i$2,e$1.splice(t$2,1);continue}if(s$2===`audio`&&(!o$2.hasAudio||o$2._audioSSRC===void 0)||s$2===`video`&&(!o$2.hasVideo||o$2._videoSSRC===void 0)){let i$2=new uP(hO.REMOTE_USER_IS_NOT_PUBLISHED);iP.error(`[${this._clientId}] can not subscribe ${o$2.uid} with mediaType ${s$2}, remote user is not published`),r$1[t$2].error=i$2,e$1.splice(t$2,1);continue}let c$1=cx.Video|cx.LwoVideo,d$1=i$1.get(o$2);if(d$1){if(s$2===`video`?d$1&c$1:d$1&cx.Audio){e$1.splice(t$2,1),iP.warning(`[${this._clientId}] repeat massSubscribe user:${o$2.uid}, mediaType:${s$2} twice`);continue}i$1.set(o$2,d$1|(s$2===`video`?c$1:cx.Audio))}else i$1.set(o$2,s$2===`video`?c$1:cx.Audio)}for(let t$2=e$1.length-1;t$2>=0;t$2--){let{user:r$2,mediaType:o$2}=e$1[t$2],s$2=cx.Video|cx.LwoVideo;if(this._p2pChannel.hasRemoteMedia(r$2,o$2)){await this._p2pChannel.unmuteRemoteNoLock(r$2,o$2);let n$2=i$1.get(r$2);i$1.set(r$2,o$2===`video`?n$2^s$2:n$2^cx.Audio),e$1.splice(t$2,1)}}this.store.massSubscribe(e$1.map((e$2=>({userId:e$2.user.uid,type:e$2.mediaType}))),t$1);let a$1=nr(s$1=Array.from(i$1.entries())).call(s$1,((e$2,t$2)=>{let[i$2,n$2]=t$2;if(n$2===0)return e$2;let r$2={stream_id:i$2.uid,stream_type:n$2};return n$2&cx.Audio&&(r$2.audio_ssrc=i$2._audioSSRC),n$2&cx.Video&&(r$2.video_ssrc=i$2._videoSSRC),e$2.push(r$2),e$2}),[]);try{e$1.length>0&&await this._p2pChannel.massSubscribeNoLock(e$1.map((e$2=>{let{user:t$2,mediaType:i$3}=e$2;return{user:t$2,mediaType:i$3,ssrcId:i$3===fx.VIDEO?t$2._videoSSRC:t$2._audioSSRC,rtxSsrcId:i$3===fx.VIDEO?t$2._rtxSsrcId:void 0}})));let i$2=new Map;if(a$1=a$1.filter((e$2=>e$2.video_ssrc&&!this._p2pChannel.isPreSubScribe(e$2.video_ssrc)||e$2.audio_ssrc&&!this._p2pChannel.isPreSubScribe(e$2.audio_ssrc)||!e$2.video_ssrc&&!e$2.audio_ssrc)),a$1.length>0&&((await this._gateway.subscribeAll(a$1,!0))?.users||[]).forEach((e$3=>{let{stream_id:t$2,video_error_code:n$2,audio_error_code:r$2,error_code:o$2}=e$3;(n$2||r$2||o$2)&&i$2.set(t$2,{video_error_code:n$2,audio_error_code:r$2,error_code:o$2})})),Array.from(i$2.entries()).length>0){let e$2=[];Array.from(i$2.entries()).forEach((t$2=>{let[i$3,n$2]=t$2,r$2=this.remoteUsers.find((e$3=>e$3.uid===i$3));if(r$2){let t$3;n$2.error_code||n$2.video_error_code&&n$2.audio_error_code?t$3=void 0:n$2.video_error_code?t$3=fx.VIDEO:n$2.audio_error_code&&(t$3=fx.AUDIO),e$2.push({user:r$2,mediaType:t$3})}})),e$2.length>0&&await this._p2pChannel.massUnsubscribeNoLock(e$2)}for(let e$2 of r$1){let t$2=i$2.get(e$2.user.uid);if(t$2){let i$3=t$2.error_code||e$2.mediaType===`audio`&&t$2.audio_error_code||e$2.mediaType===`video`&&t$2.video_error_code;if(i$3){let t$3=Bx(i$3);iP.error(`user:${e$2.user.uid} mediaType:${e$2.mediaType} has massSubscribe error ${t$3.desc}`),e$2.error=new uP(hO.SUBSCRIBE_FAILED,`code ${i$3}: ${t$3.desc}`)}}e$2.error||(e$2.mediaType===`video`?e$2.track=e$2.user.videoTrack:e$2.track=e$2.user.audioTrack)}return this.store.massSubscribe(r$1.filter((e$2=>!e$2.error)).map((e$2=>({userId:e$2.user.uid,type:e$2.mediaType}))),void 0,Date.now()),r$1.forEach((e$2=>{var i$3;lP.subscribe(this.store.sessionId,{succ:!!e$2.error,ec:e$2.error?.code||null,video:e$2.mediaType===fx.VIDEO,audio:e$2.mediaType===fx.AUDIO,peerid:e$2.user.uid,subscribeRequestid:e$2.mediaType===fx.VIDEO?e$2.user._videoSSRC:e$2.user._audioSSRC,p2pid:this.store.p2pId,eventElapse:Math.floor(performance.now()-t$1),preSsrc:this._p2pChannel.isPreSubScribe(e$2.user._videoSSRC)},!0)})),iP.info(`[${this._clientId}] massSubscribe success ${e$1.map((e$2=>{let{user:t$2,mediaType:i$3}=e$2;return`user: ${t$2?.uid}, mediaType: ${i$3}`})).join(`; `)}`),r$1}catch(t$2){throw await this._p2pChannel.massUnsubscribeNoLock(e$1),t$2}}finally{o$1(),n$1()}}async unsubscribe(e$1,t$1,i$1){if(!(e$1 instanceof aj)){let t$2=this.remoteUsers.find((t$3=>t$3.uid===e$1));if(!t$2)throw new uP(hO.INVALID_REMOTE_USER,`user is not in the channel`);e$1=t$2}if(t$1||this.store.useP2P){if(t$1===`datachannel`)return this._unsubscribeDataChannel(e$1,i$1)}else await this._unsubscribeDataChannel(e$1,i$1);if(t$1&&EO(t$1,`mediaType`,[`audio`,`video`]),!this._joinInfo)throw new uP(hO.INVALID_OPERATION,`Can't unsubscribe stream, haven't joined yet!`);if(!this._users.find((t$2=>t$2===e$1))){let t$2=new uP(hO.INVALID_REMOTE_USER,`user is not in the channel`);throw iP.error(`[${this._clientId}] can not unsubscribe ${e$1.uid}, user is not in the channel`),t$2}iP.info(`[${this._clientId}] unsubscribe uid: ${e$1.uid}, mediaType: ${t$1}`);let r$1=await this._subscribeMutex.lock();try{if(this.store.useP2P)await this._p2pChannel.unsubscribe(e$1,t$1);else{let i$2=await this._p2pChannel.unsubscribe(e$1,t$1);i$2&&await this._gateway.unsubscribe(i$2,e$1.uid),t$1&&t$1!==`audio`||(e$1._audio_pre_subscribed=!1),t$1&&t$1!==`video`||(e$1._video_pre_subscribed=!1),e$1._is_pre_created&&nN(this._users,e$1),iP.info(`[${this._clientId}] unsubscribe success uid: ${e$1.uid}, mediaType: ${t$1}`)}}catch(t$2){if(t$2.code===hO.DISCONNECT_P2P)return void iP.warning(`disconnecting p2p, abort unsubscribe request.`);throw iP.error(`[${this._clientId}] unsubscribe user ${e$1.uid} error`,t$2.toString()),t$2}finally{r$1()}}async _unsubscribeDataChannel(e$1,t$1){if(t$1&&mO(t$1,`id`,0,65535,!0),!this._joinInfo)throw new uP(hO.INVALID_OPERATION,`Can't unsubscribe datachannel, haven't joined yet!`);if(!this._users.find((t$2=>t$2===e$1))){let t$2=new uP(hO.INVALID_REMOTE_USER,`user is not in the channel`);throw iP.error(`[${this._clientId}] can not unsubscribe ${e$1.uid}, user is not in the channel`),t$2}let n$1;if(typeof t$1==`number`){let i$1=e$1._dataChannels.find((e$2=>e$2.id===t$1));i$1&&(n$1=[i$1])}else n$1=e$1._dataChannels;if(n$1===void 0){let i$1=new uP(hO.REMOTE_USER_IS_NOT_PUBLISHED);throw iP.error(`[${this._clientId}] can not unsubscribe ${e$1.uid} with channelId ${t$1}, remote datachannel is not published`),i$1}iP.info(`[${this._clientId}] unsubscribe uid: ${e$1.uid}, mediaType: datachannel, ids: ${n$1.map((e$2=>e$2.id))}`);try{let t$2=await this._p2pChannel.unsubscribeDataChannel(e$1,n$1);t$2&&await this._gateway.unsubscribeDataChannel(t$2,e$1.uid),iP.info(`[${this._clientId}] unsubscribe datachannel success uid: ${e$1.uid}, mediaType: datachannel, ids: ${t$2}`)}catch(t$2){if(t$2.code===hO.DISCONNECT_P2P)return void iP.warning(`disconnecting p2p, abort unsubscribe request.`);throw iP.error(`[${this._clientId}] unsubscribe user ${e$1.uid} error`,t$2.toString()),t$2}}async massUnsubscribe(e$1){if(gO(e$1,`unsubscribeList`),!this._joinInfo)throw new uP(hO.INVALID_OPERATION,`Can't unsubscribeAll stream, haven't joined yet!`);iP.info(`[${this._clientId}] start massUnsubscribe ${e$1.map((e$2=>{let{user:t$2,mediaType:i$1}=e$2;return`user: ${t$2?.uid}, mediaType: ${i$1};`})).join()}`),e$1=[...e$1];let t$1=new Map;for(let i$1=e$1.length-1;i$1>=0;i$1--){let{user:n$1,mediaType:r$1}=e$1[i$1];if(!n$1){let e$2=new uP(hO.INVALID_PARAMS,`user property does not exist in unsubscribeList item`);throw iP.error(`[${this._clientId}] user property does not exist in unsubscribeList item`),e$2}if(EO(r$1,`mediaType`,[`video`,`audio`,void 0]),!this._users.find((e$2=>e$2===n$1))){iP.warning(`[${this._clientId}] can not unsubscribe ${n$1.uid}, user is not in the channel`),e$1.splice(i$1,1);continue}let s$1=cx.Video|cx.LwoVideo;if(t$1.has(n$1)){let o$1=t$1.get(n$1),a$1;switch(r$1){case`video`:a$1=o$1&s$1;break;case`audio`:a$1=o$1&cx.Audio;break;default:a$1=o$1&(cx.Audio|s$1)}if(a$1){iP.warning(`[${this._clientId}] repeat massUnsubscribe user:${n$1.uid},mediaType:${r$1} twice.`),e$1.splice(i$1,1);continue}r$1?r$1===`audio`?t$1.set(n$1,o$1|cx.Audio):r$1===`video`&&t$1.set(n$1,o$1|s$1):t$1.set(n$1,o$1|cx.Audio|s$1)}else r$1?r$1===`audio`?t$1.set(n$1,cx.Audio):r$1===`video`&&t$1.set(n$1,s$1):t$1.set(n$1,cx.Audio|s$1)}try{let t$2=await this._p2pChannel.massUnsubscribe(e$1);t$2&&await this._gateway.massUnsubscribe(t$2),iP.info(`[${this._clientId}] massUnsubscribe success ${e$1.map((e$2=>{let{user:t$3,mediaType:i$1}=e$2;return`user: ${t$3?.uid}, mediaType: ${i$1};`})).join()}`)}catch(e$2){if(e$2.code===hO.DISCONNECT_P2P)return void iP.warning(`[${this._clientId}] disconnecting p2p, abort unsubscribe request.`);throw iP.error(`[${this._clientId}] massUnsubscribe error`,e$2.toString()),e$2}}async setLowStreamParameter(e$1){(function(e$2){if(!e$2)throw new pO(hO.INVALID_PARAMS);TO(e$2.width)||fO(e$2.width,`streamParameter.width`),TO(e$2.height)||fO(e$2.height,`streamParameter.height`),TO(e$2.framerate)||fO(e$2.framerate,`streamParameter.framerate`),TO(e$2.bitrate)||mO(e$2.bitrate,`streamParameter.bitrate`)})(e$1),(!e$1.width&&e$1.height||e$1.width&&!e$1.height)&&iP.warning(`[${this._clientId}] The width and height parameters take effect only when both are set`),iP.info(`[${this._clientId}] set low stream parameter to`,JSON.stringify(e$1));let t$1=this._configDistribute.getLowStreamConfigDistribute();if(t$1&&t$1.bitrate&&e$1.bitrate&&t$1.bitrate<e$1.bitrate&&(e$1.bitrate=t$1.bitrate),this._lowStreamParameter=e$1,this._isDualStreamEnabled)return this._p2pChannel.updateVideoStreamParameter(e$1,Rx.LocalVideoLowTrack)}async setDualStreamMode(e$1,t$1){EO(e$1,`mode`,[0,1,-1]);try{switch(t$1&&await this.setLowStreamParameter(t$1),this._dualStreamMode=e$1,this._joinInfo?this._gateway.setDualStreamMode(e$1).catch((e$2=>{iP.warning(`[${this._clientId}] set dual stream mode failed`,e$2.toString())})):iP.debug(`[${this._clientId}] haven't joined yet, cache dual stream mode ${e$1}`),e$1){case BO.AUTO_SIMULCAST_STREAM:iP.info(`[${this._clientId}] set dual stream mode to ${e$1}`);break;case BO.DISABLE_SIMULCAST_STREM:return this.disableDualStream();case BO.ENABLE_SIMULCAST_STREAM:return this.enableDualStream()}}catch(e$2){throw iP.error(`[${this._clientId}] set dual stream mode error`,e$2.toString()),e$2}}async enableDualStream(){if(!pP().supportDualStream)throw lP.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),new uP(hO.NOT_SUPPORTED,`Your browser is not support dual stream`);if(this._isDualStreamEnabled)throw new uP(hO.INVALID_OPERATION,`Dual stream is already enabled`);if(this._p2pChannel.canPublishLowStream())try{await this._publishLowStream()}catch(e$1){throw lP.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),e$1}this._isDualStreamEnabled=!0,this._dualStreamMode=BO.ENABLE_SIMULCAST_STREAM,this._joinInfo&&this._gateway.setDualStreamMode(this._dualStreamMode,!0,!0).catch((e$1=>{iP.debug(`[${this._clientId}] try to inform gateway to set dual stream mode to ${this._dualStreamMode} ,but failed`,e$1.toString())})),lP.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!0}),iP.info(`[${this._clientId}] enable dual stream`)}async disableDualStream(){if(this._isDualStreamEnabled){if(!this._joinInfo)return this._isDualStreamEnabled=!1,void iP.info(`[${this._clientId}] disable dual stream before join`);if(this._p2pChannel.getLocalMedia(Rx.LocalVideoLowTrack))try{let e$1=await this._p2pChannel.unpublishLowStream();e$1&&await this._gateway.unpublish(e$1,this._joinInfo.stringUid||this._joinInfo.uid)}catch(e$1){throw lP.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!1}),e$1}this._isDualStreamEnabled=!1,this._dualStreamMode=BO.DISABLE_SIMULCAST_STREM,this._joinInfo&&this._gateway.setDualStreamMode(this._dualStreamMode,!0,!0).catch((e$1=>{iP.debug(`[${this._clientId}] try to inform gateway to set dual stream mode to ${this._dualStreamMode} ,but failed`,e$1.toString())})),lP.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!0}),iP.info(`[${this._clientId}] disable dual stream`)}}async setClientRole(e$1,t$1){if(function(e$2){EO(e$2,`role`,[`audience`,`host`])}(e$1),t$1&&jO(t$1),this.mode===`rtc`||this.mode===`p2p`)throw iP.warning(`[${this._clientId}]${this.mode} mode can not use setClientRole`),new uP(hO.INVALID_OPERATION,`${this.mode} mode can not use setClientRole`);if(t$1&&t$1.level&&e$1===`host`)throw new uP(hO.INVALID_OPERATION,`host mode can not set audience latency level`);if(e$1===`audience`&&this._p2pChannel.hasLocalMedia())throw new uP(hO.INVALID_OPERATION,`can not set client role to audience when publishing stream`);let i$1=this._config.role;if(this._joinInfo&&(this._joinInfo.role=e$1),e$1!==i$1&&CD(`ENABLE_ROLE_SELECT_EDGE`)?(this._gateway.updateClientRole(e$1,t$1),this._config.role=e$1,this._gateway.reconnect(`recover`,HO.REGIONAL_DISTRIBUTION)):(await this._gateway.setClientRole(e$1,t$1),this._config.role=e$1),iP.info(`[${this._clientId}] set client role to ${e$1}, level: ${t$1&&t$1.level}`),i$1===`audience`&&e$1!==`audience`&&this._pendingRtpCapabilityChange&&this._p2pChannel instanceof EG){let{video_codec:e$2}=this._pendingRtpCapabilityChange;this._p2pChannel.updateRemoteRTPCapabilities(e$2.map((e$3=>e$3.toLowerCase())).filter((e$3=>{var t$2;return Ln(t$2=Object.keys(AD)).call(t$2,e$3)})))}}async _setClientRoleOptions(e$1){if(this.mode===`rtc`||this.mode===`p2p`||this._config.role!==`audience`||this._p2pChannel.hasLocalMedia())return;let t$1=!1;try{e$1&&jO(e$1),await this._gateway.setClientRole(this._config.role,e$1),t$1=!0}catch{}finally{iP.info(`[${this._clientId}] set client role options ${t$1?`succeed`:`failed`}, options is ${e$1}`)}}getRemoteInboundOffset(){var e$1;let t$1=this._p2pChannel.getStats()?.audioSend[0];if(!t$1||!t$1.timestamp)return 0;let i$1=t$1.timestamp-Date.now();return Math.abs(i$1)>1e3+t$1.rttMs+100?this.ntpAlignErrorCount+=1:this.ntpAlignErrorCount=0,this.ntpAlignErrorCount>=3?i$1:0}getNtpWallTimeInMs(){return document.visibilityState===`visible`&&(this.remoteInboundOffset=this.getRemoteInboundOffset()),this.remoteInboundOffset+Date.now()+this._gateway.ntpOffset}setProxyServer(e$1,t$1){if(SO(e$1,`proxyServer`),!t$1){if(this.connectionState!==`DISCONNECTED`)throw new uP(hO.INVALID_OPERATION,`Set proxy server before join channel`);if(this._cloudProxyServerMode!==`disabled`||this._useLocalAccessPoint)throw new uP(hO.INVALID_OPERATION,`You have already set the proxy`)}this._proxyServer=e$1,lP.setProxyServer(this._proxyServer),iP.setProxyServer(this._proxyServer),iP.info(`[${this._clientId}] Set proxy server ${t$1?`by initialize call`:``} success.`)}setTurnServer(e$1,t$1){if(Array.isArray(e$1)||(e$1=[e$1]),!t$1){if(this.connectionState!==`DISCONNECTED`)throw new uP(hO.INVALID_OPERATION,`Set turn server before join channel`);if(this._cloudProxyServerMode!==`disabled`||this._useLocalAccessPoint)throw new uP(hO.INVALID_OPERATION,`You have already set the proxy`)}if(xO(e$1))return this._turnServer={servers:e$1,mode:`original-manual`},void iP.info(`[${this._clientId}] Set original turnserver ${t$1?`by initialize call`:``} success: ${e$1.map((e$2=>e$2.urls)).join(`,`)}.`);e$1.forEach((e$2=>FO(e$2))),this._turnServer={servers:e$1,mode:`manual`},iP.info(`[${this._clientId}] Set turnserver ${t$1?`by initialize call`:``} success.`)}setLicense(e$1){if(this.connectionState!==`DISCONNECTED`)throw new uP(hO.INVALID_OPERATION,`you should set license before join channel`);if(SO(e$1,`license`,32,32),!/^[A-Za-z\d]+$/.test(e$1))throw new uP(hO.INVALID_PARAMS,`license should only contains characters from A-Z a-z 0-9`);this._license=e$1,iP.info(`[${this._clientId}] set license success`,e$1)}startProxyServer(e$1){if(this.connectionState!==`DISCONNECTED`)throw new uP(hO.INVALID_OPERATION,`Start proxy server before join channel`);if(this._proxyServer||this._turnServer.mode===`manual`||this._useLocalAccessPoint)throw new uP(hO.INVALID_OPERATION,`You have already set the proxy`);let t$1=[3,4,5],i$1;switch(e$1===void 0&&(e$1=3),e$1){case 1:case 2:throw new uP(hO.NOT_SUPPORTED,`proxy mode 1/2 has been deprecated and not supported.`);case 3:i$1=`proxy3`;break;case 4:i$1=`proxy4`;break;case 5:i$1=`proxy5`;break;default:throw new uP(hO.INVALID_PARAMS,`proxy server mode must be ${t$1.join(`|`)}`)}this._cloudProxyServerMode=i$1,this.store.cloudProxyServerMode=i$1,iP.info(`[${this._clientId}] set cloud proxy server mode to`,this._cloudProxyServerMode)}stopProxyServer(){if(this.connectionState!==`DISCONNECTED`)throw new uP(hO.INVALID_OPERATION,`Stop proxy server after leave channel`);lP.setProxyServer(),iP.setProxyServer(),this._cloudProxyServerMode=`disabled`,this.store.cloudProxyServerMode=`disabled`,iP.info(`[${this._clientId}] set cloud proxy server mode to`,this._cloudProxyServerMode),this._proxyServer=void 0,this._turnServer={mode:`auto`,servers:[]}}setLocalAccessPointsV2(e$1){if(!e$1.accessPoints)throw new uP(hO.INVALID_PARAMS,`accessPoints is required.`);gO(e$1.accessPoints.serverList,`accessPoints.serverList`),SO(e$1.accessPoints.domain,`accessPoints.domain`);let t$1=(e$2,t$2)=>{mO(e$2,t$2,0,65535,!0)},i$1=443;if(e$1.accessPoints.port&&(t$1(e$1.accessPoints.port,`accessPoints.port`),i$1=e$1.accessPoints.port),this._proxyServer||this._cloudProxyServerMode!==`disabled`)throw new uP(hO.INVALID_OPERATION,`set local access point failed, You have already set the cloud proxy`);CD(`CLOSE_AFB_FOR_LOCAL_AP`)&&(RD(`JOIN_WITH_FALLBACK_SIGNAL_PROXY`,!1),RD(`JOIN_WITH_FALLBACK_MEDIA_PROXY`,!1));let n$1=/^((\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.){3}(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/,r$1=e$1.accessPoints.domain,o$1=e$1.accessPoints.serverList.map((e$2=>n$1.test(e$2)?`${e$2.replace(/\./g,`-`)}.${r$1}`:e$2)),s$1=o$1.map((e$2=>`${e$2}:${i$1}`));this._useLocalAccessPoint=!0,this._setLocalAPVersion=2,RD(`WEBCS_DOMAIN`,s$1),RD(`WEBCS_DOMAIN_BACKUP_LIST`,s$1),RD(`GATEWAY_DOMAINS`,[r$1]),e$1.report&&e$1.report.hostname&&Array.isArray(e$1.report.hostname)&&e$1.report.hostname.length?(gO(e$1.report.hostname,`report.hostname`),RD(`EVENT_REPORT_DOMAIN`,e$1.report.hostname[0]),RD(`EVENT_REPORT_BACKUP_DOMAIN`,e$1.report.hostname[1]||e$1.report.hostname[0])):(RD(`EVENT_REPORT_DOMAIN`,o$1[0]),RD(`EVENT_REPORT_BACKUP_DOMAIN`,o$1[1]||o$1[0]));let a$1=6443;e$1.report&&e$1.report.port&&(t$1(e$1.report.port,`report.port`),a$1=e$1.report.port),RD(`STATS_COLLECTOR_PORT`,a$1),e$1.report?RD(`ENABLE_EVENT_REPORT`,!0):RD(`ENABLE_EVENT_REPORT`,!1);let c$1=``;e$1.log&&e$1.log.hostname&&Array.isArray(e$1.log.hostname)&&e$1.log.hostname.length?(gO(e$1.log.hostname,`log.hostname`),c$1=e$1.log.hostname[0]):c$1=o$1[0];let d$1=6444;e$1.log&&e$1.log.port&&(t$1(e$1.log.port,`log.port`),d$1=e$1.log.port),RD(`LOG_UPLOAD_SERVER`,`${c$1}:${d$1}`);let l$1=[];e$1.cds&&e$1.cds.hostname&&Array.isArray(e$1.cds.hostname)&&e$1.cds.hostname.length?(gO(e$1.cds.hostname,`cds.hostname`),l$1=e$1.cds.hostname):l$1=o$1;let u$1=443;e$1.cds&&e$1.cds.port&&(t$1(e$1.cds.port,`cds.port`),u$1=e$1.cds.port),RD(`CDS_AP`,l$1.map((e$2=>`${e$2}:${u$1}`))),e$1.cds?RD(`ENABLE_CONFIG_DISTRIBUTE`,!0):RD(`ENABLE_CONFIG_DISTRIBUTE`,!1),iP.info(`set local access point v2 success`)}setLocalAccessPoints(e$1,t$1){if(gO(e$1,`serverList`),SO(t$1,`domain`),this._proxyServer||this._cloudProxyServerMode!==`disabled`)throw new uP(hO.INVALID_OPERATION,`set local access point failed, You have already set the cloud proxy`);let i$1=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;e$1=e$1.map((e$2=>i$1.test(e$2)?`${e$2.replace(/\./g,`-`)}.${t$1}`:e$2)),this._useLocalAccessPoint=!0,this._setLocalAPVersion=1,RD(`WEBCS_DOMAIN`,e$1),RD(`WEBCS_DOMAIN_BACKUP_LIST`,e$1),RD(`GATEWAY_DOMAINS`,[t$1]),RD(`EVENT_REPORT_DOMAIN`,e$1[0]),RD(`EVENT_REPORT_BACKUP_DOMAIN`,e$1[1]||e$1[0]),RD(`LOG_UPLOAD_SERVER`,`${e$1[0]}:6444`),iP.info(`[${this._clientId}] set local access point success`)}async setRemoteDefaultVideoStreamType(e$1){if(EO(e$1,`streamType`,[0,1,4,5,6,7,8,9]),this._remoteDefaultVideoStreamType=e$1,this._joinInfo)try{await this._gateway.setDefaultRemoteVideoStreamType(e$1),this._joinInfo.defaultVideoStream=this._remoteDefaultVideoStreamType}catch(e$2){throw iP.error(`[${this._clientId}] set default remote video stream type error`,e$2.toString()),e$2}else iP.debug(`[${this._clientId}] haven't joined yet, cache remoteDefaultVideoStreamType ${e$1}`)}async setRemoteVideoStreamType(e$1,t$1){EO(t$1,`streamType`,[0,1,4,5,6,7,8,9]);try{await this._gateway.setRemoteVideoStreamType(e$1,t$1),setTimeout((()=>{let t$2=this._users.find((t$3=>t$3.uid===e$1));t$2&&t$2.videoTrack&&t$2.videoTrack.updateMediaStreamTrackResolution()}),2e3)}catch(e$2){throw iP.error(`[${this._clientId}] set remote video stream type error`,e$2.toString()),e$2}iP.info(`[${this._clientId}] set remote ${e$1} video stream type to ${t$1}`),this._remoteStreamTypeCacheMap.set(e$1,t$1)}async setStreamFallbackOption(e$1,t$1){EO(t$1,`fallbackType`,[0,1,2,3,4,5,6,7,8]);try{await this._gateway.setStreamFallbackOption(e$1,t$1)}catch(e$2){throw iP.error(`[${this._clientId}] set stream fallback option`,e$2.toString()),e$2}iP.info(`[${this._clientId}] set remote ${e$1} stream fallback type to ${t$1}`),this._streamFallbackTypeCacheMap.set(e$1,t$1)}setEncryptionConfig(e$1,t$1,i$1,n$1){(function(e$2){EO(e$2,`encryptionMode`,[`aes-128-xts`,`aes-256-xts`,`aes-128-ecb`,`sm4-128-ecb`,`aes-128-gcm`,`aes-256-gcm`,`aes-128-gcm2`,`aes-256-gcm2`,`none`])})(e$1),SO(t$1,`secret`);let r$1=[`aes-128-gcm2`,`aes-256-gcm2`];if(Ln(r$1).call(r$1,e$1)){if(!i$1||!(i$1 instanceof Uint8Array&&i$1.length===32))throw new uP(hO.INVALID_PARAMS,`salt must be an Uint8Array and exactly equal to 32 bytes`)}else if(i$1)throw new uP(hO.INVALID_PARAMS,`current encrypt mode does not need salt`);if(n$1){if(_O(n$1,`encryptDataStream`),!Ln(r$1).call(r$1,e$1))throw new uP(hO.INVALID_PARAMS,`current encrypt mode does not support data stream`);this._encryptDataStream=!0}RegExp(`^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*,.<>?/:;'"|{}\\[\\]])(?=.{8,})`).test(t$1)||iP.warning(`The secret is not strong:
      The secret must contain at least 1 lowercase alphabetical character,
      The secret must contain at least 1 uppercase alphabetical character,
      The secret must contain at least 1 numeric character,
      The secret must contain at least one special character,
      The secret must be eight characters or longer.
      `),this._encryptionMode=e$1,this._encryptionSecret=t$1,i$1&&(this._encryptionSalt=uN(i$1))}async renewToken(e$1){if(SO(e$1,`token`,1,2047),!this._key||!this._joinInfo)throw new uP(hO.INVALID_OPERATION,`renewToken should not be called before user join`);let t$1=this._key;this._key=e$1,this._joinInfo&&(this._joinInfo.token=e$1);let i$1=await this._renewTokenMutex.lock();try{if(CD(`USE_NEW_TOKEN`)){iP.debug(`[${this._clientId}] start renew token with ticket from unilbs`);let t$2=await XB(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||kN);iP.debug(`[${this._clientId}] get ticket from unilbs success`),await this._gateway.renewToken({token:e$1,ticket:t$2})}else iP.debug(`[${this._clientId}] start renew token without ticket`),await this._gateway.renewToken({token:e$1});iP.debug(`[${this._clientId}] renewToken success`)}catch(e$2){throw this._key=t$1,this._joinInfo.token=t$1,iP.error(`[${this._clientId}] renewToken failed`,e$2.toString()),e$2}finally{i$1()}}enableAudioVolumeIndicator(){this._audioVolumeIndicationInterval?iP.warning(`you have already enabled audio volume indicator!`):this._audioVolumeIndicationInterval=window.setInterval((()=>{let e$1=this._p2pChannel.getAudioLevels();this.safeEmit(GO.VOLUME_INDICATOR,e$1)}),CD(`AUDIO_VOLUME_INDICATION_INTERVAL`)||2e3)}getRTCStats(){let e$1=this._statsCollector.getRTCStats(),t$1=this._gateway.getInChannelInfo();return e$1.Duration=Math.round(t$1.duration/1e3),e$1}async startLiveStreaming(e$1,t$1){if(!t$1){if(this.codec!==`h264`)throw new uP(hO.LIVE_STREAMING_INVALID_RAW_STREAM,`raw streaming is only support h264`);if(!this._p2pChannel.hasLocalMedia())throw new uP(hO.LIVE_STREAMING_INVALID_RAW_STREAM,`can not find stream to raw streaming`)}if(this._liveRawStreamingClient&&this._liveRawStreamingClient.hasUrl(e$1)||this._liveTranscodeStreamingClient&&this._liveTranscodeStreamingClient.hasUrl(e$1))throw new uP(hO.LIVE_STREAMING_TASK_CONFLICT);let i$1=t$1?YV.TRANSCODE:YV.RAW;return this._createLiveStreamingClient(i$1).startLiveStreamingTask(e$1,i$1)}setLiveTranscoding(e$1){return this._createLiveStreamingClient(YV.TRANSCODE).setTranscodingConfig(e$1)}async stopLiveStreaming(e$1){let t$1=[this._liveRawStreamingClient,this._liveTranscodeStreamingClient].filter((t$2=>t$2&&t$2.hasUrl(e$1)));if(!t$1.length)throw new uP(hO.INVALID_PARAMS,`can not find live streaming url to stop`);await rp.all(t$1.map((t$2=>t$2&&t$2.stopLiveStreamingTask(e$1))))}async startChannelMediaRelay(e$1){sj(e$1),await this._createChannelMediaRelayClient().startChannelMediaRelay(e$1)}async updateChannelMediaRelay(e$1){sj(e$1),await this._createChannelMediaRelayClient().updateChannelMediaRelay(e$1)}async stopChannelMediaRelay(){await this._createChannelMediaRelayClient().stopChannelMediaRelay(),this._statsCollector.onStatsChanged&&(this._statsCollector.onStatsChanged=void 0)}sendAudioMetadata(e$1){this._p2pChannel instanceof EG&&this._p2pChannel.addAudioMetadata(e$1)}async sendStreamMessage(e$1){var t$1;let i$1=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(!this._joinInfo)throw new uP(hO.INVALID_OPERATION,`can not send data stream, not joined`);(typeof e$1==`string`||e$1 instanceof Uint8Array)&&(e$1={payload:e$1}),typeof e$1.payload==`string`&&(e$1.payload=new TextEncoder().encode(e$1.payload));let n$1=!1;if(this._encryptDataStream&&this._encryptDataStreamIv&&this._encryptDataStreamKey&&window.crypto.subtle&&Ln(t$1=[`aes-128-gcm2`,`aes-256-gcm2`]).call(t$1,this._encryptionMode)&&(n$1=!0,e$1.payload=await async function(e$2,t$2,i$2){var n$2;let r$1=nr(n$2=Array.from(i$2)).call(n$2,((e$3,t$3)=>e$3+t$3),0),o$1={serverTs:0,seq:DD++,length:i$2.length,checkSum:r$1},s$1=new Uint8Array(IN(r$1,2)),a$1=new ArrayBuffer(10),c$1=new DataView(a$1);c$1.setUint32(0,o$1.serverTs),c$1.setUint16(4,o$1.seq),c$1.setUint16(6,o$1.length),c$1.setUint16(8,o$1.checkSum);let d$1=16-i$2.length%16;i$2=pN(i$2,new Uint8Array(d$1));let l$1=await window.crypto.subtle.encrypt({name:`AES-GCM`,iv:e$2,tagLength:128,additionalData:s$1},t$2,i$2);return pN(new Uint8Array(a$1),new Uint8Array(l$1))}(this._encryptDataStreamIv,this._encryptDataStreamKey,e$1.payload)),new Blob([e$1.payload]).size>1024)throw new uP(hO.INVALID_PARAMS,n$1?`encrypted stream message out of range.`:`stream message out of range.`);return this._gateway.signal.request(FV.DATA_STREAM,{payload:uN(e$1.payload),syncWithAudio:e$1.syncWithAudio,sendTs:Date.now()-gG},!i$1)}sendMetadata(e$1){if(!this._joinInfo)throw new uP(hO.INVALID_OPERATION,`can not send metadata, not joined`);if(new Blob([e$1]).size>1024)throw new uP(hO.METADATA_OUT_OF_RANGE);return this._gateway.signal.request(FV.SEND_METADATA,{session_id:this._joinInfo.sid,metadata:uN(e$1)})}async sendCustomReportMessage(e$1){if(Array.isArray(e$1)||(e$1=[e$1]),e$1.forEach(rP),!this._joinInfo)throw new uP(hO.INVALID_OPERATION,`can not send custom report, not joined`);await lP.sendCustomReportMessage(this._joinInfo.sid,e$1)}getLocalAudioStats(){return this._statsCollector.getLocalAudioTrackStats()}getRemoteAudioStats(){return this._statsCollector.getRemoteAudioTrackStats()}getLocalVideoStats(){return this._statsCollector.getLocalVideoTrackStats()}getRemoteVideoStats(){return this._statsCollector.getRemoteVideoTrackStats()}getRemoteNetworkQuality(){let e$1=this._statsCollector.getRemoteNetworkQualityStats();if(CD(`DELETE_NEQ_AFTER_USER_LEAVE`)){let t$1=this._users.map((e$2=>e$2.uid+``));Object.keys(e$1).forEach((i$1=>{Ln(t$1).call(t$1,i$1)||delete e$1[i$1]}))}return e$1}getNetworkQuality(){return this._statsCollector.getNetworkQuality()}async pickSVCLayer(e$1,t$1){EO(t$1.spatialLayer,`spatialLayer`,[0,1,2,3]),EO(t$1.temporalLayer,`temporalLayer`,[0,1,2,3]);try{await this._gateway.pickSVCLayer(e$1,t$1)}catch(e$2){throw iP.error(`[${this._clientId}] pick SVC layer failed`,e$2.toString()),e$2}}async setRTMConfig(e$1){let{apRTM:t$1=!1,rtmFlag:i$1}=e$1;if(_O(t$1,`apRTM`),mO(i$1,`rtmFlag`,0),this._rtmConfig.apRTM=t$1,this._rtmConfig.rtmFlag=i$1,iP.debug(`[${this._clientId}] setRTMconfig ${JSON.stringify(e$1)} in ${this.connectionState} state`),(this.connectionState===`CONNECTED`||this.connectionState===`RECONNECTING`)&&this._joinInfo)return this._joinInfo.apRTM=t$1,this._joinInfo.rtmFlag=i$1,this._gateway.setRTM2Flag(i$1)}_reset(){if(iP.debug(`[${this._clientId}] reset client`),function(e$1){let t$1=YU.indexOf(e$1);t$1!==-1&&YU.splice(t$1,1)}(this._clientId),this.store.hasStartJoinChannel=!1,this.store.isABTestSuccess=!1,this.store.autoSubscribe=!1,this._pendingRtpCapabilityChange=void 0,this._axiosCancelSource.cancel(),this._axiosCancelSource=Tw.CancelToken.source(),this._streamFallbackTypeCacheMap=new Map,this._remoteStreamTypeCacheMap=new Map,this._configDistribute.stopGetConfigDistribute(),this._joinInfo&&zG(this._joinInfo),this._rteDetailInterval&&(window.clearInterval(this._rteDetailInterval),this._rteDetailInterval=void 0,this._sessionId&&lP.reportRteDetail(this._sessionId)),this._fallbackServerInfo=void 0,this._joinInfo=void 0,this._proxyServer=void 0,this._defaultStreamFallbackType=void 0,this._sessionId&&lP.removeSid(this._sessionId),this._sessionId=null,this.store.sessionId=null,this.store.resetFirstVideoFrameDecoded(),this._statsCollector.reset(),this._key=void 0,this._appId=void 0,this._uid=void 0,this.store.uid=void 0,this._channelName=void 0,this._encryptionMode=`none`,this._encryptionSecret=null,this._encryptionSalt=null,this._encryptDataStreamKey=null,this._encryptDataStreamIv=null,this._pendingPublishedUsers=[],this._users.forEach((e$1=>{e$1._audioTrack&&e$1._audioTrack._destroy(),e$1._videoTrack&&e$1._videoTrack._destroy(),e$1._dataChannels&&(e$1._dataChannels.forEach((e$2=>e$2._close())),e$1._dataChannels.length=0)})),this._users=[],this._audioVolumeIndicationInterval&&=(window.clearInterval(this._audioVolumeIndicationInterval),void 0),this._cloudProxyServerMode===`fallback`&&(this._cloudProxyServerMode=`disabled`,this.store.cloudProxyServerMode=`disabled`),this._p2pChannel.reset(),this._publishMutex=new PN(`client-publish`,this._clientId),this._subscribeMutex=new PN(`client-subscribe`,this._clientId),this._networkQualityInterval&&=(window.clearInterval(this._networkQualityInterval),void 0),this._liveRawStreamingClient&&=(this._liveRawStreamingClient.terminate(),this._liveRawStreamingClient.removeAllListeners(),void 0),this._liveTranscodeStreamingClient&&=(this._liveTranscodeStreamingClient.terminate(),this._liveTranscodeStreamingClient.removeAllListeners(),void 0),this._channelMediaRelayClient&&=(this._channelMediaRelayClient.dispose(),void 0),this._inspect)try{this._inspect.close(),this._inspect=void 0}catch{}if(this._moderation)try{this.setImageModeration(!1)}catch{}}_startSession(e$1,t$1){var i$1;let n$1=e$1||gN();e$1?iP.debug(`[${this._clientId}] new Session ${n$1}`):iP.debug(`[${this._clientId}] renewSession ${this._sessionId} => ${n$1}`);let r$1=e$1?``:this._sessionId||``;this._sessionId=n$1,this.store.sessionId=n$1,lP.addSid(n$1);let o$1={lts:new Date().getTime(),mode:this.mode,buildFormat:1,stringUid:t$1?.stringUid||this._joinInfo?.stringUid,channelProfile:this.mode===`live`?1:0,channelMode:0,isABTestSuccess:Number(this._configDistribute.isSuccess),lsid:r$1,clientRole:this.role===`audience`?2:1,rteUrl:this.store.rteUrl,rteSid:this.store.rteSid};lP.sessionInit(this._sessionId,vH({cname:t$1.channel,appid:t$1.appId},o$1)),this._joinInfo&&(this._joinInfo.sid=n$1),this._gateway.joinInfo&&(this._gateway.joinInfo.sid=n$1)}async _publishHighStream(e$1){if(!this._joinInfo||this._uid===void 0)throw new uP(hO.INVALID_OPERATION,`Can't publish stream, haven't joined yet!`);if(this.connectionState!==`CONNECTED`&&this.connectionState!==`RECONNECTING`)throw new uP(hO.INVALID_OPERATION,`can not publish stream in ${this.connectionState} state`);if(this._turnServer.mode===`auto`&&CD(`FORCE_TURN`)&&!CD(`TURN_ENABLE_TCP`)&&!CD(`TURN_ENABLE_UDP`))throw new uP(hO.UNEXPECTED_ERROR,`force TURN With No TURN Configuration`);iP.debug(`[${this._clientId}] publish high stream`);try{let i$1=await this._p2pChannel.publish(e$1,this._isDualStreamEnabled,this._lowStreamParameter);if(this.store.useP2P){let e$2=(await i$1.next()).value;if(e$2){try{await this._gateway.sendExtensionMessage(Lx.PUBLISH,e$2,!0)}catch(e$3){throw i$1.throw(e$3),e$3}await i$1.next()}this._p2pChannel.reportPublishEvent(!0,null)}else{let n$1=(await i$1.next()).value;if(n$1){var t$1;let e$2;try{e$2=await this._gateway.publish(this._uid,n$1,!0)}catch(e$3){if(e$3.code!==hO.DISCONNECT_P2P)throw i$1.throw(e$3),e$3}await i$1.next(e$2?.ortc||[])}this._p2pChannel.reportPublishEvent(!0,null);for(let t$2 of e$1)t$2 instanceof kM&&t$2._encoderConfig&&this._gateway.setVideoProfile(t$2._encoderConfig).catch((e$2=>{iP.debug(`[${this._clientId}] stop setVideoProfile, because websocket is closed`)})),!t$2.muted&&t$2.enabled||await this._p2pChannel.muteLocalTrack(t$2)}}catch(t$2){if(this._p2pChannel.reportPublishEvent(!1,t$2?.code,e$1),t$2?.code===hO.WS_ABORT)return;throw t$2}}async _publishLowStream(){if(!this._joinInfo||this._uid===void 0)throw new uP(hO.INVALID_OPERATION,`Can't publish stream, haven't joined yet!`);if(this.connectionState!==`CONNECTED`&&this.connectionState!==`RECONNECTING`)throw new uP(hO.INVALID_OPERATION,`can not publish stream in ${this.connectionState} state`);iP.debug(`[${this._clientId}] publish low stream`);let e$1=this._configDistribute.getLowStreamConfigDistribute();e$1&&e$1.bitrate&&(this._lowStreamParameter||={width:160,height:120,framerate:15,bitrate:50},this._lowStreamParameter&&this._lowStreamParameter.bitrate&&e$1.bitrate<this._lowStreamParameter.bitrate&&(this._lowStreamParameter.bitrate=e$1.bitrate));try{let e$2=await this._p2pChannel.publishLowStream(this._lowStreamParameter),i$1=(await e$2.next()).value;if(i$1){var t$1;let n$1;try{n$1=await this._gateway.publish(this._uid,i$1,!0)}catch(t$2){if(t$2.code!==hO.DISCONNECT_P2P)throw e$2.throw(t$2),t$2}e$2.next(n$1?.ortc||[]),this._p2pChannel.reportPublishEvent(!0,null,void 0,!0)}}catch(e$2){if(this._p2pChannel.reportPublishEvent(!1,e$2?.code,void 0,!0),e$2?.code===hO.WS_ABORT)return;throw e$2}}_createLiveStreamingClient(e$1){let t$1=()=>{if(!this._joinInfo||!this._appId)return new uP(hO.INVALID_OPERATION,`can not create live streaming client, please join channel first`).throw();let e$2=(t$2={joinInfo:this._joinInfo,appId:this._appId,websocketRetryConfig:this._config.websocketRetryConfig,httpRetryConfig:this._config.httpRetryConfig},oB(`LiveStreaming`).create(t$2));var t$2;return e$2.onLiveStreamError=(e$3,t$3)=>{lP.reportApiInvoke(this._sessionId,{name:LO.ON_LIVE_STREAM_ERROR,options:[e$3,t$3],tag:kO.TRACER}).onSuccess(),this.safeEmit(GO.LIVE_STREAMING_ERROR,e$3,t$3)},e$2.onLiveStreamWarning=(e$3,t$3)=>{lP.reportApiInvoke(this._sessionId,{name:LO.ON_LIVE_STREAM_WARNING,options:[e$3,t$3],tag:kO.TRACER}).onSuccess(),this.safeEmit(GO.LIVE_STREAMING_WARNING,e$3,t$3)},e$2.on(ZV.REQUEST_WORKER_MANAGER_LIST,((e$3,t$3,i$1)=>{if(!this._joinInfo)return i$1(new uP(hO.INVALID_OPERATION,`can not find join info to get worker manager`));(async function(e$4,t$4,i$2,n$1){return await bB(CD(`UAP_AP`).slice(0,CD(`AJAX_REQUEST_CONCURRENT`)).map((e$5=>t$4.proxyServer?`https://${t$4.proxyServer}/ap/?url=${e$5+`/api/v1?action=uap`}`:`https://${e$5}/api/v1?action=uap`)),e$4,t$4,i$2,n$1)})(e$3,this._joinInfo,this._axiosCancelSource.token,kN).then(t$3).catch(i$1)})),e$2};return e$1===YV.RAW?(this._liveRawStreamingClient=this._liveRawStreamingClient||t$1(),this._liveRawStreamingClient):(this._liveTranscodeStreamingClient=this._liveTranscodeStreamingClient||t$1(),this._liveTranscodeStreamingClient)}_createChannelMediaRelayClient(){if(!this._joinInfo)return new uP(hO.INVALID_OPERATION,`can not create channel media relay client, please join channel first`).throw();if(!this._channelMediaRelayClient){let{sendResolutionWidth:t$1,sendResolutionHeight:i$1}=this.getLocalVideoStats(),n$1=(e$1={joinInfo:this._joinInfo,clientId:this._clientId,websocketRetryConfig:this._config.websocketRetryConfig,httpRetryConfig:this._config.httpRetryConfig,resolution:{width:t$1,height:i$1}},oB(`ChannelMediaRelay`).create(e$1));n$1.on(`state`,(e$2=>{e$2===nx.RELAY_STATE_FAILURE&&n$1&&n$1.dispose(),this.safeEmit(GO.CHANNEL_MEDIA_RELAY_STATE,e$2)})),n$1.on(`event`,(e$2=>{this.safeEmit(GO.CHANNEL_MEDIA_RELAY_EVENT,e$2)})),this._channelMediaRelayClient=n$1,this._statsCollector.onStatsChanged=(e$2,t$2)=>{var i$2;e$2===`resolution`&&((i$2=this._channelMediaRelayClient)==null||i$2.setVideoProfile(t$2))}}var e$1;return this._channelMediaRelayClient}_handleUpdateDataChannel(e$1,t$1){let{added:i$1,deleted:n$1}=e$1,r$1=[];if(t$1){let e$2=[];this._users.forEach((t$2=>{t$2._dataChannels.forEach((n$2=>{i$1.every((e$3=>e$3.uid!==t$2._uintid||e$3.stream_id!==n$2.id))&&e$2.push({uid:t$2._uintid,stream_id:n$2.id,ordered:n$2.ordered,max_retrans_times:n$2.maxRetransmits,metadata:n$2.metadata})}))})),e$2.length>0&&this._handleUpdateDataChannel({added:[],deleted:e$2})}Array.isArray(i$1)&&i$1.length>0&&i$1.forEach((e$2=>{let{uid:i$2,stream_id:n$2,ordered:o$1,max_retrans_times:s$1,metadata:a$1}=e$2,c$1=this._users.find((e$3=>e$3._uintid===i$2));if(!c$1)return void iP.error(`[${this._clientId}] can not find target user!(on_add_data_channel)`);if(iP.debug(`[${this._clientId}] data_channel added with uid ${i$2}`),Ln(r$1).call(r$1,c$1)||r$1.push(c$1),c$1._uintid||=i$2,c$1._dataChannels.findIndex((t$2=>t$2.id===e$2.stream_id))===-1){let e$3={id:n$2,ordered:!!o$1,maxRetransmits:s$1,metadata:a$1},i$3=function(e$4){return sB(e$4,!0)}(e$3);c$1._dataChannels.push(i$3),iP.info(`[${this._clientId}] remote user ${c$1.uid} published datachannel`),t$1||this.safeEmit(GO.USER_PUBLISHED,c$1,`datachannel`,e$3)}this._p2pChannel.hasPendingRemoteDataChannel(c$1,e$2.stream_id)&&(iP.debug(`[${this._clientId}] resubscribe datachannel for user ${c$1.uid} after reconnect.`),this._subscribeDataChannel(c$1,e$2.stream_id).catch((e$3=>{iP.error(`[${this._clientId}] resubscribe datachannel error`,e$3.toString())})))})),t$1&&(this.safeEmit(GO.PUBLISHED_USER_LIST,this._pendingPublishedUsers),this._pendingPublishedUsers=[]),Array.isArray(n$1)&&n$1.length>0&&n$1.forEach((e$2=>{let{uid:t$2,stream_id:i$2}=e$2,n$2=this._users.find((e$3=>e$3._uintid===t$2));if(!n$2)return void iP.error(`[${this._clientId}] can not find target user!(on_delete_data_channel)`);let r$2=n$2._dataChannels.find((t$3=>t$3.id===e$2.stream_id));r$2&&(iP.debug(`[${this._clientId}] data_stream delete with uid ${t$2}`),this._p2pChannel.unsubscribeDataChannel(n$2,[r$2]).then((e$3=>{if(n$2._dataChannels=n$2._dataChannels.filter((e$4=>e$4!==r$2)),e$3)return this._gateway.unsubscribeDataChannel(e$3,n$2.uid)})),iP.info(`[${this._clientId}] remote user ${t$2} unpublished datachannel ,id:${r$2.id}`),this.safeEmit(GO.USER_UNPUBLISHED,n$2,`datachannel`,r$2._config))}))}_getEncodingName(e$1){var t$1,i$1;if(!this._joinResponse)return;let n$1=this._joinResponse.ortc.rtpCapabilities.sendrecv?.videoCodecs;if(!n$1)return;for(let t$2 of n$1){var r$1;if(t$2.payloadType===e$1)return t$2==null||(r$1=t$2.rtpMap)==null?void 0:r$1.encodingName}let o$1=this._joinResponse.ortc.rtpCapabilities.recv?.videoCodecs;if(o$1)for(let t$2 of o$1){var s$1;if(t$2.payloadType===e$1)return t$2==null||(s$1=t$2.rtpMap)==null?void 0:s$1.encodingName}return e$1===0?`unknown`:void 0}_handleRemoveDataChannels(e$1){let t$1=this._users.find((t$2=>t$2.uid===e$1.uid));t$1?t$1._dataChannels!==void 0&&t$1._dataChannels.length>0&&(iP.debug(`[${this._clientId}] datachannel removed with uid ${e$1.uid}`),this._p2pChannel.unsubscribeDataChannel(t$1,t$1._dataChannels).then((e$2=>{if(e$2)return this._gateway.unsubscribeDataChannel(e$2,t$1.uid)})),iP.info(`[${this._clientId}] remote user ${t$1.uid} unpublished datachannel`),t$1._dataChannels.forEach((e$2=>{this.safeEmit(GO.USER_UNPUBLISHED,t$1,`datachannel`,e$2._config)}))):iP.warning(`[${this._clientId}] can not find target user!(on_remove_datachannel)`)}_handleGatewayEvents(){this._gateway.on(sx.UPDATE_GATEWAY_CONFIG,(()=>{(function(){let e$1;try{e$1=window.localStorage.getItem(`websdk_ng_global_parameter`)}catch(e$2){iP.error(`Error loading sdk config`,e$2.message);return}if(e$1)try{let t$1=JSON.parse(window.atob(e$1)),i$1=Date.now();Object.keys(t$1).forEach((e$2=>{let{value:n$1,type:r$1,expires:o$1}=t$1[e$2];o$1&&o$1<=i$1||r$1||qU()||!Object.prototype.hasOwnProperty.call(mD,e$2)||(yD[e$2]=n$1,TD[e$2]=n$1,iP.debug(`Update gateway parameters from config distribute`,e$2,n$1))}))}catch(e$2){iP.error(`Error update config from local cache`,e$2.message)}})()})),this._gateway.on(sx.DISCONNECT_P2P,(async()=>{await this._p2pChannel.disconnectForReconnect()})),this._gateway.on(sx.CONNECTION_STATE_CHANGE,((e$1,t$1,i$1)=>{var n$1;if(i$1===VO.FALLBACK)return;let r$1=()=>{this.safeEmit(GO.CONNECTION_STATE_CHANGE,e$1,t$1,i$1)};if(lP.reportApiInvoke(this._sessionId||this._gateway.joinInfo?.sid||null,{name:LO.CONNECTION_STATE_CHANGE,options:[e$1,t$1,i$1],tag:kO.TRACER}).onSuccess(JSON.stringify({cur:e$1,prev:t$1,reason:i$1})),iP.info(`[${this._clientId}] signal connection state change: ${t$1} -> ${e$1}`),e$1===`DISCONNECTED`)return this._reset(),void r$1();if(e$1===`RECONNECTING`)this._users.forEach((e$2=>{e$2._trust_in_room_=!1,e$2._trust_audio_enabled_state_=!1,e$2._trust_video_enabled_state_=!1,e$2._trust_audio_mute_state_=!1,e$2._trust_video_mute_state_=!1,e$2._trust_audio_stream_added_state_=!1,e$2._trust_video_stream_added_state_=!1,e$2._is_pre_created||(e$2._audio_pre_subscribed||(e$2._audioSSRC=void 0,e$2._audioOrtc=void 0),e$2._video_pre_subscribed||(e$2._videoSSRC=void 0,e$2._videoOrtc=void 0,e$2._rtxSsrcId=void 0),e$2._cname=void 0)})),this._userOfflineTimeout&&window.clearTimeout(this._userOfflineTimeout),this._streamRemovedTimeout&&window.clearTimeout(this._streamRemovedTimeout),this._userOfflineTimeout=void 0,this._streamRemovedTimeout=void 0;else if(e$1===`CONNECTED`){var o$1;this._streamFallbackTypeCacheMap.forEach(((e$2,t$2)=>{this._gateway.setStreamFallbackOption(t$2,e$2).catch((e$3=>{iP.warning(`[${this._clientId}] auto set stream fallback option failed`,e$3)}))})),this._remoteStreamTypeCacheMap.forEach(((e$2,t$2)=>{this._gateway.setRemoteVideoStreamType(t$2,e$2).catch((e$3=>{iP.warning(`[${this._clientId}] auto set remote stream type failed`,e$3)}))})),CD(`VOS_CONFIGURE`)&&Array.isArray(CD(`VOS_CONFIGURE`))&&CD(`VOS_CONFIGURE`).length>0&&(this._gateway.setConfigure(CD(`VOS_CONFIGURE`)).catch((e$2=>{iP.debug(`[${this._clientId}] auto set vos config failed`,e$2)})),iP.debug(`[${this._clientId}] ws connected auto set vos config`)),this._remoteDefaultVideoStreamType!==void 0&&this._joinInfo?.defaultVideoStream===void 0&&this.setRemoteDefaultVideoStreamType(this._remoteDefaultVideoStreamType).then((()=>{iP.debug(`[${this._clientId}] setRemoteDefaultVideoStreamType after gateway connected`)})).catch((e$2=>{iP.error(`[${this._clientId}] setRemoteDefaultVideoStreamType after gateway failed, ${e$2}`)})),this._dualStreamMode&&this._gateway.setDualStreamMode(this._dualStreamMode).catch((e$2=>{iP.warning(`[${this._clientId}] auto set dual stream mode failed`,e$2)})),this.store.useP2P||(this._p2pChannel.republish(),this._userOfflineTimeout=window.setTimeout((()=>{this.connectionState===`CONNECTED`&&(this._userOfflineTimeout=void 0,this._users.filter((e$2=>!e$2._trust_in_room_)).forEach((e$2=>{iP.debug(`[${this._clientId}] user offline timeout, emit user offline ${e$2.uid}`),this._handleUserOffline({uid:e$2.uid})})))}),3e3),this._streamRemovedTimeout=window.setTimeout((()=>{this.connectionState===`CONNECTED`&&(this._streamRemovedTimeout=void 0,this._users.forEach((e$2=>{e$2._trust_audio_mute_state_||(iP.debug(`[${this._clientId}] auto dispatch audio unmute event ${e$2.uid}`),this._handleMuteStream(e$2.uid,fx.AUDIO,!1)),e$2._trust_video_mute_state_||(iP.debug(`[${this._clientId}] auto dispatch video unmute event ${e$2.uid}`),this._handleMuteStream(e$2.uid,fx.VIDEO,!1)),e$2._trust_audio_enabled_state_||(iP.debug(`[${this._clientId}] auto dispatch enable local audio ${e$2.uid}`),this._handleSetStreamLocalEnable(`audio`,e$2.uid,!0)),e$2._trust_video_enabled_state_||(iP.debug(`[${this._clientId}] auto dispatch enable local video ${e$2.uid}`),this._handleSetStreamLocalEnable(`video`,e$2.uid,!0)),e$2._trust_video_stream_added_state_||(iP.debug(`[${this._clientId}] auto dispatch reset video stream added ${e$2.uid}`),this._handleResetAddStream(e$2,`video`)),e$2._trust_audio_stream_added_state_||(iP.debug(`[${this._clientId}] auto dispatch reset audio stream added ${e$2.uid}`),this._handleResetAddStream(e$2,`audio`)),e$2._video_added_||e$2._audio_added_||(iP.debug(`[${this._clientId}] auto dispatch stream remove ${e$2.uid}`),this._handleRemoveStream({uid:e$2.uid,uint_id:e$2._uintid}))})))}),1e3))}r$1()})),this._gateway.on(sx.REQUEST_NEW_GATEWAY_LIST,(async(e$1,t$1)=>{if(!this._joinInfo)return t$1(new uP(hO.UNEXPECTED_ERROR,`can not recover, no join info`));try{let t$2;if(this._fallbackServerInfo)t$2=this._fallbackServerInfo,this._fallbackServerInfo=void 0,this._joinInfo.preload=!1,lP.reportApiInvoke(this._sessionId,{name:LO.VOS_FALLBACK_CN,options:{cur:t$2.gatewayInfo.gatewayAddrs,prev:this._joinInfo.gatewayAddrs,is_done:!0},tag:kO.TRACER}).onSuccess(),iP.info(`[${this._clientId}] use fallback cn server info`);else{let e$2=await WG(vH(vH({},this._joinInfo),{},{uid:this._joinInfo.uid,stringUid:void 0}));e$2?(t$2=e$2.ap,qG(e$2),this._joinInfo.preload=!0):(t$2=await jB(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||kN,this.store),this._joinInfo.preload=!1)}this._joinInfo&&(this._joinInfo.apResponse=t$2.gatewayInfo.res,this._joinInfo.gatewayAddrs=t$2.gatewayInfo.gatewayAddrs,this._joinInfo.uni_lbs_ip=t$2.gatewayInfo.uni_lbs_ip);let i$1=[];t$2.gatewayInfo.gatewayAddrs.forEach((e$2=>{let{address:t$3}=e$2,[n$1,r$1]=t$3.split(`:`);this._joinInfo&&this._joinInfo.proxyServer?i$1.push({proxy:this._joinInfo.proxyServer,host:n$1,port:r$1}):i$1.push({host:n$1,port:r$1})})),e$1(i$1)}catch(e$2){t$1(e$2)}})),this._gateway.on(sx.NETWORK_QUALITY,(e$1=>{this._networkQualitySensitivity===`normal`&&this.safeEmit(GO.NETWORK_QUALITY,e$1)})),this._gateway.on(sx.STREAM_TYPE_CHANGE,((e$1,t$1)=>{this.safeEmit(GO.STREAM_TYPE_CHANGED,e$1,t$1),lP.reportApiInvoke(this._sessionId,{name:LO.STREAM_TYPE_CHANGE,options:[e$1,t$1],tag:kO.TRACER}).onSuccess(JSON.stringify({uid:e$1,streamType:t$1}))})),this._gateway.isPreSub=()=>`isPreSub`in this._p2pChannel&&this._p2pChannel.isPreSub(),this._gateway.isPreallocation=()=>`isPreallocation`in this._p2pChannel&&this._p2pChannel.isPreallocation(),this._gateway.on(sx.IS_P2P_DISCONNECTED,(e$1=>{this._p2pChannel.isP2PDisconnected()?e$1(!0):this._p2pChannel.hasLocalMedia()||this._p2pChannel.hasRemoteMedia()?e$1(!1):e$1(!0)})),this._gateway.on(sx.REQUEST_P2P_CONNECTION_PARAMS,(async(e$1,t$1,i$1)=>{try{let i$2=await this._p2pChannel.getEstablishParams();i$2&&`isPreallocation`in this._p2pChannel&&this._p2pChannel.isPreallocation()||(i$2=await this._p2pChannel.startP2PConnection(e$1)),t$1(i$2)}catch(e$2){i$1(e$2)}})),this._gateway.on(sx.JOIN_RESPONSE,((e$1,t$1)=>{if(this.store.useP2P)return;let i$1;this._joinResponse=e$1,e$1.attributes?i$1=e$1.attributes.userAttributes.preSubSsrcs:iP.debug(`no attributes in joinResponse`);let n$1=DF(e$1.ortc,t$1,i$1);this._p2pChannel.connect(n$1)})),this._gateway.on(sx.PRE_CONNECT_PC,(async(e$1,t$1,i$1)=>{let{candidates:n$1,fingerprint:r$1,turnServer:o$1}=e$1;if(this._joinInfo&&n$1.length>0&&!this._p2pChannel.isPlanB){let{cert:e$2,cid:a$1}=this._joinInfo.apResponse,c$1=`${a$1}_${e$2}`;if(c$1.length<4||c$1.length>256)return void iP.debug(`[${this._clientId}] ufrag length is not valid, length: ${c$1.length}`);await this._p2pChannel.startP2PConnection({turnServer:o$1,cloudProxyServer:this._joinInfo.cloudProxyServer,isPreallocation:!0});try{var s$1;t$1(await this._p2pChannel.connect({iceParameters:{iceUfrag:`${a$1}_${e$2}`,icePwd:`${a$1}_${e$2}`},dtlsParameters:{fingerprints:[{hashFunction:`sha-256`,fingerprint:CD(`FINGERPRINT`)??r$1}]},candidates:n$1,rtpCapabilities:{send:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},recv:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]}},setup:`active`,cname:`o/i14u9pJrxRKAsu`,preallocation:!0}))}catch(e$3){e$3.code&&e$3.code===hO.EXCHANGE_SDP_FAILED&&await this._p2pChannel.startP2PConnection({turnServer:o$1,cloudProxyServer:this._joinInfo.cloudProxyServer},!0),i$1(e$3)}}})),this._gateway.on(sx.VOS_FALLBACK,(e$1=>{e$1===`fallback_hls`&&this.safeEmit(GO.FALLBACK_TO_HLS,WO.VOSERROR)})),this._gateway.on(sx.RESET_SIGNAL,(()=>{this._p2pChannel instanceof EG&&this._p2pChannel.fallbackConnection(),this._handleGatewaySignalEvents()})),this._gateway.on(sx.DATACHANNEL_FAILBACK,(()=>{lP.reportApiInvoke(this._sessionId,{name:LO.DATACHANNEL_FAILBACK,options:{},tag:kO.TRACER}).onSuccess(),this._joinGateway()}))}_handleGatewaySignalEvents(){this._gateway.signal.on(jV.ON_USER_ONLINE,this._handleUserOnline),this._gateway.signal.on(jV.ON_USER_OFFLINE,this._handleUserOffline),this._gateway.signal.on(jV.ON_ADD_AUDIO_STREAM,(e$1=>this._handleAddAudioOrVideoStream(`audio`,e$1.uid,e$1.ssrcId,e$1.cname,e$1.pt,e$1.uint_id,e$1.ortc))),this._gateway.signal.on(jV.ON_ADD_VIDEO_STREAM,(e$1=>this._handleAddAudioOrVideoStream(`video`,e$1.uid,e$1.ssrcId,e$1.cname,e$1.pt,e$1.uint_id,e$1.ortc,e$1.rtxSsrcId))),this._gateway.signal.on(jV.ON_REMOTE_DATASTREAM_UPDATE,(e$1=>{this._handleUpdateDataChannel(e$1)})),this._gateway.signal.on(jV.ON_REMOTE_FULL_DATASTREAM_INFO,(e$1=>{this._handleUpdateDataChannel({added:e$1.datastreams||[],deleted:[]},!0)})),this._gateway.signal.on(jV.ON_REMOVE_STREAM,this._handleRemoveStream),this._gateway.signal.on(jV.ON_P2P_LOST,this._handleP2PLost),this._gateway.signal.on(jV.MUTE_AUDIO,(e$1=>this._handleMuteStream(e$1.uid,fx.AUDIO,!0))),this._gateway.signal.on(jV.UNMUTE_AUDIO,(e$1=>this._handleMuteStream(e$1.uid,fx.AUDIO,!1))),this._gateway.signal.on(jV.MUTE_VIDEO,(e$1=>this._handleMuteStream(e$1.uid,fx.VIDEO,!0))),this._gateway.signal.on(jV.UNMUTE_VIDEO,(e$1=>this._handleMuteStream(e$1.uid,fx.VIDEO,!1))),this._gateway.signal.on(jV.RECEIVE_METADATA,(e$1=>{let t$1=lN(e$1.metadata);this.safeEmit(GO.RECEIVE_METADATA,e$1.uid,t$1)})),this._gateway.signal.on(jV.ON_DATA_STREAM,(async e$1=>{var t$1;if(!e$1)return;let i$1=lN(e$1.payload);if(this._encryptDataStream&&this._encryptDataStreamIv&&this._encryptDataStreamKey&&window.crypto.subtle&&Ln(t$1=[`aes-128-gcm2`,`aes-256-gcm2`]).call(t$1,this._encryptionMode)){if(e$1.payload.length<10)throw new uP(hO.UNEXPECTED_RESPONSE,`payload length ${e$1.payload.length} is less than header length 10`);i$1=await async function(e$2,t$2,i$2){let n$2=i$2.subarray(0,10),r$1=n$2.slice(8,10),o$1=(r$1[0]<<8)+r$1[1],s$1=(n$2[6]<<8)+n$2[7],a$1=await window.crypto.subtle.decrypt({name:`AES-GCM`,iv:e$2,tagLength:128,additionalData:new Uint8Array(IN(o$1,2))},t$2,i$2.subarray(10));return new Uint8Array(a$1).subarray(0,s$1)}(this._encryptDataStreamIv,this._encryptDataStreamKey,i$1)}let n$1=0;if(e$1.ordered||e$1.syncWithAudio){let t$2=this._p2pChannel.getStats(),i$2=this.remoteUsers.find((t$3=>t$3.uid===e$1.uid));n$1=t$2?.audioRecv.find((e$2=>e$2.ssrc===i$2?._audioSSRC))?.jitterBufferMs}(n$1==null||Number.isNaN(n$1))&&(n$1=0),IG(vH(vH({},e$1),{},{payload:i$1}),n$1,{id:this._clientId,onStreamMessage:typeof this.onStreamMessage==`function`?this.onStreamMessage.bind(this):void 0,safeEmit:this.safeEmit.bind(this)})})),this._gateway.signal.on(jV.ON_CRYPT_ERROR,(()=>{dN((()=>{iP.warning(`[${this._clientId}] on crypt error`),this.safeEmit(GO.CRYPT_ERROR)}),this._sessionId)})),this._gateway.signal.on(jV.ON_TOKEN_PRIVILEGE_WILL_EXPIRE,this._handleTokenWillExpire),this._gateway.signal.on(jV.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(()=>{iP.warning(`[${this._clientId}] received message onTokenPrivilegeDidExpire, please get new token and join again`),this._gateway.leave(!0,VO.TOKEN_EXPIRE),this.safeEmit(GO.ON_TOKEN_PRIVILEGE_DID_EXPIRE),this._reset()})),this._gateway.signal.on(jV.ON_STREAM_FALLBACK_UPDATE,(e$1=>{iP.debug(`[${this._clientId}] stream fallback peerId: ${e$1.stream_id}, attr: ${e$1.stream_type}`),this.safeEmit(GO.STREAM_FALLBACK,e$1.stream_id,e$1.stream_type===1?`fallback`:`recover`)})),this._gateway.signal.on(jV.ENABLE_MULTI_STREAM,(e$1=>{this._dualStreamMode===BO.AUTO_SIMULCAST_STREAM&&this.enableDualStream().catch((e$2=>{iP.debug(`[${this._clientId}] set dual stream mode error`,e$2.toString())}))})),this._gateway.signal.on(jV.ON_PUBLISH_STREAM,(e$1=>{this.uid===this._uid&&(this._p2pChannel.reportPublishEvent(!0,null,void 0,!1,JSON.stringify({proxy:e$1.proxy})),iP.info(`[${this._clientId}] on publish stream, ${JSON.stringify(e$1)}`))})),this._gateway.signal.on(jV.ENABLE_LOCAL_VIDEO,(e$1=>{this._handleSetStreamLocalEnable(`video`,e$1.uid,!0)})),this._gateway.signal.on(jV.DISABLE_LOCAL_VIDEO,(e$1=>{this._handleSetStreamLocalEnable(`video`,e$1.uid,!1)})),this._gateway.signal.on(xV.REQUEST_TIMEOUT,((e$1,t$1)=>{if(this._joinInfo)switch(e$1){case FV.PUBLISH:{if(!t$1)return;let e$2=t$1.ortc;if(e$2){var i$1,n$1;let r$1=e$2.some((e$3=>{let{stream_type:t$2}=e$3;return t$2===ox.Audio})),o$1=e$2.some((e$3=>{let{stream_type:t$2}=e$3;return t$2!==ox.Audio})),s$1=e$2.some((e$3=>{let{stream_type:t$2}=e$3;return t$2===ox.Screen||t$2===ox.ScreenLow}));t$1.state===`offer`&&lP.publish(this._joinInfo.sid,{eventElapse:tj.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:!1,ec:hO.TIMEOUT,audio:r$1,video:o$1,p2pid:t$1.p2p_id,publishRequestid:this.store.pubId,screenshare:s$1,audioName:r$1?(i$1=e$2.find((e$3=>{let{stream_type:t$2}=e$3;return t$2===ox.Audio})))==null||(i$1=i$1.ssrcs[0])==null?void 0:i$1.ssrcId.toString():void 0,videoName:o$1?(n$1=e$2.find((e$3=>{let{stream_type:t$2}=e$3;return t$2!==ox.Audio})))==null||(n$1=n$1.ssrcs[0])==null?void 0:n$1.ssrcId.toString():void 0})}break}case FV.SUBSCRIBE:t$1&&lP.subscribe(this._joinInfo.sid,{succ:!1,ec:hO.TIMEOUT,audio:t$1.stream_type===fx.AUDIO,video:t$1.stream_type===fx.VIDEO,peerid:t$1.stream_id,subscribeRequestid:t$1.ssrcId,p2pid:this.store.p2pId,eventElapse:tj.measureFromSubscribeStart(this.store.clientId,t$1.ssrcId),preSsrc:this._p2pChannel.isPreSubScribe(t$1.ssrcId)})}})),this._gateway.signal.on(jV.ON_P2P_OK,(e$1=>{this.uid,this._uid})),this._gateway.signal.on(jV.ON_PUBLISHED_USER_LIST,(e$1=>{if(e$1==null||!e$1.users)return;CD(`BLOCK_LOCAL_CLIENT`)&&(e$1.users=e$1.users.filter((e$2=>!zU(e$2.string_id||e$2.stream_id,this.channelName))));let t$1=[],i$1=[];for(let n$1 of e$1.users){let e$2=this._users.find((e$3=>e$3._uintid===n$1.stream_id));e$2?e$2._trust_in_room_=!0:(e$2=new aj(n$1.string_id||n$1.stream_id,n$1.stream_id),this._users.push(e$2),this.store.firstVideoFrameDecoded(e$2.uid,{userJoinNotify:Date.now()}),this.getListeners(GO.PUBLISHED_USER_LIST).length===0&&(iP.debug(`[${this._clientId}] user online`,n$1.stream_id),this.safeEmit(GO.USER_JOINED,e$2)));let r$1=cx.Audio&n$1.stream_type,o$1=(cx.Video|cx.LwoVideo)&n$1.stream_type,s$1=(65280&n$1.stream_type)!=0,a$1=r$1&&e$2.hasAudio,c$1=o$1&&e$2.hasVideo;o$1&&(e$2._trust_video_stream_added_state_=!0,e$2._video_added_=!0,e$2._videoSSRC=n$1.video_ssrc,e$2._rtxSsrcId=n$1.video_rtx),r$1&&(e$2._trust_audio_stream_added_state_=!0,e$2._audio_added_=!0,e$2._audioSSRC=n$1.audio_ssrc),r$1&&!a$1&&this.getListeners(GO.PUBLISHED_USER_LIST).length===0&&(iP.info(`[${this._clientId}] remote user ${e$2.uid} published audio`),this.safeEmit(GO.USER_PUBLISHED,e$2,`audio`)),o$1&&!c$1&&this.getListeners(GO.PUBLISHED_USER_LIST).length===0&&(iP.info(`[${this._clientId}] remote user ${e$2.uid} published video`),this.safeEmit(GO.USER_PUBLISHED,e$2,`video`)),(r$1&&!a$1||o$1&&!c$1||s$1)&&t$1.push(e$2),o$1&&this._p2pChannel.hasPendingRemoteMedia(e$2,`video`)&&i$1.push({user:e$2,mediaType:`video`}),r$1&&this._p2pChannel.hasPendingRemoteMedia(e$2,`audio`)&&i$1.push({user:e$2,mediaType:`audio`})}i$1.length>0&&(iP.debug(`[${this._clientId}] RE massSubscribe after reconnect ${i$1.map((e$2=>`user: ${e$2.user.uid}, mediaType: ${e$2.mediaType}`)).join(`; `)} `),this.massSubscribe(i$1).catch((e$2=>{iP.error(`[${this._clientId}] mass resubscribe error`,e$2.toString())}))),this.getListeners(GO.PUBLISHED_USER_LIST).length>0?CD(`ENABLE_DATASTREAM_2`)?this._pendingPublishedUsers=t$1:(iP.info(`[${this._clientId}] client emit user-list event, users: ${t$1.map((e$2=>e$2.uid)).join(`, `)}`),this.safeEmit(GO.PUBLISHED_USER_LIST,t$1)):iP.info(`[${this._clientId}] client not emit user-list event case there is no user-list listener, users: ${t$1.map((e$2=>e$2.uid)).join(`, `)}`)})),this._gateway.signal.on(jV.ON_RTP_CAPABILITY_CHANGE,(e$1=>{let{video_codec:t$1}=e$1;if(this._p2pChannel instanceof EG){if(this.role===`audience`&&CD(`UPDATE_RTP_CAP_IN_HOST`))return this._pendingRtpCapabilityChange=e$1,void iP.debug(`[${this._clientId}] no need to change rtp capability because of audience, params: ${JSON.stringify(e$1)}`);this._p2pChannel.updateRemoteRTPCapabilities(t$1.map((e$2=>e$2.toLowerCase())).filter((e$2=>{var t$2;return Ln(t$2=Object.keys(AD)).call(t$2,e$2)})))}})),this._gateway.signal.on(xV.VOS_FALLBACK_PROMISE,(async(e$1,t$1,i$1)=>{if(e$1===`FALLBACKCN`&&CD(`ENABLE_QUALITY_FALLBACK`)){if(!this._joinInfo)return i$1(new uP(hO.UNEXPECTED_ERROR,`can not recover, no join info`));iP.info(`[${this._clientId}] try fallback to cn, start request new server info`);let r$1=this._joinInfo.apRequestDetail;try{this._joinInfo.apRequestDetail=e$1;let n$2=await jB(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||kN,this.store);if(CD(`QUALITY_FALLBACK_REHEARSAL`))return lP.reportApiInvoke(this._sessionId,{name:LO.VOS_FALLBACK_CN,options:{cur:n$2.gatewayInfo.gatewayAddrs,prev:this._joinInfo.gatewayAddrs,is_done:!1},tag:kO.TRACER}).onSuccess(),this._joinInfo.apRequestDetail=r$1,void i$1();this._fallbackServerInfo=n$2,t$1()}catch(e$2){var n$1;let t$2=e$2==null||(n$1=e$2.data)==null?void 0:n$1.desc;CD(`QUALITY_FALLBACK_REHEARSAL`)?(lP.reportApiInvoke(this._sessionId,{name:LO.VOS_FALLBACK_CN,options:{cur:`failed, errorReason: `+t$2||`unknown`,prev:this._joinInfo.gatewayAddrs,is_done:!1},tag:kO.TRACER}).onSuccess(),this._joinInfo.apRequestDetail=r$1):Array.isArray(t$2)&&Ln(t$2).call(t$2,`request downgrade fallback`)&&this.safeEmit(GO.FALLBACK_TO_HLS,WO.AP_ERROR),i$1(e$2)}}else i$1()}))}_handleP2PEvents(){this._gateway.signal.on(jV.ON_USER_OFFLINE,(()=>{this._p2pChannel.disconnectForReconnect()})),this._gateway.signal.on(Lx.PUBLISH,((e$1,t$1,i$1)=>{let{uid:n$1}=e$1;e$1.forEach((e$2=>{let{kind:r$1,ssrcs:o$1,mid:s$1,isMuted:a$1}=e$2;this._handleP2PAddAudioOrVideoStream(r$1,n$1,o$1[0].ssrcId,s$1);let c$1=this._users.find((e$3=>e$3.uid===n$1));return c$1&&this.store.useP2P?this._p2pChannel.mockSubscribe(c$1,r$1,o$1[0].ssrcId,s$1).then((()=>{t$1()})).catch(i$1):t$1(),this._handleMuteStream(n$1,r$1,!!a$1)}))})),this._gateway.signal.on(Lx.CALL,(async(e$1,t$1,i$1)=>{if(this.store.useP2P)try{var n$1;t$1(await this._p2pChannel.startP2P({turnServer:this._joinInfo?.turnServer},e$1))}catch(e$2){i$1(e$2)}})),this._gateway.signal.on(xV.P2P_CONNECTION,(async e$1=>{this.store.useP2P&&(await this._p2pChannel).p2pConnect(e$1)})),this._gateway.signal.on(Lx.UNPUBLISH,(async(e$1,t$1,i$1)=>{if(this.store.useP2P){let{unpubMsg:n$1,uid:r$1}=e$1,o$1=this._users.find((e$2=>e$2.uid===r$1));if(!o$1)return iP.warning(`[${this._clientId}] can not find remote user, ignore mute event, uid: ${r$1}`),void t$1();try{n$1.forEach((async e$2=>{let{stream_type:t$2}=e$2,i$2=t$2===ox.Audio?fx.AUDIO:fx.VIDEO;await this._p2pChannel.unsubscribe(o$1,i$2),this._handleMuteStream(r$1,i$2,!0)})),t$1()}catch(e$2){i$1(e$2)}}})),this._gateway.signal.on(Lx.CONTROL,(async(e$1,t$1)=>{let{action:i$1}=e$1;switch(i$1){case Mx.MUTE_LOCAL_VIDEO:this._handleMuteStream(t$1,fx.VIDEO,!0);break;case Mx.MUTE_LOCAL_AUDIO:this._handleMuteStream(t$1,fx.AUDIO,!0);break;case Mx.UNMUTE_LOCAL_VIDEO:this._handleP2PAddAudioOrVideoStream(`video`,t$1),this._handleMuteStream(t$1,fx.VIDEO,!1);break;case Mx.UNMUTE_LOCAL_AUDIO:this._handleP2PAddAudioOrVideoStream(`audio`,t$1),this._handleMuteStream(t$1,fx.AUDIO,!1)}})),this._gateway.signal.on(Lx.RESTART_ICE,(async(e$1,t$1,i$1)=>{if(this.store.useP2P)try{let{direction:i$2,iceParameter:n$1}=e$1;i$2!==GV.SEND_ONLY||n$1?t$1(await this._p2pChannel.restartICE(i$2,n$1)):(this._p2pChannel.handleDisconnect(i$2),t$1())}catch(e$2){i$1(e$2)}})),this._gateway.signal.on(Lx.CANDIDATE,(e$1=>{if(this.store.useP2P){let{candidate:t$1,direction:i$1}=e$1;this._p2pChannel.addRemoteCandidate(t$1,i$1)}})),this._p2pChannel.on(vx.RequestP2PRestartICE,(async(e$1,t$1,i$1)=>{try{let{direction:i$2}=e$1;t$1(await this._gateway.sendExtensionMessage(Lx.RESTART_ICE,e$1,i$2===GV.SEND_ONLY))}catch(e$2){i$1(e$2)}})),this._p2pChannel.on(vx.LocalCandidate,(e$1=>{this._gateway.sendExtensionMessage(Lx.CANDIDATE,JSON.stringify(e$1),!0)})),this._p2pChannel.on(vx.RequestP2PMuteLocal,(async(e$1,t$1,i$1)=>{try{await this._gateway.sendExtensionMessage(Lx.CONTROL,e$1,!0),t$1()}catch(e$2){i$1(e$2)}})),this._p2pChannel.on(vx.RequestP2PUnmuteRemote,(async(e$1,t$1,i$1)=>{if(this._joinInfo)try{await this._gateway.unmuteRemote(e$1,this._joinInfo.stringUid||this._joinInfo.uid),t$1()}catch(e$2){e$2.code===hO.DISCONNECT_P2P?t$1():i$1(e$2)}else t$1()})),this._p2pChannel.on(vx.RequestP2PMuteRemote,(async(e$1,t$1,i$1)=>{if(this._joinInfo)try{await this._gateway.muteRemote(e$1,this._joinInfo.stringUid||this._joinInfo.uid),t$1()}catch(e$2){e$2.code===hO.DISCONNECT_P2P?t$1():i$1(e$2)}else t$1()})),this._p2pChannel.on(vx.StateChange,((e$1,t$1)=>{t$1===Cx.Connected&&this._p2pChannel.republish()}))}_handleP2PChannelEvents(){this._p2pChannel.on(vx.PeerConnectionStateChange,(e$1=>{let t$1=this._peerConnectionState;e$1!==t$1&&(this.safeEmit(GO.PEERCONNECTION_STATE_CHANGE,e$1,t$1),this._peerConnectionState=e$1)})),this._p2pChannel.on(vx.RequestMuteLocal,(async(e$1,t$1,i$1)=>{if(this._joinInfo)try{await this._gateway.muteLocal(e$1,this._joinInfo.stringUid||this._joinInfo.uid),t$1()}catch(e$2){e$2.code===hO.DISCONNECT_P2P?t$1():i$1(e$2)}else t$1()})),this._p2pChannel.on(vx.RequestUnmuteLocal,(async(e$1,t$1,i$1)=>{if(this._joinInfo)try{await this._gateway.unmuteLocal(e$1,this._joinInfo.stringUid||this._joinInfo.uid),t$1()}catch(e$2){e$2.code===hO.DISCONNECT_P2P?t$1():i$1(e$2)}else t$1()})),this._p2pChannel.on(vx.RequestRePublish,((e$1,t$1,i$1)=>{this.publish(e$1,!1).then(t$1).catch(i$1)})),this._p2pChannel.on(vx.RequestRePublishDataChannel,((e$1,t$1,i$1)=>{rp.all(e$1.map((async e$2=>{let t$2=await this._p2pChannel.publishDataChannel([e$2]);try{t$2.forEach((e$3=>{this._uid&&this._gateway.publishDataChannel(this._uid,e$3,!0)}))}catch(e$3){if(e$3.code!==hO.DISCONNECT_P2P)throw e$3}}))).then(t$1).catch(i$1)})),this._p2pChannel.on(vx.RequestReSubscribe,(async(e$1,t$1,i$1)=>{try{for(let{user:t$2,kind:i$2}of e$1)i$2===fx.VIDEO?await this.subscribe(t$2,`video`):await this.subscribe(t$2,`audio`);t$1()}catch(e$2){i$1(e$2)}})),this._p2pChannel.on(vx.RequestUpload,((e$1,t$1)=>{this._gateway.upload(e$1,t$1)})),this._p2pChannel.on(vx.RequestUploadStats,(e$1=>{this._gateway.uploadWRTCStats(e$1)})),this._p2pChannel.on(vx.MediaReconnectStart,(e$1=>{this.safeEmit(GO.MEDIA_RECONNECT_START,e$1)})),this._p2pChannel.on(vx.MediaReconnectEnd,(e$1=>{this.safeEmit(GO.MEDIA_RECONNECT_END,e$1)})),this._p2pChannel.on(vx.NeedSignalRTT,(e$1=>{e$1(this._gateway.getSignalRTT())})),this._p2pChannel.on(vx.RequestRestartICE,(async e$1=>{if(this.store.useP2P)return;let t$1=await this._p2pChannel.restartICE(e$1),i$1=await t$1.next();if(i$1.done)return;let n$1=i$1.value,r$1;try{r$1=await this._gateway.restartICE({iceParameters:n$1})}catch(e$2){t$1.throw(e$2);return}let{iceParameters:o$1}=function(e$2){let t$2=e$2.iceParameters;return{iceParameters:{iceUfrag:t$2.iceUfrag,icePwd:t$2.icePwd}}}(r$1);await t$1.next({remoteIceParameters:o$1})})),this._p2pChannel.on(vx.RequestReconnect,(async()=>{this._gateway.reconnect()})),this._p2pChannel.on(vx.RequestReconnectPC,(async()=>{var e$1;let{iceParameters:t$1,dtlsParameters:i$1,rtpCapabilities:n$1}=await this._p2pChannel.startP2PConnection({turnServer:this._joinInfo?.turnServer}),{gatewayEstablishParams:r$1,gatewayAddress:o$1}=await this._gateway.reconnectPC({iceParameters:t$1,dtlsParameters:i$1,rtpCapabilities:n$1}),s$1=DF(r$1,o$1);await this._p2pChannel.connect(s$1),await this._p2pChannel.republish(),await this._p2pChannel.reSubscribe()})),this._p2pChannel.on(vx.RequestUnpublishForReconnectPC,(async(e$1,t$1,i$1)=>{this._joinInfo&&this._uid!==void 0?(await this._gateway.unpublish(e$1,this._uid),t$1()):i$1()})),this._p2pChannel.on(vx.P2PLost,(()=>{this.safeEmit(GO.P2P_LOST,this.store.uid)})),this._p2pChannel.on(vx.UpdateVideoEncoder,(e$1=>{e$1._encoderConfig&&this._gateway.setVideoProfile(e$1._encoderConfig)})),this._p2pChannel.on(vx.ConnectionTypeChange,(e$1=>{this.safeEmit(GO.IS_USING_CLOUD_PROXY,e$1),this._gateway.setUsingProxy(e$1)})),this._p2pChannel.on(vx.FirstVideoBufferReady,((e$1,t$1)=>{this.safeEmit(GO.FIRST_VIDEO_BUFFER_READY,e$1,t$1)})),this._p2pChannel.on(vx.FirstVideoPreRender,((e$1,t$1)=>{this.safeEmit(GO.FIRST_VIDEO_PRE_RENDER,e$1,t$1)})),this._p2pChannel.on(vx.RequestLowStreamParameter,(e$1=>{e$1(this._lowStreamParameter||{width:160,height:120,framerate:15,bitrate:50})})),this._p2pChannel.on(vx.QueryClientConnectionState,(e$1=>{e$1(this.connectionState)})),this._p2pChannel.on(vx.AudioMetadata,(e$1=>{this.safeEmit(GO.AUDIO_METADATA,e$1)})),this._p2pChannel.on(vx.AudioPts,(e$1=>{this.safeEmit(GO.AUDIO_PTS,Number(e$1))}))}getKeyMetrics(){return this.store.keyMetrics}async enableContentInspect(e$1){if(!this._joinInfo||this.connectionState!==`CONNECTED`)throw new uP(hO.INVALID_OPERATION,`[${this._clientId}] can not create content inspect, please join channel first`);if(this._inspect)throw new uP(hO.INVALID_OPERATION,`[${this._clientId}] Inspect content service already in connecting/connected state`);try{let i$1=(t$1={config:e$1},oB(`ContentInspect`).create(t$1));this._inspect=i$1,this.handleVideoInspectEvents(i$1);let{appId:n$1,cname:r$1,sid:o$1,token:s$1,uid:a$1,cid:c$1,vid:d$1}=this._joinInfo;await i$1.init({appId:n$1,areaCode:``,cname:r$1,sid:o$1,token:s$1,uid:a$1,cid:c$1,vid:d$1?Number(d$1):0},kN)}catch(e$2){throw Array.isArray(e$2)?e$2[0]:e$2}var t$1}handleVideoInspectEvents(e$1){e$1.on(Ax.CONNECTION_STATE_CHANGE,((t$1,i$1)=>{if(this.safeEmit(GO.CONTENT_INSPECT_CONNECTION_STATE_CHANGE,t$1,i$1),i$1===yx.CONNECTED){if(this.connectionState!==`CONNECTED`)return void this.safeEmit(GO.CONTENT_INSPECT_ERROR,new uP(hO.OPERATION_ABORTED,`Content inspect was cancelled because it left the channel`));e$1.inspectImage()}})),e$1.on(Ax.INSPECT_RESULT,((e$2,t$1)=>{var i$1;if(t$1?.code===hO.INVALID_OPERATION&&this.connectionState===`DISCONNECTED`)return iP.debug(`Stop inspect content because that has left channel`),this==null||(i$1=this._inspect)==null||i$1.close(),void(this._inspect=void 0);this.safeEmit(GO.CONTENT_INSPECT_RESULT,e$2,t$1)})),e$1.on(Ax.CLIENT_LOCAL_VIDEO_TRACK,(e$2=>{e$2(this.localTracks.filter((e$3=>e$3.trackMediaType===`video`))[0])}))}async disableContentInspect(){if(!this._inspect)throw new uP(hO.INVALID_OPERATION,`[${this._clientId}] inspectVideoContent not started`);try{this._inspect.close(),this._inspect=void 0}catch(e$1){throw Array.isArray(e$1)?e$1[0]:e$1}}async setImageModeration(e$1,t$1){if(_O(e$1,`enabled`),e$1){if(!t$1)throw new uP(hO.INVALID_PARAMS,`config is required`);if(DW(t$1),!this._joinInfo)throw new uP(hO.INVALID_OPERATION,`can not create image moderation, please join channel first`);try{if(this._moderation)this._moderation.updateConfig(t$1);else{let e$2=(i$1={config:t$1},oB(`ImageModeration`).create(i$1));this._moderation=e$2,this.handleImageModerationEvents(e$2);let{appId:n$1,cname:r$1,sid:o$1,token:s$1,uid:a$1,cid:c$1,vid:d$1}=this._joinInfo;await e$2.init({appId:n$1,areaCode:``,cname:r$1,sid:o$1,token:s$1,uid:a$1,cid:c$1,vid:d$1?Number(d$1):0},kN)}}catch(e$2){throw Array.isArray(e$2)?e$2[0]:e$2}}else{var i$1;if(!this._moderation)throw new uP(hO.INVALID_OPERATION,`[${this._clientId}] image moderation not started`);try{this._moderation.close(),this._moderation.removeAllListeners(),this._moderation=void 0}catch(e$2){throw Array.isArray(e$2)?e$2[0]:e$2}}}handleImageModerationEvents(e$1){e$1.on(Dx.CONNECTION_STATE_CHANGE,((t$1,i$1)=>{if(this.safeEmit(GO.IMAGE_MODERATION_CONNECTION_STATE_CHANGE,t$1,i$1),t$1===Nx.CONNECTED){if(this.connectionState!==`CONNECTED`)throw this.setImageModeration(!1),new uP(hO.OPERATION_ABORTED,`Image moderation was cancelled because it left the channel`);e$1.inspectImage()}})),e$1.on(Dx.CLIENT_LOCAL_VIDEO_TRACK,(e$2=>{e$2(this.localTracks.filter((e$3=>e$3.trackMediaType===`video`))[0])}))}setP2PTransport(e$1){if(function(e$2){EO(e$2,`transport`,[`default`,`auto`,`relay`,`sd-rtn`])}(e$1),this.mode!==`p2p`)throw new uP(hO.INVALID_OPERATION,`only p2p mode can set p2pTransport`);this.store.p2pTransport=e$1,iP.info(`[${this._clientId}] set client p2pTransport to ${e$1}`)}getJoinChannelServiceRecords(){return iP.debug(`getJoinChannelServiceRecords`),this.store.joinChannelServiceRecords}async setPublishAudioFilterEnabled(e$1){_O(e$1,`enabled`),RD(`ENABLE_PUBLISH_AUDIO_FILTER`,e$1),this._joinInfo&&await this._gateway.setPublishAudioFilterEnabled(e$1)}_setRteInfo(e$1,t$1){this.store.rteUrl=e$1,this.store.rteSid=t$1}_isPreRender(){return`isPreRender`in this._p2pChannel&&this._p2pChannel.isPreRender()}_handleResetAddStream(e$1,t$1){switch(t$1){case`audio`:e$1._audio_added_=!1,e$1._trust_audio_stream_added_state_=!0;break;case`video`:e$1._video_added_=!1,e$1._trust_video_stream_added_state_=!0}}},DV(RH.prototype,`leave`,[LW],Object.getOwnPropertyDescriptor(RH.prototype,`leave`),RH.prototype),DV(RH.prototype,`publish`,[kW],Object.getOwnPropertyDescriptor(RH.prototype,`publish`),RH.prototype),DV(RH.prototype,`unpublish`,[MW],Object.getOwnPropertyDescriptor(RH.prototype,`unpublish`),RH.prototype),DV(RH.prototype,`subscribe`,[UW],Object.getOwnPropertyDescriptor(RH.prototype,`subscribe`),RH.prototype),DV(RH.prototype,`presubscribe`,[VW],Object.getOwnPropertyDescriptor(RH.prototype,`presubscribe`),RH.prototype),DV(RH.prototype,`massSubscribe`,[xW],Object.getOwnPropertyDescriptor(RH.prototype,`massSubscribe`),RH.prototype),DV(RH.prototype,`unsubscribe`,[FW],Object.getOwnPropertyDescriptor(RH.prototype,`unsubscribe`),RH.prototype),DV(RH.prototype,`massUnsubscribe`,[BW],Object.getOwnPropertyDescriptor(RH.prototype,`massUnsubscribe`),RH.prototype),DV(RH.prototype,`setLowStreamParameter`,[jW],Object.getOwnPropertyDescriptor(RH.prototype,`setLowStreamParameter`),RH.prototype),DV(RH.prototype,`setDualStreamMode`,[GW],Object.getOwnPropertyDescriptor(RH.prototype,`setDualStreamMode`),RH.prototype),DV(RH.prototype,`enableDualStream`,[WW],Object.getOwnPropertyDescriptor(RH.prototype,`enableDualStream`),RH.prototype),DV(RH.prototype,`disableDualStream`,[HW],Object.getOwnPropertyDescriptor(RH.prototype,`disableDualStream`),RH.prototype),DV(RH.prototype,`setClientRole`,[KW],Object.getOwnPropertyDescriptor(RH.prototype,`setClientRole`),RH.prototype),DV(RH.prototype,`_setClientRoleOptions`,[YW],Object.getOwnPropertyDescriptor(RH.prototype,`_setClientRoleOptions`),RH.prototype),DV(RH.prototype,`setProxyServer`,[zW],Object.getOwnPropertyDescriptor(RH.prototype,`setProxyServer`),RH.prototype),DV(RH.prototype,`setTurnServer`,[qW],Object.getOwnPropertyDescriptor(RH.prototype,`setTurnServer`),RH.prototype),DV(RH.prototype,`setLicense`,[XW],Object.getOwnPropertyDescriptor(RH.prototype,`setLicense`),RH.prototype),DV(RH.prototype,`startProxyServer`,[JW],Object.getOwnPropertyDescriptor(RH.prototype,`startProxyServer`),RH.prototype),DV(RH.prototype,`stopProxyServer`,[QW],Object.getOwnPropertyDescriptor(RH.prototype,`stopProxyServer`),RH.prototype),DV(RH.prototype,`setLocalAccessPointsV2`,[ZW],Object.getOwnPropertyDescriptor(RH.prototype,`setLocalAccessPointsV2`),RH.prototype),DV(RH.prototype,`setLocalAccessPoints`,[$W],Object.getOwnPropertyDescriptor(RH.prototype,`setLocalAccessPoints`),RH.prototype),DV(RH.prototype,`setRemoteDefaultVideoStreamType`,[eH],Object.getOwnPropertyDescriptor(RH.prototype,`setRemoteDefaultVideoStreamType`),RH.prototype),DV(RH.prototype,`setRemoteVideoStreamType`,[tH],Object.getOwnPropertyDescriptor(RH.prototype,`setRemoteVideoStreamType`),RH.prototype),DV(RH.prototype,`setStreamFallbackOption`,[iH],Object.getOwnPropertyDescriptor(RH.prototype,`setStreamFallbackOption`),RH.prototype),DV(RH.prototype,`setEncryptionConfig`,[nH],Object.getOwnPropertyDescriptor(RH.prototype,`setEncryptionConfig`),RH.prototype),DV(RH.prototype,`renewToken`,[rH],Object.getOwnPropertyDescriptor(RH.prototype,`renewToken`),RH.prototype),DV(RH.prototype,`enableAudioVolumeIndicator`,[oH],Object.getOwnPropertyDescriptor(RH.prototype,`enableAudioVolumeIndicator`),RH.prototype),DV(RH.prototype,`startLiveStreaming`,[sH],Object.getOwnPropertyDescriptor(RH.prototype,`startLiveStreaming`),RH.prototype),DV(RH.prototype,`setLiveTranscoding`,[aH],Object.getOwnPropertyDescriptor(RH.prototype,`setLiveTranscoding`),RH.prototype),DV(RH.prototype,`stopLiveStreaming`,[cH],Object.getOwnPropertyDescriptor(RH.prototype,`stopLiveStreaming`),RH.prototype),DV(RH.prototype,`startChannelMediaRelay`,[dH],Object.getOwnPropertyDescriptor(RH.prototype,`startChannelMediaRelay`),RH.prototype),DV(RH.prototype,`updateChannelMediaRelay`,[lH],Object.getOwnPropertyDescriptor(RH.prototype,`updateChannelMediaRelay`),RH.prototype),DV(RH.prototype,`stopChannelMediaRelay`,[uH],Object.getOwnPropertyDescriptor(RH.prototype,`stopChannelMediaRelay`),RH.prototype),DV(RH.prototype,`sendCustomReportMessage`,[hH],Object.getOwnPropertyDescriptor(RH.prototype,`sendCustomReportMessage`),RH.prototype),DV(RH.prototype,`pickSVCLayer`,[pH],Object.getOwnPropertyDescriptor(RH.prototype,`pickSVCLayer`),RH.prototype),DV(RH.prototype,`setRTMConfig`,[_H],Object.getOwnPropertyDescriptor(RH.prototype,`setRTMConfig`),RH.prototype),DV(RH.prototype,`enableContentInspect`,[EH],Object.getOwnPropertyDescriptor(RH.prototype,`enableContentInspect`),RH.prototype),DV(RH.prototype,`disableContentInspect`,[mH],Object.getOwnPropertyDescriptor(RH.prototype,`disableContentInspect`),RH.prototype),DV(RH.prototype,`setImageModeration`,[fH],Object.getOwnPropertyDescriptor(RH.prototype,`setImageModeration`),RH.prototype),DV(RH.prototype,`setP2PTransport`,[SH],Object.getOwnPropertyDescriptor(RH.prototype,`setP2PTransport`),RH.prototype),DV(RH.prototype,`getJoinChannelServiceRecords`,[gH],Object.getOwnPropertyDescriptor(RH.prototype,`getJoinChannelServiceRecords`),RH.prototype),DV(RH.prototype,`setPublishAudioFilterEnabled`,[TH],Object.getOwnPropertyDescriptor(RH.prototype,`setPublishAudioFilterEnabled`),RH.prototype),RH);function IH(){var e$1;let t$1=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{codec:`vp8`,audioCodec:`opus`,mode:`rtc`},i$1=SN(5,`client-`),n$1=lP.reportApiInvoke(null,{id:i$1,name:LO.CREATE_CLIENT,options:[t$1],tag:kO.TRACER});try{(function(e$2){EO(e$2.codec,`config.codec`,[`vp8`,`vp9`,`av1`,`h264`,`h265`]),EO(e$2.mode,`config.mode`,[`rtc`,`live`,`p2p`]),e$2.audioCodec!==void 0&&EO(e$2.audioCodec,`config.audioCodec`,[`opus`,`pcmu`,`pcma`,`g722`]),e$2.proxyServer!==void 0&&SO(e$2.proxyServer,`config.proxyServer`,1,1e4),e$2.turnServer!==void 0&&FO(e$2.turnServer),e$2.httpRetryConfig!==void 0&&MO(e$2.httpRetryConfig),e$2.websocketRetryConfig!==void 0&&MO(e$2.websocketRetryConfig)})(t$1)}catch(e$2){throw n$1.onError(e$2),e$2}return(Xw(16,0,!0)||Jw(16,0,!0))&&(t$1.codec===`vp9`&&(t$1.codec=`vp8`,iP.debug(`browser not support vp9, force use vp8`)),RD(`UNSUPPORTED_VIDEO_CODEC`,[`vp9`])),t$1.audioCodec===void 0&&(t$1.audioCodec=`opus`),n$1.onSuccess(),new yH(vH(vH({forceWaitGatewayResponse:!0},t$1),{},{role:Ln(e$1=[`rtc`,`p2p`]).call(e$1,t$1.mode)?`host`:t$1.role||`audience`}),i$1)}function AH(){let e$1=!1,t$1=Dw();return(t$1.name===bw.CHROME&&Number(t$1.version)>=58&&(Ow.engine.name!==`WebKit`||function(){let e$2=Dw();if(Mw()){if(e$2.os===Aw.MAC_OS)return!0;if(e$2.os===Aw.IOS){let e$3=Ow.os.version&&Ow.os.version.split(`.`);if(e$3&&Number(e$3[0])===14&&e$3[1]&&Number(e$3[1])>=3||e$3&&Number(e$3[0])>14)return!0}}return!1}())||t$1.name===bw.FIREFOX&&Number(t$1.version)>=56||t$1.name===bw.OPERA&&Number(t$1.version)>=45||t$1.name===bw.SAFARI&&Number(t$1.version)>=11||t$1.name===`WebKit`&&(jw()||iO())&&t$1.osVersion&&Number(t$1.osVersion.split(`.`)[0])>=11||nO()||Dw().name===bw.QQ)&&(e$1=!0),e$1}class bH{constructor(e$1,t$1){iA(this,`id`,0),iA(this,`element`,void 0),iA(this,`peerPair`,void 0),iA(this,`context`,void 0),iA(this,`audioPlayerElement`,void 0),iA(this,`audioTrack`,void 0),bH.count+=1,this.id=bH.count,this.element=e$1,this.context=t$1}initPeers(){this.peerPair=[new RTCPeerConnection,new RTCPeerConnection],this.peerPair[1].ontrack=e$1=>{let t$1=document.createElement(`audio`);t$1.srcObject=new MediaStream([e$1.track]),t$1.play(),this.audioPlayerElement=t$1}}async switchSdp(){if(!this.peerPair)return;let e$1=async(e$2,t$2)=>{let i$1=t$2===`offer`?await e$2.createOffer():await e$2.createAnswer();return await e$2.setLocalDescription(i$1),e$2.iceGatheringState===`complete`?e$2.localDescription:new rp((t$3=>{e$2.onicegatheringstatechange=()=>{e$2.iceGatheringState===`complete`&&t$3(e$2.localDescription)}}))},t$1=async(e$2,t$2)=>await e$2.setRemoteDescription(t$2);try{let i$1=await e$1(this.peerPair[0],`offer`);await t$1(this.peerPair[1],i$1);let n$1=await e$1(this.peerPair[1],`answer`);await t$1(this.peerPair[0],n$1)}catch(e$2){throw new uP(hO.LOCAL_AEC_ERROR,e$2.toString()).print()}}async getTracksFromMediaElement(e$1){if(this.audioTrack)return this.audioTrack;let t$1;try{e$1 instanceof HTMLVideoElement&&(e$1.captureStream?e$1.captureStream():e$1.mozCaptureStream()),t$1=this.context.createMediaStreamDestination(),this.context.createMediaElementSource(e$1).connect(t$1)}catch(e$2){throw new uP(hO.LOCAL_AEC_ERROR,e$2.toString()).print()}if(!t$1)throw new uP(hO.LOCAL_AEC_ERROR,`no dest node when local aec`).print();let i$1=t$1.stream.getAudioTracks()[0];return this.audioTrack=i$1,i$1}getElement(){return this.element}async startEchoCancellation(){this.context.resume(),this.peerPair&&this.close(),this.initPeers();let e$1=this.element,t$1=await this.getTracksFromMediaElement(e$1);this.peerPair&&this.peerPair[0].addTrack(t$1),await this.switchSdp()}close(){iP.debug(`close echo cancellation unit, id is`,this.id),this.audioPlayerElement&&this.audioPlayerElement.pause(),this.peerPair&&this.peerPair.forEach((e$1=>{e$1.close()})),this.peerPair=void 0,this.audioPlayerElement=void 0}}var wH,OH;iA(bH,`count`,0);let NH=window.AudioContext||window.webkitAudioContext,DH=new(wH=dP({report:lP}),DV((OH=class{constructor(){iA(this,`units`,[]),iA(this,`context`,void 0)}processExternalMediaAEC(e$1){if(!this._doesEnvironmentNeedAEC())return iP.debug(`the system does not need to process local aec`),-1;this.context||=new NH;let t$1=this.units.find((t$2=>t$2&&t$2.getElement()===e$1));return t$1||(t$1=new bH(e$1,this.context),this.units.push(t$1)),t$1.startEchoCancellation(),iP.debug(`start processing local audio echo cancellation, id is`,t$1.id),t$1.id}_doesEnvironmentNeedAEC(){return Dw().name!==bw.SAFARI}}).prototype,`processExternalMediaAEC`,[wH],Object.getOwnPropertyDescriptor(OH.prototype,`processExternalMediaAEC`),OH.prototype),OH);function PH(e$1,t$1){var i$1=Object.keys(e$1);if(Object.getOwnPropertySymbols){var n$1=Object.getOwnPropertySymbols(e$1);t$1&&(n$1=n$1.filter((function(t$2){return Object.getOwnPropertyDescriptor(e$1,t$2).enumerable}))),i$1.push.apply(i$1,n$1)}return i$1}function LH(e$1){for(var t$1=1;t$1<arguments.length;t$1++){var i$1=arguments[t$1]==null?{}:arguments[t$1];t$1%2?PH(Object(i$1),!0).forEach((function(t$2){iA(e$1,t$2,i$1[t$2])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e$1,Object.getOwnPropertyDescriptors(i$1)):PH(Object(i$1)).forEach((function(t$2){Object.defineProperty(e$1,t$2,Object.getOwnPropertyDescriptor(i$1,t$2))}))}return e$1}let kH=window||document;function MH(e$1){let t$1=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!kH)return;let i$1=RJ._cspEventHandlerPointer;if(i$1&&t$1)return void console.error(i$1,t$1);let n$1=e$2=>{if(!(e$2&&e$2.blockedURI&&(RJ.onSecurityPolicyViolation||RJ.getListeners(Ox.SECURITY_POLICY_VIOLATION).length>0)))return;let t$2=e$2.blockedURI;CD(`CSP_DETECTED_HOSTNAME_LIST`).some((e$3=>Ln(t$2).call(t$2,e$3)))&&(RJ.onSecurityPolicyViolation&&typeof RJ.onSecurityPolicyViolation==`function`&&RJ.onSecurityPolicyViolation(e$2),RJ.getListeners(Ox.SECURITY_POLICY_VIOLATION).length>0&&RJ.safeEmit(Ox.SECURITY_POLICY_VIOLATION,e$2))};i$1&&kH.removeEventListener(`securitypolicyviolation`,i$1),(t$1||e$1&&typeof e$1==`function`||RJ.getListeners(Ox.SECURITY_POLICY_VIOLATION).length>0)&&kH.addEventListener(`securitypolicyviolation`,n$1),RJ._cspEventHandlerPointer=n$1}var UH=l,VH=rT,xH=RegExp.prototype,BH=i(function(e$1){return e$1===xH||UH(xH,e$1)?VH(e$1):e$1.flags});function jH(e$1){let t$1=e$1.length;for(;--t$1>=0;)e$1[t$1]=0}let GH=256,WH=286,HH=30,KH=15,YH=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),zH=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),qH=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),XH=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),JH=Array(576);jH(JH);let QH=Array(60);jH(QH);let ZH=Array(512);jH(ZH);let $H=Array(256);jH($H);let eK=Array(29);jH(eK);let tK=Array(30);function iK(e$1,t$1,i$1,n$1,r$1){this.static_tree=e$1,this.extra_bits=t$1,this.extra_base=i$1,this.elems=n$1,this.max_length=r$1,this.has_stree=e$1&&e$1.length}let nK,rK,oK;function sK(e$1,t$1){this.dyn_tree=e$1,this.max_code=0,this.stat_desc=t$1}jH(tK);let aK=e$1=>e$1<256?ZH[e$1]:ZH[256+(e$1>>>7)],cK=(e$1,t$1)=>{e$1.pending_buf[e$1.pending++]=255&t$1,e$1.pending_buf[e$1.pending++]=t$1>>>8&255},dK=(e$1,t$1,i$1)=>{e$1.bi_valid>16-i$1?(e$1.bi_buf|=t$1<<e$1.bi_valid&65535,cK(e$1,e$1.bi_buf),e$1.bi_buf=t$1>>16-e$1.bi_valid,e$1.bi_valid+=i$1-16):(e$1.bi_buf|=t$1<<e$1.bi_valid&65535,e$1.bi_valid+=i$1)},lK=(e$1,t$1,i$1)=>{dK(e$1,i$1[2*t$1],i$1[2*t$1+1])},uK=(e$1,t$1)=>{let i$1=0;do i$1|=1&e$1,e$1>>>=1,i$1<<=1;while(--t$1>0);return i$1>>>1},hK=(e$1,t$1,i$1)=>{let n$1=Array(16),r$1,o$1,s$1=0;for(r$1=1;r$1<=15;r$1++)s$1=s$1+i$1[r$1-1]<<1,n$1[r$1]=s$1;for(o$1=0;o$1<=t$1;o$1++){let t$2=e$1[2*o$1+1];t$2!==0&&(e$1[2*o$1]=uK(n$1[t$2]++,t$2))}},pK=e$1=>{let t$1;for(t$1=0;t$1<286;t$1++)e$1.dyn_ltree[2*t$1]=0;for(t$1=0;t$1<30;t$1++)e$1.dyn_dtree[2*t$1]=0;for(t$1=0;t$1<19;t$1++)e$1.bl_tree[2*t$1]=0;e$1.dyn_ltree[512]=1,e$1.opt_len=e$1.static_len=0,e$1.sym_next=e$1.matches=0},_K=e$1=>{e$1.bi_valid>8?cK(e$1,e$1.bi_buf):e$1.bi_valid>0&&(e$1.pending_buf[e$1.pending++]=e$1.bi_buf),e$1.bi_buf=0,e$1.bi_valid=0},EK=(e$1,t$1,i$1,n$1)=>{let r$1=2*t$1,o$1=2*i$1;return e$1[r$1]<e$1[o$1]||e$1[r$1]===e$1[o$1]&&n$1[t$1]<=n$1[i$1]},mK=(e$1,t$1,i$1)=>{let n$1=e$1.heap[i$1],r$1=i$1<<1;for(;r$1<=e$1.heap_len&&(r$1<e$1.heap_len&&EK(t$1,e$1.heap[r$1+1],e$1.heap[r$1],e$1.depth)&&r$1++,!EK(t$1,n$1,e$1.heap[r$1],e$1.depth));)e$1.heap[i$1]=e$1.heap[r$1],i$1=r$1,r$1<<=1;e$1.heap[i$1]=n$1},fK=(e$1,t$1,i$1)=>{let n$1,r$1,o$1,s$1,a$1=0;if(e$1.sym_next!==0)do n$1=255&e$1.pending_buf[e$1.sym_buf+ a$1++],n$1+=(255&e$1.pending_buf[e$1.sym_buf+ a$1++])<<8,r$1=e$1.pending_buf[e$1.sym_buf+ a$1++],n$1===0?lK(e$1,r$1,t$1):(o$1=$H[r$1],lK(e$1,o$1+256+1,t$1),s$1=YH[o$1],s$1!==0&&(r$1-=eK[o$1],dK(e$1,r$1,s$1)),n$1--,o$1=aK(n$1),lK(e$1,o$1,i$1),s$1=zH[o$1],s$1!==0&&(n$1-=tK[o$1],dK(e$1,n$1,s$1)));while(a$1<e$1.sym_next);lK(e$1,256,t$1)},SK=(e$1,t$1)=>{let i$1=t$1.dyn_tree,n$1=t$1.stat_desc.static_tree,r$1=t$1.stat_desc.has_stree,o$1=t$1.stat_desc.elems,s$1,a$1,c$1,d$1=-1;for(e$1.heap_len=0,e$1.heap_max=573,s$1=0;s$1<o$1;s$1++)i$1[2*s$1]===0?i$1[2*s$1+1]=0:(e$1.heap[++e$1.heap_len]=d$1=s$1,e$1.depth[s$1]=0);for(;e$1.heap_len<2;)c$1=e$1.heap[++e$1.heap_len]=d$1<2?++d$1:0,i$1[2*c$1]=1,e$1.depth[c$1]=0,e$1.opt_len--,r$1&&(e$1.static_len-=n$1[2*c$1+1]);for(t$1.max_code=d$1,s$1=e$1.heap_len>>1;s$1>=1;s$1--)mK(e$1,i$1,s$1);c$1=o$1;do s$1=e$1.heap[1],e$1.heap[1]=e$1.heap[e$1.heap_len--],mK(e$1,i$1,1),a$1=e$1.heap[1],e$1.heap[--e$1.heap_max]=s$1,e$1.heap[--e$1.heap_max]=a$1,i$1[2*c$1]=i$1[2*s$1]+i$1[2*a$1],e$1.depth[c$1]=(e$1.depth[s$1]>=e$1.depth[a$1]?e$1.depth[s$1]:e$1.depth[a$1])+1,i$1[2*s$1+1]=i$1[2*a$1+1]=c$1,e$1.heap[1]=c$1++,mK(e$1,i$1,1);while(e$1.heap_len>=2);e$1.heap[--e$1.heap_max]=e$1.heap[1],((e$2,t$2)=>{let i$2=t$2.dyn_tree,n$2=t$2.max_code,r$2=t$2.stat_desc.static_tree,o$2=t$2.stat_desc.has_stree,s$2=t$2.stat_desc.extra_bits,a$2=t$2.stat_desc.extra_base,c$2=t$2.stat_desc.max_length,d$2,l$1,u$1,h$1,p$1,_$1,E$1=0;for(h$1=0;h$1<=15;h$1++)e$2.bl_count[h$1]=0;for(i$2[2*e$2.heap[e$2.heap_max]+1]=0,d$2=e$2.heap_max+1;d$2<573;d$2++)l$1=e$2.heap[d$2],h$1=i$2[2*i$2[2*l$1+1]+1]+1,h$1>c$2&&(h$1=c$2,E$1++),i$2[2*l$1+1]=h$1,l$1>n$2||(e$2.bl_count[h$1]++,p$1=0,l$1>=a$2&&(p$1=s$2[l$1-a$2]),_$1=i$2[2*l$1],e$2.opt_len+=_$1*(h$1+p$1),o$2&&(e$2.static_len+=_$1*(r$2[2*l$1+1]+p$1)));if(E$1!==0){do{for(h$1=c$2-1;e$2.bl_count[h$1]===0;)h$1--;e$2.bl_count[h$1]--,e$2.bl_count[h$1+1]+=2,e$2.bl_count[c$2]--,E$1-=2}while(E$1>0);for(h$1=c$2;h$1!==0;h$1--)for(l$1=e$2.bl_count[h$1];l$1!==0;)u$1=e$2.heap[--d$2],u$1>n$2||(i$2[2*u$1+1]!==h$1&&(e$2.opt_len+=(h$1-i$2[2*u$1+1])*i$2[2*u$1],i$2[2*u$1+1]=h$1),l$1--)}})(e$1,t$1),hK(i$1,d$1,e$1.bl_count)},gK=(e$1,t$1,i$1)=>{let n$1,r$1,o$1=-1,s$1=t$1[1],a$1=0,c$1=7,d$1=4;for(s$1===0&&(c$1=138,d$1=3),t$1[2*(i$1+1)+1]=65535,n$1=0;n$1<=i$1;n$1++)r$1=s$1,s$1=t$1[2*(n$1+1)+1],++a$1<c$1&&r$1===s$1||(a$1<d$1?e$1.bl_tree[2*r$1]+=a$1:r$1===0?a$1<=10?e$1.bl_tree[34]++:e$1.bl_tree[36]++:(r$1!==o$1&&e$1.bl_tree[2*r$1]++,e$1.bl_tree[32]++),a$1=0,o$1=r$1,s$1===0?(c$1=138,d$1=3):r$1===s$1?(c$1=6,d$1=3):(c$1=7,d$1=4))},TK=(e$1,t$1,i$1)=>{let n$1,r$1,o$1=-1,s$1=t$1[1],a$1=0,c$1=7,d$1=4;for(s$1===0&&(c$1=138,d$1=3),n$1=0;n$1<=i$1;n$1++)if(r$1=s$1,s$1=t$1[2*(n$1+1)+1],!(++a$1<c$1&&r$1===s$1)){if(a$1<d$1)do lK(e$1,r$1,e$1.bl_tree);while(--a$1!=0);else r$1===0?a$1<=10?(lK(e$1,17,e$1.bl_tree),dK(e$1,a$1-3,3)):(lK(e$1,18,e$1.bl_tree),dK(e$1,a$1-11,7)):(r$1!==o$1&&(lK(e$1,r$1,e$1.bl_tree),a$1--),lK(e$1,16,e$1.bl_tree),dK(e$1,a$1-3,2));a$1=0,o$1=r$1,s$1===0?(c$1=138,d$1=3):r$1===s$1?(c$1=6,d$1=3):(c$1=7,d$1=4)}},RK=!1,CK=(e$1,t$1,i$1,n$1)=>{dK(e$1,0+(n$1?1:0),3),_K(e$1),cK(e$1,i$1),cK(e$1,~i$1),i$1&&e$1.pending_buf.set(e$1.window.subarray(t$1,t$1+i$1),e$1.pending),e$1.pending+=i$1};var bK={_tr_init:e$1=>{RK||=((()=>{let e$2,t$1,i$1,n$1,r$1,o$1=Array(16);for(i$1=0,n$1=0;n$1<28;n$1++)for(eK[n$1]=i$1,e$2=0;e$2<1<<YH[n$1];e$2++)$H[i$1++]=n$1;for($H[i$1-1]=n$1,r$1=0,n$1=0;n$1<16;n$1++)for(tK[n$1]=r$1,e$2=0;e$2<1<<zH[n$1];e$2++)ZH[r$1++]=n$1;for(r$1>>=7;n$1<30;n$1++)for(tK[n$1]=r$1<<7,e$2=0;e$2<1<<zH[n$1]-7;e$2++)ZH[256+ r$1++]=n$1;for(t$1=0;t$1<=15;t$1++)o$1[t$1]=0;for(e$2=0;e$2<=143;)JH[2*e$2+1]=8,e$2++,o$1[8]++;for(;e$2<=255;)JH[2*e$2+1]=9,e$2++,o$1[9]++;for(;e$2<=279;)JH[2*e$2+1]=7,e$2++,o$1[7]++;for(;e$2<=287;)JH[2*e$2+1]=8,e$2++,o$1[8]++;for(hK(JH,287,o$1),e$2=0;e$2<30;e$2++)QH[2*e$2+1]=5,QH[2*e$2]=uK(e$2,5);nK=new iK(JH,YH,257,286,15),rK=new iK(QH,zH,0,30,15),oK=new iK([],qH,0,19,7)})(),!0),e$1.l_desc=new sK(e$1.dyn_ltree,nK),e$1.d_desc=new sK(e$1.dyn_dtree,rK),e$1.bl_desc=new sK(e$1.bl_tree,oK),e$1.bi_buf=0,e$1.bi_valid=0,pK(e$1)},_tr_stored_block:CK,_tr_flush_block:(e$1,t$1,i$1,n$1)=>{let r$1,o$1,s$1=0;e$1.level>0?(e$1.strm.data_type===2&&(e$1.strm.data_type=(e$2=>{let t$2,i$2=4093624447;for(t$2=0;t$2<=31;t$2++,i$2>>>=1)if(1&i$2&&e$2.dyn_ltree[2*t$2]!==0)return 0;if(e$2.dyn_ltree[18]!==0||e$2.dyn_ltree[20]!==0||e$2.dyn_ltree[26]!==0)return 1;for(t$2=32;t$2<256;t$2++)if(e$2.dyn_ltree[2*t$2]!==0)return 1;return 0})(e$1)),SK(e$1,e$1.l_desc),SK(e$1,e$1.d_desc),s$1=(e$2=>{let t$2;for(gK(e$2,e$2.dyn_ltree,e$2.l_desc.max_code),gK(e$2,e$2.dyn_dtree,e$2.d_desc.max_code),SK(e$2,e$2.bl_desc),t$2=18;t$2>=3&&e$2.bl_tree[2*XH[t$2]+1]===0;t$2--);return e$2.opt_len+=3*(t$2+1)+5+5+4,t$2})(e$1),r$1=e$1.opt_len+3+7>>>3,o$1=e$1.static_len+3+7>>>3,o$1<=r$1&&(r$1=o$1)):r$1=o$1=i$1+5,i$1+4<=r$1&&t$1!==-1?CK(e$1,t$1,i$1,n$1):e$1.strategy===4||o$1===r$1?(dK(e$1,2+(n$1?1:0),3),fK(e$1,JH,QH)):(dK(e$1,4+(n$1?1:0),3),((e$2,t$2,i$2,n$2)=>{let r$2;for(dK(e$2,t$2-257,5),dK(e$2,i$2-1,5),dK(e$2,n$2-4,4),r$2=0;r$2<n$2;r$2++)dK(e$2,e$2.bl_tree[2*XH[r$2]+1],3);TK(e$2,e$2.dyn_ltree,t$2-1),TK(e$2,e$2.dyn_dtree,i$2-1)})(e$1,e$1.l_desc.max_code+1,e$1.d_desc.max_code+1,s$1+1),fK(e$1,e$1.dyn_ltree,e$1.dyn_dtree)),pK(e$1),n$1&&_K(e$1)},_tr_tally:(e$1,t$1,i$1)=>(e$1.pending_buf[e$1.sym_buf+ e$1.sym_next++]=t$1,e$1.pending_buf[e$1.sym_buf+ e$1.sym_next++]=t$1>>8,e$1.pending_buf[e$1.sym_buf+ e$1.sym_next++]=i$1,t$1===0?e$1.dyn_ltree[2*i$1]++:(e$1.matches++,t$1--,e$1.dyn_ltree[2*($H[i$1]+256+1)]++,e$1.dyn_dtree[2*aK(t$1)]++),e$1.sym_next===e$1.sym_end),_tr_align:e$1=>{dK(e$1,2,3),lK(e$1,256,JH),(e$2=>{e$2.bi_valid===16?(cK(e$2,e$2.bi_buf),e$2.bi_buf=0,e$2.bi_valid=0):e$2.bi_valid>=8&&(e$2.pending_buf[e$2.pending++]=255&e$2.bi_buf,e$2.bi_buf>>=8,e$2.bi_valid-=8)})(e$1)}},wK=(e$1,t$1,i$1,n$1)=>{let r$1=65535&e$1|0,o$1=e$1>>>16&65535|0,s$1=0;for(;i$1!==0;){s$1=i$1>2e3?2e3:i$1,i$1-=s$1;do r$1=r$1+t$1[n$1++]|0,o$1=o$1+r$1|0;while(--s$1);r$1%=65521,o$1%=65521}return r$1|o$1<<16|0};let OK=new Uint32Array((()=>{let e$1,t$1=[];for(var i$1=0;i$1<256;i$1++){e$1=i$1;for(var n$1=0;n$1<8;n$1++)e$1=1&e$1?3988292384^e$1>>>1:e$1>>>1;t$1[i$1]=e$1}return t$1})());var NK=(e$1,t$1,i$1,n$1)=>{let r$1=OK,o$1=n$1+i$1;e$1^=-1;for(let i$2=n$1;i$2<o$1;i$2++)e$1=e$1>>>8^r$1[255&(e$1^t$1[i$2])];return-1^e$1},DK={2:`need dictionary`,1:`stream end`,0:``,"-1":`file error`,"-2":`stream error`,"-3":`data error`,"-4":`insufficient memory`,"-5":`buffer error`,"-6":`incompatible version`},PK={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};let{_tr_init:LK,_tr_stored_block:kK,_tr_flush_block:MK,_tr_tally:UK,_tr_align:VK}=bK,{Z_NO_FLUSH:xK,Z_PARTIAL_FLUSH:FK,Z_FULL_FLUSH:BK,Z_FINISH:jK,Z_BLOCK:GK,Z_OK:WK,Z_STREAM_END:HK,Z_STREAM_ERROR:KK,Z_DATA_ERROR:YK,Z_BUF_ERROR:zK,Z_DEFAULT_COMPRESSION:qK,Z_FILTERED:XK,Z_HUFFMAN_ONLY:JK,Z_RLE:QK,Z_FIXED:ZK,Z_DEFAULT_STRATEGY:$K,Z_UNKNOWN:eY,Z_DEFLATED:tY}=PK,iY=286,nY=30,rY=19,oY=573,sY=15,aY=258,cY=262,dY=42,lY=113,uY=666,hY=(e$1,t$1)=>(e$1.msg=DK[t$1],t$1),pY=e$1=>2*e$1-(e$1>4?9:0),_Y=e$1=>{let t$1=e$1.length;for(;--t$1>=0;)e$1[t$1]=0},EY=e$1=>{let t$1,i$1,n$1,r$1=e$1.w_size;t$1=e$1.hash_size,n$1=t$1;do i$1=e$1.head[--n$1],e$1.head[n$1]=i$1>=r$1?i$1-r$1:0;while(--t$1);t$1=r$1,n$1=t$1;do i$1=e$1.prev[--n$1],e$1.prev[n$1]=i$1>=r$1?i$1-r$1:0;while(--t$1)},mY=(e$1,t$1,i$1)=>(t$1<<e$1.hash_shift^i$1)&e$1.hash_mask,fY=e$1=>{let t$1=e$1.state,i$1=t$1.pending;i$1>e$1.avail_out&&(i$1=e$1.avail_out),i$1!==0&&(e$1.output.set(t$1.pending_buf.subarray(t$1.pending_out,t$1.pending_out+i$1),e$1.next_out),e$1.next_out+=i$1,t$1.pending_out+=i$1,e$1.total_out+=i$1,e$1.avail_out-=i$1,t$1.pending-=i$1,t$1.pending===0&&(t$1.pending_out=0))},SY=(e$1,t$1)=>{MK(e$1,e$1.block_start>=0?e$1.block_start:-1,e$1.strstart-e$1.block_start,t$1),e$1.block_start=e$1.strstart,fY(e$1.strm)},gY=(e$1,t$1)=>{e$1.pending_buf[e$1.pending++]=t$1},TY=(e$1,t$1)=>{e$1.pending_buf[e$1.pending++]=t$1>>>8&255,e$1.pending_buf[e$1.pending++]=255&t$1},RY=(e$1,t$1,i$1,n$1)=>{let r$1=e$1.avail_in;return r$1>n$1&&(r$1=n$1),r$1===0?0:(e$1.avail_in-=r$1,t$1.set(e$1.input.subarray(e$1.next_in,e$1.next_in+r$1),i$1),e$1.state.wrap===1?e$1.adler=wK(e$1.adler,t$1,r$1,i$1):e$1.state.wrap===2&&(e$1.adler=NK(e$1.adler,t$1,r$1,i$1)),e$1.next_in+=r$1,e$1.total_in+=r$1,r$1)},CY=(e$1,t$1)=>{let i$1,n$1,r$1=e$1.max_chain_length,o$1=e$1.strstart,s$1=e$1.prev_length,a$1=e$1.nice_match,c$1=e$1.strstart>e$1.w_size-262?e$1.strstart-(e$1.w_size-262):0,d$1=e$1.window,l$1=e$1.w_mask,u$1=e$1.prev,h$1=e$1.strstart+258,p$1=d$1[o$1+s$1-1],_$1=d$1[o$1+s$1];e$1.prev_length>=e$1.good_match&&(r$1>>=2),a$1>e$1.lookahead&&(a$1=e$1.lookahead);do if(i$1=t$1,d$1[i$1+s$1]===_$1&&d$1[i$1+s$1-1]===p$1&&d$1[i$1]===d$1[o$1]&&d$1[++i$1]===d$1[o$1+1]){o$1+=2,i$1++;do;while(d$1[++o$1]===d$1[++i$1]&&d$1[++o$1]===d$1[++i$1]&&d$1[++o$1]===d$1[++i$1]&&d$1[++o$1]===d$1[++i$1]&&d$1[++o$1]===d$1[++i$1]&&d$1[++o$1]===d$1[++i$1]&&d$1[++o$1]===d$1[++i$1]&&d$1[++o$1]===d$1[++i$1]&&o$1<h$1);if(n$1=258-(h$1-o$1),o$1=h$1-258,n$1>s$1){if(e$1.match_start=t$1,s$1=n$1,n$1>=a$1)break;p$1=d$1[o$1+s$1-1],_$1=d$1[o$1+s$1]}}while((t$1=u$1[t$1&l$1])>c$1&&--r$1!=0);return s$1<=e$1.lookahead?s$1:e$1.lookahead},vY=e$1=>{let t$1=e$1.w_size,i$1,n$1,r$1;do{if(n$1=e$1.window_size-e$1.lookahead-e$1.strstart,e$1.strstart>=t$1+(t$1-262)&&(e$1.window.set(e$1.window.subarray(t$1,t$1+t$1-n$1),0),e$1.match_start-=t$1,e$1.strstart-=t$1,e$1.block_start-=t$1,e$1.insert>e$1.strstart&&(e$1.insert=e$1.strstart),EY(e$1),n$1+=t$1),e$1.strm.avail_in===0)break;if(i$1=RY(e$1.strm,e$1.window,e$1.strstart+e$1.lookahead,n$1),e$1.lookahead+=i$1,e$1.lookahead+e$1.insert>=3)for(r$1=e$1.strstart-e$1.insert,e$1.ins_h=e$1.window[r$1],e$1.ins_h=mY(e$1,e$1.ins_h,e$1.window[r$1+1]);e$1.insert&&(e$1.ins_h=mY(e$1,e$1.ins_h,e$1.window[r$1+3-1]),e$1.prev[r$1&e$1.w_mask]=e$1.head[e$1.ins_h],e$1.head[e$1.ins_h]=r$1,r$1++,e$1.insert--,!(e$1.lookahead+e$1.insert<3)););}while(e$1.lookahead<262&&e$1.strm.avail_in!==0)},yY=(e$1,t$1)=>{let i$1,n$1,r$1,o$1=e$1.pending_buf_size-5>e$1.w_size?e$1.w_size:e$1.pending_buf_size-5,s$1=0,a$1=e$1.strm.avail_in;do{if(i$1=65535,r$1=e$1.bi_valid+42>>3,e$1.strm.avail_out<r$1||(r$1=e$1.strm.avail_out-r$1,n$1=e$1.strstart-e$1.block_start,i$1>n$1+e$1.strm.avail_in&&(i$1=n$1+e$1.strm.avail_in),i$1>r$1&&(i$1=r$1),i$1<o$1&&(i$1===0&&t$1!==jK||t$1===xK||i$1!==n$1+e$1.strm.avail_in)))break;s$1=t$1===jK&&i$1===n$1+e$1.strm.avail_in?1:0,kK(e$1,0,0,s$1),e$1.pending_buf[e$1.pending-4]=i$1,e$1.pending_buf[e$1.pending-3]=i$1>>8,e$1.pending_buf[e$1.pending-2]=~i$1,e$1.pending_buf[e$1.pending-1]=~i$1>>8,fY(e$1.strm),n$1&&(n$1>i$1&&(n$1=i$1),e$1.strm.output.set(e$1.window.subarray(e$1.block_start,e$1.block_start+n$1),e$1.strm.next_out),e$1.strm.next_out+=n$1,e$1.strm.avail_out-=n$1,e$1.strm.total_out+=n$1,e$1.block_start+=n$1,i$1-=n$1),i$1&&(RY(e$1.strm,e$1.strm.output,e$1.strm.next_out,i$1),e$1.strm.next_out+=i$1,e$1.strm.avail_out-=i$1,e$1.strm.total_out+=i$1)}while(s$1===0);return a$1-=e$1.strm.avail_in,a$1&&(a$1>=e$1.w_size?(e$1.matches=2,e$1.window.set(e$1.strm.input.subarray(e$1.strm.next_in-e$1.w_size,e$1.strm.next_in),0),e$1.strstart=e$1.w_size,e$1.insert=e$1.strstart):(e$1.window_size-e$1.strstart<=a$1&&(e$1.strstart-=e$1.w_size,e$1.window.set(e$1.window.subarray(e$1.w_size,e$1.w_size+e$1.strstart),0),e$1.matches<2&&e$1.matches++,e$1.insert>e$1.strstart&&(e$1.insert=e$1.strstart)),e$1.window.set(e$1.strm.input.subarray(e$1.strm.next_in-a$1,e$1.strm.next_in),e$1.strstart),e$1.strstart+=a$1,e$1.insert+=a$1>e$1.w_size-e$1.insert?e$1.w_size-e$1.insert:a$1),e$1.block_start=e$1.strstart),e$1.high_water<e$1.strstart&&(e$1.high_water=e$1.strstart),s$1?4:t$1!==xK&&t$1!==jK&&e$1.strm.avail_in===0&&e$1.strstart===e$1.block_start?2:(r$1=e$1.window_size-e$1.strstart,e$1.strm.avail_in>r$1&&e$1.block_start>=e$1.w_size&&(e$1.block_start-=e$1.w_size,e$1.strstart-=e$1.w_size,e$1.window.set(e$1.window.subarray(e$1.w_size,e$1.w_size+e$1.strstart),0),e$1.matches<2&&e$1.matches++,r$1+=e$1.w_size,e$1.insert>e$1.strstart&&(e$1.insert=e$1.strstart)),r$1>e$1.strm.avail_in&&(r$1=e$1.strm.avail_in),r$1&&(RY(e$1.strm,e$1.window,e$1.strstart,r$1),e$1.strstart+=r$1,e$1.insert+=r$1>e$1.w_size-e$1.insert?e$1.w_size-e$1.insert:r$1),e$1.high_water<e$1.strstart&&(e$1.high_water=e$1.strstart),r$1=e$1.bi_valid+42>>3,r$1=e$1.pending_buf_size-r$1>65535?65535:e$1.pending_buf_size-r$1,o$1=r$1>e$1.w_size?e$1.w_size:r$1,n$1=e$1.strstart-e$1.block_start,(n$1>=o$1||(n$1||t$1===jK)&&t$1!==xK&&e$1.strm.avail_in===0&&n$1<=r$1)&&(i$1=n$1>r$1?r$1:n$1,s$1=t$1===jK&&e$1.strm.avail_in===0&&i$1===n$1?1:0,kK(e$1,e$1.block_start,i$1,s$1),e$1.block_start+=i$1,fY(e$1.strm)),s$1?3:1)},IY=(e$1,t$1)=>{let i$1,n$1;for(;;){if(e$1.lookahead<262){if(vY(e$1),e$1.lookahead<262&&t$1===xK)return 1;if(e$1.lookahead===0)break}if(i$1=0,e$1.lookahead>=3&&(e$1.ins_h=mY(e$1,e$1.ins_h,e$1.window[e$1.strstart+3-1]),i$1=e$1.prev[e$1.strstart&e$1.w_mask]=e$1.head[e$1.ins_h],e$1.head[e$1.ins_h]=e$1.strstart),i$1!==0&&e$1.strstart-i$1<=e$1.w_size-262&&(e$1.match_length=CY(e$1,i$1)),e$1.match_length>=3)if(n$1=UK(e$1,e$1.strstart-e$1.match_start,e$1.match_length-3),e$1.lookahead-=e$1.match_length,e$1.match_length<=e$1.max_lazy_match&&e$1.lookahead>=3){e$1.match_length--;do e$1.strstart++,e$1.ins_h=mY(e$1,e$1.ins_h,e$1.window[e$1.strstart+3-1]),i$1=e$1.prev[e$1.strstart&e$1.w_mask]=e$1.head[e$1.ins_h],e$1.head[e$1.ins_h]=e$1.strstart;while(--e$1.match_length!=0);e$1.strstart++}else e$1.strstart+=e$1.match_length,e$1.match_length=0,e$1.ins_h=e$1.window[e$1.strstart],e$1.ins_h=mY(e$1,e$1.ins_h,e$1.window[e$1.strstart+1]);else n$1=UK(e$1,0,e$1.window[e$1.strstart]),e$1.lookahead--,e$1.strstart++;if(n$1&&(SY(e$1,!1),e$1.strm.avail_out===0))return 1}return e$1.insert=e$1.strstart<2?e$1.strstart:2,t$1===jK?(SY(e$1,!0),e$1.strm.avail_out===0?3:4):e$1.sym_next&&(SY(e$1,!1),e$1.strm.avail_out===0)?1:2},AY=(e$1,t$1)=>{let i$1,n$1,r$1;for(;;){if(e$1.lookahead<262){if(vY(e$1),e$1.lookahead<262&&t$1===xK)return 1;if(e$1.lookahead===0)break}if(i$1=0,e$1.lookahead>=3&&(e$1.ins_h=mY(e$1,e$1.ins_h,e$1.window[e$1.strstart+3-1]),i$1=e$1.prev[e$1.strstart&e$1.w_mask]=e$1.head[e$1.ins_h],e$1.head[e$1.ins_h]=e$1.strstart),e$1.prev_length=e$1.match_length,e$1.prev_match=e$1.match_start,e$1.match_length=2,i$1!==0&&e$1.prev_length<e$1.max_lazy_match&&e$1.strstart-i$1<=e$1.w_size-262&&(e$1.match_length=CY(e$1,i$1),e$1.match_length<=5&&(e$1.strategy===XK||e$1.match_length===3&&e$1.strstart-e$1.match_start>4096)&&(e$1.match_length=2)),e$1.prev_length>=3&&e$1.match_length<=e$1.prev_length){r$1=e$1.strstart+e$1.lookahead-3,n$1=UK(e$1,e$1.strstart-1-e$1.prev_match,e$1.prev_length-3),e$1.lookahead-=e$1.prev_length-1,e$1.prev_length-=2;do++e$1.strstart<=r$1&&(e$1.ins_h=mY(e$1,e$1.ins_h,e$1.window[e$1.strstart+3-1]),i$1=e$1.prev[e$1.strstart&e$1.w_mask]=e$1.head[e$1.ins_h],e$1.head[e$1.ins_h]=e$1.strstart);while(--e$1.prev_length!=0);if(e$1.match_available=0,e$1.match_length=2,e$1.strstart++,n$1&&(SY(e$1,!1),e$1.strm.avail_out===0))return 1}else if(e$1.match_available){if(n$1=UK(e$1,0,e$1.window[e$1.strstart-1]),n$1&&SY(e$1,!1),e$1.strstart++,e$1.lookahead--,e$1.strm.avail_out===0)return 1}else e$1.match_available=1,e$1.strstart++,e$1.lookahead--}return e$1.match_available&&=(n$1=UK(e$1,0,e$1.window[e$1.strstart-1]),0),e$1.insert=e$1.strstart<2?e$1.strstart:2,t$1===jK?(SY(e$1,!0),e$1.strm.avail_out===0?3:4):e$1.sym_next&&(SY(e$1,!1),e$1.strm.avail_out===0)?1:2};function bY(e$1,t$1,i$1,n$1,r$1){this.good_length=e$1,this.max_lazy=t$1,this.nice_length=i$1,this.max_chain=n$1,this.func=r$1}let wY=[new bY(0,0,0,0,yY),new bY(4,4,8,4,IY),new bY(4,5,16,8,IY),new bY(4,6,32,32,IY),new bY(4,4,16,16,AY),new bY(8,16,32,32,AY),new bY(8,16,128,128,AY),new bY(8,32,128,256,AY),new bY(32,128,258,1024,AY),new bY(32,258,258,4096,AY)];function OY(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=tY,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*573),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),_Y(this.dyn_ltree),_Y(this.dyn_dtree),_Y(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),_Y(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),_Y(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}let NY=e$1=>{if(!e$1)return 1;let t$1=e$1.state;return!t$1||t$1.strm!==e$1||t$1.status!==42&&t$1.status!==57&&t$1.status!==69&&t$1.status!==73&&t$1.status!==91&&t$1.status!==103&&t$1.status!==113&&t$1.status!==666?1:0},DY=e$1=>{if(NY(e$1))return hY(e$1,KK);e$1.total_in=e$1.total_out=0,e$1.data_type=eY;let t$1=e$1.state;return t$1.pending=0,t$1.pending_out=0,t$1.wrap<0&&(t$1.wrap=-t$1.wrap),t$1.status=t$1.wrap===2?57:t$1.wrap?42:113,e$1.adler=t$1.wrap===2?0:1,t$1.last_flush=-2,LK(t$1),WK},PY=e$1=>{let t$1=DY(e$1);return t$1===WK&&(e$2=>{e$2.window_size=2*e$2.w_size,_Y(e$2.head),e$2.max_lazy_match=wY[e$2.level].max_lazy,e$2.good_match=wY[e$2.level].good_length,e$2.nice_match=wY[e$2.level].nice_length,e$2.max_chain_length=wY[e$2.level].max_chain,e$2.strstart=0,e$2.block_start=0,e$2.lookahead=0,e$2.insert=0,e$2.match_length=e$2.prev_length=2,e$2.match_available=0,e$2.ins_h=0})(e$1.state),t$1},LY=(e$1,t$1,i$1,n$1,r$1,o$1)=>{if(!e$1)return KK;let s$1=1;if(t$1===qK&&(t$1=6),n$1<0?(s$1=0,n$1=-n$1):n$1>15&&(s$1=2,n$1-=16),r$1<1||r$1>9||i$1!==tY||n$1<8||n$1>15||t$1<0||t$1>9||o$1<0||o$1>ZK||n$1===8&&s$1!==1)return hY(e$1,KK);n$1===8&&(n$1=9);let a$1=new OY;return e$1.state=a$1,a$1.strm=e$1,a$1.status=42,a$1.wrap=s$1,a$1.gzhead=null,a$1.w_bits=n$1,a$1.w_size=1<<a$1.w_bits,a$1.w_mask=a$1.w_size-1,a$1.hash_bits=r$1+7,a$1.hash_size=1<<a$1.hash_bits,a$1.hash_mask=a$1.hash_size-1,a$1.hash_shift=~~((a$1.hash_bits+3-1)/3),a$1.window=new Uint8Array(2*a$1.w_size),a$1.head=new Uint16Array(a$1.hash_size),a$1.prev=new Uint16Array(a$1.w_size),a$1.lit_bufsize=1<<r$1+6,a$1.pending_buf_size=4*a$1.lit_bufsize,a$1.pending_buf=new Uint8Array(a$1.pending_buf_size),a$1.sym_buf=a$1.lit_bufsize,a$1.sym_end=3*(a$1.lit_bufsize-1),a$1.level=t$1,a$1.strategy=o$1,a$1.method=i$1,PY(e$1)};var UY={deflateInit:(e$1,t$1)=>LY(e$1,t$1,tY,15,8,$K),deflateInit2:LY,deflateReset:PY,deflateResetKeep:DY,deflateSetHeader:(e$1,t$1)=>NY(e$1)||e$1.state.wrap!==2?KK:(e$1.state.gzhead=t$1,WK),deflate:(e$1,t$1)=>{if(NY(e$1)||t$1>GK||t$1<0)return e$1?hY(e$1,KK):KK;let i$1=e$1.state;if(!e$1.output||e$1.avail_in!==0&&!e$1.input||i$1.status===666&&t$1!==jK)return hY(e$1,e$1.avail_out===0?zK:KK);let n$1=i$1.last_flush;if(i$1.last_flush=t$1,i$1.pending!==0){if(fY(e$1),e$1.avail_out===0)return i$1.last_flush=-1,WK}else if(e$1.avail_in===0&&pY(t$1)<=pY(n$1)&&t$1!==jK)return hY(e$1,zK);if(i$1.status===666&&e$1.avail_in!==0)return hY(e$1,zK);if(i$1.status===42&&i$1.wrap===0&&(i$1.status=113),i$1.status===42){let t$2=tY+(i$1.w_bits-8<<4)<<8,n$2=-1;if(n$2=i$1.strategy>=JK||i$1.level<2?0:i$1.level<6?1:i$1.level===6?2:3,t$2|=n$2<<6,i$1.strstart!==0&&(t$2|=32),t$2+=31-t$2%31,TY(i$1,t$2),i$1.strstart!==0&&(TY(i$1,e$1.adler>>>16),TY(i$1,65535&e$1.adler)),e$1.adler=1,i$1.status=113,fY(e$1),i$1.pending!==0)return i$1.last_flush=-1,WK}if(i$1.status===57){if(e$1.adler=0,gY(i$1,31),gY(i$1,139),gY(i$1,8),i$1.gzhead)gY(i$1,(i$1.gzhead.text?1:0)+(i$1.gzhead.hcrc?2:0)+(i$1.gzhead.extra?4:0)+(i$1.gzhead.name?8:0)+(i$1.gzhead.comment?16:0)),gY(i$1,255&i$1.gzhead.time),gY(i$1,i$1.gzhead.time>>8&255),gY(i$1,i$1.gzhead.time>>16&255),gY(i$1,i$1.gzhead.time>>24&255),gY(i$1,i$1.level===9?2:i$1.strategy>=JK||i$1.level<2?4:0),gY(i$1,255&i$1.gzhead.os),i$1.gzhead.extra&&i$1.gzhead.extra.length&&(gY(i$1,255&i$1.gzhead.extra.length),gY(i$1,i$1.gzhead.extra.length>>8&255)),i$1.gzhead.hcrc&&(e$1.adler=NK(e$1.adler,i$1.pending_buf,i$1.pending,0)),i$1.gzindex=0,i$1.status=69;else if(gY(i$1,0),gY(i$1,0),gY(i$1,0),gY(i$1,0),gY(i$1,0),gY(i$1,i$1.level===9?2:i$1.strategy>=JK||i$1.level<2?4:0),gY(i$1,3),i$1.status=113,fY(e$1),i$1.pending!==0)return i$1.last_flush=-1,WK}if(i$1.status===69){if(i$1.gzhead.extra){let t$2=i$1.pending,n$2=(65535&i$1.gzhead.extra.length)-i$1.gzindex;for(;i$1.pending+n$2>i$1.pending_buf_size;){let r$2=i$1.pending_buf_size-i$1.pending;if(i$1.pending_buf.set(i$1.gzhead.extra.subarray(i$1.gzindex,i$1.gzindex+r$2),i$1.pending),i$1.pending=i$1.pending_buf_size,i$1.gzhead.hcrc&&i$1.pending>t$2&&(e$1.adler=NK(e$1.adler,i$1.pending_buf,i$1.pending-t$2,t$2)),i$1.gzindex+=r$2,fY(e$1),i$1.pending!==0)return i$1.last_flush=-1,WK;t$2=0,n$2-=r$2}let r$1=new Uint8Array(i$1.gzhead.extra);i$1.pending_buf.set(r$1.subarray(i$1.gzindex,i$1.gzindex+n$2),i$1.pending),i$1.pending+=n$2,i$1.gzhead.hcrc&&i$1.pending>t$2&&(e$1.adler=NK(e$1.adler,i$1.pending_buf,i$1.pending-t$2,t$2)),i$1.gzindex=0}i$1.status=73}if(i$1.status===73){if(i$1.gzhead.name){let t$2,n$2=i$1.pending;do{if(i$1.pending===i$1.pending_buf_size){if(i$1.gzhead.hcrc&&i$1.pending>n$2&&(e$1.adler=NK(e$1.adler,i$1.pending_buf,i$1.pending-n$2,n$2)),fY(e$1),i$1.pending!==0)return i$1.last_flush=-1,WK;n$2=0}t$2=i$1.gzindex<i$1.gzhead.name.length?255&i$1.gzhead.name.charCodeAt(i$1.gzindex++):0,gY(i$1,t$2)}while(t$2!==0);i$1.gzhead.hcrc&&i$1.pending>n$2&&(e$1.adler=NK(e$1.adler,i$1.pending_buf,i$1.pending-n$2,n$2)),i$1.gzindex=0}i$1.status=91}if(i$1.status===91){if(i$1.gzhead.comment){let t$2,n$2=i$1.pending;do{if(i$1.pending===i$1.pending_buf_size){if(i$1.gzhead.hcrc&&i$1.pending>n$2&&(e$1.adler=NK(e$1.adler,i$1.pending_buf,i$1.pending-n$2,n$2)),fY(e$1),i$1.pending!==0)return i$1.last_flush=-1,WK;n$2=0}t$2=i$1.gzindex<i$1.gzhead.comment.length?255&i$1.gzhead.comment.charCodeAt(i$1.gzindex++):0,gY(i$1,t$2)}while(t$2!==0);i$1.gzhead.hcrc&&i$1.pending>n$2&&(e$1.adler=NK(e$1.adler,i$1.pending_buf,i$1.pending-n$2,n$2))}i$1.status=103}if(i$1.status===103){if(i$1.gzhead.hcrc){if(i$1.pending+2>i$1.pending_buf_size&&(fY(e$1),i$1.pending!==0))return i$1.last_flush=-1,WK;gY(i$1,255&e$1.adler),gY(i$1,e$1.adler>>8&255),e$1.adler=0}if(i$1.status=113,fY(e$1),i$1.pending!==0)return i$1.last_flush=-1,WK}if(e$1.avail_in!==0||i$1.lookahead!==0||t$1!==xK&&i$1.status!==666){let n$2=i$1.level===0?yY(i$1,t$1):i$1.strategy===JK?((e$2,t$2)=>{let i$2;for(;;){if(e$2.lookahead===0&&(vY(e$2),e$2.lookahead===0)){if(t$2===xK)return 1;break}if(e$2.match_length=0,i$2=UK(e$2,0,e$2.window[e$2.strstart]),e$2.lookahead--,e$2.strstart++,i$2&&(SY(e$2,!1),e$2.strm.avail_out===0))return 1}return e$2.insert=0,t$2===jK?(SY(e$2,!0),e$2.strm.avail_out===0?3:4):e$2.sym_next&&(SY(e$2,!1),e$2.strm.avail_out===0)?1:2})(i$1,t$1):i$1.strategy===QK?((e$2,t$2)=>{let i$2,n$3,r$1,o$1,s$1=e$2.window;for(;;){if(e$2.lookahead<=258){if(vY(e$2),e$2.lookahead<=258&&t$2===xK)return 1;if(e$2.lookahead===0)break}if(e$2.match_length=0,e$2.lookahead>=3&&e$2.strstart>0&&(r$1=e$2.strstart-1,n$3=s$1[r$1],n$3===s$1[++r$1]&&n$3===s$1[++r$1]&&n$3===s$1[++r$1])){o$1=e$2.strstart+258;do;while(n$3===s$1[++r$1]&&n$3===s$1[++r$1]&&n$3===s$1[++r$1]&&n$3===s$1[++r$1]&&n$3===s$1[++r$1]&&n$3===s$1[++r$1]&&n$3===s$1[++r$1]&&n$3===s$1[++r$1]&&r$1<o$1);e$2.match_length=258-(o$1-r$1),e$2.match_length>e$2.lookahead&&(e$2.match_length=e$2.lookahead)}if(e$2.match_length>=3?(i$2=UK(e$2,1,e$2.match_length-3),e$2.lookahead-=e$2.match_length,e$2.strstart+=e$2.match_length,e$2.match_length=0):(i$2=UK(e$2,0,e$2.window[e$2.strstart]),e$2.lookahead--,e$2.strstart++),i$2&&(SY(e$2,!1),e$2.strm.avail_out===0))return 1}return e$2.insert=0,t$2===jK?(SY(e$2,!0),e$2.strm.avail_out===0?3:4):e$2.sym_next&&(SY(e$2,!1),e$2.strm.avail_out===0)?1:2})(i$1,t$1):wY[i$1.level].func(i$1,t$1);if(n$2!==3&&n$2!==4||(i$1.status=666),n$2===1||n$2===3)return e$1.avail_out===0&&(i$1.last_flush=-1),WK;if(n$2===2&&(t$1===FK?VK(i$1):t$1!==GK&&(kK(i$1,0,0,!1),t$1===BK&&(_Y(i$1.head),i$1.lookahead===0&&(i$1.strstart=0,i$1.block_start=0,i$1.insert=0))),fY(e$1),e$1.avail_out===0))return i$1.last_flush=-1,WK}return t$1===jK?i$1.wrap<=0?HK:(i$1.wrap===2?(gY(i$1,255&e$1.adler),gY(i$1,e$1.adler>>8&255),gY(i$1,e$1.adler>>16&255),gY(i$1,e$1.adler>>24&255),gY(i$1,255&e$1.total_in),gY(i$1,e$1.total_in>>8&255),gY(i$1,e$1.total_in>>16&255),gY(i$1,e$1.total_in>>24&255)):(TY(i$1,e$1.adler>>>16),TY(i$1,65535&e$1.adler)),fY(e$1),i$1.wrap>0&&(i$1.wrap=-i$1.wrap),i$1.pending===0?HK:WK):WK},deflateEnd:e$1=>{if(NY(e$1))return KK;let t$1=e$1.state.status;return e$1.state=null,t$1===113?hY(e$1,YK):WK},deflateSetDictionary:(e$1,t$1)=>{let i$1=t$1.length;if(NY(e$1))return KK;let n$1=e$1.state,r$1=n$1.wrap;if(r$1===2||r$1===1&&n$1.status!==42||n$1.lookahead)return KK;if(r$1===1&&(e$1.adler=wK(e$1.adler,t$1,i$1,0)),n$1.wrap=0,i$1>=n$1.w_size){r$1===0&&(_Y(n$1.head),n$1.strstart=0,n$1.block_start=0,n$1.insert=0);let e$2=new Uint8Array(n$1.w_size);e$2.set(t$1.subarray(i$1-n$1.w_size,i$1),0),t$1=e$2,i$1=n$1.w_size}let o$1=e$1.avail_in,s$1=e$1.next_in,a$1=e$1.input;for(e$1.avail_in=i$1,e$1.next_in=0,e$1.input=t$1,vY(n$1);n$1.lookahead>=3;){let e$2=n$1.strstart,t$2=n$1.lookahead-2;do n$1.ins_h=mY(n$1,n$1.ins_h,n$1.window[e$2+3-1]),n$1.prev[e$2&n$1.w_mask]=n$1.head[n$1.ins_h],n$1.head[n$1.ins_h]=e$2,e$2++;while(--t$2);n$1.strstart=e$2,n$1.lookahead=2,vY(n$1)}return n$1.strstart+=n$1.lookahead,n$1.block_start=n$1.strstart,n$1.insert=n$1.lookahead,n$1.lookahead=0,n$1.match_length=n$1.prev_length=2,n$1.match_available=0,e$1.next_in=s$1,e$1.input=a$1,e$1.avail_in=o$1,n$1.wrap=r$1,WK},deflateInfo:`pako deflate (from Nodeca project)`};let VY=(e$1,t$1)=>Object.prototype.hasOwnProperty.call(e$1,t$1);var xY={assign:function(e$1){let t$1=Array.prototype.slice.call(arguments,1);for(;t$1.length;){let i$1=t$1.shift();if(i$1){if(typeof i$1!=`object`)throw TypeError(i$1+`must be non-object`);for(let t$2 in i$1)VY(i$1,t$2)&&(e$1[t$2]=i$1[t$2])}}return e$1},flattenChunks:e$1=>{let t$1=0;for(let i$2=0,n$1=e$1.length;i$2<n$1;i$2++)t$1+=e$1[i$2].length;let i$1=new Uint8Array(t$1);for(let t$2=0,n$1=0,r$1=e$1.length;t$2<r$1;t$2++){let r$2=e$1[t$2];i$1.set(r$2,n$1),n$1+=r$2.length}return i$1}};let FY=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{FY=!1}let BY=new Uint8Array(256);for(let e$1=0;e$1<256;e$1++)BY[e$1]=e$1>=252?6:e$1>=248?5:e$1>=240?4:e$1>=224?3:e$1>=192?2:1;BY[254]=BY[254]=1;var jY={string2buf:e$1=>{if(typeof TextEncoder==`function`&&TextEncoder.prototype.encode)return new TextEncoder().encode(e$1);let t$1,i$1,n$1,r$1,o$1,s$1=e$1.length,a$1=0;for(r$1=0;r$1<s$1;r$1++)i$1=e$1.charCodeAt(r$1),(64512&i$1)==55296&&r$1+1<s$1&&(n$1=e$1.charCodeAt(r$1+1),(64512&n$1)==56320&&(i$1=65536+(i$1-55296<<10)+(n$1-56320),r$1++)),a$1+=i$1<128?1:i$1<2048?2:i$1<65536?3:4;for(t$1=new Uint8Array(a$1),o$1=0,r$1=0;o$1<a$1;r$1++)i$1=e$1.charCodeAt(r$1),(64512&i$1)==55296&&r$1+1<s$1&&(n$1=e$1.charCodeAt(r$1+1),(64512&n$1)==56320&&(i$1=65536+(i$1-55296<<10)+(n$1-56320),r$1++)),i$1<128?t$1[o$1++]=i$1:i$1<2048?(t$1[o$1++]=192|i$1>>>6,t$1[o$1++]=128|63&i$1):i$1<65536?(t$1[o$1++]=224|i$1>>>12,t$1[o$1++]=128|i$1>>>6&63,t$1[o$1++]=128|63&i$1):(t$1[o$1++]=240|i$1>>>18,t$1[o$1++]=128|i$1>>>12&63,t$1[o$1++]=128|i$1>>>6&63,t$1[o$1++]=128|63&i$1);return t$1},buf2string:(e$1,t$1)=>{let i$1=t$1||e$1.length;if(typeof TextDecoder==`function`&&TextDecoder.prototype.decode)return new TextDecoder().decode(e$1.subarray(0,t$1));let n$1,r$1,o$1=Array(2*i$1);for(r$1=0,n$1=0;n$1<i$1;){let t$2=e$1[n$1++];if(t$2<128){o$1[r$1++]=t$2;continue}let s$1=BY[t$2];if(s$1>4)o$1[r$1++]=65533,n$1+=s$1-1;else{for(t$2&=s$1===2?31:s$1===3?15:7;s$1>1&&n$1<i$1;)t$2=t$2<<6|63&e$1[n$1++],s$1--;s$1>1?o$1[r$1++]=65533:t$2<65536?o$1[r$1++]=t$2:(t$2-=65536,o$1[r$1++]=55296|t$2>>10&1023,o$1[r$1++]=56320|1023&t$2)}}return((e$2,t$2)=>{if(t$2<65534&&e$2.subarray&&FY)return String.fromCharCode.apply(null,e$2.length===t$2?e$2:e$2.subarray(0,t$2));let i$2=``;for(let n$2=0;n$2<t$2;n$2++)i$2+=String.fromCharCode(e$2[n$2]);return i$2})(o$1,r$1)},utf8border:(e$1,t$1)=>{(t$1||=e$1.length)>e$1.length&&(t$1=e$1.length);let i$1=t$1-1;for(;i$1>=0&&(192&e$1[i$1])==128;)i$1--;return i$1<0||i$1===0?t$1:i$1+BY[e$1[i$1]]>t$1?i$1:t$1}},GY=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=``,this.state=null,this.data_type=2,this.adler=0};let WY=Object.prototype.toString,{Z_NO_FLUSH:HY,Z_SYNC_FLUSH:KY,Z_FULL_FLUSH:YY,Z_FINISH:zY,Z_OK:qY,Z_STREAM_END:XY,Z_DEFAULT_COMPRESSION:JY,Z_DEFAULT_STRATEGY:QY,Z_DEFLATED:ZY}=PK;function $Y(e$1){this.options=xY.assign({level:JY,method:ZY,chunkSize:16384,windowBits:15,memLevel:8,strategy:QY},e$1||{});let t$1=this.options;t$1.raw&&t$1.windowBits>0?t$1.windowBits=-t$1.windowBits:t$1.gzip&&t$1.windowBits>0&&t$1.windowBits<16&&(t$1.windowBits+=16),this.err=0,this.msg=``,this.ended=!1,this.chunks=[],this.strm=new GY,this.strm.avail_out=0;let i$1=UY.deflateInit2(this.strm,t$1.level,t$1.method,t$1.windowBits,t$1.memLevel,t$1.strategy);if(i$1!==qY)throw Error(DK[i$1]);if(t$1.header&&UY.deflateSetHeader(this.strm,t$1.header),t$1.dictionary){let e$2;if(e$2=typeof t$1.dictionary==`string`?jY.string2buf(t$1.dictionary):WY.call(t$1.dictionary)===`[object ArrayBuffer]`?new Uint8Array(t$1.dictionary):t$1.dictionary,i$1=UY.deflateSetDictionary(this.strm,e$2),i$1!==qY)throw Error(DK[i$1]);this._dict_set=!0}}function ez(e$1,t$1){let i$1=new $Y(t$1);if(i$1.push(e$1,!0),i$1.err)throw i$1.msg||DK[i$1.err];return i$1.result}$Y.prototype.push=function(e$1,t$1){let i$1=this.strm,n$1=this.options.chunkSize,r$1,o$1;if(this.ended)return!1;for(o$1=t$1===~~t$1?t$1:!0===t$1?zY:HY,typeof e$1==`string`?i$1.input=jY.string2buf(e$1):WY.call(e$1)===`[object ArrayBuffer]`?i$1.input=new Uint8Array(e$1):i$1.input=e$1,i$1.next_in=0,i$1.avail_in=i$1.input.length;;)if(i$1.avail_out===0&&(i$1.output=new Uint8Array(n$1),i$1.next_out=0,i$1.avail_out=n$1),(o$1===KY||o$1===YY)&&i$1.avail_out<=6)this.onData(i$1.output.subarray(0,i$1.next_out)),i$1.avail_out=0;else{if(r$1=UY.deflate(i$1,o$1),r$1===XY)return i$1.next_out>0&&this.onData(i$1.output.subarray(0,i$1.next_out)),r$1=UY.deflateEnd(this.strm),this.onEnd(r$1),this.ended=!0,r$1===qY;if(i$1.avail_out!==0){if(o$1>0&&i$1.next_out>0)this.onData(i$1.output.subarray(0,i$1.next_out)),i$1.avail_out=0;else if(i$1.avail_in===0)break}else this.onData(i$1.output)}return!0},$Y.prototype.onData=function(e$1){this.chunks.push(e$1)},$Y.prototype.onEnd=function(e$1){e$1===qY&&(this.result=xY.flattenChunks(this.chunks)),this.chunks=[],this.err=e$1,this.msg=this.strm.msg};var tz={Deflate:$Y,deflate:ez,deflateRaw:function(e$1,t$1){return(t$1||={}).raw=!0,ez(e$1,t$1)},gzip:function(e$1,t$1){return(t$1||={}).gzip=!0,ez(e$1,t$1)},constants:PK};let iz=16209;var nz=function(e$1,t$1){let i$1,n$1,r$1,o$1,s$1,a$1,c$1,d$1,l$1,u$1,h$1,p$1,_$1,E$1,m$1,f$1,S$1,g$1,T$1,R$1,C$1,v$1,y$1,I$1,A$1=e$1.state;i$1=e$1.next_in,y$1=e$1.input,n$1=i$1+(e$1.avail_in-5),r$1=e$1.next_out,I$1=e$1.output,o$1=r$1-(t$1-e$1.avail_out),s$1=r$1+(e$1.avail_out-257),a$1=A$1.dmax,c$1=A$1.wsize,d$1=A$1.whave,l$1=A$1.wnext,u$1=A$1.window,h$1=A$1.hold,p$1=A$1.bits,_$1=A$1.lencode,E$1=A$1.distcode,m$1=(1<<A$1.lenbits)-1,f$1=(1<<A$1.distbits)-1;e:do{p$1<15&&(h$1+=y$1[i$1++]<<p$1,p$1+=8,h$1+=y$1[i$1++]<<p$1,p$1+=8),S$1=_$1[h$1&m$1];t:for(;;){if(g$1=S$1>>>24,h$1>>>=g$1,p$1-=g$1,g$1=S$1>>>16&255,g$1===0)I$1[r$1++]=65535&S$1;else{if(!(16&g$1)){if(!(64&g$1)){S$1=_$1[(65535&S$1)+(h$1&(1<<g$1)-1)];continue t}if(32&g$1){A$1.mode=16191;break e}e$1.msg=`invalid literal/length code`,A$1.mode=iz;break e}T$1=65535&S$1,g$1&=15,g$1&&(p$1<g$1&&(h$1+=y$1[i$1++]<<p$1,p$1+=8),T$1+=h$1&(1<<g$1)-1,h$1>>>=g$1,p$1-=g$1),p$1<15&&(h$1+=y$1[i$1++]<<p$1,p$1+=8,h$1+=y$1[i$1++]<<p$1,p$1+=8),S$1=E$1[h$1&f$1];i:for(;;){if(g$1=S$1>>>24,h$1>>>=g$1,p$1-=g$1,g$1=S$1>>>16&255,!(16&g$1)){if(!(64&g$1)){S$1=E$1[(65535&S$1)+(h$1&(1<<g$1)-1)];continue i}e$1.msg=`invalid distance code`,A$1.mode=iz;break e}if(R$1=65535&S$1,g$1&=15,p$1<g$1&&(h$1+=y$1[i$1++]<<p$1,p$1+=8,p$1<g$1&&(h$1+=y$1[i$1++]<<p$1,p$1+=8)),R$1+=h$1&(1<<g$1)-1,R$1>a$1){e$1.msg=`invalid distance too far back`,A$1.mode=iz;break e}if(h$1>>>=g$1,p$1-=g$1,g$1=r$1-o$1,R$1>g$1){if(g$1=R$1-g$1,g$1>d$1&&A$1.sane){e$1.msg=`invalid distance too far back`,A$1.mode=iz;break e}if(C$1=0,v$1=u$1,l$1===0){if(C$1+=c$1-g$1,g$1<T$1){T$1-=g$1;do I$1[r$1++]=u$1[C$1++];while(--g$1);C$1=r$1-R$1,v$1=I$1}}else if(l$1<g$1){if(C$1+=c$1+l$1-g$1,g$1-=l$1,g$1<T$1){T$1-=g$1;do I$1[r$1++]=u$1[C$1++];while(--g$1);if(C$1=0,l$1<T$1){g$1=l$1,T$1-=g$1;do I$1[r$1++]=u$1[C$1++];while(--g$1);C$1=r$1-R$1,v$1=I$1}}}else if(C$1+=l$1-g$1,g$1<T$1){T$1-=g$1;do I$1[r$1++]=u$1[C$1++];while(--g$1);C$1=r$1-R$1,v$1=I$1}for(;T$1>2;)I$1[r$1++]=v$1[C$1++],I$1[r$1++]=v$1[C$1++],I$1[r$1++]=v$1[C$1++],T$1-=3;T$1&&(I$1[r$1++]=v$1[C$1++],T$1>1&&(I$1[r$1++]=v$1[C$1++]))}else{C$1=r$1-R$1;do I$1[r$1++]=I$1[C$1++],I$1[r$1++]=I$1[C$1++],I$1[r$1++]=I$1[C$1++],T$1-=3;while(T$1>2);T$1&&(I$1[r$1++]=I$1[C$1++],T$1>1&&(I$1[r$1++]=I$1[C$1++]))}break}}break}}while(i$1<n$1&&r$1<s$1);T$1=p$1>>3,i$1-=T$1,p$1-=T$1<<3,h$1&=(1<<p$1)-1,e$1.next_in=i$1,e$1.next_out=r$1,e$1.avail_in=i$1<n$1?n$1-i$1+5:5-(i$1-n$1),e$1.avail_out=r$1<s$1?s$1-r$1+257:257-(r$1-s$1),A$1.hold=h$1,A$1.bits=p$1};let rz=15,oz=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),sz=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),az=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),cz=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var dz=(e$1,t$1,i$1,n$1,r$1,o$1,s$1,a$1)=>{let c$1=a$1.bits,d$1,l$1,u$1,h$1,p$1,_$1,E$1=0,m$1=0,f$1=0,S$1=0,g$1=0,T$1=0,R$1=0,C$1=0,v$1=0,y$1=0,I$1=null,A$1=new Uint16Array(16),b$1=new Uint16Array(16),w$1,O$1,N$1,D$1=null;for(E$1=0;E$1<=15;E$1++)A$1[E$1]=0;for(m$1=0;m$1<n$1;m$1++)A$1[t$1[i$1+m$1]]++;for(g$1=c$1,S$1=15;S$1>=1&&A$1[S$1]===0;S$1--);if(g$1>S$1&&(g$1=S$1),S$1===0)return r$1[o$1++]=20971520,r$1[o$1++]=20971520,a$1.bits=1,0;for(f$1=1;f$1<S$1&&A$1[f$1]===0;f$1++);for(g$1<f$1&&(g$1=f$1),C$1=1,E$1=1;E$1<=15;E$1++)if(C$1<<=1,C$1-=A$1[E$1],C$1<0)return-1;if(C$1>0&&(e$1===0||S$1!==1))return-1;for(b$1[1]=0,E$1=1;E$1<15;E$1++)b$1[E$1+1]=b$1[E$1]+A$1[E$1];for(m$1=0;m$1<n$1;m$1++)t$1[i$1+m$1]!==0&&(s$1[b$1[t$1[i$1+m$1]]++]=m$1);if(e$1===0?(I$1=D$1=s$1,_$1=20):e$1===1?(I$1=oz,D$1=sz,_$1=257):(I$1=az,D$1=cz,_$1=0),y$1=0,m$1=0,E$1=f$1,p$1=o$1,T$1=g$1,R$1=0,u$1=-1,v$1=1<<g$1,h$1=v$1-1,e$1===1&&v$1>852||e$1===2&&v$1>592)return 1;for(;;){w$1=E$1-R$1,s$1[m$1]+1<_$1?(O$1=0,N$1=s$1[m$1]):s$1[m$1]>=_$1?(O$1=D$1[s$1[m$1]-_$1],N$1=I$1[s$1[m$1]-_$1]):(O$1=96,N$1=0),d$1=1<<E$1-R$1,l$1=1<<T$1,f$1=l$1;do l$1-=d$1,r$1[p$1+(y$1>>R$1)+l$1]=w$1<<24|O$1<<16|N$1|0;while(l$1!==0);for(d$1=1<<E$1-1;y$1&d$1;)d$1>>=1;if(d$1===0?y$1=0:(y$1&=d$1-1,y$1+=d$1),m$1++,--A$1[E$1]==0){if(E$1===S$1)break;E$1=t$1[i$1+s$1[m$1]]}if(E$1>g$1&&(y$1&h$1)!==u$1){for(R$1===0&&(R$1=g$1),p$1+=f$1,T$1=E$1-R$1,C$1=1<<T$1;T$1+R$1<S$1&&(C$1-=A$1[T$1+R$1],!(C$1<=0));)T$1++,C$1<<=1;if(v$1+=1<<T$1,e$1===1&&v$1>852||e$1===2&&v$1>592)return 1;u$1=y$1&h$1,r$1[u$1]=g$1<<24|T$1<<16|p$1-o$1|0}}return y$1!==0&&(r$1[p$1+y$1]=E$1-R$1<<24|4194304),a$1.bits=g$1,0};let{Z_FINISH:lz,Z_BLOCK:uz,Z_TREES:hz,Z_OK:pz,Z_STREAM_END:_z,Z_NEED_DICT:Ez,Z_STREAM_ERROR:mz,Z_DATA_ERROR:fz,Z_MEM_ERROR:Sz,Z_BUF_ERROR:gz,Z_DEFLATED:Tz}=PK,Rz=16180,Cz=16190,vz=16191,yz=16192,Iz=16194,Az=16199,bz=16200,wz=16206,Oz=16209,Nz=e$1=>(e$1>>>24&255)+(e$1>>>8&65280)+((65280&e$1)<<8)+((255&e$1)<<24);function Dz(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}let Pz=e$1=>{if(!e$1)return 1;let t$1=e$1.state;return!t$1||t$1.strm!==e$1||t$1.mode<Rz||t$1.mode>16211?1:0},Lz=e$1=>{if(Pz(e$1))return mz;let t$1=e$1.state;return e$1.total_in=e$1.total_out=t$1.total=0,e$1.msg=``,t$1.wrap&&(e$1.adler=1&t$1.wrap),t$1.mode=Rz,t$1.last=0,t$1.havedict=0,t$1.flags=-1,t$1.dmax=32768,t$1.head=null,t$1.hold=0,t$1.bits=0,t$1.lencode=t$1.lendyn=new Int32Array(852),t$1.distcode=t$1.distdyn=new Int32Array(592),t$1.sane=1,t$1.back=-1,pz},kz=e$1=>{if(Pz(e$1))return mz;let t$1=e$1.state;return t$1.wsize=0,t$1.whave=0,t$1.wnext=0,Lz(e$1)},Mz=(e$1,t$1)=>{let i$1;if(Pz(e$1))return mz;let n$1=e$1.state;return t$1<0?(i$1=0,t$1=-t$1):(i$1=5+(t$1>>4),t$1<48&&(t$1&=15)),t$1&&(t$1<8||t$1>15)?mz:(n$1.window!==null&&n$1.wbits!==t$1&&(n$1.window=null),n$1.wrap=i$1,n$1.wbits=t$1,kz(e$1))},Uz=(e$1,t$1)=>{if(!e$1)return mz;let i$1=new Dz;e$1.state=i$1,i$1.strm=e$1,i$1.window=null,i$1.mode=Rz;let n$1=Mz(e$1,t$1);return n$1!==pz&&(e$1.state=null),n$1},Vz,xz,Fz=!0,Bz=e$1=>{if(Fz){Vz=new Int32Array(512),xz=new Int32Array(32);let t$1=0;for(;t$1<144;)e$1.lens[t$1++]=8;for(;t$1<256;)e$1.lens[t$1++]=9;for(;t$1<280;)e$1.lens[t$1++]=7;for(;t$1<288;)e$1.lens[t$1++]=8;for(dz(1,e$1.lens,0,288,Vz,0,e$1.work,{bits:9}),t$1=0;t$1<32;)e$1.lens[t$1++]=5;dz(2,e$1.lens,0,32,xz,0,e$1.work,{bits:5}),Fz=!1}e$1.lencode=Vz,e$1.lenbits=9,e$1.distcode=xz,e$1.distbits=5},jz=(e$1,t$1,i$1,n$1)=>{let r$1,o$1=e$1.state;return o$1.window===null&&(o$1.wsize=1<<o$1.wbits,o$1.wnext=0,o$1.whave=0,o$1.window=new Uint8Array(o$1.wsize)),n$1>=o$1.wsize?(o$1.window.set(t$1.subarray(i$1-o$1.wsize,i$1),0),o$1.wnext=0,o$1.whave=o$1.wsize):(r$1=o$1.wsize-o$1.wnext,r$1>n$1&&(r$1=n$1),o$1.window.set(t$1.subarray(i$1-n$1,i$1-n$1+r$1),o$1.wnext),(n$1-=r$1)?(o$1.window.set(t$1.subarray(i$1-n$1,i$1),0),o$1.wnext=n$1,o$1.whave=o$1.wsize):(o$1.wnext+=r$1,o$1.wnext===o$1.wsize&&(o$1.wnext=0),o$1.whave<o$1.wsize&&(o$1.whave+=r$1))),0};var Wz={inflateReset:kz,inflateReset2:Mz,inflateResetKeep:Lz,inflateInit:e$1=>Uz(e$1,15),inflateInit2:Uz,inflate:(e$1,t$1)=>{let i$1,n$1,r$1,o$1,s$1,a$1,c$1,d$1,l$1,u$1,h$1,p$1,_$1,E$1,m$1,f$1,S$1,g$1,T$1,R$1,C$1,v$1,y$1=0,I$1=new Uint8Array(4),A$1,b$1,w$1=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Pz(e$1)||!e$1.output||!e$1.input&&e$1.avail_in!==0)return mz;i$1=e$1.state,i$1.mode===vz&&(i$1.mode=yz),s$1=e$1.next_out,r$1=e$1.output,c$1=e$1.avail_out,o$1=e$1.next_in,n$1=e$1.input,a$1=e$1.avail_in,d$1=i$1.hold,l$1=i$1.bits,u$1=a$1,h$1=c$1,v$1=pz;e:for(;;)switch(i$1.mode){case Rz:if(i$1.wrap===0){i$1.mode=yz;break}for(;l$1<16;){if(a$1===0)break e;a$1--,d$1+=n$1[o$1++]<<l$1,l$1+=8}if(2&i$1.wrap&&d$1===35615){i$1.wbits===0&&(i$1.wbits=15),i$1.check=0,I$1[0]=255&d$1,I$1[1]=d$1>>>8&255,i$1.check=NK(i$1.check,I$1,2,0),d$1=0,l$1=0,i$1.mode=16181;break}if(i$1.head&&(i$1.head.done=!1),!(1&i$1.wrap)||(((255&d$1)<<8)+(d$1>>8))%31){e$1.msg=`incorrect header check`,i$1.mode=Oz;break}if((15&d$1)!==Tz){e$1.msg=`unknown compression method`,i$1.mode=Oz;break}if(d$1>>>=4,l$1-=4,C$1=8+(15&d$1),i$1.wbits===0&&(i$1.wbits=C$1),C$1>15||C$1>i$1.wbits){e$1.msg=`invalid window size`,i$1.mode=Oz;break}i$1.dmax=1<<i$1.wbits,i$1.flags=0,e$1.adler=i$1.check=1,i$1.mode=512&d$1?16189:vz,d$1=0,l$1=0;break;case 16181:for(;l$1<16;){if(a$1===0)break e;a$1--,d$1+=n$1[o$1++]<<l$1,l$1+=8}if(i$1.flags=d$1,(255&BH(i$1))!==Tz){e$1.msg=`unknown compression method`,i$1.mode=Oz;break}if(57344&BH(i$1)){e$1.msg=`unknown header flags set`,i$1.mode=Oz;break}i$1.head&&(i$1.head.text=d$1>>8&1),512&BH(i$1)&&4&i$1.wrap&&(I$1[0]=255&d$1,I$1[1]=d$1>>>8&255,i$1.check=NK(i$1.check,I$1,2,0)),d$1=0,l$1=0,i$1.mode=16182;case 16182:for(;l$1<32;){if(a$1===0)break e;a$1--,d$1+=n$1[o$1++]<<l$1,l$1+=8}i$1.head&&(i$1.head.time=d$1),512&BH(i$1)&&4&i$1.wrap&&(I$1[0]=255&d$1,I$1[1]=d$1>>>8&255,I$1[2]=d$1>>>16&255,I$1[3]=d$1>>>24&255,i$1.check=NK(i$1.check,I$1,4,0)),d$1=0,l$1=0,i$1.mode=16183;case 16183:for(;l$1<16;){if(a$1===0)break e;a$1--,d$1+=n$1[o$1++]<<l$1,l$1+=8}i$1.head&&(i$1.head.xflags=255&d$1,i$1.head.os=d$1>>8),512&BH(i$1)&&4&i$1.wrap&&(I$1[0]=255&d$1,I$1[1]=d$1>>>8&255,i$1.check=NK(i$1.check,I$1,2,0)),d$1=0,l$1=0,i$1.mode=16184;case 16184:if(1024&BH(i$1)){for(;l$1<16;){if(a$1===0)break e;a$1--,d$1+=n$1[o$1++]<<l$1,l$1+=8}i$1.length=d$1,i$1.head&&(i$1.head.extra_len=d$1),512&BH(i$1)&&4&i$1.wrap&&(I$1[0]=255&d$1,I$1[1]=d$1>>>8&255,i$1.check=NK(i$1.check,I$1,2,0)),d$1=0,l$1=0}else i$1.head&&(i$1.head.extra=null);i$1.mode=16185;case 16185:if(1024&BH(i$1)&&(p$1=i$1.length,p$1>a$1&&(p$1=a$1),p$1&&(i$1.head&&(C$1=i$1.head.extra_len-i$1.length,i$1.head.extra||(i$1.head.extra=new Uint8Array(i$1.head.extra_len)),i$1.head.extra.set(n$1.subarray(o$1,o$1+p$1),C$1)),512&BH(i$1)&&4&i$1.wrap&&(i$1.check=NK(i$1.check,n$1,p$1,o$1)),a$1-=p$1,o$1+=p$1,i$1.length-=p$1),i$1.length))break e;i$1.length=0,i$1.mode=16186;case 16186:if(2048&BH(i$1)){if(a$1===0)break e;p$1=0;do C$1=n$1[o$1+ p$1++],i$1.head&&C$1&&i$1.length<65536&&(i$1.head.name+=String.fromCharCode(C$1));while(C$1&&p$1<a$1);if(512&BH(i$1)&&4&i$1.wrap&&(i$1.check=NK(i$1.check,n$1,p$1,o$1)),a$1-=p$1,o$1+=p$1,C$1)break e}else i$1.head&&(i$1.head.name=null);i$1.length=0,i$1.mode=16187;case 16187:if(4096&BH(i$1)){if(a$1===0)break e;p$1=0;do C$1=n$1[o$1+ p$1++],i$1.head&&C$1&&i$1.length<65536&&(i$1.head.comment+=String.fromCharCode(C$1));while(C$1&&p$1<a$1);if(512&BH(i$1)&&4&i$1.wrap&&(i$1.check=NK(i$1.check,n$1,p$1,o$1)),a$1-=p$1,o$1+=p$1,C$1)break e}else i$1.head&&(i$1.head.comment=null);i$1.mode=16188;case 16188:if(512&BH(i$1)){for(;l$1<16;){if(a$1===0)break e;a$1--,d$1+=n$1[o$1++]<<l$1,l$1+=8}if(4&i$1.wrap&&d$1!==(65535&i$1.check)){e$1.msg=`header crc mismatch`,i$1.mode=Oz;break}d$1=0,l$1=0}i$1.head&&(i$1.head.hcrc=BH(i$1)>>9&1,i$1.head.done=!0),e$1.adler=i$1.check=0,i$1.mode=vz;break;case 16189:for(;l$1<32;){if(a$1===0)break e;a$1--,d$1+=n$1[o$1++]<<l$1,l$1+=8}e$1.adler=i$1.check=Nz(d$1),d$1=0,l$1=0,i$1.mode=Cz;case Cz:if(i$1.havedict===0)return e$1.next_out=s$1,e$1.avail_out=c$1,e$1.next_in=o$1,e$1.avail_in=a$1,i$1.hold=d$1,i$1.bits=l$1,Ez;e$1.adler=i$1.check=1,i$1.mode=vz;case vz:if(t$1===uz||t$1===hz)break e;case yz:if(i$1.last){d$1>>>=7&l$1,l$1-=7&l$1,i$1.mode=wz;break}for(;l$1<3;){if(a$1===0)break e;a$1--,d$1+=n$1[o$1++]<<l$1,l$1+=8}switch(i$1.last=1&d$1,d$1>>>=1,--l$1,3&d$1){case 0:i$1.mode=16193;break;case 1:if(Bz(i$1),i$1.mode=Az,t$1===hz){d$1>>>=2,l$1-=2;break e}break;case 2:i$1.mode=16196;break;case 3:e$1.msg=`invalid block type`,i$1.mode=Oz}d$1>>>=2,l$1-=2;break;case 16193:for(d$1>>>=7&l$1,l$1-=7&l$1;l$1<32;){if(a$1===0)break e;a$1--,d$1+=n$1[o$1++]<<l$1,l$1+=8}if((65535&d$1)!=(d$1>>>16^65535)){e$1.msg=`invalid stored block lengths`,i$1.mode=Oz;break}if(i$1.length=65535&d$1,d$1=0,l$1=0,i$1.mode=Iz,t$1===hz)break e;case Iz:i$1.mode=16195;case 16195:if(p$1=i$1.length,p$1){if(p$1>a$1&&(p$1=a$1),p$1>c$1&&(p$1=c$1),p$1===0)break e;r$1.set(n$1.subarray(o$1,o$1+p$1),s$1),a$1-=p$1,o$1+=p$1,c$1-=p$1,s$1+=p$1,i$1.length-=p$1;break}i$1.mode=vz;break;case 16196:for(;l$1<14;){if(a$1===0)break e;a$1--,d$1+=n$1[o$1++]<<l$1,l$1+=8}if(i$1.nlen=257+(31&d$1),d$1>>>=5,l$1-=5,i$1.ndist=1+(31&d$1),d$1>>>=5,l$1-=5,i$1.ncode=4+(15&d$1),d$1>>>=4,l$1-=4,i$1.nlen>286||i$1.ndist>30){e$1.msg=`too many length or distance symbols`,i$1.mode=Oz;break}i$1.have=0,i$1.mode=16197;case 16197:for(;i$1.have<i$1.ncode;){for(;l$1<3;){if(a$1===0)break e;a$1--,d$1+=n$1[o$1++]<<l$1,l$1+=8}i$1.lens[w$1[i$1.have++]]=7&d$1,d$1>>>=3,l$1-=3}for(;i$1.have<19;)i$1.lens[w$1[i$1.have++]]=0;if(i$1.lencode=i$1.lendyn,i$1.lenbits=7,A$1={bits:i$1.lenbits},v$1=dz(0,i$1.lens,0,19,i$1.lencode,0,i$1.work,A$1),i$1.lenbits=A$1.bits,v$1){e$1.msg=`invalid code lengths set`,i$1.mode=Oz;break}i$1.have=0,i$1.mode=16198;case 16198:for(;i$1.have<i$1.nlen+i$1.ndist;){for(;y$1=i$1.lencode[d$1&(1<<i$1.lenbits)-1],m$1=y$1>>>24,f$1=y$1>>>16&255,S$1=65535&y$1,!(m$1<=l$1);){if(a$1===0)break e;a$1--,d$1+=n$1[o$1++]<<l$1,l$1+=8}if(S$1<16)d$1>>>=m$1,l$1-=m$1,i$1.lens[i$1.have++]=S$1;else{if(S$1===16){for(b$1=m$1+2;l$1<b$1;){if(a$1===0)break e;a$1--,d$1+=n$1[o$1++]<<l$1,l$1+=8}if(d$1>>>=m$1,l$1-=m$1,i$1.have===0){e$1.msg=`invalid bit length repeat`,i$1.mode=Oz;break}C$1=i$1.lens[i$1.have-1],p$1=3+(3&d$1),d$1>>>=2,l$1-=2}else if(S$1===17){for(b$1=m$1+3;l$1<b$1;){if(a$1===0)break e;a$1--,d$1+=n$1[o$1++]<<l$1,l$1+=8}d$1>>>=m$1,l$1-=m$1,C$1=0,p$1=3+(7&d$1),d$1>>>=3,l$1-=3}else{for(b$1=m$1+7;l$1<b$1;){if(a$1===0)break e;a$1--,d$1+=n$1[o$1++]<<l$1,l$1+=8}d$1>>>=m$1,l$1-=m$1,C$1=0,p$1=11+(127&d$1),d$1>>>=7,l$1-=7}if(i$1.have+p$1>i$1.nlen+i$1.ndist){e$1.msg=`invalid bit length repeat`,i$1.mode=Oz;break}for(;p$1--;)i$1.lens[i$1.have++]=C$1}}if(i$1.mode===Oz)break;if(i$1.lens[256]===0){e$1.msg=`invalid code -- missing end-of-block`,i$1.mode=Oz;break}if(i$1.lenbits=9,A$1={bits:i$1.lenbits},v$1=dz(1,i$1.lens,0,i$1.nlen,i$1.lencode,0,i$1.work,A$1),i$1.lenbits=A$1.bits,v$1){e$1.msg=`invalid literal/lengths set`,i$1.mode=Oz;break}if(i$1.distbits=6,i$1.distcode=i$1.distdyn,A$1={bits:i$1.distbits},v$1=dz(2,i$1.lens,i$1.nlen,i$1.ndist,i$1.distcode,0,i$1.work,A$1),i$1.distbits=A$1.bits,v$1){e$1.msg=`invalid distances set`,i$1.mode=Oz;break}if(i$1.mode=Az,t$1===hz)break e;case Az:i$1.mode=bz;case bz:if(a$1>=6&&c$1>=258){e$1.next_out=s$1,e$1.avail_out=c$1,e$1.next_in=o$1,e$1.avail_in=a$1,i$1.hold=d$1,i$1.bits=l$1,nz(e$1,h$1),s$1=e$1.next_out,r$1=e$1.output,c$1=e$1.avail_out,o$1=e$1.next_in,n$1=e$1.input,a$1=e$1.avail_in,d$1=i$1.hold,l$1=i$1.bits,i$1.mode===vz&&(i$1.back=-1);break}for(i$1.back=0;y$1=i$1.lencode[d$1&(1<<i$1.lenbits)-1],m$1=y$1>>>24,f$1=y$1>>>16&255,S$1=65535&y$1,!(m$1<=l$1);){if(a$1===0)break e;a$1--,d$1+=n$1[o$1++]<<l$1,l$1+=8}if(f$1&&!(240&f$1)){for(g$1=m$1,T$1=f$1,R$1=S$1;y$1=i$1.lencode[R$1+((d$1&(1<<g$1+T$1)-1)>>g$1)],m$1=y$1>>>24,f$1=y$1>>>16&255,S$1=65535&y$1,!(g$1+m$1<=l$1);){if(a$1===0)break e;a$1--,d$1+=n$1[o$1++]<<l$1,l$1+=8}d$1>>>=g$1,l$1-=g$1,i$1.back+=g$1}if(d$1>>>=m$1,l$1-=m$1,i$1.back+=m$1,i$1.length=S$1,f$1===0){i$1.mode=16205;break}if(32&f$1){i$1.back=-1,i$1.mode=vz;break}if(64&f$1){e$1.msg=`invalid literal/length code`,i$1.mode=Oz;break}i$1.extra=15&f$1,i$1.mode=16201;case 16201:if(i$1.extra){for(b$1=i$1.extra;l$1<b$1;){if(a$1===0)break e;a$1--,d$1+=n$1[o$1++]<<l$1,l$1+=8}i$1.length+=d$1&(1<<i$1.extra)-1,d$1>>>=i$1.extra,l$1-=i$1.extra,i$1.back+=i$1.extra}i$1.was=i$1.length,i$1.mode=16202;case 16202:for(;y$1=i$1.distcode[d$1&(1<<i$1.distbits)-1],m$1=y$1>>>24,f$1=y$1>>>16&255,S$1=65535&y$1,!(m$1<=l$1);){if(a$1===0)break e;a$1--,d$1+=n$1[o$1++]<<l$1,l$1+=8}if(!(240&f$1)){for(g$1=m$1,T$1=f$1,R$1=S$1;y$1=i$1.distcode[R$1+((d$1&(1<<g$1+T$1)-1)>>g$1)],m$1=y$1>>>24,f$1=y$1>>>16&255,S$1=65535&y$1,!(g$1+m$1<=l$1);){if(a$1===0)break e;a$1--,d$1+=n$1[o$1++]<<l$1,l$1+=8}d$1>>>=g$1,l$1-=g$1,i$1.back+=g$1}if(d$1>>>=m$1,l$1-=m$1,i$1.back+=m$1,64&f$1){e$1.msg=`invalid distance code`,i$1.mode=Oz;break}i$1.offset=S$1,i$1.extra=15&f$1,i$1.mode=16203;case 16203:if(i$1.extra){for(b$1=i$1.extra;l$1<b$1;){if(a$1===0)break e;a$1--,d$1+=n$1[o$1++]<<l$1,l$1+=8}i$1.offset+=d$1&(1<<i$1.extra)-1,d$1>>>=i$1.extra,l$1-=i$1.extra,i$1.back+=i$1.extra}if(i$1.offset>i$1.dmax){e$1.msg=`invalid distance too far back`,i$1.mode=Oz;break}i$1.mode=16204;case 16204:if(c$1===0)break e;if(p$1=h$1-c$1,i$1.offset>p$1){if(p$1=i$1.offset-p$1,p$1>i$1.whave&&i$1.sane){e$1.msg=`invalid distance too far back`,i$1.mode=Oz;break}p$1>i$1.wnext?(p$1-=i$1.wnext,_$1=i$1.wsize-p$1):_$1=i$1.wnext-p$1,p$1>i$1.length&&(p$1=i$1.length),E$1=i$1.window}else E$1=r$1,_$1=s$1-i$1.offset,p$1=i$1.length;p$1>c$1&&(p$1=c$1),c$1-=p$1,i$1.length-=p$1;do r$1[s$1++]=E$1[_$1++];while(--p$1);i$1.length===0&&(i$1.mode=bz);break;case 16205:if(c$1===0)break e;r$1[s$1++]=i$1.length,c$1--,i$1.mode=bz;break;case wz:if(i$1.wrap){for(;l$1<32;){if(a$1===0)break e;a$1--,d$1|=n$1[o$1++]<<l$1,l$1+=8}if(h$1-=c$1,e$1.total_out+=h$1,i$1.total+=h$1,4&i$1.wrap&&h$1&&(e$1.adler=i$1.check=BH(i$1)?NK(i$1.check,r$1,h$1,s$1-h$1):wK(i$1.check,r$1,h$1,s$1-h$1)),h$1=c$1,4&i$1.wrap&&(BH(i$1)?d$1:Nz(d$1))!==i$1.check){e$1.msg=`incorrect data check`,i$1.mode=Oz;break}d$1=0,l$1=0}i$1.mode=16207;case 16207:if(i$1.wrap&&BH(i$1)){for(;l$1<32;){if(a$1===0)break e;a$1--,d$1+=n$1[o$1++]<<l$1,l$1+=8}if(4&i$1.wrap&&d$1!==(4294967295&i$1.total)){e$1.msg=`incorrect length check`,i$1.mode=Oz;break}d$1=0,l$1=0}i$1.mode=16208;case 16208:v$1=_z;break e;case Oz:v$1=fz;break e;case 16210:return Sz;default:return mz}return e$1.next_out=s$1,e$1.avail_out=c$1,e$1.next_in=o$1,e$1.avail_in=a$1,i$1.hold=d$1,i$1.bits=l$1,(i$1.wsize||h$1!==e$1.avail_out&&i$1.mode<Oz&&(i$1.mode<wz||t$1!==lz))&&jz(e$1,e$1.output,e$1.next_out,h$1-e$1.avail_out),u$1-=e$1.avail_in,h$1-=e$1.avail_out,e$1.total_in+=u$1,e$1.total_out+=h$1,i$1.total+=h$1,4&i$1.wrap&&h$1&&(e$1.adler=i$1.check=BH(i$1)?NK(i$1.check,r$1,h$1,e$1.next_out-h$1):wK(i$1.check,r$1,h$1,e$1.next_out-h$1)),e$1.data_type=i$1.bits+(i$1.last?64:0)+(i$1.mode===vz?128:0)+(i$1.mode===Az||i$1.mode===Iz?256:0),(u$1===0&&h$1===0||t$1===lz)&&v$1===pz&&(v$1=gz),v$1},inflateEnd:e$1=>{if(Pz(e$1))return mz;let t$1=e$1.state;return t$1.window&&=null,e$1.state=null,pz},inflateGetHeader:(e$1,t$1)=>{if(Pz(e$1))return mz;let i$1=e$1.state;return 2&i$1.wrap?(i$1.head=t$1,t$1.done=!1,pz):mz},inflateSetDictionary:(e$1,t$1)=>{let i$1=t$1.length,n$1,r$1,o$1;return Pz(e$1)?mz:(n$1=e$1.state,n$1.wrap!==0&&n$1.mode!==Cz?mz:n$1.mode===Cz&&(r$1=1,r$1=wK(r$1,t$1,i$1,0),r$1!==n$1.check)?fz:(o$1=jz(e$1,t$1,i$1,i$1),o$1?(n$1.mode=16210,Sz):(n$1.havedict=1,pz)))},inflateInfo:`pako inflate (from Nodeca project)`},Hz=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=``,this.comment=``,this.hcrc=0,this.done=!1};let Kz=Object.prototype.toString,{Z_NO_FLUSH:Yz,Z_FINISH:zz,Z_OK:qz,Z_STREAM_END:Xz,Z_NEED_DICT:Jz,Z_STREAM_ERROR:Qz,Z_DATA_ERROR:Zz,Z_MEM_ERROR:$z}=PK;function eq(e$1){this.options=xY.assign({chunkSize:65536,windowBits:15,to:``},e$1||{});let t$1=this.options;t$1.raw&&t$1.windowBits>=0&&t$1.windowBits<16&&(t$1.windowBits=-t$1.windowBits,t$1.windowBits===0&&(t$1.windowBits=-15)),!(t$1.windowBits>=0&&t$1.windowBits<16)||e$1&&e$1.windowBits||(t$1.windowBits+=32),t$1.windowBits>15&&t$1.windowBits<48&&!(15&t$1.windowBits)&&(t$1.windowBits|=15),this.err=0,this.msg=``,this.ended=!1,this.chunks=[],this.strm=new GY,this.strm.avail_out=0;let i$1=Wz.inflateInit2(this.strm,t$1.windowBits);if(i$1!==qz||(this.header=new Hz,Wz.inflateGetHeader(this.strm,this.header),t$1.dictionary&&(typeof t$1.dictionary==`string`?t$1.dictionary=jY.string2buf(t$1.dictionary):Kz.call(t$1.dictionary)===`[object ArrayBuffer]`&&(t$1.dictionary=new Uint8Array(t$1.dictionary)),t$1.raw&&(i$1=Wz.inflateSetDictionary(this.strm,t$1.dictionary),i$1!==qz))))throw Error(DK[i$1])}function tq(e$1,t$1){let i$1=new eq(t$1);if(i$1.push(e$1),i$1.err)throw i$1.msg||DK[i$1.err];return i$1.result}eq.prototype.push=function(e$1,t$1){let i$1=this.strm,n$1=this.options.chunkSize,r$1=this.options.dictionary,o$1,s$1,a$1;if(this.ended)return!1;for(s$1=t$1===~~t$1?t$1:!0===t$1?zz:Yz,Kz.call(e$1)===`[object ArrayBuffer]`?i$1.input=new Uint8Array(e$1):i$1.input=e$1,i$1.next_in=0,i$1.avail_in=i$1.input.length;;){for(i$1.avail_out===0&&(i$1.output=new Uint8Array(n$1),i$1.next_out=0,i$1.avail_out=n$1),o$1=Wz.inflate(i$1,s$1),o$1===Jz&&r$1&&(o$1=Wz.inflateSetDictionary(i$1,r$1),o$1===qz?o$1=Wz.inflate(i$1,s$1):o$1===Zz&&(o$1=Jz));i$1.avail_in>0&&o$1===Xz&&i$1.state.wrap>0&&e$1[i$1.next_in]!==0;)Wz.inflateReset(i$1),o$1=Wz.inflate(i$1,s$1);switch(o$1){case Qz:case Zz:case Jz:case $z:return this.onEnd(o$1),this.ended=!0,!1}if(a$1=i$1.avail_out,i$1.next_out&&(i$1.avail_out===0||o$1===Xz))if(this.options.to===`string`){let e$2=jY.utf8border(i$1.output,i$1.next_out),t$2=i$1.next_out-e$2,r$2=jY.buf2string(i$1.output,e$2);i$1.next_out=t$2,i$1.avail_out=n$1-t$2,t$2&&i$1.output.set(i$1.output.subarray(e$2,e$2+t$2),0),this.onData(r$2)}else this.onData(i$1.output.length===i$1.next_out?i$1.output:i$1.output.subarray(0,i$1.next_out));if(o$1!==qz||a$1!==0){if(o$1===Xz)return o$1=Wz.inflateEnd(this.strm),this.onEnd(o$1),this.ended=!0,!0;if(i$1.avail_in===0)break}}return!0},eq.prototype.onData=function(e$1){this.chunks.push(e$1)},eq.prototype.onEnd=function(e$1){e$1===qz&&(this.options.to===`string`?this.result=this.chunks.join(``):this.result=xY.flattenChunks(this.chunks)),this.chunks=[],this.err=e$1,this.msg=this.strm.msg};var iq={Inflate:eq,inflate:tq,inflateRaw:function(e$1,t$1){return(t$1||={}).raw=!0,tq(e$1,t$1)},ungzip:tq,constants:PK};let{Deflate:nq,deflate:rq,deflateRaw:oq,gzip:sq}=tz,{Inflate:aq,inflate:cq,inflateRaw:dq,ungzip:lq}=iq;var uq=rq,hq=oq,pq=cq,_q=dq,Eq=function(e$1){return e$1[e$1.ONE_BYTE=0]=`ONE_BYTE`,e$1[e$1.TWO_BYTE=1]=`TWO_BYTE`,e$1}(Eq||{});class mq{constructor(){iA(this,`_sequence`,0),iA(this,`_startTime`,Date.now()),iA(this,`isUseOneByte`,!0)}get startTime(){let e$1=Date.now()-this._startTime;return e$1<2**16?e$1:(this._startTime+=2**16,this.startTime)}get sequence(){return this._sequence<2**32?this._sequence++:(this._sequence-=2**32,this.sequence)}serialize(e$1){let t$1={commonPacketHeader:{length:0,reserved:0,extension:0,sequence:this.sequence},commonStreamHeader:this.startTime,extension:void 0,payload:e$1};if(e$1.byteLength>128){let i$2=new Uint8Array(4);i$2.set([1,0,0,0]);let n$2={id:0,length:4,data:i$2.buffer},r$2={profile:this.isUseOneByte?0:1,length:this.isUseOneByte?5:6,datas:[n$2]};t$1.commonPacketHeader.extension=1,t$1.extension=r$2,t$1.payload=this.compress(e$1),t$1.commonPacketHeader.length=8+(t$1.extension.length+2)+t$1.payload.byteLength}else t$1.commonPacketHeader.length=8+t$1.payload.byteLength;CD(`SHOW_DATASTREAM2_LOG`)&&iP.debug(`send data header: ${JSON.stringify(t$1.commonPacketHeader)}`);let i$1=new ArrayBuffer(t$1.commonPacketHeader.length),n$1=new Uint8Array(i$1),r$1=new DataView(i$1),o$1=0;if(r$1.setUint16(o$1,t$1.commonPacketHeader.extension<<15|t$1.commonPacketHeader.reserved<<14|t$1.commonPacketHeader.length,!0),o$1+=2,r$1.setUint32(o$1,t$1.commonPacketHeader.sequence,!0),o$1+=4,r$1.setUint16(o$1,t$1.commonStreamHeader,!0),o$1+=2,t$1.extension){let e$2=this.serializeExtension(t$1.extension);n$1.set(new Uint8Array(e$2),o$1),o$1+=e$2.byteLength}if(n$1.set(new Uint8Array(t$1.payload),o$1),o$1+=t$1.payload.byteLength,o$1!==t$1.commonPacketHeader.length)throw Error(`serialize error!`);return i$1}deserialize(e$1){if(e$1.byteLength<4)return new ArrayBuffer(0);let t$1=new DataView(e$1),i$1=0,n$1=t$1.getUint16(i$1,!0);i$1+=2;let r$1={length:16383&n$1,reserved:(16384&n$1)>>14,extension:(32768&n$1)>>15,sequence:t$1.getUint16(i$1+2,!0)<<16|t$1.getUint16(i$1,!0)},o$1,s$1;if(i$1+=4,CD(`SHOW_DATASTREAM2_LOG`)&&iP.debug(`receive data header: ${JSON.stringify(r$1)}`),t$1.getUint16(i$1,!0),i$1+=2,r$1.extension){s$1=this.deserializeExtension(e$1.slice(i$1)),i$1+=2+s$1.length,o$1=e$1.slice(i$1);let t$2=!1;if(s$1.datas.length>0){let e$2=s$1.datas.find((e$3=>e$3.id===0));e$2&&(t$2=(1&new DataView(e$2.data).getUint32(0,!0))==1)}o$1=t$2?this.decompress(o$1):o$1}else o$1=e$1.slice(8);return o$1}serializeExtension(e$1){let{profile:t$1,length:i$1,datas:n$1}=e$1,r$1=new ArrayBuffer(i$1+2),o$1=new Uint8Array(r$1),s$1=new DataView(r$1),a$1=0;if(s$1.setUint8(a$1++,t$1),s$1.setUint8(a$1++,i$1),n$1.forEach((e$2=>{t$1?(s$1.setUint8(a$1++,e$2.id),s$1.setUint8(a$1++,e$2.length),o$1.set(new Uint8Array(e$2.data),a$1),a$1+=e$2.data.byteLength):(s$1.setUint8(a$1++,e$2.id|e$2.length<<4),o$1.set(new Uint8Array(e$2.data),a$1),a$1+=e$2.data.byteLength)})),a$1!==i$1+2)throw Error(`serialize extension error, is ${a$1}!==${i$1+2}`);return r$1}deserializeExtension(e$1){let t$1=new DataView(e$1),i$1=0,n$1=t$1.getUint8(i$1);i$1++;let r$1=t$1.getUint8(i$1);i$1++;let o$1=n$1===Eq.TWO_BYTE,s$1=[],a$1=new DataView(e$1,2),c$1=0;for(;c$1<r$1;){let e$2=0,t$2=0,i$2=new ArrayBuffer(0);o$1?(e$2=a$1.getUint8(c$1),c$1++,t$2=a$1.getUint8(c$1),c$1++):(e$2=15&a$1.getUint8(c$1),t$2=a$1.getUint8(c$1)>>4,c$1++),t$2>0&&(i$2=a$1.buffer.slice(c$1+2,c$1+2+t$2),c$1+=i$2.byteLength),s$1.push({id:e$2,length:t$2,data:i$2})}if(c$1!==r$1)throw Error(`parse error`);return{profile:n$1,length:r$1,datas:s$1}}decompress(e$1){return pq(new Uint8Array(e$1))}compress(e$1){return uq(new Uint8Array(e$1))}}let fq={name:`DataStream`,create:(e$1,t$1)=>{let i$1=t$1?new iU(e$1):new nU(e$1);return i$1.useDataStream(new mq),i$1}};class Sq extends NO{constructor(e$1,t$1,i$1){super(),iA(this,`ws`,void 0),iA(this,`requestId`,1),iA(this,`heartBeatTimer`,void 0),iA(this,`joinInfo`,void 0),iA(this,`clientId`,void 0),iA(this,`onOpen`,(()=>{this.emit(`open`),this.startHeartBeatCheck()})),iA(this,`onClose`,(e$2=>{this.emit(`close`),this.dispose()})),iA(this,`onMessage`,(e$2=>{let t$2=JSON.parse(e$2.data);if(!t$2||t$2.command!==`serverResponse`||!t$2.requestId)return t$2&&t$2.command===`serverStatus`&&t$2.serverStatus&&t$2.serverStatus.command?(this.emit(`status`,t$2.serverStatus),void this.emit(t$2.serverStatus.command,t$2.serverStatus)):void 0;this.emit(`req_${t$2.requestId}`,t$2)})),this.joinInfo=e$1,this.clientId=t$1,this.ws=new $x(`cross-channel-${this.clientId}`,i$1),this.ws.on(WV.RECONNECTING,(()=>{this.ws.reconnectMode=`retry`,this.emit(`reconnecting`)})),this.ws.on(WV.CONNECTED,this.onOpen),this.ws.on(WV.ON_MESSAGE,this.onMessage),this.ws.on(WV.CLOSED,this.onClose)}isConnect(){return this.ws.state===`connected`}sendMessage(e$1){let t$1=this.requestId++;return e$1.requestId=t$1,e$1.seq=t$1,this.ws.sendMessage(e$1),t$1}waitStatus(e$1){return new rp(((t$1,i$1)=>{let n$1=window.setTimeout((()=>{i$1(new uP(hO.TIMEOUT,`wait status timeout, status: ${e$1}`))}),5e3);this.once(e$1,(r$1=>{window.clearTimeout(n$1),r$1.state&&r$1.state!==0?i$1(new uP(hO.CROSS_CHANNEL_WAIT_STATUS_ERROR,`wait status error, status: ${e$1}`)):t$1(void 0)})),this.once(`dispose`,(()=>{window.clearTimeout(n$1),i$1(new uP(hO.WS_ABORT))}))}))}async request(e$1){if(this.ws.state===`closed`)throw new uP(hO.WS_DISCONNECT);this.ws.state!==`connected`&&await(()=>new rp(((e$2,t$2)=>{this.ws.once(WV.CLOSED,(()=>t$2(new uP(hO.WS_ABORT)))),this.ws.once(WV.CONNECTED,e$2)})))();let i$1=this.sendMessage(e$1),r$1=await new rp(((e$2,t$2)=>{let n$1=()=>{t$2(new uP(hO.WS_ABORT))};this.ws.once(WV.RECONNECTING,n$1),this.ws.once(WV.CLOSED,n$1),this.once(`req_${i$1}`,e$2),fN(3e3).then((()=>{this.removeAllListeners(`req_${i$1}`),this.ws.off(WV.RECONNECTING,n$1),this.ws.off(WV.CLOSED,n$1),t$2(new uP(hO.TIMEOUT,`cross channel ws request timeout`))}))}));if(!r$1||r$1.code!==200)throw new uP(hO.CROSS_CHANNEL_SERVER_ERROR_RESPONSE,`response: ${JSON.stringify(r$1)}`);return r$1}async connect(e$1){this.ws.removeAllListeners(WV.REQUEST_NEW_URLS),this.ws.on(WV.REQUEST_NEW_URLS,(t$1=>{t$1(e$1)})),await this.ws.init(e$1)}dispose(){this.clearHeartBeatCheck(),this.emit(`dispose`),this.removeAllListeners(),this.ws.close()}sendPing(e$1){let t$1=this.requestId++;return e$1.requestId=t$1,this.ws.sendMessage(e$1),t$1}startHeartBeatCheck(){this.heartBeatTimer&&window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=window.setInterval((()=>{this.sendPing({command:`ping`,appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sid:this.joinInfo.sid,ts:+new Date,requestId:0})}),3e3)}clearHeartBeatCheck(){window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=void 0}}class gq extends NO{set state(e$1){e$1!==this._state&&(e$1!==nx.RELAY_STATE_FAILURE&&(this.errorCode=rx.RELAY_OK),this.emit(`state`,e$1,this.errorCode),this._state=e$1)}get state(){return this._state}constructor(e$1,t$1,i$1,n$1,r$1){super(),iA(this,`joinInfo`,void 0),iA(this,`sid`,void 0),iA(this,`clientId`,void 0),iA(this,`cancelToken`,Tw.CancelToken.source()),iA(this,`workerToken`,void 0),iA(this,`requestId`,0),iA(this,`signal`,void 0),iA(this,`prevChannelMediaConfig`,void 0),iA(this,`httpRetryConfig`,void 0),iA(this,`_resolution`,void 0),iA(this,`_state`,nx.RELAY_STATE_IDLE),iA(this,`errorCode`,rx.RELAY_OK),iA(this,`onStatus`,(e$2=>{iP.debug(`[${this.clientId}] ChannelMediaStatus: ${JSON.stringify(e$2)}`),e$2&&e$2.command&&(e$2.command===`onAudioPacketReceived`&&this.emit(`event`,ix.PACKET_RECEIVED_AUDIO_FROM_SRC),e$2.command===`onVideoPacketReceived`&&this.emit(`event`,ix.PACKET_RECEIVED_VIDEO_FROM_SRC),e$2.command===`onSrcTokenPrivilegeDidExpire`&&(this.errorCode=rx.SRC_TOKEN_EXPIRED,this.state=nx.RELAY_STATE_FAILURE),e$2.command===`onDestTokenPrivilegeDidExpire`&&(this.errorCode=rx.DEST_TOKEN_EXPIRED,this.state=nx.RELAY_STATE_FAILURE))})),iA(this,`onReconnect`,(async()=>{iP.debug(`[${this.clientId}] ChannelMediaSocket disconnect, reconnecting`),this.emit(`event`,ix.NETWORK_DISCONNECTED),this.state=nx.RELAY_STATE_IDLE,this.prevChannelMediaConfig&&this.sendStartRelayMessage(this.prevChannelMediaConfig).catch((e$2=>{this.state!==nx.RELAY_STATE_IDLE&&(iP.error(`auto restart channel media relay failed`,e$2.toString()),this.errorCode=rx.SERVER_CONNECTION_LOST,this.state=nx.RELAY_STATE_FAILURE)}))})),this.joinInfo=e$1,this.clientId=t$1,this.sid=gN(),this.signal=new Sq(this.joinInfo,this.clientId,i$1),this.httpRetryConfig=n$1,this._resolution=r$1}async startChannelMediaRelay(e$1){if(this.state!==nx.RELAY_STATE_IDLE)throw new uP(hO.INVALID_OPERATION);this.state=nx.RELAY_STATE_CONNECTING,await this.connect(),iP.debug(`[${this.clientId}] startChannelMediaRelay: connect success`);try{await this.sendStartRelayMessage(e$1)}catch(e$2){throw e$2.data&&e$2.data.serverResponse&&e$2.data.serverResponse.command===`SetSourceChannel`?new uP(hO.CROSS_CHANNEL_FAILED_JOIN_SRC):e$2.data&&e$2.data.serverResponse&&e$2.serverResponse.command===`SetDestChannelStatus`?new uP(hO.CROSS_CHANNEL_FAILED_JOIN_DEST):e$2.data&&e$2.data.serverResponse&&e$2.serverResponse.command===`StartPacketTransfer`?new uP(hO.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST):e$2}this.prevChannelMediaConfig=e$1}async updateChannelMediaRelay(e$1){if(this.state!==nx.RELAY_STATE_RUNNING)throw new uP(hO.INVALID_OPERATION);await this.sendUpdateMessage(e$1),this.prevChannelMediaConfig=e$1}async setVideoProfile(e$1){if(this._resolution=e$1,this.state!==nx.RELAY_STATE_RUNNING)throw new uP(hO.INVALID_OPERATION);let t$1=this.genMessage(tx.SetVideoProfile);await this.signal.request(t$1),iP.debug(`[${this.clientId}] startChannelMediaRelay: setVideoProfile success`)}async stopChannelMediaRelay(){await this.sendStopRelayMessage(),iP.debug(`[${this.clientId}] stopChannelMediaRelay: send stop message success`),this.state=nx.RELAY_STATE_IDLE,this.dispose()}dispose(){iP.debug(`[${this.clientId}] disposeChannelMediaRelay`),this.cancelToken.cancel(),this.cancelToken=Tw.CancelToken.source(),this.state=nx.RELAY_STATE_IDLE,this.emit(`dispose`),this.signal.dispose(),this.prevChannelMediaConfig=void 0}async connect(){let e$1=await qB(this.joinInfo,this.cancelToken.token,this.httpRetryConfig);this.workerToken=e$1.workerToken,await this.signal.connect(e$1.addressList),this.emit(`event`,ix.NETWORK_CONNECTED),this.signal.on(`status`,this.onStatus),this.signal.on(`reconnecting`,this.onReconnect)}async sendStartRelayMessage(e$1){let t$1=this.genMessage(tx.SetSdkProfile,e$1);await this.signal.request(t$1),iP.debug(`[${this.clientId}] startChannelMediaRelay: SetSdkProfile success`);let i$1=this.genMessage(tx.SetSourceChannel,e$1);await this.signal.request(i$1),await this.signal.waitStatus(`SetSourceChannelStatus`),this.emit(`event`,ix.PACKET_JOINED_SRC_CHANNEL),iP.debug(`[${this.clientId}] startChannelMediaRelay: SetSourceChannel success`);let n$1=this.genMessage(tx.SetSourceUserId,e$1);await this.signal.request(n$1),iP.debug(`[${this.clientId}] startChannelMediaRelay: SetSourceUserId success`);let r$1=this.genMessage(tx.SetDestChannel,e$1);await this.signal.request(r$1),await this.signal.waitStatus(`SetDestChannelStatus`),this.emit(`event`,ix.PACKET_JOINED_DEST_CHANNEL),iP.debug(`[${this.clientId}] startChannelMediaRelay: SetDestChannel success`);let o$1=this.genMessage(tx.StartPacketTransfer,e$1);await this.signal.request(o$1),this.emit(`event`,ix.PACKET_SENT_TO_DEST_CHANNEL),this.state=nx.RELAY_STATE_RUNNING,iP.debug(`[${this.clientId}] startChannelMediaRelay: StartPacketTransfer success`),this.setVideoProfile(this._resolution)}async sendUpdateMessage(e$1){let t$1=this.genMessage(tx.UpdateDestChannel,e$1);await this.signal.request(t$1),this.emit(`event`,ix.PACKET_UPDATE_DEST_CHANNEL),iP.debug(`[${this.clientId}] sendUpdateMessage: UpdateDestChannel success`)}async sendStopRelayMessage(){let e$1=this.genMessage(tx.StopPacketTransfer);await this.signal.request(e$1),iP.debug(`[${this.clientId}] sendStopRelayMessage: StopPacketTransfer success`)}genMessage(e$1,t$1){let i$1=[],n$1=[],r$1=[];this.requestId+=1;let o$1={appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sdkVersion:hD,sid:this.sid,ts:Date.now(),requestId:this.requestId,seq:this.requestId,allocate:!0,clientRequest:{}};o$1.sdkVersion===`4.24.2`&&(o$1.sdkVersion=`0.0.1`);let s$1=null,a$1=null;switch(e$1){case tx.SetSdkProfile:return o$1.clientRequest={command:`SetSdkProfile`,type:`multi_channel`},o$1;case tx.SetSourceChannel:if(a$1=t$1&&t$1.getSrcChannelMediaInfo(),!a$1)throw new uP(hO.UNEXPECTED_ERROR,`can not find source config`);return o$1.clientRequest={command:`SetSourceChannel`,uid:`0`,channelName:a$1.channelName,token:a$1.token||this.joinInfo.appId},o$1;case tx.SetSourceUserId:if(a$1=t$1&&t$1.getSrcChannelMediaInfo(),!a$1)throw new uP(hO.UNEXPECTED_ERROR,`can not find source config`);return o$1.clientRequest={command:`SetSourceUserId`,uid:a$1.uid+``},o$1;case tx.SetDestChannel:if(s$1=t$1&&t$1.getDestChannelMediaInfo(),!s$1)throw new uP(hO.UNEXPECTED_ERROR,`can not find dest config`);return s$1.forEach((e$2=>{i$1.push(e$2.channelName),n$1.push(e$2.uid+``),r$1.push(e$2.token||this.joinInfo.appId)})),o$1.clientRequest={command:`SetDestChannel`,channelName:i$1,uid:n$1,token:r$1},o$1;case tx.StartPacketTransfer:return o$1.clientRequest={command:`StartPacketTransfer`},o$1;case tx.Reconnect:return o$1.clientRequest={command:`Reconnect`},o$1;case tx.StopPacketTransfer:return o$1.clientRequest={command:`StopPacketTransfer`},o$1;case tx.UpdateDestChannel:if(s$1=t$1&&t$1.getDestChannelMediaInfo(),!s$1)throw new uP(hO.UNEXPECTED_ERROR,`can not find dest config`);return s$1.forEach((e$2=>{i$1.push(e$2.channelName),n$1.push(e$2.uid+``),r$1.push(e$2.token||this.joinInfo.appId)})),o$1.clientRequest={command:`UpdateDestChannel`,channelName:i$1,uid:n$1,token:r$1},o$1;case tx.SetVideoProfile:o$1.clientRequest={command:`SetVideoProfile`,width:this._resolution.width,height:this._resolution.height}}return o$1}}let Tq={name:`ChannelMediaRelay`,create:function(e$1){return new gq(e$1.joinInfo,e$1.clientId,e$1.websocketRetryConfig||kN,e$1.httpRetryConfig||kN,e$1.resolution)}};function Rq(e$1,t$1){var i$1=Object.keys(e$1);if(Object.getOwnPropertySymbols){var n$1=Object.getOwnPropertySymbols(e$1);t$1&&(n$1=n$1.filter((function(t$2){return Object.getOwnPropertyDescriptor(e$1,t$2).enumerable}))),i$1.push.apply(i$1,n$1)}return i$1}function Cq(e$1){for(var t$1=1;t$1<arguments.length;t$1++){var i$1=arguments[t$1]==null?{}:arguments[t$1];t$1%2?Rq(Object(i$1),!0).forEach((function(t$2){iA(e$1,t$2,i$1[t$2])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e$1,Object.getOwnPropertyDescriptors(i$1)):Rq(Object(i$1)).forEach((function(t$2){Object.defineProperty(e$1,t$2,Object.getOwnPropertyDescriptor(i$1,t$2))}))}return e$1}class vq extends NO{constructor(e$1,t$1,i$1,n$1){super(),iA(this,`spec`,void 0),iA(this,`token`,void 0),iA(this,`websocket`,void 0),iA(this,`pingpongTimer`,void 0),iA(this,`reconnectMode`,`retry`),iA(this,`serviceMode`,void 0),iA(this,`reqId`,0),iA(this,`commandReqId`,0),iA(this,`handleWebSocketOpen`,(()=>{this.reconnectMode=`retry`,this.startPingPong()})),iA(this,`handleWebSocketMessage`,(e$2=>{if(!e$2.data)return;let t$2=JSON.parse(e$2.data);t$2.requestId?this.emit(`@${t$2.requestId}-${t$2.sid}`,t$2):(lP.workerEvent(this.spec.sid,{actionType:`status`,serverCode:t$2.code,workerType:this.serviceMode===YV.TRANSCODE?1:2}),this.emit(QV.PUBLISH_STREAM_STATUS,t$2))})),this.spec=t$1,this.token=e$1,this.serviceMode=n$1,this.websocket=new $x(`live-streaming`,i$1),this.websocket.on(WV.CONNECTED,this.handleWebSocketOpen),this.websocket.on(WV.ON_MESSAGE,this.handleWebSocketMessage),this.websocket.on(WV.REQUEST_NEW_URLS,((e$2,t$2)=>{zO(this,QV.REQUEST_NEW_ADDRESS).then(e$2).catch(t$2)})),this.websocket.on(WV.RECONNECTING,(()=>{this.websocket.reconnectMode=this.reconnectMode}))}init(e$1){return this.websocket.init(e$1)}async request(e$1,t$1,i$1,n$1){this.reqId+=1,e$1===`request`&&(this.commandReqId+=1);let r$1=this.commandReqId,o$1=this.reqId;if(!o$1||!this.websocket)throw new uP(hO.UNEXPECTED_ERROR);let s$1=Cq({command:e$1,sdkVersion:hD===`4.24.2`?`0.0.1`:hD,seq:o$1,requestId:o$1,allocate:i$1,cname:this.spec.cname,appId:this.spec.appId,sid:this.spec.sid,uid:this.spec.uid.toString(),ts:Math.floor(Date.now()/1e3)},t$1);if(this.websocket.state===`closed`)throw new uP(hO.WS_DISCONNECT);let a$1=()=>new rp(((e$2,t$2)=>{this.websocket.once(WV.CLOSED,(()=>t$2(new uP(hO.WS_ABORT)))),this.websocket.once(WV.CONNECTED,e$2)}));this.websocket.state!==`connected`&&await a$1(),s$1.clientRequest&&(s$1.clientRequest.workerToken=this.token);let c$1=new rp(((e$2,t$2)=>{let i$2=()=>{t$2(new uP(hO.WS_ABORT))};this.websocket.once(WV.RECONNECTING,i$2),this.websocket.once(WV.CLOSED,i$2),this.once(`@${o$1}-${this.spec.sid}`,(t$3=>{e$2(t$3)}))}));n$1&&lP.workerEvent(this.spec.sid,Cq(Cq({},n$1),{},{requestId:r$1,actionType:`request`,payload:JSON.stringify(t$1.clientRequest),serverCode:0,code:0}));let d$1=Date.now();this.websocket.sendMessage(s$1);let l$1=null;try{l$1=await c$1}catch(n$2){if(this.websocket.state===`closed`)throw n$2;return await a$1(),await this.request(e$1,t$1,i$1)}return n$1&&lP.workerEvent(this.spec.sid,Cq(Cq({},n$1),{},{requestId:r$1,actionType:`response`,payload:JSON.stringify(l$1.serverResponse),serverCode:l$1.code,success:l$1.code===200,responseTime:Date.now()-d$1})),l$1.code!==200&&this.handleResponseError(l$1),l$1}tryNextAddress(){this.reconnectMode=`tryNext`,this.websocket.reconnect(`tryNext`)}close(){let e$1=hD===`4.24.2`?`0.0.1`:hD;this.reqId+=1,this.websocket.state===`connected`?(this.websocket.sendMessage({command:`request`,appId:this.spec.appId,cname:this.spec.cname,uid:this.spec.uid.toString(),sdkVersion:e$1,sid:this.spec.sid,seq:this.reqId,ts:Math.floor(Date.now()/1e3),requestId:this.reqId,clientRequest:{command:`DestroyWorker`}}),this.websocket.close(!1,!0)):this.websocket.close(!1),this.pingpongTimer&&=(window.clearInterval(this.pingpongTimer),void 0)}handleResponseError(e$1){switch(e$1.code){case $V.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM:iP.warning(`live stream response already exists stream`);return;case $V.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR:case $V.LIVE_STREAM_RESPONSE_BAD_STREAM:case $V.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR:return new uP(hO.LIVE_STREAMING_INVALID_ARGUMENT,``,{code:e$1.code}).throw();case $V.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST:if(e$1.serverResponse.command===`UnpublishStream`)return;throw new uP(hO.LIVE_STREAMING_INTERNAL_SERVER_ERROR,`live stream response wm worker not exist`,{retry:!0});case $V.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED:return new uP(hO.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED,``,{code:e$1.code}).throw();case $V.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{let t$1=new uP(hO.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE);return this.emit(QV.WARNING,t$1,e$1.serverResponse.url)}case $V.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN:{let t$1=new uP(hO.LIVE_STREAMING_WARN_FREQUENT_REQUEST);return this.emit(QV.WARNING,t$1,e$1.serverResponse.url)}case $V.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH:throw new uP(hO.LIVE_STREAMING_INTERNAL_SERVER_ERROR,`live stream response wm worker not exist`,{retry:!0});case $V.LIVE_STREAM_RESPONSE_NOT_SUPPORTED:return new uP(hO.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED,``,{code:e$1.code}).throw();case $V.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM:{let t$1=new uP(hO.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT);return this.emit(QV.WARNING,t$1,e$1.serverResponse.url)}case $V.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR:return new uP(hO.LIVE_STREAMING_INTERNAL_SERVER_ERROR,``,{code:e$1.code}).throw();case $V.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT:throw new uP(hO.LIVE_STREAMING_INTERNAL_SERVER_ERROR,`live stream resource limit`,{retry:!0,changeAddress:!0});case $V.LIVE_STREAM_RESPONSE_WORKER_LOST:case $V.LIVE_STREAM_RESPONSE_WORKER_QUIT:if(e$1.serverResponse.command===`UnpublishStream`)return;throw new uP(hO.LIVE_STREAMING_INTERNAL_SERVER_ERROR,`error fail send message`,{retry:!0,changeAddress:!0});case $V.ERROR_FAIL_SEND_MESSAGE:if(e$1.serverResponse.command===`UnpublishStream`)return;if(e$1.serverResponse.command===`UpdateTranscoding`||e$1.serverResponse.command===`ControlStream`)return new uP(hO.LIVE_STREAMING_INTERNAL_SERVER_ERROR,`error fail send message`,{code:e$1.code}).throw();throw new uP(hO.LIVE_STREAMING_INTERNAL_SERVER_ERROR,`error fail send message`,{retry:!0,changeAddress:!0});case $V.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case $V.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case $V.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case $V.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:return new uP(hO.LIVE_STREAMING_CDN_ERROR,``,{code:e$1.code}).throw()}}startPingPong(){this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval((()=>{this.websocket.state===`connected`&&this.request(`ping`,{}).catch(TN)}),6e3)}}function yq(e$1,t$1){var i$1=Object.keys(e$1);if(Object.getOwnPropertySymbols){var n$1=Object.getOwnPropertySymbols(e$1);t$1&&(n$1=n$1.filter((function(t$2){return Object.getOwnPropertyDescriptor(e$1,t$2).enumerable}))),i$1.push.apply(i$1,n$1)}return i$1}function Iq(e$1){for(var t$1=1;t$1<arguments.length;t$1++){var i$1=arguments[t$1]==null?{}:arguments[t$1];t$1%2?yq(Object(i$1),!0).forEach((function(t$2){iA(e$1,t$2,i$1[t$2])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e$1,Object.getOwnPropertyDescriptors(i$1)):yq(Object(i$1)).forEach((function(t$2){Object.defineProperty(e$1,t$2,Object.getOwnPropertyDescriptor(i$1,t$2))}))}return e$1}class Aq extends NO{constructor(e$1){let t$1=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kN,i$1=arguments.length>2&&arguments[2]!==void 0?arguments[2]:kN;super(),iA(this,`onLiveStreamWarning`,void 0),iA(this,`onLiveStreamError`,void 0),iA(this,`spec`,void 0),iA(this,`retryTimeout`,1e4),iA(this,`connection`,void 0),iA(this,`httpRetryConfig`,void 0),iA(this,`wsRetryConfig`,void 0),iA(this,`streamingTasks`,new Map),iA(this,`isStartingStreamingTask`,!1),iA(this,`taskMutex`,new PN(`live-streaming`)),iA(this,`cancelToken`,Tw.CancelToken.source()),iA(this,`transcodingConfig`,void 0),iA(this,`uapResponse`,void 0),iA(this,`lastTaskId`,1),iA(this,`statusError`,new Map),this.spec=e$1,this.httpRetryConfig=i$1,this.wsRetryConfig=t$1}async setTranscodingConfig(e$1){let t$1=Iq(Iq({},JV),e$1);t$1.videoCodecProfile!==66&&t$1.videoCodecProfile!==77&&t$1.videoCodecProfile!==100&&(iP.debug(`[${this.spec.clientId}] set transcoding config, fix video codec profile: ${t$1.videoCodecProfile} -> 100`),t$1.videoCodecProfile=100),t$1.transcodingUsers||=t$1.userConfigs,t$1.transcodingUsers&&=t$1.transcodingUsers.map((e$2=>Iq(Iq(Iq({},zV),e$2),{},{zOrder:e$2.zOrder?e$2.zOrder+1:1}))),function(e$2){TO(e$2.width)||mO(e$2.width,`config.width`,0,1e4),TO(e$2.height)||mO(e$2.height,`config.height`,0,1e4),TO(e$2.videoBitrate)||mO(e$2.videoBitrate,`config.videoBitrate`,1,1e6),TO(e$2.videoFrameRate)||mO(e$2.videoFrameRate,`config.videoFrameRate`),TO(e$2.lowLatency)||_O(e$2.lowLatency,`config.lowLatency`),TO(e$2.audioSampleRate)||EO(e$2.audioSampleRate,`config.audioSampleRate`,[32e3,44100,48e3]),TO(e$2.audioBitrate)||mO(e$2.audioBitrate,`config.audioBitrate`,1,128),TO(e$2.audioChannels)||EO(e$2.audioChannels,`config.audioChannels`,[1,2,3,4,5]),TO(e$2.videoGop)||mO(e$2.videoGop,`config.videoGop`),TO(e$2.videoCodecProfile)||EO(e$2.videoCodecProfile,`config.videoCodecProfile`,[66,77,100]),TO(e$2.userCount)||mO(e$2.userCount,`config.userCount`,0,17),TO(e$2.backgroundColor)||mO(e$2.backgroundColor,`config.backgroundColor`,0,16777215),TO(e$2.userConfigExtraInfo)||SO(e$2.userConfigExtraInfo,`config.userConfigExtraInfo`,0,4096,!1),e$2.transcodingUsers&&!TO(e$2.transcodingUsers)&&(gO(e$2.transcodingUsers,`config.transcodingUsers`),e$2.transcodingUsers.forEach(((e$3,t$2)=>{KV(e$3.uid),TO(e$3.x)||mO(e$3.x,`transcodingUser[${t$2}].x`,0,1e4),TO(e$3.y)||mO(e$3.y,`transcodingUser[${t$2}].y`,0,1e4),TO(e$3.width)||mO(e$3.width,`transcodingUser[${t$2}].width`,0,1e4),TO(e$3.height)||mO(e$3.height,`transcodingUser[${t$2}].height`,0,1e4),TO(e$3.zOrder)||mO(e$3.zOrder-1,`transcodingUser[${t$2}].zOrder`,0,100),TO(e$3.alpha)||mO(e$3.alpha,`transcodingUser[${t$2}].alpha`,0,1,!1)}))),TO(e$2.watermark)||XV(e$2.watermark,`watermark`),TO(e$2.backgroundImage)||XV(e$2.backgroundImage,`backgroundImage`),e$2.images&&!TO(e$2.images)&&(gO(e$2.images,`config.images`),e$2.images.forEach(((e$3,t$2)=>{XV(e$3,`images[${t$2}]`)})))}(t$1);let i$1=[];t$1.images&&i$1.push(...t$1.images.map((e$2=>Iq(Iq(Iq({},qV),e$2),{},{zOrder:255})))),t$1.backgroundImage&&(i$1.push(Iq(Iq(Iq({},qV),t$1.backgroundImage),{},{zOrder:0})),delete t$1.backgroundImage),t$1.watermark&&(i$1.push(Iq(Iq(Iq({},qV),t$1.watermark),{},{zOrder:255})),delete t$1.watermark),t$1.images=i$1,t$1.transcodingUsers&&(t$1.userConfigs=t$1.transcodingUsers.map((e$2=>Iq({},e$2))),t$1.userCount=t$1.transcodingUsers.length,delete t$1.transcodingUsers);let n$1=(t$1.userConfigs||[]).map((e$2=>typeof e$2.uid==`number`?rp.resolve(e$2.uid):WB(e$2.uid,this.spec,this.cancelToken.token,this.httpRetryConfig)));if((await rp.all(n$1)).forEach(((e$2,i$2)=>{t$1.userConfigs&&t$1.userConfigs[i$2]&&(t$1.userConfigs[i$2].uid=e$2)})),this.transcodingConfig=t$1,this.connection)try{var r$1;let e$2=await this.connection.request(`request`,{clientRequest:{command:`UpdateTranscoding`,transcodingConfig:this.transcodingConfig}},!1,{command:`UpdateTranscoding`,workerType:1,requestByUser:!0,tid:Array.from(pp(r$1=this.streamingTasks).call(r$1)).map((e$3=>e$3.taskId)).join(`#`)});iP.debug(`[${this.spec.clientId}] update live transcoding config success, code: ${e$2.code}, config:`,JSON.stringify(this.transcodingConfig))}catch(e$2){if(!e$2.data||!e$2.data.retry)throw e$2;e$2.data.changeAddress&&this.connection.tryNextAddress(),this.streamingTasks.forEach((t$2=>{iP.warning(`[${this.spec.clientId}] live streaming receive error`,e$2.toString(),`try to republish`,t$2.url),this.startLiveStreamingTask(t$2.url,t$2.mode,e$2).then((()=>{iP.debug(`[${this.spec.clientId}] live streaming republish ${t$2.url} success`)})).catch((e$3=>{iP.error(`[${this.spec.clientId}] live streaming republish failed`,t$2.url,e$3.toString()),this.onLiveStreamError&&this.onLiveStreamError(t$2.url,e$3)}))}))}}async startLiveStreamingTask(e$1,t$1,i$1){if(!this.transcodingConfig&&t$1===YV.TRANSCODE)throw new uP(hO.INVALID_OPERATION,`[LiveStreaming] no transcoding config found, can not start transcoding streaming task`);let n$1={command:`PublishStream`,ts:Date.now(),url:e$1,uid:this.spec.uid.toString(),autoDestroyTime:100,acceptImageTimeout:!0};iP.debug(`[${this.spec.clientId}] start live streaming ${e$1}, mode: ${t$1}`);let r$1=await this.taskMutex.lock();if(!this.connection&&i$1)return void r$1();if(this.streamingTasks.get(e$1)&&!i$1)return r$1(),new uP(hO.LIVE_STREAMING_TASK_CONFLICT).throw();try{this.connection||=await this.connect(t$1)}catch(e$2){throw r$1(),e$2}switch(t$1){case YV.TRANSCODE:n$1.transcodingConfig=Iq({},this.transcodingConfig);case YV.RAW:}this.uapResponse&&this.uapResponse.vid&&(n$1.vid=this.uapResponse.vid),this.isStartingStreamingTask=!0;let o$1=this.lastTaskId++;try{let s$1=new rp(((t$2,n$2)=>{fN(this.retryTimeout).then((()=>{if(i$1)return n$2(i$1);let t$3=this.statusError.get(e$1);return t$3?(this.statusError.delete(e$1),n$2(t$3)):void 0}))})),a$1=await rp.race([this.connection.request(`request`,{clientRequest:n$1},!0,{url:e$1,command:`PublishStream`,workerType:t$1===YV.TRANSCODE?1:2,requestByUser:!i$1,tid:o$1.toString()}),s$1]);this.isStartingStreamingTask=!1,iP.debug(`[${this.spec.clientId}] live streaming started, code: ${a$1.code}`),this.streamingTasks.set(e$1,{clientRequest:n$1,mode:t$1,url:e$1,taskId:o$1}),r$1()}catch(n$2){if(r$1(),this.isStartingStreamingTask=!1,!n$2.data||!n$2.data.retry||i$1)throw n$2;return n$2.data.changeAddress&&this.connection.tryNextAddress(),await this.startLiveStreamingTask(e$1,t$1,n$2)}}stopLiveStreamingTask(e$1){return new rp(((t$1,i$1)=>{let n$1=this.streamingTasks.get(e$1);if(!n$1||!this.connection)return new uP(hO.UNEXPECTED_ERROR,`can not find streaming task to stop`).throw();let r$1=n$1.mode;n$1.abortTask=()=>{iP.debug(`[${this.spec.clientId}] stop live streaming success(worker exception)`),this.streamingTasks.delete(e$1),t$1()},this.connection.request(`request`,{clientRequest:{command:`UnpublishStream`,url:n$1.url}},!1,{url:e$1,command:`UnPublishStream`,workerType:r$1===YV.TRANSCODE?1:2,requestByUser:!0,tid:(this.lastTaskId++).toString()}).then((i$2=>{iP.debug(`[${this.spec.clientId}] stop live streaming success, code: ${i$2.code}`),this.streamingTasks.delete(e$1),this.streamingTasks.size===0&&(this.connection&&this.connection.close(),this.connection=void 0),t$1()})).catch(i$1)}))}resetAllTask(){var e$1;let t$1=Array.from(pp(e$1=this.streamingTasks).call(e$1));this.terminate();for(let e$2 of t$1)this.startLiveStreamingTask(e$2.url,e$2.mode).catch((t$2=>{this.onLiveStreamError&&this.onLiveStreamError(e$2.url,t$2)}))}terminate(){this.cancelToken&&this.cancelToken.cancel(),this.streamingTasks=new Map,this.isStartingStreamingTask=!1,this.statusError=new Map,this.cancelToken=Tw.CancelToken.source(),this.uapResponse=void 0,this.connection&&this.connection.close(),this.connection=void 0}async connect(e$1){if(this.connection)throw new uP(hO.UNEXPECTED_ERROR,`live streaming connection has already connected`);let t$1=await zO(this,ZV.REQUEST_WORKER_MANAGER_LIST,e$1);return this.uapResponse=t$1,this.connection=new vq(t$1.workerToken,this.spec,this.wsRetryConfig,e$1),this.connection.on(QV.WARNING,((e$2,t$2)=>this.onLiveStreamWarning&&this.onLiveStreamWarning(t$2,e$2))),this.connection.on(QV.PUBLISH_STREAM_STATUS,(e$2=>this.handlePublishStreamServer(e$2))),this.connection.on(QV.REQUEST_NEW_ADDRESS,((t$2,i$1)=>{if(!this.connection)return i$1(new uP(hO.UNEXPECTED_ERROR,`can not get new live streaming address list`));zO(this,ZV.REQUEST_WORKER_MANAGER_LIST,e$1).then((e$2=>{this.uapResponse=e$2,t$2(e$2.addressList)})).catch(i$1)})),await this.connection.init(t$1.addressList),this.connection}handlePublishStreamServer(e$1){let t$1=e$1.serverStatus&&e$1.serverStatus.url||`empty_url`,i$1=this.streamingTasks.get(t$1),n$1=e$1.reason;switch(e$1.code){case $V.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case $V.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case $V.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case $V.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:{let n$2=new uP(hO.LIVE_STREAMING_CDN_ERROR,``,{code:e$1.code});if(i$1)return iP.error(n$2.toString()),this.onLiveStreamError&&this.onLiveStreamError(t$1,n$2);if(!this.isStartingStreamingTask)return;this.statusError.set(t$1,n$2)}case $V.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{let e$2=new uP(hO.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE,n$1);return this.onLiveStreamWarning&&this.onLiveStreamWarning(t$1,e$2)}case $V.LIVE_STREAM_RESPONSE_WORKER_LOST:case $V.LIVE_STREAM_RESPONSE_WORKER_QUIT:{var r$1;if(!this.connection)return;this.connection.tryNextAddress();let t$2=Array.from(pp(r$1=this.streamingTasks).call(r$1));for(let i$2 of t$2)i$2.abortTask?i$2.abortTask():(iP.warning(`[${this.spec.clientId}] publish stream status code`,e$1.code,`try to republish`,i$2.url),this.startLiveStreamingTask(i$2.url,i$2.mode,new uP(hO.LIVE_STREAMING_INTERNAL_SERVER_ERROR,``,{code:e$1.code})).then((()=>{iP.debug(`[${this.spec.clientId}] republish live stream success`,i$2.url)})).catch((e$2=>{iP.error(e$2.toString()),this.onLiveStreamError&&this.onLiveStreamError(i$2.url,e$2)})));return}}}hasUrl(e$1){return this.streamingTasks.has(e$1)}}let bq={name:`LiveStreaming`,create:function(e$1){return new Aq(e$1.joinInfo,e$1.websocketRetryConfig||kN,e$1.httpRetryConfig||kN)}};function wq(e$1){let t$1=Fq();return function(e$2,t$2){let i$1=e$2.appId;i$1!==void 0&&($q(t$2,10),Yq(t$2,i$1));let n$1=e$2.cid;n$1!==void 0&&($q(t$2,16),$q(t$2,n$1));let r$1=e$2.cname;r$1!==void 0&&($q(t$2,26),Yq(t$2,r$1));let o$1=e$2.deviceId;o$1!==void 0&&($q(t$2,34),Yq(t$2,o$1));let s$1=e$2.elapse;s$1!==void 0&&($q(t$2,40),eX(t$2,s$1));let a$1=e$2.fileSize;a$1!==void 0&&($q(t$2,48),eX(t$2,Vq(a$1)));let c$1=e$2.height;c$1!==void 0&&($q(t$2,56),eX(t$2,Vq(c$1)));let d$1=e$2.jpg;d$1!==void 0&&($q(t$2,66),$q(t$2,d$1.length),function(e$3,t$3){let i$2=Wq(e$3,t$3.length);e$3.bytes.set(t$3,i$2)}(t$2,d$1));let l$1=e$2.networkType;l$1!==void 0&&($q(t$2,72),eX(t$2,Vq(l$1)));let u$1=e$2.osType;u$1!==void 0&&($q(t$2,80),eX(t$2,Vq(u$1)));let h$1=e$2.requestId;h$1!==void 0&&($q(t$2,90),Yq(t$2,h$1));let p$1=e$2.sdkVersion;p$1!==void 0&&($q(t$2,98),Yq(t$2,p$1));let _$1=e$2.sequence;_$1!==void 0&&($q(t$2,104),eX(t$2,Vq(_$1)));let E$1=e$2.sid;E$1!==void 0&&($q(t$2,114),Yq(t$2,E$1));let m$1=e$2.timestamp;m$1!==void 0&&($q(t$2,120),eX(t$2,m$1));let f$1=e$2.uid;f$1!==void 0&&($q(t$2,128),$q(t$2,f$1));let S$1=e$2.vid;S$1!==void 0&&($q(t$2,136),$q(t$2,S$1));let g$1=e$2.width;g$1!==void 0&&($q(t$2,144),eX(t$2,Vq(g$1)));let T$1=e$2.service;T$1!==void 0&&($q(t$2,152),$q(t$2,T$1));let R$1=e$2.callbackData;R$1!==void 0&&($q(t$2,162),Yq(t$2,R$1));let C$1=e$2.jpgEncryption;C$1!==void 0&&($q(t$2,168),$q(t$2,C$1));let v$1=e$2.requestType;v$1!==void 0&&($q(t$2,176),$q(t$2,v$1));let y$1=e$2.scorePorn;y$1!==void 0&&($q(t$2,185),Qq(t$2,y$1));let I$1=e$2.scoreSexy;I$1!==void 0&&($q(t$2,193),Qq(t$2,I$1));let A$1=e$2.scoreNeutral;A$1!==void 0&&($q(t$2,201),Qq(t$2,A$1));let b$1=e$2.scene;b$1!==void 0&&($q(t$2,208),$q(t$2,b$1));let w$1=e$2.ossFilePrefix;w$1!==void 0&&($q(t$2,218),Yq(t$2,w$1));let O$1=e$2.serviceVendor;if(O$1!==void 0)for(let e$3 of O$1){$q(t$2,226);let i$2=Fq();Dq(e$3,i$2),$q(t$2,i$2.limit),zq(t$2,i$2),Bq(i$2)}}(e$1,t$1),function(e$2){let t$2=e$2.bytes,i$1=e$2.limit;return t$2.length===i$1?t$2:t$2.subarray(0,i$1)}(t$1)}function Oq(e$1){return function(e$2){let t$2={};e:for(;!Gq(e$2);){let i$1=Zq(e$2);switch(i$1>>>3){case 0:break e;case 1:t$2.code=Zq(e$2);break;case 2:t$2.msg=Kq(e$2,Zq(e$2));break;case 3:{let i$2=Pq(e$2);t$2.data=Nq(e$2),e$2.limit=i$2;break}default:Lq(e$2,7&i$1)}}return t$2}({bytes:t$1=e$1,offset:0,limit:t$1.length});var t$1}function Nq(e$1){let t$1={};e:for(;!Gq(e$1);){let i$1=Zq(e$1);switch(i$1>>>3){case 0:break e;case 1:t$1.requestId=Kq(e$1,Zq(e$1));break;case 2:t$1.requestType=Zq(e$1)>>>0;break;case 3:t$1.scorePorn=Jq(e$1);break;case 4:t$1.scoreSexy=Jq(e$1);break;case 5:t$1.scoreNeutral=Jq(e$1);break;case 6:t$1.requestScene=Zq(e$1)>>>0;break;case 7:t$1.scene=Zq(e$1)>>>0;break;default:Lq(e$1,7&i$1)}}return t$1}function Dq(e$1,t$1){let i$1=e$1.service;i$1!==void 0&&($q(t$1,8),$q(t$1,i$1));let n$1=e$1.vendor;n$1!==void 0&&($q(t$1,16),$q(t$1,n$1));let r$1=e$1.token;r$1!==void 0&&($q(t$1,26),Yq(t$1,r$1));let o$1=e$1.callbackUrl;o$1!==void 0&&($q(t$1,34),Yq(t$1,o$1))}function Pq(e$1){let t$1=Zq(e$1),i$1=e$1.limit;return e$1.limit=e$1.offset+t$1,i$1}function Lq(e$1,t$1){switch(t$1){case 0:for(;128&qq(e$1););break;case 2:jq(e$1,Zq(e$1));break;case 5:jq(e$1,4);break;case 1:jq(e$1,8);break;default:throw Error(`Unimplemented type: `+t$1)}}let kq=new Float32Array(1);new Uint8Array(kq.buffer);let Mq=new Float64Array(1),Uq=new Uint8Array(Mq.buffer);function Vq(e$1){return{low:e$1|=0,high:e$1>>31,unsigned:e$1>=0}}let xq=[];function Fq(){let e$1=xq.pop();return e$1?(e$1.offset=e$1.limit=0,e$1):{bytes:new Uint8Array(64),offset:0,limit:0}}function Bq(e$1){xq.push(e$1)}function jq(e$1,t$1){if(e$1.offset+t$1>e$1.limit)throw Error(`Skip past limit`);e$1.offset+=t$1}function Gq(e$1){return e$1.offset>=e$1.limit}function Wq(e$1,t$1){let i$1=e$1.bytes,n$1=e$1.offset,r$1=e$1.limit,o$1=n$1+t$1;if(o$1>i$1.length){let t$2=new Uint8Array(2*o$1);t$2.set(i$1),e$1.bytes=t$2}return e$1.offset=o$1,o$1>r$1&&(e$1.limit=o$1),n$1}function Hq(e$1,t$1){let i$1=e$1.offset;if(i$1+t$1>e$1.limit)throw Error(`Read past limit`);return e$1.offset+=t$1,i$1}function Kq(e$1,t$1){let i$1=Hq(e$1,t$1),n$1=String.fromCharCode,r$1=e$1.bytes,o$1=`�`,s$1=``;for(let e$2=0;e$2<t$1;e$2++){let a$1,c$1,d$1,l$1,u$1=r$1[e$2+i$1];128&u$1?(224&u$1)==192?e$2+1>=t$1?s$1+=`�`:(a$1=r$1[e$2+i$1+1],(192&a$1)==128?(l$1=(31&u$1)<<6|63&a$1,l$1<128?s$1+=`�`:(s$1+=n$1(l$1),e$2++)):s$1+=`�`):(240&u$1)==224?e$2+2>=t$1?s$1+=`�`:(a$1=r$1[e$2+i$1+1],c$1=r$1[e$2+i$1+2],(49344&(a$1|c$1<<8))==32896?(l$1=(15&u$1)<<12|(63&a$1)<<6|63&c$1,l$1<2048||l$1>=55296&&l$1<=57343?s$1+=`�`:(s$1+=n$1(l$1),e$2+=2)):s$1+=`�`):(248&u$1)==240?e$2+3>=t$1?s$1+=`�`:(a$1=r$1[e$2+i$1+1],c$1=r$1[e$2+i$1+2],d$1=r$1[e$2+i$1+3],(12632256&(a$1|c$1<<8|d$1<<16))==8421504?(l$1=(7&u$1)<<18|(63&a$1)<<12|(63&c$1)<<6|63&d$1,l$1<65536||l$1>1114111?s$1+=`�`:(l$1-=65536,s$1+=n$1(55296+(l$1>>10),56320+(1023&l$1)),e$2+=3)):s$1+=`�`):s$1+=`�`:s$1+=n$1(u$1)}return s$1}function Yq(e$1,t$1){let i$1=t$1.length,n$1=0;for(let e$2=0;e$2<i$1;e$2++){let r$2=t$1.charCodeAt(e$2);r$2>=55296&&r$2<=56319&&e$2+1<i$1&&(r$2=(r$2<<10)+t$1.charCodeAt(++e$2)-56613888),n$1+=r$2<128?1:r$2<2048?2:r$2<65536?3:4}$q(e$1,n$1);let r$1=Wq(e$1,n$1),o$1=e$1.bytes;for(let e$2=0;e$2<i$1;e$2++){let n$2=t$1.charCodeAt(e$2);n$2>=55296&&n$2<=56319&&e$2+1<i$1&&(n$2=(n$2<<10)+t$1.charCodeAt(++e$2)-56613888),n$2<128?o$1[r$1++]=n$2:(n$2<2048?o$1[r$1++]=n$2>>6&31|192:(n$2<65536?o$1[r$1++]=n$2>>12&15|224:(o$1[r$1++]=n$2>>18&7|240,o$1[r$1++]=n$2>>12&63|128),o$1[r$1++]=n$2>>6&63|128),o$1[r$1++]=63&n$2|128)}}function zq(e$1,t$1){let i$1=Wq(e$1,t$1.limit),n$1=e$1.bytes,r$1=t$1.bytes;for(let e$2=0,o$1=t$1.limit;e$2<o$1;e$2++)n$1[e$2+i$1]=r$1[e$2]}function qq(e$1){return e$1.bytes[Hq(e$1,1)]}function Xq(e$1,t$1){let i$1=Wq(e$1,1);e$1.bytes[i$1]=t$1}function Jq(e$1){let t$1=Hq(e$1,8),i$1=e$1.bytes;return Uq[0]=i$1[t$1++],Uq[1]=i$1[t$1++],Uq[2]=i$1[t$1++],Uq[3]=i$1[t$1++],Uq[4]=i$1[t$1++],Uq[5]=i$1[t$1++],Uq[6]=i$1[t$1++],Uq[7]=i$1[t$1++],Mq[0]}function Qq(e$1,t$1){let i$1=Wq(e$1,8),n$1=e$1.bytes;Mq[0]=t$1,n$1[i$1++]=Uq[0],n$1[i$1++]=Uq[1],n$1[i$1++]=Uq[2],n$1[i$1++]=Uq[3],n$1[i$1++]=Uq[4],n$1[i$1++]=Uq[5],n$1[i$1++]=Uq[6],n$1[i$1++]=Uq[7]}function Zq(e$1){let t$1,i$1=0,n$1=0;do t$1=qq(e$1),i$1<32&&(n$1|=(127&t$1)<<i$1),i$1+=7;while(128&t$1);return n$1}function $q(e$1,t$1){for(t$1>>>=0;t$1>=128;)Xq(e$1,127&t$1|128),t$1>>>=7;Xq(e$1,t$1)}function eX(e$1,t$1){let i$1=t$1.low>>>0,n$1=(t$1.low>>>28|t$1.high<<4)>>>0,r$1=t$1.high>>>24,o$1=r$1===0?n$1===0?i$1<16384?i$1<128?1:2:i$1<1<<21?3:4:n$1<16384?n$1<128?5:6:n$1<1<<21?7:8:r$1<128?9:10,s$1=Wq(e$1,o$1),a$1=e$1.bytes;switch(o$1){case 10:a$1[s$1+9]=r$1>>>7&1;case 9:a$1[s$1+8]=o$1===9?127&r$1:128|r$1;case 8:a$1[s$1+7]=o$1===8?n$1>>>21&127:n$1>>>21|128;case 7:a$1[s$1+6]=o$1===7?n$1>>>14&127:n$1>>>14|128;case 6:a$1[s$1+5]=o$1===6?n$1>>>7&127:n$1>>>7|128;case 5:a$1[s$1+4]=o$1===5?127&n$1:128|n$1;case 4:a$1[s$1+3]=o$1===4?i$1>>>21&127:i$1>>>21|128;case 3:a$1[s$1+2]=o$1===3?i$1>>>14&127:i$1>>>14|128;case 2:a$1[s$1+1]=o$1===2?i$1>>>7&127:i$1>>>7|128;case 1:a$1[s$1]=o$1===1?127&i$1:128|i$1}}function tX(e$1,t$1){var i$1=Object.keys(e$1);if(Object.getOwnPropertySymbols){var n$1=Object.getOwnPropertySymbols(e$1);t$1&&(n$1=n$1.filter((function(t$2){return Object.getOwnPropertyDescriptor(e$1,t$2).enumerable}))),i$1.push.apply(i$1,n$1)}return i$1}let iX=new Map([[`moderation`,1],[`supervise`,2]]);class nX extends NO{get connectionState(){return this._connectionState}set connectionState(e$1){if(this._connectionState===e$1)return;let t$1=this._connectionState;this._connectionState=e$1,this.emit(Ax.CONNECTION_STATE_CHANGE,t$1,e$1)}get inspectType(){return this._inspectType}set inspectType(e$1){var t$1;this._inspectMode=nr(t$1=e$1.map((e$2=>iX.get(e$2)||0))).call(t$1,((e$2,t$2)=>e$2+t$2)),this._inspectType=e$1}get quality(){return this._quality}set quality(e$1){this._quality=e$1>1?1:e$1<.1?.1:e$1,this.qualityTimer&&=(window.clearTimeout(this.qualityTimer),null),this._quality>=1||(this.qualityTimer=window.setTimeout((()=>{this.quality=this._quality/this.qualityRatio}),6e4))}constructor(e$1){super(),iA(this,`name`,`AgoraRTCVideoContentInspect`),iA(this,`_connectionState`,yx.CONNECTING),iA(this,`_innerConnectionState`,void 0),iA(this,`sequence`,0),iA(this,`inspectStartTime`,void 0),iA(this,`workerManagerConnection`,void 0),iA(this,`workerConnection`,void 0),iA(this,`workerMessageLengthLimit`,void 0),iA(this,`inspectIntervalMinimum`,void 0),iA(this,`qualityRatio`,void 0),iA(this,`_connectInfo`,void 0),iA(this,`_cancelTokenSource`,Tw.CancelToken.source()),iA(this,`_retryConfig`,void 0),iA(this,`wmSequence`,0),iA(this,`inspectInterval`,void 0),iA(this,`inspectTimer`,null),iA(this,`ossFilePrefix`,void 0),iA(this,`extraInfo`,void 0),iA(this,`_inspectType`,void 0),iA(this,`_inspectMode`,void 0),iA(this,`_quality`,1),iA(this,`qualityTimer`,null),iA(this,`_inspectId`,void 0),iA(this,`_needWorkUrlOnly`,!1),iA(this,`inspectImage`,(()=>{if(this.connectionState!==yx.CONNECTED)throw new uP(hO.OPERATION_ABORTED,`content inspect service connection status is ${this.connectionState}`);this.inspectTimer&&=(window.clearInterval(this.inspectTimer),null),this.inspectTimer=window.setInterval((()=>{this.connectionState===yx.CONNECTED?this.requestToInspectImage():iP.debug(`[${this._inspectId}] Inspect State is not connected , `,this.connectionState)}),this.inspectInterval<this.inspectIntervalMinimum?this.inspectIntervalMinimum:this.inspectInterval),this.requestToInspectImage()})),this._inspectId=SN(5,`inspect-`),this.workerMessageLengthLimit=CD(`VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT`),this.inspectIntervalMinimum=CD(`VIDEO_INSPECT_INTERVAL_MINIMUM`),this.qualityRatio=CD(`VIDEO_INSPECT_QUALITY_RATIO`),this.inspectInterval=e$1.interval,this.ossFilePrefix=e$1.ossFilePrefix,this.extraInfo=e$1.extraInfo,this.inspectType=e$1.inspectType,this.inspectStartTime=Number(Date.now()),this.workerManagerConnection=new $x(`worker-manager-`+this._inspectId,kN),this.on(Ax.STATE_CHANGE,((e$2,t$1)=>{this._innerConnectionState=e$2,iP.debug(`[${this._inspectId}] Inspect operation :${Ix[e$2]} ${t$1||``}`)})),this.handleWorkerManagerEvents(),this.workerConnection=new $x(`worker-`+this._inspectId,kN),this.handleWorkerEvents()}async init(e$1,t$1){this.emit(Ax.STATE_CHANGE,Ix.CONNECT_AP),this._connectInfo=e$1;let i$1=this._cancelTokenSource.token;return this._retryConfig=t$1,new rp(((n$1,r$1)=>{this.on(Ax.CONNECTION_STATE_CHANGE,((e$2,t$2)=>{t$2===yx.CONNECTED&&n$1()})),this.requestAP(e$1,i$1,t$1).then((e$2=>{this.connectWorkerManager(e$2)})).catch((e$2=>{r$1(e$2)}))}))}async requestAP(e$1,t$1,i$1){let r$1=await function(e$2,t$2,i$2,n$1){let{appId:r$2,areaCode:o$2,cname:s$1,sid:a$1,token:c$1,uid:d$1}=t$2;UB++;let l$1=`image_moderation_api`,u$1={service_name:l$1,json_body:JSON.stringify({appId:r$2,areaCode:o$2,cname:s$1,command:`allocateEdge`,requestId:UB,seq:UB,sid:a$1,token:c$1,ts:Date.now(),uid:d$1+``})},h$1,p$1,_$1=e$2[0];return UN((async()=>{h$1=Date.now();let e$3=await _B(_$1,{data:u$1,cancelToken:i$2,headers:{"X-Packet-Service-Type":`0`,"X-Packet-URI":`61`},params:{action:`wrtc_gateway`}});if(p$1=Date.now()-h$1,e$3.code!==0){let t$4=new uP(hO.UNEXPECTED_RESPONSE,`image inspect ap error, code`+e$3.code,{retry:!0,responseTime:p$1});throw iP.error(t$4.toString()),t$4}let t$3=JSON.parse(e$3.json_body);if(t$3.code!==200){let e$4=new uP(hO.UNEXPECTED_RESPONSE,`image inspect ap error, code: ${t$3.code}, reason: ${t$3.reason}`,{code:t$3.code,responseTime:p$1});throw iP.error(e$4.toString()),e$4}if(!t$3.servers||!Array.isArray(t$3.servers)||t$3.servers.length===0){let e$4=new uP(hO.UNEXPECTED_RESPONSE,`image inspect ap empty server`,{code:t$3.code,responseTime:p$1});throw iP.error(e$4.toString()),e$4}let n$2=CD(`VIDEO_INSPECT_WORKER_MANAGER_WSS`);if(n$2)return{addressList:[n$2],workerToken:t$3.workerToken,vid:t$3.vid,responseTime:p$1};let r$3=CD(`VIDEO_INSPECT_WORKER_MANAGER_HOST`),o$3=CD(`VIDEO_INSPECT_WORKER_MANAGER_PORT`);return{addressList:t$3.servers.map((e$4=>{let{address:t$4,wss:i$3}=e$4;if(t$4&&i$3)return`wss://${t$4.replace(/\./g,`-`)}.${r$3}:${o$3||i$3}`})).filter((e$4=>!!e$4)),workerToken:t$3.workerToken,vid:t$3.vid,responseTime:p$1}}),((t$3,i$3)=>(lP.apworkerEvent(a$1,{success:!0,sc:200,serviceName:l$1,responseDetail:JSON.stringify(t$3.addressList),firstSuccess:i$3===0,responseTime:p$1,serverIp:e$2[i$3%e$2.length]}),!1)),((t$3,i$3)=>(lP.apworkerEvent(a$1,{success:!1,sc:t$3.data&&t$3.data.code||200,serviceName:l$1,responseTime:p$1,serverIp:e$2[i$3%e$2.length]}),!!(t$3.code!==hO.OPERATION_ABORTED&&t$3.code!==hO.UNEXPECTED_RESPONSE||t$3.data&&t$3.data.retry)&&(_$1=e$2[(i$3+1)%e$2.length],!0))),n$1)}(CD(`WEBCS_DOMAIN`).map((e$2=>`https://${e$2}/api/v1`)),e$1,t$1,i$1);this.emit(Ax.STATE_CHANGE,Ix.AP_CONNECTED);let{addressList:o$1}=r$1;return this.wmSequence++,o$1}async connectWorkerManager(e$1){this._needWorkUrlOnly=arguments.length>1&&arguments[1]!==void 0&&arguments[1],this.emit(Ax.STATE_CHANGE,Ix.CONNECT_WORKER_MANAGER),await this.workerManagerConnection.init(e$1,1e4)}async connectWorker(e$1){await this.workerConnection.init([e$1])}handleWorkerManagerEvents(){this.workerManagerConnection.on(WV.CONNECTED,(async()=>{this.emit(Ax.STATE_CHANGE,Ix.WORKER_MANAGER_CONNECTED,this.workerManagerConnection.url),this.workerManagerConnection.sendMessage({appId:this._connectInfo.appId,cname:this._connectInfo.cname,uid:this._connectInfo.uid+``,sdkVersion:`4.24.2`,sid:this._connectInfo.sid,seq:this.wmSequence,ts:Number(Date.now()),requestId:Math.floor(0xe8d4a51000*Math.random()),allocate:!0,clientRequest:{command:`join`}},!0)})),this.workerManagerConnection.on(WV.CLOSED,(()=>{this._innerConnectionState<Ix.GET_WORKER_MANAGER_RESPONSE&&iP.debug(`[${this._inspectId}] Inspect worker manager is closed before connecting worker`)})),this.workerManagerConnection.on(WV.FAILED,(()=>{this._innerConnectionState<Ix.GET_WORKER_MANAGER_RESPONSE&&iP.debug(`[${this._inspectId}] Connecting inspect worker manager is failed before connecting worker`)})),this.workerManagerConnection.on(WV.RECONNECTING,(()=>{this._innerConnectionState<Ix.GET_WORKER_MANAGER_RESPONSE&&iP.debug(`[${this._inspectId}] Inspect worker manager is reconnecting before connecting worker`)})),this.workerManagerConnection.on(WV.ON_MESSAGE,(async e$1=>{this.emit(Ax.STATE_CHANGE,Ix.GET_WORKER_MANAGER_RESPONSE);let t$1=this.workerManagerConnection.url;this.workerManagerConnection.close();let i$1=JSON.parse(e$1.data);if(i$1.code!==200)throw iP.error(`[${this._inspectId}] Unexpected code ${i$1.code} from worker manager`),new uP(hO.UNEXPECTED_RESPONSE,`response code of worker is unexpected`,i$1);if(!(i$1.serverResponse&&i$1.serverResponse.portWss&&t$1))throw iP.error(`[${this._inspectId}] Unexpected content from worker manager : ${JSON.stringify(i$1)}`),new uP(hO.UNEXPECTED_RESPONSE,`response content of worker is unexpected`,i$1);{let e$2=CD(`VIDEO_INSPECT_WORKER_PORT`)||i$1.serverResponse.portWss,n$1=t$1.replace(/:\d+\/?$/,`:${e$2}`);this.emit(Ax.STATE_CHANGE,Ix.CONNECT_WORKER,n$1),this._needWorkUrlOnly?this.emit(Ax.REQUEST_NEW_WORKER_URL,n$1):await this.connectWorker(n$1)}})),this.workerManagerConnection.on(WV.WILL_RECONNECT,((e$1,t$1,i$1)=>{i$1(e$1)})),this.workerManagerConnection.on(WV.REQUEST_NEW_URLS,((e$1,t$1)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(e$1).catch(t$1)}))}handleWorkerEvents(){this.workerConnection.on(WV.CONNECTED,(async()=>{this.emit(Ax.STATE_CHANGE,Ix.WORKER_CONNECTED,this.workerConnection.url),this.connectionState=yx.CONNECTED})),this.workerConnection.on(WV.ON_MESSAGE,(async e$1=>{if(e$1.data instanceof ArrayBuffer){let i$1=Oq(new Uint8Array(e$1.data));if(CD(`SHOW_VIDEO_INSPECT_WORKER_MESSAGE`)&&iP.debug(`[${this._inspectId}] Response message for worker of inspect content `,JSON.stringify(i$1)),i$1.code===200){if(Array.isArray(this.inspectType)&&this.inspectType.length===1&&this.inspectType[0]===`supervise`)return void this.emit(Ax.INSPECT_RESULT,void 0,void 0);if(i$1.data&&i$1.data.scorePorn&&i$1.data.scoreSexy&&i$1.data.scoreNeutral){var t$1;let e$2={porn:i$1.data.scorePorn,sexy:i$1.data.scoreSexy,neutral:i$1.data.scoreNeutral},n$1=nr(t$1=Object.keys(e$2)).call(t$1,((t$2,i$2)=>e$2[t$2]>e$2[i$2]?t$2:i$2),`porn`),r$1=Object.keys(e$2).find((e$3=>e$3===n$1));this.emit(Ax.INSPECT_RESULT,r$1)}else this.emit(Ax.INSPECT_RESULT,void 0,new uP(hO.UNEXPECTED_RESPONSE,i$1.code+``,`There is an unexpected data on message`))}else this.emit(Ax.INSPECT_RESULT,void 0,new uP(hO.UNEXPECTED_RESPONSE,i$1.code+``,i$1.msg))}else iP.error(`[${this._inspectId}] Unexpected message type from worker`),this.emit(Ax.INSPECT_RESULT,void 0,new uP(hO.UNEXPECTED_RESPONSE,`invalid worker message type`))})),this.workerConnection.on(WV.CLOSED,(()=>{this.connectionState=yx.CLOSED})),this.workerConnection.on(WV.FAILED,(()=>{this.connectionState=yx.CLOSED})),this.workerConnection.on(WV.RECONNECTING,(()=>{this.connectionState=this.connectionState===yx.CONNECTED?yx.RECONNECTING:yx.CONNECTING})),this.workerConnection.on(WV.WILL_RECONNECT,((e$1,t$1,i$1)=>{e$1===`recover`&&i$1(e$1),i$1(`tryNext`)})),this.workerConnection.on(WV.REQUEST_NEW_URLS,((e$1,t$1)=>{this.workerManagerConnection.close(),this.once(Ax.REQUEST_NEW_WORKER_URL,(t$2=>{e$1([t$2])})),this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then((e$2=>{this.connectWorkerManager(e$2,!0)})).catch((e$2=>{t$1(e$2)}))}))}async requestToInspectImage(){this.sequence++;let e$1=XO(this,Ax.CLIENT_LOCAL_VIDEO_TRACK),t$1={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(e$1){if(!e$1.isPlaying)return void this.emit(Ax.INSPECT_RESULT,void 0,new uP(hO.INVALID_OPERATION,`Only the track being played can be inspected`));let i$1=await this.generateRequestData(e$1,t$1);this.workerConnection.sendMessage(i$1,!0,!0)}else this.emit(Ax.INSPECT_RESULT,void 0,new uP(hO.INVALID_OPERATION,`Only the track being published can be inspected`))}async generateRequestData(e$1,t$1){let{appId:i$1,cname:n$1,cid:r$1,vid:o$1,sid:s$1,uid:a$1}=t$1,c$1=Date.now(),d$1=await e$1.getCurrentFrameImage(`image/jpeg`,this.quality),l$1=await QL(d$1,i$1,n$1),u$1=this.sequence+`-`+r$1+`-`+a$1+`-`+c$1+`-`+SN(12,``),h$1={appId:i$1,cid:r$1,cname:n$1,deviceId:``,elapse:(p$1=Number(c$1-this.inspectStartTime),{low:p$1|=0,high:p$1>>31,unsigned:p$1>=0}),fileSize:l$1.byteLength,jpgEncryption:2,height:d$1.height,width:d$1.width,jpg:l$1,networkType:6,osType:7,requestId:u$1,sdkVersion:`4.24.2`,sequence:this.sequence,sid:s$1,timestamp:wW(c$1),uid:a$1,vid:o$1,service:this._inspectMode,callbackData:this.extraInfo,ossFilePrefix:this.ossFilePrefix};var p$1;this.extraInfo===void 0&&delete h$1.callbackData,this.ossFilePrefix===void 0&&delete h$1.ossFilePrefix;let _$1=wq(h$1);if(_$1.byteLength<this.workerMessageLengthLimit){if(CD(`SHOW_VIDEO_INSPECT_WORKER_MESSAGE`)){let e$2=function(e$3){for(var t$2=1;t$2<arguments.length;t$2++){var i$2=arguments[t$2]==null?{}:arguments[t$2];t$2%2?tX(Object(i$2),!0).forEach((function(t$3){iA(e$3,t$3,i$2[t$3])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e$3,Object.getOwnPropertyDescriptors(i$2)):tX(Object(i$2)).forEach((function(t$3){Object.defineProperty(e$3,t$3,Object.getOwnPropertyDescriptor(i$2,t$3))}))}return e$3}({},h$1);delete e$2.jpg,iP.debug(`[${this._inspectId}] Request message for worker of inspect content `,JSON.stringify(e$2))}return _$1}return this.quality*=this.qualityRatio,await this.generateRequestData(e$1,{appId:i$1,cname:n$1,cid:r$1,vid:o$1,sid:s$1,uid:a$1})}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=Tw.CancelToken.source(),this.workerManagerConnection&&this.workerManagerConnection.close(),this.workerConnection&&this.workerConnection.close(),this.inspectTimer&&window.clearInterval(this.inspectTimer),this.inspectTimer=null,this.connectionState=yx.CLOSED,this.emit(Ax.STATE_CHANGE,Ix.CLOSED)}}let rX={name:`ContentInspect`,create:function(e$1){let{config:t$1}=e$1;return function(e$2){if(!e$2)throw new uP(hO.INVALID_PARAMS,`inspectConfig is necessary.`);if(!e$2.inspectType||!Array.isArray(e$2.inspectType))throw new uP(hO.INVALID_PARAMS,`inspectConfig.inspectType is necessary and is an instance of Array.`);{let t$2=[...new Set(e$2.inspectType)];t$2.forEach((e$3=>{var t$3;if(!Ln(t$3=[`supervise`,`moderation`]).call(t$3,e$3))throw new uP(hO.INVALID_PARAMS,`${e$3} is not a valid inspect type.`)})),e$2.inspectType=t$2}if(e$2&&e$2.extraInfo&&e$2.extraInfo.length>1024)throw new uP(hO.INVALID_PARAMS,`inspectConfig.extraInfo length cannot exceed 1024 bytes`)}(t$1),new nX(t$1)}};var oX=i($.Object.getOwnPropertySymbols),sX=Oi,aX=qi.indexOf,cX=Wn,dX=y([].indexOf),lX=!!dX&&1/dX([1],1,-0)<0;sX({target:`Array`,proto:!0,forced:lX||!cX(`indexOf`)},{indexOf:function(e$1){var t$1=arguments.length>1?arguments[1]:void 0;return lX?dX(this,e$1,t$1)||0:aX(this,e$1,t$1)}});var uX=Zi(`Array`,`indexOf`),hX=l,pX=uX,_X=Array.prototype,mX=i(function(e$1){var t$1=e$1.indexOf;return e$1===_X||hX(_X,e$1)&&t$1===_X.indexOf?pX:t$1});function fX(e$1,t$1){if(e$1==null)return{};var i$1,n$1,r$1=function(e$2,t$2){if(e$2==null)return{};var i$2={};for(var n$2 in e$2)if({}.hasOwnProperty.call(e$2,n$2)){if(mX(t$2).call(t$2,n$2)!==-1)continue;i$2[n$2]=e$2[n$2]}return i$2}(e$1,t$1);if(oX){var o$1=oX(e$1);for(n$1=0;n$1<o$1.length;n$1++)i$1=o$1[n$1],mX(t$1).call(t$1,i$1)===-1&&{}.propertyIsEnumerable.call(e$1,i$1)&&(r$1[i$1]=e$1[i$1])}return r$1}let SX=class{get localCapabilities(){return sN(this._localCapabilities)}get rtpCapabilities(){return sN(this._rtpCapabilities)}get candidates(){return sN(this._candidates)}get iceParameters(){return sN(this._iceParameters)}get dtlsParameters(){return sN(this._dtlsParameters)}constructor(e$1){iA(this,`sessionDesc`,void 0),iA(this,`_localCapabilities`,void 0),iA(this,`_rtpCapabilities`,void 0),iA(this,`_candidates`,void 0),iA(this,`_iceParameters`,void 0),iA(this,`_dtlsParameters`,void 0),iA(this,`setup`,void 0),iA(this,`currentMidIndex`,void 0),iA(this,`cname`,`o/i14u9pJrxRKAsu`),iA(this,`firefoxSsrcMidMap`,new Map),e$1=sN(e$1);let{remoteIceParameters:t$1,remoteDtlsParameters:i$1,candidates:n$1,remoteRTPCapabilities:r$1,localCapabilities:o$1,direction:s$1,setup:a$1,videoCodec:c$1,audioCodec:d$1}=e$1,l$1;this.setup=a$1,l$1=s$1===GV.RECEIVE_ONLY?LD(`v=0
o=- 0 0 IN IP4 127.0.0.1
s=AgoraGateway
t=0 0
a=group:BUNDLE 0 1
a=msid-semantic: WMS
a=extmap-allow-mixed
m=video 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=sendonly
a=rtcp-mux
a=rtcp-rsize
a=mid:0
m=audio 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=sendonly
a=rtcp-mux
a=rtcp-rsize
a=mid:1
`):LD(`v=0
o=- 0 0 IN IP4 127.0.0.1
s=AgoraGateway
t=0 0
a=group:BUNDLE 0 1
a=msid-semantic: WMS
a=extmap-allow-mixed
m=video 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=recvonly
a=rtcp-mux
a=rtcp-rsize
a=mid:0
m=audio 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=recvonly
a=rtcp-mux
a=rtcp-rsize
a=mid:1
`),this._rtpCapabilities=r$1,this._candidates=n$1,this._iceParameters=t$1,this._dtlsParameters=i$1,this._localCapabilities=o$1;let u$1=s$1===GV.RECEIVE_ONLY?this.rtpCapabilities.send:this.rtpCapabilities.recv,h$1=s$1===GV.RECEIVE_ONLY?this._localCapabilities.recv:this._localCapabilities.send,p$1=s$1===GV.RECEIVE_ONLY?r$1.send.videoCodecs:YF(fx.VIDEO,u$1,h$1,c$1),_$1=s$1===GV.RECEIVE_ONLY?r$1.send.audioCodecs:YF(fx.AUDIO,u$1,h$1,d$1);for(let e$2 of l$1.mediaDescriptions)e$2.attributes.iceUfrag=t$1.iceUfrag,e$2.attributes.icePwd=t$1.icePwd,e$2.attributes.fingerprints=i$1.fingerprints,e$2.attributes.candidates=n$1,e$2.attributes.setup=this.setup,e$2.media.mediaType===`application`&&(e$2.attributes.sctpPort=`5000`),e$2.media.mediaType===`video`&&(e$2.media.fmts=p$1.map((e$3=>e$3.payloadType.toString(10))),e$2.attributes.payloads=p$1,e$2.attributes.extmaps=u$1.videoExtensions),e$2.media.mediaType===`audio`&&(e$2.media.fmts=_$1.map((e$3=>e$3.payloadType.toString(10))),e$2.attributes.payloads=_$1,e$2.attributes.extmaps=u$1.audioExtensions,KF(e$2));this.sessionDesc=l$1,this.currentMidIndex=l$1.mediaDescriptions.length-1}toString(){return kD(this.sessionDesc)}hasMid(e$1){return Array.isArray(e$1)?e$1.every((e$2=>this.hasMid(e$2))):this.sessionDesc.mediaDescriptions.some((t$1=>t$1.attributes.mid===e$1))}send(e$1,t$1,i$1,n$1,r$1){i$1=i$1.replace(/ /g,`-`);let{ssrcs:o$1,ssrcGroups:s$1}=LF(t$1,this.cname,CD(`SYNC_GROUP`)?i$1:void 0),a$1=this.findPreloadMediaDesc(o$1);if(a$1){if(Bw()&&this.firefoxSsrcMidMap.set(o$1[0].ssrcId,a$1.attributes.mid),r$1&&(r$1.twcc||r$1.remb)){let e$2=this.sessionDesc.mediaDescriptions.indexOf(a$1);return this.sessionDesc.mediaDescriptions[e$2]=this.mungSendMediaDesc(a$1,r$1),{mid:a$1.attributes.mid,needExchangeSDP:!0}}return{mid:a$1.attributes.mid,needExchangeSDP:!1}}{let t$2=this.findAvailableMediaIndex(e$1,o$1,n$1),i$2;return t$2===-1?(i$2=this.createOrRecycleSendMedia(e$1,o$1,s$1,`sendonly`,n$1,r$1),this.updateBundleMids()):(i$2=sN(this.sessionDesc.mediaDescriptions[t$2]),i$2.attributes.direction=`sendonly`,i$2.attributes.ssrcs=o$1,i$2.attributes.ssrcGroups=s$1,this.sessionDesc.mediaDescriptions[t$2]=this.mungSendMediaDesc(i$2,r$1)),Bw()&&this.firefoxSsrcMidMap.set(o$1[0].ssrcId,i$2.attributes.mid),{needExchangeSDP:!0,mid:i$2.attributes.mid}}}stopSending(e$1){let t$1=this.sessionDesc.mediaDescriptions.filter((t$2=>t$2.attributes.mid&&e$1.indexOf(t$2.attributes.mid)!==-1));if(t$1.length!==e$1.length)throw Error(`mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.`);t$1.forEach((e$2=>{e$2.attributes.ssrcs=[]})),this.updateBundleMids()}receive(e$1,t$1,i$1){let n$1=[];return e$1.forEach((e$2=>{let r$1=e$2._mediaStreamTrack.kind,o$1=this.findAvailableRecvMediaIndex(r$1),s$1,a$1=!1;o$1===-1?(a$1=!0,s$1=this.createOrRecycleRecvMedia(e$2,[],`recvonly`,t$1,i$1),this.updateBundleMids()):(s$1=sN(this.sessionDesc.mediaDescriptions[o$1]),s$1.attributes.direction=`recvonly`),n$1.push({mid:s$1.attributes.mid,needCreateTransceiver:a$1})})),n$1}stopReceiving(e$1){let t$1=this.sessionDesc.mediaDescriptions.filter((t$2=>e$1.indexOf(t$2.attributes.mid)!==-1));if(t$1.length!==e$1.length)throw Error(`MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.`);t$1.forEach((e$2=>{e$2.media.port=`0`,e$2.attributes.direction=`inactive`})),this.updateBundleMids()}addRemoteCandidate(e$1){let{foundation:t$1,protocol:i$1,address:n$1,port:r$1,type:o$1,relatedAddress:s$1,relatedPort:a$1,priority:c$1}=new RTCIceCandidate(e$1),d$1={foundation:t$1??``,componentId:`1`,transport:i$1??``,priority:c$1?c$1+``:``,connectionAddress:n$1??``,port:r$1?r$1+``:``,type:o$1?o$1+``:``,relAddr:s$1??``,relPort:a$1?a$1+``:``,extension:{}};this.candidates.some((e$2=>e$2.priority===d$1.priority&&e$2.connectionAddress===d$1.connectionAddress&&e$2.port===d$1.port))||(this._candidates.push(d$1),this.sessionDesc.mediaDescriptions.forEach((e$2=>{e$2.attributes.candidates=this.candidates})))}clearRemoteCandidate(){this._candidates=[],this.sessionDesc.mediaDescriptions[0].attributes.candidates=this._candidates}createOrRecycleRecvMedia(e$1,t$1,i$1,n$1,r$1){let o$1=e$1._mediaStreamTrack.kind,s$1=this.rtpCapabilities.recv,a$1=YF(o$1,s$1,this.localCapabilities.send,o$1===fx.AUDIO?r$1:n$1),c$1=o$1===fx.VIDEO?s$1.videoExtensions:s$1.audioExtensions,d$1=`${++this.currentMidIndex}`,l$1={media:{mediaType:o$1,port:`9`,protos:[`UDP`,`TLS`,`RTP`,`SAVPF`],fmts:a$1.map((e$2=>e$2.payloadType.toString(10)))},connections:[{nettype:`IN`,addrtype:`IP4`,address:`127.0.0.1`}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:[],extmaps:c$1,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t$1,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:a$1,rtcp:{port:`9`,netType:`IN`,addressType:`IP4`,address:`0.0.0.0`},setup:this.setup,direction:i$1,rtcpMux:!0,rtcpRsize:!0,mid:`${d$1}`}};l$1=this.mungRecvMediaDsec(l$1,e$1);let u$1=this.findFirstClosedMedia(o$1);if(u$1){let e$2=this.sessionDesc.mediaDescriptions.indexOf(u$1);this.sessionDesc.mediaDescriptions[e$2]=l$1}else this.sessionDesc.mediaDescriptions.push(l$1);return l$1}muteRemote(e$1){let t$1=this.sessionDesc.mediaDescriptions.filter((t$2=>Ln(e$1).call(e$1,t$2.attributes.mid||``)));if(t$1.length!==e$1.length)throw Error(`mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.`);t$1.forEach((e$2=>{e$2.attributes.direction=`inactive`}))}unmuteRemote(e$1){let t$1=this.sessionDesc.mediaDescriptions.filter((t$2=>Ln(e$1).call(e$1,t$2.attributes.mid||``)));if(t$1.length!==e$1.length)throw Error(`mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.`);t$1.forEach((e$2=>{e$2.attributes.direction=`recvonly`}))}findAvailableMediaIndex(e$1,t$1,i$1){return this.sessionDesc.mediaDescriptions.findIndex((n$1=>{let r$1=n$1.media.mediaType===e$1&&n$1.media.port!==`0`&&(n$1.attributes.direction===`sendonly`||n$1.attributes.direction===`sendrecv`)&&n$1.attributes.ssrcs.length===0;if(Bw()){if(r$1){let e$2=this.firefoxSsrcMidMap.get(t$1[0].ssrcId);return!(e$2||n$1.attributes.mid!==`0`&&n$1.attributes.mid!==`1`)||!(!e$2||e$2!==n$1.attributes.mid)}return!1}return r$1&&n$1.attributes.mid===i$1}))}findAvailableRecvMediaIndex(e$1){return this.sessionDesc.mediaDescriptions.findIndex((t$1=>{let i$1=t$1.media.mediaType===e$1&&t$1.media.port!==`0`&&(t$1.attributes.direction===`recvonly`||t$1.attributes.direction===`sendrecv`);return t$1.attributes.mid!==`0`&&t$1.attributes.mid!==`1`&&i$1}))}predictReceivingMids(e$1){let t$1=[];for(let i$1=0;i$1<e$1;i$1++)t$1.push((this.currentMidIndex+i$1+1).toString(10));return t$1}restartICE(e$1){e$1=sN(e$1),this._iceParameters=e$1,this.sessionDesc.mediaDescriptions.forEach((t$1=>{t$1.attributes.iceUfrag=e$1.iceUfrag,t$1.attributes.icePwd=e$1.icePwd}))}createOrRecycleSendMedia(e$1,t$1,i$1,n$1,r$1,o$1){let s$1=this.rtpCapabilities.send,a$1=e$1===fx.VIDEO?s$1.videoCodecs:s$1.audioCodecs,c$1=e$1===fx.VIDEO?s$1.videoExtensions:s$1.audioExtensions;Bw()&&(r$1=`${++this.currentMidIndex}`);let d$1={media:{mediaType:e$1,port:`9`,protos:[`UDP`,`TLS`,`RTP`,`SAVPF`],fmts:a$1.map((e$2=>e$2.payloadType.toString(10)))},connections:[{nettype:`IN`,addrtype:`IP4`,address:`127.0.0.1`}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:[],extmaps:c$1,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t$1,ssrcGroups:i$1,rtcpFeedbackWildcards:[],payloads:a$1,rtcp:{port:`9`,netType:`IN`,addressType:`IP4`,address:`0.0.0.0`},setup:this.setup,direction:n$1,rtcpMux:!0,rtcpRsize:!0,mid:r$1}};d$1=this.mungSendMediaDesc(d$1,o$1);let l$1=this.findFirstClosedMedia(e$1);if(l$1){let e$2=this.sessionDesc.mediaDescriptions.indexOf(l$1);this.sessionDesc.mediaDescriptions[e$2]=d$1}else this.sessionDesc.mediaDescriptions.push(d$1);return d$1}mungRecvMediaDsec(e$1,t$1,i$1){let n$1=sN(e$1);return MF(n$1),kF(n$1,t$1),UF(n$1,t$1),VF(n$1),xF(n$1,i$1,this.localCapabilities.send),n$1}mungSendMediaDesc(e$1,t$1){let i$1=sN(e$1);return xF(i$1,t$1,this.localCapabilities.recv),KF(i$1),i$1}updateRecvMedia(e$1,t$1){let i$1=this.sessionDesc.mediaDescriptions.findIndex((t$2=>t$2.attributes.mid===e$1));if(i$1!==-1){let e$2=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[i$1],t$1);this.sessionDesc.mediaDescriptions[i$1]=e$2}}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter((e$1=>e$1.media.port!==`0`)).map((e$1=>e$1.attributes.mid))}findPreloadMediaDesc(e$1){return this.sessionDesc.mediaDescriptions.find((t$1=>{var i$1;return((i$1=t$1.attributes)==null||(i$1=i$1.ssrcs[0])==null?void 0:i$1.ssrcId)===e$1[0].ssrcId}))}findFirstClosedMedia(e$1){return this.sessionDesc.mediaDescriptions.find((t$1=>Bw()?t$1.media.port===`0`&&t$1.media.mediaType===e$1:t$1.media.port===`0`))}},gX=[`sdp`];var TX;function RX(e$1,t$1){var i$1=Object.keys(e$1);if(Object.getOwnPropertySymbols){var n$1=Object.getOwnPropertySymbols(e$1);t$1&&(n$1=n$1.filter((function(t$2){return Object.getOwnPropertyDescriptor(e$1,t$2).enumerable}))),i$1.push.apply(i$1,n$1)}return i$1}function CX(e$1){for(var t$1=1;t$1<arguments.length;t$1++){var i$1=arguments[t$1]==null?{}:arguments[t$1];t$1%2?RX(Object(i$1),!0).forEach((function(t$2){iA(e$1,t$2,i$1[t$2])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e$1,Object.getOwnPropertyDescriptors(i$1)):RX(Object(i$1)).forEach((function(t$2){Object.defineProperty(e$1,t$2,Object.getOwnPropertyDescriptor(i$1,t$2))}))}return e$1}let vX=(TX=class e$1 extends Ex{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get dtlsTransportState(){var e$2,t$1;return((t$1=this.peerConnection.getReceivers()[0])==null||(t$1=t$1.transport)==null?void 0:t$1.state)??null}get localCodecs(){return[]}set isInRestartIce(e$2){this._isInRestartIce=e$2}get isInRestartIce(){return this._isInRestartIce}constructor(t$1,i$1,n$1){super(t$1,i$1),iA(this,`direction`,void 0),iA(this,`name`,void 0),iA(this,`store`,void 0),iA(this,`spec`,void 0),iA(this,`peerConnection`,void 0),iA(this,`initialOffer`,void 0),iA(this,`transport`,void 0),iA(this,`statsFilter`,void 0),iA(this,`localCandidateCount`,0),iA(this,`_isInRestartIce`,!1),iA(this,`mutex`,void 0),iA(this,`onLocalCandidate`,void 0),iA(this,`remoteSDP`,void 0),iA(this,`pendingCandidates`,[]),iA(this,`localCapabilities`,void 0),iA(this,`isReady`,!1),iA(this,`restartCnt`,0),iA(this,`curTurnServerIndex`,0),this.store=i$1,this.spec=t$1,this.mutex=new PN(`P2PConnection-mutex`,i$1.clientId),this.peerConnection=new RTCPeerConnection(e$1.resolvePCConfiguration(t$1,i$1.p2pTransport),{optional:[{googDscp:!0}]}),this.direction=n$1??GV.SEND_ONLY,this.name=this.direction===GV.SEND_ONLY?`sendP2PConnection`:`recvP2PConnection`,this.statsFilter=dD(this.peerConnection,CD(`STATS_UPDATE_INTERVAL`),void 0,Bw()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1}async establish(e$2){try{if(this.localCapabilities=HF(await jF()),e$2){let{sdp:t$1}=e$2,i$1=fX(e$2,gX),n$1=function(){let e$3={audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},t$2=wF(arguments.length>2?arguments[2]:void 0,arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},`sendonly`),i$2={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},n$2={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},r$2={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(WF(t$2,e$3,`videoExtensions`,i$2,n$2,r$2),WF(t$2,e$3,`videoCodecs`,i$2,n$2,r$2),WF(t$2,e$3,`audioExtensions`,i$2,n$2,r$2),WF(t$2,e$3,`audioCodecs`,i$2,n$2,r$2),CD(`RAISE_H264_BASELINE_PRIORITY`)){let e$4=r$2.videoCodecs.findIndex((e$5=>e$5.rtpMap&&e$5.rtpMap.encodingName.toLocaleLowerCase()===`h264`&&e$5.fmtp&&e$5.fmtp.parameters[`profile-level-id`]===`42001f`));if(e$4!==-1){let t$3=r$2.videoCodecs.findIndex((e$5=>e$5.rtpMap&&e$5.rtpMap.encodingName.toLocaleLowerCase()===`h264`));if(t$3<e$4){iP.debug(`raising H264 baseline profile priority`);let i$3=r$2.videoCodecs[e$4];r$2.videoCodecs.splice(e$4,1),r$2.videoCodecs.splice(t$3,0,i$3)}t$3!==-1&&CD(`FILTER_SEND_H264_BASELINE`)&&(i$2.videoCodecs=i$2.videoCodecs.filter((e$5=>!(e$5.rtpMap&&e$5.rtpMap.encodingName.toLocaleLowerCase()===`h264`&&e$5.fmtp&&e$5.fmtp.parameters[`profile-level-id`]!==`42001f`))))}}return{send:i$2,recv:n$2,sendrecv:r$2}}({},{},t$1);this.remoteSDP=new SX({remoteIceParameters:i$1.iceParameters,remoteDtlsParameters:i$1.dtlsParameters,candidates:[],remoteRTPCapabilities:n$1,localCapabilities:this.localCapabilities,direction:this.direction,setup:`actpass`,videoCodec:this.store.codec,audioCodec:this.store.audioCodec}),await this.setRemoteDescription({type:`offer`,sdp:this.remoteSDP.toString()}),this.isReady=!0;let r$1=await this.peerConnection.createAnswer();if(!r$1.sdp)throw Error(`Cannot get answer sdp when trying to establish PeerConnection.`);let o$1=OF(r$1.sdp);await this.peerConnection.setLocalDescription(r$1),this.localCapabilities=HF(await GF({},{},r$1.sdp));let a$1=this.peerConnection.getTransceivers()[0];return a$1!=null&&a$1.receiver&&a$1.receiver.transport&&this.tryBindTransportEvents(a$1.receiver.transport),CX(CX({},o$1),{},{sdp:r$1.sdp})}{this.peerConnection.addTransceiver(`video`,{direction:`sendonly`}),this.peerConnection.addTransceiver(`audio`,{direction:`sendonly`});let e$3=await this.peerConnection.createOffer();if(!e$3.sdp)throw Error(`Cannot get initialOffer.sdp when trying to establish PeerConnection.`);let t$1=OF(e$3.sdp);return this.initialOffer=e$3,CX(CX({},t$1),{},{sdp:e$3.sdp})}}catch(e$3){throw new pO(hO.GET_LOCAL_CONNECTION_PARAMS_FAILED,e$3.toString())}}async connect(e$2){try{if(!this.initialOffer)throw Error(`Cannot establish P2PConnection without initial offer.`);await this.peerConnection.setLocalDescription(this.initialOffer);let{sdp:t$1,iceParameters:i$1,dtlsParameters:n$1}=e$2;this.remoteSDP=new SX({remoteIceParameters:i$1,remoteDtlsParameters:n$1,candidates:[],remoteRTPCapabilities:await GF({},{},t$1),localCapabilities:this.localCapabilities,direction:this.direction,setup:`active`,videoCodec:this.store.codec,audioCodec:this.store.audioCodec}),await this.setRemoteDescription({type:`answer`,sdp:this.remoteSDP.toString()});let o$1=this.peerConnection.getTransceivers()[0];o$1!=null&&o$1.sender&&o$1.sender.transport&&this.tryBindTransportEvents(o$1.sender.transport)}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,`P2PConnection.connect failed; ${e$3.toString()}`)}}async addRemoteCandidate(e$2){try{e$2&&this.pendingCandidates.push(e$2),this.peerConnection.remoteDescription&&this.isReady&&(this.pendingCandidates.forEach((e$3=>{this.peerConnection.addIceCandidate(e$3)})),this.pendingCandidates=[])}catch(e$3){throw new pO(hO.ADD_CANDIDATE_FAILED,`P2PConnection.addRemoteCandidate failed; ${e$3.toString()}`)}}send(e$2,t$1,i$1){var n$1=this;return Mb((function*(){let r$1=yield Vb(n$1.mutex.lock(`From P2PConnection.send`));try{if(!n$1.remoteSDP)throw Error(`Cannot call P2PConnection.send before remote SDP created`);let o$1=[],s$1=n$1.remoteSDP.receive(e$2,t$1,i$1);e$2.forEach(((e$3,t$2)=>{if(s$1[t$2].needCreateTransceiver){let t$3=n$1.peerConnection.addTransceiver(e$3._mediaStreamTrack,{direction:`sendonly`});o$1.push(t$3),e$3._updateRtpTransceiver(t$3)}else{let i$2=n$1.peerConnection.getTransceivers().find((e$4=>e$4.mid===s$1[t$2].mid));if(!i$2)throw Error(`cannot find transceiver when sendPeerconnection send, mid is ${s$1[t$2].mid}`);o$1.push(i$2),e$3._updateRtpTransceiver(i$2)}})),Bw()&&!0===CD(`SIMULCAST`)&&(yield Vb(n$1.applySimulcastForFirefox(o$1,e$2)));let a$1=s$1.map((e$3=>e$3.mid)),c$1=yield Vb(n$1.peerConnection.createOffer()),d$1=n$1.mungSendOfferSDP(c$1.sdp,e$2,a$1),l$1=LD(d$1),u$1=a$1.map((e$3=>{let t$2=l$1.mediaDescriptions.find((t$3=>t$3.attributes.mid===e$3));if(!t$2)throw Error(`Cannot extract ssrc from mediaDescription.`);return NF(t$2,CD(`USE_PUB_RTX`))})),h$1=o$1.map(((e$3,t$2)=>{let i$2=a$1[t$2];return{localSSRC:u$1[t$2],id:i$2}}));yield Vb(n$1.peerConnection.setLocalDescription({type:`offer`,sdp:d$1}));try{yield h$1}catch(e$3){let t$2=n$1.remoteSDP.toString();throw yield Vb(n$1.peerConnection.setLocalDescription({type:`offer`,sdp:d$1})),yield Vb(n$1.peerConnection.setRemoteDescription({type:`answer`,sdp:t$2})),yield Vb(n$1.stopSending(a$1,!0)),e$3}yield Vb(n$1.applySimulcastEncodings(o$1,e$2)),yield Vb(n$1.applySendEncodings(o$1,e$2));let p$1=n$1.remoteSDP.toString();return n$1.logSDPExchange(d$1,`offer`,`local`,`send`)?.(p$1),yield Vb(n$1.setRemoteDescription({type:`answer`,sdp:p$1})),o$1.map(((e$3,t$2)=>{let i$2=a$1[t$2];return{localSSRC:u$1[t$2],id:i$2}}))}catch(e$3){throw e$3 instanceof pO?e$3:new pO(hO.EXCHANGE_SDP_FAILED,`P2PConnection.send failed; ${e$3.toString()}`)}finally{r$1()}}))()}async stopSending(e$2,t$1){let i$1=t$1?void 0:await this.mutex.lock(`From P2PConnection.stopSending`);try{if(!this.remoteSDP)throw Error(`Cannot call P2PConnection.stopSending before remote SDP created`);let t$2=this.peerConnection.getTransceivers().filter((t$3=>e$2.indexOf(t$3.mid)!==-1));if(t$2.length!==e$2.length)throw Error(`Transceivers' length (${t$2.length}) doesn't match mids' length (${e$2.length}) when trying to call P2PConnection.stopSending.`);t$2.map((e$3=>{var t$3;e$3.direction=`inactive`,(t$3=e$3.stop)==null||t$3.call(e$3)}));let n$1=await this.peerConnection.createOffer(),r$1=this.logSDPExchange(n$1.sdp||``,`offer`,`local`,`stopSending`);await this.peerConnection.setLocalDescription(n$1),this.remoteSDP.stopReceiving(e$2);let o$1=this.remoteSDP.toString();r$1?.(o$1),await this.setRemoteDescription({type:`answer`,sdp:o$1})}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,`P2PConnection.stopSending failed; ${e$3.toString()}`)}finally{i$1&&i$1()}}async receive(e$2,t$1,i$1,n$1){try{if(!this.remoteSDP)throw Error(`Cannot call P2PConnection.receive ${e$2} before remoteSDP created.`);let{mid:r$1,needExchangeSDP:o$1}=this.remoteSDP.send(e$2,t$1,i$1,n$1);if(o$1){let t$2=this.remoteSDP.toString(),i$2=this.logSDPExchange(t$2,`offer`,`remote`,`receive`);await this.setRemoteDescription({type:`offer`,sdp:t$2});let n$2=await this.peerConnection.createAnswer(),o$2=this.mungReceiveAnswerSDP(n$2.sdp,r$1,e$2);i$2?.(o$2||``),await this.peerConnection.setLocalDescription({type:`answer`,sdp:o$2}),iP.debug(`[${this.store.clientId}] [P2PConnection] receive ${e$2} by exchanging SDP.`)}else iP.debug(`[${this.store.clientId}] [P2PConnection] receive ${e$2} no need to exchange SDP.`);let s$1=this.peerConnection.getTransceivers().find((e$3=>e$3.mid===r$1));if(!s$1||s$1.mid===null)throw Error(`Cannot get transceiver after setLocalDescription.`);return{track:s$1.receiver.track,mid:s$1.mid,transceiver:s$1}}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,`P2PConnection.receive failed; ${e$3.toString()}`)}}async mockReceive(e$2,t$1,i$1,n$1){try{if(!this.remoteSDP)throw Error(`Cannot call P2PConnection.receive ${e$2} before remoteSDP created.`);let{mid:r$1,needExchangeSDP:o$1}=this.remoteSDP.send(e$2,t$1,i$1,n$1);if(o$1){let t$2=this.remoteSDP.toString(),i$2=this.logSDPExchange(t$2,`offer`,`remote`,`receive`);await this.setRemoteDescription({type:`offer`,sdp:t$2});let n$2=await this.peerConnection.createAnswer(),o$2=this.mungReceiveAnswerSDP(n$2.sdp,r$1,e$2);i$2?.(o$2||``),await this.peerConnection.setLocalDescription({type:`answer`,sdp:o$2}),iP.debug(`[${this.store.clientId}] [P2PConnection] receive ${e$2} by exchanging SDP.`)}else iP.debug(`[${this.store.clientId}] [P2PConnection] receive ${e$2} no need to exchange SDP.`)}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,`P2PConnection.receive failed; ${e$3.toString()}`)}}async stopReceiving(e$2){try{if(!this.remoteSDP)throw Error(`Cannot call P2PConnection.stopReceiving before remote SDP created.`);this.remoteSDP.stopSending(e$2);let t$1=this.remoteSDP.toString(),i$1=this.logSDPExchange(t$1,`offer`,`remote`,`stopReceiving`);await this.setRemoteDescription({type:`offer`,sdp:t$1});let n$1=await this.peerConnection.createAnswer();i$1?.(n$1.sdp||``),await this.peerConnection.setLocalDescription(n$1)}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,`P2PConnection stopReceiving failed; ${e$3.toString()}`)}}async restartICE(t$1){try{if(this.store.p2pTransport===_D.Auto&&(this.store.p2pTransport=_D.SdRtn,pP().supportPCSetConfiguration&&this.peerConnection.setConfiguration(e$1.resolvePCConfiguration(this.spec,this.store.p2pTransport))),this.restartCnt>3&&(this.restartCnt=0,pP().supportPCSetConfiguration&&this.peerConnection.setConfiguration(e$1.resolvePCConfiguration(this.spec,this.store.p2pTransport,++this.curTurnServerIndex))),!t$1){this.restartCnt++,this.isReady=!1;let e$2=await this.peerConnection.createOffer({iceRestart:!0});if(!e$2.sdp)throw Error(`Cannot restartICE because restart offer SDP does not exist.`);let{iceParameters:t$2}=OF(e$2.sdp);return this.store.descriptionStart(),this.direction===GV.SEND_ONLY&&await this.peerConnection.setLocalDescription(e$2),t$2}if(!this.remoteSDP)throw Error(`Cannot call P2PConnection.stopReceiving before remote SDP created.`);if(this.remoteSDP.restartICE(t$1),this.store.descriptionStart(),this.direction===GV.RECEIVE_ONLY){this.restartCnt++,await this.setRemoteDescription({type:`offer`,sdp:this.remoteSDP.toString()});let e$2=await this.peerConnection.createAnswer();if(!e$2.sdp)throw Error(`Cannot get answer sdp when trying to iceRestart.`);let{iceParameters:t$2}=OF(e$2.sdp);return await this.peerConnection.setLocalDescription(e$2),t$2}await this.setRemoteDescription({type:`answer`,sdp:this.remoteSDP.toString()}),this.isReady=!0}catch(e$2){throw new pO(hO.EXCHANGE_SDP_FAILED,`P2PConnection stopReceiving failed; ${e$2.toString()}`)}}close(){var e$2;this.peerConnection.close(),this.peerConnection.onicecandidate=null,(e$2=this.onConnectionStateChange)==null||e$2.call(this,`closed`),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.transport=void 0,this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e$2){return this.statsFilter.getVideoIsReady(e$2)}async updateEncoderConfig(e$2,t$1){try{if(!this.remoteSDP)throw Error(`Cannot call P2PConnection.updateEncoderConfig before remote SDP created.`);let i$1=await this.peerConnection.createOffer(),n$1=this.mungSendOfferSDP(i$1.sdp,[t$1],[e$2]);this.remoteSDP.updateRecvMedia(e$2,t$1);let r$1=this.remoteSDP.toString(),o$1=this.logSDPExchange(n$1,`offer`,`local`,`updateEncoderConfig`);await this.peerConnection.setLocalDescription({type:`offer`,sdp:n$1}),o$1?.(r$1),await this.peerConnection.setRemoteDescription({type:`answer`,sdp:r$1})}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,e$3.toString())}}async updateSendParameters(e$2,t$1){let i$1=this.peerConnection.getTransceivers().filter((t$2=>t$2.mid===e$2));i$1.length===1&&(this.isVP8Simulcast(t$1)?Bw()||await this.applySimulcastEncodings(i$1,[t$1]):await this.applySendEncodings(i$1,[t$1]))}setStatsRemoteVideoIsReady(e$2,t$1){this.statsFilter.setVideoIsReady2(e$2,t$1)}async replaceTrack(e$2,t$1){let i$1=this.peerConnection.getTransceivers().find((e$3=>e$3.mid===t$1));i$1&&await i$1.sender.replaceTrack(e$2._mediaStreamTrack)}async getSelectedCandidatePair(){let e$2=this.peerConnection.getReceivers();if(e$2.length>0&&e$2[0].transport&&e$2[0].transport.iceTransport&&e$2[0].transport.iceTransport.getSelectedCandidatePair&&e$2[0].transport.iceTransport.getSelectedCandidatePair()){let{local:i$1,remote:n$1}=e$2[0].transport.iceTransport.getSelectedCandidatePair();return{local:CX(CX({},zN),{},{candidateType:i$1.type,protocol:i$1.protocol,address:i$1.address,port:i$1.port}),remote:CX(CX({},zN),{},{candidateType:n$1.type,protocol:n$1.protocol,address:n$1.address,port:n$1.port})}}return this.statsFilter.getSelectedCandidatePair()}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e$2,t$1;Ln(e$2=[`connected`,`completed`]).call(e$2,this.peerConnection.iceConnectionState)&&(this.isReady=!1),(t$1=this.onICEConnectionStateChange)==null||t$1.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e$2;this.peerConnection.connectionState===`connected`&&(this.restartCnt=0),(e$2=this.onConnectionStateChange)==null||e$2.call(this,this.peerConnection.connectionState)},this.startICECandidate()}startICECandidate(){this.peerConnection.onicecandidate||(this.localCandidateCount=0,this.peerConnection.onicecandidate=e$2=>{if(e$2.candidate){var t$1;e$2.candidate.candidate&&((t$1=this.onLocalCandidate)==null||t$1.call(this,e$2.candidate.toJSON())),this.localCandidateCount+=1}else iP.debug(`[${this.store.clientId}] [pc-${this.store.p2pId}] local candidate count`,this.localCandidateCount)})}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(t$1,i$1){let n$1=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r$1={iceServers:[]};var o$1;return t$1.iceServers?r$1.iceServers=t$1.iceServers:t$1.turnServer&&t$1.turnServer.mode!==`off`&&(xO(t$1.turnServer.servers)?r$1.iceServers=t$1.turnServer.servers:(r$1.iceServers&&r$1.iceServers.push(...e$1.turnServerConfigToIceServers(t$1.turnServer.servers,i$1,n$1)),CD(`USE_TURN_SERVER_OF_GATEWAY`)&&r$1.iceServers&&t$1.turnServer.serversFromGateway&&r$1.iceServers.push(...e$1.turnServerConfigToIceServers(t$1.turnServer.serversFromGateway,i$1,n$1)),Ln(o$1=[_D.Relay,_D.SdRtn]).call(o$1,i$1)&&(r$1.iceTransportPolicy=`relay`),CD(`FORCE_TURN_TCP`)?r$1.iceTransportPolicy=`relay`:t$1.turnServer.servers.concat(t$1.turnServer.serversFromGateway||[]).forEach((e$2=>{e$2.forceturn&&(r$1.iceTransportPolicy=`relay`)})))),CD(`ENABLE_ENCODED_TRANSFORM`)&&pP().supportWebRTCEncodedTransform&&(r$1.encodedInsertableStreams=!0),iP.debug(`P2PConnection p2pTransport is ${i$1}`),r$1}static turnServerConfigToIceServers(e$2,t$1){let i$1=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n$1=[],r$1=e$2.filter((e$3=>e$3.tcpport));iP.debug(`P2PConnection turnServers is ${r$1}, current index is ${i$1}`);let o$1=r$1.length>i$1?r$1[i$1]:r$1[0];switch(t$1){case _D.SdRtn:let t$2=e$2.filter((e$3=>{var t$3;return Ln(t$3=e$3.username).call(t$3,`glb:`)&&e$3.turnServerURL==e$3.turnServerURL})),r$2=t$2.length>i$1?t$2[i$1]:t$2[0];r$2&&(n$1.push({username:r$2.username,credential:r$2.password,credentialType:`password`,urls:`turn:${sF(r$2.turnServerURL)}:${r$2.tcpport}?transport=udp`}),n$1.push({username:r$2.username,credential:r$2.password,credentialType:`password`,urls:`turns:${sF(r$2.turnServerURL)}:${r$2.tcpport}?transport=tcp`}));break;case _D.Relay:o$1&&(n$1.push({username:o$1.username,credential:o$1.password,credentialType:`password`,urls:`turn:${o$1.turnServerURL}:${o$1.tcpport}?transport=udp`}),n$1.push({username:o$1.username,credential:o$1.password,credentialType:`password`,urls:`turns:${sF(o$1.turnServerURL)}:${o$1.tcpport}?transport=tcp`}));break;default:o$1&&(n$1.push({username:o$1.username,credential:o$1.password,credentialType:`password`,urls:`turn:${o$1.turnServerURL}:${o$1.tcpport}?transport=udp`}),n$1.push({username:o$1.username,credential:o$1.password,credentialType:`password`,urls:`turns:${sF(o$1.turnServerURL)}:${o$1.tcpport}?transport=tcp`}),n$1.push({username:o$1.username,credential:o$1.password,credentialType:`password`,urls:`stun:${o$1.turnServerURL}:${o$1.tcpport}`}))}return n$1}tryBindTransportEvents(e$2){if(e$2){this.transport=e$2,e$2.onstatechange=()=>{var t$2;e$2!=null&&e$2.state&&((t$2=this.onDTLSTransportStateChange)==null||t$2.call(this,e$2.state))},e$2.onerror=e$3=>{var t$2;(t$2=this.onDTLSTransportError)==null||t$2.call(this,`error`in e$3?e$3.error:e$3)};let t$1=e$2.iceTransport;t$1&&(t$1.onstatechange=()=>{let t$2=e$2?.iceTransport.state;var i$1;t$2&&((i$1=this.onICETransportStateChange)==null||i$1.call(this,t$2))},t$1.getSelectedCandidatePair&&(t$1.onselectedcandidatepairchange=()=>{if(t$1.getSelectedCandidatePair()){let{local:e$3,remote:i$1}=t$1.getSelectedCandidatePair()||{};if(e$3&&i$1){let t$2=e$3.address+`:`+e$3.port,n$1=i$1.address+`:`+i$1.port;iP.info(`[${this.store.clientId}] [pc-${this.store.p2pId}] selectedcandidatepairchange: local ${JSON.stringify(mF(t$2))}, remote ${JSON.stringify(mF(n$1))}`)}}}))}}tryUnbindTransportEvents(){this.transport&&(this.transport.onstatechange=null,this.transport.onerror=null,this.transport.iceTransport&&(this.transport.iceTransport.onstatechange=null))}async updateRtpSenderEncodings(e$2,t$1){var i$1;if(t$1||=this.peerConnection.getSenders().find((t$2=>t$2.track===e$2._mediaStreamTrack)),!t$1)return iP.warn(`[${e$2.getTrackId()}] no rtpSender found}`);if(this.isVP8Simulcast(e$2))return iP.warn(`[updateRtpSenderEncodings] Track is VP8 simulcast, please apply simulcast encodings`);if(!pP().supportSetRtpSenderParameters)return iP.warn(`[updateRtpSenderEncodings] Browser not support set rtp-sender parameters`);let n$1={},r$1={};switch(e$2._optimizationMode){case`motion`:n$1.degradationPreference=`maintain-framerate`;break;case`detail`:n$1.degradationPreference=`maintain-resolution`;break;default:n$1.degradationPreference=`balanced`}if(e$2._encoderConfig){var o$1;let{bitrateMax:t$2,frameRate:i$2,scaleResolutionDownBy:n$2}=e$2._encoderConfig;t$2&&(r$1.maxBitrate=1e3*t$2),Ln(o$1=e$2._hints).call(o$1,VP.LOW_STREAM)&&(i$2&&(r$1.maxFramerate=dF(i$2)),n$2&&n$2>=1&&(r$1.scaleResolutionDownBy=n$2))}if(CD(`DSCP_TYPE`)&&sO()){var s$1;let e$3=CD(`DSCP_TYPE`);Ln(s$1=[`very-low`,`low`,`medium`,`high`]).call(s$1,e$3)&&(r$1.networkPriority=e$3)}let a$1=t$1.getParameters(),c$1=a$1.encodings?.[0];Bw()&&!c$1&&(n$1.encodings=[r$1]),c$1&&Object.assign(c$1,r$1),Object.assign(a$1,n$1),iP.debug(`[${e$2.getTrackId()}] updateRtpSenderEncodings: ${JSON.stringify(a$1.encodings)}`),await t$1.setParameters(a$1)}async applySendEncodings(e$2,t$1){try{if(!pP().supportSetRtpSenderParameters||e$2.length!==t$1.length)return;for(let i$1=0;i$1<e$2.length;i$1++){let n$1=e$2[i$1],r$1=t$1[i$1];r$1 instanceof kM&&!this.isVP8Simulcast(r$1)&&await this.updateRtpSenderEncodings(r$1,n$1.sender)}}catch{iP.debug(`[${this.store.clientId}] Apply RTPSendEncodings failed.`)}}mungSendOfferSDP(e$2,t$1,i$1){let n$1=LD(e$2);return t$1.forEach(((e$3,t$2)=>{let r$1=i$1[t$2],o$1=n$1.mediaDescriptions.find((e$4=>e$4.attributes.mid===r$1));o$1&&(kF(o$1,e$3),FF(o$1,e$3,this.store.codec))})),kD(n$1)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e$2=>{var t$1;(t$1=this.onFirstAudioReceived)==null||t$1.call(this,e$2)},this.statsFilter.onFirstVideoReceived=e$2=>{var t$1;(t$1=this.onFirstVideoReceived)==null||t$1.call(this,e$2)},this.statsFilter.onFirstAudioDecoded=e$2=>{var t$1;(t$1=this.onFirstAudioDecoded)==null||t$1.call(this,e$2)},this.statsFilter.onFirstVideoDecoded=(e$2,t$1,i$1)=>{var n$1;(n$1=this.onFirstVideoDecoded)==null||n$1.call(this,e$2,t$1,i$1)},this.statsFilter.onSelectedLocalCandidateChanged=(e$2,t$1)=>{var i$1;(i$1=this.onSelectedLocalCandidateChanged)==null||i$1.call(this,e$2,t$1)},this.statsFilter.onSelectedRemoteCandidateChanged=(e$2,t$1)=>{var i$1;(i$1=this.onSelectedRemoteCandidateChanged)==null||i$1.call(this,e$2,t$1)},this.statsFilter.onFirstVideoDecodedTimeout=e$2=>{var t$1;(t$1=this.onFirstVideoDecodedTimeout)==null||t$1.call(this,e$2)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(e$2,t$1){if(e$2.length===t$1.length)for(let a$1=0;a$1<e$2.length;a$1++){var i$1,n$1,r$1,o$1,s$1;let c$1=e$2[a$1],d$1=t$1[a$1];if(d$1 instanceof kM&&!Ln(i$1=d$1._hints).call(i$1,VP.LOW_STREAM)&&(n$1=d$1._encoderConfig)!=null&&n$1.bitrateMax&&d$1._encoderConfig?.bitrateMax>200&&(o$1=d$1._scalabilityMode)!=null&&o$1.numSpatialLayers&&d$1._scalabilityMode?.numSpatialLayers>1&&this.store.codec===`vp8`){let e$3={},t$2={high:1e3*(d$1._encoderConfig.bitrateMax-50),medium:5e4};e$3.encodings=[{rid:`m`,active:!0,maxBitrate:t$2.medium,scaleResolutionDownBy:4},{rid:`h`,active:!0,maxBitrate:t$2.high}];let i$2=c$1.sender.getParameters();await c$1.sender.setParameters(Object.assign(i$2,e$3))}}}async applySimulcastEncodings(e$2,t$1){if(!Bw()&&e$2.length===t$1.length)for(let i$1=0;i$1<e$2.length;i$1++){let n$1=t$1[i$1];if(n$1 instanceof kM&&this.isVP8Simulcast(n$1)){let t$2=e$2[i$1],r$1={},o$1={high:1e3*(n$1._encoderConfig.bitrateMax-50),medium:5e4};r$1.encodings=[{active:!0,adaptivePtime:!1,networkPriority:`high`,priority:`high`,maxBitrate:o$1.high},{active:!0,adaptivePtime:!1,networkPriority:`low`,priority:`low`,maxBitrate:o$1.medium,scaleResolutionDownBy:4}];let s$1=t$2.sender.getParameters();await t$2.sender.setParameters(Object.assign(s$1,r$1))}}}isVP8Simulcast(e$2){var t$1,i$1,n$1,r$1,o$1;return!!(e$2 instanceof kM&&CD(`SIMULCAST`)&&this.store.codec===`vp8`&&!Ln(t$1=e$2._hints).call(t$1,VP.LOW_STREAM)&&(i$1=e$2._encoderConfig)!=null&&i$1.bitrateMax&&e$2._encoderConfig?.bitrateMax>200&&(r$1=e$2._scalabilityMode)!=null&&r$1.numSpatialLayers&&e$2._scalabilityMode?.numSpatialLayers>1)}logSDPExchange(e$2,t$1,i$1,n$1){if(CD(`SDP_LOGGING`))return iP.upload(`[${this.store.clientId}] exchanging ${i$1} ${t$1} SDP during P2PConnection.${n$1}
`,e$2),t$1===`offer`?e$3=>{this.logSDPExchange(e$3,`answer`,i$1===`local`?`remote`:`local`,n$1)}:void 0}async muteLocal(e$2){try{if(!this.remoteSDP)throw Error(`Cannot call P2PConnection.muteLocal before remote SDP created.`);let t$1=this.peerConnection.getTransceivers().filter((t$2=>t$2.mid&&e$2.indexOf(t$2.mid)!==-1));if(t$1.length!==e$2.length)throw Error(`Transceivers' length doesn't match mids' length.`);t$1.map((e$3=>{e$3.direction=`inactive`}));let i$1=await this.peerConnection.createOffer(),n$1=this.logSDPExchange(i$1.sdp||``,`offer`,`local`,`muteLocal`);await this.peerConnection.setLocalDescription(i$1),this.remoteSDP.muteRemote(e$2);let r$1=this.remoteSDP.toString();n$1?.(r$1),await this.setRemoteDescription({type:`answer`,sdp:r$1})}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,`P2PConnection.muteLocal failed; ${e$3.toString()}`)}}async unmuteLocal(e$2){try{if(!this.remoteSDP)throw Error(`Cannot call P2PConnection.unmuteLocal before remote SDP created.`);let t$1=this.peerConnection.getTransceivers().filter((t$2=>t$2.mid&&e$2.indexOf(t$2.mid)!==-1));if(t$1.length!==e$2.length)throw Error(`Transceivers' length doesn't match mids' length.`);t$1.map((async e$3=>{e$3.direction=`sendonly`}));let i$1=await this.peerConnection.createOffer(),n$1=this.logSDPExchange(i$1.sdp||``,`offer`,`local`,`unmuteLocal`);await this.peerConnection.setLocalDescription(i$1),this.remoteSDP.unmuteRemote(e$2);let r$1=this.remoteSDP.toString();n$1?.(r$1),await this.setRemoteDescription({type:`answer`,sdp:r$1})}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,`P2PConnection.unmuteLocal failed; ${e$3.toString()}`)}}async getRemoteSSRC(e$2,t$1){var i$1;if(t$1??=this.currentRemoteDescription?.sdp){var n$1;return(LD(t$1).mediaDescriptions.find((t$2=>t$2.attributes.mid===e$2))?.attributes.ssrcs)?.[0].ssrcId}}async setRemoteDescription(e$2){var t$1;await this.peerConnection.setRemoteDescription(e$2),Ln(t$1=[`connected`,`completed`]).call(t$1,this.peerConnection.iceConnectionState)||(this.isReady=!0,this.addRemoteCandidate())}mungReceiveAnswerSDP(e$2,t$1,i$1){let n$1=LD(e$2),r$1=n$1.mediaDescriptions.find((e$3=>e$3.attributes.mid===t$1));return r$1&&i$1===fx.AUDIO&&r$1.media.mediaType===`audio`&&KF(r$1),kD(n$1)}},DV(TX.prototype,`establish`,[yX],Object.getOwnPropertyDescriptor(TX.prototype,`establish`),TX.prototype),DV(TX.prototype,`connect`,[yX],Object.getOwnPropertyDescriptor(TX.prototype,`connect`),TX.prototype),DV(TX.prototype,`receive`,[yX],Object.getOwnPropertyDescriptor(TX.prototype,`receive`),TX.prototype),DV(TX.prototype,`mockReceive`,[yX],Object.getOwnPropertyDescriptor(TX.prototype,`mockReceive`),TX.prototype),DV(TX.prototype,`stopReceiving`,[yX],Object.getOwnPropertyDescriptor(TX.prototype,`stopReceiving`),TX.prototype),DV(TX.prototype,`restartICE`,[yX],Object.getOwnPropertyDescriptor(TX.prototype,`restartICE`),TX.prototype),DV(TX.prototype,`close`,[yX],Object.getOwnPropertyDescriptor(TX.prototype,`close`),TX.prototype),DV(TX.prototype,`updateEncoderConfig`,[yX],Object.getOwnPropertyDescriptor(TX.prototype,`updateEncoderConfig`),TX.prototype),DV(TX.prototype,`updateSendParameters`,[yX],Object.getOwnPropertyDescriptor(TX.prototype,`updateSendParameters`),TX.prototype),DV(TX.prototype,`replaceTrack`,[yX],Object.getOwnPropertyDescriptor(TX.prototype,`replaceTrack`),TX.prototype),DV(TX.prototype,`muteLocal`,[yX],Object.getOwnPropertyDescriptor(TX.prototype,`muteLocal`),TX.prototype),DV(TX.prototype,`unmuteLocal`,[yX],Object.getOwnPropertyDescriptor(TX.prototype,`unmuteLocal`),TX.prototype),TX);function yX(e$1,t$1,i$1){let n$1=e$1[t$1];if(typeof n$1!=`function`)throw Error(`Cannot use mutex on object property.`);return i$1.value=async function(){let i$2=await this.mutex.lock(`From P2PConnection.${t$1}`);try{var o$1=[...arguments];return await n$1.apply(this,o$1)}finally{i$2()}},i$1}let IX=function(e$1){return e$1.SEND_ONLY=`SEND_ONLY`,e$1.RECEIVE_ONLY=`RECEIVE_ONLY`,e$1}({});var AX,bX,wX,OX,NX,DX,PX,LX,kX,MX,UX,VX;function xX(e$1,t$1){var i$1=Object.keys(e$1);if(Object.getOwnPropertySymbols){var n$1=Object.getOwnPropertySymbols(e$1);t$1&&(n$1=n$1.filter((function(t$2){return Object.getOwnPropertyDescriptor(e$1,t$2).enumerable}))),i$1.push.apply(i$1,n$1)}return i$1}function FX(e$1){for(var t$1=1;t$1<arguments.length;t$1++){var i$1=arguments[t$1]==null?{}:arguments[t$1];t$1%2?xX(Object(i$1),!0).forEach((function(t$2){iA(e$1,t$2,i$1[t$2])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e$1,Object.getOwnPropertyDescriptors(i$1)):xX(Object(i$1)).forEach((function(t$2){Object.defineProperty(e$1,t$2,Object.getOwnPropertyDescriptor(i$1,t$2))}))}return e$1}let BX=(AX=jX(IX.SEND_ONLY),bX=jX(IX.SEND_ONLY),wX=jX(),OX=jX(IX.RECEIVE_ONLY),NX=jX(IX.RECEIVE_ONLY),DX=jX(IX.RECEIVE_ONLY),PX=jX(IX.RECEIVE_ONLY),LX=jX(IX.RECEIVE_ONLY),kX=jX(IX.RECEIVE_ONLY),MX=jX(),UX=jX(IX.RECEIVE_ONLY),VX=class extends NO{get state(){return this._state}set state(e$1){let t$1=this._state;this._state=e$1,this.emit(vx.StateChange,t$1,this._state)}constructor(e$1,t$1){super(),iA(this,`isPlanB`,!1),iA(this,`store`,void 0),iA(this,`statsUploader`,void 0),iA(this,`sendConnection`,void 0),iA(this,`recvConnection`,void 0),iA(this,`localTrackMap`,new Map),iA(this,`remoteUserMap`,new Map),iA(this,`localDataChannels`,[]),iA(this,`pendingLocalTracks`,[]),iA(this,`pendingRemoteTracks`,[]),iA(this,`statsCollector`,void 0),iA(this,`dtlsFailedCount`,0),iA(this,`sendMutex`,void 0),iA(this,`recvMutex`,void 0),iA(this,`_state`,Cx.Disconnected),iA(this,`_restartStates`,[`disconnected`,`failed`]),iA(this,`reconnectInterval`,void 0),iA(this,`uploadUnplinkStarted`,!1),iA(this,`uploadDownlinkStarted`,!1),iA(this,`uplinkStateUploadInterval`,void 0),iA(this,`downlinkStatsUploadInterval`,void 0),iA(this,`handleMuteLocalTrack`,(async(e$2,t$2,i$1)=>{let n$1=await this.sendMutex.lock(`Locking from P2PChannel2.handleMuteLocalTrack`);try{if(!this.sendConnection||this.state!==Cx.Connected)return void i$1(new pO(hO.INVALID_OPERATION,`Cannot call P2PChannel2.handleMuteLocalTrack before sendConnection established.`));let s$1=this.filterTobeMutedTracks(e$2);if(s$1.length===0)return void t$2();let a$1=s$1.find((e$3=>e$3[0]===`videoLowTrack`));a$1&&a$1[1].track._originMediaStreamTrack.stop(),await this.sendConnection.muteLocal(s$1.map((e$3=>{let[,{id:t$3}]=e$3;return t$3})));let c$1=!1;var r$1,o$1;c$1=e$2.trackMediaType===`video`?!((r$1=this.localTrackMap.get(Rx.LocalAudioTrack))==null||!r$1.track._muted):this.localTrackMap.get(Rx.LocalVideoTrack)?.id===void 0;let d$1=this.createMuteMessage(s$1);await qO(this,vx.RequestMuteLocal,d$1);let l$1=e$2.trackMediaType===`video`?Mx.MUTE_LOCAL_VIDEO:Mx.MUTE_LOCAL_AUDIO;await qO(this,vx.RequestP2PMuteLocal,{action:l$1,message:d$1,isMuteAll:c$1}),t$2()}catch(e$3){i$1(e$3)}finally{n$1()}})),iA(this,`handleUnmuteLocalTrack`,(async(e$2,t$2,i$1)=>{let n$1=await this.sendMutex.lock(`Locking from P2PChannel2.handleUnmuteLocalTrack`);try{if(!this.sendConnection||this.state!==Cx.Connected)return void i$1(new pO(hO.INVALID_OPERATION,`Cannot call P2PChannel2.handleUnmuteLocalTrack before sendConnection established.`));let r$1=this.filterTobeUnmutedTracks(e$2);if(r$1.length===0)return void t$2();await this.sendConnection.unmuteLocal(r$1.map((e$3=>{let[,{id:t$3}]=e$3;return t$3})));let o$1=this.createUnmuteMessage(r$1),s$1=e$2.trackMediaType===`video`?Mx.UNMUTE_LOCAL_VIDEO:Mx.UNMUTE_LOCAL_AUDIO;await qO(this,vx.RequestP2PMuteLocal,{action:s$1,message:o$1}),t$2()}catch(e$3){i$1(e$3)}finally{n$1()}})),iA(this,`handleUpdateVideoEncoder`,(async(e$2,t$2,i$1,n$1)=>{let r$1;typeof n$1==`boolean`&&n$1||(r$1=await this.sendMutex.lock(`Locking from P2PChannel2.handleUpdateVideoEncoder`));try{let i$2=this.localTrackMap.get(Rx.LocalVideoTrack);if(!this.sendConnection||!i$2||i$2.track!==e$2||this.state!==Cx.Connected)return void t$2();let{id:n$2,track:s$1}=i$2;n$2&&(await this.sendConnection.updateSendParameters(n$2,s$1),await this.sendConnection.updateEncoderConfig(n$2,s$1),this.emit(vx.UpdateVideoEncoder,s$1)),t$2()}catch(e$3){i$1(e$3)}finally{var o$1;(o$1=r$1)==null||o$1()}})),iA(this,`handleUpdateVideoSendParameters`,(async(e$2,t$2,i$1)=>{let n$1=await this.sendMutex.lock(`Locking from P2PChannel2.handleUpdateVideoSendParameters`);try{let i$2=this.localTrackMap.get(Rx.LocalVideoTrack);if(!this.sendConnection||!i$2||i$2.track!==e$2||this.state!==Cx.Connected)return void t$2();let{id:r$1,track:o$1}=i$2;r$1&&await this.sendConnection.updateSendParameters(r$1,o$1),t$2()}catch(e$3){i$1(e$3)}finally{n$1()}})),iA(this,`handleReplaceTrack`,(async(e$2,t$2,i$1,n$1)=>{let r$1;iP.debug(`[${this.store.clientId}] P2PChannel2 handleReplaceTrack for [track-id-${e$2.getTrackId()}]`),typeof n$1==`boolean`&&n$1||(r$1=await this.sendMutex.lock(`From P2PChannel2.handleReplaceTrack`));try{var o$1;let i$2=Array.from(this.localTrackMap.entries()).find((t$3=>{let[,{track:i$3}]=t$3;return e$2===i$3}));if(!this.sendConnection||!i$2||i$2[1].id===void 0||this.state!==Cx.Connected)return void t$2();if(await this.sendConnection?.replaceTrack(e$2,i$2[1].id),i$2[0]===Rx.LocalVideoTrack&&pP().supportDualStreamEncoding){let t$3=this.localTrackMap.get(Rx.LocalVideoLowTrack);if(t$3){let i$3=e$2._mediaStreamTrack.clone();t$3.track._originMediaStreamTrack.stop(),t$3.track._mediaStreamTrack=i$3,t$3.track._originMediaStreamTrack=i$3,await new rp(((e$3,i$4)=>{this.handleReplaceTrack(t$3.track,e$3,i$4,!0)}))}}t$2()}catch(e$3){i$1(e$3)}finally{var s$1;(s$1=r$1)==null||s$1()}})),iA(this,`handleGetLocalVideoStats`,(e$2=>{e$2(this.statsCollector.getLocalVideoTrackStats())})),iA(this,`handleGetLocalAudioStats`,(e$2=>{e$2(this.statsCollector.getLocalAudioTrackStats())})),iA(this,`handleGetRemoteVideoStats`,(e$2=>this.statsCollector.getRemoteVideoTrackStats(e$2.uid)[e$2.uid])),iA(this,`handleGetRemoteAudioStats`,(e$2=>this.statsCollector.getRemoteAudioTrackStats(e$2.uid)[e$2.uid])),this.store=e$1,this.statsCollector=t$1,this.statsCollector.addP2PChannel(this),this.statsUploader=new iG(e$1),this.bindStatsUploaderEvents(),this.sendMutex=new PN(`P2PChannel2-send-mutex`,e$1.clientId),this.recvMutex=new PN(`P2PChannel2-recv-mutex`,e$1.clientId),this.reconnectInterval=window.setInterval((()=>{[this.sendConnection,this.recvConnection].forEach((e$2=>{e$2&&(e$2.iceConnectionState!==`disconnected`&&e$2.iceConnectionState!==`failed`||this.handleDisconnect(e$2.direction))}))}),CD(`ICE_RESTART_INTERVAL`))}async startP2PConnection(e$1,t$1){throw new pO(hO.NOT_SUPPORTED,`p2p mode does not support startP2PConnection.`)}async connect(e$1){throw new pO(hO.NOT_SUPPORTED,`p2p mode does not support connect.`)}async startP2P(e$1,t$1){let i$1;try{if(t$1){this.recvConnection&&(iP.warning(`[${this.store.clientId}] P2PChannel.startP2P reset recvConnection.`),this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection)),i$1=await this.recvMutex.lock(`From P2PChannel.startP2P`),this.recvConnection=new vX(e$1,this.store,GV.RECEIVE_ONLY),this.bindConnectionEvents(this.recvConnection);let n$1=await this.recvConnection.establish(t$1);return{iceParameters:n$1.iceParameters,dtlsParameters:n$1.dtlsParameters,sdp:n$1.sdp}}{this.state=Cx.New,this.sendConnection&&(iP.warning(`[${this.store.clientId}] P2PChannel.startP2P reset sendConnection.`),this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection)),i$1=await this.sendMutex.lock(`From P2PChannel.startP2P`),this.sendConnection=new vX(e$1,this.store),this.store.peerConnectionStart(),this.bindConnectionEvents(this.sendConnection);let t$2=await this.sendConnection.establish();return{iceParameters:t$2.iceParameters,dtlsParameters:t$2.dtlsParameters,sdp:t$2.sdp}}}finally{i$1&&i$1()}}async p2pConnect(e$1){if(!this.sendConnection)throw new pO(hO.UNEXPECTED_ERROR,`Cannot P2PChannel2.p2pConnect before P2PChannel2.startP2PConnection .`);this.store.peerConnectionStart(),await this.sendConnection.connect(e$1),this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=Cx.Connected}async addRemoteCandidate(e$1,t$1){if(t$1===GV.RECEIVE_ONLY){if(!this.sendConnection)throw new pO(hO.UNEXPECTED_ERROR,`Cannot P2PChannel2.connect before P2PChannel2.addRemoteCandidate .`);await this.sendConnection.addRemoteCandidate(e$1)}else{if(!this.recvConnection)throw new pO(hO.UNEXPECTED_ERROR,`Cannot P2PChannel2.connect before P2PChannel2.addRemoteCandidate .`);await this.recvConnection.addRemoteCandidate(e$1)}}publish(e$1,t$1,i$1){var n$1=this;return Mb((function*(){let r$1=yield Vb(n$1.sendMutex.lock(`From P2PChannel.publish`));try{if(!n$1.sendConnection||n$1.state!==Cx.Connected){n$1.throwIfTrackTypeNotMatch(e$1);let t$2=e$1.filter((e$2=>n$1.pendingLocalTracks.indexOf(e$2)===-1));n$1.pendingLocalTracks=n$1.pendingLocalTracks.concat(t$2);return}n$1.store.pubId=n$1.store.pubId+1,tj.markPublishStart(n$1.store.clientId,n$1.store.pubId);let o$1=n$1.filterTobePublishedTracks(e$1,t$1,i$1);if(o$1.length===0)return void(yield Vb(n$1.tryToUnmuteAudio(e$1)));o$1.forEach((e$2=>{let{track:t$2,type:i$2}=e$2,r$2=Date.now();n$1.store.publish(t$2.getTrackId(),i$2===Rx.LocalAudioTrack?`audio`:`video`,r$2)})),n$1.bindLocalTrackEvents(o$1);let s$1=yield Vb(n$1.sendConnection.send(o$1.map((e$2=>{let{track:t$2}=e$2;return t$2})),n$1.store.codec,n$1.store.audioCodec)),a$1=(yield Vb(s$1.next())).value,c$1=n$1.createGatewayPublishMessage(o$1,a$1);try{yield c$1}catch(e$2){throw s$1.throw(e$2),e$2?.code===hO.WS_ABORT&&o$1.forEach((e$3=>{let{track:t$2}=e$3;n$1.pendingLocalTracks.indexOf(t$2)===-1&&n$1.pendingLocalTracks.push(t$2)})),n$1.unbindLocalTrackEvents(o$1),e$2}yield Vb(s$1.next()),o$1.forEach((e$2=>{let{type:t$2}=e$2;n$1.statsCollector.addLocalStats(t$2)})),n$1.statsUploader.startUploadOutboundStats(),n$1.assignLocalTracks(o$1,a$1),o$1.forEach((e$2=>{let{track:t$2,type:i$2}=e$2,r$2=Date.now();n$1.store.publish(t$2.getTrackId(),i$2===Rx.LocalAudioTrack?`audio`:`video`,void 0,r$2)})),n$1.startUploadUplinkState()}finally{r$1()}}))()}async unpublish(e$1){if(!this.sendConnection||this.state!==Cx.Connected)return void(e$1.length===0?this.pendingLocalTracks.length=0:this.pendingLocalTracks=this.pendingLocalTracks.filter((t$2=>!Ln(e$1).call(e$1,t$2))));let t$1=this.filterTobeUnpublishedTracks(e$1);if(t$1.length===0)return;let i$1=t$1.find((e$2=>e$2[0]===`videoLowTrack`));i$1&&i$1[1].track.close();let n$1=this.createGatewayUnpublishMessage(t$1);if(await this.sendConnection.stopSending(t$1.map((e$2=>{let[,{id:t$2}]=e$2;return t$2}))),this.withdrawLocalTracks(t$1),this.unbindLocalTrackEvents(t$1.map((e$2=>{let[t$2,{track:i$2}]=e$2;return{type:t$2,track:i$2}}))),t$1.forEach((e$2=>{let[t$2]=e$2;this.statsCollector.removeLocalStats(t$2)})),this.localTrackMap.size===0&&(this.statsUploader.stopUploadOutboundStats(),this.stopUploadUplinkState()),this.sendConnection&&this.state===Cx.Connected)return i$1&&i$1[1].track.close(),n$1;e$1.forEach((e$2=>{let t$2=this.pendingLocalTracks.indexOf(e$2);t$2!==-1&&this.pendingLocalTracks.splice(t$2,1)}))}startUploadUplinkState(){if(this.uploadUnplinkStarted)return;this.uploadUnplinkStarted=!0,this.uplinkStateUploadInterval&&window.clearInterval(this.uplinkStateUploadInterval);let e$1=()=>{let e$2=[],t$1=[];Array.from(this.localTrackMap.entries()).forEach((i$1=>{let[n$1,{track:r$1,ssrcs:o$1}]=i$1,s$1={stream_type:Oj(r$1,n$1),ssrcs:o$1};r$1._muted||!r$1._enabled?e$2.push(s$1):t$1.push(s$1)})),e$2.length>0&&e$2.forEach((e$3=>{qO(this,vx.RequestMuteLocal,[e$3])})),t$1.length>0&&t$1.forEach((e$3=>{qO(this,vx.RequestUnmuteLocal,[e$3])}))};e$1(),this.uplinkStateUploadInterval=window.setInterval((()=>{e$1()}),3e3)}stopUploadUplinkState(){this.uploadUnplinkStarted&&(this.uploadUnplinkStarted=!1,this.uplinkStateUploadInterval&&window.clearInterval(this.uplinkStateUploadInterval))}publishLowStream(e$1){return Mb((function*(){throw new pO(hO.NOT_SUPPORTED,`p2p mode does not support publishLowStream.`)}))()}async republish(){this.pendingLocalTracks.length>0&&(iP.debug(`[${this.store.clientId}] Emit P2PChannelEvents.RequestRePublish to republish tracks.`),await zO(this,vx.RequestRePublish,this.pendingLocalTracks),this.emit(vx.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[])}async unpublishLowStream(){throw new pO(hO.NOT_SUPPORTED,`p2p mode does not support unpublishLowStream.`)}async subscribe(e$1,t$1,i$1,n$1){var r$1;if(!this.recvConnection)throw new pO(hO.INVALID_OPERATION,`Cannot subscribe remote user when recvConnection disconnected.`);if((r$1=this.remoteUserMap.get(e$1))!=null&&r$1.has(t$1))return;let{track:o$1,mid:s$1,transceiver:a$1}=await this.recvConnection.receive(t$1,[{ssrcId:i$1}],String(e$1.uid),n$1);t$1===fx.AUDIO?(e$1._audioTrack?e$1._audioTrack._updateOriginMediaStreamTrack(o$1):(e$1._audioTrack=new $M(o$1,e$1.uid,e$1._uintid,this.store),iP.info(`[${this.store.clientId}] [${this.store.p2pId}] create remote audio track: ${e$1._audioTrack.getTrackId()}`)),a$1&&e$1._audioTrack._updateRtpTransceiver(a$1),this.bindRemoteTrackEvents(e$1,e$1._audioTrack)):(e$1._videoSSRC=i$1,e$1._videoTrack?e$1._videoTrack._updateOriginMediaStreamTrack(o$1):(e$1._videoTrack=new ZM(o$1,e$1.uid,e$1._uintid,this.store),iP.info(`[${this.store.clientId}] [${this.store.p2pId}] create remote video track: ${e$1._videoTrack.getTrackId()}`)),a$1&&e$1._videoTrack._updateRtpTransceiver(a$1),this.bindRemoteTrackEvents(e$1,e$1._videoTrack));let c$1=this.remoteUserMap.get(e$1);c$1?c$1.set(t$1,s$1):this.remoteUserMap.set(e$1,new Map([[t$1,s$1]])),this.statsCollector.addRemoteStats(e$1.uid),this.statsUploader.startUploadInboundStats(),this.startUploadDownlinkState();let d$1=this.pendingRemoteTracks.findIndex((i$2=>{let{user:n$2,kind:r$2}=i$2;return n$2.uid===e$1.uid&&t$1===r$2}));d$1!==-1&&(this.pendingRemoteTracks.splice(d$1,1),this.emit(vx.MediaReconnectEnd,e$1.uid))}async mockSubscribe(e$1,t$1,i$1,n$1){if(!this.recvConnection)throw new pO(hO.INVALID_OPERATION,`Cannot subscribe remote user when recvConnection disconnected.`);await this.recvConnection.mockReceive(t$1,[{ssrcId:i$1}],String(e$1.uid),n$1)}async unsubscribe(e$1,t$1,i$1){let n$1=this.pendingRemoteTracks.filter((i$2=>{let{user:n$2,kind:r$2}=i$2;return t$1===void 0?n$2.uid===e$1.uid:n$2.uid===e$1.uid&&t$1===r$2}));if(n$1.forEach((e$2=>{let t$2=this.pendingRemoteTracks.indexOf(e$2);this.pendingRemoteTracks.splice(t$2,1)})),this.recvConnection||i$1||n$1.forEach((t$2=>{let{kind:i$2}=t$2;var n$2;if(i$2===fx.AUDIO)(n$2=e$1._audioTrack)==null||n$2._destroy(),e$1._audioTrack=void 0;else if(i$2===fx.VIDEO){var r$2;(r$2=e$1._videoTrack)==null||r$2._destroy(),e$1._videoTrack=void 0}})),!this.recvConnection)return;let r$1=this.filterTobeUnSubscribedTracks(e$1,t$1);r$1.length!==0&&(await this.recvConnection.stopReceiving(r$1.map((e$2=>{let[,{id:t$2}]=e$2;return t$2}))),this.withdrawRemoteTracks(r$1),this.remoteUserMap.size===0&&(this.statsUploader.stopUploadInboundStats(),this.stopUploadDownlinkState()),r$1.forEach((e$2=>{let[t$2,{kind:n$2}]=e$2;var r$2,o$1;if(n$2===fx.VIDEO&&t$2._videoSSRC&&((r$2=this.recvConnection)==null||r$2.setStatsRemoteVideoIsReady(t$2._videoSSRC,!1)),n$2===fx.VIDEO)this.unbindRemoteTrackEvents(t$2._videoTrack),i$1||((o$1=t$2._videoTrack)==null||o$1._destroy(),t$2._videoTrack=void 0);else if(n$2===fx.AUDIO){var s$1;this.unbindRemoteTrackEvents(t$2._audioTrack),!i$1&&((s$1=t$2._audioTrack)==null||s$1._destroy(),t$2._audioTrack=void 0)}})),r$1.forEach((e$2=>{let[,{kind:t$2}]=e$2;qO(this,vx.RequestP2PMuteRemote,t$2)})))}startUploadDownlinkState(){if(this.uploadDownlinkStarted)return;this.uploadDownlinkStarted=!0,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval);let e$1=()=>Array.from(this.remoteUserMap.entries()).forEach((e$2=>{let[,t$1]=e$2;[fx.VIDEO,fx.AUDIO].forEach((e$3=>{t$1.has(e$3)?qO(this,vx.RequestP2PUnmuteRemote,e$3):qO(this,vx.RequestP2PMuteRemote,e$3)}))}));e$1(),this.downlinkStatsUploadInterval=window.setInterval((()=>{e$1()}),3e3)}stopUploadDownlinkState(){this.uploadDownlinkStarted&&(this.uploadDownlinkStarted=!1,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval))}getAllDataChannels(){return this.localDataChannels}async massSubscribe(e$1){throw new pO(hO.NOT_SUPPORTED,`p2p mode does not support massSubscribe.`)}async massSubscribeNoLock(e$1){throw new pO(hO.NOT_SUPPORTED,`p2p mode does not support massSubscribeNoLock.`)}async massUnsubscribe(e$1){throw new pO(hO.NOT_SUPPORTED,`p2p mode does not support massUnsubscribe.`)}async massUnsubscribeNoLock(e$1){throw new pO(hO.NOT_SUPPORTED,`p2p mode does not support massUnsubscribeNoLock.`)}async muteRemote(e$1,t$1){if(!this.recvConnection)return;let i$1=this.remoteUserMap.get(e$1);if(!i$1)return void iP.warning(`[${this.store.clientId}] P2PChannel2.muteRemote has no remote user ${e$1.uid}.`);if(!i$1.get(t$1))return void iP.warning(`[${this.store.clientId}] P2PChannel2.muteRemote has no remote user ${e$1.uid} media type ${t$1}.`);let n$1=t$1===fx.VIDEO?e$1._videoSSRC:e$1._audioSSRC;n$1!==void 0&&this.recvConnection.setStatsRemoteVideoIsReady(n$1,!1)}async unmuteRemote(e$1,t$1){return this.unmuteRemoteNoLock(e$1,t$1)}async unmuteRemoteNoLock(e$1,t$1){if(!this.recvConnection)return;let i$1=this.remoteUserMap.get(e$1);if(!i$1)return void iP.warning(`[${this.store.clientId}] P2PChannel2.unmuteRemote has no remote user ${e$1.uid}.`);i$1.get(t$1)||iP.warning(`[${this.store.clientId}] P2PChannel2.unmuteRemote has no remote user ${e$1.uid} media type ${t$1}.`)}getAllTracks(e$1){let t$1=this.localTrackMap.get(Rx.LocalAudioTrack);if(t$1?.track instanceof Wk){let i$1=t$1.track;return Array.from(this.localTrackMap.entries()).filter((e$2=>{let[t$2]=e$2;return t$2!==Rx.LocalAudioTrack})).filter((t$2=>{let[i$2]=t$2;return!(e$1&&i$2===Rx.LocalVideoLowTrack)})).map((e$2=>{let[,{track:t$2}]=e$2;return t$2})).concat(i$1.trackList)}return Array.from(this.localTrackMap.entries()).filter((t$2=>{let[i$1]=t$2;return!(e$1&&i$1===Rx.LocalVideoLowTrack)})).map((e$2=>{let[,{track:t$2}]=e$2;return t$2}))}reportPublishEvent(e$1,t$1,i$1,n$1,r$1){if(e$1){let i$2=this.localTrackMap.get(Rx.LocalAudioTrack),o$2=n$1?this.localTrackMap.get(Rx.LocalVideoLowTrack):this.localTrackMap.get(Rx.LocalVideoTrack);lP.publish(this.store.sessionId,{eventElapse:tj.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e$1,ec:t$1,audioName:i$2?.track.getTrackLabel(),videoName:o$2?.track.getTrackLabel(),screenshare:o$2?.track._hints.indexOf(VP.SCREEN_TRACK)!==-1,audio:!!i$2,video:!!o$2,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r$1})}else{var o$1;i$1||=[];let s$1=i$1.find((e$2=>e$2 instanceof Bk)),a$1=n$1?this.localTrackMap.get(Rx.LocalVideoTrack)?.track:i$1.find((e$2=>e$2 instanceof kM));lP.publish(this.store.sessionId,{eventElapse:tj.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e$1,ec:t$1,audioName:s$1?.getTrackLabel(),videoName:a$1?.getTrackLabel(),screenshare:a$1?._hints.indexOf(VP.SCREEN_TRACK)!==-1,audio:!!s$1,video:!!a$1,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r$1})}}reportSubscribeEvent(e$1,t$1,i$1,n$1){let r$1=n$1===fx.VIDEO?i$1._videoSSRC:i$1._audioSSRC;r$1&&lP.subscribe(this.store.sessionId,{succ:e$1,ec:t$1,video:n$1===fx.VIDEO,audio:n$1===fx.AUDIO,peerid:i$1.uid,subscribeRequestid:n$1===fx.VIDEO?i$1._videoSSRC:i$1._audioSSRC,p2pid:this.store.p2pId,eventElapse:tj.measureFromSubscribeStart(this.store.clientId,r$1)})}reset(){iP.debug(`[${this.store.clientId}] P2PChannel2.reset`),this.sendMutex=new PN(`P2PChannel2-send-mutex`,this.store.clientId),this.sendMutex=new PN(`P2PChannel2-recv-mutex`,this.store.clientId),this.sendConnection&&=(this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),void 0),this.recvConnection&&=(this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),void 0),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),this.statsUploader.stopUploadExtensionUsageStats(),this.stopUploadUplinkState(),this.stopUploadDownlinkState(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.unbindRtpTransceiver();let e$1=this.localTrackMap.get(Rx.LocalAudioTrack);if(e$1?.track instanceof Wk){if(e$1.track.trackList.length>0){let t$1=e$1.track;e$1.track.trackList.forEach((e$2=>{t$1.removeAudioTrack(e$2)}))}e$1.track.close()}this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.reconnectInterval&&=(window.clearInterval(this.reconnectInterval),void 0),this.state=Cx.Disconnected}getStats(e$1){var t$1,i$1;return e$1?this.recvConnection?.getStats():this.sendConnection?.getStats()}getRemoteVideoIsReady(e$1){var t$1;return this.recvConnection?.getRemoteVideoIsReady(e$1)||!1}getLocalAudioVolume(){let e$1=this.localTrackMap.get(Rx.LocalAudioTrack);if(e$1)return e$1.track.getVolumeLevel()}getLocalVideoSize(){let e$1=this.localTrackMap.get(Rx.LocalVideoTrack);if(e$1)return{width:e$1.track.videoWidth||0,height:e$1.track.videoHeight||0}}getEncoderConfig(e$1){let t$1=this.localTrackMap.get(e$1);return t$1&&t$1.track instanceof kM||t$1&&t$1.track instanceof Bk?t$1.track._encoderConfig:void 0}getLocalMedia(e$1){return this.localTrackMap.get(e$1)}hasLocalMedia(){return this.localTrackMap.size>0}hasRemoteMedia(e$1,t$1){if(!e$1)return this.remoteUserMap.size>0;let i$1=this.remoteUserMap.get(e$1);return!!i$1&&(!t$1||i$1.has(t$1))}async hasRemoteMediaWithLock(e$1,t$1){if(!e$1)return this.remoteUserMap.size>0;let i$1=this.remoteUserMap.get(e$1);return!!i$1&&(!t$1||i$1.has(t$1))}getRemoteMedia(e$1){var t$1;let i$1=Array.from(WD(t$1=this.remoteUserMap).call(t$1)).find((t$2=>t$2.uid===e$1));return i$1?{audioTrack:i$1.audioTrack,audioSSRC:i$1._audioSSRC,videoTrack:i$1.videoTrack,videoSSRC:i$1._videoSSRC}:{}}getAudioLevels(){let e$1=Array.from(this.remoteUserMap.entries()).map((e$2=>{let[t$2]=e$2;return{uid:t$2.uid,level:t$2.audioTrack?100*t$2.audioTrack._source.getAccurateVolumeLevel():0}})),t$1=this.localTrackMap.get(Rx.LocalAudioTrack);return t$1&&e$1.push({level:100*t$1.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),e$1=Qp(e$1).call(e$1,((e$2,t$2)=>e$2.level-t$2.level)),e$1}async disconnectForReconnect(){this.sendConnection&&this.recvConnection&&(iP.debug(`[${this.store.clientId}] P2PChannel2.disconnectForReconnect closing P2PConnection`),this.state=Cx.Reconnecting,CD(`KEEP_LAST_FRAME`)&&this.remoteUserMap.size!==0&&Array.from(this.remoteUserMap.entries()).forEach((e$1=>{let[t$1]=e$1;var i$1;t$1._videoTrack&&t$1._videoTrack._player&&((i$1=t$1._videoTrack._player.getVideoElement())==null||i$1.pause(),t$1._videoTrack._player.isKeepLastFrame=!0,t$1._videoTrack._originMediaStreamTrack.stop())})),this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0,this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0,this.localTrackMap.size!==0&&(Array.from(this.localTrackMap.entries()).forEach((e$1=>{var t$1;let[i$1,{track:n$1}]=e$1;switch(i$1){case Rx.LocalVideoTrack:Ln(t$1=n$1._hints).call(t$1,VP.LOW_STREAM)?n$1.close():this.pendingLocalTracks.push(n$1);break;case Rx.LocalAudioTrack:n$1 instanceof Wk?this.pendingLocalTracks=this.pendingLocalTracks.concat(n$1.trackList):this.pendingLocalTracks.push(n$1);case Rx.LocalVideoLowTrack:}})),this.emit(vx.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),this.remoteUserMap.size!==0&&Array.from(this.remoteUserMap.entries()).forEach((e$1=>{let[t$1,i$1]=e$1;Array.from(WD(i$1).call(i$1)).forEach((e$2=>{this.setPendingRemoteMedia(t$1,e$2)})),this.emit(vx.MediaReconnectStart,t$1.uid)})),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),this.stopUploadUplinkState(),this.stopUploadDownlinkState(),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),iP.debug(`[${this.store.clientId}] P2PChannel2 disconnected, waiting to reconnect.`))}hasPendingRemoteMedia(e$1,t$1){for(let i$1 of this.pendingRemoteTracks){let{user:n$1,kind:r$1}=i$1;if((e$1 instanceof aj?e$1.uid:e$1)===n$1.uid&&t$1===r$1)return!0}return!1}setPendingRemoteMedia(e$1,t$1){this.hasPendingRemoteMedia(e$1,t$1)||this.pendingRemoteTracks.push({user:e$1,kind:t$1})}async restartICE(e$1,t$1){let i$1,n$1;if(e$1===GV.SEND_ONLY){if(!this.sendConnection)throw new pO(hO.INVALID_OPERATION,`Cannot call P2PChannel2.handleMuteLocalTrack before sendConnection established.`);i$1=await this.sendMutex.lock(`From P2PChannel.restartICE`),n$1=this.sendConnection}else{if(!this.recvConnection)throw new pO(hO.INVALID_OPERATION,`Cannot call P2PChannel2.handleMuteLocalTrack before recvConnection established.`);i$1=await this.recvMutex.lock(`From P2PChannel.restartICE`),n$1=this.recvConnection}try{if(t$1){let e$2=await n$1.restartICE(t$1);return n$1.isInRestartIce=!1,e$2}{let e$2=await n$1.restartICE();if(e$2){let t$2=await zO(this,vx.RequestP2PRestartICE,{direction:GV.RECEIVE_ONLY,iceParameter:e$2});await n$1.restartICE(t$2),n$1.isInRestartIce=!1}}}finally{i$1()}}getUplinkNetworkQuality(){if(!this.sendConnection)return 0;let e$1=this.sendConnection.getStats(),t$1=this.localTrackMap.get(Rx.LocalVideoTrack),i$1=this.localTrackMap.get(Rx.LocalAudioTrack),n$1=e$1.videoSend.find((e$2=>{var i$2;return e$2.ssrc===(t$1==null||(i$2=t$1.ssrcs)==null?void 0:i$2[0].ssrcId)})),r$1=e$1.audioSend.find((e$2=>{var t$2;return e$2.ssrc===(i$1==null||(t$2=i$1.ssrcs)==null?void 0:t$2[0].ssrcId)}));if(!n$1||!r$1)return 1;let o$1=XO(this,vx.NeedSignalRTT),s$1=n$1?n$1.rttMs:void 0,a$1=r$1?r$1.rttMs:void 0,c$1=s$1&&a$1?(s$1+a$1)/2:s$1||a$1,d$1=(c$1&&o$1?(c$1+o$1)/2:c$1||o$1)||0,l$1=100*e$1.sendPacketLossRate*.7/50+.3*d$1/1500,u$1=l$1<.17?1:l$1<.36?2:l$1<.59?3:l$1<.1?4:5,h$1=t$1?.track;if(h$1&&h$1._encoderConfig&&h$1._hints.indexOf(VP.SCREEN_TRACK)===-1){let t$2=h$1._encoderConfig.bitrateMax,i$2=e$1.bitrate.actualEncoded;if(t$2&&i$2){let e$2=(1e3*t$2-i$2)/(1e3*t$2);return HU[e$2<.15?0:e$2<.3?1:e$2<.45?2:e$2<.6?3:4][u$1]}}return u$1}getDownlinkNetworkQuality(){if(!this.recvConnection)return 0;let e$1=this.recvConnection.getStats(),t$1=0;return Array.from(this.remoteUserMap.entries()).forEach((i$1=>{let[n$1]=i$1,r$1=n$1._audioSSRC,o$1=n$1._videoSSRC,s$1=e$1.audioRecv.find((e$2=>e$2.ssrc===r$1)),a$1=e$1.videoRecv.find((e$2=>e$2.ssrc===o$1));if(!s$1&&!a$1)return void(t$1+=1);let c$1=XO(this,vx.NeedSignalRTT),d$1=e$1.rtt,l$1=(d$1&&c$1?(d$1+c$1)/2:d$1||c$1)||0,u$1=s$1?s$1.jitterMs:void 0,h$1=e$1.recvPacketLossRate,p$1=.7*h$1*100/50+.3*l$1/1500;u$1&&(p$1=.6*h$1*100/50+.2*l$1/1500+.2*u$1/400),t$1+=p$1<.1?1:p$1<.17?2:p$1<.36?3:p$1<.59?4:5})),this.remoteUserMap.size>0?Math.round(t$1/this.remoteUserMap.size):t$1}async muteLocalTrack(e$1){return new rp(((t$1,i$1)=>{this.handleMuteLocalTrack(e$1,t$1,i$1)}))}filterTobePublishedTracks(e$1,t$1,i$1){let n$1=[],r$1=pP(),o$1=this.getAllTracks();e$1=rN(e$1=e$1.filter((e$2=>o$1.indexOf(e$2)===-1)));let s$1=!1,a$1=!1;for(let o$2 of e$1){if(o$2 instanceof kM&&(this.localTrackMap.has(Rx.LocalVideoTrack)||s$1?new pO(hO.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(n$1.push({track:o$2,type:Rx.LocalVideoTrack}),s$1=!0),t$1)){let e$2=this.getLowVideoTrack(o$2,i$1);n$1.push({track:e$2,type:Rx.LocalVideoLowTrack})}if(o$2 instanceof Bk){let e$2=this.localTrackMap.get(Rx.LocalAudioTrack);if(e$2){if(!(e$2.track instanceof Wk))throw new pO(hO.NOT_SUPPORTED,`cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing`);if(o$2._bypassWebAudio)throw new pO(hO.NOT_SUPPORTED,`cannot publish multiple tracks which one of them configured with bypassWebAudio`);e$2.track.addAudioTrack(o$2),this.bindLocalAudioTrackEvents(o$2,!0)}else if(a$1){let e$3=n$1.find((e$4=>{let{type:t$2}=e$4;return t$2===Rx.LocalAudioTrack}));if(!(e$3.track instanceof Wk))throw new pO(hO.NOT_SUPPORTED,`cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing`);if(o$2._bypassWebAudio)throw new pO(hO.NOT_SUPPORTED,`cannot publish multiple tracks which one of them configured with bypassWebAudio`);e$3.track.addAudioTrack(o$2)}else{if(!r$1.webAudioMediaStreamDest||o$2 instanceof Wk||o$2._bypassWebAudio)n$1.push({track:o$2,type:Rx.LocalAudioTrack});else{let e$3=new Wk;e$3.addAudioTrack(o$2),n$1.push({track:e$3,type:Rx.LocalAudioTrack})}a$1=!0}}}return n$1}filterTobeUnpublishedTracks(e$1){let t$1=[],i$1=this.getAllTracks();e$1=rN(e$1=e$1.filter((e$2=>i$1.indexOf(e$2)!==-1)));for(let i$2 of e$1){if(i$2 instanceof Bk){let e$2=this.localTrackMap.get(Rx.LocalAudioTrack);if(!e$2)continue;e$2.track instanceof Wk?(e$2.track.removeAudioTrack(i$2),this.unbindLocalAudioTrackEvents(i$2),e$2.track.trackList.length===0&&(t$1.push([Rx.LocalAudioTrack,e$2]),e$2.track.close())):t$1.push([Rx.LocalAudioTrack,e$2])}if(i$2 instanceof kM){let e$2=this.localTrackMap.get(Rx.LocalVideoTrack);if(!e$2)continue;t$1.push([Rx.LocalVideoTrack,e$2]);let i$3=this.localTrackMap.get(Rx.LocalVideoLowTrack);i$3&&t$1.push([Rx.LocalVideoLowTrack,i$3])}}return t$1}bindLocalTrackEvents(e$1){e$1.forEach((e$2=>{let{track:t$1,type:i$1}=e$2;switch(i$1){case Rx.LocalVideoTrack:t$1.addListener(UP.GET_STATS,this.handleGetLocalVideoStats),t$1.addListener(UP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t$1.addListener(UP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t$1.addListener(UP.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t$1.addListener(UP.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),t$1.addListener(UP.NEED_REPLACE_TRACK,this.handleReplaceTrack),t$1.addListener(UP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t$1.addListener(UP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case Rx.LocalAudioTrack:this.bindLocalAudioTrackEvents(t$1);case Rx.LocalVideoLowTrack:}}))}bindLocalAudioTrackEvents(e$1,t$1){e$1 instanceof Wk?e$1.trackList.forEach((e$2=>{e$2.addListener(UP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e$2.addListener(UP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e$2.addListener(UP.GET_STATS,this.handleGetLocalAudioStats),e$2.addListener(UP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e$2.addListener(UP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e$1.addListener(UP.GET_STATS,this.handleGetLocalAudioStats),e$1.addListener(UP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e$1.addListener(UP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e$1.addListener(UP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e$1.addListener(UP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),t$1||e$1.addListener(UP.NEED_REPLACE_TRACK,this.handleReplaceTrack))}unbindLocalTrackEvents(e$1){e$1||=Array.from(this.localTrackMap.entries()).map((e$2=>{let[t$1,{track:i$1}]=e$2;return{track:i$1,type:t$1}})),e$1.forEach((e$2=>{let{track:t$1,type:i$1}=e$2;switch(i$1){case Rx.LocalVideoTrack:t$1.off(UP.GET_STATS,this.handleGetLocalVideoStats),t$1.off(UP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t$1.off(UP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t$1.off(UP.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t$1.off(UP.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),t$1.off(UP.NEED_REPLACE_TRACK,this.handleReplaceTrack),t$1.off(UP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t$1.off(UP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case Rx.LocalAudioTrack:this.unbindLocalAudioTrackEvents(t$1);case Rx.LocalVideoLowTrack:}}))}unbindLocalAudioTrackEvents(e$1){e$1 instanceof Wk?e$1.trackList.forEach((e$2=>{e$2.off(UP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e$2.off(UP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e$2.off(UP.GET_STATS,this.handleGetLocalAudioStats),e$2.off(UP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e$2.off(UP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e$1.off(UP.GET_STATS,this.handleGetLocalAudioStats),e$1.off(UP.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e$1.off(UP.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e$1.off(UP.NEED_REPLACE_TRACK,this.handleReplaceTrack),e$1.off(UP.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e$1.off(UP.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack))}bindRemoteTrackEvents(e$1,t$1){t$1 instanceof ZM&&t$1.addListener(UP.GET_STATS,(t$2=>{t$2(this.handleGetRemoteVideoStats(e$1))})),t$1 instanceof $M&&t$1.addListener(UP.GET_STATS,(t$2=>{t$2(this.handleGetRemoteAudioStats(e$1))}))}unbindRemoteTrackEvents(e$1){e$1&&e$1.removeAllListeners(UP.GET_STATS)}unbindAllRemoteTrackEvents(){Array.from(this.remoteUserMap.entries()).forEach((e$1=>{let[t$1,i$1]=e$1;i$1.has(fx.AUDIO)&&this.unbindRemoteTrackEvents(t$1._audioTrack),i$1.has(fx.VIDEO)&&this.unbindRemoteTrackEvents(t$1._videoTrack)}))}createGatewayPublishMessage(e$1,t$1){return e$1.map(((e$2,i$1)=>{var n$1;let r$1,{track:o$1,type:s$1}=e$2;switch(s$1){case Rx.LocalAudioTrack:r$1=ox.Audio;break;case Rx.LocalVideoTrack:r$1=Ln(n$1=o$1._hints).call(n$1,VP.SCREEN_TRACK)?ox.Screen:ox.High;break;case Rx.LocalVideoLowTrack:r$1=ox.Low}return{kind:s$1===Rx.LocalAudioTrack?fx.AUDIO:fx.VIDEO,stream_type:r$1,mid:t$1[i$1].id,ssrcs:t$1[i$1].localSSRC,isMuted:o$1.muted||!o$1.enabled}}))}createGatewayUnpublishMessage(e$1){return e$1.map((e$2=>{var t$1;let i$1,[n$1,{track:r$1,ssrcs:o$1,id:s$1}]=e$2;switch(n$1){case Rx.LocalVideoTrack:i$1=Ln(t$1=r$1._hints).call(t$1,VP.SCREEN_TRACK)?ox.Screen:ox.High;break;case Rx.LocalAudioTrack:i$1=ox.Audio;break;case Rx.LocalVideoLowTrack:i$1=ox.Low}return{stream_type:i$1,ssrcs:o$1,mid:s$1}}))}assignLocalTracks(e$1,t$1){e$1.forEach(((e$2,i$1)=>{let{track:n$1,type:r$1}=e$2;this.localTrackMap.set(r$1,{track:n$1,id:t$1[i$1].id,ssrcs:t$1[i$1].localSSRC})}))}withdrawLocalTracks(e$1){e$1.forEach((e$2=>{let[t$1]=e$2;this.localTrackMap.delete(t$1)}))}bindConnectionEvents(e$1){e$1.onConnectionStateChange=async t$1=>{var i$1;iP.info(`[${this.store.clientId}] [p2pId: ${this.store.p2pId}]: ${e$1.name}.onConnectionStateChange(${t$1})`),this.emit(vx.PeerConnectionStateChange,t$1),t$1!==`connected`||this.store.keyMetrics.peerConnectionEnd||this.store.peerConnectionEnd(),t$1===`connected`&&(e$1.isInRestartIce=!1),Ln(i$1=this._restartStates).call(i$1,t$1)&&!e$1.isInRestartIce&&(t$1===`disconnected`&&await fN(800),e$1.iceConnectionState!==`disconnected`&&e$1.iceConnectionState!==`failed`||this.handleDisconnect(e$1.direction))},e$1.onICEConnectionStateChange=e$2=>{e$2!==`connected`||this.store.keyMetrics.iceConnectionEnd||this.store.iceConnectionEnd(),iP.info(`[${this.store.clientId}] [p2pId: ${this.store.p2pId}]: P2PConnection.onICEConnectionStateChange(${e$2})`),lP.reportApiInvoke(this.store.sessionId,{name:`ICEConnectionStateChange`,options:e$2,tag:kO.TRACER}).onSuccess(),this.emit(vx.IceConnectionStateChange,e$2)},e$1.onICETransportStateChange=e$2=>{iP.info(`[${this.store.clientId}] [p2pId: ${this.store.p2pId}]: P2PConnection.onICETransportStateChange(${e$2})`)},e$1.onDTLSTransportStateChange=e$2=>{iP.info(`[${this.store.clientId}] [p2pId: ${this.store.p2pId}]: P2PConnection.onDTLSTransportStateChange(${e$2})`)},e$1.onDTLSTransportError=e$2=>{iP.info(`[${this.store.clientId}] [p2pId: ${this.store.p2pId}]: P2PConnection.onDTLSTransportError(${e$2})`)},e$1.onFirstAudioDecoded=e$2=>{var t$1;let i$1=Array.from(WD(t$1=this.remoteUserMap).call(t$1)).find((t$2=>t$2._audioSSRC===e$2));var n$1;i$1&&(this.store.subscribe(i$1.uid,`audio`,void 0,void 0,void 0,Date.now()),(n$1=i$1.audioTrack)==null||n$1.emit(WP.FIRST_FRAME_DECODED),lP.firstRemoteFrame(this.store.sessionId,sP.FIRST_AUDIO_DECODE,aP.FIRST_AUDIO_DECODE,{peer:i$1._uintid,subscribeElapse:tj.measureFromSubscribeStart(this.store.clientId,e$2),subscribeRequestid:e$2,p2pid:this.store.p2pId}))},e$1.onFirstAudioReceived=e$2=>{var t$1;let i$1=Array.from(WD(t$1=this.remoteUserMap).call(t$1)).find((t$2=>t$2._audioSSRC===e$2));i$1&&lP.firstRemoteFrame(this.store.sessionId,sP.FIRST_AUDIO_RECEIVED,aP.FIRST_AUDIO_RECEIVED,{peer:i$1._uintid,subscribeElapse:tj.measureFromSubscribeStart(this.store.clientId,e$2),subscribeRequestid:e$2,p2pid:this.store.p2pId})},e$1.onFirstVideoDecoded=(e$2,t$1,i$1)=>{this.reportVideoFirstFrameDecoded(e$2,t$1,i$1)},e$1.onFirstVideoReceived=e$2=>{var t$1;let i$1=Array.from(WD(t$1=this.remoteUserMap).call(t$1)).find((t$2=>t$2._videoSSRC===e$2));i$1&&lP.firstRemoteFrame(this.store.sessionId,sP.FIRST_VIDEO_RECEIVED,aP.FIRST_VIDEO_RECEIVED,{peer:i$1._uintid,subscribeElapse:tj.measureFromSubscribeStart(this.store.clientId,e$2),subscribeRequestid:e$2,p2pid:this.store.p2pId})},e$1.onSelectedLocalCandidateChanged=(e$2,t$1)=>{let i$1=e$2.candidateType===`relay`,n$1=t$1.candidateType===`relay`;t$1.candidateType!==`unknown`&&i$1===n$1||this.emit(vx.ConnectionTypeChange,i$1),iP.info(`[${this.store.clientId}] [p2pId: ${this.store.p2pId}]: P2PConnection.SelectedLocalCandidateChanged(${JSON.stringify(EF(t$1))} -> ${JSON.stringify(EF(e$2))})`)},e$1.onSelectedRemoteCandidateChanged=(e$2,t$1)=>{iP.info(`[${this.store.clientId}] [p2pId: ${this.store.p2pId}]: P2PConnection.SelectedRemoteCandidateChanged(${JSON.stringify(EF(t$1))} -> ${JSON.stringify(EF(e$2))})`)},e$1.onFirstVideoDecodedTimeout=e$2=>{this.reportVideoFirstFrameDecoded(e$2,void 0,void 0,!0)},e$1.onLocalCandidate=t$1=>{this.emit(vx.LocalCandidate,{candidate:t$1,direction:e$1.direction})}}unbindConnectionEvents(e$1){e$1.onConnectionStateChange=void 0,e$1.onICEConnectionStateChange=void 0,e$1.onICETransportStateChange=void 0,e$1.onDTLSTransportStateChange=void 0,e$1.onDTLSTransportError=void 0,e$1.onFirstAudioDecoded=void 0,e$1.onFirstAudioReceived=void 0,e$1.onFirstVideoDecoded=void 0,e$1.onFirstVideoReceived=void 0,e$1.onSelectedLocalCandidateChanged=void 0,e$1.onSelectedRemoteCandidateChanged=void 0,e$1.onFirstVideoDecodedTimeout=void 0,e$1.onLocalCandidate=void 0}async handleDisconnect(e$1){let t$1=e$1===GV.SEND_ONLY?this.sendConnection:this.recvConnection;t$1&&!t$1.isInRestartIce&&(t$1.isInRestartIce=!0,iP.debug(`[${this.store.clientId}] [P2PChannel-${t$1.name}] start use restartICE`),e$1===GV.SEND_ONLY?this.restartICE(e$1):zO(this,vx.RequestP2PRestartICE,{direction:GV.SEND_ONLY}))}filterTobeMutedTracks(e$1){let t$1=[];if(this.getAllTracks().indexOf(e$1)===-1)return t$1;let i$1=this.localTrackMap.get(Rx.LocalAudioTrack);if(e$1 instanceof Bk&&i$1?.track instanceof Wk)return i$1.track.isActive||t$1.push([Rx.LocalAudioTrack,i$1]),t$1;let n$1=Array.from(this.localTrackMap.entries()).find((t$2=>{let[,{track:i$2}]=t$2;return e$1===i$2}));if(n$1&&(t$1.push(n$1),n$1[0]===Rx.LocalVideoTrack)){let e$2=this.localTrackMap.get(Rx.LocalVideoLowTrack);e$2&&t$1.push([Rx.LocalVideoLowTrack,e$2])}return t$1}filterTobeUnmutedTracks(e$1){let t$1=[],i$1=this.localTrackMap.get(Rx.LocalAudioTrack);if(e$1 instanceof Bk&&i$1?.track instanceof Wk)return i$1.track.isActive&&t$1.push([Rx.LocalAudioTrack,i$1]),t$1;let n$1=Array.from(this.localTrackMap.entries()).find((t$2=>{let[,{track:i$2}]=t$2;return e$1===i$2}));if(n$1)if(n$1[0]===Rx.LocalVideoTrack){t$1.push(n$1);let e$2=this.localTrackMap.get(Rx.LocalVideoLowTrack);e$2&&t$1.push([Rx.LocalVideoLowTrack,e$2])}else t$1.push(n$1);return t$1}createMuteMessage(e$1){return e$1.map((e$2=>{var t$1;let i$1,[n$1,{track:r$1,ssrcs:o$1,id:s$1}]=e$2;switch(n$1){case Rx.LocalAudioTrack:i$1=ox.Audio;break;case Rx.LocalVideoTrack:i$1=Ln(t$1=r$1._hints).call(t$1,VP.SCREEN_TRACK)?ox.Screen:ox.High;break;case Rx.LocalVideoLowTrack:i$1=ox.Low}return{stream_type:i$1,ssrcs:o$1,mid:s$1}}))}createUnmuteMessage(e$1){return e$1.map((e$2=>{var t$1;let i$1,[n$1,{track:r$1,ssrcs:o$1,id:s$1}]=e$2;switch(n$1){case Rx.LocalAudioTrack:i$1=ox.Audio;break;case Rx.LocalVideoTrack:i$1=Ln(t$1=r$1._hints).call(t$1,VP.SCREEN_TRACK)?ox.Screen:ox.High;break;case Rx.LocalVideoLowTrack:i$1=ox.Low}return{stream_type:i$1,ssrcs:o$1,mid:s$1}}))}filterTobeUnSubscribedTracks(e$1,t$1){let i$1=[],n$1=this.remoteUserMap.get(e$1);if(!n$1)return i$1;if(t$1){let r$1=n$1.get(t$1);if(!r$1)return i$1;i$1.push([e$1,{kind:t$1,id:r$1}])}else Array.from(n$1.entries()).forEach((t$2=>{let[n$2,r$1]=t$2;i$1.push([e$1,{kind:n$2,id:r$1}])}));return i$1}createUnsubscribeMessage(e$1){let t$1=[];return e$1.forEach((e$2=>{let[i$1,{kind:n$1,id:r$1}]=e$2;switch(n$1){case fx.VIDEO:i$1._videoSSRC&&t$1.push({stream_type:fx.VIDEO,ssrcId:i$1._videoSSRC});return;case fx.AUDIO:i$1._audioSSRC&&t$1.push({stream_type:fx.AUDIO,ssrcId:i$1._audioSSRC});return}})),t$1}withdrawRemoteTracks(e$1){e$1.forEach((e$2=>{let[t$1,{kind:i$1}]=e$2,n$1=this.remoteUserMap.get(t$1);n$1&&(n$1.delete(i$1),Array.from(n$1.entries()).length===0&&this.remoteUserMap.delete(t$1))}))}async updateBitrateLimit(e$1){let t$1=this.localTrackMap.get(Rx.LocalVideoTrack),i$1=this.localTrackMap.get(Rx.LocalVideoLowTrack);t$1&&(await t$1.track.setBitrateLimit(e$1.uplink),await new rp(((e$2,i$2)=>{this.handleUpdateVideoEncoder(t$1.track,e$2,i$2,!0)}))),i$1&&e$1.low_stream_uplink&&(await i$1.track.setBitrateLimit({max_bitrate:e$1.low_stream_uplink.bitrate,min_bitrate:e$1.low_stream_uplink.bitrate||0}),await new rp(((e$2,t$2)=>{this.handleUpdateVideoEncoder(i$1.track,e$2,t$2,!0)})))}isP2PDisconnected(){if(this.sendConnection&&this.recvConnection){let e$1=this.sendConnection.peerConnectionState,t$1=this.recvConnection.peerConnectionState;return e$1!==`connected`&&t$1!==`connected`}return!0}async tryToUnmuteAudio(e$1){for(let t$1=0;t$1<e$1.length;t$1++)if(e$1[t$1]instanceof Bk){let i$1=this.filterTobeUnmutedTracks(e$1[t$1]);if(i$1.length===0)continue;let n$1=this.createUnmuteMessage(i$1);await qO(this,vx.RequestUnmuteLocal,n$1);return}}bindStatsUploaderEvents(){this.statsUploader.requestStats=e$1=>this.getStats(e$1),this.statsUploader.requestLocalMedia=()=>Array.from(this.localTrackMap.entries()).filter((e$1=>{let[,{ssrcs:t$1}]=e$1;return!!t$1})),this.statsUploader.requestRemoteMedia=()=>Array.from(this.remoteUserMap.entries()),this.statsUploader.requestVideoIsReady=e$1=>{var t$1;return!((t$1=this.recvConnection)==null||!t$1.getRemoteVideoIsReady(e$1))},this.statsUploader.requestUpload=(e$1,t$1)=>this.emit(vx.RequestUpload,e$1,t$1),this.statsUploader.requestUploadStats=e$1=>this.emit(vx.RequestUploadStats,e$1),this.statsUploader.requestAllTracks=()=>this.getAllTracks()}unbindStatsUploaderEvents(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0}async requestReconnect(){this.dtlsFailedCount+=1,await fN(MN(this.dtlsFailedCount,kN)),this.emit(vx.RequestReconnect)}async reconnectP2P(){}canPublishLowStream(){return this.localTrackMap.has(Rx.LocalVideoTrack)||this.pendingLocalTracks.some((e$1=>e$1 instanceof kM))}throwIfTrackTypeNotMatch(e$1){if(e$1.filter((e$2=>e$2 instanceof kM)).length>1)throw new pO(hO.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(e$1.filter((e$2=>e$2 instanceof Bk)).length>1&&(e$1.some((e$2=>e$2 instanceof Bk&&e$2._bypassWebAudio))||!pP().webAudioMediaStreamDest))throw new pO(hO.NOT_SUPPORTED,`cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode`);for(let t$1 of e$1){if(t$1 instanceof kM&&this.pendingLocalTracks.some((e$2=>e$2 instanceof kM)))throw new pO(hO.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(t$1 instanceof Bk&&this.pendingLocalTracks.some((e$2=>e$2 instanceof Bk))&&(!pP().webAudioMediaStreamDest||t$1._bypassWebAudio||this.pendingLocalTracks.some((e$2=>e$2 instanceof Bk&&e$2._bypassWebAudio))))throw new pO(hO.NOT_SUPPORTED,`cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode`)}}getLowVideoTrack(e$1,t$1){let i$1=!CD(`DISABLE_DUAL_STREAM_USE_ENCODING`)&&pP().supportDualStreamEncoding,n$1=FX(FX({},{width:160,height:120,framerate:15,bitrate:50}),t$1),r$1;r$1=i$1?e$1._mediaStreamTrack.clone():jj(e$1,n$1);let o$1=SN(8,`track-low-`),s$1=new kM(r$1,FX(FX({},i$1&&{scaleResolutionDownBy:_F(n$1,e$1)}),{},{frameRate:n$1.framerate,bitrateMax:n$1.bitrate,bitrateMin:n$1.bitrate}),void 0,void 0,o$1);return s$1.on(jP.TRANSCEIVER_UPDATED,(t$2=>{e$1._updateRtpTransceiver(t$2,xP.LOW_STREAM)})),s$1._hints.push(VP.LOW_STREAM),e$1.addListener(UP.NEED_CLOSE,(()=>{s$1.close()})),s$1}async globalLock(){return this.recvMutex.lock(`From P2PChannel2.globalLock`)}reportVideoFirstFrameDecoded(e$1,t$1,i$1,n$1){var r$1;let o$1=Array.from(WD(r$1=this.remoteUserMap).call(r$1)).find((t$2=>t$2._videoSSRC===e$1));if(o$1){n$1||this.store.subscribe(o$1.uid,`video`,void 0,void 0,void 0,void 0,Date.now());let r$2=this.store.keyMetrics,s$1=r$2.subscribe.find((e$2=>e$2.userId===o$1.uid&&e$2.type===`video`));lP.firstRemoteVideoDecode(this.store.sessionId,sP.FIRST_VIDEO_DECODE,aP.FIRST_VIDEO_DECODE,{peer:o$1._uintid,videowidth:t$1,videoheight:i$1,subscribeElapse:tj.measureFromSubscribeStart(this.store.clientId,e$1),subscribeRequestid:e$1,p2pid:this.store.p2pId,apEnd:r$2.requestAPEnd||0,apStart:r$2.requestAPStart||0,joinGwEnd:r$2.joinGatewayEnd||0,joinGwStart:r$2.joinGatewayStart||0,pcEnd:r$2.peerConnectionEnd||0,pcStart:r$2.peerConnectionStart||0,subscriberEnd:s$1?.subscribeEnd||0,subscriberStart:s$1?.subscribeStart||0,videoAddNotify:s$1?.streamAdded||0,state:n$1?1:0})}}async remoteMediaSsrcChanged(e$1,t$1,i$1){if(!this.recvConnection)return!1;let n$1=this.remoteUserMap.get(e$1);if(!n$1)return!1;let r$1=n$1.get(t$1);if(!r$1)return!1;let o$1=await this.recvConnection.getRemoteSSRC(r$1);return o$1!==void 0&&o$1!==i$1}isPreSubScribe(e$1){return!1}async publishDataChannel(e$1){throw new pO(hO.NOT_SUPPORTED)}async unpublishDataChannel(e$1){throw new pO(hO.NOT_SUPPORTED)}async subscribeDataChannel(e$1,t$1){throw new pO(hO.NOT_SUPPORTED)}async unsubscribeDataChannel(e$1,t$1){throw new pO(hO.NOT_SUPPORTED)}hasPendingRemoteDataChannel(e$1,t$1){throw new pO(hO.NOT_SUPPORTED)}setPendingRemoteDataChannel(e$1,t$1){throw new pO(hO.NOT_SUPPORTED)}async preConnect(e$1){throw new pO(hO.NOT_SUPPORTED)}getEstablishParams(){throw new pO(hO.NOT_SUPPORTED)}async reSubscribe(e$1){throw new pO(hO.NOT_SUPPORTED)}reportVideoFirstFrameRender(e$1){}async updateVideoStreamParameter(e$1,t$1){throw new pO(hO.NOT_SUPPORTED)}unbindRtpTransceiver(){this.localTrackMap.size!==0&&Array.from(this.localTrackMap.entries()).forEach((e$1=>{let[t$1,{track:i$1}]=e$1;t$1===Rx.LocalVideoLowTrack?i$1._updateRtpTransceiver(void 0,xP.LOW_STREAM):i$1._updateRtpTransceiver(void 0)}))}},DV(VX.prototype,`p2pConnect`,[AX],Object.getOwnPropertyDescriptor(VX.prototype,`p2pConnect`),VX.prototype),DV(VX.prototype,`unpublish`,[bX],Object.getOwnPropertyDescriptor(VX.prototype,`unpublish`),VX.prototype),DV(VX.prototype,`unpublishLowStream`,[wX],Object.getOwnPropertyDescriptor(VX.prototype,`unpublishLowStream`),VX.prototype),DV(VX.prototype,`subscribe`,[OX],Object.getOwnPropertyDescriptor(VX.prototype,`subscribe`),VX.prototype),DV(VX.prototype,`mockSubscribe`,[NX],Object.getOwnPropertyDescriptor(VX.prototype,`mockSubscribe`),VX.prototype),DV(VX.prototype,`unsubscribe`,[DX],Object.getOwnPropertyDescriptor(VX.prototype,`unsubscribe`),VX.prototype),DV(VX.prototype,`muteRemote`,[PX],Object.getOwnPropertyDescriptor(VX.prototype,`muteRemote`),VX.prototype),DV(VX.prototype,`unmuteRemote`,[LX],Object.getOwnPropertyDescriptor(VX.prototype,`unmuteRemote`),VX.prototype),DV(VX.prototype,`hasRemoteMediaWithLock`,[kX],Object.getOwnPropertyDescriptor(VX.prototype,`hasRemoteMediaWithLock`),VX.prototype),DV(VX.prototype,`disconnectForReconnect`,[MX],Object.getOwnPropertyDescriptor(VX.prototype,`disconnectForReconnect`),VX.prototype),DV(VX.prototype,`remoteMediaSsrcChanged`,[UX],Object.getOwnPropertyDescriptor(VX.prototype,`remoteMediaSsrcChanged`),VX.prototype),VX);function jX(e$1){return function(t$1,i$1,n$1){let r$1=t$1[i$1];if(typeof r$1!=`function`)throw Error(`Cannot use mutex on object property.`);return n$1.value=async function(){var n$2=[...arguments];switch(e$1){case IX.SEND_ONLY:{let e$2=await this.sendMutex.lock(`From P2PChannel2.${i$1}`);try{return await r$1.apply(this,n$2)}finally{e$2()}}case IX.RECEIVE_ONLY:{let e$2=await this.recvMutex.lock(`From P2PChannel2.${i$1}`);try{return await r$1.apply(this,n$2)}finally{e$2()}}default:{let e$2=await this.sendMutex.lock(`From P2PChannel2.${i$1}`),t$3=await this.recvMutex.lock(`From P2PChannel2.${i$1}`);try{return await r$1.apply(this,n$2)}finally{e$2(),t$3()}}}},n$1}}class GX extends NO{constructor(e$1,t$1){super(),iA(this,`signal`,void 0),iA(this,`token`,void 0),iA(this,`tokenTimeout`,void 0),iA(this,`tokenInterval`,void 0),iA(this,`_sequence`,0),iA(this,`userMap`,new Map),iA(this,`encoder`,new TextEncoder),this.signal=e$1,this.token=t$1;let i$1=()=>{this.signal.connectionState===VV.CONNECTED&&this.check(),this.userMap.size===0?this.tokenInterval=window.setTimeout(i$1,1e3):this.tokenInterval=window.setTimeout(i$1,3*CD(`P2P_TOKEN_INTERVAL`))};i$1()}async send(e$1,t$1,i$1,n$1,r$1){var o$1;if(this.userMap.size===0)return;let s$1=Array.from(pp(o$1=this.userMap).call(o$1))[0].token;typeof t$1!=`string`&&(t$1=JSON.stringify(t$1)),n$1??=SN(6,``),r$1??=this._sequence++;let a$1={_id:n$1,_type:e$1,_seq:r$1,_message:t$1,token:`${this.token}_${s$1}`};CD(`SHOW_P2P_LOG`)&&iP.debug(`send message`,a$1,`noNeedResponse : ${i$1}`),this.splitMessage(JSON.stringify(a$1)).forEach((e$2=>{this.signal.request(FV.DATA_STREAM,{payload:uN(this.encoder.encode(e$2))})}));let c$1=new rp(((t$2,r$2)=>{let o$2=window.setTimeout((()=>{this.off(`res-@${n$1}_ack`,s$2),this.off(`res-@${n$1}`,d$1),this.off(kx.ABORT,c$2),iP.debug(`[external-signal] request timeout, type: ${e$1}, requestId: ${n$1}`),this.userMap.size===0?r$2(new pO(hO.INVALID_REMOTE_USER)):r$2(new pO(hO.TIMEOUT))}),CD(`EXTERNAL_SIGNAL_REQUEST_TIMEOUT`)),s$2=()=>{o$2&&window.clearTimeout(o$2),this.off(kx.ABORT,c$2),i$1&&t$2()},c$2=()=>{o$2&&window.clearTimeout(o$2),this.off(`res-@${n$1}_ack`,s$2),this.off(`res-@${n$1}`,d$1),r$2(new pO(hO.EXTERNAL_SIGNAL_ABORT,`type: ${e$1}, requestId: ${n$1}`))};this.once(kx.ABORT,c$2),this.once(`res-@${n$1}_ack`,s$2);let d$1=(i$2,a$2)=>{l$1=!0,o$2&&window.clearTimeout(o$2),this.off(`res-@${n$1}_ack`,s$2),this.off(kx.ABORT,c$2),i$2===`success`?t$2(a$2):r$2(new pO(hO.P2P_MESSAGE_FAILED,`request ${e$1} failed, requestId: ${n$1}`))},l$1=!1;i$1||(this.once(`res-@${n$1}`,d$1),fN(CD(`SIGNAL_REQUEST_TIMEOUT`)).then((()=>{l$1||iP.warning(`external_signal request timeout, type: ${e$1}, requestId: ${n$1}, ${a$1}`)})))}));try{return await c$1}catch(o$2){if(o$2.code===hO.TIMEOUT)return await this.send(e$1,t$1,i$1,n$1,r$1);throw o$2}}onMessage(e$1){var t$1;let{_uid:i$1}=e$1,n$1,r$1=this.userMap.get(i$1);if(r$1)n$1=r$1.splitMessageMap;else{if(this.userMap.size>0||!(`_type`in e$1)||e$1._type!==Lx.CHECK)return;let{token:t$2}=e$1;n$1=new Map,r$1={uid:i$1,isStart:!0,token:t$2,splitMessageMap:n$1,nextExpectedSequenceNumber:0,receivedMessagesMap:new Map},this.userMap.set(i$1,r$1),this.signal.emit(jV.ON_USER_ONLINE,{uid:i$1}),this.handleUserOnline()}if(`id`in e$1&&`total`in e$1){var o$1;let{id:t$2,total:r$2}=e$1,s$2=n$1.get(t$2)??[];if(s$2.push(e$1),n$1.has(t$2)||n$1.set(t$2,s$2),s$2.length!==r$2)return;{let r$3=Qp(s$2).call(s$2,((e$2,t$3)=>e$2.index-t$3.index)).map((e$2=>e$2.payload)).join(``);n$1.delete(t$2),(e$1=JSON.parse(r$3))._uid=i$1}}let{_type:s$1,token:a$1}=e$1;if(Ln(t$1=[Lx.ACK,Lx.CHECK]).call(t$1,s$1))return s$1===Lx.CHECK&&this.handleCheckToken(r$1,a$1),void this.receiveMessage(e$1);a$1===`${r$1.token}_${this.token}`?this.handleReceivedMessage(e$1):iP.debug(`Receive unexpected message", ${a$1}, cur_token: ${r$1.token}_${this.token}`,e$1)}check(){let e$1={_id:SN(6,``),token:this.token,_type:Lx.CHECK};CD(`SHOW_P2P_LOG`)&&iP.debug(`send message`,e$1),this.signal.request(FV.DATA_STREAM,{payload:uN(this.encoder.encode(JSON.stringify(e$1)))})}ack(e$1){let t$1={_id:e$1,_type:Lx.ACK,token:this.token};CD(`SHOW_P2P_LOG`)&&iP.debug(`send message`,t$1),this.signal.request(FV.DATA_STREAM,{payload:uN(this.encoder.encode(JSON.stringify(t$1)))})}response(e$1,t$1,i$1){this.send(Lx.RESPONSE,JSON.stringify({success:!i$1,message:t$1}),!0,e$1)}handleReceivedMessage(e$1){let t$1=()=>{this.userMap.forEach((e$2=>{let{receivedMessagesMap:t$2,nextExpectedSequenceNumber:i$2}=e$2;for(;t$2.has(i$2);){let n$2=t$2.get(i$2);t$2.delete(i$2),this.receiveMessage(n$2),e$2.nextExpectedSequenceNumber++}}))};if(!e$1)return void t$1();let{_uid:i$1,_seq:n$1}=e$1,r$1=this.userMap.get(i$1),{receivedMessagesMap:o$1,isStart:s$1,nextExpectedSequenceNumber:a$1}=r$1;if(n$1<a$1)return this.ack(e$1._id),void iP.debug(`[external-signal] receive old message, seq: ${n$1}, ${e$1._message}`);o$1.set(n$1,e$1),s$1&&n$1===a$1&&(this.receiveMessage(e$1),o$1.delete(a$1),r$1.nextExpectedSequenceNumber++,t$1())}receiveMessage(e$1){let{_id:t$1,_type:i$1,_message:n$1,_uid:r$1}=e$1;if(CD(`SHOW_P2P_LOG`)&&iP.debug(`receive message`,e$1),t$1){let o$1;switch(e$1._type!==Lx.ACK&&(n$1&&(o$1=JSON.parse(n$1)),this.ack(e$1._id)),e$1._type){case Lx.CANDIDATE:case Lx.CONTROL:this.signal.emit(i$1,o$1,r$1);break;case Lx.PUBLISH:case Lx.UNPUBLISH:case Lx.RESTART_ICE:case Lx.CALL:o$1.uid=r$1,zO(this.signal,i$1,o$1).then((t$2=>{this.response(e$1._id,t$2)})).catch((()=>{this.response(e$1._id,void 0,!0)}));break;case Lx.ACK:this.getListeners(`res-@${t$1}_ack`).length>0&&this.emit(`res-@${t$1}_ack`);break;case Lx.RESPONSE:{let{success:e$2,message:i$2}=o$1;this.emit(`res-@${t$1}`,e$2?`success`:`failed`,i$2);break}}}}splitMessage(e$1){if(e$1.length<GX.MAX_MESSAGE_SIZE)return[e$1];let t$1=[],{remoteToken:i$1}=JSON.parse(e$1),n$1=SN(6,``),r$1=0,o$1=800,s$1=Math.ceil(e$1.length/o$1);for(;e$1.length>0;){r$1++;let a$1={id:n$1,index:r$1,total:s$1,payload:e$1.slice(0,o$1),token:`${this.token}_${i$1}`};JSON.stringify(a$1).length>GX.MAX_MESSAGE_SIZE?o$1-=50:(t$1.push(a$1),e$1=e$1.slice(o$1))}return t$1.map((e$2=>JSON.stringify(e$2)))}handleCheckToken(e$1,t$1){return e$1.token===t$1?(this.tokenTimeout&&=(window.clearTimeout(this.tokenTimeout),void 0),this.tokenTimeout=window.setTimeout((()=>{iP.debug(`token timeout, ${t$1}`),this.reset(e$1.uid)}),CD(`MAX_P2P_TIMEOUT`)),!0):(iP.debug(`token changed, from ${e$1.token} to ${t$1}`),this.reset(e$1.uid,t$1),!1)}async handleUserOnline(){let e$1=await zO(this.signal,Lx.CALL,void 0),t$1=await this.send(Lx.CALL,e$1);this.signal.emit(xV.P2P_CONNECTION,t$1,!0)}async reset(e$1,t$1){let i$1=this.userMap.get(e$1);i$1&&(this.emit(kx.ABORT),this.signal.emit(jV.ON_USER_OFFLINE,{uid:i$1.uid,reason:Ux.P2P_TOKEN_CHANGED}),this._sequence=0,this.userMap.clear(),t$1||(iP.debug(`change local token from ${t$1} to ${t$1}`),this.token=SN(6,``)))}clear(){this._sequence=0,this.userMap.clear(),this.tokenInterval&&window.clearTimeout(this.tokenInterval),this.tokenInterval=void 0,this.tokenTimeout&&window.clearTimeout(this.tokenTimeout),this.tokenTimeout=void 0,this.emit(kx.ABORT)}}iA(GX,`MAX_SIZE`,1),iA(GX,`MAX_MESSAGE_SIZE`,1024);class WX extends NO{get connectionState(){return this._connectionState}set connectionState(e$1){e$1!==this._connectionState&&(this._connectionState=e$1,e$1===VV.CONNECTED?this.emit(xV.WS_CONNECTED):e$1===VV.RECONNECTING?this.emit(xV.WS_RECONNECTING,this._websocketReconnectReason):e$1===VV.CLOSED&&this.emit(xV.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket&&this.websocket.url||null}get rtt(){return this.rttRolling.mean()}constructor(e$1,t$1){super(),iA(this,`__name__`,`P2PSignal`),iA(this,`_disconnectedReason`,void 0),iA(this,`_websocketReconnectReason`,void 0),iA(this,`_connectionState`,VV.CLOSED),iA(this,`reconnectToken`,void 0),iA(this,`p2pToken`,void 0),iA(this,`websocket`,void 0),iA(this,`openConnectionTime`,void 0),iA(this,`clientId`,void 0),iA(this,`lastMsgTime`,Date.now()),iA(this,`uploadCache`,[]),iA(this,`uploadCacheInterval`,void 0),iA(this,`rttRolling`,new xN(5)),iA(this,`pingpongTimer`,void 0),iA(this,`pingpongTimeoutCount`,0),iA(this,`joinResponse`,void 0),iA(this,`multiIpOption`,void 0),iA(this,`initError`,void 0),iA(this,`spec`,void 0),iA(this,`store`,void 0),iA(this,`_external_signal`,void 0),iA(this,`onWebsocketMessage`,(e$2=>{if(e$2.data instanceof ArrayBuffer)return void this.emit(xV.ON_BINARY_DATA,e$2.data);let t$2=JSON.parse(e$2.data);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(t$2,`_id`)){let e$3=`res-@${t$2._id}`;this.emit(e$3,t$2._result,t$2._message)}else if(Object.prototype.hasOwnProperty.call(t$2,`_type`)){switch(t$2._type){case jV.ON_DATA_STREAM:this.handleDataStream(t$2._message);return;case jV.MUTE_AUDIO:case jV.MUTE_VIDEO:case jV.ON_P2P_LOST:case jV.ON_USER_ONLINE:return;case jV.ON_USER_OFFLINE:let{uid:e$3}=t$2._message;iP.debug(`[${this.clientId}] user-offline uid: ${e$3}`),this._external_signal.reset(e$3);return}if(this.emit(t$2._type,t$2._message),t$2._type===jV.ON_NOTIFICATION&&this.handleNotification(t$2._message),t$2._type===jV.ON_USER_BANNED)switch(t$2._message.error_code){case 14:this.close(VO.UID_BANNED);break;case 15:this.close(VO.IP_BANNED);break;case 16:this.close(VO.CHANNEL_BANNED)}if(t$2._type===jV.ON_USER_LICENSE_BANNED)switch(t$2._message.error_code){case UV.ERR_LICENSE_MISSING:this.close(VO.LICENSE_MISSING);break;case UV.ERR_LICENSE_EXPIRED:this.close(VO.LICENSE_EXPIRED);break;case UV.ERR_LICENSE_MINUTES_EXCEEDED:this.close(VO.LICENSE_MINUTES_EXCEEDED);break;case UV.ERR_LICENSE_PERIOD_INVALID:this.close(VO.LICENSE_PERIOD_INVALID);break;case UV.ERR_LICENSE_MULTIPLE_SDK_SERVICE:this.close(VO.LICENSE_MULTIPLE_SDK_SERVICE);break;case UV.ERR_LICENSE_ILLEGAL:this.close(VO.LICENSE_ILLEGAL);break;default:this.close()}}})),this.clientId=e$1.clientId,this.spec=e$1,this.store=t$1,this.websocket=new Zx(`gateway-${this.clientId}`,this.spec.retryConfig,!0,CD(`JOIN_GATEWAY_USE_DUAL_DOMAIN`),CD(`JOIN_GATEWAY_USE_443PORT_ONLY`),t$1),this.handleWebsocketEvents(),window.addEventListener(`offline`,(()=>{this.connectionState===VV.CONNECTED&&this.reconnect(`retry`,HO.OFFLINE)})),this.p2pToken=SN(6,``),this._external_signal=new GX(this,this.p2pToken)}async request(e$1,t$1,i$1,n$1){let r$1=SN(6,``),o$1={_id:r$1,_type:e$1,_message:t$1},s$1=this.websocket.connectionID,a$1=()=>new rp(((e$2,t$2)=>{if(this.connectionState===VV.CONNECTED)return e$2();let i$2=()=>{this.off(xV.WS_CLOSED,n$2),e$2()},n$2=()=>{this.off(xV.WS_CONNECTED,i$2),t$2(new pO(hO.WS_ABORT))};this.once(xV.WS_CONNECTED,i$2),this.once(xV.WS_CLOSED,n$2)}));if(this.connectionState!==VV.CONNECTING&&this.connectionState!==VV.RECONNECTING||e$1===FV.JOIN||e$1===FV.REJOIN||await a$1(),this.websocket.sendMessage(o$1,!0),n$1)return;let c$1=new rp(((i$2,n$2)=>{let o$2=!1,a$2=(n$3,r$2)=>{o$2=!0,i$2({isSuccess:n$3===`success`,message:r$2||{}}),this.off(xV.WS_CLOSED,c$2),this.off(xV.WS_RECONNECTING,c$2),this.emit(xV.REQUEST_SUCCESS,e$1,t$1)};this.once(`res-@${r$1}`,a$2);let c$2=()=>{n$2(new pO(hO.WS_ABORT,`type: ${e$1}`)),this.off(xV.WS_CLOSED,c$2),this.off(xV.WS_RECONNECTING,c$2),this.off(`res-@${r$1}`,a$2)};this.once(xV.WS_CLOSED,c$2),this.once(xV.WS_RECONNECTING,c$2),fN(CD(`SIGNAL_REQUEST_TIMEOUT`)).then((()=>{this.websocket.connectionID!==s$1||o$2||(iP.warning(`[${this.clientId}] ws request timeout, type: ${e$1}`),this.emit(xV.REQUEST_TIMEOUT,e$1,t$1))}))})),d$1=null;try{d$1=await c$1}catch(n$2){if(this.connectionState===VV.CLOSED||e$1===FV.LEAVE)throw new pO(hO.WS_ABORT);return!this.spec.forceWaitGatewayResponse||i$1?n$2.throw():e$1===FV.JOIN||e$1===FV.REJOIN?null:(await a$1(),await this.request(e$1,t$1))}if(d$1.isSuccess)return d$1.message;let l$1=Number(d$1.message.error_code||d$1.message.code),u$1=Bx(l$1),h$1=new pO(hO.UNEXPECTED_RESPONSE,`${u$1.desc}: ${d$1.message.error_str}`,{code:l$1,data:d$1.message,desc:u$1.desc});return u$1.action===`success`?d$1.message:(iP.warning(`[${this.clientId}] [${this.websocket.connectionID}] unexpected response from type ${e$1}, error_code: ${l$1}, message: ${u$1.desc}, action: ${u$1.action}`),l$1===UV.ERR_TOO_MANY_BROADCASTERS?e$1===FV.JOIN||e$1===FV.REJOIN?(this.initError=h$1,this.close(),h$1.throw()):h$1.throw():u$1.action===`failed`?h$1.throw():u$1.action===`quit`?(this.initError=h$1,this.close(),h$1.throw()):(l$1===UV.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=d$1.message.option,iP.warning(`[${this.clientId}] detect multi ip, recover`),this.reconnect(`recover`,HO.MULTI_IP)):this.reconnect(u$1.action,HO.SERVER_ERROR),e$1===FV.JOIN||e$1===FV.REJOIN?null:await this.request(e$1,t$1)))}waitMessage(e$1,t$1){return new rp((i$1=>{let n$1=r$1=>{(!t$1||t$1(r$1))&&(this.off(e$1,n$1),i$1(r$1))};this.on(e$1,n$1)}))}uploadWRTCStats(e$1){if(!this.store.sessionId)return void iP.warn(`[${this.clientId}] no session id when upload wrtc stats`);let t$1={lts:Date.now(),sid:this.store.sessionId,uid:this.store.intUid,stats:e$1};this.upload(BV.WRTC_STATS,t$1)}upload(e$1,t$1){let i$1={_type:e$1,_message:t$1};try{this.websocket.sendMessage(i$1)}catch{let t$2=CD(`MAX_UPLOAD_CACHE`)||50;this.uploadCache.push(i$1),this.uploadCache.length>t$2&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval((()=>{if(this.connectionState!==VV.CONNECTED)return;let e$3=this.uploadCache.splice(0,1)[0];this.uploadCache.length===0&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(e$3._type,e$3._message)}),CD(`UPLOAD_CACHE_INTERVAL`)||2e3))}}send(e$1,t$1){let i$1={_type:e$1,_message:t$1};this.websocket.sendMessage(i$1)}async sendExtensionMessage(e$1,t$1,i$1){return await this._external_signal.send(e$1,t$1,i$1)}init(e$1){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new rp(((t$1,i$1)=>{this.once(xV.WS_CONNECTED,(()=>t$1(this.joinResponse))),this.once(xV.WS_CLOSED,(()=>i$1(this.initError||new pO(hO.WS_ABORT)))),this.connectionState=VV.CONNECTING,this.websocket.init(e$1).catch(i$1)}))}close(e$1){this.pingpongTimer&&=(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._external_signal.clear(),this._disconnectedReason=e$1||VO.LEAVE,this.connectionState=VV.CLOSED,iP.debug(`[${this.clientId}] will close websocket in signal`),this.websocket.close(),this.p2pToken=SN(6,``),this._external_signal.clear(),this._external_signal=new GX(this,this.p2pToken)}async join(){if(!this.joinResponse){this.emit(xV.ABORT_P2P_EXECUTION);let e$1=await zO(this,xV.REQUEST_JOIN_INFO),t$1=await this.request(FV.JOIN,e$1);if(!t$1)return this.emit(xV.REPORT_JOIN_GATEWAY,hO.TIMEOUT,this.url||``),!1;this.joinResponse=t$1,this.emit(xV.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=VV.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}reconnect(e$1,t$1){this.pingpongTimer&&=(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),void 0),this.websocket.reconnect(e$1,t$1)}async downgradeCodec(e$1){return!1}handleDataStream(e$1){try{var t$1;let i$1=lN(e$1.payload),n$1=new TextDecoder().decode(i$1),r$1=JSON.parse(n$1);`total`in r$1&&`id`in r$1||Ln(t$1=Object.values(Lx)).call(t$1,r$1._type)?(r$1._uid=e$1.uid,this._external_signal.onMessage(r$1)):this.emit(jV.ON_DATA_STREAM,e$1)}catch{this.emit(jV.ON_DATA_STREAM,e$1)}}handleNotification(e$1){iP.debug(`[${this.clientId}] receive notification: `,e$1);let t$1=Bx(e$1.code);if(t$1.action!==`success`){if(t$1.action!==`failed`)return t$1.action===`quit`?e$1.code===UV.ERR_REPEAT_JOIN_CHANNEL&&CD(`IGNORE_UID_CHECK`)?void this.close(VO.UID_CONFLICT):(t$1.desc===`ERR_REPEAT_JOIN_CHANNEL`&&this.close(VO.UID_BANNED),void this.close()):void this.reconnect(t$1.action,HO.SERVER_ERROR);iP.error(`[${this.clientId}] ignore error: `,t$1.desc)}}handlePingPong(){if(!this.websocket||this.websocket.state!==`connected`)return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;let e$1=CD(`PING_PONG_TIME_OUT`),t$1=Date.now();this.pingpongTimeoutCount>=e$1&&(iP.warning(`[${this.clientId}] PINGPONG Timeout. Last Socket Message: ${t$1-this.lastMsgTime}ms`),t$1-this.lastMsgTime>CD(`WEBSOCKET_TIMEOUT_MIN`))?this.reconnect(`retry`,HO.TIMEOUT):this.request(FV.PING,void 0,!0).then((()=>{this.pingpongTimeoutCount=0;let e$2=Date.now()-t$1;this.rttRolling.add(e$2),CD(`REPORT_STATS`)&&this.send(FV.PING_BACK,{pingpongElapse:e$2})})).catch((e$2=>{}))}handleWebsocketEvents(){this.websocket.on(WV.RECONNECT_CREATE_CONNECTION,(e$1=>{this.emit(xV.WS_RECONNECT_CREATE_CONNECTION,e$1)})),this.websocket.on(WV.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(WV.CLOSED,(()=>{this.connectionState=VV.CLOSED})),this.websocket.on(WV.FAILED,(()=>{this._disconnectedReason=VO.NETWORK_ERROR,this.connectionState=VV.CLOSED})),this.websocket.on(WV.RECONNECTING,(e$1=>{this._websocketReconnectReason=e$1,this.joinResponse=void 0,this.connectionState===VV.CONNECTED?this.connectionState=VV.RECONNECTING:this.connectionState=VV.CONNECTING})),this.websocket.on(WV.WILL_RECONNECT,((e$1,t$1,i$1)=>{e$1===`retry`?iP.debug(`${this.clientId} reconnect mode is retry, no need to renew session`):(iP.debug(`${this.clientId} websocket will_connect event, renewSession reconnectMode is ${e$1}`),this.reconnectToken=void 0),i$1(e$1)})),this.websocket.on(WV.CONNECTED,(()=>{this.openConnectionTime=Date.now(),this.join().catch((e$1=>{if(this.emit(xV.REPORT_JOIN_GATEWAY,e$1,this.url||``),e$1 instanceof pO&&e$1.code===hO.UNEXPECTED_RESPONSE&&e$1.data.code===UV.ERR_NO_AUTHORIZED)return iP.warning(`[${this.clientId}] reconnect no authorized, recover`),void this.reconnect(`recover`,HO.SERVER_ERROR);iP.error(`[${this.clientId}] join gateway request failed`,e$1.toString()),this.spec.forceWaitGatewayResponse?this.reconnect(`tryNext`,HO.SERVER_ERROR):(this.initError=e$1,this.close())}))})),this.websocket.on(WV.REQUEST_NEW_URLS,((e$1,t$1)=>{zO(this,xV.REQUEST_RECOVER,this.multiIpOption).then(e$1).catch(t$1)})),this.websocket.on(WV.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(()=>{this.emit(jV.ON_TOKEN_PRIVILEGE_DID_EXPIRE)}))}}let HX={name:`P2PChannel`,create:function(e$1){let{store:t$1,statsCollector:i$1}=e$1;return new BX(t$1,i$1)},createSubmodule:function(e$1){let{store:t$1,spec:i$1}=e$1;return new WX(i$1,t$1)}};function KX(e$1,t$1){var i$1=Object.keys(e$1);if(Object.getOwnPropertySymbols){var n$1=Object.getOwnPropertySymbols(e$1);t$1&&(n$1=n$1.filter((function(t$2){return Object.getOwnPropertyDescriptor(e$1,t$2).enumerable}))),i$1.push.apply(i$1,n$1)}return i$1}function YX(e$1){for(var t$1=1;t$1<arguments.length;t$1++){var i$1=arguments[t$1]==null?{}:arguments[t$1];t$1%2?KX(Object(i$1),!0).forEach((function(t$2){iA(e$1,t$2,i$1[t$2])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e$1,Object.getOwnPropertyDescriptors(i$1)):KX(Object(i$1)).forEach((function(t$2){Object.defineProperty(e$1,t$2,Object.getOwnPropertyDescriptor(i$1,t$2))}))}return e$1}class zX{constructor(e$1){iA(this,`sessionDesc`,void 0),iA(this,`localCapabilities`,void 0),iA(this,`rtpCapabilities`,void 0),iA(this,`candidates`,void 0),iA(this,`_originCandidates`,void 0),iA(this,`iceParameters`,void 0),iA(this,`dtlsParameters`,void 0),iA(this,`setup`,void 0),iA(this,`currentMidIndex`,void 0),iA(this,`cname`,void 0),e$1=sN(e$1);let{iceParameters:t$1,dtlsParameters:i$1,candidates:n$1,rtpCapabilities:r$1,setup:o$1,localCapabilities:s$1,sdkCodec:a$1,cname:c$1}=e$1,d$1=LD(`v=0
o=- 0 0 IN IP4 127.0.0.1
s=AgoraGateway
t=0 0
a=group:BUNDLE audio video
a=msid-semantic: WMS
a=ice-lite
m=audio 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=sendrecv
a=rtcp-mux
a=rtcp-rsize
a=mid:audio
m=video 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=sendrecv
a=rtcp-mux
a=rtcp-rsize
a=mid:video
`);this.rtpCapabilities=r$1,this.candidates=n$1,this._originCandidates=sN(n$1),this.iceParameters=t$1,this.dtlsParameters=i$1,this.setup=o$1,this.localCapabilities=s$1,this.cname=c$1;for(let e$2=0;e$2<d$1.mediaDescriptions.length;e$2++){let s$2=d$1.mediaDescriptions[e$2];if(s$2.attributes.iceUfrag=t$1.iceUfrag,s$2.attributes.icePwd=t$1.icePwd,s$2.attributes.fingerprints=i$1.fingerprints,s$2.attributes.candidates=n$1,s$2.attributes.setup=o$1,s$2.media.mediaType===`video`){s$2.media.fmts=r$1.videoCodecs.map((e$4=>e$4.payloadType.toString(10)));let e$3=r$1.videoCodecs.filter((e$4=>{var t$3,i$2;return(t$3=e$4.rtpMap)==null?void 0:Ln(i$2=t$3.encodingName.toLowerCase()).call(i$2,a$1)})),t$2=r$1.videoCodecs.filter((t$3=>!Ln(e$3).call(e$3,t$3)));s$2.attributes.payloads=[...e$3,...t$2],s$2.attributes.extmaps=r$1.videoExtensions}s$2.media.mediaType===`audio`&&(s$2.media.fmts=r$1.audioCodecs.map((e$3=>e$3.payloadType.toString(10))),s$2.attributes.payloads=r$1.audioCodecs,s$2.attributes.extmaps=r$1.audioExtensions),d$1.mediaDescriptions[e$2]=this.mungMediaDesc(s$2)}this.sessionDesc=d$1,this.currentMidIndex=d$1.mediaDescriptions.length-1}toString(){return kD(this.sessionDesc)}send(e$1,t$1,i$1){let{ssrcs:n$1,ssrcGroups:r$1}=LF(t$1,this.cname),o$1=this.sessionDesc.mediaDescriptions.find((t$2=>e$1===fx.VIDEO?t$2.media.mediaType===`video`:t$2.media.mediaType===`audio`)),s$1=n$1[0].attributes.label,a$1=n$1[0].attributes.mslabel;return o$1.attributes.ssrcs=o$1.attributes.ssrcs.concat(n$1),o$1.attributes.ssrcGroups=o$1.attributes.ssrcGroups.concat(r$1),{id:s$1,mslabel:a$1}}batchSend(e$1){return e$1.map((e$2=>{let{kind:t$1,ssrcMsg:i$1}=e$2;return this.send(t$1,i$1,void 0)}))}stopSending(e$1){this.sessionDesc.mediaDescriptions.forEach((t$1=>{let i$1=[],n$1=[],r$1=[];t$1.attributes.ssrcs.forEach((t$2=>{Ln(e$1).call(e$1,t$2.attributes.label||``)?r$1.push(t$2):i$1.push(t$2)})),t$1.attributes.ssrcGroups.forEach((e$2=>{var t$2;Ln(t$2=r$1.map((e$3=>e$3.ssrcId))).call(t$2,e$2.ssrcIds[0])||n$1.push(e$2)})),t$1.attributes.ssrcs=i$1,t$1.attributes.ssrcGroups=n$1}))}mute(e$1){let t$1=this.sessionDesc.mediaDescriptions.find((t$2=>t$2.attributes.mid===e$1));if(!t$1)throw Error(`mediaDescription not found with ${e$1} in remote SDP when calling RemoteSDP.mute.`);t$1.attributes.direction=`inactive`}unmute(e$1){let t$1=this.sessionDesc.mediaDescriptions.find((t$2=>t$2.attributes.mid===e$1));if(!t$1)throw Error(`mediaDescription not found with ${e$1} in remote SDP when calling RemoteSDP.unmute.`);t$1.attributes.direction=`sendonly`}receive(e$1,t$1,i$1){e$1.forEach(((e$2,t$2)=>{let i$2=e$2._mediaStreamTrack,n$1=this.sessionDesc.mediaDescriptions.findIndex((e$3=>e$3.attributes.mid===i$2.kind)),r$1=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[n$1],e$2);this.sessionDesc.mediaDescriptions[n$1]=r$1}))}stopReceiving(e$1){}updateCandidates(e$1){let t$1=this._originCandidates.filter((e$2=>e$2.transport===`udp`)),i$1=[];if(t$1.forEach((e$2=>{i$1.push(YX(YX({},e$2),{},{foundation:`tcpcandidate`,priority:Number(e$2.priority)-1+``,transport:`tcp`,port:Number(e$2.port)+90+``}))})),t$1.length!==0){switch(e$1){case Sx.TCP_RELAY:this.candidates=i$1;break;case Sx.UDP_TCP_RELAY:case Sx.RELAY:this.candidates=[...t$1,...i$1];break;default:this.candidates=t$1}for(let e$2 of this.sessionDesc.mediaDescriptions)e$2.attributes.candidates=this.candidates}}restartICE(e$1){e$1=sN(e$1),this.iceParameters=e$1,this.sessionDesc.mediaDescriptions.forEach((t$1=>{t$1.attributes.iceUfrag=e$1.iceUfrag,t$1.attributes.icePwd=e$1.icePwd}))}predictReceivingMids(e$1){let t$1=[];for(let i$1=0;i$1<e$1;i$1++)t$1.push((this.currentMidIndex+i$1+1).toString(10));return t$1}mungRecvMediaDsec(e$1,t$1){let i$1=sN(e$1);return kF(i$1,t$1),UF(i$1,t$1),i$1}updateRecvMedia(e$1,t$1){let i$1=this.sessionDesc.mediaDescriptions.findIndex((t$2=>t$2.attributes.mid===e$1));if(i$1!==-1){let e$2=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[i$1],t$1);this.sessionDesc.mediaDescriptions[i$1]=e$2}}bumpMid(e$1){this.currentMidIndex+=e$1}updateTrackLabel(e$1,t$1,i$1){let n$1=this.sessionDesc.mediaDescriptions.find((t$2=>e$1===fx.VIDEO?t$2.attributes.mid===`video`:t$2.attributes.mid===`audio`));if(n$1){let e$2=n$1.attributes.ssrcs.find((e$3=>e$3.attributes.label===t$1));var r$1;e$2&&(e$2.attributes.label=i$1,(r$1=e$2.attributes.msid)==null||r$1.replace(t$1,i$1))}}mungMediaDesc(e$1){let t$1=sN(e$1);return MF(t$1),function(e$2){let t$2=e$2.attributes.extmaps.find((e$3=>IF(e$3.extensionName)));t$2&&e$2.attributes.extmaps.splice(e$2.attributes.extmaps.indexOf(t$2),1),e$2.attributes.payloads.forEach((e$3=>{let t$3=e$3.rtcpFeedbacks.findIndex((e$4=>e$4.type===`transport-cc`));t$3!==-1&&e$3.rtcpFeedbacks.splice(t$3,1)}))}(t$1),t$1}getSSRC(e$1){for(let t$1 of this.sessionDesc.mediaDescriptions)for(let i$1 of t$1.attributes.ssrcs)if(i$1.attributes.label===e$1)return[i$1]}}var qX;function XX(e$1,t$1){var i$1=Object.keys(e$1);if(Object.getOwnPropertySymbols){var n$1=Object.getOwnPropertySymbols(e$1);t$1&&(n$1=n$1.filter((function(t$2){return Object.getOwnPropertyDescriptor(e$1,t$2).enumerable}))),i$1.push.apply(i$1,n$1)}return i$1}function JX(e$1){for(var t$1=1;t$1<arguments.length;t$1++){var i$1=arguments[t$1]==null?{}:arguments[t$1];t$1%2?XX(Object(i$1),!0).forEach((function(t$2){iA(e$1,t$2,i$1[t$2])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e$1,Object.getOwnPropertyDescriptors(i$1)):XX(Object(i$1)).forEach((function(t$2){Object.defineProperty(e$1,t$2,Object.getOwnPropertyDescriptor(i$1,t$2))}))}return e$1}let QX=(qX=class e$1 extends mx{get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get localCodecs(){return[...new Set(this.localCapabilities&&this.localCapabilities.videoCodecs.map((e$2=>e$2.rtpMap&&e$2.rtpMap.encodingName.toLowerCase()||``)).filter((e$2=>{var t$1;return Ln(t$1=Object.keys(AD)).call(t$1,e$2)})))]}constructor(t$1,i$1){super(t$1,i$1),iA(this,`store`,void 0),iA(this,`peerConnection`,void 0),iA(this,`remoteSDP`,void 0),iA(this,`initialOffer`,void 0),iA(this,`statsFilter`,void 0),iA(this,`useRTX`,!1),iA(this,`localCapabilities`,void 0),iA(this,`localCandidateCount`,0),iA(this,`allCandidatesReceived`,!1),iA(this,`establishPromise`,void 0),iA(this,`mutex`,void 0),this.store=i$1,this.mutex=new PN(`P2PConnection-mutex`,i$1.clientId),this.peerConnection=new RTCPeerConnection(e$1.resolvePCConfiguration(t$1),{optional:[{googDscp:!0}]}),this.statsFilter=dD(this.peerConnection,CD(`STATS_UPDATE_INTERVAL`),void 0,Bw()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,this.establishPromise=this.establish()}async establish(){try{let e$2=await this.peerConnection.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});if(!e$2.sdp)throw Error(`Cannot get initialOffer.sdp when trying to establish PeerConnection.`);let t$1=OF(e$2.sdp),i$1=wF(e$2.sdp,{filterRTX:!this.useRTX,filterVideoFec:CD(`FILTER_VIDEO_FEC`),filterAudioFec:CD(`FILTER_AUDIO_FEC`),filterAudioCodec:[`opus`]});return this.localCapabilities=i$1,this.initialOffer=e$2,JX(JX({},t$1),{},{rtpCapabilities:{send:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},recv:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},sendrecv:i$1},offerSDP:e$2.sdp})}catch(e$2){throw new pO(hO.GET_LOCAL_CONNECTION_PARAMS_FAILED,e$2.toString())}}async updateRemoteConnect(){}async connect(e$2){try{if(!this.initialOffer)throw Error(`Cannot establish P2PConnection without initial offer.`);this.remoteSDP=new zX(JX(JX({},e$2),{},{rtpCapabilities:e$2.rtpCapabilities.send,localCapabilities:this.localCapabilities,sdkCodec:this.store.codec}));let t$1=this.remoteSDP.toString();await this.peerConnection.setLocalDescription(this.initialOffer),await this.peerConnection.setRemoteDescription({type:`answer`,sdp:t$1})}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,`P2PConnection.connect failed; ${e$3.toString()}`)}}async updateRemoteRTPCapabilities(e$2,t$1){throw new pO(hO.NOT_SUPPORTED,`Planb mode does not support createDataChannels.`)}getPreMedia(e$2){}send(e$2,t$1){var i$1=this;return Mb((function*(){let n$1=yield Vb(i$1.mutex.lock());try{if(!i$1.remoteSDP)throw Error(`Cannot call P2PConnection.send before remote SDP created`);let r$1=e$2.map((e$3=>i$1.peerConnection.addTrack(e$3._mediaStreamTrack))),o$1=yield Vb(i$1.peerConnection.createOffer()),s$1=LD(o$1.sdp),a$1=e$2.map((e$3=>{let t$2=e$3._mediaStreamTrack,n$2=s$1.mediaDescriptions.find((e$4=>e$4.attributes.mid===t$2.kind));if(!n$2)throw Error(`Cannot extract ssrc from mediaDescription.`);return function(e$4,t$3,i$2){let n$3=e$4.attributes.ssrcs.filter((e$5=>e$5.attributes.label===t$3)),r$2=e$4.attributes.ssrcGroups;if(n$3.length===0)throw Error(`Cannot extract ssrc from plan-b SDP.`);if(r$2&&n$3.length>1){let e$5=r$2.find((e$6=>e$6.ssrcIds.indexOf(n$3[0].ssrcId)!==-1));return e$5?[{ssrcId:e$5.ssrcIds[0],rtx:i$2?e$5.ssrcIds[1]:void 0}]:[{ssrcId:n$3[0].ssrcId}]}return[{ssrcId:n$3[0].ssrcId}]}(n$2,t$2.id,i$1.useRTX)})),c$1;try{c$1=yield a$1}catch(e$3){throw r$1.forEach((e$4=>{Vw()&&e$4.replaceTrack(null),i$1.peerConnection.removeTrack(e$4)})),e$3}let d$1=i$1.mungSendOfferSDP(o$1.sdp,e$2);i$1.remoteSDP.receive(e$2,t$1,c$1);let l$1=i$1.remoteSDP.toString();return yield Vb(i$1.peerConnection.setLocalDescription({type:`offer`,sdp:d$1})),yield Vb(i$1.applySendEncodings(r$1,e$2)),yield Vb(i$1.peerConnection.setRemoteDescription({type:`answer`,sdp:l$1})),e$2.map(((e$3,t$2)=>{let i$2=e$3._mediaStreamTrack.id;return{localSSRC:a$1[t$2],id:i$2}}))}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,`P2PConnection.send failed; ${e$3.toString()}`)}finally{n$1()}}))()}async stopSending(e$2){try{if(!this.remoteSDP)throw Error(`Cannot call P2PConnection.stopSending before remote SDP created`);let t$1=this.peerConnection.getSenders().filter((t$2=>{var i$2;return e$2.indexOf(t$2.track?.id||``)!==-1}));if(t$1.length!==e$2.length)throw Error(`Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.`);t$1.map((e$3=>{Vw()&&e$3.replaceTrack(null),this.peerConnection.removeTrack(e$3)}));let i$1=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(i$1),this.remoteSDP.stopReceiving(e$2);let n$1=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:`answer`,sdp:n$1})}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,`P2PConnection.stopSending failed; ${e$3.toString()}`)}}async receive(e$2,t$1,i$1,n$1){try{if(!this.remoteSDP)throw Error(`Cannot call P2PConnection.receive ${e$2} before remoteSDP created.`);let{id:i$2,mslabel:r$1}=this.remoteSDP.send(e$2,t$1,n$1),o$1=new rp(((t$2,n$2)=>{let o$2=setTimeout((()=>{n$2(Error(`Cannot receive track, id: ${i$2}`))}),1e4),s$2=n$3=>{let a$2=Dw();if((a$2.name===`Safari`&&Number(a$2.version)===11||jw())&&n$3.track.id!==i$2&&n$3.streams[0].id===r$1){var c$1;let r$2=n$3.streams[0].getTracks()[0];(c$1=this.remoteSDP)==null||c$1.updateTrackLabel(e$2,i$2,n$3.track.id),this.peerConnection.removeEventListener(`track`,s$2),clearTimeout(o$2),t$2(r$2);return}if(n$3.track.id===i$2)return this.peerConnection.removeEventListener(`track`,s$2),clearTimeout(o$2),void t$2(n$3.track)};this.peerConnection.addEventListener(`track`,s$2)})),s$1=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:`offer`,sdp:s$1});let a$1=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(a$1),{track:await o$1,id:i$2}}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,`P2PConnection.receive failed; ${e$3.toString()}`)}}async stopReceiving(e$2){try{if(!this.remoteSDP)throw Error(`Cannot call P2PConnection.stopReceiving before remote SDP created.`);this.remoteSDP.stopSending(e$2);let t$1=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:`offer`,sdp:t$1});let i$1=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(i$1)}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,`P2PConnection stopReceiving failed; ${e$3.toString()}`)}}async muteRemote(e$2){}async unmuteRemote(e$2){}async muteLocal(e$2){try{if(!this.remoteSDP)throw Error(`Cannot call P2PConnection.muteLocal before remote SDP created.`);let t$1=this.peerConnection.getSenders().filter((t$2=>{var i$1;return e$2.indexOf(t$2.track?.id||``)!==-1}));if(t$1.length!==e$2.length)throw Error(`sender' length doesn't match mids' length.`);t$1.map((e$3=>{if(Vw()&&e$3.track)e$3.track.enabled=!1;else{let t$2=e$3.getParameters();t$2.encodings.forEach((e$4=>e$4.active=!1)),e$3.setParameters(t$2)}}))}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,`P2PConnection.muteLocal failed; ${e$3.toString()}`)}}async unmuteLocal(e$2){try{if(!this.remoteSDP)throw Error(`Cannot call P2PConnection.unmuteLocal before remote SDP created.`);let t$1=this.peerConnection.getSenders().filter((t$2=>{var i$2;return e$2.indexOf(t$2.track?.id||``)!==-1}));if(t$1.length!==e$2.length)throw Error(`Senders' length doesn't match mids' length.`);t$1.map((async e$3=>{if(Vw()&&e$3.track)e$3.track.enabled=!0;else{let t$2=e$3.getParameters();t$2.encodings.forEach((e$4=>e$4.active=!0)),await e$3.setParameters(t$2)}}));let i$1=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(i$1);let n$1=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:`answer`,sdp:n$1})}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,`P2PConnection.unmuteLocal failed; ${e$3.toString()}`)}}restartICE(e$2){var t$1=this;return Mb((function*(){let i$1=yield Vb(t$1.mutex.lock(`From P2PConnection.restartICE`));try{if(!t$1.remoteSDP)throw Error(`Cannot restartICE before remoteSDP created.`);let n$1=pP().supportPCSetConfiguration;if(e$2===Sx.RELAY&&!n$1)return;if(n$1){let i$2=t$1.peerConnection.getConfiguration(),n$2=e$2===Sx.RELAY?`relay`:`all`;i$2.iceTransportPolicy!==n$2&&(iP.debug(`[${t$1.store.clientId}] restartICE change iceTransportPolicy from [${i$2.iceTransportPolicy}] to [${n$2}]`),i$2.iceTransportPolicy=n$2,t$1.peerConnection.setConfiguration(i$2))}e$2!==Sx.RELAY&&t$1.remoteSDP.updateCandidates(e$2);let r$1=yield Vb(t$1.peerConnection.createOffer({iceRestart:!0}));if(!r$1.sdp)throw Error(`Cannot restartICE because restart offer SDP does not exist.`);let{remoteIceParameters:s$1}=yield OF(r$1.sdp).iceParameters;t$1.remoteSDP.restartICE(s$1);let a$1=t$1.remoteSDP.toString();yield Vb(t$1.peerConnection.setLocalDescription(r$1)),yield Vb(t$1.peerConnection.setRemoteDescription({type:`answer`,sdp:a$1}))}catch(e$3){iP.warning(`[${t$1.store.clientId}] restart ICE failed, abort operation`,e$3)}finally{i$1()}}))()}close(){var e$2;this.peerConnection.close(),(e$2=this.onConnectionStateChange)==null||e$2.call(this,`closed`),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e$2){return this.statsFilter.getVideoIsReady(e$2)}async updateEncoderConfig(e$2,t$1){try{if(!this.remoteSDP)throw Error(`Cannot call P2PConnection.updateEncoderConfig before remote SDP created.`);let e$3=await this.peerConnection.createOffer(),i$1=this.mungSendOfferSDP(e$3.sdp,[t$1]);this.remoteSDP.updateRecvMedia(t$1._mediaStreamTrack.kind,t$1);let n$1=this.remoteSDP.toString();await this.peerConnection.setLocalDescription({type:`offer`,sdp:i$1}),await this.peerConnection.setRemoteDescription({type:`answer`,sdp:n$1})}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,e$3.toString())}}async updateSendParameters(e$2,t$1){let i$1=this.peerConnection.getSenders().filter((t$2=>{var i$2;return t$2.track?.id===e$2}));i$1.length===1&&await this.applySendEncodings(i$1,[t$1])}setStatsRemoteVideoIsReady(e$2,t$1){this.statsFilter.setVideoIsReady2(e$2,t$1)}async replaceTrack(e$2,t$1){let i$1=this.peerConnection.getSenders().find((e$3=>{var i$2;return e$3.track?.id===t$1}));i$1&&await i$1.replaceTrack(e$2._mediaStreamTrack)}createDataChannels(e$2,t$1){throw new pO(hO.NOT_SUPPORTED,`Planb mode does not support createDataChannels.`)}stopDataChannels(e$2){throw new pO(hO.NOT_SUPPORTED,`Planb mode does not support stopDataChannels.`)}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e$2;(e$2=this.onICEConnectionStateChange)==null||e$2.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e$2;(e$2=this.onConnectionStateChange)==null||e$2.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=e$2=>{e$2.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,iP.debug(`[${this.store.clientId}] [pc-${this.store.p2pId}] local candidate count`,this.localCandidateCount))},setTimeout((()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,iP.debug(`[${this.store.clientId}] [pc-${this.store.p2pId}] onicecandidate timeout, local candidate count`,this.localCandidateCount))}),CD(`CANDIDATE_TIMEOUT`))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(t$1){let i$1={iceServers:[],sdpSemantics:`plan-b`};return t$1.iceServers?i$1.iceServers=t$1.iceServers:t$1.turnServer&&t$1.turnServer.mode!==`off`&&(xO(t$1.turnServer.servers)?i$1.iceServers=t$1.turnServer.servers:(i$1.iceServers&&i$1.iceServers.push(...e$1.turnServerConfigToIceServers(t$1.turnServer.servers)),CD(`USE_TURN_SERVER_OF_GATEWAY`)&&i$1.iceServers&&t$1.turnServer.serversFromGateway&&i$1.iceServers.push(...e$1.turnServerConfigToIceServers(t$1.turnServer.serversFromGateway)),t$1.turnServer.servers.concat(t$1.turnServer.serversFromGateway||[]).forEach((e$2=>{e$2.forceturn&&(i$1.iceTransportPolicy=`relay`)})))),i$1}static turnServerConfigToIceServers(e$2){let t$1=[];return e$2.forEach((e$3=>{e$3.security?e$3.tcpport&&t$1.push({username:e$3.username,credential:e$3.password,credentialType:`password`,urls:`turns:${e$3.turnServerURL}:${e$3.tcpport}?transport=tcp`}):(e$3.udpport&&t$1.push({username:e$3.username,credential:e$3.password,credentialType:`password`,urls:`turn:${e$3.turnServerURL}:${e$3.udpport}?transport=udp`}),e$3.tcpport&&t$1.push({username:e$3.username,credential:e$3.password,credentialType:`password`,urls:`turn:${e$3.turnServerURL}:${e$3.tcpport}?transport=tcp`}))})),t$1}async updateRtpSenderEncodings(e$2,t$1){var i$1;if(t$1||=this.peerConnection.getSenders().find((t$2=>{var i$2;return t$2.track?.id===e$2._mediaStreamTrack.id})),!t$1)return iP.warn(`[${e$2.getTrackId()}] no rtpSender found}`);if(!pP().supportSetRtpSenderParameters)return iP.warn(`Browser not support set rtp-sender parameters`);let n$1={},r$1={};if(e$2 instanceof kM)switch(e$2._optimizationMode){case`motion`:n$1.degradationPreference=`maintain-framerate`;break;case`detail`:n$1.degradationPreference=`maintain-resolution`;break;default:n$1.degradationPreference=`balanced`}if(CD(`DSCP_TYPE`)&&sO()){var o$1;let e$3=CD(`DSCP_TYPE`);Ln(o$1=[`very-low`,`low`,`medium`,`high`]).call(o$1,e$3)&&(r$1.networkPriority=e$3)}let s$1=t$1.getParameters(),a$1=s$1.encodings?.[0];a$1&&Object.assign(a$1,r$1),Object.assign(s$1,n$1),iP.debug(`[${e$2.getTrackId()}] updateRtpSenderEncodings: ${JSON.stringify(s$1.encodings)}`),await t$1.setParameters(s$1)}async applySendEncodings(e$2,t$1){try{if(!pP().supportSetRtpSenderParameters||e$2.length!==t$1.length)return;for(let i$1=0;i$1<e$2.length;i$1++){let n$1=e$2[i$1],r$1=t$1[i$1];n$1&&r$1&&await this.updateRtpSenderEncodings(r$1,n$1)}}catch{iP.debug(`[${this.store.clientId}] Apply RTPSendEncodings failed.`)}}mungSendOfferSDP(e$2,t$1){let i$1=LD(e$2);return t$1.forEach(((e$3,t$2)=>{let n$1=e$3._mediaStreamTrack,r$1=i$1.mediaDescriptions.find((e$4=>e$4.attributes.mid===n$1.kind));r$1&&kF(r$1,e$3)})),kD(i$1)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e$2=>{var t$1;(t$1=this.onFirstAudioReceived)==null||t$1.call(this,e$2)},this.statsFilter.onFirstVideoReceived=e$2=>{var t$1;(t$1=this.onFirstVideoReceived)==null||t$1.call(this,e$2)},this.statsFilter.onFirstAudioDecoded=e$2=>{var t$1;(t$1=this.onFirstAudioDecoded)==null||t$1.call(this,e$2)},this.statsFilter.onFirstVideoDecoded=(e$2,t$1,i$1)=>{var n$1;(n$1=this.onFirstVideoDecoded)==null||n$1.call(this,e$2,t$1,i$1)},this.statsFilter.onSelectedLocalCandidateChanged=(e$2,t$1)=>{var i$1;(i$1=this.onSelectedLocalCandidateChanged)==null||i$1.call(this,e$2,t$1)},this.statsFilter.onSelectedRemoteCandidateChanged=(e$2,t$1)=>{var i$1;(i$1=this.onSelectedRemoteCandidateChanged)==null||i$1.call(this,e$2,t$1)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0}async batchReceive(e$2){try{if(!this.remoteSDP)throw Error(`Cannot call P2PConnection.batchReceive before remoteSDP created.`);let t$1=this.remoteSDP.batchSend(e$2).map(((t$2,i$2)=>{let{id:n$2,mslabel:r$1}=t$2,{kind:o$1}=e$2[i$2];return new rp(((e$3,t$3)=>{let i$3=setTimeout((()=>{t$3(Error(`Cannot receive track, id: ${n$2}`))}),1e4),s$1=t$4=>{let a$1=Dw();if(a$1.name===`Safari`&&Number(a$1.version)===11&&t$4.track.id!==n$2&&t$4.streams[0].id===r$1){var c$1;let r$2=t$4.streams[0].getTracks()[0];(c$1=this.remoteSDP)==null||c$1.updateTrackLabel(o$1,n$2,t$4.track.id),this.peerConnection.removeEventListener(`track`,s$1),clearTimeout(i$3),e$3({track:r$2,id:n$2});return}if(t$4.track.id===n$2)return this.peerConnection.removeEventListener(`track`,s$1),clearTimeout(i$3),void e$3({track:t$4.track,id:n$2})};this.peerConnection.addEventListener(`track`,s$1)}))})),i$1=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:`offer`,sdp:i$1});let n$1=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(n$1),await rp.all(t$1)}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,`P2PConnection.receive failed; ${e$3.toString()}`)}}async getRemoteSSRC(e$2){return this.remoteSDP?this.remoteSDP.getSSRC(e$2)?.[0].ssrcId:void 0}setConfiguration(t$1){if(pP().supportPCSetConfiguration){let i$1=e$1.resolvePCConfiguration(t$1);this.peerConnection.setConfiguration(i$1)}}},DV(qX.prototype,`connect`,[ZX],Object.getOwnPropertyDescriptor(qX.prototype,`connect`),qX.prototype),DV(qX.prototype,`stopSending`,[ZX],Object.getOwnPropertyDescriptor(qX.prototype,`stopSending`),qX.prototype),DV(qX.prototype,`receive`,[ZX],Object.getOwnPropertyDescriptor(qX.prototype,`receive`),qX.prototype),DV(qX.prototype,`stopReceiving`,[ZX],Object.getOwnPropertyDescriptor(qX.prototype,`stopReceiving`),qX.prototype),DV(qX.prototype,`muteRemote`,[ZX],Object.getOwnPropertyDescriptor(qX.prototype,`muteRemote`),qX.prototype),DV(qX.prototype,`unmuteRemote`,[ZX],Object.getOwnPropertyDescriptor(qX.prototype,`unmuteRemote`),qX.prototype),DV(qX.prototype,`muteLocal`,[ZX],Object.getOwnPropertyDescriptor(qX.prototype,`muteLocal`),qX.prototype),DV(qX.prototype,`unmuteLocal`,[ZX],Object.getOwnPropertyDescriptor(qX.prototype,`unmuteLocal`),qX.prototype),DV(qX.prototype,`close`,[ZX],Object.getOwnPropertyDescriptor(qX.prototype,`close`),qX.prototype),DV(qX.prototype,`updateEncoderConfig`,[ZX],Object.getOwnPropertyDescriptor(qX.prototype,`updateEncoderConfig`),qX.prototype),DV(qX.prototype,`updateSendParameters`,[ZX],Object.getOwnPropertyDescriptor(qX.prototype,`updateSendParameters`),qX.prototype),DV(qX.prototype,`replaceTrack`,[ZX],Object.getOwnPropertyDescriptor(qX.prototype,`replaceTrack`),qX.prototype),DV(qX.prototype,`getRemoteSSRC`,[ZX],Object.getOwnPropertyDescriptor(qX.prototype,`getRemoteSSRC`),qX.prototype),qX);function ZX(e$1,t$1,i$1){let n$1=e$1[t$1];if(typeof n$1!=`function`)throw Error(`Cannot use mutex on object property.`);return i$1.value=async function(){let i$2=await this.mutex.lock(`Locking from P2PConnection.${t$1}`);try{var o$1=[...arguments];return await n$1.apply(this,o$1)}finally{i$2()}},i$1}let $X={name:`PlanBConnection`,create:function(e$1){let{store:t$1,spec:i$1}=e$1;return new QX(i$1,t$1)}},eJ={interceptLocalAudioFrame:async function(e$1){let t$1=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!pP().supportWebRTCEncodedTransform)return void iP.warning(`browser not support audio encoded transform`);if(hU.has(e$1)||!e$1.track)return;let i$1={track:e$1.track};if(Uw()){if(!e$1.createEncodedStreams)return void iP.warning(`browser not support createEncodedStreams() API`);let r$1=null;try{r$1=e$1.createEncodedStreams()}catch(e$2){iP.error(`create audio-encoded-streams error`,e$2&&e$2.message);return}let o$1=new TransformStream({transform(r$2,o$2){i$1.controller||=o$2,e$1.track&&e$1.track.id!==i$1.track.id&&(iP.debug(`audio track changed: ${i$1.track.id} => ${e$1.track.id}`),i$1.track.removeEventListener(`ended`,n$1),i$1.track=e$1.track,i$1.track.addEventListener(`ended`,n$1));let s$1=t$1.metadata&&t$1.metadata();s$1?function(e$2,t$2){let{chunk:i$2,controller:n$2}=t$2,r$3=lU.METADATA;i$2.data=function(e$3,t$3,i$3){let n$3=i$3.byteLength,r$4=n$3+1+2,o$3=3+r$4,s$2=new ArrayBuffer(e$3.byteLength+o$3),a$1=new DataView(s$2);a$1.setUint8(0,71),a$1.setUint16(1,r$4),a$1.setUint8(3,t$3),a$1.setUint16(4,n$3);for(let e$4=0;e$4<n$3;e$4++)a$1.setUint8(6+e$4,i$3[e$4]);let c$1=new Uint8Array(a$1.buffer);return c$1.set(new Uint8Array(e$3),o$3),c$1.buffer}(i$2.data,r$3,e$2),n$2.enqueue(i$2)}(s$1,{sender:e$1,chunk:r$2,controller:o$2}):o$2.enqueue(r$2)}});r$1.readable.pipeThrough(o$1).pipeTo(r$1.writable)}else if(Vw()){if(typeof RTCRtpScriptTransform>`u`)return void iP.warning(`browser not support RTCRtpScriptTransform`);let r$1=rU(),o$1=new MessageChannel;await new rp((e$2=>r$1.onmessage=t$2=>{t$2.data===`registered`&&e$2(void 0)})),e$1.transform=new RTCRtpScriptTransform(r$1,{name:`audio-metadata-tx`,port:o$1.port2},[o$1.port2]),await new rp((e$2=>r$1.onmessage=t$2=>{t$2.data===`started`&&e$2(void 0)})),o$1.port1.onmessage=r$2=>{var s$1;if(r$2.data.transformed&&e$1.track&&e$1.track?.id!==i$1.track.id)iP.debug(`audio track changed: ${i$1.track.id} => ${e$1.track.id}`),i$1.track.removeEventListener(`ended`,n$1),i$1.track=e$1.track,i$1.track.addEventListener(`ended`,n$1);else if(r$2.data.getMetadata){let e$2=t$1.metadata&&t$1.metadata();e$2&&o$1.port1.postMessage({metadata:e$2})}},i$1.worker=r$1}function n$1(){if(e$1.track){if(this.id!==e$1.track.id)return;e$1.track.removeEventListener(`ended`,n$1)}let t$2=hU.get(e$1);if(t$2){hU.delete(e$1);try{var i$2,r$1;(i$2=t$2.controller)==null||i$2.terminate(),(r$1=t$2.worker)==null||r$1.terminate()}catch(e$2){iP.warning(e$2&&e$2.message)}}}hU.set(e$1,i$1),e$1.track.addEventListener(`ended`,n$1)},interceptRemoteAudioFrame:async function(e$1){let t$1=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!pP().supportWebRTCEncodedTransform)return void iP.warning(`browser not support audio encoded transform`);if(kU.has(e$1))return;let i$1={track:e$1.track,onMetadata:t$1.onMetadata,onPts:t$1.onPts};if(Uw()&&!jw()){if(!e$1.createEncodedStreams)return void iP.warning(`browser not support createEncodedStreams() API`);Hw(bw.CHROME,87,116)||(t$1.enableTopn=!1);let r$1=null;try{r$1=e$1.createEncodedStreams()}catch(e$2){iP.error(`create audio-encoded-streams error`,e$2&&e$2.message);return}let o$1=new TransformStream({transform(r$2,o$2){i$1.controller||=o$2,e$1.track&&e$1.track.id!==i$1.track.id&&(iP.debug(`audio track changed: ${i$1.track.id} => ${e$1.track.id}`),i$1.track.removeEventListener(`ended`,n$1),i$1.track=e$1.track,i$1.track.addEventListener(`ended`,n$1)),t$1.enableTopn?function(e$2,t$2,i$2){var n$2;let r$3=uU(new DataView(t$2.data));if(!r$3)return i$2.enqueue(t$2);let o$3=e$2.track.id;MU.set(o$3,e$2.track);let s$1=r$3.tlv.find((e$3=>e$3.tag===lU.AUDIO_LEVEL))?.value,a$1=0;typeof s$1==`number`&&(a$1=127-s$1);let{selected:d$1,speaker:l$1}=function(e$3,t$3){let i$3=yU.get(e$3);if(i$3||=function(e$4){let t$4=new TU;return yU.set(e$4,t$4),IU||(IU=new vU(CD(`TOPN_SILENCE_THRESHOLD`)||500),IU.on(`ActiveSpeakerChanged`,(e$5=>{e$5!=null&&(AU=e$5)}))),IU.addSpeakers([t$4]),t$4}(e$3),yU.size<=3)return{selected:!0,speaker:i$3};if(!IU)throw Error(`no active speaker detector`);return IU.levelChanged(i$3.id,t$3),wU=IU.loudest.map((e$4=>e$4.id)),AU&&!Ln(wU).call(wU,AU)&&wU.length>=3&&wU.pop(),{selected:Ln(wU).call(wU,i$3.id)||i$3.id===AU,speaker:i$3}}(e$2,Math.round(10**(a$1/60)-1)),u$1=function(e$3,t$3,i$3){let n$3=OU.get(e$3)||new DU(e$3,t$3);return n$3.score=i$3,OU.set(e$3,n$3),function(e$4){if(NU.set(e$4,!0),!PU)return void(PU=Date.now());let t$4=Date.now();t$4-PU>1e3&&(NU.get(e$4)?NU.set(e$4,!1):(LU(e$4),NU.delete(e$4)),PU=t$4)}(e$3),n$3}(o$3,e$2.track,l$1.energyScore);u$1.addSample(d$1),u$1.active&&(t$2.data=r$3.frame.buffer,i$2.enqueue(t$2))}(e$1,r$2,o$2):t$1.enableMetadata||t$1.enablePts?function(e$2,t$2,i$2,n$2){let r$3=new DataView(e$2.data),o$3=r$3.getUint8(0),s$1;if(128&o$3&&o$3!==71){let t$3=function(e$3){if(e$3.byteLength<=0)return[];let t$4=[],i$3=0;for(;i$3<e$3.byteLength;){let n$4=(128&e$3.getUint8(i$3))>>7,r$4=127&e$3.getUint8(i$3);if(!(n$4&&i$3+4<=e$3.byteLength)){i$3++;break}{let n$5=e$3.getUint32(i$3,!1),o$4=(16776192&n$5)>>10,s$2=1023&n$5;t$4.push({pt:r$4,ts_offset:o$4,length:s$2,data:new Uint8Array}),i$3+=4}}let n$3=e$3.byteLength-i$3;for(let r$4 of t$4){if(r$4.length>n$3)return console.warn(`Broken red payload`),[];r$4.length>0&&(r$4.data=new Uint8Array(e$3.buffer,e$3.byteOffset+i$3,r$4.length),i$3+=r$4.length,n$3-=r$4.length)}if(n$3>0){let r$4={pt:t$4.length>0?t$4[t$4.length-1].pt:0,ts_offset:0,length:n$3,data:new Uint8Array(e$3.buffer,e$3.byteOffset+i$3,n$3)};t$4.push(r$4)}return t$4}(r$3);t$3.length>0&&(e$2.data=function(e$3){let t$4=0;for(let i$4=0;i$4<e$3.length;i$4++)t$4+=i$4<e$3.length-1?4:1,t$4+=e$3[i$4].length;let i$3=new Uint8Array(t$4),n$3=0;for(let t$5=0;t$5<e$3.length;t$5++)if(t$5<e$3.length-1){let r$4=(2147483648|(127&e$3[t$5].pt)<<24|(262143&e$3[t$5].ts_offset)<<10|1023&e$3[t$5].length)>>>0;i$3[n$3++]=r$4>>24&255,i$3[n$3++]=r$4>>16&255,i$3[n$3++]=r$4>>8&255,i$3[n$3++]=255&r$4}else i$3[n$3++]=127&e$3[t$5].pt;for(let t$5 of e$3)i$3.set(t$5.data,n$3),n$3+=t$5.length;return i$3}(t$3.map((e$3=>{let t$4=new Uint8Array(e$3.length);t$4.set(e$3.data);let i$3=uU(new DataView(t$4.buffer));return i$3!=null&&i$3.frame&&(e$3.data=i$3?.frame),s$1=i$3,e$3}))).buffer)}else s$1=uU(r$3),s$1&&(e$2.data=s$1.frame.buffer);if(t$2.enqueue(e$2),!s$1)return;let a$1=s$1.tlv.find((e$3=>e$3.tag===lU.METADATA));a$1&&i$2&&a$1.value instanceof Uint8Array&&i$2(a$1.value);let c$1=s$1.tlv.find((e$3=>e$3.tag===lU.AUDIO_64_BIT_PTS));c$1&&n$2&&c$1.value instanceof Uint8Array&&c$1.value.length==8&&n$2(new DataView(c$1.value.buffer).getBigUint64(0,!0))}(r$2,o$2,t$1.onMetadata,t$1.onPts):o$2.enqueue(r$2)}});r$1.readable.pipeThrough(o$1).pipeTo(r$1.writable)}else{if(typeof RTCRtpScriptTransform>`u`)return void iP.warning(`browser not support RTCRtpScriptTransform`);let t$2=rU(),r$1=new MessageChannel;await new rp((e$2=>t$2.onmessage=t$3=>{t$3.data===`registered`&&e$2(void 0)})),e$1.transform=new RTCRtpScriptTransform(t$2,{name:`audio-metadata-rx`,port:r$1.port2},[r$1.port2]),await new rp((e$2=>t$2.onmessage=t$3=>{t$3.data===`started`&&e$2(void 0)})),r$1.port1.onmessage=t$3=>{var r$2;t$3.data.transformed&&e$1.track&&e$1.track?.id!==i$1.track.id?(iP.debug(`audio track changed: ${i$1.track.id} => ${e$1.track.id}`),i$1.track.removeEventListener(`ended`,n$1),i$1.track=e$1.track,i$1.track.addEventListener(`ended`,n$1)):t$3.data.metadata&&i$1.onMetadata?i$1.onMetadata(t$3.data.metadata):t$3.data.pts&&i$1.onPts&&i$1.onPts(t$3.data.pts)},i$1.worker=t$2}function n$1(){e$1.track.removeEventListener(`ended`,n$1),function(e$2){let t$2=kU.get(e$2);if(t$2){(function(e$3){let t$3=yU.get(e$3);t$3&&(yU.delete(e$3),IU&&(IU.removeSpeakers([t$3]),yU.size===0&&(IU.destroy(),IU=null)))})(e$2),LU(e$2.track.id),kU.delete(e$2);try{var i$2,n$2;(i$2=t$2.controller)==null||i$2.terminate(),(n$2=t$2.worker)==null||n$2.terminate()}catch(e$3){iP.warning(e$3&&e$3.message)}}}(e$1)}kU.set(e$1,i$1),e$1.track.addEventListener(`ended`,n$1)},interceptLocalVideoFrame:async function(e$1,t$1){if(!pP().supportWebRTCEncodedTransform)return void iP.warning(`browser not support video encoded transform`);if(jU.has(e$1)||!e$1.track)return;let i$1={track:e$1.track};if(Uw()){if(!e$1.createEncodedStreams)return void iP.warning(`browser not support createEncodedStreams() API`);let r$1=null;try{r$1=e$1.createEncodedStreams()}catch(e$2){iP.error(`create video-encoded-streams error`,e$2&&e$2.message);return}let o$1=[];t$1.on(`sei-to-send`,(e$2=>{o$1.push(e$2)}));let s$1=new TransformStream({transform(t$2,r$2){i$1.controller||=r$2,e$1.track&&e$1.track.id!==i$1.track.id&&(iP.debug(`video track changed: ${i$1.track.id} => ${e$1.track.id}`),i$1.track.removeEventListener(`ended`,n$1),i$1.track=e$1.track,i$1.track.addEventListener(`ended`,n$1));let s$2=BU(new Uint8Array(t$2.data)),a$1=o$1.shift();if(a$1){let e$2=function(e$3,t$3,i$2){switch(i$2){case UU:return function(e$4,t$4){let i$3=FU(t$4),n$2=i$3.length,r$3=Math.floor(n$2/255),o$2=n$2%255,s$3=new Uint8Array(6+r$3+1+n$2+e$4.byteLength);s$3[0]=0,s$3[1]=0,s$3[2]=0,s$3[3]=1,s$3[4]=6,s$3[5]=101;let a$2=0;for(;a$2<r$3;)s$3[6+a$2]=255,a$2++;return s$3[6+a$2]=o$2,a$2++,s$3.set(i$3,6+a$2),s$3.set(new Uint8Array(e$4),6+a$2+n$2),s$3.buffer}(e$3,t$3);case VU:return function(e$4,t$4){let i$3=FU(t$4),n$2=i$3.length,r$3=Math.floor(n$2/255),o$2=n$2%255,s$3=new Uint8Array(7+r$3+1+n$2+1+e$4.byteLength);s$3[0]=0,s$3[1]=0,s$3[2]=0,s$3[3]=1,s$3[4]=78,s$3[5]=1,s$3[6]=101;let a$2=0;for(;a$2<r$3;)s$3[7+a$2]=255,a$2++;return s$3[7+a$2]=o$2,a$2++,s$3.set(i$3,7+a$2),a$2+=n$2,s$3[7+a$2]=128,a$2++,s$3.set(new Uint8Array(e$4),7+a$2),s$3.buffer}(e$3,t$3);default:return null}}(t$2.data,a$1,s$2);e$2&&(t$2.data=e$2)}r$2.enqueue(t$2)}});r$1.readable.pipeThrough(s$1).pipeTo(r$1.writable)}else{if(!Vw())return;{if(typeof RTCRtpScriptTransform>`u`)return void iP.warning(`browser not support RTCRtpScriptTransform`);let r$1=rU(),o$1=new MessageChannel;await new rp((e$2=>r$1.onmessage=t$2=>{t$2.data===`registered`&&e$2(void 0)})),e$1.transform=new RTCRtpScriptTransform(r$1,{name:`sei-tx`,port:o$1.port2},[o$1.port2]),await new rp((e$2=>r$1.onmessage=t$2=>{t$2.data===`started`&&e$2(void 0)})),t$1.on(`sei-to-send`,(e$2=>{o$1.port1.postMessage({sei:e$2})})),o$1.port1.onmessage=t$2=>{var r$2;t$2.data.transformed&&e$1.track&&e$1.track?.id!==i$1.track.id&&(iP.debug(`video track changed: ${i$1.track.id} => ${e$1.track.id}`),i$1.track.removeEventListener(`ended`,n$1),i$1.track=e$1.track,i$1.track.addEventListener(`ended`,n$1))},i$1.worker=r$1}}function n$1(){if(e$1.track){if(this.id!==e$1.track.id)return;e$1.track.removeEventListener(`ended`,n$1)}let t$2=jU.get(e$1);if(t$2){jU.delete(e$1);try{var i$2,r$1;(i$2=t$2.controller)==null||i$2.terminate(),(r$1=t$2.worker)==null||r$1.terminate()}catch(e$2){iP.warning(e$2&&e$2.message)}}}jU.set(e$1,i$1),e$1.track.addEventListener(`ended`,n$1)},interceptRemoteVideoFrame:async function(e$1){let t$1=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!pP().supportWebRTCEncodedTransform)return void iP.warning(`browser not support video encoded transform`);if(!e$1.track)return;if(GU.has(e$1)){let i$2=GU.get(e$1);i$2&&(i$2.onSei=t$1.onSei);return}let i$1={track:e$1.track,onSei:t$1.onSei};if(Uw()){if(!e$1.createEncodedStreams)return void iP.warning(`browser not support createEncodedStreams() API`);let r$1=null;try{r$1=e$1.createEncodedStreams()}catch(e$2){iP.error(`create video-encoded-streams error`,e$2&&e$2.message);return}let o$1=new TransformStream({transform(r$2,o$2){if(i$1.controller||=o$2,!i$1.firstFrameInfo){var s$1;let e$2=r$2.getMetadata()||{};i$1.firstFrameInfo=cL({type:r$2.type,rtpTimestamp:r$2.timestamp,payloadType:e$2.payloadType||0,ssrc:e$2.synchronizationSource||0,length:r$2.data.byteLength},`mimeType`in e$2?{mimeType:e$2.mimeType}:{}),(s$1=t$1.onFirstFrame)==null||s$1.call(t$1,i$1.firstFrameInfo)}e$1.track&&e$1.track.id!==i$1.track.id&&(iP.debug(`video track changed: ${i$1.track.id} => ${e$1.track.id}`),i$1.track.removeEventListener(`ended`,n$1),i$1.track=e$1.track,i$1.track.addEventListener(`ended`,n$1));let a$1=function(e$2,t$2){switch(t$2){case UU:return function(e$3){let t$3=new DataView(e$3.data),i$2=0;for(;i$2+4<e$3.data.byteLength;){if(t$3.getUint8(i$2+0)===0&&t$3.getUint8(i$2+1)===0&&t$3.getUint8(i$2+2)===0&&t$3.getUint8(i$2+3)===1&&t$3.getUint8(i$2+4)===6){let n$2=i$2+6,r$3=0,o$3=0;for(;(o$3=t$3.getUint8(n$2++))===255;)r$3+=255;r$3+=o$3;let s$2=xU(e$3.data,n$2,r$3);return new Uint8Array(s$2)}i$2++}return null}(e$2);case VU:return function(e$3){let t$3=new DataView(e$3.data),i$2=0;for(;i$2+5<e$3.data.byteLength;){if(t$3.getUint8(i$2+0)===0&&t$3.getUint8(i$2+1)===0&&t$3.getUint8(i$2+2)===0&&t$3.getUint8(i$2+3)===1&&t$3.getUint8(i$2+4)===78&&t$3.getUint8(i$2+5)===1&&t$3.getUint8(i$2+6)===101){let n$2=i$2+7,r$3=0,o$3=0;for(;(o$3=t$3.getUint8(n$2++))===255;)r$3+=255;r$3+=o$3;let s$2=xU(e$3.data,n$2,r$3);return new Uint8Array(s$2)}i$2++}return null}(e$2);default:return null}}(r$2,BU(new Uint8Array(r$2.data)));a$1&&i$1.onSei&&i$1.onSei(a$1),o$2.enqueue(r$2)}});r$1.readable.pipeThrough(o$1).pipeTo(r$1.writable)}else if(Vw()){if(typeof RTCRtpScriptTransform>`u`)return void iP.warning(`browser not support RTCRtpScriptTransform`);let r$1=rU(),o$1=new MessageChannel;await new rp((e$2=>r$1.onmessage=t$2=>{t$2.data===`registered`&&e$2(void 0)})),e$1.transform=new RTCRtpScriptTransform(r$1,{name:`sei-rx`,port:o$1.port2},[o$1.port2]),await new rp((e$2=>r$1.onmessage=t$2=>{t$2.data===`started`&&e$2(void 0)})),o$1.port1.onmessage=r$2=>{var o$2;if(r$2.data.transformed&&e$1.track&&e$1.track?.id!==i$1.track.id)iP.debug(`video track changed: ${i$1.track.id} => ${e$1.track.id}`),i$1.track.removeEventListener(`ended`,n$1),i$1.track=e$1.track,i$1.track.addEventListener(`ended`,n$1);else if(r$2.data.sei&&i$1.onSei)i$1.onSei(r$2.data.sei);else if(r$2.data.firstFrameInfo&&t$1.onFirstFrame){var s$1;(s$1=t$1.onFirstFrame)==null||s$1.call(t$1,r$2.data.firstFrameInfo)}},i$1.worker=r$1}function n$1(){if(e$1.track){if(this.id!==e$1.track.id)return;e$1.track.removeEventListener(`ended`,n$1)}(function(e$2){let t$2=GU.get(e$2);if(t$2){GU.delete(e$2);try{var i$2,n$2;(i$2=t$2.controller)==null||i$2.terminate(),(n$2=t$2.worker)==null||n$2.terminate()}catch(e$3){iP.warning(e$3&&e$3.message)}}})(e$1)}GU.set(e$1,i$1),e$1.track.addEventListener(`ended`,n$1)}},tJ={name:`InterceptFrame`,create:()=>eJ};var iJ;function nJ(e$1,t$1){var i$1=Object.keys(e$1);if(Object.getOwnPropertySymbols){var n$1=Object.getOwnPropertySymbols(e$1);t$1&&(n$1=n$1.filter((function(t$2){return Object.getOwnPropertyDescriptor(e$1,t$2).enumerable}))),i$1.push.apply(i$1,n$1)}return i$1}function rJ(e$1){for(var t$1=1;t$1<arguments.length;t$1++){var i$1=arguments[t$1]==null?{}:arguments[t$1];t$1%2?nJ(Object(i$1),!0).forEach((function(t$2){iA(e$1,t$2,i$1[t$2])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e$1,Object.getOwnPropertyDescriptors(i$1)):nJ(Object(i$1)).forEach((function(t$2){Object.defineProperty(e$1,t$2,Object.getOwnPropertyDescriptor(i$1,t$2))}))}return e$1}let oJ=(iJ=class e$1 extends mx{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get dtlsTransportState(){var e$2,t$1;return((t$1=this.peerConnection.getReceivers()[0])==null||(t$1=t$1.transport)==null?void 0:t$1.state)??null}get localCodecs(){return[...new Set(this.localCapabilities&&this.localCapabilities.send.videoCodecs.map((e$2=>e$2.rtpMap&&e$2.rtpMap.encodingName.toLowerCase()||``)).filter((e$2=>{var t$1;return Ln(t$1=Object.keys(AD)).call(t$1,e$2)})))]}constructor(e$2,t$1,i$1){super(e$2,t$1),iA(this,`id`,SN(5,`connection-`)),iA(this,`store`,void 0),iA(this,`peerConnection`,void 0),iA(this,`forceTurn`,!1),iA(this,`remoteSDP`,void 0),iA(this,`initialOffer`,void 0),iA(this,`transportEventReceiver`,void 0),iA(this,`statsFilter`,void 0),iA(this,`extension`,{useXR:CD(`USE_XR`)}),iA(this,`localCapabilities`,void 0),iA(this,`remoteCodecs`,void 0),iA(this,`localCandidateCount`,0),iA(this,`allCandidatesReceived`,!1),iA(this,`isPreallocation`,!1),iA(this,`preMediaMap`,new Map),iA(this,`dataStreamChannelMap`,new Map),iA(this,`establishPromise`,void 0),iA(this,`recoveredDataChannelIds`,[]),iA(this,`currentDataChannelId`,1),iA(this,`supportAV1RtpSpec`,!1),iA(this,`mutex`,void 0),iA(this,`qualityLimitationReason`,tD.NONE),iA(this,`isFirstConnected`,!1),this.store=t$1,this.forceTurn=Mj(e$2),this.mutex=new PN(`NVConnectionExtension-mutex`,t$1.clientId),this.peerConnection=i$1,this.isFirstConnected=!1,this.statsFilter=dD(this.peerConnection,CD(`STATS_UPDATE_INTERVAL`),void 0,Bw()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,e$2.isPreallocation&&(this.isPreallocation=!0),this.establishPromise=this.establish()}getPreMedia(e$2){return this.preMediaMap.get(e$2)}isPreSub(){return this.preMediaMap.size>0}async updateRemoteRTPCapabilities(e$2,t$1){if(this.remoteCodecs=t$1,!this.remoteSDP)return void iP.debug(`[NVConnectionExtension] cannot updateRemoteRTPCapabilities before remote SDP created, local codecs: ${this.localCodecs}, codecs: ${t$1}`);if(this.remoteSDP.updateRemoteCodec(e$2,t$1,this.store.codec)){let e$3=await this.peerConnection.createOffer(),t$2=this.logSDPExchange(e$3.sdp||``,`offer`,`local`,`muteLocal`);await this.peerConnection.setLocalDescription(e$3);let i$1=this.remoteSDP.toString();t$2?.(i$1),await this.peerConnection.setRemoteDescription({type:`answer`,sdp:i$1})}else iP.debug(`[NVConnectionExtension] updateRemoteRTPCapabilities no need to exchange SDP.`)}async establish(){try{this.peerConnection.addTransceiver(`video`,{direction:`recvonly`}),this.peerConnection.addTransceiver(`audio`,{direction:`recvonly`});let t$1=await this.peerConnection.createOffer();if(!t$1.sdp)throw Error(`Cannot get initialOffer.sdp when trying to establish PeerConnection.`);let i$1=OF(t$1.sdp),n$1=await jF({filterRTX:!CD(`USE_PUB_RTX`)&&!CD(`USE_SUB_RTX`),filterVideoFec:CD(`FILTER_VIDEO_FEC`),filterAudioFec:CD(`FILTER_AUDIO_FEC`),filterVideoCodec:CD(`FILTER_VIDEO_CODEC`),unsupportedVideoUplinkCodec:CD(`UNSUPPORTED_VIDEO_UPLINK_CODEC`),unsupportedVideoDownlinkCodec:CD(`UNSUPPORTED_VIDEO_DOWNLINK_CODEC`)},this.extension);if(this.localCapabilities=HF(n$1),this.initialOffer=t$1,CD(`ENABLE_SVC`)&&this.store.codec==`av1`){let t$2=await BF();var e$2;t$2&&(this.supportAV1RtpSpec=!0,(e$2=n$1.send)==null||e$2.videoExtensions.push(t$2))}let r$1;return t$1.sdp&&ZF(t$1.sdp)&&(r$1=sN(n$1),TF(r$1)),rJ(rJ({},i$1),{},{rtpCapabilities:r$1||n$1,offerSDP:t$1.sdp})}catch(e$3){throw new pO(hO.GET_LOCAL_CONNECTION_PARAMS_FAILED,e$3.toString())}}async connect(e$2){try{if(!this.initialOffer)throw Error(`Cannot establish NVConnectionExtension without initial offer.`);this.initialOffer.sdp&&ZF(this.initialOffer.sdp)&&RF(e$2.rtpCapabilities,this.localCapabilities),this.remoteSDP=new _j(rJ(rJ({},e$2),{},{localCapabilities:this.localCapabilities}),this.supportAV1RtpSpec,!(!CD(`ENABLE_PRE_SUB_WITH_PRE_PC`)||!CD(`PRE_USE_LOCAL_CODECS`))&&mP(this.store),!0),e$2.preallocation&&(this.isPreallocation=!0),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0&&this.remoteSDP.updateRemoteCodec([],this.remoteCodecs,this.store.codec);let t$1=this.remoteSDP.toString(),i$1=XF(this.initialOffer.sdp,this.extension),n$1=this.logSDPExchange(i$1||``,`offer`,`local`,`connect`);this.store.descriptionStart(),await this.peerConnection.setLocalDescription({type:`offer`,sdp:i$1}),n$1?.(t$1),await this.peerConnection.setRemoteDescription({type:`answer`,sdp:t$1});let r$1=this.peerConnection.getTransceivers()[0];if(r$1!=null&&r$1.receiver&&this.tryBindTransportEvents(r$1.receiver),mP(this.store))if(e$2.preallocation&&CD(`ENABLE_PRE_SUB_WITH_PRE_PC`)){let e$3=CD(`PRE_SUB_NUM`),{mids:t$2,preSSRCs:i$2}=this.remoteSDP.preloadRemoteMedia(e$3);await qF(this.peerConnection,this.remoteSDP,this.extension),iP.debug(`[${this.store.clientId}] [NVConnectionExtension] preload media, in pre pc,add preload ssrcs ${i$2}`),this.presetMedia(t$2,i$2)}else{let{preSSRCs:t$2=[]}=e$2,i$2=t$2.map((e$3=>e$3.ssrcMsg[0].ssrcId));if(t$2.length===0)return;let{mids:n$2}=this.remoteSDP.batchSend(t$2.map((e$3=>Object.assign({},e$3))));await qF(this.peerConnection,this.remoteSDP,this.extension),iP.debug(`[NVConnectionExtension.connect] preload media, after join, add preload ssrcs ${i$2}`),this.presetMedia(n$2,i$2)}}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,`NVConnectionExtension.connect failed; ${e$3.toString()}`)}}presetMedia(e$2,t$1){e$2.forEach(((e$3,i$1)=>{this.peerConnection.getTransceivers().forEach((n$1=>{if(n$1.mid!=null&&e$3===n$1.mid&&n$1.receiver.track){let r$1=n$1.receiver.track,o$1;r$1.kind===`video`&&CD(`ENABLE_PRE_RENDER`)&&(o$1=new Xk({trackId:`track-${r$1.kind}-unknown-${this.store.clientId}_${SN(5,``)}`},!0),o$1.updateVideoTrack(r$1),o$1.onFirstVideoFrameRender=()=>{var e$4;let n$2=this.preMediaMap.get(t$1[i$1]);n$2&&(n$2.firstVideoRender=Date.now()),(e$4=this.onFirstVideoRender)==null||e$4.call(this,t$1[i$1])},o$1.onVideoBufferReady=()=>{var e$4;(e$4=this.onFirstVideoBufferReady)==null||e$4.call(this,t$1[i$1])},o$1.play(this.store.sessionId||void 0)),this.preMediaMap.set(t$1[i$1],{mid:e$3,track:r$1,player:o$1,transceiver:n$1})}})),this.store.peerReceiver()}))}checkDtlsParameters(e$2){return!!this.remoteSDP&&e$2.length>0&&this.remoteSDP.updateRemoteDtlsParameters(e$2)}async updateRemoteConnect(e$2){try{if(!this.remoteSDP)throw Error(`Cannot call NVConnectionExtension.updateRemoteConnect before remote SDP created`);let t$1=!1,{rtpCapabilities:i$1}=e$2;if([,t$1]=this.remoteSDP.updateRemoteRTPCapabilities(i$1),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0){let e$3=this.remoteSDP.updateRemoteCodec([],this.remoteCodecs,this.store.codec);t$1||=e$3}let{preSSRCs:n$1=[]}=e$2,r$1=n$1.map((e$3=>e$3.ssrcMsg[0].ssrcId));if(!this.remoteSDP.checkPreloadSsrcs(r$1)){let e$3=[],t$2=[];if(Array.from(this.preMediaMap.entries()).every((i$2=>{let[n$2,{mid:r$2,player:o$1,track:s$1}]=i$2;return e$3.push(r$2),t$2.push(n$2),this.preMediaMap.delete(n$2),o$1&&o$1.destroy(),!0})),e$3.length>0&&(this.remoteSDP.stopSending(e$3),await qF(this.peerConnection,this.remoteSDP,this.extension),iP.warn(`[NVConnectionExtension.updateRemoteConnect] preload media, failed, del preload ssrcs ${t$2}`),lP.reportApiInvoke(this.store.sessionId,{name:LO.PRELOAD_MEDIA_FAILED,options:[n$1,t$2],tag:kO.TRACER}).onSuccess()),n$1.length>0){let{mids:e$4}=this.remoteSDP.batchSend(n$1.map((e$5=>Object.assign({},e$5))));await qF(this.peerConnection,this.remoteSDP,this.extension),iP.debug(`[NVConnectionExtension.updateRemoteConnect] preload media, after join, add preload ssrcs ${r$1}`),this.presetMedia(e$4,r$1)}}t$1?(await qF(this.peerConnection,this.remoteSDP,this.extension),iP.debug(`[NVConnectionExtension] updateRemoteConnect by exchanging SDP.`)):iP.debug(`[NVConnectionExtension] updateRemoteConnect no need to exchange SDP, because no need to update remote codecs (use local codecs)`)}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,`NVConnectionExtension.updateRemoteConnect failed; ${e$3.toString()}`)}}send(e$2,t$1,i$1){var n$1=this;return Mb((function*(){let r$1=yield Vb(n$1.mutex.lock(`From NVConnectionExtension.send`));try{if(!n$1.remoteSDP)throw Error(`Cannot call NVConnectionExtension.send before remote SDP created`);let o$1=[],s$1=SF();e$2.forEach((e$3=>{let t$2=n$1.peerConnection.addTransceiver(e$3._mediaStreamTrack,rJ({direction:`sendonly`},e$3.trackMediaType===`video`&&n$1.supportAV1RtpSpec&&s$1?{sendEncodings:[{scalabilityMode:s$1}]}:{}));o$1.push(t$2),e$3._updateRtpTransceiver(t$2)})),Bw()&&!0===CD(`SIMULCAST`)&&(yield Vb(n$1.applySimulcastForFirefox(o$1,e$2)));let a$1=yield Vb(n$1.peerConnection.createOffer()),c$1=n$1.remoteSDP.predictReceivingMids(e$2.length),d$1=n$1.mungSendOfferSDP(a$1.sdp,e$2,c$1),l$1=LD(d$1),u$1=c$1.map((e$3=>{let t$2=l$1.mediaDescriptions.find((t$3=>t$3.attributes.mid===e$3));if(!t$2)throw Error(`Cannot extract ssrc from mediaDescription.`);return NF(t$2,CD(`USE_PUB_RTX`))})),h$1;try{h$1=yield u$1}catch(r$2){h$1=[],n$1.remoteSDP.receive(e$2,t$1,i$1,h$1);let o$2=n$1.remoteSDP.toString();throw yield Vb(n$1.peerConnection.setLocalDescription({type:`offer`,sdp:d$1})),yield Vb(n$1.peerConnection.setRemoteDescription({type:`answer`,sdp:o$2})),yield Vb(n$1.stopSending(c$1,!0)),r$2}n$1.remoteSDP.receive(e$2,t$1,i$1,h$1);let p$1=n$1.remoteSDP.toString(),_$1=n$1.logSDPExchange(d$1,`offer`,`local`,`send`);return yield Vb(n$1.peerConnection.setLocalDescription({type:`offer`,sdp:d$1})),yield Vb(n$1.applySimulcastEncodings(o$1,e$2)),yield Vb(n$1.applySendEncodings(o$1,e$2)),_$1?.(p$1),yield Vb(n$1.peerConnection.setRemoteDescription({type:`answer`,sdp:p$1})),o$1.map(((e$3,t$2)=>{let i$2=c$1[t$2];return{localSSRC:u$1[t$2],id:i$2,transceiver:e$3}}))}catch(e$3){throw e$3 instanceof pO?e$3:new pO(hO.EXCHANGE_SDP_FAILED,`NVConnectionExtension.send failed; ${e$3.toString()}`)}finally{r$1()}}))()}async createDataChannels(e$2,t$1){try{if(!this.remoteSDP)throw Error(`Cannot call NVConnectionExtension.createDataChannels before remote SDP created`);let i$1=this.dataStreamChannelMap.get(e$2);if(i$1&&i$1.readyState===`open`)iP.debug(`[NVConnectionExtension] Channels are already available and can be reused directly.`);else{let t$2=this.currentDataChannelId<1023?this.currentDataChannelId++:this.recoveredDataChannelIds.shift();if(typeof t$2!=`number`)throw Error(`create DataChannel error, because cannot get dc id`);i$1=this.peerConnection.createDataChannel(`datastream-channel`,{id:t$2,negotiated:!0,ordered:!1,maxRetransmits:CD(`DATASTREAM_MAX_RETRANSMITS`)}),i$1.binaryType=`arraybuffer`,this.dataStreamChannelMap.set(e$2,i$1)}t$1.forEach((e$3=>{e$3._updateOriginDataChannel(i$1)}));let{needExchangeSDP:n$1}=this.remoteSDP.sendDataChannel();if(n$1){let e$3=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:`offer`,sdp:e$3});let t$2=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(t$2),iP.debug(`[NVConnectionExtension] createDataChannels by exchanging SDP.`)}else iP.debug(`[NVConnectionExtension] createDataChannels no need to exchange SDP.`);return}catch(e$3){throw e$3 instanceof pO?e$3:new pO(hO.EXCHANGE_SDP_FAILED,`NVConnectionExtension.createDataChannels failed; ${e$3.toString()}`)}}async stopDataChannels(e$2){try{let t$1=this.dataStreamChannelMap.get(e$2);t$1&&(t$1.id&&this.recoveredDataChannelIds.push(t$1.id),t$1.close()),this.dataStreamChannelMap.delete(e$2);return}catch(e$3){throw e$3 instanceof pO?e$3:new pO(hO.DATACHANNEL_FAILED,`NVConnectionExtension.stopDataChannels failed; ${e$3.toString()}`)}}async stopSending(e$2,t$1){let i$1=t$1?void 0:await this.mutex.lock(`From NVConnectionExtension.stopSending`);try{if(!this.remoteSDP)throw Error(`Cannot call NVConnectionExtension.stopSending before remote SDP created`);let t$2=this.peerConnection.getTransceivers().filter((t$3=>e$2.indexOf(t$3.mid)!==-1));if(t$2.length!==e$2.length)throw Error(`Transceivers' length doesn't match mids' length when trying to call NVConnectionExtension.stopSending.`);t$2.map((e$3=>{var t$3;wj(this.id+e$3.mid,this),e$3.direction=`inactive`,(t$3=e$3.stop)==null||t$3.call(e$3)}));let n$1=await this.peerConnection.createOffer(),r$1=this.logSDPExchange(n$1.sdp||``,`offer`,`local`,`stopSending`);await this.peerConnection.setLocalDescription(n$1),this.remoteSDP.stopReceiving(e$2);let o$1=this.remoteSDP.toString();r$1?.(o$1),await this.peerConnection.setRemoteDescription({type:`answer`,sdp:o$1})}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,`NVConnectionExtension.stopSending failed; ${e$3.toString()}`)}finally{i$1&&i$1()}}async receive(e$2,t$1,i$1,n$1){try{if(!this.remoteSDP)throw Error(`Cannot call NVConnectionExtension.receive ${e$2} before remoteSDP created.`);let{mid:r$1,needExchangeSDP:o$1}=this.remoteSDP.send(e$2,t$1,i$1,n$1);o$1&&(await qF(this.peerConnection,this.remoteSDP,this.extension),iP.debug(`[${this.store.clientId}] [NVConnectionExtension] receive ${e$2} by exchanging SDP.`));let s$1=this.peerConnection.getTransceivers().find((e$3=>e$3.mid===r$1));if(!s$1)throw Error(`Cannot get transceiver after setLocalDescription.`);return{track:s$1.receiver.track,id:r$1,transceiver:s$1}}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,`NVConnectionExtension.receive failed; ${e$3.toString()}`)}}async batchReceive(e$2){try{if(!this.remoteSDP)throw Error(`Cannot call NVConnectionExtension.batchReceive before remoteSDP created.`);let{mids:t$1,needExchangeSDP:i$1}=this.remoteSDP.batchSend(e$2);return i$1&&(await qF(this.peerConnection,this.remoteSDP,this.extension),iP.debug(`[${this.store.clientId}] [NVConnectionExtension] batchReceive by exchanging SDP.`)),t$1.map((e$3=>{let t$2=this.peerConnection.getTransceivers().find((t$3=>t$3.mid===e$3));if(!t$2)throw Error(`Cannot get transceiver after setLocalDescription.`);return{track:t$2.receiver.track,id:e$3,transceiver:t$2}}))}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,`NVConnectionExtension.receive failed; ${e$3.toString()}`)}}async stopReceiving(e$2){try{if(!this.remoteSDP)throw Error(`Cannot call NVConnectionExtension.stopReceiving before remote SDP created.`);e$2.forEach((e$3=>{Array.from(this.preMediaMap.entries()).some((t$2=>{let[i$2,{mid:n$2,player:r$1}]=t$2;if(n$2===e$3)return this.preMediaMap.delete(i$2),r$1&&r$1.destroy(),!0}))})),this.remoteSDP.stopSending(e$2);let t$1=this.remoteSDP.toString(),i$1=this.logSDPExchange(t$1,`offer`,`remote`,`stopReceiving`);await this.peerConnection.setRemoteDescription({type:`offer`,sdp:t$1});let n$1=await this.peerConnection.createAnswer();i$1?.(n$1.sdp||``),await this.peerConnection.setLocalDescription(n$1)}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,`NVConnectionExtension stopReceiving failed; ${e$3.toString()}`)}}async muteRemote(e$2){try{if(!this.remoteSDP)throw Error(`Cannot call NVConnectionExtension.muteRemote mid=${e$2} before remote SDP created.`);this.remoteSDP.mute(e$2);let t$1=this.remoteSDP.toString(),i$1=this.logSDPExchange(t$1,`offer`,`remote`,`muteRemote`);await this.peerConnection.setRemoteDescription({type:`offer`,sdp:t$1});let n$1=await this.peerConnection.createAnswer();i$1?.(n$1.sdp||``),await this.peerConnection.setLocalDescription(n$1)}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,`NVConnectionExtension.muteRemote failed; ${e$3.toString()}`)}}async unmuteRemote(e$2){try{if(!this.remoteSDP)throw Error(`Cannot call NVConnectionExtension.unmuteRemote mid=${e$2} before remote SDP created.`);this.remoteSDP.unmute(e$2);let t$1=this.remoteSDP.toString(),i$1=this.logSDPExchange(t$1,`offer`,`remote`,`unmuteRemote`);await this.peerConnection.setRemoteDescription({type:`offer`,sdp:t$1});let n$1=await this.peerConnection.createAnswer();i$1?.(n$1.sdp||``),await this.peerConnection.setLocalDescription(n$1)}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,`NVConnectionExtension.unmuteRemote failed; ${e$3.toString()}`)}}async muteLocal(e$2){try{if(!this.remoteSDP)throw Error(`Cannot call NVConnectionExtension.muteLocal before remote SDP created.`);let t$1=this.peerConnection.getTransceivers().filter((t$2=>t$2.mid&&e$2.indexOf(t$2.mid)!==-1));if(t$1.length!==e$2.length)throw Error(`Transceivers' length doesn't match mids' length.`);t$1.map((e$3=>{e$3.direction=`inactive`}));let i$1=await this.peerConnection.createOffer(),n$1=this.logSDPExchange(i$1.sdp||``,`offer`,`local`,`muteLocal`);await this.peerConnection.setLocalDescription(i$1),this.remoteSDP.muteRemote(e$2);let r$1=this.remoteSDP.toString();n$1?.(r$1),await this.peerConnection.setRemoteDescription({type:`answer`,sdp:r$1})}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,`NVConnectionExtension.muteLocal failed; ${e$3.toString()}`)}}async unmuteLocal(e$2){try{if(!this.remoteSDP)throw Error(`Cannot call NVConnectionExtension.unmuteLocal before remote SDP created.`);let t$1=this.peerConnection.getTransceivers().filter((t$2=>t$2.mid&&e$2.indexOf(t$2.mid)!==-1));if(t$1.length!==e$2.length)throw Error(`Transceivers' length doesn't match mids' length.`);t$1.map((async(e$3,t$2)=>{e$3.direction=`sendonly`}));let i$1=await this.peerConnection.createOffer(),n$1=this.logSDPExchange(i$1.sdp||``,`offer`,`local`,`unmuteLocal`);await this.peerConnection.setLocalDescription(i$1),this.remoteSDP.unmuteRemote(e$2),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0&&this.remoteSDP.updateRemoteCodec(e$2,this.remoteCodecs,this.store.codec);let r$1=this.remoteSDP.toString();n$1?.(r$1),await this.peerConnection.setRemoteDescription({type:`answer`,sdp:r$1})}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,`NVConnectionExtension.unmuteLocal failed; ${e$3.toString()}`)}}restartICE(e$2){var t$1=this;return Mb((function*(){let i$1=yield Vb(t$1.mutex.lock(`From NVConnectionExtension.restartICE`));try{if(!t$1.remoteSDP)throw Error(`Cannot restartICE before remoteSDP created.`);let n$1=pP().supportPCSetConfiguration,r$1=CD(`FORCE_TURN_TCP`)||t$1.forceTurn;if(e$2===Sx.RELAY&&!n$1)return;if(n$1&&!r$1){let i$2=e$2===Sx.RELAY?`relay`:`all`,n$2=t$1.peerConnection.getConfiguration();n$2.iceTransportPolicy!==i$2&&(iP.debug(`[${t$1.store.clientId}] restartICE change iceTransportPolicy from [${n$2.iceTransportPolicy}] to [${i$2}]`),n$2.iceTransportPolicy=i$2,t$1.peerConnection.setConfiguration(n$2))}t$1.remoteSDP.updateCandidates(e$2);let o$1=yield Vb(t$1.peerConnection.createOffer({iceRestart:!0}));if(!o$1.sdp)throw Error(`Cannot restartICE because restart offer SDP does not exist.`);let{remoteIceParameters:a$1}=yield OF(o$1.sdp).iceParameters;t$1.remoteSDP.restartICE(a$1);let c$1=t$1.remoteSDP.toString(),d$1=t$1.logSDPExchange(o$1.sdp||``,`offer`,`local`,`restartICE`);t$1.store.descriptionStart(),yield Vb(t$1.peerConnection.setLocalDescription(o$1)),d$1?.(c$1),yield Vb(t$1.peerConnection.setRemoteDescription({type:`answer`,sdp:c$1}))}catch(e$3){iP.warning(`[${t$1.store.clientId}] restart ICE failed, abort operation`,e$3)}finally{i$1()}}))()}async extendCandidate(){if(!this.remoteSDP||this.isFirstConnected)return;let e$2=await this.mutex.lock(`From NVConnectionExtension.extendCandidate`);try{this.remoteSDP.updateCandidates(Sx.TCP_RELAY),await qF(this.peerConnection,this.remoteSDP,this.extension)}catch(e$3){iP.warning(`[${this.store.clientId}] extend candidate failed, abort operation`,e$3)}finally{e$2()}}close(){var e$2;this.peerConnection.getTransceivers().forEach((e$3=>{wj(this.id+e$3.mid,this)})),this.preMediaMap.forEach((e$3=>{let{player:t$1}=e$3;t$1&&t$1.destroy()})),this.preMediaMap.clear(),this.peerConnection.close(),(e$2=this.onConnectionStateChange)==null||e$2.call(this,`closed`),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.transportEventReceiver=void 0,this.statsFilter.destroy(),this.dataStreamChannelMap.clear(),this.recoveredDataChannelIds=[],this.currentDataChannelId=1}getStats(){return rJ(rJ({},this.statsFilter.getStats()),{},{qualityLimitationReason:this.qualityLimitationReason})}getRemoteVideoIsReady(e$2){return this.statsFilter.getVideoIsReady(e$2)}async updateEncoderConfig(e$2,t$1){try{if(!this.remoteSDP)throw Error(`Cannot call NVConnectionExtension.updateEncoderConfig before remote SDP created.`);let i$1=await this.peerConnection.createOffer(),n$1=this.mungSendOfferSDP(i$1.sdp,[t$1],[e$2]);this.remoteSDP.updateRecvMedia(e$2,t$1);let r$1=this.remoteSDP.toString(),o$1=this.logSDPExchange(n$1,`offer`,`local`,`updateEncoderConfig`);await this.peerConnection.setLocalDescription({type:`offer`,sdp:n$1}),o$1?.(r$1),await this.peerConnection.setRemoteDescription({type:`answer`,sdp:r$1})}catch(e$3){throw new pO(hO.EXCHANGE_SDP_FAILED,e$3.toString())}}async updateSendParameters(e$2,t$1){let i$1=this.peerConnection.getTransceivers().filter((t$2=>t$2.mid===e$2));i$1.length===1&&(this.isVP8Simulcast(t$1)?Bw()||await this.applySimulcastEncodings(i$1,[t$1]):await this.applySendEncodings(i$1,[t$1]))}setStatsRemoteVideoIsReady(e$2,t$1){this.statsFilter.setVideoIsReady2(e$2,t$1)}async replaceTrack(e$2,t$1){let i$1=this.peerConnection.getTransceivers().find((e$3=>e$3.mid===t$1));i$1&&await i$1.sender.replaceTrack(e$2._mediaStreamTrack)}async getSelectedCandidatePair(){let e$2=this.peerConnection.getReceivers();if(e$2.length>0&&e$2[0].transport&&e$2[0].transport.iceTransport&&e$2[0].transport.iceTransport.getSelectedCandidatePair&&e$2[0].transport.iceTransport.getSelectedCandidatePair()){let{local:i$1,remote:n$1}=e$2[0].transport.iceTransport.getSelectedCandidatePair();return{local:rJ(rJ({},zN),{},{candidateType:i$1.type,protocol:i$1.protocol,address:i$1.address,port:i$1.port}),remote:rJ(rJ({},zN),{},{candidateType:n$1.type,protocol:n$1.protocol,address:n$1.address,port:n$1.port})}}return this.statsFilter.getSelectedCandidatePair()}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e$2;(e$2=this.onICEConnectionStateChange)==null||e$2.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e$2;this.peerConnection.connectionState===`connected`&&(this.isFirstConnected=!0),(e$2=this.onConnectionStateChange)==null||e$2.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidateerror=e$2=>{if(e$2&&(e$2.errorCode||e$2.errorText)){var t$1;let i$1=`code: ${e$2.errorCode}, message: ${e$2.errorText}`,n$1=e$2.port?`local: ${e$2.port}`:``,r$1=mF(e$2.url||``);iP.debug(`[${this.store.clientId}] [p2pId: ${this.store.p2pId}]: NVConnectionExtension.onICECandidateError(${i$1}), url: ${r$1||``}, host_candidate:${n$1}`),(t$1=this.onICECandidateError)==null||t$1.call(this,i$1)}},this.peerConnection.onicegatheringstatechange=e$2=>{e$2&&e$2.target&&`iceGatheringState`in e$2.target&&iP.debug(`[${this.store.clientId}] [pc-${this.store.p2pId}] RTCPeerConnection.onicegatheringstatechange(${e$2.target.iceGatheringState})`)},this.peerConnection.onicecandidate=e$2=>{e$2.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,iP.debug(`[${this.store.clientId}] [pc-${this.store.p2pId}] local candidate count`,this.localCandidateCount))},setTimeout((()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,iP.debug(`[${this.store.clientId}] [pc-${this.store.p2pId}] onicecandidate timeout, local candidate count`,this.localCandidateCount))}),CD(`CANDIDATE_TIMEOUT`))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(t$1){let i$1={iceServers:[]},n$1=t$1.cloudProxyServer||`disabled`;return t$1.iceServers?i$1.iceServers=t$1.iceServers:t$1.turnServer&&(xO(t$1.turnServer.servers)?i$1.iceServers=t$1.turnServer.servers:CD(`NEW_TURN_MODE`)&&i$1.iceServers&&n$1===`disabled`?(CD(`USE_TURN_SERVER_OF_GATEWAY`)?t$1.turnServer.serversFromGateway&&i$1.iceServers.push(...e$1.newTurnServerConfigToIceServers(t$1.turnServer.serversFromGateway)):i$1.iceServers.push(...e$1.newTurnServerConfigToIceServers(t$1.turnServer.servers)),CD(`NEW_FORCE_TURN`)&&(i$1.iceTransportPolicy=`relay`)):t$1.turnServer.mode!==`off`&&(i$1.iceServers&&i$1.iceServers.push(...e$1.turnServerConfigToIceServers(t$1.turnServer.servers)),CD(`USE_TURN_SERVER_OF_GATEWAY`)&&i$1.iceServers&&t$1.turnServer.serversFromGateway&&i$1.iceServers.push(...e$1.turnServerConfigToIceServers(t$1.turnServer.serversFromGateway)),CD(`FORCE_TURN_TCP`)?i$1.iceTransportPolicy=`relay`:t$1.turnServer.servers.concat(t$1.turnServer.serversFromGateway||[]).forEach((e$2=>{e$2.forceturn&&(i$1.iceTransportPolicy=`relay`)})))),CD(`ENABLE_ENCODED_TRANSFORM`)&&pP().supportWebRTCEncodedTransform&&(i$1.encodedInsertableStreams=!0),i$1}static turnServerConfigToIceServers(e$2){let t$1=[];return e$2.forEach((e$3=>{e$3.security?e$3.tcpport&&t$1.push({username:e$3.username,credential:e$3.password,credentialType:`password`,urls:`turns:${sF(e$3.turnServerURL)}:${e$3.tcpport}?transport=tcp`}):(e$3.udpport&&!CD(`FORCE_TURN_TCP`)&&t$1.push({username:e$3.username,credential:e$3.password,credentialType:`password`,urls:`turn:${e$3.turnServerURL}:${e$3.udpport}?transport=udp`}),e$3.tcpport&&t$1.push({username:e$3.username,credential:e$3.password,credentialType:`password`,urls:`turn:${e$3.turnServerURL}:${e$3.tcpport}?transport=tcp`}))})),t$1}static newTurnServerConfigToIceServers(e$2){let t$1=[];return e$2.forEach((e$3=>{let i$1=CD(`NEW_TURN_MODE`);i$1===1?t$1.push({username:e$3.username,credential:e$3.password,credentialType:`password`,urls:`turn:${e$3.turnServerURL}:3478?transport=udp`}):i$1===2?t$1.push({username:e$3.username,credential:e$3.password,credentialType:`password`,urls:`turn:${e$3.turnServerURL}:3478?transport=tcp`}):i$1===3?t$1.push({username:e$3.username,credential:e$3.password,credentialType:`password`,urls:`turns:${sF(e$3.turnServerURL)}:443?transport=tcp`}):i$1===4&&(t$1.push({username:e$3.username,credential:e$3.password,credentialType:`password`,urls:`turn:${e$3.turnServerURL}:3478?transport=udp`}),t$1.push({username:e$3.username,credential:e$3.password,credentialType:`password`,urls:`turn:${e$3.turnServerURL}:3478?transport=tcp`}),t$1.push({username:e$3.username,credential:e$3.password,credentialType:`password`,urls:`turns:${sF(e$3.turnServerURL)}:443?transport=tcp`}))})),t$1}tryBindTransportEvents(e$2){let t$1=e$2.transport;if(t$1){this.transportEventReceiver=e$2,t$1.onstatechange=()=>{var e$3;t$1!=null&&t$1.state&&((e$3=this.onDTLSTransportStateChange)==null||e$3.call(this,t$1.state))},t$1.onerror=e$3=>{var t$2;(t$2=this.onDTLSTransportError)==null||t$2.call(this,`error`in e$3?e$3.error:e$3)};let i$1=t$1.iceTransport;i$1&&(i$1.onstatechange=()=>{let e$3=t$1?.iceTransport.state;var i$2;e$3&&((i$2=this.onICETransportStateChange)==null||i$2.call(this,e$3))},i$1.getSelectedCandidatePair&&(i$1.onselectedcandidatepairchange=()=>{if(i$1.getSelectedCandidatePair()){let{local:e$3,remote:t$2}=i$1.getSelectedCandidatePair()||{};if(e$3&&t$2){let i$2=e$3.address+`:`+e$3.port,n$1=t$2.address+`:`+t$2.port;iP.info(`[${this.store.clientId}] [pc-${this.store.p2pId}] selectedcandidatepairchange: local ${JSON.stringify(mF(i$2))}, remote ${JSON.stringify(mF(n$1))}`)}}}))}}tryUnbindTransportEvents(){this.transportEventReceiver&&this.transportEventReceiver.transport&&(this.transportEventReceiver.transport.onstatechange=null,this.transportEventReceiver.transport.onerror=null,this.transportEventReceiver.transport.iceTransport&&(this.transportEventReceiver.transport.iceTransport.onstatechange=null))}async updateRtpSenderEncodings(e$2,t$1){var i$1,n$1;if(t$1||=this.peerConnection.getSenders().find((t$2=>t$2.track===e$2._mediaStreamTrack)),!t$1)return iP.warn(`[${e$2.getTrackId()}] no rtpSender found}`);if(this.isVP8Simulcast(e$2))return iP.warn(`[updateRtpSenderEncodings] Track is VP8 simulcast, please apply simulcast encodings`);if(!pP().supportSetRtpSenderParameters)return iP.warn(`[updateRtpSenderEncodings] Browser not support set rtp-sender parameters`);let r$1={},o$1={};switch(e$2._optimizationMode){case`motion`:r$1.degradationPreference=`maintain-framerate`;break;case`detail`:r$1.degradationPreference=`maintain-resolution`;break;case`balanced`:r$1.degradationPreference=`balanced`}let s$1=fF(this.peerConnection,e$2._mediaStreamTrack),a$1=JL(e$2);if(Ij(e$2)&&s$1&&t$1&&a$1&&this.getLocalVideoStats&&Ln(i$1=[`vp8`,`vp9`]).call(i$1,this.store.codec)){var c$1;let i$2=r$1.degradationPreference||(Ln(c$1=e$2._hints).call(c$1,VP.CUSTOM_TRACK)?CD(`CUSTOM_ADAPTATION_DEFAULT_MODE`):`maintain-framerate`);bj(this.id+s$1.mid,a$1,this,i$2,(e$3=>{t$1&&this.updateAdaptation(t$1,e$3)}),this.getLocalVideoStats.bind(this))}if(e$2._encoderConfig){var d$1;let{bitrateMax:t$2,frameRate:i$2,scaleResolutionDownBy:n$2}=e$2._encoderConfig;t$2&&(o$1.maxBitrate=1e3*t$2),(Ln(d$1=e$2._hints).call(d$1,VP.LOW_STREAM)||e$2.isUseScaleResolutionDownBy)&&(i$2&&(o$1.maxFramerate=dF(i$2)),n$2&&n$2>=1&&(o$1.scaleResolutionDownBy=n$2))}let{maxFramerate:l$1}=CD(`ENCODER_CONFIG_LIMIT`);if(l$1&&typeof l$1==`number`&&(o$1.maxFramerate=o$1.maxFramerate?Math.min(o$1.maxFramerate,l$1):l$1),CD(`DSCP_TYPE`)&&sO()){var u$1;let e$3=CD(`DSCP_TYPE`);Ln(u$1=[`very-low`,`low`,`medium`,`high`]).call(u$1,e$3)&&(o$1.networkPriority=e$3)}let h$1=t$1.getParameters(),p$1=h$1.encodings?.[0];Bw()&&!p$1&&(r$1.encodings=[o$1]),p$1&&Object.assign(p$1,o$1),Object.assign(h$1,r$1),iP.debug(`[${e$2.getTrackId()}] updateRtpSenderEncodings: ${JSON.stringify(h$1.encodings)}`),await t$1.setParameters(h$1),await QF(this.store.codec,t$1,CD(`SVC_MODE`))}async updateAdaptation(e$2,t$1){var i$1,n$1;if(!e$2)return iP.debug(`[updateAdaptation] no rtpSender found`);if(!pP().supportSetRtpSenderParameters)return iP.debug(`[updateAdaptation] Browser not support set rtp-sender parameters`);let r$1={},{bitrateMax:o$1,frameRate:s$1,scaleResolutionDownBy:a$1}=t$1;o$1&&(r$1.maxBitrate=1e3*o$1),s$1&&(r$1.maxFramerate=dF(s$1)),a$1&&a$1>=1&&Ln(i$1=[`vp8`,`vp9`]).call(i$1,this.store.codec)&&(r$1.scaleResolutionDownBy=a$1);let c$1=e$2.getParameters(),d$1=c$1.encodings?.[0];d$1&&Object.assign(d$1,r$1),Object.assign(c$1,{});try{await e$2.setParameters(c$1),iP.debug(`[updateAdaptation] updateRtpSenderEncodings: ${JSON.stringify(c$1.encodings)}`)}catch(t$2){!(`transport`in e$2)||e$2.transport&&e$2.transport.state===`connected`?this.peerConnectionState===`connected`?iP.debug(`[updateAdaptation] updateRtpSenderEncodings failed`,t$2):iP.debug(`[updateAdaptation] peerConnection not connected}`):iP.debug(`[updateAdaptation] rtpSender transport not connected}`)}}async applySendEncodings(e$2,t$1){try{if(!pP().supportSetRtpSenderParameters||e$2.length!==t$1.length)return;for(let i$1=0;i$1<e$2.length;i$1++){let n$1=e$2[i$1],r$1=t$1[i$1];r$1 instanceof kM&&!this.isVP8Simulcast(r$1)&&await this.updateRtpSenderEncodings(r$1,n$1.sender)}}catch{iP.debug(`[${this.store.clientId}] Apply RTPSendEncodings failed.`)}}mungSendOfferSDP(e$2,t$1,i$1){let n$1=LD(e$2);return t$1.forEach(((e$3,t$2)=>{let r$1=i$1[t$2],o$1=n$1.mediaDescriptions.find((e$4=>e$4.attributes.mid===r$1));o$1&&(kF(o$1,e$3),FF(o$1,e$3,this.store.codec))})),kD(n$1)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e$2=>{var t$1;(t$1=this.onFirstAudioReceived)==null||t$1.call(this,e$2)},this.statsFilter.onFirstVideoReceived=e$2=>{var t$1;(t$1=this.onFirstVideoReceived)==null||t$1.call(this,e$2)},this.statsFilter.onFirstAudioDecoded=e$2=>{var t$1;(t$1=this.onFirstAudioDecoded)==null||t$1.call(this,e$2)},this.statsFilter.onFirstVideoDecoded=(e$2,t$1,i$1)=>{var n$1;(n$1=this.onFirstVideoDecoded)==null||n$1.call(this,e$2,t$1,i$1)},this.statsFilter.onSelectedLocalCandidateChanged=(e$2,t$1)=>{var i$1;(i$1=this.onSelectedLocalCandidateChanged)==null||i$1.call(this,e$2,t$1)},this.statsFilter.onSelectedRemoteCandidateChanged=(e$2,t$1)=>{var i$1;(i$1=this.onSelectedRemoteCandidateChanged)==null||i$1.call(this,e$2,t$1)},this.statsFilter.onFirstVideoDecodedTimeout=e$2=>{var t$1;(t$1=this.onFirstVideoDecodedTimeout)==null||t$1.call(this,e$2)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(e$2,t$1){if(e$2.length===t$1.length)for(let a$1=0;a$1<e$2.length;a$1++){var i$1,n$1,r$1,o$1,s$1;let c$1=e$2[a$1],d$1=t$1[a$1];if(d$1 instanceof kM&&!Ln(i$1=d$1._hints).call(i$1,VP.LOW_STREAM)&&(n$1=d$1._encoderConfig)!=null&&n$1.bitrateMax&&d$1._encoderConfig?.bitrateMax>200&&(o$1=d$1._scalabilityMode)!=null&&o$1.numSpatialLayers&&d$1._scalabilityMode?.numSpatialLayers>1&&this.store.codec===`vp8`){let e$3={},t$2={high:1e3*(d$1._encoderConfig.bitrateMax-50),medium:5e4};e$3.encodings=[{rid:`m`,active:!0,maxBitrate:t$2.medium,scaleResolutionDownBy:4},{rid:`h`,active:!0,maxBitrate:t$2.high}];let i$2=c$1.sender.getParameters();await c$1.sender.setParameters(Object.assign(i$2,e$3))}}}async applySimulcastEncodings(e$2,t$1){if(!Bw()&&e$2.length===t$1.length)for(let i$1=0;i$1<e$2.length;i$1++){let n$1=t$1[i$1];if(n$1 instanceof kM&&this.isVP8Simulcast(n$1)){let t$2=e$2[i$1],r$1={},o$1={high:1e3*(n$1._encoderConfig.bitrateMax-50),medium:5e4};r$1.encodings=[{active:!0,adaptivePtime:!1,networkPriority:`high`,priority:`high`,maxBitrate:o$1.high},{active:!0,adaptivePtime:!1,networkPriority:`low`,priority:`low`,maxBitrate:o$1.medium,scaleResolutionDownBy:4}];let s$1=t$2.sender.getParameters();await t$2.sender.setParameters(Object.assign(s$1,r$1))}}}isVP8Simulcast(e$2){var t$1,i$1,n$1,r$1,o$1;return!!(e$2 instanceof kM&&CD(`SIMULCAST`)&&this.store.codec===`vp8`&&!Ln(t$1=e$2._hints).call(t$1,VP.LOW_STREAM)&&(i$1=e$2._encoderConfig)!=null&&i$1.bitrateMax&&e$2._encoderConfig?.bitrateMax>200&&(r$1=e$2._scalabilityMode)!=null&&r$1.numSpatialLayers&&e$2._scalabilityMode?.numSpatialLayers>1)}logSDPExchange(e$2,t$1,i$1,n$1){if(CD(`SDP_LOGGING`))return iP.upload(`[${this.store.clientId}] exchanging ${i$1} ${t$1} SDP during NVConnectionExtension.${n$1}
`,e$2),t$1===`offer`?e$3=>{this.logSDPExchange(e$3,`answer`,i$1===`local`?`remote`:`local`,n$1)}:void 0}async getRemoteSSRC(e$2){if(!this.remoteSDP)return;let t$1=this.remoteSDP.getSSRC(e$2);return t$1&&t$1.length!==0?t$1[0].ssrcId:void 0}setConfiguration(t$1){if(pP().supportPCSetConfiguration){let i$1=e$1.resolvePCConfiguration(t$1);this.peerConnection.setConfiguration(i$1)}t$1.isPreallocation&&(this.isPreallocation=!0)}},DV(iJ.prototype,`updateRemoteRTPCapabilities`,[sJ],Object.getOwnPropertyDescriptor(iJ.prototype,`updateRemoteRTPCapabilities`),iJ.prototype),DV(iJ.prototype,`connect`,[sJ],Object.getOwnPropertyDescriptor(iJ.prototype,`connect`),iJ.prototype),DV(iJ.prototype,`updateRemoteConnect`,[sJ],Object.getOwnPropertyDescriptor(iJ.prototype,`updateRemoteConnect`),iJ.prototype),DV(iJ.prototype,`createDataChannels`,[sJ],Object.getOwnPropertyDescriptor(iJ.prototype,`createDataChannels`),iJ.prototype),DV(iJ.prototype,`receive`,[sJ],Object.getOwnPropertyDescriptor(iJ.prototype,`receive`),iJ.prototype),DV(iJ.prototype,`batchReceive`,[sJ],Object.getOwnPropertyDescriptor(iJ.prototype,`batchReceive`),iJ.prototype),DV(iJ.prototype,`stopReceiving`,[sJ],Object.getOwnPropertyDescriptor(iJ.prototype,`stopReceiving`),iJ.prototype),DV(iJ.prototype,`muteRemote`,[sJ],Object.getOwnPropertyDescriptor(iJ.prototype,`muteRemote`),iJ.prototype),DV(iJ.prototype,`unmuteRemote`,[sJ],Object.getOwnPropertyDescriptor(iJ.prototype,`unmuteRemote`),iJ.prototype),DV(iJ.prototype,`muteLocal`,[sJ],Object.getOwnPropertyDescriptor(iJ.prototype,`muteLocal`),iJ.prototype),DV(iJ.prototype,`unmuteLocal`,[sJ],Object.getOwnPropertyDescriptor(iJ.prototype,`unmuteLocal`),iJ.prototype),DV(iJ.prototype,`close`,[sJ],Object.getOwnPropertyDescriptor(iJ.prototype,`close`),iJ.prototype),DV(iJ.prototype,`updateEncoderConfig`,[sJ],Object.getOwnPropertyDescriptor(iJ.prototype,`updateEncoderConfig`),iJ.prototype),DV(iJ.prototype,`updateSendParameters`,[sJ],Object.getOwnPropertyDescriptor(iJ.prototype,`updateSendParameters`),iJ.prototype),DV(iJ.prototype,`replaceTrack`,[sJ],Object.getOwnPropertyDescriptor(iJ.prototype,`replaceTrack`),iJ.prototype),DV(iJ.prototype,`updateAdaptation`,[sJ],Object.getOwnPropertyDescriptor(iJ.prototype,`updateAdaptation`),iJ.prototype),DV(iJ.prototype,`getRemoteSSRC`,[sJ],Object.getOwnPropertyDescriptor(iJ.prototype,`getRemoteSSRC`),iJ.prototype),iJ);function sJ(e$1,t$1,i$1){let n$1=e$1[t$1];if(typeof n$1!=`function`)throw Error(`Cannot use mutex on object property.`);return i$1.value=async function(){let i$2=await this.mutex.lock(`From NVConnectionExtension.${t$1}`);try{var o$1=[...arguments];return await n$1.apply(this,o$1)}finally{i$2()}},i$1}var aJ;function cJ(e$1){var t$1,i$1,n$1,r$1=2;for(typeof Symbol<`u`&&(i$1=Fb,n$1=Symbol.iterator);r$1--;){if(i$1&&(t$1=e$1[i$1])!=null)return t$1.call(e$1);if(n$1&&(t$1=e$1[n$1])!=null)return new dJ(t$1.call(e$1));i$1=`@@asyncIterator`,n$1=`@@iterator`}throw TypeError(`Object is not async iterable`)}function dJ(e$1){function t$1(e$2){if(Object(e$2)!==e$2)return rp.reject(TypeError(e$2+` is not an object.`));var t$2=e$2.done;return rp.resolve(e$2.value).then((function(e$3){return{value:e$3,done:t$2}}))}return dJ=function(e$2){this.s=e$2,this.n=e$2.next},dJ.prototype={s:null,n:null,next:function(){return t$1(this.n.apply(this.s,arguments))},return:function(e$2){var i$1=this.s.return;return i$1===void 0?rp.resolve({value:e$2,done:!0}):t$1(i$1.apply(this.s,arguments))},throw:function(e$2){var i$1=this.s.return;return i$1===void 0?rp.reject(e$2):t$1(i$1.apply(this.s,arguments))}},new dJ(e$1)}let lJ=(aJ=class e$1 extends mx{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get localCodecs(){return this._p2pConnection.localCodecs}constructor(t$1,i$1){super(t$1,i$1),iA(this,`name`,`DataChannelConnection`),iA(this,`store`,void 0),iA(this,`peerConnection`,void 0),iA(this,`cname`,void 0),iA(this,`mutex`,new PN(`DataChannelConnection-mutex`)),iA(this,`dataChannel`,void 0),iA(this,`_p2pConnection`,void 0),iA(this,`establishPromise`,void 0),iA(this,`_nvMedia`,void 0),this.store=i$1,this.store.dcId=this.store.dcId+1,this.peerConnection=new RTCPeerConnection(e$1.resolvePCConfiguration(t$1),{optional:[{googDscp:!0}]}),this.dataChannel=this.peerConnection.createDataChannel(`agora-signal`,{ordered:!1,maxPacketLifeTime:50}),this.dataChannel.binaryType=`arraybuffer`,this._p2pConnection=new oJ(t$1,i$1,this.peerConnection),this.bindPCEvents(),this.establishPromise=this._p2pConnection.establishPromise}getPreMedia(e$2){var t$1;return this._p2pConnection?.getPreMedia(e$2)}isPreSub(){var e$2,t$1;return(e$2=this._p2pConnection?.isPreSub())!=null&&e$2}async establish(){return await this._p2pConnection.establish()}getP2PConnectionParams(){return this._p2pConnection.establishPromise}updateRtpSenderEncodings(e$2){return this._p2pConnection.updateRtpSenderEncodings(e$2)}async connect(e$2){return this.cname=e$2.cname,await this._p2pConnection.connect(e$2),await new rp(((t$1,i$1)=>{let n$1=setTimeout((()=>{this.closeSignal(),i$1(new uP(hO.DATACHANNEL_CONNECTION_TIMEOUT,`Datachannel connection timed out, candidates: ${JSON.stringify(e$2.candidates)}`))}),CD(`DC_CONNECTION_TIMEOUT`));this.dataChannel.onopen=()=>{if(this.dataChannel.readyState===`open`)return clearTimeout(n$1),void t$1()},this.dataChannel.onerror=e$3=>{this.closeSignal(),i$1(e$3)},this.dataChannel.addEventListener(`close`,(()=>{i$1(new uP(hO.DATACHANNEL_CONNECTION_TIMEOUT))}))})),{transmitter:this.dataChannel,close:this.closeSignal.bind(this)}}async updateRemoteRTPCapabilities(e$2,t$1){return this._p2pConnection.updateRemoteRTPCapabilities(e$2,t$1)}send(e$2,t$1,i$1){var n$1=this;return Mb((function*(){let r$1=yield Vb(n$1.mutex.lock(`From DataChannelConnection.send`));try{return yield*xb(cJ(n$1._p2pConnection.send(e$2,t$1,i$1)))}finally{r$1()}}))()}async stopSending(e$2,t$1){return this._p2pConnection.stopSending(e$2,t$1)}async createDataChannels(e$2,t$1){return this._p2pConnection.createDataChannels(e$2,t$1)}async stopDataChannels(e$2){return this._p2pConnection.stopDataChannels(e$2)}async receive(e$2,t$1,i$1,n$1){return this._nvMedia?(iP.debug(`[DataChannelConnection] receive ${e$2} by DataChannel.`),await this._nvMedia.reveiveByRTCMedia(e$2,t$1,this.cname)):(iP.debug(`[DataChannelConnection] receive ${e$2} by WebRTC.`),await this._p2pConnection.receive(e$2,t$1,i$1,n$1))}async batchReceive(e$2){return[...await this._p2pConnection.batchReceive(e$2)]}async stopReceiving(e$2){return await this._p2pConnection.stopReceiving(e$2)}async muteRemote(e$2){return await this._p2pConnection.muteRemote(e$2)}async unmuteRemote(e$2){return await this._p2pConnection.unmuteRemote(e$2)}async muteLocal(e$2){return await this._p2pConnection.muteLocal(e$2)}async unmuteLocal(e$2){return await this._p2pConnection.unmuteLocal(e$2)}restartICE(e$2){var t$1=this;return Mb((function*(){return yield*xb(cJ(t$1._p2pConnection.restartICE(e$2)))}))()}close(){var e$2;(e$2=this._nvMedia)==null||e$2.close(),this._p2pConnection.close(),this.unbindConnectionEvents(this._p2pConnection)}getStats(){return this._p2pConnection.getStats()}getRemoteVideoIsReady(e$2){return this._p2pConnection.getRemoteVideoIsReady(e$2)}updateRemoteConnect(e$2){var t$1;return(t$1=this._nvMedia)==null||t$1.setRemoteRtpCapabilities(e$2),this._p2pConnection.updateRemoteConnect(e$2)}async updateEncoderConfig(e$2,t$1){return await this._p2pConnection.updateEncoderConfig(e$2,t$1)}async updateSendParameters(e$2,t$1){return await this._p2pConnection.updateSendParameters(e$2,t$1)}setStatsRemoteVideoIsReady(e$2,t$1){this._p2pConnection.setStatsRemoteVideoIsReady(e$2,t$1)}async replaceTrack(e$2,t$1){return await this._p2pConnection.replaceTrack(e$2,t$1)}async getRemoteSSRC(e$2){return this._p2pConnection.getRemoteSSRC(e$2)}logSDPExchange(e$2,t$1,i$1,n$1){if(CD(`SDP_LOGGING`))return iP.upload(`exchanging ${i$1} ${t$1} SDP during DataChannelConnection.${n$1}
`,e$2),t$1===`offer`?e$3=>{this.logSDPExchange(e$3,`answer`,i$1===`local`?`remote`:`local`,n$1)}:void 0}static resolvePCConfiguration(t$1){let i$1={iceServers:[]};return t$1.iceServers?i$1.iceServers=t$1.iceServers:t$1.turnServer&&t$1.turnServer.mode!==`off`&&(xO(t$1.turnServer.servers)?i$1.iceServers=t$1.turnServer.servers:(i$1.iceServers&&i$1.iceServers.push(...e$1.turnServerConfigToIceServers(t$1.turnServer.servers)),CD(`USE_TURN_SERVER_OF_GATEWAY`)&&i$1.iceServers&&t$1.turnServer.serversFromGateway&&i$1.iceServers.push(...e$1.turnServerConfigToIceServers(t$1.turnServer.serversFromGateway)),CD(`FORCE_TURN_TCP`)?i$1.iceTransportPolicy=`relay`:t$1.turnServer.servers.concat(t$1.turnServer.serversFromGateway||[]).forEach((e$2=>{e$2.forceturn&&(i$1.iceTransportPolicy=`relay`)})))),CD(`ENABLE_ENCODED_TRANSFORM`)&&pP().supportWebRTCEncodedTransform&&(i$1.encodedInsertableStreams=!0),i$1}static turnServerConfigToIceServers(e$2){let t$1=[];return e$2.forEach((e$3=>{e$3.security?e$3.tcpport&&t$1.push({username:e$3.username,credential:e$3.password,credentialType:`password`,urls:`turns:${sF(e$3.turnServerURL)}:${e$3.tcpport}?transport=tcp`}):(e$3.udpport&&!CD(`FORCE_TURN_TCP`)&&t$1.push({username:e$3.username,credential:e$3.password,credentialType:`password`,urls:`turn:${e$3.turnServerURL}:${e$3.udpport}?transport=udp`}),e$3.tcpport&&t$1.push({username:e$3.username,credential:e$3.password,credentialType:`password`,urls:`turn:${e$3.turnServerURL}:${e$3.tcpport}?transport=tcp`}))})),t$1}bindPCEvents(){this._p2pConnection.onICEConnectionStateChange=e$2=>{var t$1;return this.onICEConnectionStateChange?.call(this,e$2)},this._p2pConnection.onConnectionStateChange=e$2=>{var t$1;return this.onConnectionStateChange?.call(this,e$2)},this._p2pConnection.onDTLSTransportStateChange=e$2=>{var t$1;return this.onDTLSTransportStateChange?.call(this,e$2)},this._p2pConnection.onDTLSTransportError=e$2=>{var t$1;return this.onDTLSTransportError?.call(this,e$2)},this._p2pConnection.onICETransportStateChange=e$2=>{var t$1;return this.onICETransportStateChange?.call(this,e$2)},this._p2pConnection.onFirstAudioReceived=e$2=>{var t$1;return this.onFirstAudioReceived?.call(this,e$2)},this._p2pConnection.onFirstVideoReceived=e$2=>{var t$1;return this.onFirstVideoReceived?.call(this,e$2)},this._p2pConnection.onFirstAudioDecoded=e$2=>{var t$1;return this.onFirstAudioDecoded?.call(this,e$2)},this._p2pConnection.onFirstVideoRender=e$2=>{var t$1;return this.onFirstVideoRender?.call(this,e$2)},this._p2pConnection.onFirstVideoBufferReady=e$2=>{var t$1;return this.onFirstVideoBufferReady?.call(this,e$2)},this._p2pConnection.onFirstVideoDecoded=(e$2,t$1,i$1)=>{var n$1;return this.onFirstVideoDecoded?.call(this,e$2,t$1,i$1)},this._p2pConnection.onFirstVideoDecodedTimeout=e$2=>{var t$1;return this.onFirstVideoDecodedTimeout?.call(this,e$2)},this._p2pConnection.onSelectedLocalCandidateChanged=(e$2,t$1)=>{var i$1;return this.onSelectedLocalCandidateChanged?.call(this,e$2,t$1)},this._p2pConnection.onSelectedRemoteCandidateChanged=(e$2,t$1)=>{var i$1;return this.onSelectedRemoteCandidateChanged?.call(this,e$2,t$1)}}closeSignal(){this.dataChannel.close(),this.peerConnection.close()}unbindConnectionEvents(e$2){e$2.onConnectionStateChange=void 0,e$2.onICEConnectionStateChange=void 0,e$2.onICETransportStateChange=void 0,e$2.onDTLSTransportStateChange=void 0,e$2.onDTLSTransportError=void 0,e$2.onFirstAudioDecoded=void 0,e$2.onFirstAudioReceived=void 0,e$2.onFirstVideoDecoded=void 0,e$2.onFirstVideoReceived=void 0,e$2.onSelectedLocalCandidateChanged=void 0,e$2.onSelectedRemoteCandidateChanged=void 0,e$2.onFirstVideoDecodedTimeout=void 0}setConfiguration(e$2){this._p2pConnection.setConfiguration(e$2)}},DV(aJ.prototype,`connect`,[uJ],Object.getOwnPropertyDescriptor(aJ.prototype,`connect`),aJ.prototype),DV(aJ.prototype,`updateRemoteRTPCapabilities`,[uJ],Object.getOwnPropertyDescriptor(aJ.prototype,`updateRemoteRTPCapabilities`),aJ.prototype),DV(aJ.prototype,`createDataChannels`,[uJ],Object.getOwnPropertyDescriptor(aJ.prototype,`createDataChannels`),aJ.prototype),DV(aJ.prototype,`receive`,[uJ],Object.getOwnPropertyDescriptor(aJ.prototype,`receive`),aJ.prototype),DV(aJ.prototype,`stopReceiving`,[uJ],Object.getOwnPropertyDescriptor(aJ.prototype,`stopReceiving`),aJ.prototype),DV(aJ.prototype,`muteRemote`,[uJ],Object.getOwnPropertyDescriptor(aJ.prototype,`muteRemote`),aJ.prototype),DV(aJ.prototype,`unmuteRemote`,[uJ],Object.getOwnPropertyDescriptor(aJ.prototype,`unmuteRemote`),aJ.prototype),DV(aJ.prototype,`muteLocal`,[uJ],Object.getOwnPropertyDescriptor(aJ.prototype,`muteLocal`),aJ.prototype),DV(aJ.prototype,`unmuteLocal`,[uJ],Object.getOwnPropertyDescriptor(aJ.prototype,`unmuteLocal`),aJ.prototype),DV(aJ.prototype,`close`,[uJ],Object.getOwnPropertyDescriptor(aJ.prototype,`close`),aJ.prototype),DV(aJ.prototype,`updateEncoderConfig`,[uJ],Object.getOwnPropertyDescriptor(aJ.prototype,`updateEncoderConfig`),aJ.prototype),DV(aJ.prototype,`updateSendParameters`,[uJ],Object.getOwnPropertyDescriptor(aJ.prototype,`updateSendParameters`),aJ.prototype),DV(aJ.prototype,`replaceTrack`,[uJ],Object.getOwnPropertyDescriptor(aJ.prototype,`replaceTrack`),aJ.prototype),DV(aJ.prototype,`getRemoteSSRC`,[uJ],Object.getOwnPropertyDescriptor(aJ.prototype,`getRemoteSSRC`),aJ.prototype),aJ);function uJ(e$1,t$1,i$1){let n$1=e$1[t$1];if(typeof n$1!=`function`)throw Error(`Cannot use mutex on object property.`);return i$1.value=async function(){let i$2=await this.mutex.lock(`From DataChannelConnection.${t$1}`);try{var o$1=[...arguments];return await n$1.apply(this,o$1)}finally{i$2()}},i$1}function hJ(e$1,t$1){var i$1=Object.keys(e$1);if(Object.getOwnPropertySymbols){var n$1=Object.getOwnPropertySymbols(e$1);t$1&&(n$1=n$1.filter((function(t$2){return Object.getOwnPropertyDescriptor(e$1,t$2).enumerable}))),i$1.push.apply(i$1,n$1)}return i$1}class pJ extends NO{get url(){return this._url?this._url:null}get reconnectMode(){return this._reconnectMode}set reconnectMode(e$1){var t$1;Ln(t$1=[`tryNext`,`recover`]).call(t$1,e$1)&&this.resetReconnectCount(e$1),this._reconnectMode=e$1}get state(){return this._state}set state(e$1){e$1!==this._state&&(this._state=e$1,this._state===`reconnecting`?this.emit(wx.RECONNECTING,this.reconnectReason):this._state===`connected`?this.emit(wx.CONNECTED):this._state===`closed`?this.emit(wx.CLOSED):this._state===`failed`&&this.emit(wx.FAILED))}constructor(e$1,t$1,i$1,n$1){super(),iA(this,`connectionID`,0),iA(this,`currentURLIndex`,0),iA(this,`reconnectReason`,void 0),iA(this,`_reconnectMode`,`tryNext`),iA(this,`_initMutex`,void 0),iA(this,`_name`,void 0),iA(this,`_state`,`closed`),iA(this,`_reconnectInterrupter`,void 0),iA(this,`_url`,void 0),iA(this,`_retryConfig`,void 0),iA(this,`_reconnectCount`,0),iA(this,`_forceCloseTimeout`,5e3),iA(this,`_onlineReconnectListener`,void 0),iA(this,`_closeEstablishingTransmitter`,(()=>{})),iA(this,`_store`,void 0),iA(this,`_joinChannelServiceRecordIndex`,void 0),iA(this,`_transmitter`,void 0),iA(this,`_useCompress`,void 0),iA(this,`_inflateLength`,0),iA(this,`_deflateLength`,0),this._store=n$1,this._name=e$1,this._retryConfig=function(e$2){for(var t$2=1;t$2<arguments.length;t$2++){var i$2=arguments[t$2]==null?{}:arguments[t$2];t$2%2?hJ(Object(i$2),!0).forEach((function(t$3){iA(e$2,t$3,i$2[t$3])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e$2,Object.getOwnPropertyDescriptors(i$2)):hJ(Object(i$2)).forEach((function(t$3){Object.defineProperty(e$2,t$3,Object.getOwnPropertyDescriptor(i$2,t$3))}))}return e$2}({},t$1),this._useCompress=i$1}resetReconnectCount(e$1){iP.debug(`${this._name} reset reconnect count, reason: ${e$1}`),this._reconnectCount=0}close(e$1,t$1){if(this.currentURLIndex=0,this.resetReconnectCount(`close`),this._reconnectInterrupter&&this._reconnectInterrupter(),this._transmitter){this._transmitter.onclose=null,this._transmitter.onopen=null,this._transmitter.onmessage=null;let e$2=this._transmitter;t$1?setTimeout((()=>e$2.close()),500):e$2.close(),this._transmitter=void 0}this.state=e$1?`failed`:`closed`,this._closeEstablishingTransmitter&&this._closeEstablishingTransmitter()}reconnect(e$1,t$1){if(!this._transmitter)return void iP.warning(`[${this._name}] can not reconnect, no websocket`);var i$1;(e$1!==void 0&&(this.reconnectMode=e$1),iP.debug(`[${this._name}] reconnect is triggered initiative`),typeof this._joinChannelServiceRecordIndex==`number`)&&((i$1=this._store)==null||i$1.recordJoinChannelService({status:`error`,errors:[Error(t$1)]},this._joinChannelServiceRecordIndex));let n$1=this._transmitter.onclose;this._transmitter.onclose=null,this._transmitter.close(),n$1&&n$1.bind(this._transmitter)({code:9999,reason:t$1})}getInflateData(){let e$1=this._inflateLength,t$1=this._deflateLength;return this.clearInflateData(),{inflateLength:e$1,deflateLength:t$1}}setInflateData(e$1){this._deflateLength+=e$1.originLength,this._inflateLength+=e$1.compressedLength}clearInflateData(){this._inflateLength=0,this._deflateLength=0}}let _J=function(e$1){return e$1[e$1.Default=0]=`Default`,e$1[e$1.Ack=1]=`Ack`,e$1}({});class EJ{constructor(e$1,t$1,i$1){iA(this,`version`,1),iA(this,`initialRTO`,void 0),iA(this,`maxBatchAckCount`,void 0),iA(this,`maxRTO`,void 0),iA(this,`initialRTT`,void 0),iA(this,`ID`,void 0),iA(this,`rtt`,void 0),iA(this,`packetNumber`,1),iA(this,`rtoRatioMap`,new Map),iA(this,`timeoutMap`,new Map),iA(this,`unorderedPacketQueue`,[]),iA(this,`batchAckPacketQueue`,[]),iA(this,`lastOrderedPacketNumber`,0),iA(this,`batchAckTimer`,void 0),iA(this,`sendImpl`,void 0),iA(this,`receiveImpl`,void 0),this.sendImpl=e$1,this.receiveImpl=t$1,this.ID=SN(7,`transmitter-`),this.initialRTO=i$1?.initialRTO===void 0?CD(`TRANSMITTER_INITIAL_RTO`):i$1.initialRTO,this.initialRTT=i$1?.initialRTT===void 0?CD(`TRANSMITTER_INITIAL_RTT`):i$1.initialRTT,this.rtt=i$1?.initialRTT===void 0?CD(`TRANSMITTER_INITIAL_RTT`):i$1.initialRTT,this.maxBatchAckCount=i$1?.maxBatchAckCount===void 0?CD(`TRANSMITTER_MAX_BATCH_ACK_COUNT`):i$1.maxBatchAckCount,this.maxRTO=i$1?.maxRTO===void 0?CD(`TRANSMITTER_MAX_RTO`):i$1.maxRTO}packetize(e$1,t$1){return{type:_J.Default,version:this.version,packetNumber:t$1,payload:e$1}}serialize(e$1){switch(e$1.type){case _J.Default:{let t$1;t$1=typeof e$1.payload==`string`?new TextEncoder().encode(e$1.payload):e$1.payload;let i$1=new ArrayBuffer(t$1.length+15),n$1=new DataView(i$1);return n$1.setUint16(0,e$1.version),n$1.setUint8(2,e$1.type),n$1.setUint32(3,e$1.packetNumber),vO(n$1,7,BigInt(e$1.sendTs)),new Uint8Array(n$1.buffer).set(t$1,15),i$1}case _J.Ack:{let t$1=new ArrayBuffer(16),i$1=new DataView(t$1);return i$1.setUint16(0,e$1.version),i$1.setUint8(2,e$1.type),i$1.setUint32(3,e$1.maxAckPacketNumber),i$1.setUint8(7,e$1.shift),vO(i$1,8,BigInt(e$1.ackSendTs)),t$1}}}deserialize(e$1){let t$1=new DataView(e$1),i$1=t$1.getUint16(0),n$1=t$1.getUint8(2);switch(n$1){case _J.Default:{let r$1=t$1.getUint32(3),o$1=CO(t$1,7),s$1=e$1.slice(15),a$1=new Uint8Array(s$1);return{version:i$1,type:n$1,packetNumber:r$1,sendTs:Number(o$1),payload:a$1}}case _J.Ack:{let e$2=t$1.getUint32(3),r$1=t$1.getUint8(7),o$1=CO(t$1,8);return{version:i$1,type:n$1,maxAckPacketNumber:e$2,shift:r$1,ackSendTs:Number(o$1)}}default:throw iP.error(`[${this.ID}] Unrecognized packet type ${n$1}`),Error(`Unrecognized packet type ${n$1}`)}}sendMessage(e$1){CD(`DC_DEBUG_LOG`)&&typeof e$1==`string`&&iP.debug(`[${this.ID}] sending message packet`,JSON.parse(e$1));let t$1=this.packetize(e$1,this.packetNumber);this.packetNumber=this.packetNumber===4294967295?1:this.packetNumber+1;let i$1=this.calculateRTO(t$1),n$1=window.setTimeout((()=>{this.resendMessage(t$1)}),i$1);this.timeoutMap.set(t$1.packetNumber,n$1),this.sendPacket(t$1)}onData(e$1){let t$1=this.deserialize(e$1);t$1.type===_J.Default?this.ack(t$1):t$1.type===_J.Ack&&(this.updateRTT(t$1,Math.round(performance.now())),this.clearRTO(t$1))}close(){this.rtt=this.initialRTT,this.packetNumber=1,Array.from(this.timeoutMap.entries()).forEach((e$1=>{let[t$1,i$1]=e$1;window.clearTimeout(i$1)})),this.timeoutMap=new Map,this.rtoRatioMap=new Map,this.unorderedPacketQueue=[],this.batchAckPacketQueue=[],this.lastOrderedPacketNumber=0,this.batchAckTimer!==void 0&&window.clearTimeout(this.batchAckTimer)}resendMessage(e$1){let t$1=this.calculateRTO(e$1),i$1=window.setTimeout((()=>{CD(`DC_DEBUG_LOG`)&&typeof e$1.payload==`string`&&iP.debug(`[${this.ID}] resending message packet`,JSON.parse(e$1.payload),`timeout: ${t$1}`),this.resendMessage(e$1)}),t$1);this.timeoutMap.set(e$1.packetNumber,i$1),this.sendPacket(e$1)}calculateRTO(e$1){let t$1=this.rtoRatioMap.get(e$1.packetNumber);if(t$1===void 0)return this.rtoRatioMap.set(e$1.packetNumber,1),this.initialRTO;{let i$1=9*this.rtt/8*t$1;return this.rtoRatioMap.set(e$1.packetNumber,t$1+1),i$1>this.maxRTO?this.maxRTO:i$1}}updateRTT(e$1,t$1){let i$1=e$1.ackSendTs;this.rtt=this.rtt*(7/8)+(t$1-i$1-this.rtt)/8}ack(e$1){if(e$1.packetNumber===this.lastOrderedPacketNumber+1)for(this.batchAckPacketQueue.length>=this.maxBatchAckCount&&this.batchAck(),this.batchAckTimer?this.batchAckPacketQueue.push(e$1):(this.batchAckPacketQueue.push(e$1),this.batchAckTimer=window.setTimeout((()=>{this.batchAck()}),this.rtt/8)),this.lastOrderedPacketNumber+=1,this.receiveImpl(e$1.payload);;){let e$2=this.unorderedPacketQueue[0];if(!e$2){this.unorderedPacketQueue.shift();break}this.batchAckTimer&&this.batchAck(),this.receiveImpl(e$2.payload),this.unorderedPacketQueue.shift(),this.lastOrderedPacketNumber+=1}else if(e$1.packetNumber<=this.lastOrderedPacketNumber){let t$1={ackSendTs:e$1.sendTs,maxAckPacketNumber:e$1.packetNumber,shift:0,type:_J.Ack,version:this.version};CD(`DC_DEBUG_LOG`)&&iP.debug(`[${this.ID}] sending ack packet`,t$1,`packetNumber: ${e$1.packetNumber}`),this.sendPacket(t$1)}else if(e$1.packetNumber>this.lastOrderedPacketNumber){this.unorderedPacketQueue[e$1.packetNumber-this.lastOrderedPacketNumber-2]=e$1;let t$1={ackSendTs:e$1.sendTs,maxAckPacketNumber:e$1.packetNumber,shift:0,type:_J.Ack,version:this.version};CD(`DC_DEBUG_LOG`)&&iP.debug(`[${this.ID}] sending ack packet`,t$1,`packetNumber: ${e$1.packetNumber}`),this.sendPacket(t$1)}}batchAck(){window.clearTimeout(this.batchAckTimer),this.batchAckTimer=void 0;let e$1={ackSendTs:this.batchAckPacketQueue[this.batchAckPacketQueue.length-1].sendTs,maxAckPacketNumber:this.batchAckPacketQueue[this.batchAckPacketQueue.length-1].packetNumber,shift:this.batchAckPacketQueue.length-1,type:_J.Ack,version:this.version};CD(`DC_DEBUG_LOG`)&&iP.debug(`[${this.ID}] sending batch ack packet`,e$1,`shift: ${this.batchAckPacketQueue.length-1}`),this.sendPacket(e$1),this.batchAckPacketQueue=[]}sendPacket(e$1){e$1.type===_J.Default&&(e$1.sendTs=Math.round(performance.now()));let t$1=this.serialize(e$1);this.sendImpl(t$1)}clearRTO(e$1){for(let t$1=e$1.maxAckPacketNumber-e$1.shift;t$1<=e$1.maxAckPacketNumber;t$1++){let e$2=this.timeoutMap.get(t$1);e$2!==void 0&&window.clearTimeout(e$2),this.timeoutMap.delete(t$1),this.rtoRatioMap.delete(t$1)}}}class mJ extends pJ{constructor(e$1,t$1){super(e$1,t$1,arguments.length>2&&arguments[2]!==void 0&&arguments[2],arguments.length>3?arguments[3]:void 0),iA(this,`_initMutex`,void 0),iA(this,`_reconnectInterrupter`,void 0),iA(this,`_url`,void 0),iA(this,`_transmitter`,void 0),iA(this,`_addresses`,void 0),iA(this,`_reliableTransmission`,void 0),iA(this,`_textEncoder`,void 0),iA(this,`_textDecoder`,void 0),this._textEncoder=new TextEncoder,this._textDecoder=new TextDecoder,this._initMutex=new PN(`datachannel`);let{timeout:i$1,timeoutFactor:n$1}=t$1,r$1=Math.max(300,Math.floor(3*i$1/5)),o$1=Math.max(1.2,Math.floor(8*n$1)/10);KO.ONLINE&&(this._retryConfig.timeout=r$1,this._retryConfig.timeoutFactor=o$1),QO.on(YO.NETWORK_STATE_CHANGE,((e$2,t$2)=>{e$2!==t$2&&(this.resetReconnectCount(`network state change: ${t$2} -> ${e$2}`),e$2===KO.ONLINE?(this._retryConfig.timeout=r$1,this._retryConfig.timeoutFactor=o$1):(this._retryConfig.timeout=i$1,this._retryConfig.timeoutFactor=n$1))}))}getConnection(){if(this._reliableTransmission)return this._reliableTransmission}async init(e$1){this._forceCloseTimeout=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5e3;let i$1=(t$1,i$2)=>{this._addresses=e$1,this.currentURLIndex=this._addresses.findIndex((e$2=>e$2.fingerprint||CD(`FINGERPRINT`)));let n$1=this._addresses[this.currentURLIndex];this.state=`connecting`,this.createTransmitterConnection(n$1).then(t$1).catch(i$2),this.once(wx.CLOSED,(()=>i$2(new uP(hO.WS_DISCONNECT)))),this.once(wx.CONNECTED,(()=>t$1()))};return this._initMutex.lock().then((e$2=>new rp(((e$3,t$1)=>{i$1(e$3,t$1)})).then((()=>{e$2()})).catch((()=>{e$2()}))))}async sendMessage(e$1){let t$1=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!this._transmitter||!this._reliableTransmission)throw new uP(hO.WS_ABORT,`datachannel is not ready`);try{t$1||(e$1=JSON.stringify(e$1));let n$1=hq(this._textEncoder.encode(e$1),{raw:!0});this._reliableTransmission.sendMessage(n$1)}catch(e$2){throw new uP(hO.WS_ERR,`send datachannel signal message error`+e$2.toString())}}unbindDcCloseEventListener(){this._transmitter&&(this._transmitter.onclose=null)}sendMessageWithJSON(e$1){let t$1=JSON.stringify(e$1);return{compressed:t$1,compressedLength:t$1.length,origin:e$1}}sendMessageWithUint8Array(e$1){return{compressed:e$1,compressedLength:e$1.byteLength,origin:e$1}}createTransmitterConnection(e$1){return this.connectionID+=1,this._joinChannelServiceRecordIndex=void 0,this._url=`dc://${e$1.ip}:${e$1.port}`,new rp(((t$1,i$1)=>{var n$1;let r$1=()=>{iP.debug(`[${this._name}] datachannel opened:`,this._url),this.reconnectMode=`recover`,this.state=`connected`,this.resetReconnectCount(`opened`),t$1()},o$1=async e$2=>{var n$2;if((n$2=this._closeEstablishingTransmitter)==null||n$2.call(this),iP.debug(`[${this._name}] datachannel close ${this._url}, code: ${e$2.code}, reason: ${e$2.reason}, current mode: ${this.reconnectMode}`),this._reconnectCount<this._retryConfig.maxRetryCount){this.state===`connected`&&(this.reconnectReason=e$2.reason,this.state=`reconnecting`);let n$3=XO(this,wx.WILL_RECONNECT,this.reconnectMode)||this.reconnectMode,r$2=await this.reconnectWithAction(n$3);if(this.state===`closed`)return void iP.debug(`[${this.connectionID}] dc is closed, no need to reconnect`);if(!r$2)return i$1(new uP(hO.WS_DISCONNECT,`datachannel reconnect failed: ${e$2.code}`)),void this.close(!0);t$1()}else i$1(new uP(hO.WS_DISCONNECT,`datachannel close: ${e$2.code}`)),this.close()},s$1=async e$2=>{try{var t$2;(t$2=this._reliableTransmission)==null||t$2.onData(e$2.data)}catch(e$3){console.log(e$3)}};this._transmitter&&(this._transmitter.onclose=null,this._transmitter.close()),this._reliableTransmission&&=(this._reliableTransmission.close(),void 0),iP.debug(`[${this._name}] start connect, address: ${JSON.stringify(e$1)}`);let a$1=this._store?.recordJoinChannelService({startTs:Date.now(),status:`pending`,service:`gateway`}),c$1=Date.now();zO(this,wx.TO_CONNECT_DATACHANNEL).then((e$2=>{var t$2,i$2;if(!e$2)throw Error(`transmissonInfo not exist yet`);let{transmitter:n$2,close:d$1}=e$2;this._transmitter=n$2,(t$2=this._store)==null||t$2.signalChannelOpen();let l$1=Date.now()-c$1;iP.debug(`[choose dc] dc open cost ${l$1}ms`),this._reliableTransmission=new EJ((e$3=>{var t$3;this._transmitter&&this._transmitter.readyState===`open`&&((t$3=this._transmitter)==null||t$3.send(e$3))}),(e$3=>{if(typeof e$3==`string`)this.emit(wx.ON_MESSAGE,e$3);else{let t$3=_q(e$3,{raw:!0}).buffer,i$3=this._textDecoder.decode(t$3);this.emit(wx.ON_MESSAGE,i$3)}})),this._closeEstablishingTransmitter=()=>{var e$3;(e$3=this._reliableTransmission)==null||e$3.close(),this._reliableTransmission=void 0,d$1()},r$1&&r$1(),n$2.onclose=o$1,n$2.onmessage=s$1,(i$2=this._store)==null||i$2.recordJoinChannelService({endTs:Date.now(),status:`success`},a$1),this._joinChannelServiceRecordIndex=a$1})).catch((e$2=>{var t$2;if((t$2=this._store)==null||t$2.recordJoinChannelService({endTs:Date.now(),status:e$2 instanceof uP&&e$2.code===hO.WS_ABORT?`aborted`:`error`,errors:[e$2]},a$1),this.state!==`closed`){if(e$2 instanceof uP&&e$2.code===hO.WS_ERR){let t$3=new uP(hO.WS_ERR,`init datachannel failed! Error: ${e$2.toString()}`);iP.error(`[${this._name}]${t$3}`),i$1(t$3);return}o$1&&o$1(e$2)}else i$1(new uP(hO.WS_DISCONNECT,`datachannel is closed: ${e$2.toString()}`))}))}))}async reconnectWithAction(e$1){let t$1=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(this._reconnectCount>=this._retryConfig.maxRetryCount||!this._addresses||this.state===`closed`)return!1;this._onlineReconnectListener||QO.networkState!==KO.OFFLINE||(this._onlineReconnectListener=QO.onlineWaiter&&QO.onlineWaiter.then((()=>{this._onlineReconnectListener=void 0})));let i$1=!0;if(this._reconnectInterrupter=()=>{i$1=!1},t$1){let t$2=MN(this._reconnectCount,this._retryConfig);iP.debug(`[${this._name}] wait ${t$2}ms to reconnect datachannel, mode: ${e$1}`),await rp.race([fN(t$2),this._onlineReconnectListener||new rp((()=>{}))])}if(this.state===`closed`||!i$1)return!1;this._reconnectCount+=1;let n$1=async(e$2,t$2)=>{this.emit(wx.RECONNECT_CREATE_CONNECTION,t$2),await this.createTransmitterConnection(e$2)};try{if(e$1===`retry`){let t$2=this._addresses[this.currentURLIndex];await n$1(t$2,e$1)}else if(e$1===`tryNext`){this.currentURLIndex+=1;for(let e$2=this.currentURLIndex;e$2<this._addresses.length;e$2++){if(this._addresses[e$2].fingerprint||CD(`FINGERPRINT`)){this.currentURLIndex=e$2;break}this.currentURLIndex+=1}if(this.currentURLIndex>=this._addresses.length)return iP.debug(`[${this._name}] the available addresses are exhausted, change to recover`),await this.reconnectWithAction(`recover`,!1);iP.debug(`[${this._name}] datachannel url length: ${this._addresses.length} current index: ${this.currentURLIndex}`);let t$2=this._addresses[this.currentURLIndex];await n$1(t$2,e$1)}else e$1===`recover`&&(iP.debug(`[${this._name}] start to failback to websocket`),this.resetReconnectCount(`recover mode`),this.emit(wx.FAILBACK));return!0}catch(i$2){var r$1,o$1;return iP.error(`[${this._name}] reconnect failed`,i$2.toString()),i$2!=null&&(r$1=i$2.data)!=null&&r$1.desc&&Array.isArray(i$2.data.desc)&&i$2.data.desc.length&&Ln(o$1=i$2.data.desc).call(o$1,`dynamic key expired`)?(this.emit(wx.ON_TOKEN_PRIVILEGE_DID_EXPIRE),!1):await this.reconnectWithAction(e$1,t$1)}}}class fJ extends NO{get connectionState(){return this._connectionState}set connectionState(e$1){e$1!==this._connectionState&&(this._connectionState=e$1,e$1===VV.CONNECTED?this.emit(xV.WS_CONNECTED):e$1===VV.RECONNECTING?this.emit(xV.WS_RECONNECTING,this._websocketReconnectReason):e$1===VV.CLOSED&&this.emit(xV.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket?this.websocket.url:null}get rtt(){return this.rttRolling.mean()}processPendingNotifications(){this.pendingNotifications.length!==0&&(iP.debug(`[${this.clientId}] processing ${this.pendingNotifications.length} pending notifications`),this.pendingNotifications.forEach((e$1=>{let{type:t$1,message:i$1}=e$1;this.emit(t$1,i$1),t$1===jV.ON_NOTIFICATION&&this.handleNotification(i$1),t$1===jV.ON_USER_BANNED&&this.handleUserBanned(i$1)})),this.pendingNotifications=[])}handleUserBanned(e$1){switch(e$1.error_code){case 14:this.close(VO.UID_BANNED);break;case 15:this.close(VO.IP_BANNED);break;case 16:this.close(VO.CHANNEL_BANNED)}}constructor(e$1,t$1){super(),iA(this,`__name__`,`DataChannelSignal`),iA(this,`_disconnectedReason`,void 0),iA(this,`_websocketReconnectReason`,void 0),iA(this,`_connectionState`,VV.CLOSED),iA(this,`reconnectToken`,void 0),iA(this,`websocket`,void 0),iA(this,`openConnectionTime`,void 0),iA(this,`clientId`,void 0),iA(this,`lastMsgTime`,Date.now()),iA(this,`uploadCache`,[]),iA(this,`uploadCacheInterval`,void 0),iA(this,`rttRolling`,new xN(5)),iA(this,`pingpongTimer`,void 0),iA(this,`inflateDataTimer`,void 0),iA(this,`pingpongTimeoutCount`,0),iA(this,`ortc`,void 0),iA(this,`joinResponse`,void 0),iA(this,`multiIpOption`,void 0),iA(this,`initError`,void 0),iA(this,`spec`,void 0),iA(this,`store`,void 0),iA(this,`isJoining`,!1),iA(this,`pendingNotifications`,[]),iA(this,`onWebsocketMessage`,(e$2=>{if(e$2 instanceof ArrayBuffer)return void this.emit(xV.ON_BINARY_DATA,e$2);let t$2=JSON.parse(e$2);if(CD(`DC_DEBUG_LOG`)&&iP.debug(`[datachannel-signal] received packet`,t$2),this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(t$2,`_id`)){let e$3=`res-@${t$2._id}`;this.emit(e$3,t$2._result,t$2._message)}else Object.prototype.hasOwnProperty.call(t$2,`_type`)&&(this.isJoining?t$2._type===jV.ON_NOTIFICATION||t$2._type===jV.ON_USER_BANNED?(this.emit(t$2._type,t$2._message),t$2._type===jV.ON_NOTIFICATION&&this.handleNotification(t$2._message),t$2._type===jV.ON_USER_BANNED&&this.handleUserBanned(t$2._message)):(this.pendingNotifications.push({type:t$2._type,message:t$2._message}),iP.debug(`[${this.clientId}] cached notification during join: ${t$2._type}`)):(this.emit(t$2._type,t$2._message),t$2._type===jV.ON_NOTIFICATION&&this.handleNotification(t$2._message),t$2._type===jV.ON_USER_BANNED&&this.handleUserBanned(t$2._message)))})),this.clientId=e$1.clientId,this.spec=e$1,this.store=t$1,this.websocket=new mJ(`gateway-${this.clientId}`,this.spec.retryConfig,!0,t$1),this.handleWebsocketEvents(),window.addEventListener(`offline`,(()=>{this.connectionState===VV.CONNECTED&&this.reconnect(`retry`,bx.OFFLINE)}))}async request(e$1,t$1,i$1,n$1){let r$1=SN(6,``),o$1={_id:r$1,_type:e$1,_message:t$1},s$1=this.websocket.connectionID,a$1=()=>new rp(((t$2,i$2)=>{if(this.connectionState===VV.CONNECTED)return t$2();let n$2=()=>{this.off(xV.WS_CLOSED,r$2),t$2()},r$2=()=>{this.off(xV.WS_CONNECTED,n$2),i$2(new uP(hO.WS_ABORT))};this.once(xV.WS_CONNECTED,n$2),this.once(xV.WS_CLOSED,r$2),e$1!==FV.PUBLISH&&e$1!==FV.SUBSCRIBE&&e$1!==FV.UNSUBSCRIBE&&e$1!==FV.UNPUBLISH&&e$1!==FV.CONTROL&&e$1!==FV.RESTART_ICE||this.once(xV.DISCONNECT_P2P,(()=>{i$2(new uP(hO.DISCONNECT_P2P))})),e$1!==FV.PUBLISH&&e$1!==FV.RESTART_ICE||this.once(xV.ABORT_P2P_EXECUTION,(()=>{i$2(new uP(hO.DISCONNECT_P2P))}))}));if(this.connectionState!==VV.CONNECTING&&this.connectionState!==VV.RECONNECTING||e$1===FV.JOIN||e$1===FV.REJOIN||await a$1(),e$1===FV.LEAVE&&(this.websocket.unbindDcCloseEventListener(),n$1=!0),CD(`DC_DEBUG_LOG`)&&iP.debug(`[datachannel-signal] sendMessage`,o$1),await this.websocket.sendMessage(o$1,!0,!1),n$1)return;let c$1=new rp(((i$2,n$2)=>{let o$2=!1,a$2=(n$3,r$2)=>{o$2=!0,i$2({isSuccess:n$3===`success`,message:r$2||{}}),this.off(xV.WS_CLOSED,c$2),this.off(xV.WS_RECONNECTING,c$2),this.emit(xV.REQUEST_SUCCESS,e$1,t$1)};this.once(`res-@${r$1}`,a$2);let c$2=()=>{n$2(new uP(hO.WS_ABORT,`type: ${e$1}`)),this.off(xV.WS_CLOSED,c$2),this.off(xV.WS_RECONNECTING,c$2),this.off(`res-@${r$1}`,a$2)};this.once(xV.WS_CLOSED,c$2),this.once(xV.WS_RECONNECTING,c$2),fN(CD(`SIGNAL_REQUEST_TIMEOUT`)).then((()=>{this.websocket.connectionID!==s$1||o$2||(iP.warning(`dc request timeout, type: ${e$1}`),this.emit(xV.REQUEST_TIMEOUT,e$1,t$1))}))})),d$1=null;try{d$1=await c$1}catch(n$2){if(this.connectionState===VV.CLOSED||e$1===FV.LEAVE)throw new uP(hO.WS_ABORT);return!this.spec.forceWaitGatewayResponse||i$1?n$2.throw():e$1===FV.JOIN||e$1===FV.REJOIN?null:(await a$1(),await this.request(e$1,t$1))}if(d$1.isSuccess)return d$1.message;let l$1=Number(d$1.message.error_code||d$1.message.code),u$1=Bx(l$1),h$1=new uP(hO.UNEXPECTED_RESPONSE,`${u$1.desc}: ${d$1.message.error_str}`,{code:l$1,data:d$1.message});return u$1.action===`success`?d$1.message:(iP.warning(`[${this.websocket.connectionID}] unexpected response from type ${e$1}, error_code: ${l$1}, message: ${u$1.desc}, action: ${u$1.action}`),l$1===UV.ERR_TOO_MANY_BROADCASTERS?e$1===FV.JOIN||e$1===FV.REJOIN?(this.initError=h$1,this.close(),h$1.throw()):h$1.throw():u$1.action===`failed`?h$1.throw():u$1.action===`quit`?(this.initError=h$1,this.close(),h$1.throw()):(l$1===UV.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=d$1.message.option,iP.warning(`[${this.clientId}] detect multi ip, recover`),this.reconnect(`recover`,bx.MULTI_IP)):this.reconnect(u$1.action,bx.SERVER_ERROR),e$1===FV.JOIN||e$1===FV.REJOIN?null:await this.request(e$1,t$1)))}waitMessage(e$1,t$1){return new rp((i$1=>{let n$1=r$1=>{(!t$1||t$1(r$1))&&(this.off(e$1,n$1),i$1(r$1))};this.on(e$1,n$1)}))}uploadWRTCStats(e$1){if(!this.store.sessionId)return void iP.warn(`[${this.clientId}] no session id when upload wrtc stats`);let t$1={lts:Date.now(),sid:this.store.sessionId,uid:this.store.intUid,stats:e$1};this.upload(BV.WRTC_STATS,t$1)}upload(e$1,t$1){let i$1={_type:e$1,_message:t$1};try{this.websocket.sendMessage(i$1)}catch{let t$2=CD(`MAX_UPLOAD_CACHE`)||50;this.uploadCache.push(i$1),this.uploadCache.length>t$2&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval((()=>{if(this.connectionState!==VV.CONNECTED)return;let e$3=this.uploadCache.splice(0,1)[0];this.uploadCache.length===0&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(e$3._type,e$3._message)}),CD(`UPLOAD_CACHE_INTERVAL`)||2e3))}}async send(e$1,t$1){let i$1={_type:e$1,_message:t$1};await this.websocket.sendMessage(i$1)}init(e$1){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new rp(((t$1,i$1)=>{this.once(xV.WS_CONNECTED,(()=>t$1(this.joinResponse))),this.once(xV.WS_CLOSED,(()=>i$1(this.initError||new uP(hO.WS_ABORT)))),this.connectionState=VV.CONNECTING,this.websocket.init(e$1).catch(i$1),this.websocket.once(wx.FAILBACK,(()=>{i$1(new uP(hO.INIT_DATACHANNEL_TIMEOUT))})),this.inflateDataTimer&&window.clearInterval(this.inflateDataTimer),this.inflateDataTimer=window.setInterval((()=>{this.handleInflateData()}),2e4),setTimeout((()=>{this.openConnectionTime===void 0&&(iP.debug(`[${this.clientId}] init datachannel timeout while join with failback to websocket`),i$1(new uP(hO.INIT_DATACHANNEL_TIMEOUT)))}),CD(`DC_JOIN_WITH_FAILBACK`))}))}close(e$1){this.pingpongTimer&&=(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),void 0),this.inflateDataTimer&&=(this.handleInflateData(),window.clearInterval(this.inflateDataTimer),void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this.isJoining=!1,this.pendingNotifications=[],this._disconnectedReason=e$1||VO.LEAVE,this.connectionState=VV.CLOSED,iP.debug(`[${this.clientId}] will close datachannel in signal`),this.websocket.close(),e$1===VO.FALLBACK&&(this.websocket.removeAllListeners(),this.websocket=new mJ(`gateway-${this.clientId}`,this.spec.retryConfig,!0,this.store),this.handleWebsocketEvents())}async join(){if(this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),CD(`DC_PINGPONG_INTERVAL`)),!this.joinResponse){this.emit(xV.ABORT_P2P_EXECUTION),this.store.signalConnected();let e$1=await zO(this,xV.REQUEST_JOIN_INFO);this.store.joinReq(),this.isJoining=!0,this.pendingNotifications=[];let t$1=await this.request(FV.JOIN,e$1);if(this.store.joinRep(),this.ortc=e$1?.ortc,!t$1)return this.emit(xV.REPORT_JOIN_GATEWAY,hO.TIMEOUT,this.url||``),!1;this.joinResponse=t$1,this.emit(xV.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=VV.CONNECTED,this.isJoining=!1,this.processPendingNotifications(),!0}async rejoin(){if(!this.reconnectToken)throw new uP(hO.UNEXPECTED_ERROR,`can not rejoin, no rejoin token`);let e$1=JO(this,xV.REQUEST_REJOIN_INFO);e$1.token=this.reconnectToken;let t$1=await this.request(FV.REJOIN,e$1);return!!t$1&&(this.connectionState=VV.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),CD(`DC_PINGPONG_INTERVAL`)),t$1.peers&&t$1.peers.forEach((e$2=>{this.emit(jV.ON_USER_ONLINE,{uid:e$2.uid}),e$2.audio&&this.emit(jV.ON_ADD_AUDIO_STREAM,{uid:e$2.uid,uint_id:e$2.uint_id,audio:!0,ssrcId:e$2.audio_ssrc}),e$2.video&&this.emit(jV.ON_ADD_VIDEO_STREAM,{uid:e$2.uid,uint_id:e$2.uint_id,video:!0,ssrcId:e$2.video_ssrc}),e$2.audio_mute?this.emit(jV.MUTE_AUDIO,{uid:e$2.uid}):this.emit(jV.UNMUTE_AUDIO,{uid:e$2.uid}),e$2.video_mute?this.emit(jV.MUTE_VIDEO,{uid:e$2.uid}):this.emit(jV.UNMUTE_VIDEO,{uid:e$2.uid}),e$2.audio_enable_local?this.emit(jV.ENABLE_LOCAL_AUDIO,{uid:e$2.uid}):this.emit(jV.DISABLE_LOCAL_AUDIO,{uid:e$2.uid}),e$2.video_enable_local?this.emit(jV.ENABLE_LOCAL_VIDEO,{uid:e$2.uid}):this.emit(jV.DISABLE_LOCAL_VIDEO,{uid:e$2.uid}),e$2.audio||e$2.video||this.emit(jV.ON_REMOVE_STREAM,{uid:e$2.uid,uint_id:e$2.uint_id})})),!0)}reconnect(e$1,t$1){this.pingpongTimer&&=(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),void 0),this.websocket.reconnect(e$1,t$1)}async downgradeCodec(e$1){if(!this.ortc)return!1;let t$1={downgrade_codec:e$1,ortc:this.ortc};return!!await this.request(FV.DOWNGRADE_CODEC,t$1)}handleNotification(e$1){iP.debug(`[${this.clientId}] receive notification: `,e$1);let t$1=Bx(e$1.code);if(t$1.action!==`success`){if(t$1.action!==`failed`)return t$1.action===`quit`?(t$1.desc===`ERR_REPEAT_JOIN_CHANNEL`&&this.close(VO.UID_BANNED),void this.close()):void this.reconnect(t$1.action,bx.SERVER_ERROR);iP.error(`[${this.clientId}] ignore error: `,t$1.desc)}}handlePingPong(){if(!this.websocket||this.websocket.state!==`connected`)return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1,CD(`DC_DEBUG_LOG`)&&console.debug(`[datachannel-signal] pingpongTimeoutCount: ${this.pingpongTimeoutCount}`);let e$1=CD(`PING_PONG_TIME_OUT`),t$1=Date.now();this.pingpongTimeoutCount>=e$1&&(iP.warning(`[datachannel-signal] PINGPONG Timeout. Last Socket Message: ${t$1-this.lastMsgTime}ms`),t$1-this.lastMsgTime>CD(`WEBSOCKET_TIMEOUT_MIN`))?this.reconnect(`recover`,bx.FALLBACK):this.request(FV.PING,void 0,!0).then((()=>{this.pingpongTimeoutCount=0;let e$2=Date.now()-t$1;this.rttRolling.add(e$2),CD(`REPORT_STATS`)&&this.send(FV.PING_BACK,{pingpongElapse:e$2})})).catch((e$2=>{}))}handleInflateData(){let{inflateLength:e$1,deflateLength:t$1}=this.websocket.getInflateData();e$1!==0&&t$1!==0&&this.upload(BV.WS_INFLATE_DATA_LENGTH,{ws_deflate_length:t$1,ws_inflate_length:e$1})}handleWebsocketEvents(){this.websocket.on(wx.RECONNECT_CREATE_CONNECTION,(e$1=>{this.emit(xV.WS_RECONNECT_CREATE_CONNECTION,e$1)})),this.websocket.on(wx.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(wx.CLOSED,(()=>{this.connectionState=VV.CLOSED})),this.websocket.on(wx.FAILED,(()=>{this._disconnectedReason=VO.NETWORK_ERROR,this.connectionState=VV.CLOSED})),this.websocket.on(wx.RECONNECTING,(e$1=>{this._websocketReconnectReason=e$1,this.joinResponse=void 0,this.connectionState===VV.CONNECTED?this.connectionState=VV.RECONNECTING:this.connectionState=VV.CONNECTING})),this.websocket.on(wx.WILL_RECONNECT,((e$1,t$1)=>{if(JO(this,xV.IS_P2P_DISCONNECTED)&&e$1===`retry`)return iP.debug(`${this.clientId} reconnect mode is retry, but p2p lost, change to tryNext`),this.reconnectToken=void 0,this.emit(xV.NEED_RENEW_SESSION),this.emit(xV.DISCONNECT_P2P),t$1(`tryNext`);e$1!==`retry`&&(iP.debug(`${this.clientId} websockt will_connect event, renewSession reconnectMode is ${e$1}`),this.reconnectToken=void 0,this.emit(xV.NEED_RENEW_SESSION),this.emit(xV.DISCONNECT_P2P)),t$1(e$1)})),this.websocket.on(wx.CONNECTED,(()=>{this.openConnectionTime=Date.now(),this.reconnectToken?this.rejoin().catch((e$1=>{iP.warning(`[${this.clientId}] rejoin failed ${e$1}`),this.reconnect(`tryNext`,bx.SERVER_ERROR)})):this.join().catch((e$1=>{if(this.emit(xV.REPORT_JOIN_GATEWAY,e$1.message||e$1.code,this.url||``),e$1 instanceof uP&&e$1.code===hO.UNEXPECTED_RESPONSE&&e$1.data.code===UV.ERR_NO_AUTHORIZED)return iP.warning(`[${this.clientId}] reconnect no authorized, recover`),void this.reconnect(`recover`,bx.SERVER_ERROR);iP.error(`[${this.clientId}] join gateway request failed`,e$1.toString()),this.spec.forceWaitGatewayResponse?this.reconnect(`tryNext`,bx.SERVER_ERROR):(this.initError=e$1,this.close())}))})),this.websocket.on(wx.REQUEST_NEW_URLS,((e$1,t$1)=>{zO(this,xV.REQUEST_RECOVER,this.multiIpOption).then(e$1).catch(t$1)})),this.websocket.on(wx.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(()=>{this.emit(jV.ON_TOKEN_PRIVILEGE_DID_EXPIRE)})),this.websocket.on(wx.TO_CONNECT_DATACHANNEL,((e$1,t$1)=>{zO(this,xV.PRE_CONNECT_PC).then(e$1).catch(t$1)})),this.websocket.on(wx.FAILBACK,(()=>{this.openConnectionTime!==void 0&&this.emit(xV.DATACHANNEL_FAILBACK)}))}}let SJ={name:`DataChannelConnection`,create:function(e$1){let{store:t$1,spec:i$1}=e$1;return new lJ(i$1,t$1)}},gJ={name:`DataChannelSignal`,create:function(e$1){let{store:t$1,spec:i$1}=e$1;return new fJ(i$1,t$1)}};uD(),RD(`PROCESS_ID`,`process-${SN(8,``)}-${SN(4,``)}-${SN(4,``)}-${SN(4,``)}-${SN(12,``)}`),function(){let e$1;try{e$1=window.localStorage.getItem(`websdk_ng_global_parameter`)}catch(e$2){iP.error(`Error loading sdk config`,e$2.message);return}if(e$1)try{let t$1=JSON.parse(window.atob(e$1)),i$1=Date.now();iP.debug(`Loading global parameters from cache`,t$1),Object.keys(t$1).forEach((e$2=>{if(Object.prototype.hasOwnProperty.call(TD,e$2)){let{value:n$1,expires:r$1}=t$1[e$2];if(r$1&&r$1<=i$1)return;yD[e$2]=n$1,TD[e$2]=n$1}}))}catch(t$1){iP.error(`Error loading mutableParamsCache: ${e$1}`,t$1.message)}}(),Array.isArray(yD.AREAS)&&yD.AREAS.length>0&&vB(yD.AREAS,!0);let TJ=(e$1,t$1,i$1)=>{iP.debug(`setParameter key:${e$1}, value:${JSON.stringify(t$1)}`),RD(e$1,t$1,i$1)};rB(Tq,!1),rB(bq,!1),rB(PW,!1),rB(rX,!1),rB(fq,!1),rB(HX,!1),rB($X,!1),rB(tJ,!1),rB(SJ,!1),rB(gJ,!1);let RJ=function(e$1){let t$1=new NO,i$1=e$1,n$1={getListeners:t$1.getListeners.bind(t$1),on:(e$2,i$2)=>(function(e$3,t$2){e$3===Ox.SECURITY_POLICY_VIOLATION&&MH(t$2,!0)}(e$2,i$2),t$1.on.bind(t$1)(e$2,i$2)),addListener:t$1.addListener.bind(t$1),once:t$1.once.bind(t$1),off:t$1.off.bind(t$1),removeAllListeners:t$1.removeAllListeners.bind(t$1),emit:t$1.emit.bind(t$1),safeEmit:t$1.safeEmit.bind(t$1)};return LH(LH({},i$1),n$1)}({__TRACK_LIST__:kP,VERSION:hD,BUILD:SD,ESM_BUNDLER:!1,ESM:!1,UMD:!0,DEV:!1,setParameter:TJ,getParameter:CD,getSupportedCodec:async function(){let e$1={audio:[],video:[]};try{let t$1=new RTCPeerConnection,i$1=await async function(e$2){let t$2;return pP().supportUnifiedPlan?(e$2.addTransceiver(`video`,{direction:`recvonly`}),e$2.addTransceiver(`audio`,{direction:`recvonly`}),t$2=(await e$2.createOffer()).sdp):t$2=(await e$2.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0})).sdp,t$2}(t$1);if(!i$1)return e$1;t$1.close(),t$1=null,e$1=function(e$2){let t$2={video:[],audio:[]};return e$2.match(/ VP8/i)&&t$2.video.push(`VP8`),e$2.match(/ VP9/i)&&t$2.video.push(`VP9`),e$2.match(/ AV1/i)&&t$2.video.push(`AV1`),e$2.match(/ H264/i)&&t$2.video.push(`H264`),e$2.match(/ H265/i)&&t$2.video.push(`H265`),e$2.match(/ opus/i)&&t$2.audio.push(`OPUS`),e$2.match(/ PCMU/i)&&t$2.audio.push(`PCMU`),e$2.match(/ PCMA/i)&&t$2.audio.push(`PCMA`),e$2.match(/ G722/i)&&t$2.audio.push(`G722`),t$2}(i$1)}catch(e$2){throw new uP(hO.CREATE_OFFER_FAILED,e$2.toString&&e$2.toString()).print()}return e$1},checkSystemRequirements:function(){let e$1=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t$1=lP.reportApiInvoke(null,{name:LO.CHECK_SYSTEM_REQUIREMENTS,options:[],tag:kO.TRACER}),i$1=function(){let e$2=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t$2=!1;try{let i$2=window.RTCPeerConnection,n$2=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,r$2=window.WebSocket;t$2=!(!i$2||!r$2),e$2&&!n$2&&(t$2=!1),t$2&&aO()&&Ww(75)&&new i$2().close()}catch(e$3){iP.error(`check system requirement failed: `,e$3),t$2=!1}return t$2}(e$1),n$1=AH();iP.debug(`checkSystemRequirements, api:`,i$1,`browser`,n$1);let r$1=i$1&&n$1;return t$1.onSuccess(r$1),CD(`IGNORE_RTC_DEVICE_CHECK`)?i$1:r$1},getDevices:function(e$1){return PL.enumerateDevices(!0,!0,e$1)},getMicrophones:function(e$1){return PL.getRecordingDevices(e$1)},getCameras:function(e$1){return PL.getCamerasDevices(e$1)},getElectronScreenSources:yL,getPlaybackDevices:function(e$1){return PL.getSpeakers(e$1)},createClient:IH,createCameraVideoTrack:async function(){let e$1=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t$1=CD(`CAMERA_CAPTURE_CONFIG`),i$1=SN(8,`track-cam-`),n$1=lP.reportApiInvoke(null,{id:i$1,tag:kO.TRACER,name:LO.CREATE_CAM_VIDEO_TRACK,options:[cL({},e$1),t$1]});t$1&&(e$1.encoderConfig=t$1);let r$1=zL(e$1),o$1=null;iP.info(`start create camera video track with config`,JSON.stringify(e$1),`trackId`,i$1);try{o$1=(await wL({video:r$1},i$1)).getVideoTracks()[0]||null}catch(e$2){throw n$1.onError(e$2),e$2}if(!o$1){let e$2=new pO(hO.UNEXPECTED_ERROR,`can not find track in media stream`);return n$1.onError(e$2),e$2.throw(iP)}if(e$1.optimizationMode&&VM(i$1,o$1,e$1,OP(e$1.encoderConfig)),CD(`USE_STANDARD_BITRATE_DEFAULT`)){let t$2=OP(e$1.encoderConfig);e$1.encoderConfig=t$2,delete t$2.bitrateMax,delete t$2.bitrateMin}let s$1=new MM(o$1,e$1,r$1,e$1.scalabiltyMode?DP(e$1.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e$1.optimizationMode,i$1);return n$1.onSuccess(s$1.getTrackId()),iP.info(`create camera video success, trackId:`,i$1),s$1},createCustomVideoTrack:function(e$1){let t$1=SN(8,`track-cus-`),i$1=lP.reportApiInvoke(null,{id:t$1,tag:kO.TRACER,name:LO.CREATE_CUSTOM_VIDEO_TRACK,options:[e$1]});CD(`USE_STANDARD_BITRATE_DEFAULT`)&&(delete e$1.bitrateMax,delete e$1.bitrateMin);let n$1=new kM(e$1.mediaStreamTrack,{width:e$1.width,height:e$1.height,frameRate:e$1.frameRate,bitrateMax:e$1.bitrateMax,bitrateMin:e$1.bitrateMin},e$1.scalabiltyMode?DP(e$1.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e$1.optimizationMode,t$1,[VP.CUSTOM_TRACK]);return i$1.onSuccess(n$1.getTrackId()),iP.info(`create custom video track success with config`,e$1,`trackId`,n$1.getTrackId()),n$1},createScreenVideoTrack:async function(){let e$1=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t$1=arguments.length>1&&arguments[1]!==void 0?arguments[1]:`disable`,i$1=typeof t$1==`object`?function(e$2){let t$2=qL(e$2);return gP()&&e$2.suppressLocalAudioPlayback&&(t$2.suppressLocalAudioPlayback=e$2.suppressLocalAudioPlayback),TP()&&e$2.restrictOwnAudio&&(t$2.restrictOwnAudio=!0),t$2}(t$1):void 0;i$1&&(t$1=`auto`);let n$1=SN(8,`track-scr-v-`),r$1=lP.reportApiInvoke(null,{id:n$1,tag:kO.TRACER,name:LO.CREATE_SCREEN_VIDEO_TRACK,options:[cL({},e$1),t$1]});e$1.encoderConfig?typeof e$1.encoderConfig==`string`||e$1.encoderConfig.width&&e$1.encoderConfig.height||(e$1.encoderConfig.width={max:1920},e$1.encoderConfig.height={max:1080}):e$1.encoderConfig=`1080p_2`;let o$1=function(e$2){let t$2={};e$2.screenSourceType&&(t$2.mediaSource=e$2.screenSourceType),e$2.extensionId&&Uw()&&(t$2.extensionId=e$2.extensionId);let{displaySurface:i$2,selfBrowserSurface:n$2,surfaceSwitching:r$2,systemAudio:o$2,preferCurrentTab:s$2,windowAudio:a$2,monitorTypeSurfaces:c$2}=e$2;(Gw(107)||Kw(107)||Qw(93))&&(i$2&&(EO(i$2,`displaySurface`,[`browser`,`window`,`monitor`]),t$2.displaySurface=i$2),n$2?(EO(n$2,`selfBrowserSurface`,[`exclude`,`include`]),t$2.selfBrowserSurface=n$2):t$2.selfBrowserSurface=`include`,r$2&&(EO(r$2,`surfaceSwitching`,[`exclude`,`include`]),t$2.surfaceSwitching=r$2)),(Gw(105)||Kw(105)||Qw(91))&&o$2&&(EO(o$2,`systemAudio`,[`exclude`,`include`]),t$2.systemAudio=o$2),(Gw(94)||Kw(94)||Qw(80))&&s$2&&(t$2.preferCurrentTab=!0),(Gw(141)||Kw(141)||Qw(125))&&a$2&&(EO(a$2,`windowAudio`,[`exclude`,`system`]),t$2.windowAudio=a$2),(Gw(119)||Kw(119)||Qw(105))&&c$2&&(EO(c$2,`monitorTypeSurfaces`,[`exclude`,`include`]),t$2.monitorTypeSurfaces=c$2),e$2.electronScreenSourceId&&(t$2.sourceId=e$2.electronScreenSourceId);let d$2=e$2.encoderConfig?NP(e$2.encoderConfig):null;return t$2.mandatory={chromeMediaSource:`desktop`,maxWidth:d$2?d$2.width:void 0,maxHeight:d$2?d$2.height:void 0},d$2&&(d$2.frameRate&&(typeof d$2.frameRate==`number`?(t$2.mandatory.maxFrameRate=d$2.frameRate,t$2.mandatory.minFrameRate=d$2.frameRate):(t$2.mandatory.maxFrameRate=d$2.frameRate.max||d$2.frameRate.ideal||d$2.frameRate.exact||void 0,t$2.mandatory.minFrameRate=d$2.frameRate.min||d$2.frameRate.ideal||d$2.frameRate.exact||void 0),t$2.frameRate=d$2.frameRate),d$2.width&&(t$2.width=d$2.width),d$2.height&&(t$2.height=d$2.height)),t$2}(e$1),s$1=null,a$1=null,c$1=pP();if(!c$1.supportShareAudio&&t$1===`enable`){let e$2=new pO(hO.NOT_SUPPORTED,`your browser or platform is not support share-screen with audio`);return r$1.onError(e$2),e$2.throw(iP)}iP.info(`start create screen video track with config`,e$1,`withAudio`,t$1,`trackId`,n$1);let d$1=c$1.supportShareAudio&&t$1!==`disable`;try{let e$2=await wL({screen:o$1,screenAudio:d$1?i$1||!0:void 0},n$1);s$1=e$2.getVideoTracks()[0]||null,a$1=e$2.getAudioTracks()[0]||null}catch(e$2){throw r$1.onError(e$2),e$2}if(!s$1){let e$2=new pO(hO.UNEXPECTED_ERROR,`can not find track in media stream`);return r$1.onError(e$2),e$2.throw(iP)}if(!a$1&&t$1===`enable`){s$1&&s$1.stop();let e$2=new pO(hO.SHARE_AUDIO_NOT_ALLOWED);return r$1.onError(e$2),e$2.throw(iP)}e$1.optimizationMode||=`detail`,e$1.optimizationMode&&(VM(n$1,s$1,e$1,e$1.encoderConfig&&NP(e$1.encoderConfig)||void 0),e$1.encoderConfig&&typeof e$1.encoderConfig!=`string`&&(e$1.encoderConfig.bitrateMin=e$1.encoderConfig.bitrateMax));let l$1=new kM(s$1,e$1.encoderConfig?NP(e$1.encoderConfig):{},e$1.scalabiltyMode?DP(e$1.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e$1.optimizationMode,n$1,[VP.SCREEN_TRACK]);if(!a$1)return r$1.onSuccess(l$1.getTrackId()),iP.info(`create screen video track success`,`video:`,l$1.getTrackId()),l$1;let u$1=new Bk(a$1,void 0,SN(8,`track-scr-a-`),!1);return r$1.onSuccess([l$1.getTrackId(),u$1.getTrackId()]),iP.info(`create screen video track success`,`video:`,l$1.getTrackId(),`audio:`,u$1.getTrackId()),[l$1,u$1]},createMicrophoneAndCameraTracks:async function(){let e$1=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t$1=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i$1=CD(`CAMERA_CAPTURE_CONFIG`),n$1=SN(8,`track-mic-`),r$1=SN(8,`track-cam-`),o$1=lP.reportApiInvoke(null,{id:`${n$1}-${r$1}`,tag:kO.TRACER,name:LO.CREATE_MIC_AND_CAM_TRACKS,options:[e$1,t$1,i$1]});i$1&&(t$1.encoderConfig=i$1);let s$1=zL(t$1),a$1=XL(e$1),c$1=null,d$1=null;iP.info(`start create camera video track(${r$1}) and microphone audio track(${n$1}) with config, audio: ${JSON.stringify(e$1)}, video: ${JSON.stringify(t$1)}`);try{let e$2=await wL({audio:a$1,video:s$1},`${n$1}-${r$1}`);c$1=e$2.getAudioTracks()[0],d$1=e$2.getVideoTracks()[0]}catch(e$2){throw o$1.onError(e$2),e$2}if(!c$1||!d$1){let e$2=new pO(hO.UNEXPECTED_ERROR,`can not find tracks in media stream`);return o$1.onError(e$2),e$2.throw(iP)}if(t$1.optimizationMode&&VM(r$1,d$1,t$1,OP(t$1.encoderConfig)),CD(`USE_STANDARD_BITRATE_DEFAULT`)){let e$2=OP(t$1.encoderConfig);t$1.encoderConfig=e$2,delete e$2.bitrateMax,delete e$2.bitrateMin}let l$1=new jk(c$1,e$1,a$1,n$1),u$1=new MM(d$1,t$1,s$1,t$1.scalabiltyMode?DP(t$1.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},t$1.optimizationMode,r$1);return o$1.onSuccess([l$1.getTrackId(),u$1.getTrackId()]),iP.info(`create camera video track(${r$1}) and microphone audio track(${n$1}) success`),[l$1,u$1]},createMicrophoneAudioTrack:async function(){let e$1=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t$1=SN(8,`track-mic-`),i$1=lP.reportApiInvoke(null,{id:t$1,tag:kO.TRACER,name:LO.CREATE_MIC_AUDIO_TRACK,options:[e$1]}),n$1=XL(e$1),r$1=null;iP.info(`start create microphone audio track with config`,JSON.stringify(e$1),`trackId`,t$1);try{r$1=(await wL({audio:n$1},t$1)).getAudioTracks()[0]||null}catch(e$2){throw i$1.onError(e$2),e$2}if(!r$1){let e$2=new pO(hO.UNEXPECTED_ERROR,`can not find track in media stream`);return i$1.onError(e$2),e$2.throw(iP)}let o$1=new jk(r$1,e$1,n$1,t$1);return i$1.onSuccess(o$1.getTrackId()),iP.info(`create microphone audio track success, trackId:`,t$1),o$1},createCustomAudioTrack:UM,createBufferSourceAudioTrack:async function(e$1){var t$1;let{cacheOnlineFile:i$1,encoderConfig:n$1}=e$1,{source:r$1}=e$1,o$1={source:r$1 instanceof AudioBuffer?`AudioBuffer`:r$1 instanceof File?File.name??`File`:r$1,cacheOnlineFile:i$1,encoderConfig:n$1},s$1=SN(8,`track-buf-`),a$1=lP.reportApiInvoke(null,{id:s$1,tag:kO.TRACER,name:LO.CREATE_BUFFER_AUDIO_TRACK,options:[o$1]});if(CD(`DISABLE_WEBAUDIO`))throw new pO(hO.NOT_SUPPORTED,`can not create BufferSourceAudioTrack when WebAudio disabled`);iP.info(`start create buffer source audio track with config`,JSON.stringify(o$1),`trackId`,s$1);let c$1=r$1;if(!(r$1 instanceof AudioBuffer))try{r$1=await async function(e$2,t$2){let i$2=null;if(typeof e$2==`string`){let t$3=Kk.get(e$2);if(t$3)return iP.debug(`use cached audio resource: `,e$2),t$3;try{i$2=(await UN((()=>Tw.get(e$2,{responseType:`arraybuffer`})),void 0,void 0,{maxRetryCount:3})).data}catch(e$3){throw new pO(hO.FETCH_AUDIO_FILE_FAILED,e$3.toString())}}else i$2=await new rp(((t$3,i$3)=>{let n$3=new FileReader;n$3.onload=e$3=>{e$3.target?t$3(e$3.target.result):i$3(new pO(hO.READ_LOCAL_AUDIO_FILE_ERROR))},n$3.onerror=()=>{i$3(new pO(hO.READ_LOCAL_AUDIO_FILE_ERROR))},n$3.readAsArrayBuffer(e$2)}));let n$2=await function(e$3){let t$3=EL();return new rp(((i$3,n$3)=>{t$3.decodeAudioData(e$3,(e$4=>{i$3(e$4)}),(e$4=>{n$3(new pO(hO.DECODE_AUDIO_FILE_FAILED,e$4.toString()))}))}))}(i$2);return typeof e$2==`string`&&t$2&&Kk.set(e$2,n$2),n$2}(r$1,i$1)}catch(e$2){return a$1.onError(e$2),e$2.throw(iP)}let l$1=new Gk(c$1,new Hk(r$1),n$1?LP(n$1):{},s$1);return iP.info(`create buffer source audio track success, trackId:`,s$1),a$1.onSuccess(l$1.getTrackId()),l$1},setAppType:function(e$1){if(iP.debug(`setAppType: ${e$1}`),!(Number.isInteger(e$1)&&e$1>=0))throw iP.debug(`Invalid appType`),new uP(hO.INVALID_PARAMS,`invalid app type`,e$1);RD(`APP_TYPE`,Math.floor(e$1))},setLogLevel:function(e$1){iP.setLogLevel(e$1)},enableLogUpload:function(){CD(`USE_NEW_LOG`)?RD(`UPLOAD_LOG`,!0):iP.enableLogUpload()},disableLogUpload:function(){CD(`USE_NEW_LOG`)?RD(`UPLOAD_LOG`,!1):iP.disableLogUpload()},createChannelMediaRelayConfiguration:function(){return new oj},checkAudioTrackIsActive:async function(e$1){let t$1=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5e3,i$1=lP.reportApiInvoke(null,{tag:kO.TRACER,name:LO.CHECK_AUDIO_TRACK_IS_ACTIVE,options:[t$1]});if(!(e$1 instanceof Bk||e$1 instanceof $M)){let e$2=new uP(hO.INVALID_TRACK,`the parameter is not a audio track`);return i$1.onError(e$2),e$2.throw()}t$1&&t$1<1e3&&(t$1=1e3);let n$1=e$1 instanceof Bk?e$1.getTrackLabel():`remote_track`,r$1=e$1.getVolumeLevel(),o$1=r$1,s$1=r$1,a$1=Date.now();return new rp((r$2=>{let c$1=setInterval((()=>{let d$1=e$1.getVolumeLevel();o$1=d$1>o$1?d$1:o$1,s$1=d$1<s$1?d$1:s$1;let l$1=o$1-s$1>1e-4,u$1=Date.now()-a$1;if(l$1||u$1>t$1){clearInterval(c$1);let t$2=l$1,s$2={duration:u$1,deviceLabel:n$1,maxVolumeLevel:o$1,result:t$2};iP.info(`[track-${e$1.getTrackId()}] check audio track active completed. ${JSON.stringify(s$2)}`),i$1.onSuccess(s$2),r$2(t$2)}}),200)}))},checkVideoTrackIsActive:async function(e$1){let t$1=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5e3,i$1=lP.reportApiInvoke(null,{tag:kO.TRACER,name:LO.CHECK_VIDEO_TRACK_IS_ACTIVE,options:[t$1]});if(!(e$1 instanceof kM||e$1 instanceof ZM)){let e$2=new uP(hO.INVALID_TRACK,`the parameter is not a video track`);return i$1.onError(e$2),e$2.throw()}t$1&&t$1<1e3&&(t$1=1e3);let n$1=e$1 instanceof kM?e$1.getTrackLabel():`remote_track`,r$1=e$1.getMediaStreamTrack(!0),o$1=document.createElement(`video`);o$1.style.width=`1px`,o$1.style.height=`1px`,o$1.setAttribute(`muted`,``),o$1.muted=!0,o$1.setAttribute(`playsinline`,``),o$1.controls=!1,(Vw()||Mw())&&(o$1.style.opacity=`0.01`,o$1.style.position=`fixed`,o$1.style.left=`0`,o$1.style.top=`0`,document.body.appendChild(o$1)),o$1.srcObject=new MediaStream([r$1]),o$1.play();let s$1=document.createElement(`canvas`);s$1.width=160,s$1.height=120;let a$1=0,c$1=0;try{let e$2=Date.now();a$1=await function(e$3,t$2,i$2,n$2){let r$2,o$2=0,s$2=null;return new rp(((a$2,c$2)=>{function d$2(){o$2>n$2&&r$2&&(r$2(),a$2(o$2));let t$3=i$2.getContext(`2d`);if(!t$3){let e$4=new uP(hO.UNEXPECTED_ERROR,`can not get canvas 2d context.`);iP.error(e$4.toString()),c$2(e$4);return}t$3.drawImage(e$3,0,0,160,120);let d$3=t$3.getImageData(0,0,i$2.width,i$2.height),l$2=Math.floor(d$3.data.length/3);if(s$2){for(let e$4=0;e$4<l$2;e$4+=3)if(d$3.data[e$4]!==s$2[e$4])return o$2+=1,void(s$2=d$3.data);s$2=d$3.data}else s$2=d$3.data}setTimeout((()=>{r$2&&(r$2(),a$2(o$2))}),t$2),r$2=SL((()=>{d$2()}),30)}))}(o$1,t$1,s$1,4),c$1=Date.now()-e$2}catch(e$2){throw i$1.onError(e$2),e$2}AG===bw.SAFARI&&(o$1.pause(),o$1.remove()),o$1.srcObject=null;let d$1=a$1>4,l$1={duration:c$1,changedPicNum:a$1,deviceLabel:n$1,result:d$1};return iP.info(`[track-${e$1.getTrackId()}] check video track active completed. ${JSON.stringify(l$1)}`),i$1.onSuccess(l$1),d$1},setArea:vB,audioElementPlayCenter:xL,resumeAudioContext:function(){return xL.autoResumeAfterInterruption(!0)},processExternalMediaAEC:function(e$1){DH.processExternalMediaAEC(e$1)},registerExtensions:function(e$1){let t$1=CD(`PLUGIN_INFO`)||[];e$1.forEach((e$2=>{`name`in e$2&&!Ln(t$1).call(t$1,e$2.name)&&t$1.push(e$2.name);let i$1=e$2;i$1.__registered__=!0,i$1.logger.hookLog=iP.extLog,i$1.reporter.hookApiInvoke=lP.extApiInvoke,i$1.parameters&&Object.keys(i$1.parameters).forEach((e$3=>{i$1.parameters[e$3]=CD(e$3)}))})),TJ(`PLUGIN_INFO`,t$1)},ChannelMediaRelayError:rx,ChannelMediaRelayEvent:ix,ChannelMediaRelayState:nx,RemoteStreamFallbackType:BP,RemoteStreamType:FP,ConnectionDisconnectedReason:VO,AudienceLatencyLevelType:UO,AREAS:dx,preload:async function(e$1,t$1,i$1,n$1){return GG(e$1,t$1,i$1,n$1)},startLastmileProbeTest:async function(e$1,t$1,i$1,n$1){let r$1={state:`unavailable`};await GG(e$1,t$1,i$1,n$1);let o$1=await WG({appId:e$1,cname:t$1,token:i$1||e$1,uid:n$1,cloudProxyServer:`disabled`});if(!o$1)return r$1;await KG(o$1);let s$1,a$1=IH({mode:`rtc`,codec:`vp8`});try{s$1=await a$1.join(e$1,t$1,i$1,n$1,{networkQualityProbe:!0})}catch{return r$1}let c$1=new jG,l$1=await UM({mediaStreamTrack:c$1.createMuteAudioTrack()});await a$1.publish([l$1]);let[u$1,h$1,p$1]=await new rp(((e$2,t$2)=>{let i$2=setTimeout((()=>{clearTimeout(i$2),e$2([!0,null,`audio`])}),5e3);a$1.on(`user-published`,(async(t$3,n$2)=>{t$3.uid===s$1&&(clearTimeout(i$2),e$2([!1,t$3,n$2]))}))}));if(u$1||!h$1)return await a$1.unpublish([l$1]),await a$1.leave(),l$1.close(),c$1.close(),r$1;await a$1.subscribe(h$1,p$1),await new rp(((e$2,t$2)=>{let i$2=setTimeout((()=>{clearTimeout(i$2),e$2(null)}),5e3)}));let _$1=a$1.getRTCStats(),E$1=a$1.getLocalAudioStats(),m$1=_$1.RTT,f$1=E$1.sendJitterMs,S$1=E$1.currentPacketLossRate;return r$1={state:`complete`,rtt:m$1,packetLossRate:S$1,jitter:f$1,networkQuality:((e$2,t$2,i$2)=>{let n$2=1;if(i$2>0){let e$3=Math.log(100*i$2)/Math.log(2)+1;e$3=Math.min(5,Math.max(0,e$3)),n$2=1-e$3/5}let r$2=1;if(e$2>0){let t$3=Math.log(e$2/40)/Math.log(2)+1;t$3=Math.min(5,Math.max(0,t$3)),r$2=1-t$3/5}let o$2=1;if(t$2>0){let e$3=Math.log(t$2/10)/Math.log(2.5)+1;e$3=Math.min(5,Math.max(0,e$3)),o$2=1-e$3/5}let s$2=.5*n$2+.3*r$2+.2*o$2,a$2=0;return a$2=s$2>=.8?1:s$2>=.6?2:s$2>=.4?3:s$2>=.2?4:5,a$2})(m$1,f$1,S$1)},await a$1.unsubscribe(h$1),await a$1.unpublish([l$1]),await a$1.leave(),l$1.close(),c$1.close(),await KG(o$1),r$1}});return Object.defineProperties(RJ,{onAudioAutoplayFailed:{get:()=>kL.onAudioAutoplayFailed,set:e$1=>{kL.onAudioAutoplayFailed=e$1}},onAutoplayFailed:{get:()=>kL.onAutoplayFailed,set:e$1=>{kL.onAutoplayFailed=e$1}},_onSecurityPolicyViolation:{value:void 0,writable:!0},_cspEventHandlerPointer:{value:void 0,writable:!0},onSecurityPolicyViolation:{get:()=>RJ._onSecurityPolicyViolation,set(e$1){RJ._onSecurityPolicyViolation=e$1,MH(e$1)}},__CLIENT_LIST__:{get:()=>CD(`SHOW_GLOBAL_CLIENT_LIST`)?KU:[]}}),PL.on(eL.CAMERA_DEVICE_CHANGED,(e$1=>{iP.info(`camera device changed`,JSON.stringify(e$1)),RJ.onCameraChanged&&RJ.onCameraChanged(e$1),RJ.safeEmit(Ox.CAMERA_CHANGED,e$1)})),PL.on(eL.RECORDING_DEVICE_CHANGED,(e$1=>{iP.info(`microphone device changed`,JSON.stringify(e$1)),RJ.onMicrophoneChanged&&RJ.onMicrophoneChanged(e$1),RJ.safeEmit(Ox.MICROPHONE_CHANGED,e$1)})),PL.on(eL.PLAYOUT_DEVICE_CHANGED,(e$1=>{iP.debug(`playout device changed`,JSON.stringify(e$1)),RJ.onPlaybackDeviceChanged&&RJ.onPlaybackDeviceChanged(e$1),RJ.safeEmit(Ox.PLAYBACK_DEVICE_CHANGED,e$1)})),xL.onAutoplayFailed=()=>{iP.info(`detect audio element autoplay failed`),kL.onAudioAutoplayFailed&&kL.onAudioAutoplayFailed()},_L.on(`autoplay-failed`,(()=>{iP.info(`detect webaudio autoplay failed`),kL.onAudioAutoplayFailed&&kL.onAudioAutoplayFailed(),RJ.safeEmit(Ox.AUTOPLAY_FAILED)})),_L.on(RP.STATE_CHANGE,((e$1,t$1)=>{iP.info(`audio context state changed: ${t$1} => ${e$1}`),RJ.onAudioContextStateChanged&&RJ.onAudioContextStateChanged(e$1,t$1),RJ.safeEmit(Ox.AUDIO_CONTEXT_STATE_CHANGED,e$1,t$1)})),QO.on(YO.NETWORK_STATE_CHANGE,((e$1,t$1)=>{iP.info(`[network-indicator] network state changed, ${t$1} => ${e$1}`)})),window&&(window.__ARTC__=RJ),RJ}))})),import_AgoraRTC_N_production=__toESM(require_AgoraRTC_N_production(),1);const state={client:null,role:null,isJoined:!1,uid:null,channelName:`example`,localAudioTrack:null,localVideoTrack:null,cameraEnabled:!0,rtmClient:null,rtmChannel:null};function createVideoContainer(uid,targetId){let div=document.createElement(`div`);return div.id=`user-${uid}`,div.style.width=`100%`,div.style.height=`100%`,document.getElementById(targetId).appendChild(div),div}function renderLocalVideo(){let el=createVideoContainer(state.uid,`local-player`);state.localVideoTrack.play(el)}function renderRemoteVideo(user){let el=createVideoContainer(user.uid,`remote-player`);user.videoTrack.play(el)}function removeVideo(uid){document.getElementById(`user-${uid}`)?.remove()}function addChat(sender,msg,me){let box=document.getElementById(`chatBox`),div=document.createElement(`div`);div.className=`chat-message ${me?`me`:`other`}`;let bubble=document.createElement(`div`);bubble.className=`bubble`,bubble.innerText=msg,div.appendChild(bubble),box.appendChild(div),box.scrollTop=box.scrollHeight}function addSystemChat(msg){addChat(`System`,msg,!1)}function initRTC(){state.client=import_AgoraRTC_N_production.default.createClient({mode:`live`,codec:`vp8`}),state.client.on(`user-published`,async(user,mediaType)=>{await state.client.subscribe(user,mediaType),mediaType===`video`&&renderRemoteVideo(user),mediaType===`audio`&&user.audioTrack.play()}),state.client.on(`user-left`,user=>{removeVideo(user.uid)})}async function joinRTC({appId,channelName,token,uid,role}){state.role=role,state.uid=uid,await state.client.setClientRole(role),await state.client.join(appId,channelName,token,uid),role===`host`&&(state.localAudioTrack=await import_AgoraRTC_N_production.default.createMicrophoneAudioTrack(),state.localVideoTrack=await import_AgoraRTC_N_production.default.createCameraVideoTrack(),await state.client.publish([state.localAudioTrack,state.localVideoTrack]),renderLocalVideo()),state.isJoined=!0}async function leaveRTC(){state.localAudioTrack?.close(),state.localVideoTrack?.close(),state.client.remoteUsers.forEach(u=>removeVideo(u.uid)),await state.client.leave()}var require_agora_rtm=__commonJSMin(((exports,module)=>{(function(A,e){typeof exports==`object`&&module!==void 0?module.exports=e(require_AgoraRTC_N_production()):typeof define==`function`&&define.amd?define([`agora-rtc-sdk-ng`],e):(A=typeof globalThis<`u`?globalThis:A||self).AgoraRTM=e(A.AgoraRTC)})(exports,function(AgoraRTC$1){let AreaCodeMap=function(A){return A.CHINA=`CN`,A.ASIA=`AS`,A.NORTH_AMERICA=`NA`,A.EUROPE=`EU`,A.JAPAN=`JP`,A.INDIA=`IN`,A.OCEANIA=`OC`,A.SOUTH_AMERICA=`SA`,A.AFRICA=`AF`,A.GLOBAL=`GLOBAL`,A.OVERSEA=`OVERSEA`,A.SOUTH_KOREA=`KR`,A.UNITED_STATES=`US`,A}({});AreaCodeMap.CHINA,AreaCodeMap.NORTH_AMERICA,AreaCodeMap.EUROPE,AreaCodeMap.ASIA,AreaCodeMap.JAPAN,AreaCodeMap.INDIA,AreaCodeMap.OCEANIA,AreaCodeMap.OVERSEA,AreaCodeMap.SOUTH_AMERICA,AreaCodeMap.AFRICA,AreaCodeMap.SOUTH_KOREA,AreaCodeMap.UNITED_STATES,AreaCodeMap.GLOBAL;const AREA_DOMAIN_MAP$1={[AreaCodeMap.ASIA]:{CODE:AreaCodeMap.ASIA,AP_DOMAINS:[`ap-web-1-asia.agora.io`],AP_BACKUP_DOMAINS:[`ap-web-2-asia.agora.io`],EVENT_REPORT_DOMAIN:[`statscollector-1-asia.agora.io`],EVENT_REPORT_BACKUP_DOMAIN:[`statscollector-2-asia.agora.io`],LOG_UPLOAD_SERVER:[`logservice-asia.agora.io`],PROXY_AP:[`proxy-ap-web-asia.agora.io`],PROXY_NGINX:[`southeast-asia.webrtc-cloud-proxy.sd-rtn.com`]},[AreaCodeMap.NORTH_AMERICA]:{CODE:AreaCodeMap.NORTH_AMERICA,AP_DOMAINS:[`ap-web-1-north-america.agora.io`],AP_BACKUP_DOMAINS:[`ap-web-2-north-america.agora.io`],EVENT_REPORT_DOMAIN:[`statscollector-1-north-america.agora.io`],EVENT_REPORT_BACKUP_DOMAIN:[`statscollector-2-north-america.agora.io`],LOG_UPLOAD_SERVER:[`logservice-north-america.agora.io`],PROXY_AP:[`proxy-ap-web-america.agora.io`],PROXY_NGINX:[`east-usa.webrtc-cloud-proxy.sd-rtn.com`]},[AreaCodeMap.EUROPE]:{CODE:AreaCodeMap.EUROPE,AP_DOMAINS:[`ap-web-1-europe.agora.io`],AP_BACKUP_DOMAINS:[`ap-web-2-europe.agora.io`],EVENT_REPORT_DOMAIN:[`statscollector-1-europe.agora.io`],EVENT_REPORT_BACKUP_DOMAIN:[`statscollector-2-europe.agora.io`],LOG_UPLOAD_SERVER:[`logservice-europe.agora.io`],PROXY_AP:[`proxy-ap-web-europe.agora.io`],PROXY_NGINX:[`europe.webrtc-cloud-proxy.sd-rtn.com`]},[AreaCodeMap.JAPAN]:{CODE:AreaCodeMap.JAPAN,AP_DOMAINS:[`ap-web-1-japan.agora.io`],AP_BACKUP_DOMAINS:[`ap-web-2-japan.agora.io`],EVENT_REPORT_DOMAIN:[`statscollector-1-japan.agora.io`],EVENT_REPORT_BACKUP_DOMAIN:[`statscollector-2-japan.agora.io`],LOG_UPLOAD_SERVER:[`logservice-japan.agora.io`],PROXY_AP:[`proxy-ap-web-japan.agora.io`],PROXY_NGINX:[`japan.webrtc-cloud-proxy.sd-rtn.com`]},[AreaCodeMap.INDIA]:{CODE:AreaCodeMap.INDIA,AP_DOMAINS:[`ap-web-1-india.agora.io`],AP_BACKUP_DOMAINS:[`ap-web-2-india.agora.io`],EVENT_REPORT_DOMAIN:[`statscollector-1-india.agora.io`],EVENT_REPORT_BACKUP_DOMAIN:[`statscollector-2-india.agora.io`],LOG_UPLOAD_SERVER:[`logservice-india.agora.io`],PROXY_AP:[`proxy-ap-web-india.agora.io`],PROXY_NGINX:[`india.webrtc-cloud-proxy.sd-rtn.com`]},[AreaCodeMap.OVERSEA]:{CODE:AreaCodeMap.OVERSEA,AP_DOMAINS:[`ap-web-1-oversea.agora.io`],AP_BACKUP_DOMAINS:[`ap-web-2-oversea.agora.io`],EVENT_REPORT_DOMAIN:[`statscollector-1-oversea.agora.io`],EVENT_REPORT_BACKUP_DOMAIN:[`statscollector-2-oversea.agora.io`],LOG_UPLOAD_SERVER:[`logservice-oversea.agora.io`],PROXY_AP:[`proxy-ap-web-oversea.agora.io`],PROXY_NGINX:[`webrtc-cloud-proxy.agora.io`]},[AreaCodeMap.GLOBAL]:{CODE:AreaCodeMap.GLOBAL,AP_DOMAINS:[`ap-web-1.agora.io`,`ap-web-2.agora.io`],AP_BACKUP_DOMAINS:[`ap-web-3.agora.io`,`ap-web-4.agora.io`],EVENT_REPORT_DOMAIN:[`webcollector-rtm.agora.io`],EVENT_REPORT_BACKUP_DOMAIN:[`webcollector-1.agora.io`],LOG_UPLOAD_SERVER:[`logservice-rtm.agora.io`],PROXY_AP:[`ap-proxy-1.agora.io`,`ap-proxy-2.agora.io`],PROXY_NGINX:[`webrtc-cloud-proxy.sd-rtn.com`]},[AreaCodeMap.OCEANIA]:{CODE:AreaCodeMap.OCEANIA,AP_DOMAINS:[`ap-web-1-oceania.agora.io`],AP_BACKUP_DOMAINS:[`ap-web-2-oceania.agora.io`],EVENT_REPORT_DOMAIN:[`statscollector-1-oceania.agora.io`],EVENT_REPORT_BACKUP_DOMAIN:[`statscollector-2-oceania.agora.io`],LOG_UPLOAD_SERVER:[`logservice-oceania.agora.io`],PROXY_AP:[`proxy-ap-web-oceania.agora.io`],PROXY_NGINX:[`oceania.webrtc-cloud-proxy.sd-rtn.com`]},[AreaCodeMap.SOUTH_AMERICA]:{CODE:AreaCodeMap.SOUTH_AMERICA,AP_DOMAINS:[`ap-web-1-south-america.agora.io`],AP_BACKUP_DOMAINS:[`ap-web-2-south-america.agora.io`],EVENT_REPORT_DOMAIN:[`statscollector-1-south-america.agora.io`],EVENT_REPORT_BACKUP_DOMAIN:[`statscollector-2-south-america.agora.io`],LOG_UPLOAD_SERVER:[`logservice-south-america.agora.io`],PROXY_AP:[`proxy-ap-web-south-america.agora.io`],PROXY_NGINX:[`south-america.webrtc-cloud-proxy.sd-rtn.com`]},[AreaCodeMap.AFRICA]:{CODE:AreaCodeMap.AFRICA,AP_DOMAINS:[`ap-web-1-africa.agora.io`],AP_BACKUP_DOMAINS:[`ap-web-2-africa.agora.io`],EVENT_REPORT_DOMAIN:[`statscollector-1-africa.agora.io`],EVENT_REPORT_BACKUP_DOMAIN:[`statscollector-2-africa.agora.io`],LOG_UPLOAD_SERVER:[`logservice-south-africa.agora.io`],PROXY_AP:[`proxy-ap-web-africa.agora.io`],PROXY_NGINX:[`africa.webrtc-cloud-proxy.sd-rtn.com`]},[AreaCodeMap.CHINA]:{CODE:AreaCodeMap.CHINA,AP_DOMAINS:[`webrtc2-2.ap.sd-rtn.com`],AP_BACKUP_DOMAINS:[`webrtc2-4.ap.sd-rtn.com`],EVENT_REPORT_DOMAIN:[`statscollector-1-china.agora.io`],EVENT_REPORT_BACKUP_DOMAIN:[`statscollector-2-china.agora.io`],LOG_UPLOAD_SERVER:[`logservice-china.agora.io`],PROXY_AP:[`proxy-ap-web.agoraio.cn`],PROXY_NGINX:[`east-cn.webrtc-cloud-proxy.sd-rtn.com`]},[AreaCodeMap.SOUTH_KOREA]:{CODE:AreaCodeMap.SOUTH_KOREA,AP_DOMAINS:[`ap-web-1-korea.agora.io`],AP_BACKUP_DOMAINS:[`ap-web-2-korea.agora.io`],EVENT_REPORT_DOMAIN:[`statscollector-1-korea.agora.io`],EVENT_REPORT_BACKUP_DOMAIN:[`statscollector-2-korea.agora.io`],LOG_UPLOAD_SERVER:[`logservice-korea.agora.io`],PROXY_AP:[`proxy-ap-web-korea.agora.io`],PROXY_NGINX:[`korea.webrtc-cloud-proxy.sd-rtn.com`]},[AreaCodeMap.UNITED_STATES]:{CODE:AreaCodeMap.UNITED_STATES,AP_DOMAINS:[`ap-web-1-us.agora.io`],AP_BACKUP_DOMAINS:[`ap-web-2-us.agora.io`],EVENT_REPORT_DOMAIN:[`statscollector-1-us.agora.io`],EVENT_REPORT_BACKUP_DOMAIN:[`statscollector-2-us.agora.io`],LOG_UPLOAD_SERVER:[`logservice-us.agora.io`],PROXY_AP:[`proxy-ap-web-us.agora.io`],PROXY_NGINX:[`us.webrtc-cloud-proxy.sd-rtn.com`]}},continentCountryMap={[AreaCodeMap.ASIA]:[AreaCodeMap.CHINA,AreaCodeMap.JAPAN,AreaCodeMap.INDIA],[AreaCodeMap.EUROPE]:[],[AreaCodeMap.NORTH_AMERICA]:[],[AreaCodeMap.SOUTH_AMERICA]:[],[AreaCodeMap.OCEANIA]:[],[AreaCodeMap.AFRICA]:[]},areaWeights=[AreaCodeMap.GLOBAL,AreaCodeMap.CHINA,AreaCodeMap.NORTH_AMERICA,AreaCodeMap.EUROPE,AreaCodeMap.ASIA,AreaCodeMap.JAPAN,AreaCodeMap.INDIA,AreaCodeMap.OCEANIA,AreaCodeMap.SOUTH_AMERICA,AreaCodeMap.AFRICA];function _applyDecoratedDescriptor(A,e,t,g,o){var I={};return Object.keys(g).forEach(function(A$1){I[A$1]=g[A$1]}),I.enumerable=!!I.enumerable,I.configurable=!!I.configurable,(`value`in I||I.initializer)&&(I.writable=!0),I=t.slice().reverse().reduce(function(t$1,g$1){return g$1(A,e,t$1)||t$1},I),o&&I.initializer!==void 0&&(I.value=I.initializer?I.initializer.call(o):void 0,I.initializer=void 0),I.initializer===void 0?(Object.defineProperty(A,e,I),null):I}function _defineProperty$1(A,e,t){return(e=_toPropertyKey(e))in A?Object.defineProperty(A,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):A[e]=t,A}function ownKeys(A,e){var t=Object.keys(A);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(A);e&&(g=g.filter(function(e$1){return Object.getOwnPropertyDescriptor(A,e$1).enumerable})),t.push.apply(t,g)}return t}function _objectSpread2(A){for(var e=1;e<arguments.length;e++){var t=arguments[e]==null?{}:arguments[e];e%2?ownKeys(Object(t),!0).forEach(function(e$1){_defineProperty$1(A,e$1,t[e$1])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(e$1){Object.defineProperty(A,e$1,Object.getOwnPropertyDescriptor(t,e$1))})}return A}function _objectWithoutProperties(A,e){if(A==null)return{};var t,g,o=_objectWithoutPropertiesLoose(A,e);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(A);for(g=0;g<I.length;g++)t=I[g],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(A,t)&&(o[t]=A[t])}return o}function _objectWithoutPropertiesLoose(A,e){if(A==null)return{};var t={};for(var g in A)if({}.hasOwnProperty.call(A,g)){if(e.indexOf(g)!==-1)continue;t[g]=A[g]}return t}function _toPrimitive(A,e){if(typeof A!=`object`||!A)return A;var t=A[Symbol.toPrimitive];if(t!==void 0){var g=t.call(A,e);if(typeof g!=`object`)return g;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(e===`string`?String:Number)(A)}function _toPropertyKey(A){var e=_toPrimitive(A,`string`);return typeof e==`symbol`?e:e+``}let subscribedState=function(A){return A.UNSUBSCRIBED=`UNSUBSCRIBED`,A.SUBSCRIBED=`SUBSCRIBED`,A}({}),MessageType$1=function(A){return A.STRING=`STRING`,A.BINARY=`BINARY`,A}({}),LegacyAreaCode=function(A){return A.CN=`CN`,A.NA=`NA`,A.EU=`EU`,A.AS=`AS`,A.JP=`JP`,A.IN=`IN`,A.GLOB=`GLOB`,A.OC=`OC`,A.SA=`SA`,A.AF=`AF`,A.KR=`KR`,A.US=`US`,A.OVS=`OVS`,A}({}),AreaCode=function(A){return A.GLOBAL=`GLOBAL`,A.INDIA=`INDIA`,A.JAPAN=`JAPAN`,A.ASIA=`ASIA`,A.EUROPE=`EUROPE`,A.CHINA=`CHINA`,A.NORTH_AMERICA=`NORTH_AMERICA`,A}({}),LinkStateChangeReason4Report=function(A){return A[A.UNKNOWN=0]=`UNKNOWN`,A[A.LOGIN=1]=`LOGIN`,A[A.LOGIN_SUCCESS=2]=`LOGIN_SUCCESS`,A[A.LOGIN_TIMEOUT=3]=`LOGIN_TIMEOUT`,A[A.LOGIN_NOT_AUTHORIZED=4]=`LOGIN_NOT_AUTHORIZED`,A[A.LOGIN_REJECTED=5]=`LOGIN_REJECTED`,A[A.RELOGIN=6]=`RELOGIN`,A[A.LOGOUT=7]=`LOGOUT`,A[A.AUTO_RECONNECT=8]=`AUTO_RECONNECT`,A[A.RECONNECT_TIMEOUT=9]=`RECONNECT_TIMEOUT`,A[A.RECONNECT_SUCCESS=10]=`RECONNECT_SUCCESS`,A[A.JOIN=11]=`JOIN`,A[A.JOIN_SUCCESS=12]=`JOIN_SUCCESS`,A[A.JOIN_FAILED=13]=`JOIN_FAILED`,A[A.REJOIN=14]=`REJOIN`,A[A.LEAVE=15]=`LEAVE`,A[A.INVALID_TOKEN=16]=`INVALID_TOKEN`,A[A.TOKEN_EXPIRED=17]=`TOKEN_EXPIRED`,A[A.INCONSISTENT_APP_ID=18]=`INCONSISTENT_APP_ID`,A[A.INVALID_CHANNEL_NAME=19]=`INVALID_CHANNEL_NAME`,A[A.INVALID_USER_ID=20]=`INVALID_USER_ID`,A[A.NOT_INITIALIZED=21]=`NOT_INITIALIZED`,A[A.RTM_SERVICE_NOT_CONNECTED=22]=`RTM_SERVICE_NOT_CONNECTED`,A[A.CHANNEL_INSTANCE_EXCEED_LIMITATION=23]=`CHANNEL_INSTANCE_EXCEED_LIMITATION`,A[A.OPERATION_RATE_EXCEED_LIMITATION=24]=`OPERATION_RATE_EXCEED_LIMITATION`,A[A.CHANNEL_IN_ERROR_STATE=25]=`CHANNEL_IN_ERROR_STATE`,A[A.PRESENCE_NOT_CONNECTED=26]=`PRESENCE_NOT_CONNECTED`,A[A.SAME_UID_LOGIN=27]=`SAME_UID_LOGIN`,A[A.KICKED_OUT_BY_SERVER=28]=`KICKED_OUT_BY_SERVER`,A[A.KEEP_ALIVE_TIMEOUT=29]=`KEEP_ALIVE_TIMEOUT`,A[A.CONNECTION_ERROR=30]=`CONNECTION_ERROR`,A[A.PRESENCE_NOT_READY=31]=`PRESENCE_NOT_READY`,A[A.NETWORK_CHANGE=32]=`NETWORK_CHANGE`,A[A.SERVICE_NOT_SUPPORTED=33]=`SERVICE_NOT_SUPPORTED`,A[A.STREAM_CHANNEL_NOT_AVAILABLE=34]=`STREAM_CHANNEL_NOT_AVAILABLE`,A[A.STORAGE_NOT_AVAILABLE=35]=`STORAGE_NOT_AVAILABLE`,A[A.LOCK_NOT_AVAILABLE=36]=`LOCK_NOT_AVAILABLE`,A[A.LOGIN_TOO_FREQUENT=37]=`LOGIN_TOO_FREQUENT`,A}({}),LinkStateChangeReasonDescription=function(A){return A.UNKNOWN=`Unknown`,A.LOGIN=`Perform login operation`,A.LOGIN_SUCCESS=`Login success`,A.LOGIN_TIMEOUT=`Login timeout`,A.LOGIN_NOT_AUTHORIZED=`Login not authorized`,A.LOGIN_REJECTED=`Login rejected`,A.RELOGIN=`Perform login operation again`,A.LOGOUT=`Logout success`,A.AUTO_RECONNECT=`Reconnecting`,A.RECONNECT_TIMEOUT=`Reconnect timeout`,A.RECONNECT_SUCCESS=`Reconnect success`,A.JOIN=`Perform join operation`,A.JOIN_SUCCESS=`Join channel success`,A.JOIN_FAILED=`Join channel failed`,A.REJOIN=`Perform join operation again`,A.LEAVE=`Leave channel success`,A.INVALID_TOKEN=`Invalid token`,A.TOKEN_EXPIRED=`Token expired`,A.INCONSISTENT_APP_ID=`Inconsistent app ID`,A.INVALID_CHANNEL_NAME=`Invalid channel name`,A.INVALID_USER_ID=`Invalid user id`,A.NOT_INITIALIZED=`Not initialized`,A.RTM_SERVICE_NOT_CONNECTED=`RTM service not connected`,A.CHANNEL_INSTANCE_EXCEED_LIMITATION=`Channel instance exceed limitation`,A.OPERATION_RATE_EXCEED_LIMITATION=`Operation rate exceed limitation`,A.CHANNEL_IN_ERROR_STATE=`Channel in error state`,A.PRESENCE_NOT_CONNECTED=`Presence not connected`,A.SAME_UID_LOGIN=`The same uid login on another device`,A.KICKED_OUT_BY_SERVER=`Kicked out by server`,A.KEEP_ALIVE_TIMEOUT=`Keep alive timeout`,A.CONNECTION_ERROR=`Connection error`,A.PRESENCE_NOT_READY=`Presence not ready`,A.NETWORK_CHANGE=`Network change`,A.SERVICE_NOT_SUPPORTED=`Service not supported`,A.STREAM_CHANNEL_NOT_AVAILABLE=`Stream channel not available`,A.STORAGE_NOT_AVAILABLE=`Storage service is not available`,A.LOCK_NOT_AVAILABLE=`Lock service is not available`,A.LOGIN_TOO_FREQUENT=`Login too frequent`,A}({}),TokenEventReason=function(A){return A.WILL_EXPIRE=`The token is about to expire`,A.READ_PERMISSION_REVOKED=`The token read permission is revoked`,A}({}),ChannelTypeEnum=function(A){return A[A.MESSAGE=1]=`MESSAGE`,A[A.STREAM=2]=`STREAM`,A[A.USER=3]=`USER`,A}({});var ConstantsType=Object.freeze({__proto__:null,AreaCode,ChannelTypeEnum,LegacyAreaCode,LinkStateChangeReason4Report,LinkStateChangeReasonDescription,MessageType:MessageType$1,TokenEventReason,subscribedState}),commonjsGlobal=typeof globalThis<`u`?globalThis:typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:{};function getDefaultExportFromCjs(A){return A&&A.__esModule&&Object.prototype.hasOwnProperty.call(A,`default`)?A.default:A}function getAugmentedNamespace(A){if(A.__esModule)return A;var e=A.default;if(typeof e==`function`){var t=function A$1(){return this instanceof A$1?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,`__esModule`,{value:!0}),Object.keys(A).forEach(function(e$1){var g=Object.getOwnPropertyDescriptor(A,e$1);Object.defineProperty(t,e$1,g.get?g:{enumerable:!0,get:function(){return A[e$1]}})}),t}function format(A){var e=Array.prototype.slice.call(arguments,1);return e.length&&(A=A.replace(/(%?)(%([jds]))/g,function(A$1,t,g,o){var I=e.shift();switch(o){case`s`:I=``+I;break;case`d`:I=Number(I);break;case`j`:I=JSON.stringify(I)}return t?(e.unshift(I),A$1):I})),e.length&&(A+=` `+e.join(` `)),``+(A=A.replace(/%{2,2}/g,`%`))}var format_1=format,format$1=getDefaultExportFromCjs(format_1),_extendStatics=function(A,e){return _extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A$1,e$1){A$1.__proto__=e$1}||function(A$1,e$1){for(var t in e$1)e$1.hasOwnProperty(t)&&(A$1[t]=e$1[t])},_extendStatics(A,e)};function __extends$3(A,e){function t(){this.constructor=A}_extendStatics(A,e),A.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function isFunction$7(A){return typeof A==`function`}var _enable_super_gross_mode_that_will_cause_bad_things=!1,config$1={set useDeprecatedSynchronousErrorHandling(A){A&&Error().stack,_enable_super_gross_mode_that_will_cause_bad_things=A},get useDeprecatedSynchronousErrorHandling(){return _enable_super_gross_mode_that_will_cause_bad_things}};function hostReportError(A){setTimeout(function(){throw A},0)}var empty$1={closed:!0,next:function(A){},error:function(A){if(config$1.useDeprecatedSynchronousErrorHandling)throw A;hostReportError(A)},complete:function(){}},isArray$g=function(){return Array.isArray||function(A){return A&&typeof A.length==`number`}}();function isObject$e(A){return typeof A==`object`&&!!A}var UnsubscriptionErrorImpl$1=function(){function A(A$1){return Error.call(this),this.message=A$1?A$1.length+` errors occurred during unsubscription:
`+A$1.map(function(A$2,e){return e+1+`) `+A$2.toString()}).join(`
  `):``,this.name=`UnsubscriptionError`,this.errors=A$1,this}return A.prototype=Object.create(Error.prototype),A}(),UnsubscriptionError$1=UnsubscriptionErrorImpl$1,Subscription$2=function(){function A(A$1){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,A$1&&(this._ctorUnsubscribe=!0,this._unsubscribe=A$1)}return A.prototype.unsubscribe=function(){var e;if(!this.closed){var t=this,g=t._parentOrParents,o=t._ctorUnsubscribe,I=t._unsubscribe,i$1=t._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,g instanceof A)g.remove(this);else if(g!==null)for(var r=0;r<g.length;++r)g[r].remove(this);if(isFunction$7(I)){o&&(this._unsubscribe=void 0);try{I.call(this)}catch(A$1){e=A$1 instanceof UnsubscriptionError$1?flattenUnsubscriptionErrors$1(A$1.errors):[A$1]}}if(isArray$g(i$1)){r=-1;for(var n=i$1.length;++r<n;){var C=i$1[r];if(isObject$e(C))try{C.unsubscribe()}catch(A$1){e||=[],A$1 instanceof UnsubscriptionError$1?e=e.concat(flattenUnsubscriptionErrors$1(A$1.errors)):e.push(A$1)}}}if(e)throw new UnsubscriptionError$1(e)}},A.prototype.add=function(e){var t=e;if(!e)return A.EMPTY;switch(typeof e){case`function`:t=new A(e);case`object`:if(t===this||t.closed||typeof t.unsubscribe!=`function`)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof A)){var g=t;(t=new A)._subscriptions=[g]}break;default:throw Error(`unrecognized teardown `+e+` added to Subscription.`)}var o=t._parentOrParents;if(o===null)t._parentOrParents=this;else if(o instanceof A){if(o===this)return t;t._parentOrParents=[o,this]}else{if(o.indexOf(this)!==-1)return t;o.push(this)}var I=this._subscriptions;return I===null?this._subscriptions=[t]:I.push(t),t},A.prototype.remove=function(A$1){var e=this._subscriptions;if(e){var t=e.indexOf(A$1);t!==-1&&e.splice(t,1)}},A.EMPTY=function(A$1){return A$1.closed=!0,A$1}(new A),A}();function flattenUnsubscriptionErrors$1(A){return A.reduce(function(A$1,e){return A$1.concat(e instanceof UnsubscriptionError$1?e.errors:e)},[])}var rxSubscriber=function(){return typeof Symbol==`function`?Symbol(`rxSubscriber`):`@@rxSubscriber_`+Math.random()}(),Subscriber=function(A){function e(t,g,o){var I=A.call(this)||this;switch(I.syncErrorValue=null,I.syncErrorThrown=!1,I.syncErrorThrowable=!1,I.isStopped=!1,arguments.length){case 0:I.destination=empty$1;break;case 1:if(!t){I.destination=empty$1;break}if(typeof t==`object`){t instanceof e?(I.syncErrorThrowable=t.syncErrorThrowable,I.destination=t,t.add(I)):(I.syncErrorThrowable=!0,I.destination=new SafeSubscriber(I,t));break}default:I.syncErrorThrowable=!0,I.destination=new SafeSubscriber(I,t,g,o)}return I}return __extends$3(e,A),e.prototype[rxSubscriber]=function(){return this},e.create=function(A$1,t,g){var o=new e(A$1,t,g);return o.syncErrorThrowable=!1,o},e.prototype.next=function(A$1){this.isStopped||this._next(A$1)},e.prototype.error=function(A$1){this.isStopped||(this.isStopped=!0,this._error(A$1))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,A.prototype.unsubscribe.call(this))},e.prototype._next=function(A$1){this.destination.next(A$1)},e.prototype._error=function(A$1){this.destination.error(A$1),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var A$1=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=A$1,this},e}(Subscription$2),SafeSubscriber=function(A){function e(e$1,t,g,o){var I,i$1=A.call(this)||this;i$1._parentSubscriber=e$1;var r=i$1;return isFunction$7(t)?I=t:t&&(I=t.next,g=t.error,o=t.complete,t!==empty$1&&(isFunction$7((r=Object.create(t)).unsubscribe)&&i$1.add(r.unsubscribe.bind(r)),r.unsubscribe=i$1.unsubscribe.bind(i$1))),i$1._context=r,i$1._next=I,i$1._error=g,i$1._complete=o,i$1}return __extends$3(e,A),e.prototype.next=function(A$1){if(!this.isStopped&&this._next){var e$1=this._parentSubscriber;config$1.useDeprecatedSynchronousErrorHandling&&e$1.syncErrorThrowable?this.__tryOrSetError(e$1,this._next,A$1)&&this.unsubscribe():this.__tryOrUnsub(this._next,A$1)}},e.prototype.error=function(A$1){if(!this.isStopped){var e$1=this._parentSubscriber,t=config$1.useDeprecatedSynchronousErrorHandling;if(this._error)t&&e$1.syncErrorThrowable?(this.__tryOrSetError(e$1,this._error,A$1),this.unsubscribe()):(this.__tryOrUnsub(this._error,A$1),this.unsubscribe());else if(e$1.syncErrorThrowable)t?(e$1.syncErrorValue=A$1,e$1.syncErrorThrown=!0):hostReportError(A$1),this.unsubscribe();else{if(this.unsubscribe(),t)throw A$1;hostReportError(A$1)}}},e.prototype.complete=function(){var A$1=this;if(!this.isStopped){var e$1=this._parentSubscriber;if(this._complete){var t=function(){return A$1._complete.call(A$1._context)};config$1.useDeprecatedSynchronousErrorHandling&&e$1.syncErrorThrowable?(this.__tryOrSetError(e$1,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(A$1,e$1){try{A$1.call(this._context,e$1)}catch(A$2){if(this.unsubscribe(),config$1.useDeprecatedSynchronousErrorHandling)throw A$2;hostReportError(A$2)}},e.prototype.__tryOrSetError=function(A$1,e$1,t){if(!config$1.useDeprecatedSynchronousErrorHandling)throw Error(`bad call`);try{e$1.call(this._context,t)}catch(e$2){return config$1.useDeprecatedSynchronousErrorHandling?(A$1.syncErrorValue=e$2,A$1.syncErrorThrown=!0,!0):(hostReportError(e$2),!0)}return!1},e.prototype._unsubscribe=function(){var A$1=this._parentSubscriber;this._context=null,this._parentSubscriber=null,A$1.unsubscribe()},e}(Subscriber);function canReportError(A){for(;A;){var e=A,t=e.closed,g=e.destination,o=e.isStopped;if(t||o)return!1;A=g&&g instanceof Subscriber?g:null}return!0}function toSubscriber(A,e,t){if(A){if(A instanceof Subscriber)return A;if(A[rxSubscriber])return A[rxSubscriber]()}return A||e||t?new Subscriber(A,e,t):new Subscriber(empty$1)}var observable=function(){return typeof Symbol==`function`&&Symbol.observable||`@@observable`}();function identity$5(A){return A}function pipe(){return pipeFromArray([...arguments])}function pipeFromArray(A){return A.length===0?identity$5:A.length===1?A[0]:function(e){return A.reduce(function(A$1,e$1){return e$1(A$1)},e)}}var Observable=function(){function A(A$1){this._isScalar=!1,A$1&&(this._subscribe=A$1)}return A.prototype.lift=function(e){var t=new A;return t.source=this,t.operator=e,t},A.prototype.subscribe=function(A$1,e,t){var g=this.operator,o=toSubscriber(A$1,e,t);if(g?o.add(g.call(o,this.source)):o.add(this.source||config$1.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),config$1.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},A.prototype._trySubscribe=function(A$1){try{return this._subscribe(A$1)}catch(e){config$1.useDeprecatedSynchronousErrorHandling&&(A$1.syncErrorThrown=!0,A$1.syncErrorValue=e),canReportError(A$1)?A$1.error(e):console.warn(e)}},A.prototype.forEach=function(A$1,e){var t=this;return new(e=(getPromiseCtor(e)))(function(e$1,g){var o=t.subscribe(function(e$2){try{A$1(e$2)}catch(A$2){g(A$2),o&&o.unsubscribe()}},g,e$1)})},A.prototype._subscribe=function(A$1){var e=this.source;return e&&e.subscribe(A$1)},A.prototype[observable]=function(){return this},A.prototype.pipe=function(){var A$1=[...arguments];return A$1.length===0?this:pipeFromArray(A$1)(this)},A.prototype.toPromise=function(A$1){var e=this;return new(A$1=(getPromiseCtor(A$1)))(function(A$2,t){var g;e.subscribe(function(A$3){return g=A$3},function(A$3){return t(A$3)},function(){return A$2(g)})})},A.create=function(e){return new A(e)},A}();function getPromiseCtor(A){if(A||=Promise,!A)throw Error(`no Promise impl found`);return A}var ObjectUnsubscribedErrorImpl=function(){function A(){return Error.call(this),this.message=`object unsubscribed`,this.name=`ObjectUnsubscribedError`,this}return A.prototype=Object.create(Error.prototype),A}(),ObjectUnsubscribedError=ObjectUnsubscribedErrorImpl,SubjectSubscription=function(A){function e(e$1,t){var g=A.call(this)||this;return g.subject=e$1,g.subscriber=t,g.closed=!1,g}return __extends$3(e,A),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var A$1=this.subject,e$1=A$1.observers;if(this.subject=null,e$1&&e$1.length!==0&&!A$1.isStopped&&!A$1.closed){var t=e$1.indexOf(this.subscriber);t!==-1&&e$1.splice(t,1)}}},e}(Subscription$2),SubjectSubscriber=function(A){function e(e$1){var t=A.call(this,e$1)||this;return t.destination=e$1,t}return __extends$3(e,A),e}(Subscriber),Subject=function(A){function e(){var e$1=A.call(this)||this;return e$1.observers=[],e$1.closed=!1,e$1.isStopped=!1,e$1.hasError=!1,e$1.thrownError=null,e$1}return __extends$3(e,A),e.prototype[rxSubscriber]=function(){return new SubjectSubscriber(this)},e.prototype.lift=function(A$1){var e$1=new AnonymousSubject(this,this);return e$1.operator=A$1,e$1},e.prototype.next=function(A$1){if(this.closed)throw new ObjectUnsubscribedError;if(!this.isStopped)for(var e$1=this.observers,t=e$1.length,g=e$1.slice(),o=0;o<t;o++)g[o].next(A$1)},e.prototype.error=function(A$1){if(this.closed)throw new ObjectUnsubscribedError;this.hasError=!0,this.thrownError=A$1,this.isStopped=!0;for(var e$1=this.observers,t=e$1.length,g=e$1.slice(),o=0;o<t;o++)g[o].error(A$1);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new ObjectUnsubscribedError;this.isStopped=!0;for(var A$1=this.observers,e$1=A$1.length,t=A$1.slice(),g=0;g<e$1;g++)t[g].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e$1){if(this.closed)throw new ObjectUnsubscribedError;return A.prototype._trySubscribe.call(this,e$1)},e.prototype._subscribe=function(A$1){if(this.closed)throw new ObjectUnsubscribedError;return this.hasError?(A$1.error(this.thrownError),Subscription$2.EMPTY):this.isStopped?(A$1.complete(),Subscription$2.EMPTY):(this.observers.push(A$1),new SubjectSubscription(this,A$1))},e.prototype.asObservable=function(){var A$1=new Observable;return A$1.source=this,A$1},e.create=function(A$1,e$1){return new AnonymousSubject(A$1,e$1)},e}(Observable),AnonymousSubject=function(A){function e(e$1,t){var g=A.call(this)||this;return g.destination=e$1,g.source=t,g}return __extends$3(e,A),e.prototype.next=function(A$1){var e$1=this.destination;e$1&&e$1.next&&e$1.next(A$1)},e.prototype.error=function(A$1){var e$1=this.destination;e$1&&e$1.error&&this.destination.error(A$1)},e.prototype.complete=function(){var A$1=this.destination;A$1&&A$1.complete&&this.destination.complete()},e.prototype._subscribe=function(A$1){return this.source?this.source.subscribe(A$1):Subscription$2.EMPTY},e}(Subject);function refCount(){return function(A){return A.lift(new RefCountOperator(A))}}var RefCountOperator=function(){function A(A$1){this.connectable=A$1}return A.prototype.call=function(A$1,e){var t=this.connectable;t._refCount++;var g=new RefCountSubscriber(A$1,t),o=e.subscribe(g);return g.closed||(g.connection=t.connect()),o},A}(),RefCountSubscriber=function(A){function e(e$1,t){var g=A.call(this,e$1)||this;return g.connectable=t,g}return __extends$3(e,A),e.prototype._unsubscribe=function(){var A$1=this.connectable;if(A$1){this.connectable=null;var e$1=A$1._refCount;if(e$1<=0)this.connection=null;else if(A$1._refCount=e$1-1,e$1>1)this.connection=null;else{var t=this.connection,g=A$1._connection;this.connection=null,!g||t&&g!==t||g.unsubscribe()}}else this.connection=null},e}(Subscriber),ConnectableObservable=function(A){function e(e$1,t){var g=A.call(this)||this;return g.source=e$1,g.subjectFactory=t,g._refCount=0,g._isComplete=!1,g}return __extends$3(e,A),e.prototype._subscribe=function(A$1){return this.getSubject().subscribe(A$1)},e.prototype.getSubject=function(){var A$1=this._subject;return A$1&&!A$1.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var A$1=this._connection;return A$1||(this._isComplete=!1,(A$1=this._connection=new Subscription$2).add(this.source.subscribe(new ConnectableSubscriber(this.getSubject(),this))),A$1.closed&&(this._connection=null,A$1=Subscription$2.EMPTY)),A$1},e.prototype.refCount=function(){return refCount()(this)},e}(Observable),connectableObservableDescriptor=function(){var A=ConnectableObservable.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:A._subscribe},_isComplete:{value:A._isComplete,writable:!0},getSubject:{value:A.getSubject},connect:{value:A.connect},refCount:{value:A.refCount}}}(),ConnectableSubscriber=function(A){function e(e$1,t){var g=A.call(this,e$1)||this;return g.connectable=t,g}return __extends$3(e,A),e.prototype._error=function(e$1){this._unsubscribe(),A.prototype._error.call(this,e$1)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),A.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var A$1=this.connectable;if(A$1){this.connectable=null;var e$1=A$1._connection;A$1._refCount=0,A$1._subject=null,A$1._connection=null,e$1&&e$1.unsubscribe()}},e}(SubjectSubscriber),Action$2=function(A){function e(e$1,t){return A.call(this)||this}return __extends$3(e,A),e.prototype.schedule=function(A$1,e$1){return this},e}(Subscription$2),AsyncAction$2=function(A){function e(e$1,t){var g=A.call(this,e$1,t)||this;return g.scheduler=e$1,g.work=t,g.pending=!1,g}return __extends$3(e,A),e.prototype.schedule=function(A$1,e$1){if(e$1===void 0&&(e$1=0),this.closed)return this;this.state=A$1;var t=this.id,g=this.scheduler;return t!=null&&(this.id=this.recycleAsyncId(g,t,e$1)),this.pending=!0,this.delay=e$1,this.id=this.id||this.requestAsyncId(g,this.id,e$1),this},e.prototype.requestAsyncId=function(A$1,e$1,t){return t===void 0&&(t=0),setInterval(A$1.flush.bind(A$1,this),t)},e.prototype.recycleAsyncId=function(A$1,e$1,t){if(t===void 0&&(t=0),t!==null&&this.delay===t&&!1===this.pending)return e$1;clearInterval(e$1)},e.prototype.execute=function(A$1,e$1){if(this.closed)return Error(`executing a cancelled action`);this.pending=!1;var t=this._execute(A$1,e$1);if(t)return t;!1===this.pending&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(A$1,e$1){var t=!1,g=void 0;try{this.work(A$1)}catch(A$2){t=!0,g=!!A$2&&A$2||Error(A$2)}if(t)return this.unsubscribe(),g},e.prototype._unsubscribe=function(){var A$1=this.id,e$1=this.scheduler,t=e$1.actions,g=t.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,g!==-1&&t.splice(g,1),A$1!=null&&(this.id=this.recycleAsyncId(e$1,A$1,null)),this.delay=null},e}(Action$2),QueueAction=function(A){function e(e$1,t){var g=A.call(this,e$1,t)||this;return g.scheduler=e$1,g.work=t,g}return __extends$3(e,A),e.prototype.schedule=function(e$1,t){return t===void 0&&(t=0),t>0?A.prototype.schedule.call(this,e$1,t):(this.delay=t,this.state=e$1,this.scheduler.flush(this),this)},e.prototype.execute=function(e$1,t){return t>0||this.closed?A.prototype.execute.call(this,e$1,t):this._execute(e$1,t)},e.prototype.requestAsyncId=function(e$1,t,g){return g===void 0&&(g=0),g!==null&&g>0||g===null&&this.delay>0?A.prototype.requestAsyncId.call(this,e$1,t,g):e$1.flush(this)},e}(AsyncAction$2),Scheduler$2=function(){function A(e,t){t===void 0&&(t=A.now),this.SchedulerAction=e,this.now=t}return A.prototype.schedule=function(A$1,e,t){return e===void 0&&(e=0),new this.SchedulerAction(this,A$1).schedule(t,e)},A.now=function(){return Date.now()},A}(),AsyncScheduler$2=function(A){function e(t,g){g===void 0&&(g=Scheduler$2.now);var o=A.call(this,t,function(){return e.delegate&&e.delegate!==o?e.delegate.now():g()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return __extends$3(e,A),e.prototype.schedule=function(t,g,o){return g===void 0&&(g=0),e.delegate&&e.delegate!==this?e.delegate.schedule(t,g,o):A.prototype.schedule.call(this,t,g,o)},e.prototype.flush=function(A$1){var e$1=this.actions;if(this.active)e$1.push(A$1);else{var t;this.active=!0;do if(t=A$1.execute(A$1.state,A$1.delay))break;while(A$1=e$1.shift());if(this.active=!1,t){for(;A$1=e$1.shift();)A$1.unsubscribe();throw t}}},e}(Scheduler$2),QueueScheduler=function(A){function e(){return A!==null&&A.apply(this,arguments)||this}return __extends$3(e,A),e}(AsyncScheduler$2),queueScheduler=new QueueScheduler(QueueAction),queue=queueScheduler,EMPTY=new Observable(function(A){return A.complete()});function empty(A){return A?emptyScheduled(A):EMPTY}function emptyScheduled(A){return new Observable(function(e){return A.schedule(function(){return e.complete()})})}function isScheduler(A){return A&&typeof A.schedule==`function`}var subscribeToArray=function(A){return function(e){for(var t=0,g=A.length;t<g&&!e.closed;t++)e.next(A[t]);e.complete()}};function scheduleArray(A,e){return new Observable(function(t){var g=new Subscription$2,o=0;return g.add(e.schedule(function(){o===A.length?t.complete():(t.next(A[o++]),t.closed||g.add(this.schedule()))})),g})}function fromArray(A,e){return e?scheduleArray(A,e):new Observable(subscribeToArray(A))}function of(){var A=[...arguments],t=A[A.length-1];return isScheduler(t)?(A.pop(),scheduleArray(A,t)):fromArray(A)}function throwError(A,e){return new Observable(function(e$1){return e$1.error(A)})}var Notification=function(){function A(A$1,e,t){this.kind=A$1,this.value=e,this.error=t,this.hasValue=A$1===`N`}return A.prototype.observe=function(A$1){switch(this.kind){case`N`:return A$1.next&&A$1.next(this.value);case`E`:return A$1.error&&A$1.error(this.error);case`C`:return A$1.complete&&A$1.complete()}},A.prototype.do=function(A$1,e,t){switch(this.kind){case`N`:return A$1&&A$1(this.value);case`E`:return e&&e(this.error);case`C`:return t&&t()}},A.prototype.accept=function(A$1,e,t){return A$1&&typeof A$1.next==`function`?this.observe(A$1):this.do(A$1,e,t)},A.prototype.toObservable=function(){switch(this.kind){case`N`:return of(this.value);case`E`:return throwError(this.error);case`C`:return empty()}throw Error(`unexpected notification kind value`)},A.createNext=function(e){return e===void 0?A.undefinedValueNotification:new A(`N`,e)},A.createError=function(e){return new A(`E`,void 0,e)},A.createComplete=function(){return A.completeNotification},A.completeNotification=new A(`C`),A.undefinedValueNotification=new A(`N`,void 0),A}();function observeOn(A,e){return e===void 0&&(e=0),function(t){return t.lift(new ObserveOnOperator(A,e))}}var ObserveOnOperator=function(){function A(A$1,e){e===void 0&&(e=0),this.scheduler=A$1,this.delay=e}return A.prototype.call=function(A$1,e){return e.subscribe(new ObserveOnSubscriber(A$1,this.scheduler,this.delay))},A}(),ObserveOnSubscriber=function(A){function e(e$1,t,g){g===void 0&&(g=0);var o=A.call(this,e$1)||this;return o.scheduler=t,o.delay=g,o}return __extends$3(e,A),e.dispatch=function(A$1){var e$1=A$1.notification,t=A$1.destination;e$1.observe(t),this.unsubscribe()},e.prototype.scheduleMessage=function(A$1){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new ObserveOnMessage(A$1,this.destination)))},e.prototype._next=function(A$1){this.scheduleMessage(Notification.createNext(A$1))},e.prototype._error=function(A$1){this.scheduleMessage(Notification.createError(A$1)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(Notification.createComplete()),this.unsubscribe()},e}(Subscriber),ObserveOnMessage=function(){return function(A,e){this.notification=A,this.destination=e}}(),ReplaySubject=function(A){function e(e$1,t,g){e$1===void 0&&(e$1=1/0),t===void 0&&(t=1/0);var o=A.call(this)||this;return o.scheduler=g,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=e$1<1?1:e$1,o._windowTime=t<1?1:t,t===1/0?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return __extends$3(e,A),e.prototype.nextInfiniteTimeWindow=function(e$1){if(!this.isStopped){var t=this._events;t.push(e$1),t.length>this._bufferSize&&t.shift()}A.prototype.next.call(this,e$1)},e.prototype.nextTimeWindow=function(e$1){this.isStopped||(this._events.push(new ReplayEvent(this._getNow(),e$1)),this._trimBufferThenGetEvents()),A.prototype.next.call(this,e$1)},e.prototype._subscribe=function(A$1){var e$1,t=this._infiniteTimeWindow,g=t?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,I=g.length;if(this.closed)throw new ObjectUnsubscribedError;if(this.isStopped||this.hasError?e$1=Subscription$2.EMPTY:(this.observers.push(A$1),e$1=new SubjectSubscription(this,A$1)),o&&A$1.add(A$1=new ObserveOnSubscriber(A$1,o)),t)for(var i$1=0;i$1<I&&!A$1.closed;i$1++)A$1.next(g[i$1]);else for(i$1=0;i$1<I&&!A$1.closed;i$1++)A$1.next(g[i$1].value);return this.hasError?A$1.error(this.thrownError):this.isStopped&&A$1.complete(),e$1},e.prototype._getNow=function(){return(this.scheduler||queue).now()},e.prototype._trimBufferThenGetEvents=function(){for(var A$1=this._getNow(),e$1=this._bufferSize,t=this._windowTime,g=this._events,o=g.length,I=0;I<o&&!(A$1-g[I].time<t);)I++;return o>e$1&&(I=Math.max(I,o-e$1)),I>0&&g.splice(0,I),g},e}(Subject),ReplayEvent=function(){return function(A,e){this.time=A,this.value=e}}(),nextHandle=1,RESOLVED=function(){return Promise.resolve()}(),activeHandles={};function findAndClearHandle(A){return A in activeHandles&&(delete activeHandles[A],!0)}var Immediate={setImmediate:function(A){var e=nextHandle++;return activeHandles[e]=!0,RESOLVED.then(function(){return findAndClearHandle(e)&&A()}),e},clearImmediate:function(A){findAndClearHandle(A)}},AsapAction=function(A){function e(e$1,t){var g=A.call(this,e$1,t)||this;return g.scheduler=e$1,g.work=t,g}return __extends$3(e,A),e.prototype.requestAsyncId=function(e$1,t,g){return g===void 0&&(g=0),g!==null&&g>0?A.prototype.requestAsyncId.call(this,e$1,t,g):(e$1.actions.push(this),e$1.scheduled||=Immediate.setImmediate(e$1.flush.bind(e$1,null)))},e.prototype.recycleAsyncId=function(e$1,t,g){if(g===void 0&&(g=0),g!==null&&g>0||g===null&&this.delay>0)return A.prototype.recycleAsyncId.call(this,e$1,t,g);e$1.actions.length===0&&(Immediate.clearImmediate(t),e$1.scheduled=void 0)},e}(AsyncAction$2),AsapScheduler=function(A){function e(){return A!==null&&A.apply(this,arguments)||this}return __extends$3(e,A),e.prototype.flush=function(A$1){this.active=!0,this.scheduled=void 0;var e$1,t=this.actions,g=-1,o=t.length;A$1||=t.shift();do if(e$1=A$1.execute(A$1.state,A$1.delay))break;while(++g<o&&(A$1=t.shift()));if(this.active=!1,e$1){for(;++g<o&&(A$1=t.shift());)A$1.unsubscribe();throw e$1}},e}(AsyncScheduler$2),asapScheduler=new AsapScheduler(AsapAction),asyncScheduler=new AsyncScheduler$2(AsyncAction$2),async=asyncScheduler;function noop$3(){}var ArgumentOutOfRangeErrorImpl=function(){function A(){return Error.call(this),this.message=`argument out of range`,this.name=`ArgumentOutOfRangeError`,this}return A.prototype=Object.create(Error.prototype),A}(),ArgumentOutOfRangeError=ArgumentOutOfRangeErrorImpl,EmptyErrorImpl=function(){function A(){return Error.call(this),this.message=`no elements in sequence`,this.name=`EmptyError`,this}return A.prototype=Object.create(Error.prototype),A}(),EmptyError=EmptyErrorImpl,TimeoutErrorImpl=function(){function A(){return Error.call(this),this.message=`Timeout has occurred`,this.name=`TimeoutError`,this}return A.prototype=Object.create(Error.prototype),A}(),TimeoutError=TimeoutErrorImpl;function map$1(A,e){return function(t){if(typeof A!=`function`)throw TypeError("argument is not a function. Are you looking for `mapTo()`?");return t.lift(new MapOperator(A,e))}}var MapOperator=function(){function A(A$1,e){this.project=A$1,this.thisArg=e}return A.prototype.call=function(A$1,e){return e.subscribe(new MapSubscriber(A$1,this.project,this.thisArg))},A}(),MapSubscriber=function(A){function e(e$1,t,g){var o=A.call(this,e$1)||this;return o.project=t,o.count=0,o.thisArg=g||o,o}return __extends$3(e,A),e.prototype._next=function(A$1){var e$1;try{e$1=this.project.call(this.thisArg,A$1,this.count++)}catch(A$2){this.destination.error(A$2);return}this.destination.next(e$1)},e}(Subscriber),OuterSubscriber=function(A){function e(){return A!==null&&A.apply(this,arguments)||this}return __extends$3(e,A),e.prototype.notifyNext=function(A$1,e$1,t,g,o){this.destination.next(e$1)},e.prototype.notifyError=function(A$1,e$1){this.destination.error(A$1)},e.prototype.notifyComplete=function(A$1){this.destination.complete()},e}(Subscriber),InnerSubscriber=function(A){function e(e$1,t,g){var o=A.call(this)||this;return o.parent=e$1,o.outerValue=t,o.outerIndex=g,o.index=0,o}return __extends$3(e,A),e.prototype._next=function(A$1){this.parent.notifyNext(this.outerValue,A$1,this.outerIndex,this.index++,this)},e.prototype._error=function(A$1){this.parent.notifyError(A$1,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(Subscriber),subscribeToPromise=function(A){return function(e){return A.then(function(A$1){e.closed||(e.next(A$1),e.complete())},function(A$1){return e.error(A$1)}).then(null,hostReportError),e}};function getSymbolIterator(){return typeof Symbol==`function`&&Symbol.iterator?Symbol.iterator:`@@iterator`}var iterator=getSymbolIterator(),subscribeToIterable=function(A){return function(e){for(var t=A[iterator]();;){var g=void 0;try{g=t.next()}catch(A$1){return e.error(A$1),e}if(g.done){e.complete();break}if(e.next(g.value),e.closed)break}return typeof t.return==`function`&&e.add(function(){t.return&&t.return()}),e}},subscribeToObservable=function(A){return function(e){var t=A[observable]();if(typeof t.subscribe!=`function`)throw TypeError(`Provided object does not correctly implement Symbol.observable`);return t.subscribe(e)}},isArrayLike$9=function(A){return A&&typeof A.length==`number`&&typeof A!=`function`};function isPromise(A){return!!A&&typeof A.subscribe!=`function`&&typeof A.then==`function`}var subscribeTo=function(A){if(A&&typeof A[observable]==`function`)return subscribeToObservable(A);if(isArrayLike$9(A))return subscribeToArray(A);if(isPromise(A))return subscribeToPromise(A);if(A&&typeof A[iterator]==`function`)return subscribeToIterable(A);var e=isObject$e(A)?`an invalid object`:`'`+A+`'`;throw TypeError(`You provided `+e+` where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)};function subscribeToResult(A,e,t,g,o){if(o===void 0&&(o=new InnerSubscriber(A,t,g)),!o.closed)return e instanceof Observable?e.subscribe(o):subscribeTo(e)(o)}function from(A,e){return A instanceof Observable?A:new Observable(subscribeTo(A))}var SimpleInnerSubscriber=function(A){function e(e$1){var t=A.call(this)||this;return t.parent=e$1,t}return __extends$3(e,A),e.prototype._next=function(A$1){this.parent.notifyNext(A$1)},e.prototype._error=function(A$1){this.parent.notifyError(A$1),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(Subscriber),SimpleOuterSubscriber=function(A){function e(){return A!==null&&A.apply(this,arguments)||this}return __extends$3(e,A),e.prototype.notifyNext=function(A$1){this.destination.next(A$1)},e.prototype.notifyError=function(A$1){this.destination.error(A$1)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(Subscriber);function innerSubscribe(A,e){if(!e.closed){if(A instanceof Observable)return A.subscribe(e);var t;try{t=subscribeTo(A)(e)}catch(A$1){e.error(A$1)}return t}}function mergeMap(A,e,t){return t===void 0&&(t=1/0),typeof e==`function`?function(g){return g.pipe(mergeMap(function(t$1,g$1){return from(A(t$1,g$1)).pipe(map$1(function(A$1,o){return e(t$1,A$1,g$1,o)}))},t))}:(typeof e==`number`&&(t=e),function(e$1){return e$1.lift(new MergeMapOperator(A,t))})}var MergeMapOperator=function(){function A(A$1,e){e===void 0&&(e=1/0),this.project=A$1,this.concurrent=e}return A.prototype.call=function(A$1,e){return e.subscribe(new MergeMapSubscriber(A$1,this.project,this.concurrent))},A}(),MergeMapSubscriber=function(A){function e(e$1,t,g){g===void 0&&(g=1/0);var o=A.call(this,e$1)||this;return o.project=t,o.concurrent=g,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return __extends$3(e,A),e.prototype._next=function(A$1){this.active<this.concurrent?this._tryNext(A$1):this.buffer.push(A$1)},e.prototype._tryNext=function(A$1){var e$1,t=this.index++;try{e$1=this.project(A$1,t)}catch(A$2){this.destination.error(A$2);return}this.active++,this._innerSub(e$1)},e.prototype._innerSub=function(A$1){var e$1=new SimpleInnerSubscriber(this),t=this.destination;t.add(e$1);var g=innerSubscribe(A$1,e$1);g!==e$1&&t.add(g)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(A$1){this.destination.next(A$1)},e.prototype.notifyComplete=function(){var A$1=this.buffer;this.active--,A$1.length>0?this._next(A$1.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(SimpleOuterSubscriber);function mergeAll(A){return A===void 0&&(A=1/0),mergeMap(identity$5,A)}function concatAll(){return mergeAll(1)}function concat(){var A=[...arguments];return concatAll()(of.apply(void 0,A))}function defer(A){return new Observable(function(e){var t;try{t=A()}catch(A$1){e.error(A$1);return}return(t?from(t):empty()).subscribe(e)})}function fromEvent(A,e,t,g){return isFunction$7(t)&&(g=t,t=void 0),g?fromEvent(A,e,t).pipe(map$1(function(A$1){return isArray$g(A$1)?g.apply(void 0,A$1):g(A$1)})):new Observable(function(g$1){setupSubscription(A,e,function(A$1){arguments.length>1?g$1.next(Array.prototype.slice.call(arguments)):g$1.next(A$1)},g$1,t)})}function setupSubscription(A,e,t,g,o){var I;if(isEventTarget(A)){var i$1=A;A.addEventListener(e,t,o),I=function(){return i$1.removeEventListener(e,t,o)}}else if(isJQueryStyleEventEmitter(A)){var r=A;A.on(e,t),I=function(){return r.off(e,t)}}else if(isNodeStyleEventEmitter(A)){var n=A;A.addListener(e,t),I=function(){return n.removeListener(e,t)}}else{if(!A||!A.length)throw TypeError(`Invalid event target`);for(var C=0,E=A.length;C<E;C++)setupSubscription(A[C],e,t,g,o)}g.add(I)}function isNodeStyleEventEmitter(A){return A&&typeof A.addListener==`function`&&typeof A.removeListener==`function`}function isJQueryStyleEventEmitter(A){return A&&typeof A.on==`function`&&typeof A.off==`function`}function isEventTarget(A){return A&&typeof A.addEventListener==`function`&&typeof A.removeEventListener==`function`}function isNumeric(A){return!isArray$g(A)&&A-parseFloat(A)+1>=0}function interval(A,e){return A===void 0&&(A=0),e===void 0&&(e=async),(!isNumeric(A)||A<0)&&(A=0),e&&typeof e.schedule==`function`||(e=async),new Observable(function(t){return t.add(e.schedule(dispatch$1,A,{subscriber:t,counter:0,period:A})),t})}function dispatch$1(A){var e=A.subscriber,t=A.counter,g=A.period;e.next(t),this.schedule({subscriber:e,counter:t+1,period:g},g)}function merge(){var A=[...arguments],t=1/0,g=null,o=A[A.length-1];return isScheduler(o)?(g=A.pop(),A.length>1&&typeof A[A.length-1]==`number`&&(t=A.pop())):typeof o==`number`&&(t=A.pop()),g===null&&A.length===1&&A[0]instanceof Observable?A[0]:mergeAll(t)(fromArray(A,g))}var NEVER=new Observable(noop$3);function filter(A,e){return function(t){return t.lift(new FilterOperator(A,e))}}var FilterOperator=function(){function A(A$1,e){this.predicate=A$1,this.thisArg=e}return A.prototype.call=function(A$1,e){return e.subscribe(new FilterSubscriber(A$1,this.predicate,this.thisArg))},A}(),FilterSubscriber=function(A){function e(e$1,t,g){var o=A.call(this,e$1)||this;return o.predicate=t,o.thisArg=g,o.count=0,o}return __extends$3(e,A),e.prototype._next=function(A$1){var e$1;try{e$1=this.predicate.call(this.thisArg,A$1,this.count++)}catch(A$2){this.destination.error(A$2);return}e$1&&this.destination.next(A$1)},e}(Subscriber);function race(){var A=[...arguments];if(A.length===1){if(!isArray$g(A[0]))return A[0];A=A[0]}return fromArray(A,void 0).lift(new RaceOperator)}var RaceOperator=function(){function A(){}return A.prototype.call=function(A$1,e){return e.subscribe(new RaceSubscriber(A$1))},A}(),RaceSubscriber=function(A){function e(e$1){var t=A.call(this,e$1)||this;return t.hasFirst=!1,t.observables=[],t.subscriptions=[],t}return __extends$3(e,A),e.prototype._next=function(A$1){this.observables.push(A$1)},e.prototype._complete=function(){var A$1=this.observables,e$1=A$1.length;if(e$1===0)this.destination.complete();else{for(var t=0;t<e$1&&!this.hasFirst;t++){var g=subscribeToResult(this,A$1[t],void 0,t);this.subscriptions&&this.subscriptions.push(g),this.add(g)}this.observables=null}},e.prototype.notifyNext=function(A$1,e$1,t){if(!this.hasFirst){this.hasFirst=!0;for(var g=0;g<this.subscriptions.length;g++)if(g!==t){var o=this.subscriptions[g];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(e$1)},e}(OuterSubscriber);function timer(A,e,t){A===void 0&&(A=0);var g=-1;return isNumeric(e)?g=Number(e)<1?1:Number(e):isScheduler(e)&&(t=e),isScheduler(t)||(t=async),new Observable(function(e$1){var o=isNumeric(A)?A:+A-t.now();return t.schedule(dispatch,o,{index:0,period:g,subscriber:e$1})})}function dispatch(A){var e=A.index,t=A.period,g=A.subscriber;if(g.next(e),!g.closed){if(t===-1)return g.complete();A.index=e+1,this.schedule(A,t)}}function zip(){var A=[...arguments],t=A[A.length-1];return typeof t==`function`&&A.pop(),fromArray(A,void 0).lift(new ZipOperator(t))}var ZipOperator=function(){function A(A$1){this.resultSelector=A$1}return A.prototype.call=function(A$1,e){return e.subscribe(new ZipSubscriber(A$1,this.resultSelector))},A}(),ZipSubscriber=function(A){function e(e$1,t,g){var o=A.call(this,e$1)||this;return o.resultSelector=t,o.iterators=[],o.active=0,o.resultSelector=typeof t==`function`?t:void 0,o}return __extends$3(e,A),e.prototype._next=function(A$1){var e$1=this.iterators;isArray$g(A$1)?e$1.push(new StaticArrayIterator(A$1)):typeof A$1[iterator]==`function`?e$1.push(new StaticIterator(A$1[iterator]())):e$1.push(new ZipBufferIterator(this.destination,this,A$1))},e.prototype._complete=function(){var A$1=this.iterators,e$1=A$1.length;if(this.unsubscribe(),e$1!==0){this.active=e$1;for(var t=0;t<e$1;t++){var g=A$1[t];g.stillUnsubscribed?this.destination.add(g.subscribe()):this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var A$1=this.iterators,e$1=A$1.length,t=this.destination,g=0;g<e$1;g++)if(typeof(i$1=A$1[g]).hasValue==`function`&&!i$1.hasValue())return;var o=!1,I=[];for(g=0;g<e$1;g++){var i$1,r=(i$1=A$1[g]).next();if(i$1.hasCompleted()&&(o=!0),r.done)return void t.complete();I.push(r.value)}this.resultSelector?this._tryresultSelector(I):t.next(I),o&&t.complete()},e.prototype._tryresultSelector=function(A$1){var e$1;try{e$1=this.resultSelector.apply(this,A$1)}catch(A$2){this.destination.error(A$2);return}this.destination.next(e$1)},e}(Subscriber),StaticIterator=function(){function A(A$1){this.iterator=A$1,this.nextResult=A$1.next()}return A.prototype.hasValue=function(){return!0},A.prototype.next=function(){var A$1=this.nextResult;return this.nextResult=this.iterator.next(),A$1},A.prototype.hasCompleted=function(){var A$1=this.nextResult;return!!(A$1&&A$1.done)},A}(),StaticArrayIterator=function(){function A(A$1){this.array=A$1,this.index=0,this.length=0,this.length=A$1.length}return A.prototype[iterator]=function(){return this},A.prototype.next=function(A$1){var e=this.index++,t=this.array;return e<this.length?{value:t[e],done:!1}:{value:null,done:!0}},A.prototype.hasValue=function(){return this.array.length>this.index},A.prototype.hasCompleted=function(){return this.array.length===this.index},A}(),ZipBufferIterator=function(A){function e(e$1,t,g){var o=A.call(this,e$1)||this;return o.parent=t,o.observable=g,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return __extends$3(e,A),e.prototype[iterator]=function(){return this},e.prototype.next=function(){var A$1=this.buffer;return A$1.length===0&&this.isComplete?{value:null,done:!0}:{value:A$1.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(A$1){this.buffer.push(A$1),this.parent.checkIterators()},e.prototype.subscribe=function(){return innerSubscribe(this.observable,new SimpleInnerSubscriber(this))},e}(SimpleOuterSubscriber),umd={exports:{}};(function(A,e){(function(A$1){Object.defineProperty(A$1,`__esModule`,{value:!0}),A$1.default=void 0;var e$1=null;try{e$1=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function t(A$2,e$2,t$1){this.low=0|A$2,this.high=0|e$2,this.unsigned=!!t$1}function g(A$2){return!0===(A$2&&A$2.__isLong__)}function o(A$2){var e$2=Math.clz32(A$2&-A$2);return A$2?31-e$2:e$2}t.prototype.__isLong__,Object.defineProperty(t.prototype,`__isLong__`,{value:!0}),t.isLong=g;var I={},i$1={};function r(A$2,e$2){var t$1,g$1,o$1;return e$2?(o$1=0<=(A$2>>>=0)&&A$2<256)&&(g$1=i$1[A$2])?g$1:(t$1=C(A$2,0,!0),o$1&&(i$1[A$2]=t$1),t$1):(o$1=-128<=(A$2|=0)&&A$2<128)&&(g$1=I[A$2])?g$1:(t$1=C(A$2,A$2<0?-1:0,!1),o$1&&(I[A$2]=t$1),t$1)}function n(A$2,e$2){if(isNaN(A$2))return e$2?d:u;if(e$2){if(A$2<0)return d;if(A$2>=c)return w}else{if(A$2<=-l)return _;if(A$2+1>=l)return R$1}return A$2<0?n(-A$2,e$2).neg():C(A$2%Q|0,A$2/Q|0,e$2)}function C(A$2,e$2,g$1){return new t(A$2,e$2,g$1)}t.fromInt=r,t.fromNumber=n,t.fromBits=C;var E=Math.pow;function s(A$2,e$2,t$1){if(A$2.length===0)throw Error(`empty string`);if(typeof e$2==`number`?(t$1=e$2,e$2=!1):e$2=!!e$2,A$2===`NaN`||A$2===`Infinity`||A$2===`+Infinity`||A$2===`-Infinity`)return e$2?d:u;if((t$1||=10)<2||36<t$1)throw RangeError(`radix`);var g$1;if((g$1=A$2.indexOf(`-`))>0)throw Error(`interior hyphen`);if(g$1===0)return s(A$2.substring(1),e$2,t$1).neg();for(var o$1=n(E(t$1,8)),I$1=u,i$2=0;i$2<A$2.length;i$2+=8){var r$1=Math.min(8,A$2.length-i$2),C$1=parseInt(A$2.substring(i$2,i$2+r$1),t$1);if(r$1<8){var B$1=n(E(t$1,r$1));I$1=I$1.mul(B$1).add(n(C$1))}else I$1=(I$1=I$1.mul(o$1)).add(n(C$1))}return I$1.unsigned=e$2,I$1}function B(A$2,e$2){return typeof A$2==`number`?n(A$2,e$2):typeof A$2==`string`?s(A$2,e$2):C(A$2.low,A$2.high,typeof e$2==`boolean`?e$2:A$2.unsigned)}t.fromString=s,t.fromValue=B;var a=65536,Q=a*a,c=Q*Q,l=c/2,h=r(1<<24),u=r(0);t.ZERO=u;var d=r(0,!0);t.UZERO=d;var D=r(1);t.ONE=D;var y=r(1,!0);t.UONE=y;var p$1=r(-1);t.NEG_ONE=p$1;var R$1=C(-1,2147483647,!1);t.MAX_VALUE=R$1;var w=C(-1,-1,!0);t.MAX_UNSIGNED_VALUE=w;var _=C(0,-2147483648,!1);t.MIN_VALUE=_;var S=t.prototype;S.toInt=function(){return this.unsigned?this.low>>>0:this.low},S.toNumber=function(){return this.unsigned?(this.high>>>0)*Q+(this.low>>>0):this.high*Q+(this.low>>>0)},S.toString=function(A$2){if((A$2||=10)<2||36<A$2)throw RangeError(`radix`);if(this.isZero())return`0`;if(this.isNegative()){if(this.eq(_)){var e$2=n(A$2),t$1=this.div(e$2),g$1=t$1.mul(e$2).sub(this);return t$1.toString(A$2)+g$1.toInt().toString(A$2)}return`-`+this.neg().toString(A$2)}for(var o$1=n(E(A$2,6),this.unsigned),I$1=this,i$2=``;;){var r$1=I$1.div(o$1),C$1=(I$1.sub(r$1.mul(o$1)).toInt()>>>0).toString(A$2);if((I$1=r$1).isZero())return C$1+i$2;for(;C$1.length<6;)C$1=`0`+C$1;i$2=``+C$1+i$2}},S.getHighBits=function(){return this.high},S.getHighBitsUnsigned=function(){return this.high>>>0},S.getLowBits=function(){return this.low},S.getLowBitsUnsigned=function(){return this.low>>>0},S.getNumBitsAbs=function(){if(this.isNegative())return this.eq(_)?64:this.neg().getNumBitsAbs();for(var A$2=this.high==0?this.low:this.high,e$2=31;e$2>0&&!(A$2&1<<e$2);e$2--);return this.high==0?e$2+1:e$2+33},S.isSafeInteger=function(){var A$2=this.high>>21;return!A$2||!this.unsigned&&A$2===-1&&!(this.low===0&&this.high===-2097152)},S.isZero=function(){return this.high===0&&this.low===0},S.eqz=S.isZero,S.isNegative=function(){return!this.unsigned&&this.high<0},S.isPositive=function(){return this.unsigned||this.high>=0},S.isOdd=function(){return!(1&~this.low)},S.isEven=function(){return!(1&this.low)},S.equals=function(A$2){return g(A$2)||(A$2=B(A$2)),(this.unsigned===A$2.unsigned||this.high>>>31!=1||A$2.high>>>31!=1)&&this.high===A$2.high&&this.low===A$2.low},S.eq=S.equals,S.notEquals=function(A$2){return!this.eq(A$2)},S.neq=S.notEquals,S.ne=S.notEquals,S.lessThan=function(A$2){return this.comp(A$2)<0},S.lt=S.lessThan,S.lessThanOrEqual=function(A$2){return this.comp(A$2)<=0},S.lte=S.lessThanOrEqual,S.le=S.lessThanOrEqual,S.greaterThan=function(A$2){return this.comp(A$2)>0},S.gt=S.greaterThan,S.greaterThanOrEqual=function(A$2){return this.comp(A$2)>=0},S.gte=S.greaterThanOrEqual,S.ge=S.greaterThanOrEqual,S.compare=function(A$2){if(g(A$2)||(A$2=B(A$2)),this.eq(A$2))return 0;var e$2=this.isNegative(),t$1=A$2.isNegative();return e$2&&!t$1?-1:!e$2&&t$1?1:this.unsigned?A$2.high>>>0>this.high>>>0||A$2.high===this.high&&A$2.low>>>0>this.low>>>0?-1:1:this.sub(A$2).isNegative()?-1:1},S.comp=S.compare,S.negate=function(){return!this.unsigned&&this.eq(_)?_:this.not().add(D)},S.neg=S.negate,S.add=function(A$2){g(A$2)||(A$2=B(A$2));var e$2=this.high>>>16,t$1=65535&this.high,o$1=this.low>>>16,I$1=65535&this.low,i$2=A$2.high>>>16,r$1=65535&A$2.high,n$1=A$2.low>>>16,E$1=0,s$1=0,a$1=0,Q$1=0;return a$1+=(Q$1+=I$1+(65535&A$2.low))>>>16,s$1+=(a$1+=o$1+n$1)>>>16,E$1+=(s$1+=t$1+r$1)>>>16,E$1+=e$2+i$2,C((a$1&=65535)<<16|(Q$1&=65535),(E$1&=65535)<<16|(s$1&=65535),this.unsigned)},S.subtract=function(A$2){return g(A$2)||(A$2=B(A$2)),this.add(A$2.neg())},S.sub=S.subtract,S.multiply=function(A$2){if(this.isZero())return this;if(g(A$2)||(A$2=B(A$2)),e$1)return C(e$1.mul(this.low,this.high,A$2.low,A$2.high),e$1.get_high(),this.unsigned);if(A$2.isZero())return this.unsigned?d:u;if(this.eq(_))return A$2.isOdd()?_:u;if(A$2.eq(_))return this.isOdd()?_:u;if(this.isNegative())return A$2.isNegative()?this.neg().mul(A$2.neg()):this.neg().mul(A$2).neg();if(A$2.isNegative())return this.mul(A$2.neg()).neg();if(this.lt(h)&&A$2.lt(h))return n(this.toNumber()*A$2.toNumber(),this.unsigned);var t$1=this.high>>>16,o$1=65535&this.high,I$1=this.low>>>16,i$2=65535&this.low,r$1=A$2.high>>>16,E$1=65535&A$2.high,s$1=A$2.low>>>16,a$1=65535&A$2.low,Q$1=0,c$1=0,l$1=0,D$1=0;return l$1+=(D$1+=i$2*a$1)>>>16,c$1+=(l$1+=I$1*a$1)>>>16,l$1&=65535,c$1+=(l$1+=i$2*s$1)>>>16,Q$1+=(c$1+=o$1*a$1)>>>16,c$1&=65535,Q$1+=(c$1+=I$1*s$1)>>>16,c$1&=65535,Q$1+=(c$1+=i$2*E$1)>>>16,Q$1+=t$1*a$1+o$1*s$1+I$1*E$1+i$2*r$1,C((l$1&=65535)<<16|(D$1&=65535),(Q$1&=65535)<<16|(c$1&=65535),this.unsigned)},S.mul=S.multiply,S.divide=function(A$2){if(g(A$2)||(A$2=B(A$2)),A$2.isZero())throw Error(`division by zero`);var t$1,o$1,I$1;if(e$1)return this.unsigned||this.high!==-2147483648||A$2.low!==-1||A$2.high!==-1?C((this.unsigned?e$1.div_u:e$1.div_s)(this.low,this.high,A$2.low,A$2.high),e$1.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?d:u;if(this.unsigned){if(A$2.unsigned||(A$2=A$2.toUnsigned()),A$2.gt(this))return d;if(A$2.gt(this.shru(1)))return y;I$1=d}else{if(this.eq(_))return A$2.eq(D)||A$2.eq(p$1)?_:A$2.eq(_)?D:(t$1=this.shr(1).div(A$2).shl(1)).eq(u)?A$2.isNegative()?D:p$1:(o$1=this.sub(A$2.mul(t$1)),I$1=t$1.add(o$1.div(A$2)));if(A$2.eq(_))return this.unsigned?d:u;if(this.isNegative())return A$2.isNegative()?this.neg().div(A$2.neg()):this.neg().div(A$2).neg();if(A$2.isNegative())return this.div(A$2.neg()).neg();I$1=u}for(o$1=this;o$1.gte(A$2);){t$1=Math.max(1,Math.floor(o$1.toNumber()/A$2.toNumber()));for(var i$2=Math.ceil(Math.log(t$1)/Math.LN2),r$1=i$2<=48?1:E(2,i$2-48),s$1=n(t$1),a$1=s$1.mul(A$2);a$1.isNegative()||a$1.gt(o$1);)a$1=(s$1=n(t$1-=r$1,this.unsigned)).mul(A$2);s$1.isZero()&&(s$1=D),I$1=I$1.add(s$1),o$1=o$1.sub(a$1)}return I$1},S.div=S.divide,S.modulo=function(A$2){return g(A$2)||(A$2=B(A$2)),e$1?C((this.unsigned?e$1.rem_u:e$1.rem_s)(this.low,this.high,A$2.low,A$2.high),e$1.get_high(),this.unsigned):this.sub(this.div(A$2).mul(A$2))},S.mod=S.modulo,S.rem=S.modulo,S.not=function(){return C(~this.low,~this.high,this.unsigned)},S.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},S.clz=S.countLeadingZeros,S.countTrailingZeros=function(){return this.low?o(this.low):o(this.high)+32},S.ctz=S.countTrailingZeros,S.and=function(A$2){return g(A$2)||(A$2=B(A$2)),C(this.low&A$2.low,this.high&A$2.high,this.unsigned)},S.or=function(A$2){return g(A$2)||(A$2=B(A$2)),C(this.low|A$2.low,this.high|A$2.high,this.unsigned)},S.xor=function(A$2){return g(A$2)||(A$2=B(A$2)),C(this.low^A$2.low,this.high^A$2.high,this.unsigned)},S.shiftLeft=function(A$2){return g(A$2)&&(A$2=A$2.toInt()),(A$2&=63)==0?this:A$2<32?C(this.low<<A$2,this.high<<A$2|this.low>>>32-A$2,this.unsigned):C(0,this.low<<A$2-32,this.unsigned)},S.shl=S.shiftLeft,S.shiftRight=function(A$2){return g(A$2)&&(A$2=A$2.toInt()),(A$2&=63)==0?this:A$2<32?C(this.low>>>A$2|this.high<<32-A$2,this.high>>A$2,this.unsigned):C(this.high>>A$2-32,this.high>=0?0:-1,this.unsigned)},S.shr=S.shiftRight,S.shiftRightUnsigned=function(A$2){return g(A$2)&&(A$2=A$2.toInt()),(A$2&=63)==0?this:A$2<32?C(this.low>>>A$2|this.high<<32-A$2,this.high>>>A$2,this.unsigned):C(A$2===32?this.high:this.high>>>A$2-32,0,this.unsigned)},S.shru=S.shiftRightUnsigned,S.shr_u=S.shiftRightUnsigned,S.rotateLeft=function(A$2){var e$2;return g(A$2)&&(A$2=A$2.toInt()),(A$2&=63)==0?this:A$2===32?C(this.high,this.low,this.unsigned):A$2<32?(e$2=32-A$2,C(this.low<<A$2|this.high>>>e$2,this.high<<A$2|this.low>>>e$2,this.unsigned)):(e$2=32-(A$2-=32),C(this.high<<A$2|this.low>>>e$2,this.low<<A$2|this.high>>>e$2,this.unsigned))},S.rotl=S.rotateLeft,S.rotateRight=function(A$2){var e$2;return g(A$2)&&(A$2=A$2.toInt()),(A$2&=63)==0?this:A$2===32?C(this.high,this.low,this.unsigned):A$2<32?(e$2=32-A$2,C(this.high<<e$2|this.low>>>A$2,this.low<<e$2|this.high>>>A$2,this.unsigned)):(e$2=32-(A$2-=32),C(this.low<<e$2|this.high>>>A$2,this.high<<e$2|this.low>>>A$2,this.unsigned))},S.rotr=S.rotateRight,S.toSigned=function(){return this.unsigned?C(this.low,this.high,!1):this},S.toUnsigned=function(){return this.unsigned?this:C(this.low,this.high,!0)},S.toBytes=function(A$2){return A$2?this.toBytesLE():this.toBytesBE()},S.toBytesLE=function(){var A$2=this.high,e$2=this.low;return[255&e$2,e$2>>>8&255,e$2>>>16&255,e$2>>>24,255&A$2,A$2>>>8&255,A$2>>>16&255,A$2>>>24]},S.toBytesBE=function(){var A$2=this.high,e$2=this.low;return[A$2>>>24,A$2>>>16&255,A$2>>>8&255,255&A$2,e$2>>>24,e$2>>>16&255,e$2>>>8&255,255&e$2]},t.fromBytes=function(A$2,e$2,g$1){return g$1?t.fromBytesLE(A$2,e$2):t.fromBytesBE(A$2,e$2)},t.fromBytesLE=function(A$2,e$2){return new t(A$2[0]|A$2[1]<<8|A$2[2]<<16|A$2[3]<<24,A$2[4]|A$2[5]<<8|A$2[6]<<16|A$2[7]<<24,e$2)},t.fromBytesBE=function(A$2,e$2){return new t(A$2[4]<<24|A$2[5]<<16|A$2[6]<<8|A$2[7],A$2[0]<<24|A$2[1]<<16|A$2[2]<<8|A$2[3],e$2)},typeof BigInt==`function`&&(t.fromBigInt=function(A$2,e$2){return C(Number(BigInt.asIntN(32,A$2)),Number(BigInt.asIntN(32,A$2>>BigInt(32))),e$2)},t.fromValue=function(A$2,e$2){return typeof A$2==`bigint`?t.fromBigInt(A$2,e$2):B(A$2,e$2)},S.toBigInt=function(){var A$2=BigInt(this.low>>>0);return BigInt(this.unsigned?this.high>>>0:this.high)<<BigInt(32)|A$2}),A$1.default=t})(e),A.exports=function(A$1){return A$1.default||A$1}(e)})(umd,umd.exports);var umdExports=umd.exports,Long$1=getDefaultExportFromCjs(umdExports);const FUSION=!1,VERSION=`2.2.3`,BUILD=`v2.2.3-0-g1291e257-dirty`,isDev=!1,WEB_PLATFORM_TYPE=7,VERSION_NO=10,BASE_VERSION=100,SUBVERSION=100,LOG_PING_PONG=!1,LOG_SYNC_PING_PONG=!1;let isBusy=!1,loginAbortController=new AbortController;function changeBusyStatus(A){(isBusy||A)&&(loginAbortController.abort(),A&&(loginAbortController=new AbortController),isBusy=A)}const OperationName={initRTM:`initRTM`,login:`login`,logout:`logout`,renewToken:`renewToken`,updateConfig:`updateConfig`,publish:`publish`,subscribe:`subscribe`,unsubscribe:`unsubscribe`,createStreamChannel:`createStreamChannel`,leave:`leave`,joinTopic:`joinTopic`,join:`join`,publishTopicMessage:`publishTopicMessage`,leaveTopic:`leaveTopic`,subscribeTopic:`subscribeTopic`,unsubscribeTopic:`unsubscribeTopic`,getSubscribedUserList:`getSubscribedUserList`,setChannelMetadata:`setChannelMetadata`,getChannelMetadata:`getChannelMetadata`,removeChannelMetadata:`removeChannelMetadata`,updateChannelMetadata:`updateChannelMetadata`,setUserMetadata:`setUserMetadata`,getUserMetadata:`getUserMetadata`,removeUserMetadata:`removeUserMetadata`,updateUserMetadata:`updateUserMetadata`,subscribeUserMetadata:`subscribeUserMetadata`,unsubscribeUserMetadata:`unsubscribeUserMetadata`,setLock:`setLock`,removeLock:`removeLock`,acquireLock:`acquireLock`,releaseLock:`releaseLock`,revokeLock:`revokeLock`,getLock:`getLock`,rtm:`rtm`,presenceSetState:`presenceSetState`,whereNow:`whereNow`,getUserChannels:`getUserChannels`,whoNow:`whoNow`,getOnlineUsers:`getOnlineUsers`,presenceGetState:`presenceGetState`,presenceRemoveState:`presenceRemoveState`,storage:`storage`,getMessages:`getMessages`},AP_CONCURRENT_REQ_NUM=3,MIN_HEARTBEAT_INTERVAL=5e3,MAX_HEARTBEAT_INTERVAL=18e5,SHAKEHAND_TIMEOUT=15e3,CONFIGURABLE_KEY_RTM_LINK_KEEP_ALIVE_TIMEOUT=1e4,CONFIGURABLE_KEY_RTM_HEARTBEAT_INTERVAL=MIN_HEARTBEAT_INTERVAL,SOCKET_RETRY_INTERVAL=3e3,LINK_INTERVALS=[2,4,8,16,32,32],SUSPENDED_TIME_INTERVAL=30,LOGIN_RESP_TIMEOUT=5e3,LOGIN_QPS_LIMIT=2,MESSAGE_MIN_COMPRESSION_LEN=128,MESSAGE_SEND_TIMEOUT=1e4,COMMON_REQUEST_TIMEOUT=1e4,P2P_MESSAGE_SEND_TIMEOUT=13e3,DIALOGUE_EXPIRE_TIMEOUT=1e4,LRU_MAX_ITEMS=1e4,MESSAGE_RETRY_TIMEOUT=6e3,TEXT_MESSAGE_MAX_TEXT_BYTES=32768,ONLINE_MESSAGE_DEDUP_DELAY=750,OFFLINE_MESSAGE_DEDUP_DELAY=1500,MSG_DEDUP_MAX_LEN=200,PUBLISH_MESSAGE_SIZE=32768,TOPIC_MESSAGE_SIZE=1024,CUSTOM_TYPE_SIZE=32,K_P2P_MESSAGE_PREFIX=`*p*`,LOGOUT_SOCKET_CLOSE_TIMEOUT=5e3,LOG_UPLOAD_MAX_ITEMS=1e3,MAX_JOINED_CHANNELS=50,SUB_STREAM_CHANNEL_LIMITATION=10,K_STREAM_CHANNEL_PREFIX=`*s*`,MAX_SUBSCRIPTION_USER=50,MAX_METADATA_COUNT=32,RTM_METADATA_MAX_LENGTH=16384,RTM_METADATA_KEY_MAX_LENGTH=32,RTM_METADATA_VALUE_MAX_LENGTH=16384,LOCK_DEFAULT_TTL=10,MAX_LOCK_TTL=300,LAST_PONG_RECEIVED_TS_FIELD_NUMBER=4e3,IV_LENGTH=12,TAG_LENGTH=16,KEY_ITERATIONS_COUNT=1e3,ROUNDUP_BIT_SIZE=4,SALT_LENGTH=32,JOIN_TOPIC_LIMITATION=8,SUB_TOPIC_LIMITATION=50,SUB_TOPIC_USER_LIMITATION=64,TOPIC_NAME_SIZE=16,DEFAULT_RPC_TIMEOUT_TIME=5e3,PRESENCE_DATABASE=`vendor-state`,MAX_STATE_COUNT=32,MAX_STATE_KEY_SIZE=32,MAX_STATE_VALUE_SIZE=16384,K_PRESENCE_MAX_CHANNEL_COUNT=100,K_USER_COLLECTION=`/Users`,K_PRESENCE_PREFIX=`/Vendors/`,K_GLOBAL_ONLINE=`/Presence`,K_CHANNEL_ONLINE=`/ChannelPresence/`,K_GLOBAL_PRESENCE_COLLECTION=`_keepalive_`,K_PRESENCE_EXPIRED=`_expired`,K_SYNC_INTERNAL_KEY_PREFIX=`_`,K_INTERVAL_THRESHOLD_MAX=128,K_INTERVAL_THRESHOLD_MIN=8,K_DEFAULT_INTERVAL_THRESHOLD=50,K_PRESENCE_INTERVAL_MAX=300,K_PRESENCE_INTERVAL_MIN=10,K_PRESENCE_INTERVAL_DEFAULT=30,K_PRESENCE_TIMEOUT_MAX=300,K_PRESENCE_TIMEOUT_MIN=5,K_PRESENCE_TIMEOUT_DEFAULT=300,K_DEBOUNCE_DEFAULT=2,CREATE_COLL_INTERVALS=[10,20,30],MONITOR_INTERVAL=1e3,PRESENCE_BACKOFF_EVENT_INTERVAL=6e4,APP_ID_LENGTH=32,VERSION_LENGTH=3,API_QPS_SECOND=1e3,JOIN_TIMEOUT=15e3,RECONNECT_STREAM_CHANNEL_TIMEOUT=12e5,GET_MESSAGE_TIME_LIMIT=864e5,GET_MESSAGE_MAX_COUNT=100,JOIN_LOCK_FLAG=1,JOIN_STORAGE_FLAG=2,JOIN_PRESENCE_FLAG=4,JOIN_MESSAGE_FLAG=8,JOIN_BE_QUIET_FLAG=16;let SyncEstablishState=function(A){return A.DISCONNECTED=`DISCONNECTED`,A.CONNECTING=`CONNECTING`,A.CONNECTED=`CONNECTED`,A.SYNCINIT_0=`SYNCINIT_0`,A.SYNCINIT_1=`SYNCINIT_1`,A}({});const SYNC_RPC_START=`Sync Request Start`,SYNC_RPC_END=`Sync Request End`,SyncDisconnectedReason={REQUEST_FIRST_SYNC_PHYSICAL_CONNECTION_ERROR:`request first sync physical connection error`,REG_SOCKET_RECONNECT:`reg socket reconnect`,SYNC_FIN:`sync fin`,CONNECT_SYNC_DATABASE_ERROR:`connect sync database error`,RETRY_SYNC_PHYSICAL_CONNECTION:`retry sync physical connection`},ACCESS_POINT_CODE=101,UNI_LBS_CODE=201,ApResErrorMessage={INVALID_APP_ID:`Illegal App ID`,APP_ID_NO_ACTIVATED:`The vendor is not activated`,DYNAMIC_KEY_NOT_ENABLED:`The vendor did not enable the dynamic key, but uses the dynamic key`,NO_AUTHORIZED:`Signature verification failed`,DYNAMIC_ENABLED_BUT_STATIC_KEY:`The vendor enabled the dynamic key, but uses the static key`,INVALID_USER_ID:`The user ID to login does not match the token`,INVALID_TOKEN_UID:`UID in the security key(token) is not valid`,TOKEN_TIMEOUT:`Dynamic key expired`,TOKEN_EXPIRED:`The token has expired`,CANNOT_MEET_AREA_DEMAND:`Cannot allocate to meet the requirements of the given area limit`,INIT_APPID_MISMATCH:`The appid in the init request does not match the appid in the token`,FORBIDDEN_REGION:`Forbidden to access the request in this area`,NO_ACTIVE_PRODUCT_STATUS:`NOT_ENABLE_RTM or service has been stopped.`},ApResErrorCode={5:`INVALID_APP_ID`,7:`INVALID_USER_ID`,9:`NO_AUTHORIZED`,10:`TOKEN_TIMEOUT`,11:`APP_ID_NO_ACTIVATED`,12:`INVALID_TOKEN_UID`,13:`TOKEN_EXPIRED`,14:`DYNAMIC_KEY_NOT_ENABLED`,15:`DYNAMIC_ENABLED_BUT_STATIC_KEY`,18:`FORBIDDEN_REGION`,19:`CANNOT_MEET_AREA_DEMAND`,23:`INIT_APPID_MISMATCH`,26:`NO_ACTIVE_PRODUCT_STATUS`},UniLbsNonRetryableErrorCodes=[100,101,102,103,104],AP_DETAIL_KEY_APP_ID=25,AP_DETAIL_KEY_BUSINESS_TYPE=26,AP_DOMAINS_NEW=[`web-1.ap.sd-rtn.com`,`web-2.ap.sd-rtn.com`],AP_DOMAINS_IO=[`ap-web-1.agora.io`,`ap-web-2.agora.io`],AP_BACKUP_DOMAINS_NEW=[`web-3.ap.sd-rtn.com`,`web-4.ap.sd-rtn.com`],AP_BACKUP_DOMAINS_IO=[`ap-web-3.agora.io`,`ap-web-4.agora.io`];let RTMErrorCode=function(A){return A[A.RTM_ERROR_OK=0]=`RTM_ERROR_OK`,A[A.RTM_ERROR_NOT_INITIALIZED=-10001]=`RTM_ERROR_NOT_INITIALIZED`,A[A.RTM_ERROR_NOT_LOGIN=-10002]=`RTM_ERROR_NOT_LOGIN`,A[A.RTM_ERROR_INVALID_APP_ID=-10003]=`RTM_ERROR_INVALID_APP_ID`,A[A.RTM_ERROR_INVALID_EVENT_HANDLER=-10004]=`RTM_ERROR_INVALID_EVENT_HANDLER`,A[A.RTM_ERROR_INVALID_TOKEN=-10005]=`RTM_ERROR_INVALID_TOKEN`,A[A.RTM_ERROR_INVALID_USER_ID=-10006]=`RTM_ERROR_INVALID_USER_ID`,A[A.RTM_ERROR_INIT_SERVICE_FAILED=-10007]=`RTM_ERROR_INIT_SERVICE_FAILED`,A[A.RTM_ERROR_INVALID_CHANNEL_NAME=-10008]=`RTM_ERROR_INVALID_CHANNEL_NAME`,A[A.RTM_ERROR_TOKEN_EXPIRED=-10009]=`RTM_ERROR_TOKEN_EXPIRED`,A[A.RTM_ERROR_LOGIN_NO_SERVER_RESOURCES=-10010]=`RTM_ERROR_LOGIN_NO_SERVER_RESOURCES`,A[A.RTM_ERROR_LOGIN_TIMEOUT=-10011]=`RTM_ERROR_LOGIN_TIMEOUT`,A[A.RTM_ERROR_LOGIN_REJECTED=-10012]=`RTM_ERROR_LOGIN_REJECTED`,A[A.RTM_ERROR_LOGIN_ABORTED=-10013]=`RTM_ERROR_LOGIN_ABORTED`,A[A.RTM_ERROR_INVALID_PARAMETER=-10014]=`RTM_ERROR_INVALID_PARAMETER`,A[A.RTM_ERROR_LOGIN_NOT_AUTHORIZED=-10015]=`RTM_ERROR_LOGIN_NOT_AUTHORIZED`,A[A.RTM_ERROR_INCONSISTENT_APPID=-10016]=`RTM_ERROR_INCONSISTENT_APPID`,A[A.RTM_ERROR_DUPLICATE_OPERATION=-10017]=`RTM_ERROR_DUPLICATE_OPERATION`,A[A.RTM_ERROR_INSTANCE_ALREADY_RELEASED=-10018]=`RTM_ERROR_INSTANCE_ALREADY_RELEASED`,A[A.RTM_ERROR_INVALID_CHANNEL_TYPE=-10019]=`RTM_ERROR_INVALID_CHANNEL_TYPE`,A[A.RTM_ERROR_INVALID_ENCRYPTION_PARAMETER=-10020]=`RTM_ERROR_INVALID_ENCRYPTION_PARAMETER`,A[A.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION=-10021]=`RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION`,A[A.RTM_ERROR_SERVICE_NOT_SUPPORTED=-10022]=`RTM_ERROR_SERVICE_NOT_SUPPORTED`,A[A.RTM_ERROR_LOGIN_CANCELED=-10023]=`RTM_ERROR_LOGIN_CANCELED`,A[A.RTM_ERROR_INVALID_PRIVATE_CONFIG=-10024]=`RTM_ERROR_INVALID_PRIVATE_CONFIG`,A[A.RTM_ERROR_NOT_CONNECTED=-10025]=`RTM_ERROR_NOT_CONNECTED`,A[A.RTM_ERROR_RENEW_TOKEN_TIMEOUT=-10026]=`RTM_ERROR_RENEW_TOKEN_TIMEOUT`,A[A.RTM_ERROR_CHANNEL_NOT_JOINED=-11001]=`RTM_ERROR_CHANNEL_NOT_JOINED`,A[A.RTM_ERROR_CHANNEL_NOT_SUBSCRIBED=-11002]=`RTM_ERROR_CHANNEL_NOT_SUBSCRIBED`,A[A.RTM_ERROR_CHANNEL_EXCEED_TOPIC_USER_LIMITATION=-11003]=`RTM_ERROR_CHANNEL_EXCEED_TOPIC_USER_LIMITATION`,A[A.RTM_ERROR_CHANNEL_IN_REUSE=-11004]=`RTM_ERROR_CHANNEL_IN_REUSE`,A[A.RTM_ERROR_CHANNEL_INSTANCE_EXCEED_LIMITATION=-11005]=`RTM_ERROR_CHANNEL_INSTANCE_EXCEED_LIMITATION`,A[A.RTM_ERROR_CHANNEL_IN_ERROR_STATE=-11006]=`RTM_ERROR_CHANNEL_IN_ERROR_STATE`,A[A.RTM_ERROR_CHANNEL_JOIN_FAILED=-11007]=`RTM_ERROR_CHANNEL_JOIN_FAILED`,A[A.RTM_ERROR_CHANNEL_INVALID_TOPIC_NAME=-11008]=`RTM_ERROR_CHANNEL_INVALID_TOPIC_NAME`,A[A.RTM_ERROR_CHANNEL_INVALID_MESSAGE=-11009]=`RTM_ERROR_CHANNEL_INVALID_MESSAGE`,A[A.RTM_ERROR_CHANNEL_MESSAGE_LENGTH_EXCEED_LIMITATION=-11010]=`RTM_ERROR_CHANNEL_MESSAGE_LENGTH_EXCEED_LIMITATION`,A[A.RTM_ERROR_CHANNEL_INVALID_USER_LIST=-11011]=`RTM_ERROR_CHANNEL_INVALID_USER_LIST`,A[A.RTM_ERROR_CHANNEL_NOT_AVAILABLE=-11012]=`RTM_ERROR_CHANNEL_NOT_AVAILABLE`,A[A.RTM_ERROR_CHANNEL_TOPIC_NOT_SUBSCRIBED=-11013]=`RTM_ERROR_CHANNEL_TOPIC_NOT_SUBSCRIBED`,A[A.RTM_ERROR_CHANNEL_EXCEED_TOPIC_LIMITATION=-11014]=`RTM_ERROR_CHANNEL_EXCEED_TOPIC_LIMITATION`,A[A.RTM_ERROR_CHANNEL_JOIN_TOPIC_FAILED=-11015]=`RTM_ERROR_CHANNEL_JOIN_TOPIC_FAILED`,A[A.RTM_ERROR_CHANNEL_TOPIC_NOT_JOINED=-11016]=`RTM_ERROR_CHANNEL_TOPIC_NOT_JOINED`,A[A.RTM_ERROR_CHANNEL_TOPIC_NOT_EXIST=-11017]=`RTM_ERROR_CHANNEL_TOPIC_NOT_EXIST`,A[A.RTM_ERROR_CHANNEL_INVALID_TOPIC_META=-11018]=`RTM_ERROR_CHANNEL_INVALID_TOPIC_META`,A[A.RTM_ERROR_CHANNEL_SUBSCRIBE_TIMEOUT=-11019]=`RTM_ERROR_CHANNEL_SUBSCRIBE_TIMEOUT`,A[A.RTM_ERROR_CHANNEL_SUBSCRIBE_TOO_FREQUENT=-11020]=`RTM_ERROR_CHANNEL_SUBSCRIBE_TOO_FREQUENT`,A[A.RTM_ERROR_CHANNEL_SUBSCRIBE_FAILED=-11021]=`RTM_ERROR_CHANNEL_SUBSCRIBE_FAILED`,A[A.RTM_ERROR_CHANNEL_UNSUBSCRIBE_FAILED=-11022]=`RTM_ERROR_CHANNEL_UNSUBSCRIBE_FAILED`,A[A.RTM_ERROR_CHANNEL_ENCRYPT_MESSAGE_FAILED=-11023]=`RTM_ERROR_CHANNEL_ENCRYPT_MESSAGE_FAILED`,A[A.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED=-11024]=`RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED`,A[A.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TOO_FREQUENT=-11025]=`RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TOO_FREQUENT`,A[A.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TIMEOUT=-11026]=`RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TIMEOUT`,A[A.RTM_ERROR_CHANNEL_NOT_CONNECTED=-11027]=`RTM_ERROR_CHANNEL_NOT_CONNECTED`,A[A.RTM_ERROR_CHANNEL_LEAVE_FAILED=-11028]=`RTM_ERROR_CHANNEL_LEAVE_FAILED`,A[A.RTM_ERROR_CHANNEL_CUSTOM_TYPE_LENGTH_OVERFLOW=-11029]=`RTM_ERROR_CHANNEL_CUSTOM_TYPE_LENGTH_OVERFLOW`,A[A.RTM_ERROR_CHANNEL_INVALID_CUSTOM_TYPE=-11030]=`RTM_ERROR_CHANNEL_INVALID_CUSTOM_TYPE`,A[A.RTM_ERROR_CHANNEL_UNSUPPORTED_MESSAGE_TYPE=-11031]=`RTM_ERROR_CHANNEL_UNSUPPORTED_MESSAGE_TYPE`,A[A.RTM_ERROR_CHANNEL_PRESENCE_NOT_READY=-11032]=`RTM_ERROR_CHANNEL_PRESENCE_NOT_READY`,A[A.RTM_ERROR_CHANNEL_RECEIVER_OFFLINE=-11033]=`RTM_ERROR_CHANNEL_RECEIVER_OFFLINE`,A[A.RTM_ERROR_CHANNEL_JOIN_CANCELED=-11034]=`RTM_ERROR_CHANNEL_JOIN_CANCELED`,A[A.RTM_ERROR_CHANNEL_RECEIVER_OFFLINE_BUT_STORE_SUCCEEDED=-11035]=`RTM_ERROR_CHANNEL_RECEIVER_OFFLINE_BUT_STORE_SUCCEEDED`,A[A.RTM_ERROR_CHANNEL_RECEIVER_OFFLINE_AND_STORE_FAILED=-11036]=`RTM_ERROR_CHANNEL_RECEIVER_OFFLINE_AND_STORE_FAILED`,A[A.RTM_ERROR_CHANNEL_MESSAGE_DELIVERED_BUT_STORE_FAILED=-11037]=`RTM_ERROR_CHANNEL_MESSAGE_DELIVERED_BUT_STORE_FAILED`,A[A.RTM_ERROR_CHANNEL_SUBSCRIBE_PERMISSION_DENIED=-11038]=`RTM_ERROR_CHANNEL_SUBSCRIBE_PERMISSION_DENIED`,A[A.RTM_ERROR_CHANNEL_PUBLISH_PERMISSION_DENIED=-11039]=`RTM_ERROR_CHANNEL_PUBLISH_PERMISSION_DENIED`,A[A.RTM_ERROR_STORAGE_OPERATION_FAILED=-12001]=`RTM_ERROR_STORAGE_OPERATION_FAILED`,A[A.RTM_ERROR_STORAGE_METADATA_ITEM_EXCEED_LIMITATION=-12002]=`RTM_ERROR_STORAGE_METADATA_ITEM_EXCEED_LIMITATION`,A[A.RTM_ERROR_STORAGE_INVALID_METADATA_ITEM=-12003]=`RTM_ERROR_STORAGE_INVALID_METADATA_ITEM`,A[A.RTM_ERROR_STORAGE_INVALID_ARGUMENT=-12004]=`RTM_ERROR_STORAGE_INVALID_ARGUMENT`,A[A.RTM_ERROR_STORAGE_INVALID_REVISION=-12005]=`RTM_ERROR_STORAGE_INVALID_REVISION`,A[A.RTM_ERROR_STORAGE_METADATA_LENGTH_OVERFLOW=-12006]=`RTM_ERROR_STORAGE_METADATA_LENGTH_OVERFLOW`,A[A.RTM_ERROR_STORAGE_INVALID_LOCK_NAME=-12007]=`RTM_ERROR_STORAGE_INVALID_LOCK_NAME`,A[A.RTM_ERROR_STORAGE_LOCK_NOT_ACQUIRED=-12008]=`RTM_ERROR_STORAGE_LOCK_NOT_ACQUIRED`,A[A.RTM_ERROR_STORAGE_INVALID_KEY=-12009]=`RTM_ERROR_STORAGE_INVALID_KEY`,A[A.RTM_ERROR_STORAGE_INVALID_VALUE=-12010]=`RTM_ERROR_STORAGE_INVALID_VALUE`,A[A.RTM_ERROR_STORAGE_KEY_LENGTH_OVERFLOW=-12011]=`RTM_ERROR_STORAGE_KEY_LENGTH_OVERFLOW`,A[A.RTM_ERROR_STORAGE_VALUE_LENGTH_OVERFLOW=-12012]=`RTM_ERROR_STORAGE_VALUE_LENGTH_OVERFLOW`,A[A.RTM_ERROR_STORAGE_DUPLICATE_KEY=-12013]=`RTM_ERROR_STORAGE_DUPLICATE_KEY`,A[A.RTM_ERROR_STORAGE_OUTDATED_REVISION=-12014]=`RTM_ERROR_STORAGE_OUTDATED_REVISION`,A[A.RTM_ERROR_STORAGE_NOT_SUBSCRIBE=-12015]=`RTM_ERROR_STORAGE_NOT_SUBSCRIBE`,A[A.RTM_ERROR_STORAGE_INVALID_METADATA_INSTANCE=-12016]=`RTM_ERROR_STORAGE_INVALID_METADATA_INSTANCE`,A[A.RTM_ERROR_STORAGE_SUBSCRIBE_USER_EXCEED_LIMITATION=-12017]=`RTM_ERROR_STORAGE_SUBSCRIBE_USER_EXCEED_LIMITATION`,A[A.RTM_ERROR_STORAGE_OPERATION_TIMEOUT=-12018]=`RTM_ERROR_STORAGE_OPERATION_TIMEOUT`,A[A.RTM_ERROR_STORAGE_NOT_AVAILABLE=-12019]=`RTM_ERROR_STORAGE_NOT_AVAILABLE`,A[A.RTM_ERROR_STORAGE_PERMISSION_DENIED=-12020]=`RTM_ERROR_STORAGE_PERMISSION_DENIED`,A[A.RTM_ERROR_PRESENCE_NOT_CONNECTED=-13001]=`RTM_ERROR_PRESENCE_NOT_CONNECTED`,A[A.RTM_ERROR_PRESENCE_NOT_WRITABLE=-13002]=`RTM_ERROR_PRESENCE_NOT_WRITABLE`,A[A.RTM_ERROR_PRESENCE_INVALID_ARGUMENT=-13003]=`RTM_ERROR_PRESENCE_INVALID_ARGUMENT`,A[A.RTM_ERROR_PRESENCE_CACHED_TOO_MANY_STATES=-13004]=`RTM_ERROR_PRESENCE_CACHED_TOO_MANY_STATES`,A[A.RTM_ERROR_PRESENCE_STATE_COUNT_OVERFLOW=-13005]=`RTM_ERROR_PRESENCE_STATE_COUNT_OVERFLOW`,A[A.RTM_ERROR_PRESENCE_INVALID_STATE_KEY=-13006]=`RTM_ERROR_PRESENCE_INVALID_STATE_KEY`,A[A.RTM_ERROR_PRESENCE_INVALID_STATE_VALUE=-13007]=`RTM_ERROR_PRESENCE_INVALID_STATE_VALUE`,A[A.RTM_ERROR_PRESENCE_STATE_KEY_SIZE_OVERFLOW=-13008]=`RTM_ERROR_PRESENCE_STATE_KEY_SIZE_OVERFLOW`,A[A.RTM_ERROR_PRESENCE_STATE_VALUE_SIZE_OVERFLOW=-13009]=`RTM_ERROR_PRESENCE_STATE_VALUE_SIZE_OVERFLOW`,A[A.RTM_ERROR_PRESENCE_STATE_DUPLICATE_KEY=-13010]=`RTM_ERROR_PRESENCE_STATE_DUPLICATE_KEY`,A[A.RTM_ERROR_PRESENCE_USER_NOT_EXIST=-13011]=`RTM_ERROR_PRESENCE_USER_NOT_EXIST`,A[A.RTM_ERROR_PRESENCE_OPERATION_TIMEOUT=-13012]=`RTM_ERROR_PRESENCE_OPERATION_TIMEOUT`,A[A.RTM_ERROR_PRESENCE_OPERATION_FAILED=-13013]=`RTM_ERROR_PRESENCE_OPERATION_FAILED`,A[A.RTM_ERROR_LOCK_OPERATION_FAILED=-14001]=`RTM_ERROR_LOCK_OPERATION_FAILED`,A[A.RTM_ERROR_LOCK_OPERATION_TIMEOUT=-14002]=`RTM_ERROR_LOCK_OPERATION_TIMEOUT`,A[A.RTM_ERROR_LOCK_OPERATION_PERFORMING=-14003]=`RTM_ERROR_LOCK_OPERATION_PERFORMING`,A[A.RTM_ERROR_LOCK_ALREADY_EXIST=-14004]=`RTM_ERROR_LOCK_ALREADY_EXIST`,A[A.RTM_ERROR_LOCK_INVALID_NAME=-14005]=`RTM_ERROR_LOCK_INVALID_NAME`,A[A.RTM_ERROR_LOCK_NOT_ACQUIRED=-14006]=`RTM_ERROR_LOCK_NOT_ACQUIRED`,A[A.RTM_ERROR_LOCK_ACQUIRE_FAILED=-14007]=`RTM_ERROR_LOCK_ACQUIRE_FAILED`,A[A.RTM_ERROR_LOCK_NOT_EXIST=-14008]=`RTM_ERROR_LOCK_NOT_EXIST`,A[A.RTM_ERROR_LOCK_NOT_AVAILABLE=-14009]=`RTM_ERROR_LOCK_NOT_AVAILABLE`,A[A.RTM_ERROR_LOCK_PERMISSION_DENIED=-14010]=`RTM_ERROR_LOCK_PERMISSION_DENIED`,A[A.RTM_ERROR_HISTORY_OPERATION_FAILED=-15001]=`RTM_ERROR_HISTORY_OPERATION_FAILED`,A[A.RTM_ERROR_HISTORY_INVALID_TIMESTAMP=-15002]=`RTM_ERROR_HISTORY_INVALID_TIMESTAMP`,A[A.RTM_ERROR_HISTORY_OPERATION_TIMEOUT=-15003]=`RTM_ERROR_HISTORY_OPERATION_TIMEOUT`,A[A.RTM_ERROR_HISTORY_OPERATION_NOT_PERMITTED=-15004]=`RTM_ERROR_HISTORY_OPERATION_NOT_PERMITTED`,A[A.RTM_ERROR_HISTORY_NOT_AVAILABLE=-15005]=`RTM_ERROR_HISTORY_NOT_AVAILABLE`,A[A.RTM_ERROR_HISTORY_PERMISSION_DENIED=-15006]=`RTM_ERROR_HISTORY_PERMISSION_DENIED`,A}({});const detailMsg4InvalidParam=`illegal symbol or too long.`,RTMErrorDescription={[RTMErrorCode.RTM_ERROR_OK]:`No error.`,[RTMErrorCode.RTM_ERROR_NOT_INITIALIZED]:`Preform operation without initialize.`,[RTMErrorCode.RTM_ERROR_NOT_LOGIN]:`Preform operation without login RTM service.`,[RTMErrorCode.RTM_ERROR_INVALID_APP_ID]:`Invalid App id. ${detailMsg4InvalidParam}`,[RTMErrorCode.RTM_ERROR_INVALID_EVENT_HANDLER]:`Invalid event handler.`,[RTMErrorCode.RTM_ERROR_INVALID_TOKEN]:`Invalid token.`,[RTMErrorCode.RTM_ERROR_INVALID_USER_ID]:`Invalid user id. ${detailMsg4InvalidParam}`,[RTMErrorCode.RTM_ERROR_INIT_SERVICE_FAILED]:`Initialize agora service failed.`,[RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_NAME]:`Invalid channel name. ${detailMsg4InvalidParam}`,[RTMErrorCode.RTM_ERROR_TOKEN_EXPIRED]:`Token is expired.`,[RTMErrorCode.RTM_ERROR_LOGIN_NO_SERVER_RESOURCES]:`No server resources.`,[RTMErrorCode.RTM_ERROR_LOGIN_TIMEOUT]:`Login RTM service timeout.`,[RTMErrorCode.RTM_ERROR_LOGIN_REJECTED]:`Login RTM service was rejected due to server error.`,[RTMErrorCode.RTM_ERROR_LOGIN_ABORTED]:`Login RTM service was aborted due to unrecoverable error.`,[RTMErrorCode.RTM_ERROR_INVALID_PARAMETER]:`Invalid parameter.`,[RTMErrorCode.RTM_ERROR_LOGIN_NOT_AUTHORIZED]:`The RTM service is not enabled or has been stopped.`,[RTMErrorCode.RTM_ERROR_INCONSISTENT_APPID]:`The appid is not consistent.`,[RTMErrorCode.RTM_ERROR_DUPLICATE_OPERATION]:`Same subscribe, join or login request`,[RTMErrorCode.RTM_ERROR_INSTANCE_ALREADY_RELEASED]:`Instance already released or destroyed, need to create new one`,[RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_TYPE]:`Invalid channel type, some api not support set channel type as user.`,[RTMErrorCode.RTM_ERROR_INVALID_ENCRYPTION_PARAMETER]:`Invalid encryption parameter.`,[RTMErrorCode.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION]:`The operation rate exceeds limitation.`,[RTMErrorCode.RTM_ERROR_SERVICE_NOT_SUPPORTED]:`Service doesn't support.`,[RTMErrorCode.RTM_ERROR_LOGIN_CANCELED]:`Login RTM service was canceled by user.`,[RTMErrorCode.RTM_ERROR_INVALID_PRIVATE_CONFIG]:`Set private config should both set serviceType and accessPointHosts.`,[RTMErrorCode.RTM_ERROR_NOT_CONNECTED]:`Perform operation failed due to RTM service is not connected`,[RTMErrorCode.RTM_ERROR_RENEW_TOKEN_TIMEOUT]:`RenewToken operation timeout.`,[RTMErrorCode.RTM_ERROR_CHANNEL_NOT_JOINED]:`Perform operation without join stream channel.`,[RTMErrorCode.RTM_ERROR_CHANNEL_NOT_SUBSCRIBED]:`Perform operation without subscribe message channel.`,[RTMErrorCode.RTM_ERROR_CHANNEL_EXCEED_TOPIC_USER_LIMITATION]:`Subscribe failed due to exceed topic user limitation in stream channel.`,[RTMErrorCode.RTM_ERROR_CHANNEL_IN_REUSE]:`Release a stream channel which was reused in RTC channel.`,[RTMErrorCode.RTM_ERROR_CHANNEL_INSTANCE_EXCEED_LIMITATION]:`Join or subscribe too many channels and have reach limitation.`,[RTMErrorCode.RTM_ERROR_CHANNEL_IN_ERROR_STATE]:`Perform channel operation failed since channel state is incorrect.`,[RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_FAILED]:`Join stream channel failed.`,[RTMErrorCode.RTM_ERROR_CHANNEL_INVALID_TOPIC_NAME]:`Perform topic operation with invalid name.${detailMsg4InvalidParam}`,[RTMErrorCode.RTM_ERROR_CHANNEL_INVALID_MESSAGE]:`Publish invalid message.`,[RTMErrorCode.RTM_ERROR_CHANNEL_MESSAGE_LENGTH_EXCEED_LIMITATION]:`Publish too long message.`,[RTMErrorCode.RTM_ERROR_CHANNEL_INVALID_USER_LIST]:`Perform topic operation with invalid user list.`,[RTMErrorCode.RTM_ERROR_CHANNEL_NOT_AVAILABLE]:`Stream channel not available for this app id.`,[RTMErrorCode.RTM_ERROR_CHANNEL_TOPIC_NOT_SUBSCRIBED]:`Perform topic operation without subscribe.`,[RTMErrorCode.RTM_ERROR_CHANNEL_EXCEED_TOPIC_LIMITATION]:`Have subscribe or joined too many topics.`,[RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_TOPIC_FAILED]:`Join topic failed.`,[RTMErrorCode.RTM_ERROR_CHANNEL_TOPIC_NOT_JOINED]:`Perform topic operation without join.`,[RTMErrorCode.RTM_ERROR_CHANNEL_TOPIC_NOT_EXIST]:`Topic does not exist.`,[RTMErrorCode.RTM_ERROR_CHANNEL_INVALID_TOPIC_META]:`Topic meta is invalid.`,[RTMErrorCode.RTM_ERROR_CHANNEL_SUBSCRIBE_TIMEOUT]:`Subscribe message channel timeout.`,[RTMErrorCode.RTM_ERROR_CHANNEL_SUBSCRIBE_TOO_FREQUENT]:`Subscribe message channel too frequently.`,[RTMErrorCode.RTM_ERROR_CHANNEL_SUBSCRIBE_FAILED]:`Subscribe message channel failed.`,[RTMErrorCode.RTM_ERROR_CHANNEL_UNSUBSCRIBE_FAILED]:`Unsubscribe message channel failed.`,[RTMErrorCode.RTM_ERROR_CHANNEL_ENCRYPT_MESSAGE_FAILED]:`Encrypt message failed.`,[RTMErrorCode.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED]:`Publish message failed.`,[RTMErrorCode.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TOO_FREQUENT]:`Publish message too frequently.`,[RTMErrorCode.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TIMEOUT]:`Publish message timeout.`,[RTMErrorCode.RTM_ERROR_CHANNEL_NOT_CONNECTED]:`Perform operation failed due to connection closed.`,[RTMErrorCode.RTM_ERROR_CHANNEL_LEAVE_FAILED]:`Leave channel failed.`,[RTMErrorCode.RTM_ERROR_CHANNEL_CUSTOM_TYPE_LENGTH_OVERFLOW]:`The length of custom type overflow.`,[RTMErrorCode.RTM_ERROR_CHANNEL_INVALID_CUSTOM_TYPE]:`Send message with invalid custom type.`,[RTMErrorCode.RTM_ERROR_CHANNEL_UNSUPPORTED_MESSAGE_TYPE]:`Send message with unsupported message type.`,[RTMErrorCode.RTM_ERROR_CHANNEL_PRESENCE_NOT_READY]:`Join or subscribe channel failed due to presence service not ready.`,[RTMErrorCode.RTM_ERROR_CHANNEL_RECEIVER_OFFLINE]:`Publish a message to user now is offline.`,[RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_CANCELED]:`Join channel operation was canceled.`,[RTMErrorCode.RTM_ERROR_CHANNEL_RECEIVER_OFFLINE_BUT_STORE_SUCCEEDED]:`Message receiver is offline but store in history succeeded.`,[RTMErrorCode.RTM_ERROR_CHANNEL_RECEIVER_OFFLINE_AND_STORE_FAILED]:`Message receiver is offline and store in history failed.`,[RTMErrorCode.RTM_ERROR_CHANNEL_MESSAGE_DELIVERED_BUT_STORE_FAILED]:`Message delivered successfully but store in history failed.`,[RTMErrorCode.RTM_ERROR_CHANNEL_SUBSCRIBE_PERMISSION_DENIED]:`No permission to subscribe message channel.`,[RTMErrorCode.RTM_ERROR_CHANNEL_PUBLISH_PERMISSION_DENIED]:`No permission to publish message.`,[RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_FAILED]:`Storage operation failed.`,[RTMErrorCode.RTM_ERROR_STORAGE_METADATA_ITEM_EXCEED_LIMITATION]:`Metadata item size exceeds limitation.`,[RTMErrorCode.RTM_ERROR_STORAGE_INVALID_METADATA_ITEM]:`Metadata item is invalid.`,[RTMErrorCode.RTM_ERROR_STORAGE_INVALID_ARGUMENT]:`Server reject operation due to invalid argument.`,[RTMErrorCode.RTM_ERROR_STORAGE_INVALID_REVISION]:`Metadata item with invalid revision.`,[RTMErrorCode.RTM_ERROR_STORAGE_METADATA_LENGTH_OVERFLOW]:`The length of metadata items overflow.`,[RTMErrorCode.RTM_ERROR_STORAGE_INVALID_LOCK_NAME]:`Storage operation with invalid lock name. ${detailMsg4InvalidParam}`,[RTMErrorCode.RTM_ERROR_STORAGE_LOCK_NOT_ACQUIRED]:`Storage operation with lock not acquired.`,[RTMErrorCode.RTM_ERROR_STORAGE_INVALID_KEY]:`Storage operation with invalid key.`,[RTMErrorCode.RTM_ERROR_STORAGE_INVALID_VALUE]:`Storage operation with invalid value.`,[RTMErrorCode.RTM_ERROR_STORAGE_KEY_LENGTH_OVERFLOW]:`Storage operation with key length overflow.`,[RTMErrorCode.RTM_ERROR_STORAGE_VALUE_LENGTH_OVERFLOW]:`Storage operation with value length overflow.`,[RTMErrorCode.RTM_ERROR_STORAGE_DUPLICATE_KEY]:`Storage operation with duplicate key.`,[RTMErrorCode.RTM_ERROR_STORAGE_OUTDATED_REVISION]:`Storage operation with outdated revision or the key does not exist.`,[RTMErrorCode.RTM_ERROR_STORAGE_NOT_SUBSCRIBE]:`Storage operation without subscribe.`,[RTMErrorCode.RTM_ERROR_STORAGE_INVALID_METADATA_INSTANCE]:`Metadata instance is invalid.`,[RTMErrorCode.RTM_ERROR_STORAGE_SUBSCRIBE_USER_EXCEED_LIMITATION]:`Subscribe user metadata exceeds limitation.`,[RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT]:`Storage operation timeout.`,[RTMErrorCode.RTM_ERROR_STORAGE_NOT_AVAILABLE]:`Storage service is not available.`,[RTMErrorCode.RTM_ERROR_STORAGE_PERMISSION_DENIED]:`No permission to access storage service.`,[RTMErrorCode.RTM_ERROR_PRESENCE_NOT_CONNECTED]:`Presence service not connected.`,[RTMErrorCode.RTM_ERROR_PRESENCE_NOT_WRITABLE]:`Operation failed since presence document is not writable, try later.`,[RTMErrorCode.RTM_ERROR_PRESENCE_INVALID_ARGUMENT]:`Presence operation failed due to invalid argument.`,[RTMErrorCode.RTM_ERROR_PRESENCE_CACHED_TOO_MANY_STATES]:`Exceed presence cache limitation.`,[RTMErrorCode.RTM_ERROR_PRESENCE_STATE_COUNT_OVERFLOW]:`Exceed presence state count limitation.`,[RTMErrorCode.RTM_ERROR_PRESENCE_INVALID_STATE_KEY]:`Invalid presence state key.`,[RTMErrorCode.RTM_ERROR_PRESENCE_INVALID_STATE_VALUE]:`Invalid presence state value.`,[RTMErrorCode.RTM_ERROR_PRESENCE_STATE_KEY_SIZE_OVERFLOW]:`Presence state key length is too long.`,[RTMErrorCode.RTM_ERROR_PRESENCE_STATE_VALUE_SIZE_OVERFLOW]:`Presence state value length is too long.`,[RTMErrorCode.RTM_ERROR_PRESENCE_STATE_DUPLICATE_KEY]:`Presence operation failed since including duplicate key.`,[RTMErrorCode.RTM_ERROR_PRESENCE_USER_NOT_EXIST]:`Presence operation failed due to inexistent user.`,[RTMErrorCode.RTM_ERROR_PRESENCE_OPERATION_TIMEOUT]:`Presence operation timeout.`,[RTMErrorCode.RTM_ERROR_PRESENCE_OPERATION_FAILED]:`Presence operation failed.`,[RTMErrorCode.RTM_ERROR_LOCK_OPERATION_FAILED]:`Lock operation failed.`,[RTMErrorCode.RTM_ERROR_LOCK_OPERATION_TIMEOUT]:`Lock operation timeout.`,[RTMErrorCode.RTM_ERROR_LOCK_OPERATION_PERFORMING]:`Lock operation is performing, try later.`,[RTMErrorCode.RTM_ERROR_LOCK_ALREADY_EXIST]:`Lock already exist.`,[RTMErrorCode.RTM_ERROR_LOCK_INVALID_NAME]:`Lock operation with invalid name. ${detailMsg4InvalidParam}`,[RTMErrorCode.RTM_ERROR_LOCK_NOT_ACQUIRED]:`Lock not acquired.`,[RTMErrorCode.RTM_ERROR_LOCK_ACQUIRE_FAILED]:`Lock acquire failed.`,[RTMErrorCode.RTM_ERROR_LOCK_NOT_EXIST]:`Lock not exist.`,[RTMErrorCode.RTM_ERROR_LOCK_NOT_AVAILABLE]:`Lock service is not available.`,[RTMErrorCode.RTM_ERROR_LOCK_PERMISSION_DENIED]:`No permission to access lock service.`,[RTMErrorCode.RTM_ERROR_HISTORY_INVALID_TIMESTAMP]:`Invalid start or end timestamp.`,[RTMErrorCode.RTM_ERROR_HISTORY_OPERATION_FAILED]:`History operation failed.`,[RTMErrorCode.RTM_ERROR_HISTORY_OPERATION_TIMEOUT]:`History operation timeout.`,[RTMErrorCode.RTM_ERROR_HISTORY_OPERATION_NOT_PERMITTED]:`History operation is not permitted.`,[RTMErrorCode.RTM_ERROR_HISTORY_NOT_AVAILABLE]:`History service is not available.`,[RTMErrorCode.RTM_ERROR_HISTORY_PERMISSION_DENIED]:`No permission to access history service.`},ReportId={Counter:1,ApiExec:154,Session:164,ApEvent:165,Link:166,Logout:167,TxMessage:168,RxMessage:169,KickedOff:170,TxMessageRes:171,ChnJoin:172,ChnJoinRes:173,ChnLeave:174,ChnGetMembers:175,ChnGetMembersRes:176,ChnMemberJoined:177,ChnMemberLeft:178,QueryPeersOnlineStatus:179,QueryPeersOnlineStatusRes:180,RenewToken:181,OperateAttribute:186,OperateAttributeRes:187,ApRequest:188,LinkTcpEvent:189,LinkLoginRequest:190,ConnectionStateChange:191,RtmSdkMessageCount:510,SyncOperateEvent:9654,SyncSubscribeEvent:9651,LoginResult:10071,ChannelPresenceSnapshotEvent:10070,LinkStateChange:10201,RenewTokenRes:10204,SyncLockAcquireEvent:9740,SyncLockReleaseEvent:9741,SyncLockUpdateEvent:9742,SyncLockDisableEvent:9764,StreamChnJoin:10273,StreamChnLeave:10274,TopicJoin:10275,TopicLeave:10276,TopicSubscribe:10202,TopicUnsubscribe:10277,TopicUpdateEvent:10278},LogFilter={LOG_FILTER_NONE:{error:!1,warn:!1,info:!1,track:!1,debug:!1},LOG_FILTER_ERROR:{error:!0,warn:!1,info:!1,track:!1,debug:!1},LOG_FILTER_WARN:{error:!0,warn:!0,info:!1,track:!1,debug:!1},LOG_FILTER_INFO:{error:!0,warn:!0,info:!0,track:!1,debug:!1},LOG_FILTER_DEBUG:{error:!0,warn:!0,info:!0,track:!0,debug:!0}},linkStateCodeMap={IDLE:0,CONNECTING:1,CONNECTED:2,DISCONNECTED:3,SUSPENDED:4,FAILED:5},topicEventTypeMap={NONE:0,SNAPSHOT:1,REMOTE_JOIN:2,REMOTE_LEAVE:3},linkOperationCodeMap={LOGIN:0,LOGOUT:1,JOIN:2,LEAVE:3,SERVER_REJECT:4,AUTO_RECONNECT:5,RECONNECTED:6,HEARTBEAT_TIMEOUT:7,SERVER_TIMEOUT:8,NETWORK_CHANGE:9},STREAM_CHANNEL_PREFIX=`*s*`,EDGE_ENV_PORT={0:9591,1:9593};var util$7={exports:{}},forge$8={options:{usePureJavaScript:!1}},api={},baseN$1=api,_reverseAlphabets={};function _encodeWithByteBuffer(A,e){var t=0,g=e.length,o=e.charAt(0),I=[0];for(t=0;t<A.length();++t){for(var i$1=0,r=A.at(t);i$1<I.length;++i$1)r+=I[i$1]<<8,I[i$1]=r%g,r=r/g|0;for(;r>0;)I.push(r%g),r=r/g|0}var n=``;for(t=0;A.at(t)===0&&t<A.length()-1;++t)n+=o;for(t=I.length-1;t>=0;--t)n+=e[I[t]];return n}api.encode=function(A,e,t){if(typeof e!=`string`)throw TypeError(`"alphabet" must be a string.`);if(t!==void 0&&typeof t!=`number`)throw TypeError(`"maxline" must be a number.`);var g=``;if(A instanceof Uint8Array){var o=0,I=e.length,i$1=e.charAt(0),r=[0];for(o=0;o<A.length;++o){for(var n=0,C=A[o];n<r.length;++n)C+=r[n]<<8,r[n]=C%I,C=C/I|0;for(;C>0;)r.push(C%I),C=C/I|0}for(o=0;A[o]===0&&o<A.length-1;++o)g+=i$1;for(o=r.length-1;o>=0;--o)g+=e[r[o]]}else g=_encodeWithByteBuffer(A,e);if(t){var E=RegExp(`.{1,`+t+`}`,`g`);g=g.match(E).join(`\r
`)}return g},api.decode=function(A,e){if(typeof A!=`string`)throw TypeError(`"input" must be a string.`);if(typeof e!=`string`)throw TypeError(`"alphabet" must be a string.`);var t=_reverseAlphabets[e];if(!t){t=_reverseAlphabets[e]=[];for(var g=0;g<e.length;++g)t[e.charCodeAt(g)]=g}A=A.replace(/\s/g,``);var o=e.length,I=e.charAt(0),i$1=[0];for(g=0;g<A.length;g++){var r=t[A.charCodeAt(g)];if(r===void 0)return;for(var n=0,C=r;n<i$1.length;++n)C+=i$1[n]*o,i$1[n]=255&C,C>>=8;for(;C>0;)i$1.push(255&C),C>>=8}for(var E=0;A[E]===I&&E<A.length-1;++E)i$1.push(0);return typeof Buffer<`u`?Buffer.from(i$1.reverse()):new Uint8Array(i$1.reverse())};var forge$7=forge$8,baseN=baseN$1,util$5=util$7.exports=forge$7.util=forge$7.util||{};function _checkBitsParam(A){if(A!==8&&A!==16&&A!==24&&A!==32)throw Error(`Only 8, 16, 24, or 32 bits supported: `+A)}function ByteStringBuffer(A){if(this.data=``,this.read=0,typeof A==`string`)this.data=A;else if(util$5.isArrayBuffer(A)||util$5.isArrayBufferView(A))if(typeof Buffer<`u`&&A instanceof Buffer)this.data=A.toString(`binary`);else{var e=new Uint8Array(A);try{this.data=String.fromCharCode.apply(null,e)}catch{for(var t=0;t<e.length;++t)this.putByte(e[t])}}else (A instanceof ByteStringBuffer||typeof A==`object`&&typeof A.data==`string`&&typeof A.read==`number`)&&(this.data=A.data,this.read=A.read);this._constructedStringLength=0}(function(){if(typeof process<`u`&&process.nextTick&&!process.browser)return util$5.nextTick=process.nextTick,void(typeof setImmediate==`function`?util$5.setImmediate=setImmediate:util$5.setImmediate=util$5.nextTick);if(typeof setImmediate==`function`)return util$5.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(util$5.nextTick=function(A$1){return setImmediate(A$1)});if(util$5.setImmediate=function(A$1){setTimeout(A$1,0)},typeof window<`u`&&typeof window.postMessage==`function`){var A=`forge.setImmediate`,e=[];function i$1(t$1){if(t$1.source===window&&t$1.data===A){t$1.stopPropagation();var g$1=e.slice();e.length=0,g$1.forEach(function(A$1){A$1()})}}util$5.setImmediate=function(t$1){e.push(t$1),e.length===1&&window.postMessage(A,`*`)},window.addEventListener(`message`,i$1,!0)}if(typeof MutationObserver<`u`){var t=Date.now(),g=!0,o=document.createElement(`div`);e=[],new MutationObserver(function(){var A$1=e.slice();e.length=0,A$1.forEach(function(A$2){A$2()})}).observe(o,{attributes:!0});var I=util$5.setImmediate;util$5.setImmediate=function(A$1){Date.now()-t>15?(t=Date.now(),I(A$1)):(e.push(A$1),e.length===1&&o.setAttribute(`a`,g=!g))}}util$5.nextTick=util$5.setImmediate})(),util$5.isNodejs=typeof process<`u`&&process.versions&&process.versions.node,util$5.globalScope=util$5.isNodejs?commonjsGlobal:typeof self>`u`?window:self,util$5.isArray=Array.isArray||function(A){return Object.prototype.toString.call(A)===`[object Array]`},util$5.isArrayBuffer=function(A){return typeof ArrayBuffer<`u`&&A instanceof ArrayBuffer},util$5.isArrayBufferView=function(A){return A&&util$5.isArrayBuffer(A.buffer)&&A.byteLength!==void 0},util$5.ByteBuffer=ByteStringBuffer,util$5.ByteStringBuffer=ByteStringBuffer;var _MAX_CONSTRUCTED_STRING_LENGTH=4096;function DataBuffer(A,e){e||={},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var t=util$5.isArrayBuffer(A),g=util$5.isArrayBufferView(A);if(t||g)return this.data=t?new DataView(A):new DataView(A.buffer,A.byteOffset,A.byteLength),void(this.write=`writeOffset`in e?e.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,A!=null&&this.putBytes(A),`writeOffset`in e&&(this.write=e.writeOffset)}util$5.ByteStringBuffer.prototype._optimizeConstructedString=function(A){this._constructedStringLength+=A,this._constructedStringLength>_MAX_CONSTRUCTED_STRING_LENGTH&&(this.data.substr(0,1),this._constructedStringLength=0)},util$5.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},util$5.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},util$5.ByteStringBuffer.prototype.putByte=function(A){return this.putBytes(String.fromCharCode(A))},util$5.ByteStringBuffer.prototype.fillWithByte=function(A,e){A=String.fromCharCode(A);for(var t=this.data;e>0;)1&e&&(t+=A),(e>>>=1)>0&&(A+=A);return this.data=t,this._optimizeConstructedString(e),this},util$5.ByteStringBuffer.prototype.putBytes=function(A){return this.data+=A,this._optimizeConstructedString(A.length),this},util$5.ByteStringBuffer.prototype.putString=function(A){return this.putBytes(util$5.encodeUtf8(A))},util$5.ByteStringBuffer.prototype.putInt16=function(A){return this.putBytes(String.fromCharCode(A>>8&255)+String.fromCharCode(255&A))},util$5.ByteStringBuffer.prototype.putInt24=function(A){return this.putBytes(String.fromCharCode(A>>16&255)+String.fromCharCode(A>>8&255)+String.fromCharCode(255&A))},util$5.ByteStringBuffer.prototype.putInt32=function(A){return this.putBytes(String.fromCharCode(A>>24&255)+String.fromCharCode(A>>16&255)+String.fromCharCode(A>>8&255)+String.fromCharCode(255&A))},util$5.ByteStringBuffer.prototype.putInt16Le=function(A){return this.putBytes(String.fromCharCode(255&A)+String.fromCharCode(A>>8&255))},util$5.ByteStringBuffer.prototype.putInt24Le=function(A){return this.putBytes(String.fromCharCode(255&A)+String.fromCharCode(A>>8&255)+String.fromCharCode(A>>16&255))},util$5.ByteStringBuffer.prototype.putInt32Le=function(A){return this.putBytes(String.fromCharCode(255&A)+String.fromCharCode(A>>8&255)+String.fromCharCode(A>>16&255)+String.fromCharCode(A>>24&255))},util$5.ByteStringBuffer.prototype.putInt=function(A,e){_checkBitsParam(e);var t=``;do e-=8,t+=String.fromCharCode(A>>e&255);while(e>0);return this.putBytes(t)},util$5.ByteStringBuffer.prototype.putSignedInt=function(A,e){return A<0&&(A+=2<<e-1),this.putInt(A,e)},util$5.ByteStringBuffer.prototype.putBuffer=function(A){return this.putBytes(A.getBytes())},util$5.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},util$5.ByteStringBuffer.prototype.getInt16=function(){var A=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,A},util$5.ByteStringBuffer.prototype.getInt24=function(){var A=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,A},util$5.ByteStringBuffer.prototype.getInt32=function(){var A=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,A},util$5.ByteStringBuffer.prototype.getInt16Le=function(){var A=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,A},util$5.ByteStringBuffer.prototype.getInt24Le=function(){var A=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,A},util$5.ByteStringBuffer.prototype.getInt32Le=function(){var A=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,A},util$5.ByteStringBuffer.prototype.getInt=function(A){_checkBitsParam(A);var e=0;do e=(e<<8)+this.data.charCodeAt(this.read++),A-=8;while(A>0);return e},util$5.ByteStringBuffer.prototype.getSignedInt=function(A){var e=this.getInt(A),t=2<<A-2;return e>=t&&(e-=t<<1),e},util$5.ByteStringBuffer.prototype.getBytes=function(A){var e;return A?(A=Math.min(this.length(),A),e=this.data.slice(this.read,this.read+A),this.read+=A):A===0?e=``:(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e},util$5.ByteStringBuffer.prototype.bytes=function(A){return A===void 0?this.data.slice(this.read):this.data.slice(this.read,this.read+A)},util$5.ByteStringBuffer.prototype.at=function(A){return this.data.charCodeAt(this.read+A)},util$5.ByteStringBuffer.prototype.setAt=function(A,e){return this.data=this.data.substr(0,this.read+A)+String.fromCharCode(e)+this.data.substr(this.read+A+1),this},util$5.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},util$5.ByteStringBuffer.prototype.copy=function(){var A=util$5.createBuffer(this.data);return A.read=this.read,A},util$5.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},util$5.ByteStringBuffer.prototype.clear=function(){return this.data=``,this.read=0,this},util$5.ByteStringBuffer.prototype.truncate=function(A){var e=Math.max(0,this.length()-A);return this.data=this.data.substr(this.read,e),this.read=0,this},util$5.ByteStringBuffer.prototype.toHex=function(){for(var A=``,e=this.read;e<this.data.length;++e){var t=this.data.charCodeAt(e);t<16&&(A+=`0`),A+=t.toString(16)}return A},util$5.ByteStringBuffer.prototype.toString=function(){return util$5.decodeUtf8(this.bytes())},util$5.DataBuffer=DataBuffer,util$5.DataBuffer.prototype.length=function(){return this.write-this.read},util$5.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},util$5.DataBuffer.prototype.accommodate=function(A,e){if(this.length()>=A)return this;e=Math.max(e||this.growSize,A);var t=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),g=new Uint8Array(this.length()+e);return g.set(t),this.data=new DataView(g.buffer),this},util$5.DataBuffer.prototype.putByte=function(A){return this.accommodate(1),this.data.setUint8(this.write++,A),this},util$5.DataBuffer.prototype.fillWithByte=function(A,e){this.accommodate(e);for(var t=0;t<e;++t)this.data.setUint8(A);return this},util$5.DataBuffer.prototype.putBytes=function(A,e){if(util$5.isArrayBufferView(A)){var t=(g=new Uint8Array(A.buffer,A.byteOffset,A.byteLength)).byteLength-g.byteOffset;return this.accommodate(t),new Uint8Array(this.data.buffer,this.write).set(g),this.write+=t,this}if(util$5.isArrayBuffer(A)){var g=new Uint8Array(A);return this.accommodate(g.byteLength),new Uint8Array(this.data.buffer).set(g,this.write),this.write+=g.byteLength,this}if(A instanceof util$5.DataBuffer||typeof A==`object`&&typeof A.read==`number`&&typeof A.write==`number`&&util$5.isArrayBufferView(A.data))return g=new Uint8Array(A.data.byteLength,A.read,A.length()),this.accommodate(g.byteLength),new Uint8Array(A.data.byteLength,this.write).set(g),this.write+=g.byteLength,this;if(A instanceof util$5.ByteStringBuffer&&(A=A.data,e=`binary`),e||=`binary`,typeof A==`string`){var o;if(e===`hex`)return this.accommodate(Math.ceil(A.length/2)),o=new Uint8Array(this.data.buffer,this.write),this.write+=util$5.binary.hex.decode(A,o,this.write),this;if(e===`base64`)return this.accommodate(3*Math.ceil(A.length/4)),o=new Uint8Array(this.data.buffer,this.write),this.write+=util$5.binary.base64.decode(A,o,this.write),this;if(e===`utf8`&&(A=util$5.encodeUtf8(A),e=`binary`),e===`binary`||e===`raw`)return this.accommodate(A.length),o=new Uint8Array(this.data.buffer,this.write),this.write+=util$5.binary.raw.decode(o),this;if(e===`utf16`)return this.accommodate(2*A.length),o=new Uint16Array(this.data.buffer,this.write),this.write+=util$5.text.utf16.encode(o),this;throw Error(`Invalid encoding: `+e)}throw Error(`Invalid parameter: `+A)},util$5.DataBuffer.prototype.putBuffer=function(A){return this.putBytes(A),A.clear(),this},util$5.DataBuffer.prototype.putString=function(A){return this.putBytes(A,`utf16`)},util$5.DataBuffer.prototype.putInt16=function(A){return this.accommodate(2),this.data.setInt16(this.write,A),this.write+=2,this},util$5.DataBuffer.prototype.putInt24=function(A){return this.accommodate(3),this.data.setInt16(this.write,A>>8&65535),this.data.setInt8(this.write,A>>16&255),this.write+=3,this},util$5.DataBuffer.prototype.putInt32=function(A){return this.accommodate(4),this.data.setInt32(this.write,A),this.write+=4,this},util$5.DataBuffer.prototype.putInt16Le=function(A){return this.accommodate(2),this.data.setInt16(this.write,A,!0),this.write+=2,this},util$5.DataBuffer.prototype.putInt24Le=function(A){return this.accommodate(3),this.data.setInt8(this.write,A>>16&255),this.data.setInt16(this.write,A>>8&65535,!0),this.write+=3,this},util$5.DataBuffer.prototype.putInt32Le=function(A){return this.accommodate(4),this.data.setInt32(this.write,A,!0),this.write+=4,this},util$5.DataBuffer.prototype.putInt=function(A,e){_checkBitsParam(e),this.accommodate(e/8);do e-=8,this.data.setInt8(this.write++,A>>e&255);while(e>0);return this},util$5.DataBuffer.prototype.putSignedInt=function(A,e){return _checkBitsParam(e),this.accommodate(e/8),A<0&&(A+=2<<e-1),this.putInt(A,e)},util$5.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},util$5.DataBuffer.prototype.getInt16=function(){var A=this.data.getInt16(this.read);return this.read+=2,A},util$5.DataBuffer.prototype.getInt24=function(){var A=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,A},util$5.DataBuffer.prototype.getInt32=function(){var A=this.data.getInt32(this.read);return this.read+=4,A},util$5.DataBuffer.prototype.getInt16Le=function(){var A=this.data.getInt16(this.read,!0);return this.read+=2,A},util$5.DataBuffer.prototype.getInt24Le=function(){var A=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,A},util$5.DataBuffer.prototype.getInt32Le=function(){var A=this.data.getInt32(this.read,!0);return this.read+=4,A},util$5.DataBuffer.prototype.getInt=function(A){_checkBitsParam(A);var e=0;do e=(e<<8)+this.data.getInt8(this.read++),A-=8;while(A>0);return e},util$5.DataBuffer.prototype.getSignedInt=function(A){var e=this.getInt(A),t=2<<A-2;return e>=t&&(e-=t<<1),e},util$5.DataBuffer.prototype.getBytes=function(A){var e;return A?(A=Math.min(this.length(),A),e=this.data.slice(this.read,this.read+A),this.read+=A):A===0?e=``:(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e},util$5.DataBuffer.prototype.bytes=function(A){return A===void 0?this.data.slice(this.read):this.data.slice(this.read,this.read+A)},util$5.DataBuffer.prototype.at=function(A){return this.data.getUint8(this.read+A)},util$5.DataBuffer.prototype.setAt=function(A,e){return this.data.setUint8(A,e),this},util$5.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},util$5.DataBuffer.prototype.copy=function(){return new util$5.DataBuffer(this)},util$5.DataBuffer.prototype.compact=function(){if(this.read>0){var A=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(A.byteLength);e.set(A),this.data=new DataView(e),this.write-=this.read,this.read=0}return this},util$5.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},util$5.DataBuffer.prototype.truncate=function(A){return this.write=Math.max(0,this.length()-A),this.read=Math.min(this.read,this.write),this},util$5.DataBuffer.prototype.toHex=function(){for(var A=``,e=this.read;e<this.data.byteLength;++e){var t=this.data.getUint8(e);t<16&&(A+=`0`),A+=t.toString(16)}return A},util$5.DataBuffer.prototype.toString=function(A){var e=new Uint8Array(this.data,this.read,this.length());if((A||=`utf8`)===`binary`||A===`raw`)return util$5.binary.raw.encode(e);if(A===`hex`)return util$5.binary.hex.encode(e);if(A===`base64`)return util$5.binary.base64.encode(e);if(A===`utf8`)return util$5.text.utf8.decode(e);if(A===`utf16`)return util$5.text.utf16.decode(e);throw Error(`Invalid encoding: `+A)},util$5.createBuffer=function(A,e){return e||=`raw`,A!==void 0&&e===`utf8`&&(A=util$5.encodeUtf8(A)),new util$5.ByteBuffer(A)},util$5.fillString=function(A,e){for(var t=``;e>0;)1&e&&(t+=A),(e>>>=1)>0&&(A+=A);return t},util$5.xorBytes=function(A,e,t){for(var g=``,o=``,I=``,i$1=0,r=0;t>0;--t,++i$1)o=A.charCodeAt(i$1)^e.charCodeAt(i$1),r>=10&&(g+=I,I=``,r=0),I+=String.fromCharCode(o),++r;return g+=I},util$5.hexToBytes=function(A){var e=``,t=0;for(!0&A.length&&(t=1,e+=String.fromCharCode(parseInt(A[0],16)));t<A.length;t+=2)e+=String.fromCharCode(parseInt(A.substr(t,2),16));return e},util$5.bytesToHex=function(A){return util$5.createBuffer(A).toHex()},util$5.int32ToBytes=function(A){return String.fromCharCode(A>>24&255)+String.fromCharCode(A>>16&255)+String.fromCharCode(A>>8&255)+String.fromCharCode(255&A)};var _base64=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=`,_base64Idx=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],_base58=`123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz`;util$5.encode64=function(A,e){for(var t,g,o,I=``,i$1=``,r=0;r<A.length;)t=A.charCodeAt(r++),g=A.charCodeAt(r++),o=A.charCodeAt(r++),I+=_base64.charAt(t>>2),I+=_base64.charAt((3&t)<<4|g>>4),isNaN(g)?I+=`==`:(I+=_base64.charAt((15&g)<<2|o>>6),I+=isNaN(o)?`=`:_base64.charAt(63&o)),e&&I.length>e&&(i$1+=I.substr(0,e)+`\r
`,I=I.substr(e));return i$1+=I},util$5.decode64=function(A){A=A.replace(/[^A-Za-z0-9\+\/\=]/g,``);for(var e,t,g,o,I=``,i$1=0;i$1<A.length;)e=_base64Idx[A.charCodeAt(i$1++)-43],t=_base64Idx[A.charCodeAt(i$1++)-43],g=_base64Idx[A.charCodeAt(i$1++)-43],o=_base64Idx[A.charCodeAt(i$1++)-43],I+=String.fromCharCode(e<<2|t>>4),g!==64&&(I+=String.fromCharCode((15&t)<<4|g>>2),o!==64&&(I+=String.fromCharCode((3&g)<<6|o)));return I},util$5.encodeUtf8=function(A){return unescape(encodeURIComponent(A))},util$5.decodeUtf8=function(A){return decodeURIComponent(escape(A))},util$5.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:baseN.encode,decode:baseN.decode}},util$5.binary.raw.encode=function(A){return String.fromCharCode.apply(null,A)},util$5.binary.raw.decode=function(A,e,t){var g=e;g||=new Uint8Array(A.length);for(var o=t||=0,I=0;I<A.length;++I)g[o++]=A.charCodeAt(I);return e?o-t:g},util$5.binary.hex.encode=util$5.bytesToHex,util$5.binary.hex.decode=function(A,e,t){var g=e;g||=new Uint8Array(Math.ceil(A.length/2));var o=0,I=t||=0;for(1&A.length&&(o=1,g[I++]=parseInt(A[0],16));o<A.length;o+=2)g[I++]=parseInt(A.substr(o,2),16);return e?I-t:g},util$5.binary.base64.encode=function(A,e){for(var t,g,o,I=``,i$1=``,r=0;r<A.byteLength;)t=A[r++],g=A[r++],o=A[r++],I+=_base64.charAt(t>>2),I+=_base64.charAt((3&t)<<4|g>>4),isNaN(g)?I+=`==`:(I+=_base64.charAt((15&g)<<2|o>>6),I+=isNaN(o)?`=`:_base64.charAt(63&o)),e&&I.length>e&&(i$1+=I.substr(0,e)+`\r
`,I=I.substr(e));return i$1+=I},util$5.binary.base64.decode=function(A,e,t){var g,o,I,i$1,r=e;r||=new Uint8Array(3*Math.ceil(A.length/4)),A=A.replace(/[^A-Za-z0-9\+\/\=]/g,``);for(var n=0,C=t||=0;n<A.length;)g=_base64Idx[A.charCodeAt(n++)-43],o=_base64Idx[A.charCodeAt(n++)-43],I=_base64Idx[A.charCodeAt(n++)-43],i$1=_base64Idx[A.charCodeAt(n++)-43],r[C++]=g<<2|o>>4,I!==64&&(r[C++]=(15&o)<<4|I>>2,i$1!==64&&(r[C++]=(3&I)<<6|i$1));return e?C-t:r.subarray(0,C)},util$5.binary.base58.encode=function(A,e){return util$5.binary.baseN.encode(A,_base58,e)},util$5.binary.base58.decode=function(A,e){return util$5.binary.baseN.decode(A,_base58,e)},util$5.text={utf8:{},utf16:{}},util$5.text.utf8.encode=function(A,e,t){A=util$5.encodeUtf8(A);var g=e;g||=new Uint8Array(A.length);for(var o=t||=0,I=0;I<A.length;++I)g[o++]=A.charCodeAt(I);return e?o-t:g},util$5.text.utf8.decode=function(A){return util$5.decodeUtf8(String.fromCharCode.apply(null,A))},util$5.text.utf16.encode=function(A,e,t){var g=e;g||=new Uint8Array(2*A.length);for(var o=new Uint16Array(g.buffer),I=t||=0,i$1=t,r=0;r<A.length;++r)o[i$1++]=A.charCodeAt(r),I+=2;return e?I-t:g},util$5.text.utf16.decode=function(A){return String.fromCharCode.apply(null,new Uint16Array(A.buffer))},util$5.deflate=function(A,e,t){if(e=util$5.decode64(A.deflate(util$5.encode64(e)).rval),t){var g=2;32&e.charCodeAt(1)&&(g=6),e=e.substring(g,e.length-4)}return e},util$5.inflate=function(A,e,t){var g=A.inflate(util$5.encode64(e)).rval;return g===null?null:util$5.decode64(g)};var _setStorageObject=function(A,e,t){if(!A)throw Error(`WebStorage not available.`);var g;if(t===null?g=A.removeItem(e):(t=util$5.encode64(JSON.stringify(t)),g=A.setItem(e,t)),g!==void 0&&!0!==g.rval){var o=Error(g.error.message);throw o.id=g.error.id,o.name=g.error.name,o}},_getStorageObject=function(A,e){if(!A)throw Error(`WebStorage not available.`);var t=A.getItem(e);if(A.init)if(t.rval===null){if(t.error){var g=Error(t.error.message);throw g.id=t.error.id,g.name=t.error.name,g}t=null}else t=t.rval;return t!==null&&(t=JSON.parse(util$5.decode64(t))),t},_setItem=function(A,e,t,g){var o=_getStorageObject(A,e);o===null&&(o={}),o[t]=g,_setStorageObject(A,e,o)},_getItem=function(A,e,t){var g=_getStorageObject(A,e);return g!==null&&(g=t in g?g[t]:null),g},_removeItem=function(A,e,t){var g=_getStorageObject(A,e);if(g!==null&&t in g){delete g[t];var o=!0;for(var I in g){o=!1;break}o&&(g=null),_setStorageObject(A,e,g)}},_clearItems=function(A,e){_setStorageObject(A,e,null)},_callStorageFunction=function(A,e,t){var g,o=null;t===void 0&&(t=[`web`,`flash`]);var I=!1,i$1=null;for(var r in t){g=t[r];try{if(g===`flash`||g===`both`){if(e[0]===null)throw Error(`Flash local storage not available.`);o=A.apply(this,e),I=g===`flash`}g!==`web`&&g!==`both`||(e[0]=localStorage,o=A.apply(this,e),I=!0)}catch(A$1){i$1=A$1}if(I)break}if(!I)throw i$1;return o};util$5.setItem=function(A,e,t,g,o){_callStorageFunction(_setItem,arguments,o)},util$5.getItem=function(A,e,t,g){return _callStorageFunction(_getItem,arguments,g)},util$5.removeItem=function(A,e,t,g){_callStorageFunction(_removeItem,arguments,g)},util$5.clearItems=function(A,e,t){_callStorageFunction(_clearItems,arguments,t)},util$5.isEmpty=function(A){for(var e in A)if(A.hasOwnProperty(e))return!1;return!0},util$5.format=function(A){for(var e,t,g=/%./g,o=0,I=[],i$1=0;e=g.exec(A);){(t=A.substring(i$1,g.lastIndex-2)).length>0&&I.push(t),i$1=g.lastIndex;var r=e[0][1];switch(r){case`s`:case`o`:o<arguments.length?I.push(arguments[1+ o++]):I.push(`<?>`);break;case`%`:I.push(`%`);break;default:I.push(`<%`+r+`?>`)}}return I.push(A.substring(i$1)),I.join(``)},util$5.formatNumber=function(A,e,t,g){var o=A,I=isNaN(e=Math.abs(e))?2:e,i$1=t===void 0?`,`:t,r=g===void 0?`.`:g,n=o<0?`-`:``,C=parseInt(o=Math.abs(+o||0).toFixed(I),10)+``,E=C.length>3?C.length%3:0;return n+(E?C.substr(0,E)+r:``)+C.substr(E).replace(/(\d{3})(?=\d)/g,`$1`+r)+(I?i$1+Math.abs(o-C).toFixed(I).slice(2):``)},util$5.formatSize=function(A){return A=A>=1073741824?util$5.formatNumber(A/1073741824,2,`.`,``)+` GiB`:A>=1048576?util$5.formatNumber(A/1048576,2,`.`,``)+` MiB`:A>=1024?util$5.formatNumber(A/1024,0)+` KiB`:util$5.formatNumber(A,0)+` bytes`},util$5.bytesFromIP=function(A){return A.indexOf(`.`)===-1?A.indexOf(`:`)===-1?null:util$5.bytesFromIPv6(A):util$5.bytesFromIPv4(A)},util$5.bytesFromIPv4=function(A){if((A=A.split(`.`)).length!==4)return null;for(var e=util$5.createBuffer(),t=0;t<A.length;++t){var g=parseInt(A[t],10);if(isNaN(g))return null;e.putByte(g)}return e.getBytes()},util$5.bytesFromIPv6=function(A){for(var e=0,t=2*(8-(A=A.split(`:`).filter(function(A$1){return A$1.length===0&&++e,!0})).length+e),g=util$5.createBuffer(),o=0;o<8;++o)if(A[o]&&A[o].length!==0){var I=util$5.hexToBytes(A[o]);I.length<2&&g.putByte(0),g.putBytes(I)}else g.fillWithByte(0,t),t=0;return g.getBytes()},util$5.bytesToIP=function(A){return A.length===4?util$5.bytesToIPv4(A):A.length===16?util$5.bytesToIPv6(A):null},util$5.bytesToIPv4=function(A){if(A.length!==4)return null;for(var e=[],t=0;t<A.length;++t)e.push(A.charCodeAt(t));return e.join(`.`)},util$5.bytesToIPv6=function(A){if(A.length!==16)return null;for(var e=[],t=[],g=0,o=0;o<A.length;o+=2){for(var I=util$5.bytesToHex(A[o]+A[o+1]);I[0]===`0`&&I!==`0`;)I=I.substr(1);if(I===`0`){var i$1=t[t.length-1],r=e.length;i$1&&r===i$1.end+1?(i$1.end=r,i$1.end-i$1.start>t[g].end-t[g].start&&(g=t.length-1)):t.push({start:r,end:r})}e.push(I)}if(t.length>0){var n=t[g];n.end-n.start>0&&(e.splice(n.start,n.end-n.start+1,``),n.start===0&&e.unshift(``),n.end===7&&e.push(``))}return e.join(`:`)},util$5.estimateCores=function(A,e){if(typeof A==`function`&&(e=A,A={}),A||={},`cores`in util$5&&!A.update)return e(null,util$5.cores);if(typeof navigator<`u`&&`hardwareConcurrency`in navigator&&navigator.hardwareConcurrency>0)return util$5.cores=navigator.hardwareConcurrency,e(null,util$5.cores);if(typeof Worker>`u`)return util$5.cores=1,e(null,util$5.cores);if(typeof Blob>`u`)return util$5.cores=2,e(null,util$5.cores);var t=URL.createObjectURL(new Blob([`(`,function(){self.addEventListener(`message`,function(A$1){var e$1=Date.now(),t$1=e$1+4;self.postMessage({st:e$1,et:t$1})})}.toString(),`)()`],{type:`application/javascript`}));(function A$1(g,o,I){if(o===0){var i$1=Math.floor(g.reduce(function(A$2,e$1){return A$2+e$1},0)/g.length);return util$5.cores=Math.max(1,i$1),URL.revokeObjectURL(t),e(null,util$5.cores)}(function(A$2,e$1){for(var g$1=[],o$1=[],I$1=0;I$1<A$2;++I$1){var i$2=new Worker(t);i$2.addEventListener(`message`,function(t$1){if(o$1.push(t$1.data),o$1.length===A$2){for(var I$2=0;I$2<A$2;++I$2)g$1[I$2].terminate();e$1(null,o$1)}}),g$1.push(i$2)}for(I$1=0;I$1<A$2;++I$1)g$1[I$1].postMessage(I$1)})(I,function(e$1,t$1){g.push(function(A$2,e$2){for(var t$2=[],g$1=0;g$1<A$2;++g$1)for(var o$1=e$2[g$1],I$1=t$2[g$1]=[],i$2=0;i$2<A$2;++i$2)if(g$1!==i$2){var r=e$2[i$2];(o$1.st>r.st&&o$1.st<r.et||r.st>o$1.st&&r.st<o$1.et)&&I$1.push(i$2)}return t$2.reduce(function(A$3,e$3){return Math.max(A$3,e$3.length)},0)}(I,t$1)),A$1(g,o-1,I)})})([],5,16)};var utilExports=util$7.exports,util$6=getDefaultExportFromCjs(utilExports),forge$6=forge$8,cipher=forge$6.cipher=forge$6.cipher||{};forge$6.cipher.algorithms=forge$6.cipher.algorithms||{},forge$6.cipher.createCipher=function(A,e){var t=A;if(typeof t==`string`&&(t=forge$6.cipher.getAlgorithm(t))&&(t=t()),!t)throw Error(`Unsupported algorithm: `+A);return new forge$6.cipher.BlockCipher({algorithm:t,key:e,decrypt:!1})},forge$6.cipher.createDecipher=function(A,e){var t=A;if(typeof t==`string`&&(t=forge$6.cipher.getAlgorithm(t))&&(t=t()),!t)throw Error(`Unsupported algorithm: `+A);return new forge$6.cipher.BlockCipher({algorithm:t,key:e,decrypt:!0})},forge$6.cipher.registerAlgorithm=function(A,e){A=A.toUpperCase(),forge$6.cipher.algorithms[A]=e},forge$6.cipher.getAlgorithm=function(A){return(A=A.toUpperCase())in forge$6.cipher.algorithms?forge$6.cipher.algorithms[A]:null};var BlockCipher=forge$6.cipher.BlockCipher=function(A){this.algorithm=A.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=A.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=A.decrypt,this.algorithm.initialize(A)};BlockCipher.prototype.start=function(A){A||={};var e={};for(var t in A)e[t]=A[t];e.decrypt=this._decrypt,this._finish=!1,this._input=forge$6.util.createBuffer(),this.output=A.output||forge$6.util.createBuffer(),this.mode.start(e)},BlockCipher.prototype.update=function(A){for(A&&this._input.putBuffer(A);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},BlockCipher.prototype.finish=function(A){!A||this.mode.name!==`ECB`&&this.mode.name!==`CBC`||(this.mode.pad=function(e$1){return A(this.blockSize,e$1,!1)},this.mode.unpad=function(e$1){return A(this.blockSize,e$1,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,e)))};var forgeCipher=getDefaultExportFromCjs(cipher),forge$5=forge$8;forge$5.md=forge$5.md||{},forge$5.md.algorithms=forge$5.md.algorithms||{};var forge$4=forge$8,sha256=forge$4.sha256=forge$4.sha256||{};forge$4.md.sha256=forge$4.md.algorithms.sha256=sha256,sha256.create=function(){_initialized||_init();var A=null,e=forge$4.util.createBuffer(),t=Array(64),g={algorithm:`sha256`,blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){g.messageLength=0,g.fullMessageLength=g.messageLength64=[];for(var t$1=g.messageLengthSize/4,o=0;o<t$1;++o)g.fullMessageLength.push(0);return e=forge$4.util.createBuffer(),A={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},g}};return g.start(),g.update=function(o,I){I===`utf8`&&(o=forge$4.util.encodeUtf8(o));var i$1=o.length;g.messageLength+=i$1,i$1=[i$1/4294967296>>>0,i$1>>>0];for(var r=g.fullMessageLength.length-1;r>=0;--r)g.fullMessageLength[r]+=i$1[1],i$1[1]=i$1[0]+(g.fullMessageLength[r]/4294967296>>>0),g.fullMessageLength[r]=g.fullMessageLength[r]>>>0,i$1[0]=i$1[1]/4294967296>>>0;return e.putBytes(o),_update(A,t,e),(e.read>2048||e.length()===0)&&e.compact(),g},g.digest=function(){var o=forge$4.util.createBuffer();o.putBytes(e.bytes());var I,i$1=g.fullMessageLength[g.fullMessageLength.length-1]+g.messageLengthSize&g.blockLength-1;o.putBytes(_padding.substr(0,g.blockLength-i$1));for(var r=8*g.fullMessageLength[0],n=0;n<g.fullMessageLength.length-1;++n)r+=(I=8*g.fullMessageLength[n+1])/4294967296>>>0,o.putInt32(r>>>0),r=I>>>0;o.putInt32(r);var C={h0:A.h0,h1:A.h1,h2:A.h2,h3:A.h3,h4:A.h4,h5:A.h5,h6:A.h6,h7:A.h7};_update(C,t,o);var E=forge$4.util.createBuffer();return E.putInt32(C.h0),E.putInt32(C.h1),E.putInt32(C.h2),E.putInt32(C.h3),E.putInt32(C.h4),E.putInt32(C.h5),E.putInt32(C.h6),E.putInt32(C.h7),E},g};var _padding=null,_initialized=!1,_k=null;function _init(){_padding=``,_padding+=forge$4.util.fillString(`\0`,64),_k=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],_initialized=!0}function _update(A,e,t){for(var g,o,I,i$1,r,n,C,E,s,B,a,Q,c,l=t.length();l>=64;){for(r=0;r<16;++r)e[r]=t.getInt32();for(;r<64;++r)g=((g=e[r-2])>>>17|g<<15)^(g>>>19|g<<13)^g>>>10,o=((o=e[r-15])>>>7|o<<25)^(o>>>18|o<<14)^o>>>3,e[r]=g+e[r-7]+o+e[r-16]|0;for(n=A.h0,C=A.h1,E=A.h2,s=A.h3,B=A.h4,a=A.h5,Q=A.h6,c=A.h7,r=0;r<64;++r)I=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),i$1=n&C|E&(n^C),g=c+((B>>>6|B<<26)^(B>>>11|B<<21)^(B>>>25|B<<7))+(Q^B&(a^Q))+_k[r]+e[r],c=Q,Q=a,a=B,B=s+g>>>0,s=E,E=C,C=n,n=g+(o=I+i$1)>>>0;A.h0=A.h0+n|0,A.h1=A.h1+C|0,A.h2=A.h2+E|0,A.h3=A.h3+s|0,A.h4=A.h4+B|0,A.h5=A.h5+a|0,A.h6=A.h6+Q|0,A.h7=A.h7+c|0,l-=64}}var forge$3=forge$8,hmac=forge$3.hmac=forge$3.hmac||{};hmac.create=function(){var A=null,e=null,t=null,g=null,o={start:function(o$1,I){if(o$1!==null)if(typeof o$1==`string`){if(!((o$1=o$1.toLowerCase())in forge$3.md.algorithms))throw Error(`Unknown hash algorithm "`+o$1+`"`);e=forge$3.md.algorithms[o$1].create()}else e=o$1;if(I===null)I=A;else{if(typeof I==`string`)I=forge$3.util.createBuffer(I);else if(forge$3.util.isArray(I)){var i$1=I;I=forge$3.util.createBuffer();for(var r=0;r<i$1.length;++r)I.putByte(i$1[r])}var n=I.length();for(n>e.blockLength&&(e.start(),e.update(I.bytes()),I=e.digest()),t=forge$3.util.createBuffer(),g=forge$3.util.createBuffer(),n=I.length(),r=0;r<n;++r)i$1=I.at(r),t.putByte(54^i$1),g.putByte(92^i$1);if(n<e.blockLength)for(i$1=e.blockLength-n,r=0;r<i$1;++r)t.putByte(54),g.putByte(92);A=I,t=t.bytes(),g=g.bytes()}e.start(),e.update(t)},update:function(A$1){e.update(A$1)},getMac:function(){var A$1=e.digest().bytes();return e.start(),e.update(g),e.update(A$1),e.digest()}};return o.digest=o.getMac,o};var _nodeResolve_empty={},_nodeResolve_empty$1=Object.freeze({__proto__:null,default:_nodeResolve_empty}),require$$4=getAugmentedNamespace(_nodeResolve_empty$1),forge$2=forge$8,pkcs5=forge$2.pkcs5=forge$2.pkcs5||{},crypto$1;forge$2.util.isNodejs&&!forge$2.options.usePureJavaScript&&(crypto$1=require$$4);var pbkdf2=forge$2.pbkdf2=pkcs5.pbkdf2=function(A,e,t,g,o,I){if(typeof o==`function`&&(I=o,o=null),forge$2.util.isNodejs&&!forge$2.options.usePureJavaScript&&crypto$1.pbkdf2&&(typeof o!=`object`||!o)&&(crypto$1.pbkdf2Sync.length>4||!o||o===`sha1`))return typeof o!=`string`&&(o=`sha1`),A=Buffer.from(A,`binary`),e=Buffer.from(e,`binary`),I?crypto$1.pbkdf2Sync.length===4?crypto$1.pbkdf2(A,e,t,g,function(A$1,e$1){if(A$1)return I(A$1);I(null,e$1.toString(`binary`))}):crypto$1.pbkdf2(A,e,t,g,o,function(A$1,e$1){if(A$1)return I(A$1);I(null,e$1.toString(`binary`))}):crypto$1.pbkdf2Sync.length===4?crypto$1.pbkdf2Sync(A,e,t,g).toString(`binary`):crypto$1.pbkdf2Sync(A,e,t,g,o).toString(`binary`);if(o??=`sha1`,typeof o==`string`){if(!(o in forge$2.md.algorithms))throw Error(`Unknown hash algorithm: `+o);o=forge$2.md[o].create()}var i$1=o.digestLength;if(g>4294967295*i$1){var r=Error(`Derived key is too long.`);if(I)return I(r);throw r}var n=Math.ceil(g/i$1),C=g-(n-1)*i$1,E=forge$2.hmac.create();E.start(o,A);var s,B,a,Q=``;if(!I){for(var c=1;c<=n;++c){E.start(null,null),E.update(e),E.update(forge$2.util.int32ToBytes(c)),s=a=E.digest().getBytes();for(var l=2;l<=t;++l)E.start(null,null),E.update(a),B=E.digest().getBytes(),s=forge$2.util.xorBytes(s,B,i$1),a=B;Q+=c<n?s:s.substr(0,C)}return Q}c=1;function h(){if(c>n)return I(null,Q);E.start(null,null),E.update(e),E.update(forge$2.util.int32ToBytes(c)),s=a=E.digest().getBytes(),l=2,u()}function u(){if(l<=t)return E.start(null,null),E.update(a),B=E.digest().getBytes(),s=forge$2.util.xorBytes(s,B,i$1),a=B,++l,forge$2.util.setImmediate(u);Q+=c<n?s:s.substr(0,C),++c,h()}h()},pkcs5$1=getDefaultExportFromCjs(pbkdf2),forge$1=forge$8;forge$1.cipher=forge$1.cipher||{};var modes=forge$1.cipher.modes=forge$1.cipher.modes||{};function transformIV(A,e){if(typeof A==`string`&&(A=forge$1.util.createBuffer(A)),forge$1.util.isArray(A)&&A.length>4){var t=A;A=forge$1.util.createBuffer();for(var g=0;g<t.length;++g)A.putByte(t[g])}if(A.length()<e)throw Error(`Invalid IV length; got `+A.length()+` bytes and expected `+e+` bytes.`);if(!forge$1.util.isArray(A)){var o=[],I=e/4;for(g=0;g<I;++g)o.push(A.getInt32());A=o}return A}function inc32(A){A[A.length-1]=A[A.length-1]+1&4294967295}function from64To32(A){return[A/4294967296|0,4294967295&A]}modes.ecb=function(A){A||={},this.name=`ECB`,this.cipher=A.cipher,this.blockSize=A.blockSize||16,this._ints=this.blockSize/4,this._inBlock=Array(this._ints),this._outBlock=Array(this._ints)},modes.ecb.prototype.start=function(A){},modes.ecb.prototype.encrypt=function(A,e,t){if(A.length()<this.blockSize&&!(t&&A.length()>0))return!0;for(var g=0;g<this._ints;++g)this._inBlock[g]=A.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),g=0;g<this._ints;++g)e.putInt32(this._outBlock[g])},modes.ecb.prototype.decrypt=function(A,e,t){if(A.length()<this.blockSize&&!(t&&A.length()>0))return!0;for(var g=0;g<this._ints;++g)this._inBlock[g]=A.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),g=0;g<this._ints;++g)e.putInt32(this._outBlock[g])},modes.ecb.prototype.pad=function(A,e){var t=A.length()===this.blockSize?this.blockSize:this.blockSize-A.length();return A.fillWithByte(t,t),!0},modes.ecb.prototype.unpad=function(A,e){if(e.overflow>0)return!1;var t=A.length(),g=A.at(t-1);return!(g>this.blockSize<<2)&&(A.truncate(g),!0)},modes.cbc=function(A){A||={},this.name=`CBC`,this.cipher=A.cipher,this.blockSize=A.blockSize||16,this._ints=this.blockSize/4,this._inBlock=Array(this._ints),this._outBlock=Array(this._ints)},modes.cbc.prototype.start=function(A){if(A.iv===null){if(!this._prev)throw Error(`Invalid IV parameter.`);this._iv=this._prev.slice(0)}else{if(!(`iv`in A))throw Error(`Invalid IV parameter.`);this._iv=transformIV(A.iv,this.blockSize),this._prev=this._iv.slice(0)}},modes.cbc.prototype.encrypt=function(A,e,t){if(A.length()<this.blockSize&&!(t&&A.length()>0))return!0;for(var g=0;g<this._ints;++g)this._inBlock[g]=this._prev[g]^A.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),g=0;g<this._ints;++g)e.putInt32(this._outBlock[g]);this._prev=this._outBlock},modes.cbc.prototype.decrypt=function(A,e,t){if(A.length()<this.blockSize&&!(t&&A.length()>0))return!0;for(var g=0;g<this._ints;++g)this._inBlock[g]=A.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),g=0;g<this._ints;++g)e.putInt32(this._prev[g]^this._outBlock[g]);this._prev=this._inBlock.slice(0)},modes.cbc.prototype.pad=function(A,e){var t=A.length()===this.blockSize?this.blockSize:this.blockSize-A.length();return A.fillWithByte(t,t),!0},modes.cbc.prototype.unpad=function(A,e){if(e.overflow>0)return!1;var t=A.length(),g=A.at(t-1);return!(g>this.blockSize<<2)&&(A.truncate(g),!0)},modes.cfb=function(A){A||={},this.name=`CFB`,this.cipher=A.cipher,this.blockSize=A.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=Array(this._ints),this._partialBlock=Array(this._ints),this._partialOutput=forge$1.util.createBuffer(),this._partialBytes=0},modes.cfb.prototype.start=function(A){if(!(`iv`in A))throw Error(`Invalid IV parameter.`);this._iv=transformIV(A.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},modes.cfb.prototype.encrypt=function(A,e,t){var g=A.length();if(g===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&g>=this.blockSize)for(var o=0;o<this._ints;++o)this._inBlock[o]=A.getInt32()^this._outBlock[o],e.putInt32(this._inBlock[o]);else{var I=(this.blockSize-g)%this.blockSize;for(I>0&&(I=this.blockSize-I),this._partialOutput.clear(),o=0;o<this._ints;++o)this._partialBlock[o]=A.getInt32()^this._outBlock[o],this._partialOutput.putInt32(this._partialBlock[o]);if(I>0)A.read-=this.blockSize;else for(o=0;o<this._ints;++o)this._inBlock[o]=this._partialBlock[o];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),I>0&&!t)return e.putBytes(this._partialOutput.getBytes(I-this._partialBytes)),this._partialBytes=I,!0;e.putBytes(this._partialOutput.getBytes(g-this._partialBytes)),this._partialBytes=0}},modes.cfb.prototype.decrypt=function(A,e,t){var g=A.length();if(g===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&g>=this.blockSize)for(var o=0;o<this._ints;++o)this._inBlock[o]=A.getInt32(),e.putInt32(this._inBlock[o]^this._outBlock[o]);else{var I=(this.blockSize-g)%this.blockSize;for(I>0&&(I=this.blockSize-I),this._partialOutput.clear(),o=0;o<this._ints;++o)this._partialBlock[o]=A.getInt32(),this._partialOutput.putInt32(this._partialBlock[o]^this._outBlock[o]);if(I>0)A.read-=this.blockSize;else for(o=0;o<this._ints;++o)this._inBlock[o]=this._partialBlock[o];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),I>0&&!t)return e.putBytes(this._partialOutput.getBytes(I-this._partialBytes)),this._partialBytes=I,!0;e.putBytes(this._partialOutput.getBytes(g-this._partialBytes)),this._partialBytes=0}},modes.ofb=function(A){A||={},this.name=`OFB`,this.cipher=A.cipher,this.blockSize=A.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=Array(this._ints),this._partialOutput=forge$1.util.createBuffer(),this._partialBytes=0},modes.ofb.prototype.start=function(A){if(!(`iv`in A))throw Error(`Invalid IV parameter.`);this._iv=transformIV(A.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},modes.ofb.prototype.encrypt=function(A,e,t){var g=A.length();if(A.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&g>=this.blockSize)for(var o=0;o<this._ints;++o)e.putInt32(A.getInt32()^this._outBlock[o]),this._inBlock[o]=this._outBlock[o];else{var I=(this.blockSize-g)%this.blockSize;for(I>0&&(I=this.blockSize-I),this._partialOutput.clear(),o=0;o<this._ints;++o)this._partialOutput.putInt32(A.getInt32()^this._outBlock[o]);if(I>0)A.read-=this.blockSize;else for(o=0;o<this._ints;++o)this._inBlock[o]=this._outBlock[o];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),I>0&&!t)return e.putBytes(this._partialOutput.getBytes(I-this._partialBytes)),this._partialBytes=I,!0;e.putBytes(this._partialOutput.getBytes(g-this._partialBytes)),this._partialBytes=0}},modes.ofb.prototype.decrypt=modes.ofb.prototype.encrypt,modes.ctr=function(A){A||={},this.name=`CTR`,this.cipher=A.cipher,this.blockSize=A.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=Array(this._ints),this._partialOutput=forge$1.util.createBuffer(),this._partialBytes=0},modes.ctr.prototype.start=function(A){if(!(`iv`in A))throw Error(`Invalid IV parameter.`);this._iv=transformIV(A.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},modes.ctr.prototype.encrypt=function(A,e,t){var g=A.length();if(g===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&g>=this.blockSize)for(var o=0;o<this._ints;++o)e.putInt32(A.getInt32()^this._outBlock[o]);else{var I=(this.blockSize-g)%this.blockSize;for(I>0&&(I=this.blockSize-I),this._partialOutput.clear(),o=0;o<this._ints;++o)this._partialOutput.putInt32(A.getInt32()^this._outBlock[o]);if(I>0&&(A.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),I>0&&!t)return e.putBytes(this._partialOutput.getBytes(I-this._partialBytes)),this._partialBytes=I,!0;e.putBytes(this._partialOutput.getBytes(g-this._partialBytes)),this._partialBytes=0}inc32(this._inBlock)},modes.ctr.prototype.decrypt=modes.ctr.prototype.encrypt,modes.gcm=function(A){A||={},this.name=`GCM`,this.cipher=A.cipher,this.blockSize=A.blockSize||16,this._ints=this.blockSize/4,this._inBlock=Array(this._ints),this._outBlock=Array(this._ints),this._partialOutput=forge$1.util.createBuffer(),this._partialBytes=0,this._R=3774873600},modes.gcm.prototype.start=function(A){if(!(`iv`in A))throw Error(`Invalid IV parameter.`);var e,t=forge$1.util.createBuffer(A.iv);if(this._cipherLength=0,e=`additionalData`in A?forge$1.util.createBuffer(A.additionalData):forge$1.util.createBuffer(),this._tagLength=`tagLength`in A?A.tagLength:128,this._tag=null,A.decrypt&&(this._tag=forge$1.util.createBuffer(A.tag).getBytes(),this._tag.length!==this._tagLength/8))throw Error(`Authentication tag does not match tag length.`);this._hashBlock=Array(this._ints),this.tag=null,this._hashSubkey=Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var g=t.length();if(g===12)this._j0=[t.getInt32(),t.getInt32(),t.getInt32(),1];else{for(this._j0=[0,0,0,0];t.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(from64To32(8*g)))}this._inBlock=this._j0.slice(0),inc32(this._inBlock),this._partialBytes=0,e=forge$1.util.createBuffer(e),this._aDataLength=from64To32(8*e.length());var o=e.length()%this.blockSize;for(o&&e.fillWithByte(0,this.blockSize-o),this._s=[0,0,0,0];e.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()])},modes.gcm.prototype.encrypt=function(A,e,t){var g=A.length();if(g===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&g>=this.blockSize){for(var o=0;o<this._ints;++o)e.putInt32(this._outBlock[o]^=A.getInt32());this._cipherLength+=this.blockSize}else{var I=(this.blockSize-g)%this.blockSize;for(I>0&&(I=this.blockSize-I),this._partialOutput.clear(),o=0;o<this._ints;++o)this._partialOutput.putInt32(A.getInt32()^this._outBlock[o]);if(I<=0||t){if(t){var i$1=g%this.blockSize;this._cipherLength+=i$1,this._partialOutput.truncate(this.blockSize-i$1)}else this._cipherLength+=this.blockSize;for(o=0;o<this._ints;++o)this._outBlock[o]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),I>0&&!t)return A.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(I-this._partialBytes)),this._partialBytes=I,!0;e.putBytes(this._partialOutput.getBytes(g-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),inc32(this._inBlock)},modes.gcm.prototype.decrypt=function(A,e,t){var g=A.length();if(g<this.blockSize&&!(t&&g>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),inc32(this._inBlock),this._hashBlock[0]=A.getInt32(),this._hashBlock[1]=A.getInt32(),this._hashBlock[2]=A.getInt32(),this._hashBlock[3]=A.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var o=0;o<this._ints;++o)e.putInt32(this._outBlock[o]^this._hashBlock[o]);g<this.blockSize?this._cipherLength+=g%this.blockSize:this._cipherLength+=this.blockSize},modes.gcm.prototype.afterFinish=function(A,e){var t=!0;e.decrypt&&e.overflow&&A.truncate(this.blockSize-e.overflow),this.tag=forge$1.util.createBuffer();var g=this._aDataLength.concat(from64To32(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,g);var o=[];this.cipher.encrypt(this._j0,o);for(var I=0;I<this._ints;++I)this.tag.putInt32(this._s[I]^o[I]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(t=!1),t},modes.gcm.prototype.multiply=function(A,e){for(var t=[0,0,0,0],g=e.slice(0),o=0;o<128;++o)A[o/32|0]&1<<31-o%32&&(t[0]^=g[0],t[1]^=g[1],t[2]^=g[2],t[3]^=g[3]),this.pow(g,g);return t},modes.gcm.prototype.pow=function(A,e){for(var t=1&A[3],g=3;g>0;--g)e[g]=A[g]>>>1|(1&A[g-1])<<31;e[0]=A[0]>>>1,t&&(e[0]^=this._R)},modes.gcm.prototype.tableMultiply=function(A){for(var e=[0,0,0,0],t=0;t<32;++t){var g=A[t/8|0]>>>4*(7-t%8)&15,o=this._m[t][g];e[0]^=o[0],e[1]^=o[1],e[2]^=o[2],e[3]^=o[3]}return e},modes.gcm.prototype.ghash=function(A,e,t){return e[0]^=t[0],e[1]^=t[1],e[2]^=t[2],e[3]^=t[3],this.tableMultiply(e)},modes.gcm.prototype.generateHashTable=function(A,e){for(var t=8/e,g=4*t,o=16*t,I=Array(o),i$1=0;i$1<o;++i$1){var r=[0,0,0,0],n=(g-1-i$1%g)*e;r[i$1/g|0]=1<<e-1<<n,I[i$1]=this.generateSubHashTable(this.multiply(r,A),e)}return I},modes.gcm.prototype.generateSubHashTable=function(A,e){var t=1<<e,g=t>>>1,o=Array(t);o[g]=A.slice(0);for(var I=g>>>1;I>0;)this.pow(o[2*I],o[I]=[]),I>>=1;for(I=2;I<g;){for(var i$1=1;i$1<I;++i$1){var r=o[I],n=o[i$1];o[I+i$1]=[r[0]^n[0],r[1]^n[1],r[2]^n[2],r[3]^n[3]]}I*=2}for(o[0]=[0,0,0,0],I=g+1;I<t;++I){var C=o[I^g];o[I]=[A[0]^C[0],A[1]^C[1],A[2]^C[2],A[3]^C[3]]}return o};var forge=forge$8;function registerAlgorithm(A,e){forge.cipher.registerAlgorithm(A,function(){return new forge.aes.Algorithm(A,e)})}forge.aes=forge.aes||{},forge.aes.startEncrypting=function(A,e,t,g){var o=_createCipher({key:A,output:t,decrypt:!1,mode:g});return o.start(e),o},forge.aes.createEncryptionCipher=function(A,e){return _createCipher({key:A,output:null,decrypt:!1,mode:e})},forge.aes.startDecrypting=function(A,e,t,g){var o=_createCipher({key:A,output:t,decrypt:!0,mode:g});return o.start(e),o},forge.aes.createDecryptionCipher=function(A,e){return _createCipher({key:A,output:null,decrypt:!0,mode:e})},forge.aes.Algorithm=function(A,e){init||initialize();var t=this;t.name=A,t.mode=new e({blockSize:16,cipher:{encrypt:function(A$1,e$1){return _updateBlock(t._w,A$1,e$1,!1)},decrypt:function(A$1,e$1){return _updateBlock(t._w,A$1,e$1,!0)}}}),t._init=!1},forge.aes.Algorithm.prototype.initialize=function(A){if(!this._init){var e,t=A.key;if(typeof t!=`string`||t.length!==16&&t.length!==24&&t.length!==32){if(forge.util.isArray(t)&&(t.length===16||t.length===24||t.length===32)){e=t,t=forge.util.createBuffer();for(var g=0;g<e.length;++g)t.putByte(e[g])}}else t=forge.util.createBuffer(t);if(!forge.util.isArray(t)){e=t,t=[];var o=e.length();if(o===16||o===24||o===32)for(o>>>=2,g=0;g<o;++g)t.push(e.getInt32())}if(!forge.util.isArray(t)||t.length!==4&&t.length!==6&&t.length!==8)throw Error(`Invalid key parameter.`);var I=this.mode.name,i$1=[`CFB`,`OFB`,`CTR`,`GCM`].indexOf(I)!==-1;this._w=_expandKey(t,A.decrypt&&!i$1),this._init=!0}},forge.aes._expandKey=function(A,e){return init||initialize(),_expandKey(A,e)},forge.aes._updateBlock=_updateBlock,registerAlgorithm(`AES-ECB`,forge.cipher.modes.ecb),registerAlgorithm(`AES-CBC`,forge.cipher.modes.cbc),registerAlgorithm(`AES-CFB`,forge.cipher.modes.cfb),registerAlgorithm(`AES-OFB`,forge.cipher.modes.ofb),registerAlgorithm(`AES-CTR`,forge.cipher.modes.ctr),registerAlgorithm(`AES-GCM`,forge.cipher.modes.gcm);var init=!1,Nb=4,sbox,isbox,rcon,mix,imix;function initialize(){init=!0,rcon=[0,1,2,4,8,16,32,64,128,27,54];for(var A=Array(256),e=0;e<128;++e)A[e]=e<<1,A[e+128]=e+128<<1^283;for(sbox=Array(256),isbox=Array(256),mix=[,,,,],imix=[,,,,],e=0;e<4;++e)mix[e]=Array(256),imix[e]=Array(256);var t,g,o,I,i$1,r,n,C=0,E=0;for(e=0;e<256;++e){I=(I=E^E<<1^E<<2^E<<3^E<<4)>>8^255&I^99,sbox[C]=I,isbox[I]=C,r=(i$1=A[I])<<24^I<<16^I<<8^I^i$1,n=((t=A[C])^(g=A[t])^(o=A[g]))<<24^(C^o)<<16^(C^g^o)<<8^C^t^o;for(var s=0;s<4;++s)mix[s][C]=r,imix[s][I]=n,r=r<<24|r>>>8,n=n<<24|n>>>8;C===0?C=E=1:(C=t^A[A[A[t^o]]],E^=A[A[E]])}}function _expandKey(A,e){for(var t,g=A.slice(0),o=1,I=g.length,i$1=Nb*(I+6+1),r=I;r<i$1;++r)t=g[r-1],r%I===0?(t=sbox[t>>>16&255]<<24^sbox[t>>>8&255]<<16^sbox[255&t]<<8^sbox[t>>>24]^rcon[o]<<24,o++):I>6&&r%I===4&&(t=sbox[t>>>24]<<24^sbox[t>>>16&255]<<16^sbox[t>>>8&255]<<8^sbox[255&t]),g[r]=g[r-I]^t;if(e){for(var n,C=imix[0],E=imix[1],s=imix[2],B=imix[3],a=g.slice(0),Q=(r=0,(i$1=g.length)-Nb);r<i$1;r+=Nb,Q-=Nb)if(r===0||r===i$1-Nb)a[r]=g[Q],a[r+1]=g[Q+3],a[r+2]=g[Q+2],a[r+3]=g[Q+1];else for(var c=0;c<Nb;++c)n=g[Q+c],a[r+(3&-c)]=C[sbox[n>>>24]]^E[sbox[n>>>16&255]]^s[sbox[n>>>8&255]]^B[sbox[255&n]];g=a}return g}function _updateBlock(A,e,t,g){var o,I,i$1,r,n,C,E,s,B,a,Q,c,l=A.length/4-1;g?(o=imix[0],I=imix[1],i$1=imix[2],r=imix[3],n=isbox):(o=mix[0],I=mix[1],i$1=mix[2],r=mix[3],n=sbox),C=e[0]^A[0],E=e[g?3:1]^A[1],s=e[2]^A[2],B=e[g?1:3]^A[3];for(var h=3,u=1;u<l;++u)a=o[C>>>24]^I[E>>>16&255]^i$1[s>>>8&255]^r[255&B]^A[++h],Q=o[E>>>24]^I[s>>>16&255]^i$1[B>>>8&255]^r[255&C]^A[++h],c=o[s>>>24]^I[B>>>16&255]^i$1[C>>>8&255]^r[255&E]^A[++h],B=o[B>>>24]^I[C>>>16&255]^i$1[E>>>8&255]^r[255&s]^A[++h],C=a,E=Q,s=c;t[0]=n[C>>>24]<<24^n[E>>>16&255]<<16^n[s>>>8&255]<<8^n[255&B]^A[++h],t[g?3:1]=n[E>>>24]<<24^n[s>>>16&255]<<16^n[B>>>8&255]<<8^n[255&C]^A[++h],t[2]=n[s>>>24]<<24^n[B>>>16&255]<<16^n[C>>>8&255]<<8^n[255&E]^A[++h],t[g?1:3]=n[B>>>24]<<24^n[C>>>16&255]<<16^n[E>>>8&255]<<8^n[255&s]^A[++h]}function _createCipher(A){var e,t=`AES-`+((A||={}).mode||`CBC`).toUpperCase(),g=(e=A.decrypt?forge.cipher.createDecipher(t,A.key):forge.cipher.createCipher(t,A.key)).start;return e.start=function(A$1,t$1){var o=null;t$1 instanceof forge.util.ByteBuffer&&(o=t$1,t$1={}),(t$1||={}).output=o,t$1.iv=A$1,g.call(e,t$1)},e}function isNil(A){return A==null}var isNil_1=isNil,isNil$1=getDefaultExportFromCjs(isNil_1);function copyArray$3(A,e){var t=-1,g=A.length;for(e||=Array(g);++t<g;)e[t]=A[t];return e}var _copyArray=copyArray$3,nativeFloor=Math.floor,nativeRandom=Math.random;function baseRandom$2(A,e){return A+nativeFloor(nativeRandom()*(e-A+1))}var _baseRandom=baseRandom$2,baseRandom$1=_baseRandom;function shuffleSelf$2(A,e){var t=-1,g=A.length,o=g-1;for(e=e===void 0?g:e;++t<e;){var I=baseRandom$1(t,o),i$1=A[I];A[I]=A[t],A[t]=i$1}return A.length=e,A}var _shuffleSelf=shuffleSelf$2,copyArray$2=_copyArray,shuffleSelf$1=_shuffleSelf;function arrayShuffle$1(A){return shuffleSelf$1(copyArray$2(A))}var _arrayShuffle=arrayShuffle$1;function arrayMap$5(A,e){for(var t=-1,g=A==null?0:A.length,o=Array(g);++t<g;)o[t]=e(A[t],t,A);return o}var _arrayMap=arrayMap$5,arrayMap$4=_arrayMap;function baseValues$1(A,e){return arrayMap$4(e,function(e$1){return A[e$1]})}var _baseValues=baseValues$1;function baseTimes$1(A,e){for(var t=-1,g=Array(A);++t<A;)g[t]=e(t);return g}var _baseTimes=baseTimes$1,freeGlobal$1=typeof commonjsGlobal==`object`&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self==`object`&&self&&self.Object===Object&&self,root$9=freeGlobal||freeSelf||Function(`return this`)(),_root=root$9,root$8=_root,Symbol$7=root$8.Symbol,_Symbol=Symbol$7,Symbol$6=_Symbol,objectProto$f=Object.prototype,hasOwnProperty$c=objectProto$f.hasOwnProperty,nativeObjectToString$1=objectProto$f.toString,symToStringTag$1=Symbol$6?Symbol$6.toStringTag:void 0;function getRawTag$1(A){var e=hasOwnProperty$c.call(A,symToStringTag$1),t=A[symToStringTag$1];try{A[symToStringTag$1]=void 0;var g=!0}catch{}var o=nativeObjectToString$1.call(A);return g&&(e?A[symToStringTag$1]=t:delete A[symToStringTag$1]),o}var _getRawTag=getRawTag$1,objectProto$e=Object.prototype,nativeObjectToString=objectProto$e.toString;function objectToString$1(A){return nativeObjectToString.call(A)}var _objectToString=objectToString$1,Symbol$5=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag=`[object Null]`,undefinedTag=`[object Undefined]`,symToStringTag=Symbol$5?Symbol$5.toStringTag:void 0;function baseGetTag$6(A){return A==null?A===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(A)?getRawTag(A):objectToString(A)}var _baseGetTag=baseGetTag$6;function isObjectLike$9(A){return typeof A==`object`&&!!A}var isObjectLike_1=isObjectLike$9,baseGetTag$5=_baseGetTag,isObjectLike$8=isObjectLike_1,argsTag$3=`[object Arguments]`;function baseIsArguments$1(A){return isObjectLike$8(A)&&baseGetTag$5(A)==argsTag$3}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$7=isObjectLike_1,objectProto$d=Object.prototype,hasOwnProperty$b=objectProto$d.hasOwnProperty,propertyIsEnumerable$1=objectProto$d.propertyIsEnumerable,isArguments$4=baseIsArguments(function(){return arguments}())?baseIsArguments:function(A){return isObjectLike$7(A)&&hasOwnProperty$b.call(A,`callee`)&&!propertyIsEnumerable$1.call(A,`callee`)},isArguments_1=isArguments$4,isArray$f=Array.isArray,isArray_1$1=isArray$f,isBuffer$4={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;isBuffer$4.exports,function(A,e){var t=_root,g=stubFalse_1,o=e&&!e.nodeType&&e,I=o&&A&&!A.nodeType&&A,i$1=I&&I.exports===o?t.Buffer:void 0;A.exports=(i$1?i$1.isBuffer:void 0)||g}(isBuffer$4,isBuffer$4.exports);var isBufferExports=isBuffer$4.exports,MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$4(A,e){var t=typeof A;return!!(e??=MAX_SAFE_INTEGER$1)&&(t==`number`||t!=`symbol`&&reIsUint.test(A))&&A>-1&&A%1==0&&A<e}var _isIndex=isIndex$4,MAX_SAFE_INTEGER=9007199254740991;function isLength$3(A){return typeof A==`number`&&A>-1&&A%1==0&&A<=MAX_SAFE_INTEGER}var isLength_1=isLength$3,baseGetTag$4=_baseGetTag,isLength$2=isLength_1,isObjectLike$6=isObjectLike_1,argsTag$2=`[object Arguments]`,arrayTag$2=`[object Array]`,boolTag$3=`[object Boolean]`,dateTag$3=`[object Date]`,errorTag$2=`[object Error]`,funcTag$2=`[object Function]`,mapTag$5=`[object Map]`,numberTag$3=`[object Number]`,objectTag$4=`[object Object]`,regexpTag$3=`[object RegExp]`,setTag$5=`[object Set]`,stringTag$3=`[object String]`,weakMapTag$2=`[object WeakMap]`,arrayBufferTag$3=`[object ArrayBuffer]`,dataViewTag$4=`[object DataView]`,float32Tag$2=`[object Float32Array]`,float64Tag$2=`[object Float64Array]`,int8Tag$2=`[object Int8Array]`,int16Tag$2=`[object Int16Array]`,int32Tag$2=`[object Int32Array]`,uint8Tag$2=`[object Uint8Array]`,uint8ClampedTag$2=`[object Uint8ClampedArray]`,uint16Tag$2=`[object Uint16Array]`,uint32Tag$2=`[object Uint32Array]`,typedArrayTags={};function baseIsTypedArray$1(A){return isObjectLike$6(A)&&isLength$2(A.length)&&!!typedArrayTags[baseGetTag$4(A)]}typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0,typedArrayTags[argsTag$2]=typedArrayTags[arrayTag$2]=typedArrayTags[arrayBufferTag$3]=typedArrayTags[boolTag$3]=typedArrayTags[dataViewTag$4]=typedArrayTags[dateTag$3]=typedArrayTags[errorTag$2]=typedArrayTags[funcTag$2]=typedArrayTags[mapTag$5]=typedArrayTags[numberTag$3]=typedArrayTags[objectTag$4]=typedArrayTags[regexpTag$3]=typedArrayTags[setTag$5]=typedArrayTags[stringTag$3]=typedArrayTags[weakMapTag$2]=!1;var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$4(A){return function(e){return A(e)}}var _baseUnary=baseUnary$4,_nodeUtil={exports:{}};_nodeUtil.exports,function(A,e){var t=_freeGlobal,g=e&&!e.nodeType&&e,o=g&&A&&!A.nodeType&&A,I=o&&o.exports===g&&t.process;A.exports=function(){try{return o&&o.require&&o.require(`util`).types||I&&I.binding&&I.binding(`util`)}catch{}}()}(_nodeUtil,_nodeUtil.exports);var _nodeUtilExports=_nodeUtil.exports,baseIsTypedArray=_baseIsTypedArray,baseUnary$3=_baseUnary,nodeUtil$2=_nodeUtilExports,nodeIsTypedArray=nodeUtil$2&&nodeUtil$2.isTypedArray,isTypedArray$3=nodeIsTypedArray?baseUnary$3(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$3,baseTimes=_baseTimes,isArguments$3=isArguments_1,isArray$e=isArray_1$1,isBuffer$3=isBufferExports,isIndex$3=_isIndex,isTypedArray$2=isTypedArray_1,objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty;function arrayLikeKeys$2(A,e){var t=isArray$e(A),g=!t&&isArguments$3(A),o=!t&&!g&&isBuffer$3(A),I=!t&&!g&&!o&&isTypedArray$2(A),i$1=t||g||o||I,r=i$1?baseTimes(A.length,String):[],n=r.length;for(var C in A)!e&&!hasOwnProperty$a.call(A,C)||i$1&&(C==`length`||o&&(C==`offset`||C==`parent`)||I&&(C==`buffer`||C==`byteLength`||C==`byteOffset`)||isIndex$3(C,n))||r.push(C);return r}var _arrayLikeKeys=arrayLikeKeys$2,objectProto$b=Object.prototype;function isPrototype$3(A){var e=A&&A.constructor;return A===(typeof e==`function`&&e.prototype||objectProto$b)}var _isPrototype=isPrototype$3;function overArg$2(A,e){return function(t){return A(e(t))}}var _overArg=overArg$2,overArg$1=_overArg,nativeKeys$1=overArg$1(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype$2=_isPrototype,nativeKeys=_nativeKeys,objectProto$a=Object.prototype,hasOwnProperty$9=objectProto$a.hasOwnProperty;function baseKeys$1(A){if(!isPrototype$2(A))return nativeKeys(A);var e=[];for(var t in Object(A))hasOwnProperty$9.call(A,t)&&t!=`constructor`&&e.push(t);return e}var _baseKeys=baseKeys$1;function isObject$d(A){var e=typeof A;return A!=null&&(e==`object`||e==`function`)}var isObject_1$1=isObject$d,baseGetTag$3=_baseGetTag,isObject$c=isObject_1$1,asyncTag=`[object AsyncFunction]`,funcTag$1=`[object Function]`,genTag$1=`[object GeneratorFunction]`,proxyTag=`[object Proxy]`;function isFunction$6(A){if(!isObject$c(A))return!1;var e=baseGetTag$3(A);return e==funcTag$1||e==genTag$1||e==asyncTag||e==proxyTag}var isFunction_1$1=isFunction$6,isFunction$5=isFunction_1$1,isLength$1=isLength_1;function isArrayLike$8(A){return A!=null&&isLength$1(A.length)&&!isFunction$5(A)}var isArrayLike_1=isArrayLike$8,arrayLikeKeys$1=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike$7=isArrayLike_1;function keys$7(A){return isArrayLike$7(A)?arrayLikeKeys$1(A):baseKeys(A)}var keys_1=keys$7,baseValues=_baseValues,keys$6=keys_1;function values$2(A){return A==null?[]:baseValues(A,keys$6(A))}var values_1=values$2,values$3=getDefaultExportFromCjs(values_1),shuffleSelf=_shuffleSelf,values$1=values_1;function baseShuffle$1(A){return shuffleSelf(values$1(A))}var _baseShuffle=baseShuffle$1,arrayShuffle=_arrayShuffle,baseShuffle=_baseShuffle,isArray$d=isArray_1$1;function shuffle(A){return(isArray$d(A)?arrayShuffle:baseShuffle)(A)}var shuffle_1=shuffle,shuffle$1=getDefaultExportFromCjs(shuffle_1);function arraySome$1(A,e){for(var t=-1,g=A==null?0:A.length;++t<g;)if(e(A[t],t,A))return!0;return!1}var _arraySome=arraySome$1;function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$5(A,e){return A===e||A!=A&&e!=e}var eq_1=eq$5,eq$4=eq_1;function assocIndexOf$4(A,e){for(var t=A.length;t--;)if(eq$4(A[t][0],e))return t;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(A){var e=this.__data__,t=assocIndexOf$3(e,A);return!(t<0)&&(t==e.length-1?e.pop():splice.call(e,t,1),--this.size,!0)}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(A){var e=this.__data__,t=assocIndexOf$2(e,A);return t<0?void 0:e[t][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(A){return assocIndexOf$1(this.__data__,A)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(A,e){var t=this.__data__,g=assocIndexOf(t,A);return g<0?(++this.size,t.push([A,e])):t[g][1]=e,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4(A){var e=-1,t=A==null?0:A.length;for(this.clear();++e<t;){var g=A[e];this.set(g[0],g[1])}}ListCache$4.prototype.clear=listCacheClear,ListCache$4.prototype.delete=listCacheDelete,ListCache$4.prototype.get=listCacheGet,ListCache$4.prototype.has=listCacheHas,ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,ListCache$3=_ListCache;function stackClear$1(){this.__data__=new ListCache$3,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(A){var e=this.__data__,t=e.delete(A);return this.size=e.size,t}var _stackDelete=stackDelete$1;function stackGet$1(A){return this.__data__.get(A)}var _stackGet=stackGet$1;function stackHas$1(A){return this.__data__.has(A)}var _stackHas=stackHas$1,root$7=_root,coreJsData$1=root$7[`__core-js_shared__`],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||``),uid?`Symbol(src)_1.`+uid:``),uid;function isMasked$1(A){return!!maskSrcKey&&maskSrcKey in A}var _isMasked=isMasked$1,funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource$2(A){if(A!=null){try{return funcToString$2.call(A)}catch{}try{return A+``}catch{}}return``}var _toSource=toSource$2,isFunction$4=isFunction_1$1,isMasked=_isMasked,isObject$b=isObject_1$1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$9=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$8=objectProto$9.hasOwnProperty,reIsNative=RegExp(`^`+funcToString$1.call(hasOwnProperty$8).replace(reRegExpChar,`\\$&`).replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,`$1.*?`)+`$`);function baseIsNative$1(A){return!(!isObject$b(A)||isMasked(A))&&(isFunction$4(A)?reIsNative:reIsHostCtor).test(toSource$1(A))}var _baseIsNative=baseIsNative$1;function getValue$1(A,e){return A?.[e]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$7(A,e){var t=getValue(A,e);return baseIsNative(t)?t:void 0}var _getNative=getNative$7,getNative$6=_getNative,root$6=_root,Map$5=getNative$6(root$6,`Map`),_Map=Map$5,getNative$5=_getNative,nativeCreate$4=getNative$5(Object,`create`),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(A){var e=this.has(A)&&delete this.__data__[A];return this.size-=e?1:0,e}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$2=`__lodash_hash_undefined__`,objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function hashGet$1(A){var e=this.__data__;if(nativeCreate$2){var t=e[A];return t===HASH_UNDEFINED$2?void 0:t}return hasOwnProperty$7.call(e,A)?e[A]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$7=Object.prototype,hasOwnProperty$6=objectProto$7.hasOwnProperty;function hashHas$1(A){var e=this.__data__;return nativeCreate$1?e[A]!==void 0:hasOwnProperty$6.call(e,A)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED$1=`__lodash_hash_undefined__`;function hashSet$1(A,e){var t=this.__data__;return this.size+=this.has(A)?0:1,t[A]=nativeCreate&&e===void 0?HASH_UNDEFINED$1:e,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(A){var e=-1,t=A==null?0:A.length;for(this.clear();++e<t;){var g=A[e];this.set(g[0],g[1])}}Hash$1.prototype.clear=hashClear,Hash$1.prototype.delete=hashDelete,Hash$1.prototype.get=hashGet,Hash$1.prototype.has=hashHas,Hash$1.prototype.set=hashSet;var _Hash=Hash$1,Hash=_Hash,ListCache$2=_ListCache,Map$4=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$4||ListCache$2),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(A){var e=typeof A;return e==`string`||e==`number`||e==`symbol`||e==`boolean`?A!==`__proto__`:A===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(A,e){var t=A.__data__;return isKeyable(e)?t[typeof e==`string`?`string`:`hash`]:t.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(A){var e=getMapData$3(this,A).delete(A);return this.size-=e?1:0,e}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(A){return getMapData$2(this,A).get(A)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(A){return getMapData$1(this,A).has(A)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(A,e){var t=getMapData(this,A),g=t.size;return t.set(A,e),this.size+=t.size==g?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$3(A){var e=-1,t=A==null?0:A.length;for(this.clear();++e<t;){var g=A[e];this.set(g[0],g[1])}}MapCache$3.prototype.clear=mapCacheClear,MapCache$3.prototype.delete=mapCacheDelete,MapCache$3.prototype.get=mapCacheGet,MapCache$3.prototype.has=mapCacheHas,MapCache$3.prototype.set=mapCacheSet;var _MapCache=MapCache$3,ListCache$1=_ListCache,Map$3=_Map,MapCache$2=_MapCache,LARGE_ARRAY_SIZE$1=200;function stackSet$1(A,e){var t=this.__data__;if(t instanceof ListCache$1){var g=t.__data__;if(!Map$3||g.length<LARGE_ARRAY_SIZE$1-1)return g.push([A,e]),this.size=++t.size,this;t=this.__data__=new MapCache$2(g)}return t.set(A,e),this.size=t.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$4(A){this.size=(this.__data__=new ListCache(A)).size}Stack$4.prototype.clear=stackClear,Stack$4.prototype.delete=stackDelete,Stack$4.prototype.get=stackGet,Stack$4.prototype.has=stackHas,Stack$4.prototype.set=stackSet;var _Stack=Stack$4,HASH_UNDEFINED=`__lodash_hash_undefined__`;function setCacheAdd$1(A){return this.__data__.set(A,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1(A){return this.__data__.has(A)}var _setCacheHas=setCacheHas$1,MapCache$1=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$2(A){var e=-1,t=A==null?0:A.length;for(this.__data__=new MapCache$1;++e<t;)this.add(A[e])}SetCache$2.prototype.add=SetCache$2.prototype.push=setCacheAdd,SetCache$2.prototype.has=setCacheHas;var _SetCache=SetCache$2;function cacheHas$2(A,e){return A.has(e)}var _cacheHas=cacheHas$2,SetCache$1=_SetCache,arraySome=_arraySome,cacheHas$1=_cacheHas,COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays$2(A,e,t,g,o,I){var i$1=t&COMPARE_PARTIAL_FLAG$5,r=A.length,n=e.length;if(r!=n&&!(i$1&&n>r))return!1;var C=I.get(A),E=I.get(e);if(C&&E)return C==e&&E==A;var s=-1,B=!0,a=t&COMPARE_UNORDERED_FLAG$3?new SetCache$1:void 0;for(I.set(A,e),I.set(e,A);++s<r;){var Q=A[s],c=e[s];if(g)var l=i$1?g(c,Q,s,e,A,I):g(Q,c,s,A,e,I);if(l!==void 0){if(l)continue;B=!1;break}if(a){if(!arraySome(e,function(A$1,e$1){if(!cacheHas$1(a,e$1)&&(Q===A$1||o(Q,A$1,t,g,I)))return a.push(e$1)})){B=!1;break}}else if(Q!==c&&!o(Q,c,t,g,I)){B=!1;break}}return I.delete(A),I.delete(e),B}var _equalArrays=equalArrays$2,root$5=_root,Uint8Array$3=root$5.Uint8Array,_Uint8Array=Uint8Array$3;function mapToArray$1(A){var e=-1,t=Array(A.size);return A.forEach(function(A$1,g){t[++e]=[g,A$1]}),t}var _mapToArray=mapToArray$1;function setToArray$3(A){var e=-1,t=Array(A.size);return A.forEach(function(A$1){t[++e]=A$1}),t}var _setToArray=setToArray$3,Symbol$4=_Symbol,Uint8Array$2=_Uint8Array,eq$3=eq_1,equalArrays$1=_equalArrays,mapToArray=_mapToArray,setToArray$2=_setToArray,COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag$2=`[object Boolean]`,dateTag$2=`[object Date]`,errorTag$1=`[object Error]`,mapTag$4=`[object Map]`,numberTag$2=`[object Number]`,regexpTag$2=`[object RegExp]`,setTag$4=`[object Set]`,stringTag$2=`[object String]`,symbolTag$3=`[object Symbol]`,arrayBufferTag$2=`[object ArrayBuffer]`,dataViewTag$3=`[object DataView]`,symbolProto$2=Symbol$4?Symbol$4.prototype:void 0,symbolValueOf$1=symbolProto$2?symbolProto$2.valueOf:void 0;function equalByTag$1(A,e,t,g,o,I,i$1){switch(t){case dataViewTag$3:if(A.byteLength!=e.byteLength||A.byteOffset!=e.byteOffset)return!1;A=A.buffer,e=e.buffer;case arrayBufferTag$2:return!(A.byteLength!=e.byteLength||!I(new Uint8Array$2(A),new Uint8Array$2(e)));case boolTag$2:case dateTag$2:case numberTag$2:return eq$3(+A,+e);case errorTag$1:return A.name==e.name&&A.message==e.message;case regexpTag$2:case stringTag$2:return A==e+``;case mapTag$4:var r=mapToArray;case setTag$4:var n=g&COMPARE_PARTIAL_FLAG$4;if(r||=setToArray$2,A.size!=e.size&&!n)return!1;var C=i$1.get(A);if(C)return C==e;g|=COMPARE_UNORDERED_FLAG$2,i$1.set(A,e);var E=equalArrays$1(r(A),r(e),g,o,I,i$1);return i$1.delete(A),E;case symbolTag$3:if(symbolValueOf$1)return symbolValueOf$1.call(A)==symbolValueOf$1.call(e)}return!1}var _equalByTag=equalByTag$1;function arrayPush$3(A,e){for(var t=-1,g=e.length,o=A.length;++t<g;)A[o+t]=e[t];return A}var _arrayPush=arrayPush$3,arrayPush$2=_arrayPush,isArray$c=isArray_1$1;function baseGetAllKeys$2(A,e,t){var g=e(A);return isArray$c(A)?g:arrayPush$2(g,t(A))}var _baseGetAllKeys=baseGetAllKeys$2;function arrayFilter$1(A,e){for(var t=-1,g=A==null?0:A.length,o=0,I=[];++t<g;){var i$1=A[t];e(i$1,t,A)&&(I[o++]=i$1)}return I}var _arrayFilter=arrayFilter$1;function stubArray$2(){return[]}var stubArray_1=stubArray$2,arrayFilter=_arrayFilter,stubArray$1=stubArray_1,objectProto$6=Object.prototype,propertyIsEnumerable=objectProto$6.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols$3=nativeGetSymbols$1?function(A){return A==null?[]:(A=Object(A),arrayFilter(nativeGetSymbols$1(A),function(e){return propertyIsEnumerable.call(A,e)}))}:stubArray$1,_getSymbols=getSymbols$3,baseGetAllKeys$1=_baseGetAllKeys,getSymbols$2=_getSymbols,keys$5=keys_1;function getAllKeys$2(A){return baseGetAllKeys$1(A,keys$5,getSymbols$2)}var _getAllKeys=getAllKeys$2,getAllKeys$1=_getAllKeys,COMPARE_PARTIAL_FLAG$3=1,objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function equalObjects$1(A,e,t,g,o,I){var i$1=t&COMPARE_PARTIAL_FLAG$3,r=getAllKeys$1(A),n=r.length;if(n!=getAllKeys$1(e).length&&!i$1)return!1;for(var C=n;C--;){var E=r[C];if(!(i$1?E in e:hasOwnProperty$5.call(e,E)))return!1}var s=I.get(A),B=I.get(e);if(s&&B)return s==e&&B==A;var a=!0;I.set(A,e),I.set(e,A);for(var Q=i$1;++C<n;){var c=A[E=r[C]],l=e[E];if(g)var h=i$1?g(l,c,E,e,A,I):g(c,l,E,A,e,I);if(!(h===void 0?c===l||o(c,l,t,g,I):h)){a=!1;break}Q||=E==`constructor`}if(a&&!Q){var u=A.constructor,d=e.constructor;u==d||!(`constructor`in A)||!(`constructor`in e)||typeof u==`function`&&u instanceof u&&typeof d==`function`&&d instanceof d||(a=!1)}return I.delete(A),I.delete(e),a}var _equalObjects=equalObjects$1,getNative$4=_getNative,root$4=_root,DataView$2=getNative$4(root$4,`DataView`),_DataView=DataView$2,getNative$3=_getNative,root$3=_root,Promise$2=getNative$3(root$3,`Promise`),_Promise=Promise$2,getNative$2=_getNative,root$2=_root,Set$3=getNative$2(root$2,`Set`),_Set=Set$3,getNative$1=_getNative,root$1=_root,WeakMap$2=getNative$1(root$1,`WeakMap`),_WeakMap=WeakMap$2,DataView$1=_DataView,Map$2=_Map,Promise$1=_Promise,Set$2=_Set,WeakMap$1=_WeakMap,baseGetTag$2=_baseGetTag,toSource=_toSource,mapTag$3=`[object Map]`,objectTag$3=`[object Object]`,promiseTag=`[object Promise]`,setTag$3=`[object Set]`,weakMapTag$1=`[object WeakMap]`,dataViewTag$2=`[object DataView]`,dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$2),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$2),weakMapCtorString=toSource(WeakMap$1),getTag$4=baseGetTag$2;(DataView$1&&getTag$4(new DataView$1(new ArrayBuffer(1)))!=dataViewTag$2||Map$2&&getTag$4(new Map$2)!=mapTag$3||Promise$1&&getTag$4(Promise$1.resolve())!=promiseTag||Set$2&&getTag$4(new Set$2)!=setTag$3||WeakMap$1&&getTag$4(new WeakMap$1)!=weakMapTag$1)&&(getTag$4=function(A){var e=baseGetTag$2(A),t=e==objectTag$3?A.constructor:void 0,g=t?toSource(t):``;if(g)switch(g){case dataViewCtorString:return dataViewTag$2;case mapCtorString:return mapTag$3;case promiseCtorString:return promiseTag;case setCtorString:return setTag$3;case weakMapCtorString:return weakMapTag$1}return e});var _getTag=getTag$4,Stack$3=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag$3=_getTag,isArray$b=isArray_1$1,isBuffer$2=isBufferExports,isTypedArray$1=isTypedArray_1,COMPARE_PARTIAL_FLAG$2=1,argsTag$1=`[object Arguments]`,arrayTag$1=`[object Array]`,objectTag$2=`[object Object]`,objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function baseIsEqualDeep$1(A,e,t,g,o,I){var i$1=isArray$b(A),r=isArray$b(e),n=i$1?arrayTag$1:getTag$3(A),C=r?arrayTag$1:getTag$3(e),E=(n=n==argsTag$1?objectTag$2:n)==objectTag$2,s=(C=C==argsTag$1?objectTag$2:C)==objectTag$2,B=n==C;if(B&&isBuffer$2(A)){if(!isBuffer$2(e))return!1;i$1=!0,E=!1}if(B&&!E)return I||=new Stack$3,i$1||isTypedArray$1(A)?equalArrays(A,e,t,g,o,I):equalByTag(A,e,n,t,g,o,I);if(!(t&COMPARE_PARTIAL_FLAG$2)){var a=E&&hasOwnProperty$4.call(A,`__wrapped__`),Q=s&&hasOwnProperty$4.call(e,`__wrapped__`);if(a||Q){var c=a?A.value():A,l=Q?e.value():e;return I||=new Stack$3,o(c,l,t,g,I)}}return!!B&&(I||=new Stack$3,equalObjects(A,e,t,g,o,I))}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=_baseIsEqualDeep,isObjectLike$5=isObjectLike_1;function baseIsEqual$2(A,e,t,g,o){return A===e||(A==null||e==null||!isObjectLike$5(A)&&!isObjectLike$5(e)?A!=A&&e!=e:baseIsEqualDeep(A,e,t,g,baseIsEqual$2,o))}var _baseIsEqual=baseIsEqual$2,Stack$2=_Stack,baseIsEqual$1=_baseIsEqual,COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch$1(A,e,t,g){var o=t.length,I=o,i$1=!g;if(A==null)return!I;for(A=Object(A);o--;){var r=t[o];if(i$1&&r[2]?r[1]!==A[r[0]]:!(r[0]in A))return!1}for(;++o<I;){var n=(r=t[o])[0],C=A[n],E=r[1];if(i$1&&r[2]){if(C===void 0&&!(n in A))return!1}else{var s=new Stack$2;if(g)var B=g(C,E,n,A,e,s);if(!(B===void 0?baseIsEqual$1(E,C,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,g,s):B))return!1}}return!0}var _baseIsMatch=baseIsMatch$1,isObject$a=isObject_1$1;function isStrictComparable$2(A){return A==A&&!isObject$a(A)}var _isStrictComparable=isStrictComparable$2,isStrictComparable$1=_isStrictComparable,keys$4=keys_1;function getMatchData$1(A){for(var e=keys$4(A),t=e.length;t--;){var g=e[t],o=A[g];e[t]=[g,o,isStrictComparable$1(o)]}return e}var _getMatchData=getMatchData$1;function matchesStrictComparable$2(A,e){return function(t){return t!=null&&t[A]===e&&(e!==void 0||A in Object(t))}}var _matchesStrictComparable=matchesStrictComparable$2,baseIsMatch=_baseIsMatch,getMatchData=_getMatchData,matchesStrictComparable$1=_matchesStrictComparable;function baseMatches$1(A){var e=getMatchData(A);return e.length==1&&e[0][2]?matchesStrictComparable$1(e[0][0],e[0][1]):function(t){return t===A||baseIsMatch(t,A,e)}}var _baseMatches=baseMatches$1,baseGetTag$1=_baseGetTag,isObjectLike$4=isObjectLike_1,symbolTag$2=`[object Symbol]`;function isSymbol$6(A){return typeof A==`symbol`||isObjectLike$4(A)&&baseGetTag$1(A)==symbolTag$2}var isSymbol_1=isSymbol$6,isArray$a=isArray_1$1,isSymbol$5=isSymbol_1,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey$3(A,e){if(isArray$a(A))return!1;var t=typeof A;return!(t!=`number`&&t!=`symbol`&&t!=`boolean`&&A!=null&&!isSymbol$5(A))||reIsPlainProp.test(A)||!reIsDeepProp.test(A)||e!=null&&A in Object(e)}var _isKey=isKey$3,MapCache=_MapCache,FUNC_ERROR_TEXT$1=`Expected a function`;function memoize$1(A,e){if(typeof A!=`function`||e!=null&&typeof e!=`function`)throw TypeError(FUNC_ERROR_TEXT$1);var t=function(){var g=arguments,o=e?e.apply(this,g):g[0],I=t.cache;if(I.has(o))return I.get(o);var i$1=A.apply(this,g);return t.cache=I.set(o,i$1)||I,i$1};return t.cache=new(memoize$1.Cache||MapCache),t}memoize$1.Cache=MapCache;var memoize_1=memoize$1,memoize=memoize_1,MAX_MEMOIZE_SIZE=500;function memoizeCapped$1(A){var e=memoize(A,function(A$1){return t.size===MAX_MEMOIZE_SIZE&&t.clear(),A$1}),t=e.cache;return e}var _memoizeCapped=memoizeCapped$1,memoizeCapped=_memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath$1=memoizeCapped(function(A){var e=[];return A.charCodeAt(0)===46&&e.push(``),A.replace(rePropName,function(A$1,t,g,o){e.push(g?o.replace(reEscapeChar,`$1`):t||A$1)}),e}),_stringToPath=stringToPath$1,Symbol$3=_Symbol,arrayMap$3=_arrayMap,isArray$9=isArray_1$1,isSymbol$4=isSymbol_1,symbolProto$1=Symbol$3?Symbol$3.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString$1(A){if(typeof A==`string`)return A;if(isArray$9(A))return arrayMap$3(A,baseToString$1)+``;if(isSymbol$4(A))return symbolToString?symbolToString.call(A):``;var e=A+``;return e==`0`&&1/A==-1/0?`-0`:e}var _baseToString=baseToString$1,baseToString=_baseToString;function toString$2(A){return A==null?``:baseToString(A)}var toString_1=toString$2,isArray$8=isArray_1$1,isKey$2=_isKey,stringToPath=_stringToPath,toString$1=toString_1;function castPath$6(A,e){return isArray$8(A)?A:isKey$2(A,e)?[A]:stringToPath(toString$1(A))}var _castPath=castPath$6,isSymbol$3=isSymbol_1;function toKey$6(A){if(typeof A==`string`||isSymbol$3(A))return A;var e=A+``;return e==`0`&&1/A==-1/0?`-0`:e}var _toKey=toKey$6,castPath$5=_castPath,toKey$5=_toKey;function baseGet$5(A,e){for(var t=0,g=(e=castPath$5(e,A)).length;A!=null&&t<g;)A=A[toKey$5(e[t++])];return t&&t==g?A:void 0}var _baseGet=baseGet$5,baseGet$4=_baseGet;function get$1(A,e,t){var g=A==null?void 0:baseGet$4(A,e);return g===void 0?t:g}var get_1=get$1;function baseHasIn$1(A,e){return A!=null&&e in Object(A)}var _baseHasIn=baseHasIn$1,castPath$4=_castPath,isArguments$2=isArguments_1,isArray$7=isArray_1$1,isIndex$2=_isIndex,isLength=isLength_1,toKey$4=_toKey;function hasPath$1(A,e,t){for(var g=-1,o=(e=castPath$4(e,A)).length,I=!1;++g<o;){var i$1=toKey$4(e[g]);if(!(I=A!=null&&t(A,i$1)))break;A=A[i$1]}return I||++g!=o?I:!!(o=A==null?0:A.length)&&isLength(o)&&isIndex$2(i$1,o)&&(isArray$7(A)||isArguments$2(A))}var _hasPath=hasPath$1,baseHasIn=_baseHasIn,hasPath=_hasPath;function hasIn$1(A,e){return A!=null&&hasPath(A,e,baseHasIn)}var hasIn_1=hasIn$1,baseIsEqual=_baseIsEqual,get=get_1,hasIn=hasIn_1,isKey$1=_isKey,isStrictComparable=_isStrictComparable,matchesStrictComparable=_matchesStrictComparable,toKey$3=_toKey,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty$1(A,e){return isKey$1(A)&&isStrictComparable(e)?matchesStrictComparable(toKey$3(A),e):function(t){var g=get(t,A);return g===void 0&&g===e?hasIn(t,A):baseIsEqual(e,g,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}var _baseMatchesProperty=baseMatchesProperty$1;function identity$4(A){return A}var identity_1=identity$4;function baseProperty$1(A){return function(e){return e?.[A]}}var _baseProperty=baseProperty$1,baseGet$3=_baseGet;function basePropertyDeep$1(A){return function(e){return baseGet$3(e,A)}}var _basePropertyDeep=basePropertyDeep$1,baseProperty=_baseProperty,basePropertyDeep=_basePropertyDeep,isKey=_isKey,toKey$2=_toKey;function property$1(A){return isKey(A)?baseProperty(toKey$2(A)):basePropertyDeep(A)}var property_1=property$1,baseMatches=_baseMatches,baseMatchesProperty=_baseMatchesProperty,identity$3=identity_1,isArray$6=isArray_1$1,property=property_1;function baseIteratee$7(A){return typeof A==`function`?A:A==null?identity$3:typeof A==`object`?isArray$6(A)?baseMatchesProperty(A[0],A[1]):baseMatches(A):property(A)}var _baseIteratee=baseIteratee$7;function createBaseFor$1(A){return function(e,t,g){for(var o=-1,I=Object(e),i$1=g(e),r=i$1.length;r--;){var n=i$1[A?r:++o];if(!1===t(I[n],n,I))break}return e}}var _createBaseFor=createBaseFor$1,createBaseFor=_createBaseFor,baseFor$2=createBaseFor(),_baseFor=baseFor$2,baseFor$1=_baseFor,keys$3=keys_1;function baseForOwn$2(A,e){return A&&baseFor$1(A,e,keys$3)}var _baseForOwn=baseForOwn$2,isArrayLike$6=isArrayLike_1;function createBaseEach$1(A,e){return function(t,g){if(t==null)return t;if(!isArrayLike$6(t))return A(t,g);for(var o=t.length,I=e?o:-1,i$1=Object(t);(e?I--:++I<o)&&!1!==g(i$1[I],I,i$1););return t}}var _createBaseEach=createBaseEach$1,baseForOwn$1=_baseForOwn,createBaseEach=_createBaseEach,baseEach$1=createBaseEach(baseForOwn$1),_baseEach=baseEach$1,eq$2=eq_1,isArrayLike$5=isArrayLike_1,isIndex$1=_isIndex,isObject$9=isObject_1$1;function isIterateeCall$2(A,e,t){if(!isObject$9(t))return!1;var g=typeof e;return!!(g==`number`?isArrayLike$5(t)&&isIndex$1(e,t.length):g==`string`&&e in t)&&eq$2(t[e],A)}var _isIterateeCall=isIterateeCall$2,Symbol$2=_Symbol,isArguments$1=isArguments_1,isArray$5=isArray_1$1,spreadableSymbol=Symbol$2?Symbol$2.isConcatSpreadable:void 0;function isFlattenable$1(A){return isArray$5(A)||isArguments$1(A)||!!(spreadableSymbol&&A&&A[spreadableSymbol])}var _isFlattenable=isFlattenable$1,arrayPush$1=_arrayPush,isFlattenable=_isFlattenable;function baseFlatten$2(A,e,t,g,o){var I=-1,i$1=A.length;for(t||=isFlattenable,o||=[];++I<i$1;){var r=A[I];e>0&&t(r)?e>1?baseFlatten$2(r,e-1,t,g,o):arrayPush$1(o,r):g||(o[o.length]=r)}return o}var _baseFlatten=baseFlatten$2,baseEach=_baseEach,isArrayLike$4=isArrayLike_1;function baseMap$1(A,e){var t=-1,g=isArrayLike$4(A)?Array(A.length):[];return baseEach(A,function(A$1,o,I){g[++t]=e(A$1,o,I)}),g}var _baseMap=baseMap$1;function baseSortBy$1(A,e){var t=A.length;for(A.sort(e);t--;)A[t]=A[t].value;return A}var _baseSortBy=baseSortBy$1,isSymbol$2=isSymbol_1;function compareAscending$1(A,e){if(A!==e){var t=A!==void 0,g=A===null,o=A==A,I=isSymbol$2(A),i$1=e!==void 0,r=e===null,n=e==e,C=isSymbol$2(e);if(!r&&!C&&!I&&A>e||I&&i$1&&n&&!r&&!C||g&&i$1&&n||!t&&n||!o)return 1;if(!g&&!I&&!C&&A<e||C&&t&&o&&!g&&!I||r&&t&&o||!i$1&&o||!n)return-1}return 0}var _compareAscending=compareAscending$1,compareAscending=_compareAscending;function compareMultiple$1(A,e,t){for(var g=-1,o=A.criteria,I=e.criteria,i$1=o.length,r=t.length;++g<i$1;){var n=compareAscending(o[g],I[g]);if(n)return g>=r?n:n*(t[g]==`desc`?-1:1)}return A.index-e.index}var _compareMultiple=compareMultiple$1,arrayMap$2=_arrayMap,baseGet$2=_baseGet,baseIteratee$6=_baseIteratee,baseMap=_baseMap,baseSortBy=_baseSortBy,baseUnary$2=_baseUnary,compareMultiple=_compareMultiple,identity$2=identity_1,isArray$4=isArray_1$1;function baseOrderBy$1(A,e,t){e=e.length?arrayMap$2(e,function(A$1){return isArray$4(A$1)?function(e$1){return baseGet$2(e$1,A$1.length===1?A$1[0]:A$1)}:A$1}):[identity$2];var g=-1;return e=arrayMap$2(e,baseUnary$2(baseIteratee$6)),baseSortBy(baseMap(A,function(A$1,t$1,o){return{criteria:arrayMap$2(e,function(e$1){return e$1(A$1)}),index:++g,value:A$1}}),function(A$1,e$1){return compareMultiple(A$1,e$1,t)})}var _baseOrderBy=baseOrderBy$1;function apply$1(A,e,t){switch(t.length){case 0:return A.call(e);case 1:return A.call(e,t[0]);case 2:return A.call(e,t[0],t[1]);case 3:return A.call(e,t[0],t[1],t[2])}return A.apply(e,t)}var _apply=apply$1,apply=_apply,nativeMax$2=Math.max;function overRest$2(A,e,t){return e=nativeMax$2(e===void 0?A.length-1:e,0),function(){for(var g=arguments,o=-1,I=nativeMax$2(g.length-e,0),i$1=Array(I);++o<I;)i$1[o]=g[e+o];o=-1;for(var r=Array(e+1);++o<e;)r[o]=g[o];return r[e]=t(i$1),apply(A,this,r)}}var _overRest=overRest$2;function constant$1(A){return function(){return A}}var constant_1=constant$1,getNative=_getNative,defineProperty$2=function(){try{var A=getNative(Object,`defineProperty`);return A({},``,{}),A}catch{}}(),_defineProperty=defineProperty$2,constant=constant_1,defineProperty$1=_defineProperty,identity$1=identity_1,baseSetToString$1=defineProperty$1?function(A,e){return defineProperty$1(A,`toString`,{configurable:!0,enumerable:!1,value:constant(e),writable:!0})}:identity$1,_baseSetToString=baseSetToString$1,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut$1(A){var e=0,t=0;return function(){var g=nativeNow(),o=HOT_SPAN-(g-t);if(t=g,o>0){if(++e>=HOT_COUNT)return arguments[0]}else e=0;return A.apply(void 0,arguments)}}var _shortOut=shortOut$1,baseSetToString=_baseSetToString,shortOut=_shortOut,setToString$2=shortOut(baseSetToString),_setToString=setToString$2,identity=identity_1,overRest$1=_overRest,setToString$1=_setToString;function baseRest$2(A,e){return setToString$1(overRest$1(A,e,identity),A+``)}var _baseRest=baseRest$2,baseFlatten$1=_baseFlatten,baseOrderBy=_baseOrderBy,baseRest$1=_baseRest,isIterateeCall$1=_isIterateeCall,sortBy=baseRest$1(function(A,e){if(A==null)return[];var t=e.length;return t>1&&isIterateeCall$1(A,e[0],e[1])?e=[]:t>2&&isIterateeCall$1(e[0],e[1],e[2])&&(e=[e[0]]),baseOrderBy(A,baseFlatten$1(e,1),[])}),sortBy_1=sortBy,sortBy$1=getDefaultExportFromCjs(sortBy_1),baseRandom=_baseRandom;function arraySample$2(A){var e=A.length;return e?A[baseRandom(0,e-1)]:void 0}var _arraySample=arraySample$2,arraySample$1=_arraySample,values=values_1;function baseSample$1(A){return arraySample$1(values(A))}var _baseSample=baseSample$1,arraySample=_arraySample,baseSample=_baseSample,isArray$3=isArray_1$1;function sample(A){return(isArray$3(A)?arraySample:baseSample)(A)}var sample_1=sample,sample$1=getDefaultExportFromCjs(sample_1),reWhitespace=/\s/;function trimmedEndIndex$1(A){for(var e=A.length;e--&&reWhitespace.test(A.charAt(e)););return e}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart$1=/^\s+/;function baseTrim$1(A){return A&&A.slice(0,trimmedEndIndex(A)+1).replace(reTrimStart$1,``)}var _baseTrim=baseTrim$1,baseTrim=_baseTrim,isObject$8=isObject_1$1,isSymbol$1=isSymbol_1,NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$1(A){if(typeof A==`number`)return A;if(isSymbol$1(A))return NAN;if(isObject$8(A)){var e=typeof A.valueOf==`function`?A.valueOf():A;A=isObject$8(e)?e+``:e}if(typeof A!=`string`)return A===0?A:+A;A=baseTrim(A);var t=reIsBinary.test(A);return t||reIsOctal.test(A)?freeParseInt(A.slice(2),t?2:8):reIsBadHex.test(A)?NAN:+A}var toNumber_1=toNumber$1,toNumber=toNumber_1,INFINITY$1=1/0,MAX_INTEGER=17976931348623157e292;function toFinite$1(A){return A?(A=toNumber(A))===INFINITY$1||A===-INFINITY$1?(A<0?-1:1)*MAX_INTEGER:A==A?A:0:A===0?A:0}var toFinite_1=toFinite$1;function compact(A){for(var e=-1,t=A==null?0:A.length,g=0,o=[];++e<t;){var I=A[e];I&&(o[g++]=I)}return o}var compact_1=compact,compact$1=getDefaultExportFromCjs(compact_1);function arrayEach$1(A,e){for(var t=-1,g=A==null?0:A.length;++t<g&&!1!==e(A[t],t,A););return A}var _arrayEach=arrayEach$1,defineProperty=_defineProperty;function baseAssignValue$4(A,e,t){e==`__proto__`&&defineProperty?defineProperty(A,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):A[e]=t}var _baseAssignValue=baseAssignValue$4,baseAssignValue$3=_baseAssignValue,eq$1=eq_1,objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function assignValue$3(A,e,t){var g=A[e];hasOwnProperty$3.call(A,e)&&eq$1(g,t)&&(t!==void 0||e in A)||baseAssignValue$3(A,e,t)}var _assignValue=assignValue$3,assignValue$2=_assignValue,baseAssignValue$2=_baseAssignValue;function copyObject$6(A,e,t,g){var o=!t;t||={};for(var I=-1,i$1=e.length;++I<i$1;){var r=e[I],n=g?g(t[r],A[r],r,t,A):void 0;n===void 0&&(n=A[r]),o?baseAssignValue$2(t,r,n):assignValue$2(t,r,n)}return t}var _copyObject=copyObject$6,copyObject$5=_copyObject,keys$2=keys_1;function baseAssign$1(A,e){return A&&copyObject$5(e,keys$2(e),A)}var _baseAssign=baseAssign$1;function nativeKeysIn$1(A){var e=[];if(A!=null)for(var t in Object(A))e.push(t);return e}var _nativeKeysIn=nativeKeysIn$1,isObject$7=isObject_1$1,isPrototype$1=_isPrototype,nativeKeysIn=_nativeKeysIn,objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function baseKeysIn$1(A){if(!isObject$7(A))return nativeKeysIn(A);var e=isPrototype$1(A),t=[];for(var g in A)(g!=`constructor`||!e&&hasOwnProperty$2.call(A,g))&&t.push(g);return t}var _baseKeysIn=baseKeysIn$1,arrayLikeKeys=_arrayLikeKeys,baseKeysIn=_baseKeysIn,isArrayLike$3=isArrayLike_1;function keysIn$5(A){return isArrayLike$3(A)?arrayLikeKeys(A,!0):baseKeysIn(A)}var keysIn_1=keysIn$5,copyObject$4=_copyObject,keysIn$4=keysIn_1;function baseAssignIn$1(A,e){return A&&copyObject$4(e,keysIn$4(e),A)}var _baseAssignIn=baseAssignIn$1,_cloneBuffer={exports:{}};_cloneBuffer.exports,function(A,e){var t=_root,g=e&&!e.nodeType&&e,o=g&&A&&!A.nodeType&&A,I=o&&o.exports===g?t.Buffer:void 0,i$1=I?I.allocUnsafe:void 0;A.exports=function(A$1,e$1){if(e$1)return A$1.slice();var t$1=A$1.length,g$1=i$1?i$1(t$1):new A$1.constructor(t$1);return A$1.copy(g$1),g$1}}(_cloneBuffer,_cloneBuffer.exports);var _cloneBufferExports=_cloneBuffer.exports,copyObject$3=_copyObject,getSymbols$1=_getSymbols;function copySymbols$1(A,e){return copyObject$3(A,getSymbols$1(A),e)}var _copySymbols=copySymbols$1,overArg=_overArg,getPrototype$3=overArg(Object.getPrototypeOf,Object),_getPrototype=getPrototype$3,arrayPush=_arrayPush,getPrototype$2=_getPrototype,getSymbols=_getSymbols,stubArray=stubArray_1,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn$2=nativeGetSymbols?function(A){for(var e=[];A;)arrayPush(e,getSymbols(A)),A=getPrototype$2(A);return e}:stubArray,_getSymbolsIn=getSymbolsIn$2,copyObject$2=_copyObject,getSymbolsIn$1=_getSymbolsIn;function copySymbolsIn$1(A,e){return copyObject$2(A,getSymbolsIn$1(A),e)}var _copySymbolsIn=copySymbolsIn$1,baseGetAllKeys=_baseGetAllKeys,getSymbolsIn=_getSymbolsIn,keysIn$3=keysIn_1;function getAllKeysIn$3(A){return baseGetAllKeys(A,keysIn$3,getSymbolsIn)}var _getAllKeysIn=getAllKeysIn$3,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function initCloneArray$1(A){var e=A.length,t=new A.constructor(e);return e&&typeof A[0]==`string`&&hasOwnProperty$1.call(A,`index`)&&(t.index=A.index,t.input=A.input),t}var _initCloneArray=initCloneArray$1,Uint8Array$1=_Uint8Array;function cloneArrayBuffer$3(A){var e=new A.constructor(A.byteLength);return new Uint8Array$1(e).set(new Uint8Array$1(A)),e}var _cloneArrayBuffer=cloneArrayBuffer$3,cloneArrayBuffer$2=_cloneArrayBuffer;function cloneDataView$1(A,e){var t=e?cloneArrayBuffer$2(A.buffer):A.buffer;return new A.constructor(t,A.byteOffset,A.byteLength)}var _cloneDataView=cloneDataView$1,reFlags=/\w*$/;function cloneRegExp$1(A){var e=new A.constructor(A.source,reFlags.exec(A));return e.lastIndex=A.lastIndex,e}var _cloneRegExp=cloneRegExp$1,Symbol$1=_Symbol,symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function cloneSymbol$1(A){return symbolValueOf?Object(symbolValueOf.call(A)):{}}var _cloneSymbol=cloneSymbol$1,cloneArrayBuffer$1=_cloneArrayBuffer;function cloneTypedArray$2(A,e){var t=e?cloneArrayBuffer$1(A.buffer):A.buffer;return new A.constructor(t,A.byteOffset,A.length)}var _cloneTypedArray=cloneTypedArray$2,cloneArrayBuffer=_cloneArrayBuffer,cloneDataView=_cloneDataView,cloneRegExp=_cloneRegExp,cloneSymbol=_cloneSymbol,cloneTypedArray$1=_cloneTypedArray,boolTag$1=`[object Boolean]`,dateTag$1=`[object Date]`,mapTag$2=`[object Map]`,numberTag$1=`[object Number]`,regexpTag$1=`[object RegExp]`,setTag$2=`[object Set]`,stringTag$1=`[object String]`,symbolTag$1=`[object Symbol]`,arrayBufferTag$1=`[object ArrayBuffer]`,dataViewTag$1=`[object DataView]`,float32Tag$1=`[object Float32Array]`,float64Tag$1=`[object Float64Array]`,int8Tag$1=`[object Int8Array]`,int16Tag$1=`[object Int16Array]`,int32Tag$1=`[object Int32Array]`,uint8Tag$1=`[object Uint8Array]`,uint8ClampedTag$1=`[object Uint8ClampedArray]`,uint16Tag$1=`[object Uint16Array]`,uint32Tag$1=`[object Uint32Array]`;function initCloneByTag$1(A,e,t){var g=A.constructor;switch(e){case arrayBufferTag$1:return cloneArrayBuffer(A);case boolTag$1:case dateTag$1:return new g(+A);case dataViewTag$1:return cloneDataView(A,t);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray$1(A,t);case mapTag$2:return new g;case numberTag$1:case stringTag$1:return new g(A);case regexpTag$1:return cloneRegExp(A);case setTag$2:return new g;case symbolTag$1:return cloneSymbol(A)}}var _initCloneByTag=initCloneByTag$1,isObject$6=isObject_1$1,objectCreate=Object.create,baseCreate$1=function(){function A(){}return function(e){if(!isObject$6(e))return{};if(objectCreate)return objectCreate(e);A.prototype=e;var t=new A;return A.prototype=void 0,t}}(),_baseCreate=baseCreate$1,baseCreate=_baseCreate,getPrototype$1=_getPrototype,isPrototype=_isPrototype;function initCloneObject$2(A){return typeof A.constructor!=`function`||isPrototype(A)?{}:baseCreate(getPrototype$1(A))}var _initCloneObject=initCloneObject$2,getTag$2=_getTag,isObjectLike$3=isObjectLike_1,mapTag$1=`[object Map]`;function baseIsMap$1(A){return isObjectLike$3(A)&&getTag$2(A)==mapTag$1}var _baseIsMap=baseIsMap$1,baseIsMap=_baseIsMap,baseUnary$1=_baseUnary,nodeUtil$1=_nodeUtilExports,nodeIsMap=nodeUtil$1&&nodeUtil$1.isMap,isMap$1=nodeIsMap?baseUnary$1(nodeIsMap):baseIsMap,isMap_1=isMap$1,getTag$1=_getTag,isObjectLike$2=isObjectLike_1,setTag$1=`[object Set]`;function baseIsSet$1(A){return isObjectLike$2(A)&&getTag$1(A)==setTag$1}var _baseIsSet=baseIsSet$1,baseIsSet=_baseIsSet,baseUnary=_baseUnary,nodeUtil=_nodeUtilExports,nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet$1=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,isSet_1=isSet$1,Stack$1=_Stack,arrayEach=_arrayEach,assignValue$1=_assignValue,baseAssign=_baseAssign,baseAssignIn=_baseAssignIn,cloneBuffer$1=_cloneBufferExports,copyArray$1=_copyArray,copySymbols=_copySymbols,copySymbolsIn=_copySymbolsIn,getAllKeys=_getAllKeys,getAllKeysIn$2=_getAllKeysIn,getTag=_getTag,initCloneArray=_initCloneArray,initCloneByTag=_initCloneByTag,initCloneObject$1=_initCloneObject,isArray$2=isArray_1$1,isBuffer$1=isBufferExports,isMap=isMap_1,isObject$5=isObject_1$1,isSet=isSet_1,keys$1=keys_1,keysIn$2=keysIn_1,CLONE_DEEP_FLAG$2=1,CLONE_FLAT_FLAG$1=2,CLONE_SYMBOLS_FLAG$2=4,argsTag=`[object Arguments]`,arrayTag=`[object Array]`,boolTag=`[object Boolean]`,dateTag=`[object Date]`,errorTag=`[object Error]`,funcTag=`[object Function]`,genTag=`[object GeneratorFunction]`,mapTag=`[object Map]`,numberTag=`[object Number]`,objectTag$1=`[object Object]`,regexpTag=`[object RegExp]`,setTag=`[object Set]`,stringTag=`[object String]`,symbolTag=`[object Symbol]`,weakMapTag=`[object WeakMap]`,arrayBufferTag=`[object ArrayBuffer]`,dataViewTag=`[object DataView]`,float32Tag=`[object Float32Array]`,float64Tag=`[object Float64Array]`,int8Tag=`[object Int8Array]`,int16Tag=`[object Int16Array]`,int32Tag=`[object Int32Array]`,uint8Tag=`[object Uint8Array]`,uint8ClampedTag=`[object Uint8ClampedArray]`,uint16Tag=`[object Uint16Array]`,uint32Tag=`[object Uint32Array]`,cloneableTags={};function baseClone$2(A,e,t,g,o,I){var i$1,r=e&CLONE_DEEP_FLAG$2,n=e&CLONE_FLAT_FLAG$1,C=e&CLONE_SYMBOLS_FLAG$2;if(t&&(i$1=o?t(A,g,o,I):t(A)),i$1!==void 0)return i$1;if(!isObject$5(A))return A;var E=isArray$2(A);if(E){if(i$1=initCloneArray(A),!r)return copyArray$1(A,i$1)}else{var s=getTag(A),B=s==funcTag||s==genTag;if(isBuffer$1(A))return cloneBuffer$1(A,r);if(s==objectTag$1||s==argsTag||B&&!o){if(i$1=n||B?{}:initCloneObject$1(A),!r)return n?copySymbolsIn(A,baseAssignIn(i$1,A)):copySymbols(A,baseAssign(i$1,A))}else{if(!cloneableTags[s])return o?A:{};i$1=initCloneByTag(A,s,r)}}I||=new Stack$1;var a=I.get(A);if(a)return a;I.set(A,i$1),isSet(A)?A.forEach(function(g$1){i$1.add(baseClone$2(g$1,e,t,g$1,A,I))}):isMap(A)&&A.forEach(function(g$1,o$1){i$1.set(o$1,baseClone$2(g$1,e,t,o$1,A,I))});var Q=E?void 0:(C?n?getAllKeysIn$2:getAllKeys:n?keysIn$2:keys$1)(A);return arrayEach(Q||A,function(g$1,o$1){Q&&(g$1=A[o$1=g$1]),assignValue$1(i$1,o$1,baseClone$2(g$1,e,t,o$1,A,I))}),i$1}cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag$1]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;var _baseClone=baseClone$2,baseClone$1=_baseClone,CLONE_DEEP_FLAG$1=1,CLONE_SYMBOLS_FLAG$1=4;function cloneDeep(A){return baseClone$1(A,CLONE_DEEP_FLAG$1|CLONE_SYMBOLS_FLAG$1)}var cloneDeep_1=cloneDeep,cloneDeep$1=getDefaultExportFromCjs(cloneDeep_1),baseAssignValue$1=_baseAssignValue,baseForOwn=_baseForOwn,baseIteratee$5=_baseIteratee;function mapValues(A,e){var t={};return e=baseIteratee$5(e),baseForOwn(A,function(A$1,g,o){baseAssignValue$1(t,g,e(A$1,g,o))}),t}var mapValues_1=mapValues,mapValues$1=getDefaultExportFromCjs(mapValues_1),baseAssignValue=_baseAssignValue,eq=eq_1;function assignMergeValue$2(A,e,t){(t!==void 0&&!eq(A[e],t)||t===void 0&&!(e in A))&&baseAssignValue(A,e,t)}var _assignMergeValue=assignMergeValue$2,isArrayLike$2=isArrayLike_1,isObjectLike$1=isObjectLike_1;function isArrayLikeObject$1(A){return isObjectLike$1(A)&&isArrayLike$2(A)}var isArrayLikeObject_1=isArrayLikeObject$1,baseGetTag=_baseGetTag,getPrototype=_getPrototype,isObjectLike=isObjectLike_1,objectTag=`[object Object]`,funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject$3(A){if(!isObjectLike(A)||baseGetTag(A)!=objectTag)return!1;var e=getPrototype(A);if(e===null)return!0;var t=hasOwnProperty.call(e,`constructor`)&&e.constructor;return typeof t==`function`&&t instanceof t&&funcToString.call(t)==objectCtorString}var isPlainObject_1=isPlainObject$3;function safeGet$2(A,e){if((e!==`constructor`||typeof A[e]!=`function`)&&e!=`__proto__`)return A[e]}var _safeGet=safeGet$2,copyObject$1=_copyObject,keysIn$1=keysIn_1;function toPlainObject$1(A){return copyObject$1(A,keysIn$1(A))}var toPlainObject_1=toPlainObject$1,assignMergeValue$1=_assignMergeValue,cloneBuffer=_cloneBufferExports,cloneTypedArray=_cloneTypedArray,copyArray=_copyArray,initCloneObject=_initCloneObject,isArguments=isArguments_1,isArray$1=isArray_1$1,isArrayLikeObject=isArrayLikeObject_1,isBuffer=isBufferExports,isFunction$3=isFunction_1$1,isObject$4=isObject_1$1,isPlainObject$2=isPlainObject_1,isTypedArray=isTypedArray_1,safeGet$1=_safeGet,toPlainObject=toPlainObject_1;function baseMergeDeep$1(A,e,t,g,o,I,i$1){var r=safeGet$1(A,t),n=safeGet$1(e,t),C=i$1.get(n);if(C)assignMergeValue$1(A,t,C);else{var E=I?I(r,n,t+``,A,e,i$1):void 0,s=E===void 0;if(s){var B=isArray$1(n),a=!B&&isBuffer(n),Q=!B&&!a&&isTypedArray(n);E=n,B||a||Q?isArray$1(r)?E=r:isArrayLikeObject(r)?E=copyArray(r):a?(s=!1,E=cloneBuffer(n,!0)):Q?(s=!1,E=cloneTypedArray(n,!0)):E=[]:isPlainObject$2(n)||isArguments(n)?(E=r,isArguments(r)?E=toPlainObject(r):isObject$4(r)&&!isFunction$3(r)||(E=initCloneObject(n))):s=!1}s&&(i$1.set(n,E),o(E,n,g,I,i$1),i$1.delete(n)),assignMergeValue$1(A,t,E)}}var _baseMergeDeep=baseMergeDeep$1,Stack=_Stack,assignMergeValue=_assignMergeValue,baseFor=_baseFor,baseMergeDeep=_baseMergeDeep,isObject$3=isObject_1$1,keysIn=keysIn_1,safeGet=_safeGet;function baseMerge$1(A,e,t,g,o){A!==e&&baseFor(e,function(I,i$1){if(o||=new Stack,isObject$3(I))baseMergeDeep(A,e,i$1,t,baseMerge$1,g,o);else{var r=g?g(safeGet(A,i$1),I,i$1+``,A,e,o):void 0;r===void 0&&(r=I),assignMergeValue(A,i$1,r)}},keysIn)}var _baseMerge=baseMerge$1,baseRest=_baseRest,isIterateeCall=_isIterateeCall;function createAssigner$1(A){return baseRest(function(e,t){var g=-1,o=t.length,I=o>1?t[o-1]:void 0,i$1=o>2?t[2]:void 0;for(I=A.length>3&&typeof I==`function`?(o--,I):void 0,i$1&&isIterateeCall(t[0],t[1],i$1)&&(I=o<3?void 0:I,o=1),e=Object(e);++g<o;){var r=t[g];r&&A(e,r,g,I)}return e})}var _createAssigner=createAssigner$1,baseMerge=_baseMerge,createAssigner=_createAssigner,mergeWith=createAssigner(function(A,e,t,g){baseMerge(A,e,t,g)}),mergeWith_1=mergeWith,mergeWith$1=getDefaultExportFromCjs(mergeWith_1);function last$1(A){var e=A==null?0:A.length;return e?A[e-1]:void 0}var last_1=last$1;function baseSlice$1(A,e,t){var g=-1,o=A.length;e<0&&(e=-e>o?0:o+e),(t=t>o?o:t)<0&&(t+=o),o=e>t?0:t-e>>>0,e>>>=0;for(var I=Array(o);++g<o;)I[g]=A[g+e];return I}var _baseSlice=baseSlice$1,baseGet$1=_baseGet,baseSlice=_baseSlice;function parent$1(A,e){return e.length<2?A:baseGet$1(A,baseSlice(e,0,-1))}var _parent=parent$1,castPath$3=_castPath,last=last_1,parent=_parent,toKey$1=_toKey;function baseUnset$1(A,e){return e=castPath$3(e,A),(A=parent(A,e))==null||delete A[toKey$1(last(e))]}var _baseUnset=baseUnset$1,isPlainObject$1=isPlainObject_1;function customOmitClone$1(A){return isPlainObject$1(A)?void 0:A}var _customOmitClone=customOmitClone$1,baseFlatten=_baseFlatten;function flatten$1(A){return A!=null&&A.length?baseFlatten(A,1):[]}var flatten_1=flatten$1,flatten=flatten_1,overRest=_overRest,setToString=_setToString;function flatRest$1(A){return setToString(overRest(A,void 0,flatten),A+``)}var _flatRest=flatRest$1,arrayMap$1=_arrayMap,baseClone=_baseClone,baseUnset=_baseUnset,castPath$2=_castPath,copyObject=_copyObject,customOmitClone=_customOmitClone,flatRest=_flatRest,getAllKeysIn$1=_getAllKeysIn,CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4,omit=flatRest(function(A,e){var t={};if(A==null)return t;var g=!1;e=arrayMap$1(e,function(e$1){return e$1=castPath$2(e$1,A),g||=e$1.length>1,e$1}),copyObject(A,getAllKeysIn$1(A),t),g&&(t=baseClone(t,CLONE_DEEP_FLAG|CLONE_FLAT_FLAG|CLONE_SYMBOLS_FLAG,customOmitClone));for(var o=e.length;o--;)baseUnset(t,e[o]);return t}),omit_1=omit,omit$1=getDefaultExportFromCjs(omit_1),root=_root,toString=toString_1,reTrimStart=/^\s+/,nativeParseInt=root.parseInt;function parseInt$1(A,e,t){return t||e==null?e=0:e&&=+e,nativeParseInt(toString(A).replace(reTrimStart,``),e||0)}var _parseInt=parseInt$1,parseInt$2=getDefaultExportFromCjs(_parseInt);function isUndefined$1(A){return A===void 0}var isUndefined_1=isUndefined$1,isUndefined$2=getDefaultExportFromCjs(isUndefined_1),FUNC_ERROR_TEXT=`Expected a function`;function negate$1(A){if(typeof A!=`function`)throw TypeError(FUNC_ERROR_TEXT);return function(){var e=arguments;switch(e.length){case 0:return!A.call(this);case 1:return!A.call(this,e[0]);case 2:return!A.call(this,e[0],e[1]);case 3:return!A.call(this,e[0],e[1],e[2])}return!A.apply(this,e)}}var negate_1=negate$1,assignValue=_assignValue,castPath$1=_castPath,isIndex=_isIndex,isObject$2=isObject_1$1,toKey=_toKey;function baseSet$1(A,e,t,g){if(!isObject$2(A))return A;for(var o=-1,I=(e=castPath$1(e,A)).length,i$1=I-1,r=A;r!=null&&++o<I;){var n=toKey(e[o]),C=t;if(n===`__proto__`||n===`constructor`||n===`prototype`)return A;if(o!=i$1){var E=r[n];(C=g?g(E,n,r):void 0)===void 0&&(C=isObject$2(E)?E:isIndex(e[o+1])?[]:{})}assignValue(r,n,C),r=r[n]}return A}var _baseSet=baseSet$1,baseGet=_baseGet,baseSet=_baseSet,castPath=_castPath;function basePickBy$1(A,e,t){for(var g=-1,o=e.length,I={};++g<o;){var i$1=e[g],r=baseGet(A,i$1);t(r,i$1)&&baseSet(I,castPath(i$1,A),r)}return I}var _basePickBy=basePickBy$1,arrayMap=_arrayMap,baseIteratee$4=_baseIteratee,basePickBy=_basePickBy,getAllKeysIn=_getAllKeysIn;function pickBy$1(A,e){if(A==null)return{};var t=arrayMap(getAllKeysIn(A),function(A$1){return[A$1]});return e=baseIteratee$4(e),basePickBy(A,t,function(A$1,t$1){return e(A$1,t$1[0])})}var pickBy_1=pickBy$1,baseIteratee$3=_baseIteratee,negate=negate_1,pickBy=pickBy_1;function omitBy(A,e){return pickBy(A,negate(baseIteratee$3(e)))}var omitBy_1=omitBy,omitBy$1=getDefaultExportFromCjs(omitBy_1);function isNull$1(A){return A===null}var isNull_1=isNull$1,isNull$2=getDefaultExportFromCjs(isNull_1),baseIteratee$2=_baseIteratee,isArrayLike$1=isArrayLike_1,keys=keys_1;function createFind$1(A){return function(e,t,g){var o=Object(e);if(!isArrayLike$1(e)){var I=baseIteratee$2(t);e=keys(e),t=function(A$1){return I(o[A$1],A$1,o)}}var i$1=A(e,t,g);return i$1>-1?o[I?e[i$1]:i$1]:void 0}}var _createFind=createFind$1;function baseFindIndex$3(A,e,t,g){for(var o=A.length,I=t+(g?1:-1);g?I--:++I<o;)if(e(A[I],I,A))return I;return-1}var _baseFindIndex=baseFindIndex$3,toFinite=toFinite_1;function toInteger$2(A){var e=toFinite(A),t=e%1;return e==e?t?e-t:e:0}var toInteger_1=toInteger$2,baseFindIndex$2=_baseFindIndex,baseIteratee$1=_baseIteratee,toInteger$1=toInteger_1,nativeMax$1=Math.max;function findIndex$1(A,e,t){var g=A==null?0:A.length;if(!g)return-1;var o=t==null?0:toInteger$1(t);return o<0&&(o=nativeMax$1(g+o,0)),baseFindIndex$2(A,baseIteratee$1(e),o)}var findIndex_1=findIndex$1,createFind=_createFind,findIndex=findIndex_1,find=createFind(findIndex),find_1=find,find$1=getDefaultExportFromCjs(find_1);function baseIsNaN$1(A){return A!=A}var _baseIsNaN=baseIsNaN$1;function strictIndexOf$1(A,e,t){for(var g=t-1,o=A.length;++g<o;)if(A[g]===e)return g;return-1}var _strictIndexOf=strictIndexOf$1,baseFindIndex$1=_baseFindIndex,baseIsNaN=_baseIsNaN,strictIndexOf=_strictIndexOf;function baseIndexOf$1(A,e,t){return e==e?strictIndexOf(A,e,t):baseFindIndex$1(A,baseIsNaN,t)}var _baseIndexOf=baseIndexOf$1,baseIndexOf=_baseIndexOf;function arrayIncludes$1(A,e){return!!(A!=null&&A.length)&&baseIndexOf(A,e,0)>-1}var _arrayIncludes=arrayIncludes$1;function arrayIncludesWith$1(A,e,t){for(var g=-1,o=A==null?0:A.length;++g<o;)if(t(e,A[g]))return!0;return!1}var _arrayIncludesWith=arrayIncludesWith$1;function noop$2(){}var noop_1=noop$2,Set$1=_Set,noop$1=noop_1,setToArray$1=_setToArray,INFINITY=1/0,createSet$1=Set$1&&1/setToArray$1(new Set$1([,-0]))[1]==INFINITY?function(A){return new Set$1(A)}:noop$1,_createSet=createSet$1,SetCache=_SetCache,arrayIncludes=_arrayIncludes,arrayIncludesWith=_arrayIncludesWith,cacheHas=_cacheHas,createSet=_createSet,setToArray=_setToArray,LARGE_ARRAY_SIZE=200;function baseUniq$1(A,e,t){var g=-1,o=arrayIncludes,I=A.length,i$1=!0,r=[],n=r;if(t)i$1=!1,o=arrayIncludesWith;else if(I>=LARGE_ARRAY_SIZE){var C=e?null:createSet(A);if(C)return setToArray(C);i$1=!1,o=cacheHas,n=new SetCache}else n=e?[]:r;A:for(;++g<I;){var E=A[g],s=e?e(E):E;if(E=t||E!==0?E:0,i$1&&s==s){for(var B=n.length;B--;)if(n[B]===s)continue A;e&&n.push(s),r.push(E)}else o(n,s,t)||(n!==r&&n.push(s),r.push(E))}return r}var _baseUniq=baseUniq$1,baseUniq=_baseUniq;function uniqWith(A,e){return e=typeof e==`function`?e:void 0,A&&A.length?baseUniq(A,void 0,e):[]}var uniqWith_1=uniqWith,uniqWith$1=getDefaultExportFromCjs(uniqWith_1),baseFindIndex=_baseFindIndex,baseIteratee=_baseIteratee,toInteger=toInteger_1,nativeMax=Math.max,nativeMin=Math.min;function findLastIndex(A,e,t){var g=A==null?0:A.length;if(!g)return-1;var o=g-1;return t!==void 0&&(o=toInteger(t),o=t<0?nativeMax(g+o,0):nativeMin(o,g-1)),baseFindIndex(A,baseIteratee(e),o,!0)}var findLastIndex_1=findLastIndex,findLastIndex$1=getDefaultExportFromCjs(findLastIndex_1);const EDGE_ENV_PORT_DEFAULT=EDGE_ENV_PORT,DEFAULT_API_RATE_LIMIT=new Map([[`removeLock`,20],[`setLock`,20],[`acquireLock`,10],[`releaseLock`,20],[`revokeLock`,20],[`getLock`,20],[`userMetaModify`,20],[`userMetaGet`,20],[`userMetaSub`,20],[`channelMetaModify`,20],[`channelMetaGet`,20],[`login`,20],[`renewToken`,20],[`whoNow`,20],[`whereNow`,20],[`modifyState`,20],[`getState`,20],[`subscribe`,20],[`join`,20],[`joinTopic`,20],[`subscribeTopic`,20],[`publish`,60],[`publishTopicMsg`,200],[`getMessages`,20]]),loginConfig={AP_DOMAIN_LIST:void 0,EDGE_DOMAIN_TLD_LIST:void 0,EDGE_IP_LIST:void 0,EDGE_ENV_PORT:EDGE_ENV_PORT_DEFAULT,REGISTRAR_USE_WS:!1},consoleConfig={RTM2_ENABLED:!0,LOCK_ENABLED:void 0,STORAGE_ENABLED:void 0,STORAGE_CHANNEL_SUB_ENABLED:void 0,STORAGE_USER_SUB_ENABLED:void 0,PRESENCE_INTERVAL:void 0,PRESENCE_THRESHOLD:void 0,PRESENCE_DEBOUNCE:void 0,PRESENCE_TIMEOUT:300,PRESENCE_RPC_TIMEOUT:DEFAULT_RPC_TIMEOUT_TIME,API_RATE_LIMIT:DEFAULT_API_RATE_LIMIT,ENABLE_API_RATE_LIMIT:!0},MUTABLE_PARAMS=_objectSpread2(_objectSpread2({RECONNECTING_AP_INTERVAL:2500,CONCURRENT_AP_NUM:void 0,DISABLE_MESSAGE_COMPRESSION:!1,LOG_UPLOAD_INTERVAL:5e3,LOG_HANDLER:void 0,ENABLE_EDGE_AUTO_FALLBACK:!0,MAX_STATE_COUNT:32,PRINT_TICK_LOG:!1,RTM_LINK_KEEP_ALIVE_TIMEOUT:void 0,HEART_BEAT:void 0,VID:new Map,STREAM_CHANNEL_COUNT:10,MESSAGE_CHANNEL_COUNT:50,HISTORY_MSG_COUNT_LIMIT:100,LOG_PING_PONG:!1,AREA_CONFIG:void 0,DECOUPLE_SYNC:!0,LOCK_TTL:10,EDGE_USE_IP:!1,SENSITIVE_LOG:!0,PRESENCE_BACKOFF_EVENT_INTERVAL:void 0,TDS_DOMAINS:void 0,CONFIG_QUERY_INTERVAL:void 0,LOG_UPLOAD_DOMAIN_LIST:void 0,EVENT_REPORT_DOMAIN_LIST:void 0,DISABLE_PRESENCE:!1,P2P_MSG_REORDER_TIMEOUT:void 0,CHANNEL_MSG_REORDER_TIMEOUT:void 0},consoleConfig),loginConfig);class Parameter{_setParameter(A,e){if(console.log(JSON.stringify({key:A,value:e}),`RTM setParameter`),!Object.keys(MUTABLE_PARAMS).includes(A)){console.warn(`setParameter: key is not in MUTABLE_PARAMS`);let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_PARAMETER);throw new RtmInvalidArgumentError(`set parameter`,[e$1],A$1)}switch(A){case`STREAM_CHANNEL_COUNT`:MUTABLE_PARAMS.STREAM_CHANNEL_COUNT=typeof e==`number`&&e>100?100:typeof e==`number`?e:10;break;case`MESSAGE_CHANNEL_COUNT`:MUTABLE_PARAMS.MESSAGE_CHANNEL_COUNT=typeof e==`number`?e:50;case`HISTORY_MSG_COUNT_LIMIT`:MUTABLE_PARAMS.HISTORY_MSG_COUNT_LIMIT=typeof e==`number`?e:100;break;case`API_RATE_LIMIT`:if(isNil$1(e))MUTABLE_PARAMS.API_RATE_LIMIT=DEFAULT_API_RATE_LIMIT;else{if(!(e instanceof Map)){console.warn(`setParameter: API_RATE_LIMIT value is not a Map`);let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_PARAMETER);throw new RtmInvalidArgumentError(`set parameter`,[e$1],A$1)}{let A$1=e.entries();Array.from(A$1).forEach(A$2=>{let[e$1,t]=A$2;typeof t==`number`&&MUTABLE_PARAMS.API_RATE_LIMIT.set(e$1,t)})}}break;default:MUTABLE_PARAMS[A]=e}}_getParameter(A){return MUTABLE_PARAMS[A]}setParameter(A,e){return this._setParameter(A,e)}getParameter(A){return this._getParameter(A)}}const p=new Parameter,setParameter=p.setParameter.bind(p),getParameter=p.getParameter.bind(p);function setVidParameter(A,e){let t=getParameter(`VID`);t.set(A,e),setParameter(`VID`,t)}function catchError(A){return function(e){var t=new CatchOperator(A);return t.caught=e.lift(t)}}var CatchOperator=function(){function A(A$1){this.selector=A$1}return A.prototype.call=function(A$1,e){return e.subscribe(new CatchSubscriber(A$1,this.selector,this.caught))},A}(),CatchSubscriber=function(A){function e(e$1,t,g){var o=A.call(this,e$1)||this;return o.selector=t,o.caught=g,o}return __extends$3(e,A),e.prototype.error=function(e$1){if(!this.isStopped){var t=void 0;try{t=this.selector(e$1,this.caught)}catch(e$2){A.prototype.error.call(this,e$2);return}this._unsubscribeAndRecycle();var g=new SimpleInnerSubscriber(this);this.add(g);var o=innerSubscribe(t,g);o!==g&&this.add(o)}},e}(SimpleOuterSubscriber);function concatMap(A,e){return mergeMap(A,e,1)}function defaultIfEmpty(A){return A===void 0&&(A=null),function(e){return e.lift(new DefaultIfEmptyOperator(A))}}var DefaultIfEmptyOperator=function(){function A(A$1){this.defaultValue=A$1}return A.prototype.call=function(A$1,e){return e.subscribe(new DefaultIfEmptySubscriber(A$1,this.defaultValue))},A}(),DefaultIfEmptySubscriber=function(A){function e(e$1,t){var g=A.call(this,e$1)||this;return g.defaultValue=t,g.isEmpty=!0,g}return __extends$3(e,A),e.prototype._next=function(A$1){this.isEmpty=!1,this.destination.next(A$1)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(Subscriber);function isDate(A){return A instanceof Date&&!isNaN(+A)}function delay(A,e){e===void 0&&(e=async);var t=isDate(A)?+A-e.now():Math.abs(A);return function(A$1){return A$1.lift(new DelayOperator(t,e))}}var DelayOperator=function(){function A(A$1,e){this.delay=A$1,this.scheduler=e}return A.prototype.call=function(A$1,e){return e.subscribe(new DelaySubscriber(A$1,this.delay,this.scheduler))},A}(),DelaySubscriber=function(A){function e(e$1,t,g){var o=A.call(this,e$1)||this;return o.delay=t,o.scheduler=g,o.queue=[],o.active=!1,o.errored=!1,o}return __extends$3(e,A),e.dispatch=function(A$1){for(var e$1=A$1.source,t=e$1.queue,g=A$1.scheduler,o=A$1.destination;t.length>0&&t[0].time-g.now()<=0;)t.shift().notification.observe(o);if(t.length>0){var I=Math.max(0,t[0].time-g.now());this.schedule(A$1,I)}else this.unsubscribe(),e$1.active=!1},e.prototype._schedule=function(A$1){this.active=!0,this.destination.add(A$1.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:A$1}))},e.prototype.scheduleNotification=function(A$1){if(!0!==this.errored){var e$1=this.scheduler,t=new DelayMessage(e$1.now()+this.delay,A$1);this.queue.push(t),!1===this.active&&this._schedule(e$1)}},e.prototype._next=function(A$1){this.scheduleNotification(Notification.createNext(A$1))},e.prototype._error=function(A$1){this.errored=!0,this.queue=[],this.destination.error(A$1),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(Notification.createComplete()),this.unsubscribe()},e}(Subscriber),DelayMessage=function(){return function(A,e){this.time=A,this.notification=e}}();function distinct(A,e){return function(t){return t.lift(new DistinctOperator(A,e))}}var DistinctOperator=function(){function A(A$1,e){this.keySelector=A$1,this.flushes=e}return A.prototype.call=function(A$1,e){return e.subscribe(new DistinctSubscriber(A$1,this.keySelector,this.flushes))},A}(),DistinctSubscriber=function(A){function e(e$1,t,g){var o=A.call(this,e$1)||this;return o.keySelector=t,o.values=new Set,g&&o.add(innerSubscribe(g,new SimpleInnerSubscriber(o))),o}return __extends$3(e,A),e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(A$1){this._error(A$1)},e.prototype._next=function(A$1){this.keySelector?this._useKeySelector(A$1):this._finalizeNext(A$1,A$1)},e.prototype._useKeySelector=function(A$1){var e$1,t=this.destination;try{e$1=this.keySelector(A$1)}catch(A$2){t.error(A$2);return}this._finalizeNext(e$1,A$1)},e.prototype._finalizeNext=function(A$1,e$1){var t=this.values;t.has(A$1)||(t.add(A$1),this.destination.next(e$1))},e}(SimpleOuterSubscriber);function throwIfEmpty(A){return A===void 0&&(A=defaultErrorFactory),function(e){return e.lift(new ThrowIfEmptyOperator(A))}}var ThrowIfEmptyOperator=function(){function A(A$1){this.errorFactory=A$1}return A.prototype.call=function(A$1,e){return e.subscribe(new ThrowIfEmptySubscriber(A$1,this.errorFactory))},A}(),ThrowIfEmptySubscriber=function(A){function e(e$1,t){var g=A.call(this,e$1)||this;return g.errorFactory=t,g.hasValue=!1,g}return __extends$3(e,A),e.prototype._next=function(A$1){this.hasValue=!0,this.destination.next(A$1)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var A$1=void 0;try{A$1=this.errorFactory()}catch(e$1){A$1=e$1}this.destination.error(A$1)},e}(Subscriber);function defaultErrorFactory(){return new EmptyError}function take(A){return function(e){return A===0?empty():e.lift(new TakeOperator(A))}}var TakeOperator=function(){function A(A$1){if(this.total=A$1,this.total<0)throw new ArgumentOutOfRangeError}return A.prototype.call=function(A$1,e){return e.subscribe(new TakeSubscriber(A$1,this.total))},A}(),TakeSubscriber=function(A){function e(e$1,t){var g=A.call(this,e$1)||this;return g.total=t,g.count=0,g}return __extends$3(e,A),e.prototype._next=function(A$1){var e$1=this.total,t=++this.count;t<=e$1&&(this.destination.next(A$1),t===e$1&&(this.destination.complete(),this.unsubscribe()))},e}(Subscriber);function finalize(A){return function(e){return e.lift(new FinallyOperator(A))}}var FinallyOperator=function(){function A(A$1){this.callback=A$1}return A.prototype.call=function(A$1,e){return e.subscribe(new FinallySubscriber(A$1,this.callback))},A}(),FinallySubscriber=function(A){function e(e$1,t){var g=A.call(this,e$1)||this;return g.add(new Subscription$2(t)),g}return __extends$3(e,A),e}(Subscriber);function first(A,e){var t=arguments.length>=2;return function(g){return g.pipe(A?filter(function(e$1,t$1){return A(e$1,t$1,g)}):identity$5,take(1),t?defaultIfEmpty(e):throwIfEmpty(function(){return new EmptyError}))}}function ignoreElements(){return function(A){return A.lift(new IgnoreElementsOperator)}}var IgnoreElementsOperator=function(){function A(){}return A.prototype.call=function(A$1,e){return e.subscribe(new IgnoreElementsSubscriber(A$1))},A}(),IgnoreElementsSubscriber=function(A){function e(){return A!==null&&A.apply(this,arguments)||this}return __extends$3(e,A),e.prototype._next=function(A$1){},e}(Subscriber);function takeLast(A){return function(e){return e.lift(new TakeLastOperator(A))}}var TakeLastOperator=function(){function A(A$1){if(this.total=A$1,this.total<0)throw new ArgumentOutOfRangeError}return A.prototype.call=function(A$1,e){return e.subscribe(new TakeLastSubscriber(A$1,this.total))},A}(),TakeLastSubscriber=function(A){function e(e$1,t){var g=A.call(this,e$1)||this;return g.total=t,g.ring=[],g.count=0,g}return __extends$3(e,A),e.prototype._next=function(A$1){var e$1=this.ring,t=this.total,g=this.count++;e$1.length<t?e$1.push(A$1):e$1[g%t]=A$1},e.prototype._complete=function(){var A$1=this.destination,e$1=this.count;if(e$1>0)for(var t=this.count>=this.total?this.total:this.count,g=this.ring,o=0;o<t;o++){var I=e$1++%t;A$1.next(g[I])}A$1.complete()},e}(Subscriber);function mapTo(A){return function(e){return e.lift(new MapToOperator(A))}}var MapToOperator=function(){function A(A$1){this.value=A$1}return A.prototype.call=function(A$1,e){return e.subscribe(new MapToSubscriber(A$1,this.value))},A}(),MapToSubscriber=function(A){function e(e$1,t){var g=A.call(this,e$1)||this;return g.value=t,g}return __extends$3(e,A),e.prototype._next=function(A$1){this.destination.next(this.value)},e}(Subscriber);function scan(A,e){var t=!1;return arguments.length>=2&&(t=!0),function(g){return g.lift(new ScanOperator(A,e,t))}}var ScanOperator=function(){function A(A$1,e,t){t===void 0&&(t=!1),this.accumulator=A$1,this.seed=e,this.hasSeed=t}return A.prototype.call=function(A$1,e){return e.subscribe(new ScanSubscriber(A$1,this.accumulator,this.seed,this.hasSeed))},A}(),ScanSubscriber=function(A){function e(e$1,t,g,o){var I=A.call(this,e$1)||this;return I.accumulator=t,I._seed=g,I.hasSeed=o,I.index=0,I}return __extends$3(e,A),Object.defineProperty(e.prototype,`seed`,{get:function(){return this._seed},set:function(A$1){this.hasSeed=!0,this._seed=A$1},enumerable:!0,configurable:!0}),e.prototype._next=function(A$1){if(this.hasSeed)return this._tryNext(A$1);this.seed=A$1,this.destination.next(A$1)},e.prototype._tryNext=function(A$1){var e$1,t=this.index++;try{e$1=this.accumulator(this.seed,A$1,t)}catch(A$2){this.destination.error(A$2)}this.seed=e$1,this.destination.next(e$1)},e}(Subscriber);function reduce(A,e){return arguments.length>=2?function(t){return pipe(scan(A,e),takeLast(1),defaultIfEmpty(e))(t)}:function(e$1){return pipe(scan(function(e$2,t,g){return A(e$2,t,g+1)}),takeLast(1))(e$1)}}function multicast(A,e){return function(e$1){var t=typeof A==`function`?A:function(){return A},g=Object.create(e$1,connectableObservableDescriptor);return g.source=e$1,g.subjectFactory=t,g}}function retryWhen(A){return function(e){return e.lift(new RetryWhenOperator(A,e))}}var RetryWhenOperator=function(){function A(A$1,e){this.notifier=A$1,this.source=e}return A.prototype.call=function(A$1,e){return e.subscribe(new RetryWhenSubscriber(A$1,this.notifier,this.source))},A}(),RetryWhenSubscriber=function(A){function e(e$1,t,g){var o=A.call(this,e$1)||this;return o.notifier=t,o.source=g,o}return __extends$3(e,A),e.prototype.error=function(e$1){if(!this.isStopped){var t=this.errors,g=this.retries,o=this.retriesSubscription;if(g)this.errors=void 0,this.retriesSubscription=void 0;else{t=new Subject;try{g=(0,this.notifier)(t)}catch(e$2){return A.prototype.error.call(this,e$2)}o=innerSubscribe(g,new SimpleInnerSubscriber(this))}this._unsubscribeAndRecycle(),this.errors=t,this.retries=g,this.retriesSubscription=o,t.next(e$1)}},e.prototype._unsubscribe=function(){var A$1=this.errors,e$1=this.retriesSubscription;A$1&&(A$1.unsubscribe(),this.errors=void 0),e$1&&(e$1.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var A$1=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=A$1,this.source.subscribe(this)},e}(SimpleOuterSubscriber);function shareSubjectFactory(){return new Subject}function share(){return function(A){return refCount()(multicast(shareSubjectFactory)(A))}}function shareReplay(A,e,t){var g;return g={bufferSize:A,windowTime:e,refCount:!1,scheduler:t},function(A$1){return A$1.lift(shareReplayOperator(g))}}function shareReplayOperator(A){var e,t,g=A.bufferSize,o=g===void 0?1/0:g,I=A.windowTime,i$1=I===void 0?1/0:I,r=A.refCount,n=A.scheduler,C=0,E=!1,s=!1;return function(A$1){var g$1;C++,!e||E?(E=!1,e=new ReplaySubject(o,i$1,n),g$1=e.subscribe(this),t=A$1.subscribe({next:function(A$2){e.next(A$2)},error:function(A$2){E=!0,e.error(A$2)},complete:function(){s=!0,t=void 0,e.complete()}}),s&&(t=void 0)):g$1=e.subscribe(this),this.add(function(){C--,g$1.unsubscribe(),g$1=void 0,t&&!s&&r&&C===0&&(t.unsubscribe(),t=void 0,e=void 0)})}}function switchMap(A,e){return function(e$1){return e$1.lift(new SwitchMapOperator(A))}}var SwitchMapOperator=function(){function A(A$1){this.project=A$1}return A.prototype.call=function(A$1,e){return e.subscribe(new SwitchMapSubscriber(A$1,this.project))},A}(),SwitchMapSubscriber=function(A){function e(e$1,t){var g=A.call(this,e$1)||this;return g.project=t,g.index=0,g}return __extends$3(e,A),e.prototype._next=function(A$1){var e$1,t=this.index++;try{e$1=this.project(A$1,t)}catch(A$2){this.destination.error(A$2);return}this._innerSub(e$1)},e.prototype._innerSub=function(A$1){var e$1=this.innerSubscription;e$1&&e$1.unsubscribe();var t=new SimpleInnerSubscriber(this),g=this.destination;g.add(t),this.innerSubscription=innerSubscribe(A$1,t),this.innerSubscription!==t&&g.add(this.innerSubscription)},e.prototype._complete=function(){var e$1=this.innerSubscription;e$1&&!e$1.closed||A.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&A.prototype._complete.call(this)},e.prototype.notifyNext=function(A$1){this.destination.next(A$1)},e}(SimpleOuterSubscriber);function switchAll(){return switchMap(identity$5)}function takeUntil(A){return function(e){return e.lift(new TakeUntilOperator(A))}}var TakeUntilOperator=function(){function A(A$1){this.notifier=A$1}return A.prototype.call=function(A$1,e){var t=new TakeUntilSubscriber(A$1),g=innerSubscribe(this.notifier,new SimpleInnerSubscriber(t));return g&&!t.seenValue?(t.add(g),e.subscribe(t)):t},A}(),TakeUntilSubscriber=function(A){function e(e$1){var t=A.call(this,e$1)||this;return t.seenValue=!1,t}return __extends$3(e,A),e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(SimpleOuterSubscriber);function tap(A,e,t){return function(g){return g.lift(new DoOperator(A,e,t))}}var DoOperator=function(){function A(A$1,e,t){this.nextOrObserver=A$1,this.error=e,this.complete=t}return A.prototype.call=function(A$1,e){return e.subscribe(new TapSubscriber(A$1,this.nextOrObserver,this.error,this.complete))},A}(),TapSubscriber=function(A){function e(e$1,t,g,o){var I=A.call(this,e$1)||this;return I._tapNext=noop$3,I._tapError=noop$3,I._tapComplete=noop$3,I._tapError=g||noop$3,I._tapComplete=o||noop$3,isFunction$7(t)?(I._context=I,I._tapNext=t):t&&(I._context=t,I._tapNext=t.next||noop$3,I._tapError=t.error||noop$3,I._tapComplete=t.complete||noop$3),I}return __extends$3(e,A),e.prototype._next=function(A$1){try{this._tapNext.call(this._context,A$1)}catch(A$2){this.destination.error(A$2);return}this.destination.next(A$1)},e.prototype._error=function(A$1){try{this._tapError.call(this._context,A$1)}catch(A$2){this.destination.error(A$2);return}this.destination.error(A$1)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(A$1){this.destination.error(A$1);return}return this.destination.complete()},e}(Subscriber),defaultThrottleConfig={leading:!0,trailing:!1};function throttleTime(A,e,t){return e===void 0&&(e=async),t===void 0&&(t=defaultThrottleConfig),function(g){return g.lift(new ThrottleTimeOperator(A,e,t.leading,t.trailing))}}var ThrottleTimeOperator=function(){function A(A$1,e,t,g){this.duration=A$1,this.scheduler=e,this.leading=t,this.trailing=g}return A.prototype.call=function(A$1,e){return e.subscribe(new ThrottleTimeSubscriber(A$1,this.duration,this.scheduler,this.leading,this.trailing))},A}(),ThrottleTimeSubscriber=function(A){function e(e$1,t,g,o,I){var i$1=A.call(this,e$1)||this;return i$1.duration=t,i$1.scheduler=g,i$1.leading=o,i$1.trailing=I,i$1._hasTrailingValue=!1,i$1._trailingValue=null,i$1}return __extends$3(e,A),e.prototype._next=function(A$1){this.throttled?this.trailing&&(this._trailingValue=A$1,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(dispatchNext,this.duration,{subscriber:this})),this.leading?this.destination.next(A$1):this.trailing&&(this._trailingValue=A$1,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue&&this.destination.next(this._trailingValue),this.destination.complete()},e.prototype.clearThrottle=function(){var A$1=this.throttled;A$1&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),A$1.unsubscribe(),this.remove(A$1),this.throttled=null)},e}(Subscriber);function dispatchNext(A){A.subscriber.clearThrottle()}function timeoutWith(A,e,t){return t===void 0&&(t=async),function(g){var o=isDate(A),I=o?+A-t.now():Math.abs(A);return g.lift(new TimeoutWithOperator(I,o,e,t))}}var TimeoutWithOperator=function(){function A(A$1,e,t,g){this.waitFor=A$1,this.absoluteTimeout=e,this.withObservable=t,this.scheduler=g}return A.prototype.call=function(A$1,e){return e.subscribe(new TimeoutWithSubscriber(A$1,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},A}(),TimeoutWithSubscriber=function(A){function e(e$1,t,g,o,I){var i$1=A.call(this,e$1)||this;return i$1.absoluteTimeout=t,i$1.waitFor=g,i$1.withObservable=o,i$1.scheduler=I,i$1.scheduleTimeout(),i$1}return __extends$3(e,A),e.dispatchTimeout=function(A$1){var e$1=A$1.withObservable;A$1._unsubscribeAndRecycle(),A$1.add(innerSubscribe(e$1,new SimpleInnerSubscriber(A$1)))},e.prototype.scheduleTimeout=function(){var A$1=this.action;A$1?this.action=A$1.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e$1){this.absoluteTimeout||this.scheduleTimeout(),A.prototype._next.call(this,e$1)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(SimpleOuterSubscriber);function timeout(A,e){return e===void 0&&(e=async),timeoutWith(A,throwError(new TimeoutError),e)}const UINT32_MAX=4294967295,ipKeywords=[`ip`,`1`,`502`];function getRandomInt(A,e){let t=Math.ceil(A),g=Math.floor(e);return Math.floor(Math.random()*(g-t+1))+A}function getRandomUInt64(){return new Long$1(getRandomInt(0,UINT32_MAX),getRandomInt(1,UINT32_MAX),!0)}function getSid(A){return A.toString().padEnd(32,`0`)}function calIpDistance(A,e){let t=A.split(`.`).map(A$1=>Number(A$1)),g=e.split(`.`).map(A$1=>Number(A$1));return Math.sqrt(1e3*(t[0]-g[0])**2+100*(t[1]-g[1])**2+10*(t[2]-g[2])**2+1*(t[3]-g[3])**2)}function longToStringIfNeeded(A){return A.lessThanOrEqual(2**53-1)?A.toNumber():A.toString()}const prefixSeqMap=new Map;function uniquePrefixedId(A,e){let t=`${A}${e||``}`,g=prefixSeqMap.get(t)||1;return prefixSeqMap.set(t,g+1),`${A}${g}`}const getKeys=Object.keys,getEntries=Object.entries.bind(Object);function isLongNum(A){return typeof A==`number`||Long$1.isLong(A)}async function mockPromiseDelay(A,e){return new Promise(e$1=>{setTimeout(e$1,A)})}function replaceRange(A,e,t,g){return typeof A==`string`?A.substring(0,e)+g+A.substring(t):`[Sensitive Info]`}function maskIp(A){return getParameter(`SENSITIVE_LOG`)?A.replace(/(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})(?::(\d+))?/g,(A$1,e,t,g,o,I)=>I?`${e}.*.*.${o}:${I}`:`${e}.*.*.${o}`):A}function replaceRangeWithAsterisk(A){let e=String(A),t=Math.floor(.7*e.length),g=e.length,o=g-t;return getParameter(`SENSITIVE_LOG`)?replaceRange(e,t,g,`*`.repeat(o)):e}function decodeUint8ArrayToString(A){return new TextDecoder(`utf-8`).decode(A.buffer.slice(A.byteOffset,A.byteOffset+A.byteLength))}function concatenateUint8Array(){let A=0;var t=[...arguments];for(let e$1=0;e$1<t.length;e$1++)A+=t[e$1].length;let o=new Uint8Array(A),I=0;for(let A$1=0;A$1<t.length;A$1++){let e$1=t[A$1];o.set(e$1,I),I+=e$1.length}return o}function appendQueryParameter(A,e,t){let g=A.match(/([^?#]+)(\?[^#]*)?(\#.*)?/),o=g?.[1],I=g?.[2];if(I){let A$1=I.substr(1).split(`&`),g$1;for(g$1=0;g$1<A$1.length;g$1++)if(A$1[g$1].split(`=`)[0]==e){A$1[g$1]=e+`=`+encodeURIComponent(t);break}return g$1==A$1.length&&A$1.push(e+`=`+encodeURIComponent(t)),o+`?`+A$1.join(`&`)}return o+`?`+e+`=`+encodeURIComponent(t)}function getPrefixLockName(A){return`*l*${A}`}function getChannelNameByType(A,e){return e===`STREAM`?`*s*${A}`:A}function getChannelDetailByName(A){return A.startsWith(`*s*`)?{channelName:A.slice(3),channelType:`STREAM`}:{channelName:A,channelType:`MESSAGE`}}function roundUp(A){let e=15;return A+15&-16}function encrypt(A,e,t,g){let o=typeof A==`string`?new TextEncoder().encode(A):A,I=roundUp(o.length);if(I>o.byteLength){let A$1=new Uint8Array(I-o.byteLength);o=new Uint8Array([...o,...A$1])}let i$1=util$6.createBuffer(o),r=forgeCipher.createCipher(`AES-GCM`,util$6.createBuffer(e.slice(0,g)));if(r.start({iv:t}),r.update(i$1),r.finish()){let A$1=r.output.getBytes()+r.mode.tag.getBytes(),e$1=[];for(let t$1=0;t$1<A$1.length;t$1++)e$1.push(A$1.charCodeAt(t$1));return new Uint8Array(e$1)}throw Error()}function decrypt(A,e,t,g){let o=util$6.createBuffer(A),I=util$6.createBuffer(A),i$1=util$6.createBuffer(o.getBytes(o.length()).slice(-16)),r=I.getBytes(I.length()).slice(0,o.getBytes().length-16),n=forgeCipher.createDecipher(`AES-GCM`,util$6.createBuffer(e.slice(0,g)));n.start({iv:t,tag:i$1,tagLength:128}),n.update(util$6.createBuffer(r)),n.finish();let C=n.output.data,E=[];for(let A$1=0;A$1<C.length;A$1++)E.push(C.charCodeAt(A$1));return new Uint8Array(E)}function getGlobalPresenceString(A){return K_PRESENCE_PREFIX+A+`/Presence`}function getChannelQueryString(A,e){return K_PRESENCE_PREFIX+A+K_CHANNEL_ONLINE+e+K_USER_COLLECTION}function extractPrefixChannelName(A){let e=RegExp(`^${K_PRESENCE_PREFIX}([^/]+)${K_CHANNEL_ONLINE}([^/]+)${K_USER_COLLECTION}\$`),t=A.match(e);return t?{vid:t[1],prefixChannelName:t[2]}:{}}function getErrorInfoByCode(A){return{code:A,reason:RTMErrorDescription[A]}}function getUTCTimeBaseREG(A){return new Date().getTime()+A}function parseHost(A,e){let t=e,g=A.indexOf(`:`);if(g!==-1){let e$1=A.length-g;return t=Number(A.slice(g+1)),{domain:A.slice(0,A.length-e$1),port:t}}return{domain:A,port:t}}function getPrivateSettingsPortAndDomains(A,e){let t=e;return{hostname:A.map(A$1=>{let g=parseHost(A$1,e);return g.port&&(t=g.port),g.domain}),port:t}}function getSyncPacketUri(A){let e=Array.from(A.slice(2,4)),t=e[0],g=e[1];return new DataView(new Uint8Array([g,t]).buffer).getInt16(0)}function handleJoinOptionsAsDefault(A){var e,t,g,o;return{withLock:(e=A?.withLock)!=null&&e,withMetadata:(t=A?.withMetadata)!=null&&t,withPresence:(g=A?.withPresence)==null||g,beQuiet:(o=A?.beQuiet)!=null&&o}}function handleSubOptionsAsDefault(A){var e;return _objectSpread2(_objectSpread2({},handleJoinOptionsAsDefault(A)),{},{withMessage:(e=A?.withMessage)==null||e})}async function timeoutPromise(A,e,t,g,o){if(A)return new Promise(async(I,i$1)=>{let r=setTimeout(()=>{clearTimeout(r);let{code:A$1,reason:e$1}=getErrorInfoByCode(g);i$1(new RtmTimeoutError(t,[e$1+`timeout occurred`],A$1))},e);try{let e$1=await A;clearTimeout(r),I(e$1)}catch(A$1){if(clearTimeout(r),isRtmError(A$1)||o)i$1(A$1);else{let{code:A$2,reason:e$1}=getErrorInfoByCode(g);i$1(new RtmTimeoutError(t,[e$1+`timeout occurred`],A$2))}}})}const getReportLts=()=>Long$1.fromNumber(Date.now()),genTimeoutError=(A,e)=>of(void 0).pipe(delay(COMMON_REQUEST_TIMEOUT),map$1(()=>{throw new RtmTimeoutError(OperationName.rtm,[getErrorInfoByCode(A).reason||`Request timed out after ${COMMON_REQUEST_TIMEOUT/1e3}s`],A)})),addPeriodIfNeeded=A=>typeof A==`string`?A.endsWith(`.`)?A:`${A}.`:A,throwInvalidPrivateConfig=function(A){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:``,{code:t,reason:g}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_PRIVATE_CONFIG);throw new RtmInvalidArgumentError(A,[g+e],t)};function genErrorMessage(A,e){let t=typeof e==`number`?e:e!==void 0&&typeof e!=`string`?e.code:void 0,g=typeof e!=`number`&&typeof e!=`string`&&e!==void 0&&e.serverCode!==void 0?e.serverCode:void 0,o=`${t===void 0?``:`Error Code ${t}`}${g===void 0?``:`, server Code ${g}`}`,I;return I=typeof A==`string`&&A?addPeriodIfNeeded(A):Array.isArray(A)&&typeof A[0]==`string`&&A[0]?addPeriodIfNeeded(format$1(A[0],...A.slice(1))):``,`${o===``?``:`${o} - `}${I}`}class RTMBaseError extends Error{constructor(A,e,t){var g;let o;super(genErrorMessage(e,t)),_defineProperty$1(this,`originalError`,void 0),_defineProperty$1(this,`code`,void 0),_defineProperty$1(this,`serverCode`,void 0),_defineProperty$1(this,`error`,void 0),_defineProperty$1(this,`reason`,void 0),_defineProperty$1(this,`operation`,void 0),_defineProperty$1(this,`errorCode`,void 0),typeof t==`number`?this.code=t:typeof t==`string`?this.name=t:t!==void 0&&(t.originalError&&(this.originalError=t.originalError),t.code!==void 0&&(this.code=t.code),t.serverCode!==void 0&&(this.serverCode=t.serverCode)),o=typeof e==`string`&&e?addPeriodIfNeeded(e):Array.isArray(e)&&typeof e[0]==`string`&&e[0]?addPeriodIfNeeded(format$1(e[0],...e.slice(1))):``,this.error=!0,this.errorCode=this.code??0,this.operation=A??``,this.reason=o}}class RtmInternalError extends Error{constructor(A,e){super(genErrorMessage(A,e)),_defineProperty$1(this,`name`,`RtmInternalError`),_defineProperty$1(this,`code`,void 0),this.code=e}}const genError=()=>class extends RtmInternalError{constructor(A){let e=Object.keys(A);super(A[e[0]],e[0])}},CommonError=genError();class RtmTimeoutError extends RTMBaseError{constructor(){super(...arguments),_defineProperty$1(this,`name`,`RtmTimeoutError`)}}class RtmInvalidArgumentError extends RTMBaseError{constructor(){super(...arguments),_defineProperty$1(this,`name`,`RtmInvalidArgumentError`)}}class RtmInvalidStatusError extends RTMBaseError{constructor(){super(...arguments),_defineProperty$1(this,`name`,`RtmInvalidStatusError`)}}class RtmLimitExceededError extends RTMBaseError{constructor(){super(...arguments),_defineProperty$1(this,`name`,`RtmLimitExceededError`)}}class RtmInvokeTooOftenError extends RTMBaseError{constructor(){super(...arguments),_defineProperty$1(this,`name`,`RtmInvokeTooOftenError`)}}class RtmUnavailableError extends RTMBaseError{constructor(){super(...arguments),_defineProperty$1(this,`name`,`RtmUnavailableError`),_defineProperty$1(this,`statusCode`,void 0)}}class RtmUnauthenticatedError extends RTMBaseError{constructor(){super(...arguments),_defineProperty$1(this,`name`,`RtmUnauthenticatedError`),_defineProperty$1(this,`serverCode`,void 0)}}class RtmUnknownError extends RTMBaseError{constructor(){super(...arguments),_defineProperty$1(this,`name`,`RtmUnknownError`)}}const isTimeout=A=>A instanceof RtmTimeoutError||A instanceof TimeoutError,isRtmError=A=>A instanceof RTMBaseError,isNoLogged=A=>A instanceof RtmInvalidStatusError,_excluded=[`CODE`];function deepFreeze(A){return Object.getOwnPropertyNames(A).forEach(function(e){let t=A[e];typeof t==`object`&&t&&deepFreeze(t)}),Object.freeze(A)}const AREA_DOMAIN_MAP=deepFreeze(AREA_DOMAIN_MAP$1),isContinent=A=>A in continentCountryMap,isCountry=A=>Object.values(continentCountryMap).flat().includes(A),getContinentByCountry=A=>{var e;return getEntries(continentCountryMap).find(e$1=>{let[t,g]=e$1;return g.includes(A)})?.[0]},sortAreasByWeight=A=>A.sort((A$1,e)=>areaWeights.indexOf(A$1)-areaWeights.indexOf(e)),getAreaDomainConfig=A=>{let e=new Set,t=sortAreasByWeight(A).slice(0,3).map(A$1=>{let t$1=AREA_DOMAIN_MAP[A$1];if(t$1===void 0)throw new RtmInternalError(`invalid area key`);let{CODE:g}=t$1,o=_objectWithoutProperties(t$1,_excluded);return e.add(g),o});if(t.length===0)throw new RtmInternalError(`areas cannot be empty`);return _objectSpread2({CODES:e},t.reduce((A$1,e$1)=>{for(let t$1=0,g=getEntries(A$1);t$1<g.length;t$1++){let[o,I]=g[t$1];A$1[o]=Array.from(new Set([...e$1[o],...I]))}return A$1}))};function getAreaDomainConfigWithExclusion(A){let{areas:e,excludedArea:t}=A;if(e.length===1&&e[0]===AreaCodeMap.GLOBAL&&t===AreaCodeMap.CHINA)return getAreaDomainConfig([AreaCodeMap.OVERSEA]);if(e.includes(AreaCodeMap.GLOBAL)){let A$1=getKeys(AREA_DOMAIN_MAP).filter(A$2=>A$2!==AreaCodeMap.GLOBAL&&A$2!==AreaCodeMap.OVERSEA);if(isContinent(t)){let g=[...continentCountryMap[t]??[],t];return getAreaDomainConfig(A$1.filter(A$2=>!g.includes(A$2)))}if(isCountry(t)){let e$1=getContinentByCountry(t);return getAreaDomainConfig(A$1.filter(A$2=>A$2!==t&&A$2!==e$1))}}if(isCountry(t)||isContinent(t))return getAreaDomainConfig(e);throw new RtmInvalidArgumentError(`setArea`,`Invalid excludedArea area config`)}let areaConfig;function setAreaConfig(A){areaConfig=A}const isInvalidAreaConfig=A=>{let e,{areaCodes:t,excludedArea:g}=A,o=``,I=!1;if(Array.isArray(t)&&t.every(A$1=>A$1 in AreaCode)?g!==void 0&&g===AreaCode.GLOBAL?(I=!0,o=`Excluded area cannot be global`):g&&t.includes(g)?(I=!0,o=`Excluded area cannot be in areaCodes`):g&&!(g in AreaCodeMap)&&(I=!0,o=`Invalid excludedArea`,e=g):(I=!0,o=`Invalid area config`),I)throw areaConfig=void 0,setParameter(`AREA_CONFIG`,void 0),new RtmInvalidArgumentError(`setArea`,o,e)};function setArea(A){let{areaCodes:e,excludedArea:t}=A;if(isInvalidAreaConfig({areaCodes:e,excludedArea:t}),e.length===0&&t===void 0)return areaConfig=void 0,void setParameter(`AREA_CONFIG`,void 0);console.log(JSON.stringify({areaCodes:e,excludedArea:t}),`RTM setArea`),setAreaConfig(t===void 0?getAreaDomainConfig(e.map(A$1=>AreaCodeMap[A$1])):getAreaDomainConfigWithExclusion({areas:e.map(A$1=>AreaCodeMap[A$1]),excludedArea:AreaCodeMap[t]})),setParameter(`AREA_CONFIG`,{areaCodes:e,excludedArea:t})}function getDomain(A){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],t=A.replace(/(https?:\/\/)?(www.)?/i,``);return e||(t=t.split(`.`).slice(t.split(`.`).length-2).join(`.`)),t.indexOf(`/`)===-1?t:t.split(`/`)[0]}const getAreaCodeByApUrl=A=>{let e=getKeys(AREA_DOMAIN_MAP),t=getDomain(A);for(let A$1=0;A$1<e.length;A$1++){let o=AREA_DOMAIN_MAP[e[A$1]];if(o!=null&&o.AP_DOMAINS.includes(t)||o!=null&&o.AP_BACKUP_DOMAINS.includes(t)||o!=null&&o.PROXY_AP.includes(t))return[o.CODE]}return[AreaCodeMap.CHINA,AreaCodeMap.GLOBAL]};var rngBrowser={exports:{}},getRandomValues=typeof crypto<`u`&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<`u`&&typeof window.msCrypto.getRandomValues==`function`&&msCrypto.getRandomValues.bind(msCrypto);if(getRandomValues){var rnds8=new Uint8Array(16);rngBrowser.exports=function(){return getRandomValues(rnds8),rnds8}}else{var rnds=Array(16);rngBrowser.exports=function(){for(var A,e=0;e<16;e++)3&e||(A=4294967296*Math.random()),rnds[e]=A>>>((3&e)<<3)&255;return rnds}}for(var rngBrowserExports=rngBrowser.exports,byteToHex=[],i=0;i<256;++i)byteToHex[i]=(i+256).toString(16).substr(1);function bytesToUuid$2(A,e){var t=e||0,g=byteToHex;return[g[A[t++]],g[A[t++]],g[A[t++]],g[A[t++]],`-`,g[A[t++]],g[A[t++]],`-`,g[A[t++]],g[A[t++]],`-`,g[A[t++]],g[A[t++]],`-`,g[A[t++]],g[A[t++]],g[A[t++]],g[A[t++]],g[A[t++]],g[A[t++]]].join(``)}var bytesToUuid_1=bytesToUuid$2,rng$1=rngBrowserExports,bytesToUuid$1=bytesToUuid_1,_nodeId,_clockseq,_lastMSecs=0,_lastNSecs=0;function v1$1(A,e,t){var g=e&&t||0,o=e||[],I=(A||={}).node||_nodeId,i$1=A.clockseq===void 0?_clockseq:A.clockseq;if(I==null||i$1==null){var r=rng$1();I??=_nodeId=[1|r[0],r[1],r[2],r[3],r[4],r[5]],i$1??=_clockseq=16383&(r[6]<<8|r[7])}var n=A.msecs===void 0?new Date().getTime():A.msecs,C=A.nsecs===void 0?_lastNSecs+1:A.nsecs,E=n-_lastMSecs+(C-_lastNSecs)/1e4;if(E<0&&A.clockseq===void 0&&(i$1=i$1+1&16383),(E<0||n>_lastMSecs)&&A.nsecs===void 0&&(C=0),C>=1e4)throw Error(`uuid.v1(): Can't create more than 10M uuids/sec`);_lastMSecs=n,_lastNSecs=C,_clockseq=i$1;var s=(1e4*(268435455&(n+=0xb1d069b5400))+C)%4294967296;o[g++]=s>>>24&255,o[g++]=s>>>16&255,o[g++]=s>>>8&255,o[g++]=255&s;var B=n/4294967296*1e4&268435455;o[g++]=B>>>8&255,o[g++]=255&B,o[g++]=B>>>24&15|16,o[g++]=B>>>16&255,o[g++]=i$1>>>8|128,o[g++]=255&i$1;for(var a=0;a<6;++a)o[g+a]=I[a];return e||bytesToUuid$1(o)}var v1_1=v1$1,rng=rngBrowserExports,bytesToUuid=bytesToUuid_1;function v4$1(A,e,t){var g=e&&t||0;typeof A==`string`&&(e=A===`binary`?Array(16):null,A=null);var o=(A||={}).random||(A.rng||rng)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var I=0;I<16;++I)e[g+I]=o[I];return e||bytesToUuid(o)}var v4_1=v4$1,v1=v1_1,v4=v4_1,uuid=v4;uuid.v1=v1,uuid.v4=v4;var uuid_1=uuid,uuid$1=getDefaultExportFromCjs(uuid_1),events={exports:{}},R=typeof Reflect==`object`?Reflect:null,ReflectApply=R&&typeof R.apply==`function`?R.apply:function(A,e,t){return Function.prototype.apply.call(A,e,t)},ReflectOwnKeys;function ProcessEmitWarning(A){console&&console.warn&&console.warn(A)}ReflectOwnKeys=R&&typeof R.ownKeys==`function`?R.ownKeys:Object.getOwnPropertySymbols?function(A){return Object.getOwnPropertyNames(A).concat(Object.getOwnPropertySymbols(A))}:function(A){return Object.getOwnPropertyNames(A)};var NumberIsNaN=Number.isNaN||function(A){return A!=A};function EventEmitter(){EventEmitter.init.call(this)}events.exports=EventEmitter,events.exports.once=once,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(A){if(typeof A!=`function`)throw TypeError(`The "listener" argument must be of type Function. Received type `+typeof A)}function _getMaxListeners(A){return A._maxListeners===void 0?EventEmitter.defaultMaxListeners:A._maxListeners}function _addListener(A,e,t,g){var o,I,i$1;if(checkListener(t),(I=A._events)===void 0?(I=A._events=Object.create(null),A._eventsCount=0):(I.newListener!==void 0&&(A.emit(`newListener`,e,t.listener?t.listener:t),I=A._events),i$1=I[e]),i$1===void 0)i$1=I[e]=t,++A._eventsCount;else if(typeof i$1==`function`?i$1=I[e]=g?[t,i$1]:[i$1,t]:g?i$1.unshift(t):i$1.push(t),(o=_getMaxListeners(A))>0&&i$1.length>o&&!i$1.warned){i$1.warned=!0;var r=Error(`Possible EventEmitter memory leak detected. `+i$1.length+` `+String(e)+` listeners added. Use emitter.setMaxListeners() to increase limit`);r.name=`MaxListenersExceededWarning`,r.emitter=A,r.type=e,r.count=i$1.length,ProcessEmitWarning(r)}return A}function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(A,e,t){var g={fired:!1,wrapFn:void 0,target:A,type:e,listener:t},o=onceWrapper.bind(g);return o.listener=t,g.wrapFn=o,o}function _listeners(A,e,t){var g=A._events;if(g===void 0)return[];var o=g[e];return o===void 0?[]:typeof o==`function`?t?[o.listener||o]:[o]:t?unwrapListeners(o):arrayClone(o,o.length)}function listenerCount(A){var e=this._events;if(e!==void 0){var t=e[A];if(typeof t==`function`)return 1;if(t!==void 0)return t.length}return 0}function arrayClone(A,e){for(var t=Array(e),g=0;g<e;++g)t[g]=A[g];return t}function spliceOne(A,e){for(;e+1<A.length;e++)A[e]=A[e+1];A.pop()}function unwrapListeners(A){for(var e=Array(A.length),t=0;t<e.length;++t)e[t]=A[t].listener||A[t];return e}function once(A,e){return new Promise(function(t,g){function o(t$1){A.removeListener(e,I),g(t$1)}function I(){typeof A.removeListener==`function`&&A.removeListener(`error`,o),t([].slice.call(arguments))}eventTargetAgnosticAddListener(A,e,I,{once:!0}),e!==`error`&&addErrorHandlerIfEventEmitter(A,o,{once:!0})})}function addErrorHandlerIfEventEmitter(A,e,t){typeof A.on==`function`&&eventTargetAgnosticAddListener(A,`error`,e,t)}function eventTargetAgnosticAddListener(A,e,t,g){if(typeof A.on==`function`)g.once?A.once(e,t):A.on(e,t);else{if(typeof A.addEventListener!=`function`)throw TypeError(`The "emitter" argument must be of type EventEmitter. Received type `+typeof A);A.addEventListener(e,function o(I){g.once&&A.removeEventListener(e,o),t(I)})}}Object.defineProperty(EventEmitter,`defaultMaxListeners`,{enumerable:!0,get:function(){return defaultMaxListeners},set:function(A){if(typeof A!=`number`||A<0||NumberIsNaN(A))throw RangeError(`The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received `+A+`.`);defaultMaxListeners=A}}),EventEmitter.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function(A){if(typeof A!=`number`||A<0||NumberIsNaN(A))throw RangeError(`The value of "n" is out of range. It must be a non-negative number. Received `+A+`.`);return this._maxListeners=A,this},EventEmitter.prototype.getMaxListeners=function(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function(A){for(var e=[],t=1;t<arguments.length;t++)e.push(arguments[t]);var g=A===`error`,o=this._events;if(o!==void 0)g&&=o.error===void 0;else if(!g)return!1;if(g){var I;if(e.length>0&&(I=e[0]),I instanceof Error)throw I;var i$1=Error(`Unhandled error.`+(I?` (`+I.message+`)`:``));throw i$1.context=I,i$1}var r=o[A];if(r===void 0)return!1;if(typeof r==`function`)ReflectApply(r,this,e);else{var n=r.length,C=arrayClone(r,n);for(t=0;t<n;++t)ReflectApply(C[t],this,e)}return!0},EventEmitter.prototype.addListener=function(A,e){return _addListener(this,A,e,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function(A,e){return _addListener(this,A,e,!0)},EventEmitter.prototype.once=function(A,e){return checkListener(e),this.on(A,_onceWrap(this,A,e)),this},EventEmitter.prototype.prependOnceListener=function(A,e){return checkListener(e),this.prependListener(A,_onceWrap(this,A,e)),this},EventEmitter.prototype.removeListener=function(A,e){var t,g,o,I,i$1;if(checkListener(e),(g=this._events)===void 0||(t=g[A])===void 0)return this;if(t===e||t.listener===e)--this._eventsCount===0?this._events=Object.create(null):(delete g[A],g.removeListener&&this.emit(`removeListener`,A,t.listener||e));else if(typeof t!=`function`){for(o=-1,I=t.length-1;I>=0;I--)if(t[I]===e||t[I].listener===e){i$1=t[I].listener,o=I;break}if(o<0)return this;o===0?t.shift():spliceOne(t,o),t.length===1&&(g[A]=t[0]),g.removeListener!==void 0&&this.emit(`removeListener`,A,i$1||e)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function(A){var e,t,g;if((t=this._events)===void 0)return this;if(t.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):t[A]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete t[A]),this;if(arguments.length===0){var o,I=Object.keys(t);for(g=0;g<I.length;++g)(o=I[g])!==`removeListener`&&this.removeAllListeners(o);return this.removeAllListeners(`removeListener`),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(e=t[A])==`function`)this.removeListener(A,e);else if(e!==void 0)for(g=e.length-1;g>=0;g--)this.removeListener(A,e[g]);return this},EventEmitter.prototype.listeners=function(A){return _listeners(this,A,!0)},EventEmitter.prototype.rawListeners=function(A){return _listeners(this,A,!1)},EventEmitter.listenerCount=function(A,e){return typeof A.listenerCount==`function`?A.listenerCount(e):listenerCount.call(A,e)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};var eventsExports=events.exports,EventEmitter$1=getDefaultExportFromCjs(eventsExports),key=`__global_unique_id__`,gud=function(){return commonjsGlobal[key]=(commonjsGlobal[key]||0)+1},gud$1=getDefaultExportFromCjs(gud);function getType(A){return Object.prototype.toString.call(A).slice(8,-1)}function isUndefined(A){return getType(A)===`Undefined`}function isNull(A){return getType(A)===`Null`}function isPlainObject(A){return getType(A)===`Object`&&A.constructor===Object&&Object.getPrototypeOf(A)===Object.prototype}function isEmptyObject(A){return isPlainObject(A)&&Object.keys(A).length===0}function isAnyObject(A){return getType(A)===`Object`}function isFunction$2(A){return typeof A==`function`}function isString(A){return getType(A)===`String`}function isNumber(A){return getType(A)===`Number`&&!isNaN(A)}function isBoolean(A){return getType(A)===`Boolean`}function isSymbol(A){return getType(A)===`Symbol`}function isPrimitive(A){return isBoolean(A)||isNull(A)||isUndefined(A)||isNumber(A)||isString(A)||isSymbol(A)}var safeJsonStringify$1={exports:{}},hasProp=Object.prototype.hasOwnProperty;function throwsMessage(A){return`[Throws: `+(A?A.message:`?`)+`]`}function safeGetValueFromPropertyOnObject(A,e){if(hasProp.call(A,e))try{return A[e]}catch(A$1){return throwsMessage(A$1)}return A[e]}function ensureProperties(A){var e=[];return function A$1(t){if(typeof t!=`object`||!t)return t;if(e.indexOf(t)!==-1)return`[Circular]`;if(e.push(t),typeof t.toJSON==`function`)try{var g=A$1(t.toJSON());return e.pop(),g}catch(A$2){return throwsMessage(A$2)}if(Array.isArray(t)){var o=t.map(A$1);return e.pop(),o}var I=Object.keys(t).reduce(function(e$1,g$1){return e$1[g$1]=A$1(safeGetValueFromPropertyOnObject(t,g$1)),e$1},{});return e.pop(),I}(A)}safeJsonStringify$1.exports=function(A,e,t){return JSON.stringify(ensureProperties(A),e,t)},safeJsonStringify$1.exports.ensureProperties=ensureProperties;var safeJsonStringifyExports=safeJsonStringify$1.exports,safeJsonStringify=getDefaultExportFromCjs(safeJsonStringifyExports),browser={exports:{}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var A=1e3,e=60*A,t=60*e,g=24*t,o=7*g,I=365.25*g;function i$1(A$1,e$1,t$1,g$1){var o$1=e$1>=1.5*t$1;return Math.round(A$1/t$1)+` `+g$1+(o$1?`s`:``)}return ms=function(r,n){n||={};var C=typeof r;if(C===`string`&&r.length>0)return function(i$2){if(!((i$2=String(i$2)).length>100)){var r$1=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(i$2);if(r$1){var n$1=parseFloat(r$1[1]);switch((r$1[2]||`ms`).toLowerCase()){case`years`:case`year`:case`yrs`:case`yr`:case`y`:return n$1*I;case`weeks`:case`week`:case`w`:return n$1*o;case`days`:case`day`:case`d`:return n$1*g;case`hours`:case`hour`:case`hrs`:case`hr`:case`h`:return n$1*t;case`minutes`:case`minute`:case`mins`:case`min`:case`m`:return n$1*e;case`seconds`:case`second`:case`secs`:case`sec`:case`s`:return n$1*A;case`milliseconds`:case`millisecond`:case`msecs`:case`msec`:case`ms`:return n$1;default:return}}}}(r);if(C===`number`&&isFinite(r))return n.long?function(o$1){var I$1=Math.abs(o$1);return I$1>=g?i$1(o$1,I$1,g,`day`):I$1>=t?i$1(o$1,I$1,t,`hour`):I$1>=e?i$1(o$1,I$1,e,`minute`):I$1>=A?i$1(o$1,I$1,A,`second`):o$1+` ms`}(r):function(o$1){var I$1=Math.abs(o$1);return I$1>=g?Math.round(o$1/g)+`d`:I$1>=t?Math.round(o$1/t)+`h`:I$1>=e?Math.round(o$1/e)+`m`:I$1>=A?Math.round(o$1/A)+`s`:o$1+`ms`}(r);throw Error(`val is not a non-empty string or a valid number. val=`+JSON.stringify(r))}}function setup(A){function e(A$1){let g$1,o,I,i$1=null;function r(){var t$1=[...arguments];if(!r.enabled)return;let I$1=r,i$2=Number(new Date);I$1.diff=i$2-(g$1||i$2),I$1.prev=g$1,I$1.curr=i$2,g$1=i$2,t$1[0]=e.coerce(t$1[0]),typeof t$1[0]!=`string`&&t$1.unshift(`%O`);let C=0;t$1[0]=t$1[0].replace(/%([a-zA-Z%])/g,(A$3,g$2)=>{if(A$3===`%%`)return`%`;C++;let o$2=e.formatters[g$2];if(typeof o$2==`function`){let e$1=t$1[C];A$3=o$2.call(I$1,e$1),t$1.splice(C,1),C--}return A$3}),e.formatArgs.call(I$1,t$1),(I$1.log||e.log).apply(I$1,t$1)}return r.namespace=A$1,r.useColors=e.useColors(),r.color=e.selectColor(A$1),r.extend=t,r.destroy=e.destroy,Object.defineProperty(r,`enabled`,{enumerable:!0,configurable:!1,get:()=>i$1===null?(o!==e.namespaces&&(o=e.namespaces,I=e.enabled(A$1)),I):i$1,set:A$2=>{i$1=A$2}}),typeof e.init==`function`&&e.init(r),r}function t(A$1,t$1){let g$1=e(this.namespace+(t$1===void 0?`:`:t$1)+A$1);return g$1.log=this.log,g$1}function g(A$1,e$1){let t$1=0,g$1=0,o=-1,I=0;for(;t$1<A$1.length;)if(g$1<e$1.length&&(e$1[g$1]===A$1[t$1]||e$1[g$1]===`*`))e$1[g$1]===`*`?(o=g$1,I=t$1,g$1++):(t$1++,g$1++);else{if(o===-1)return!1;g$1=o+1,I++,t$1=I}for(;g$1<e$1.length&&e$1[g$1]===`*`;)g$1++;return g$1===e$1.length}return e.debug=e,e.default=e,e.coerce=function(A$1){return A$1 instanceof Error?A$1.stack||A$1.message:A$1},e.disable=function(){let A$1=[...e.names,...e.skips.map(A$2=>`-`+A$2)].join(`,`);return e.enable(``),A$1},e.enable=function(A$1){e.save(A$1),e.namespaces=A$1,e.names=[],e.skips=[];let t$1=(typeof A$1==`string`?A$1:``).trim().replace(/\s+/g,`,`).split(`,`).filter(Boolean);for(let A$2=0;A$2<t$1.length;A$2++){let g$1=t$1[A$2];g$1[0]===`-`?e.skips.push(g$1.slice(1)):e.names.push(g$1)}},e.enabled=function(A$1){for(let t$1=0,o=e.skips;t$1<o.length;t$1++)if(g(A$1,o[t$1]))return!1;for(let t$1=0,o=e.names;t$1<o.length;t$1++)if(g(A$1,o[t$1]))return!0;return!1},e.humanize=requireMs(),e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(A).forEach(t$1=>{e[t$1]=A[t$1]}),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(A$1){let t$1=0;for(let e$1=0;e$1<A$1.length;e$1++)t$1=(t$1<<5)-t$1+A$1.charCodeAt(e$1),t$1|=0;return e.colors[Math.abs(t$1)%e.colors.length]},e.enable(e.load()),e}var common=setup;(function(A,e){e.formatArgs=function(e$1){if(e$1[0]=(this.useColors?`%c`:``)+this.namespace+(this.useColors?` %c`:` `)+e$1[0]+(this.useColors?`%c `:` `)+`+`+A.exports.humanize(this.diff),!this.useColors)return;let t$1=`color: `+this.color;e$1.splice(1,0,t$1,`color: inherit`);let g=0,o=0;e$1[0].replace(/%[a-zA-Z%]/g,A$1=>{A$1!==`%%`&&(g++,A$1===`%c`&&(o=g))}),e$1.splice(o,0,t$1)},e.save=function(A$1){try{A$1?e.storage.setItem(`debug`,A$1):e.storage.removeItem(`debug`)}catch{}},e.load=function(){let A$1;try{A$1=e.storage.getItem(`debug`)||e.storage.getItem(`DEBUG`)}catch{}return!A$1&&typeof process<`u`&&`env`in process&&(A$1={}.DEBUG),A$1},e.useColors=function(){if(typeof window<`u`&&window.process&&(window.process.type===`renderer`||window.process.__nwjs))return!0;if(typeof navigator<`u`&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let A$1;return typeof document<`u`&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<`u`&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<`u`&&navigator.userAgent&&(A$1=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(A$1[1],10)>=31||typeof navigator<`u`&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch{}}(),e.destroy=(()=>{let A$1=!1;return()=>{A$1||(A$1=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=`#0000CC.#0000FF.#0033CC.#0033FF.#0066CC.#0066FF.#0099CC.#0099FF.#00CC00.#00CC33.#00CC66.#00CC99.#00CCCC.#00CCFF.#3300CC.#3300FF.#3333CC.#3333FF.#3366CC.#3366FF.#3399CC.#3399FF.#33CC00.#33CC33.#33CC66.#33CC99.#33CCCC.#33CCFF.#6600CC.#6600FF.#6633CC.#6633FF.#66CC00.#66CC33.#9900CC.#9900FF.#9933CC.#9933FF.#99CC00.#99CC33.#CC0000.#CC0033.#CC0066.#CC0099.#CC00CC.#CC00FF.#CC3300.#CC3333.#CC3366.#CC3399.#CC33CC.#CC33FF.#CC6600.#CC6633.#CC9900.#CC9933.#CCCC00.#CCCC33.#FF0000.#FF0033.#FF0066.#FF0099.#FF00CC.#FF00FF.#FF3300.#FF3333.#FF3366.#FF3399.#FF33CC.#FF33FF.#FF6600.#FF6633.#FF9900.#FF9933.#FFCC00.#FFCC33`.split(`.`),e.log=console.debug||console.log||(()=>{}),A.exports=common(e);let{formatters:t}=A.exports;t.j=function(A$1){try{return JSON.stringify(A$1)}catch(A$2){return`[UnexpectedJSONParseError]: `+A$2.message}}})(browser,browser.exports);var browserExports=browser.exports,Debug=getDefaultExportFromCjs(browserExports);const uploadLog=Debug(`RTM:DEBUG`);uploadLog.enabled=!1;var UploadState=function(A){return A[A.Uploading=0]=`Uploading`,A[A.Free=1]=`Free`,A}(UploadState||{});class LogUploader{constructor(A){_defineProperty$1(this,`uploadRequest`,void 0),_defineProperty$1(this,`uploadState`,void 0),_defineProperty$1(this,`uploadResendCount`,void 0),_defineProperty$1(this,`LogCache`,void 0),_defineProperty$1(this,`LogsToPost`,void 0),_defineProperty$1(this,`processId`,void 0),_defineProperty$1(this,`sdkVersion`,void 0),_defineProperty$1(this,`logId`,void 0),_defineProperty$1(this,`PrivateConfig`,void 0),_defineProperty$1(this,`privateLogUploadHosts`,void 0),this.processId=A.processId,this.sdkVersion=A.sdkVersion,this.PrivateConfig=A.PrivateConfig,this.uploadRequest=A.uploadRequest,this.uploadState=UploadState.Free,this.uploadResendCount=0,this.LogCache=[],this.LogsToPost=[],this.logId=0,this.privateLogUploadHosts=A.privateLogUploadHosts}upload(A,e){this.LogCache.push(e),this.uploadState===UploadState.Free&&navigator.onLine&&getParameter(`VID`).get(A)!==void 0&&(this.LogsToPost=this.LogCache.length<LOG_UPLOAD_MAX_ITEMS?this.LogCache.splice(0,this.LogCache.length):this.LogCache.splice(0,LOG_UPLOAD_MAX_ITEMS),this.postLog(A,this.LogsToPost))}postLog(A,e){this.uploadState=UploadState.Uploading,setTimeout(async()=>{let t={sdk_version:this.sdkVersion,process_id:this.processId,payload:JSON.stringify(e)};try{var g;await this.uploadRequest(A,t,(g=this.PrivateConfig.cloudProxy)!=null&&g,this.privateLogUploadHosts)}catch{let t$1=this.uploadResendCount++<2?2e3:1e4;setTimeout(()=>this.postLog(A,this.LogsToPost),t$1);return}this.LogCache.length===0?this.uploadState=UploadState.Free:(this.uploadResendCount=0,this.LogsToPost=this.LogCache.length<LOG_UPLOAD_MAX_ITEMS?this.LogCache.splice(0,this.LogCache.length):this.LogCache.splice(0,LOG_UPLOAD_MAX_ITEMS),this.postLog(A,this.LogsToPost))},getParameter(`LOG_UPLOAD_INTERVAL`))}}async function postWithAbortSignal(A,e,t){let{body:g,headers:o={},timeout:I=1e4,signal:i$1,withCredentials:r=!1}=e;if(!1===navigator.onLine)throw Error(`network is offline, not permit send request: url(${A})`);let n=OperationName.rtm,{useBinaryResponse:C=!1}={},E=new XMLHttpRequest;E.open(`POST`,A,!0),E.responseType=C?`arraybuffer`:`text`,E.withCredentials=r,E.timeout=I;let s=g instanceof FormData,B=g instanceof Uint8Array,a=Object.keys(o).filter(A$1=>A$1.toLowerCase()===`content-type`);if(a.length>1)throw RangeError(`multiple content-type`);if(a.length===0&&(B?o[`Content-Type`]=`application/octet-stream`:s||(o[`Content-Type`]=`application/json`)),!(`setRequestHeader`in E)){E.abort();try{let e$1=await fetch(A,{body:s||B?g:JSON.stringify(g),cache:`no-cache`,credentials:r?`include`:`same-origin`,headers:o,method:`POST`,mode:`cors`,referrer:`no-referrer`,signal:i$1}),{status:t$1}=e$1;if(t$1>=200&&t$1<300||t$1===304)return C?{status:t$1,responseData:await e$1.arrayBuffer()}:{status:t$1,responseText:await e$1.text()};let I$1=new RtmUnavailableError(n,[`Post XHR failure, status %d`,t$1]);try{let A$1=await e$1.text();throw I$1.statusCode=t$1,I$1.message=A$1||`Request failed, status ${t$1}`,I$1}catch{throw I$1.statusCode=t$1,I$1.message=`Request failed, status ${t$1}`,I$1}}catch(A$1){throw new RtmUnavailableError(n,[`Post XHR failure, detail: %s`,A$1.message])}}if(Object.keys(o).length!==0)for(let A$1=0,e$1=Object.entries(o);A$1<e$1.length;A$1++){let[t$1,g$1]=e$1[A$1];E.setRequestHeader(t$1,g$1)}if(i$1!==void 0){let A$1=()=>{E.abort(),i$1.removeEventListener(`abort`,A$1)};i$1.addEventListener(`abort`,A$1)}return s||B?E.send(g):E.send(JSON.stringify(g)),new Promise((A$1,e$1)=>{let t$1=()=>{try{e$1(new DOMException(`The request aborted.`,`AbortError`))}catch{let t$2=Error(`The request aborted.`);t$2.name=`AbortError`,e$1(t$2)}};E.onload=()=>{let{status:g$1}=E;if(g$1===0)t$1();else if(g$1>=200&&g$1<300||g$1===304)A$1(C?{status:g$1,responseData:E.response}:{status:g$1,responseText:E.responseText});else{let A$2=new RtmUnavailableError(n,[`Post XHR failure, status %d`,g$1]);A$2.statusCode=g$1,A$2.message=E.response||`Request failed, status ${E.status}`,e$1(A$2)}},E.ontimeout=A$2=>{e$1(new RtmTimeoutError(n,[`XHR request timed out after %d ms`,I],{originalError:A$2}))},E.onerror=()=>{E.status===0&&t$1();let A$2=new RtmUnavailableError(n,[`Post XHR failure, status %d`,E.status]);A$2.statusCode=E.status,A$2.message=E.response||`Request failed, status ${E.status}`,e$1(A$2)},E.onabort=()=>{t$1()}})}const LOG_SERVICE_MAIN_DOMAIN=`logservice-rtm.agora.io`,LOG_SERVICE_BACKUP_DOMAIN=`rtm.logservice.sd-rtn.com`;let logUploadDomainIdx=0;function getLogUploadDomain(){try{var A;let e=getParameter(`LOG_UPLOAD_DOMAIN_LIST`)??[];return logUploadDomainIdx>=e.length&&(logUploadDomainIdx=0),e[logUploadDomainIdx]}catch(A$1){return console.error(A$1),``}}const getUTCTimestamp$1=()=>{let A=new Date,[e,t]=A.toISOString().split(`T`),[g,o,I]=e.split(`-`);return`${o}-${I} ${t.replace(/\..+/,``)}.${A.getMilliseconds()}`},_uploadRequest=async function(A,e,t,g){var o,I;let i$1=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!getParameter(`VID`).get(A)||i$1>2)return;let r={withCredentials:!0,body:e,timeout:2e4,headers:{vid:getParameter(`VID`).get(A),"Content-Encoding":`gzip`}},n=g&&getPrivateSettingsPortAndDomains(g),C=n?.hostname,E=C?.length??0,s=n?.port,B=C&&C[0],a=C&&C[E-1],Q=i$1>0?areaConfig?.LOG_UPLOAD_SERVER[0]||getLogUploadDomain()||(a??`rtm.logservice.sd-rtn.com`):areaConfig?.LOG_UPLOAD_SERVER[0]||getLogUploadDomain()||(B??`logservice-rtm.agora.io`);await postWithAbortSignal(t&&!g?`https://${areaConfig?.PROXY_NGINX[0]??`webrtc-cloud-proxy.sd-rtn.com`}/ls/?h=${Q}&p=${s??443}&d=upload/v1`:`https://${Q}${s?`:${s}`:``}/upload/v1`,r).catch(o$1=>(logUploadDomainIdx++,_uploadRequest(A,e,t,g,i$1+1)))},logUploaders=new Map,logUploader=(A,e)=>{if(logUploaders.has(A)&&logUploaders.get(A)instanceof LogUploader)return logUploaders.get(A);{let t=new LogUploader({processId:`process-${A}`,sdkVersion:`Agora_RTM_SDK_for_Web_${BUILD}`,uploadRequest:_uploadRequest,PrivateConfig:{},privateLogUploadHosts:e});return logUploaders.set(A,t),t}},blacklistedKeywords=[`text`,`payload`,`rawMessage`,`thumbnail`,`attributeInfos`,`keys`,`value`,`extra`,`ticket`],sensitiveKeywords=[`account`,`ticket`,`uid`,`detail`,`token`,`fileName`,`cname`,`user`,`group`,`key`,`origin`,`users`,`src`,`dst`,`lastUpdateUserId`,`channel`,`cert`,`wan_ip`,`userId`,`authorUid`,`target`,`lockName`,`appTicket`,`channelName`,`publisher`,`succeedUsers`,`failedUsers`,`10`,...ipKeywords],whitelistedKeywords=[`serverReceivedTs`,`hasPeerReceived`,`messageType`,`enableNotificationToChannelMembers`,`lastUpdateTs`],sensitiveEvents=[`message`,`presence`,`topic`,`lock`,`storage`,`MessageFromPeer`,`LocalInvitationRefused`,`LocalInvitationAccepted`,`RemoteInvitationCanceled`,`PeersOnlineStatusChanged`,`AttributesUpdated`,`MemberJoined`],sensitiveArgsHandler=A=>{if(typeof A==`string`)return replaceRangeWithAsterisk(A);if(Array.isArray(A)&&A.every(A$1=>typeof A$1==`string`))return A.map(A$1=>replaceRangeWithAsterisk(A$1));if(!isPrimitive(A)){let e={};for(let t=0;t<whitelistedKeywords.length;t++){let g=whitelistedKeywords[t];g in A&&(e[g]=A[g])}if(Object.keys(e).length>0)return e;if(Object.keys(A).length<5){for(let t=0,g=Object.entries(A);t<g.length;t++){let[A$1,o]=g[t];(getParameter(`SENSITIVE_LOG`)?blacklistedKeywords:[]).includes(A$1)?e[A$1]=`[Hidden Info]`:e[replaceRangeWithAsterisk(A$1)]=replaceRangeWithAsterisk(o)}return e}return typeof A==`object`&&A?safeJsonStringify(Array.isArray(A)?A.map(getPlain):getPlain(A)):`[Sensitive Info]`}return A};function maskMiddleOfString(A){let e=String(A);if(typeof e!=`string`)return`[Sensitive Info]`;let t=e.length;if(t<=2)return e;let g=t/3,o=t/3*2,I=`*`.repeat(o-g);return e.substring(0,g)+I+e.substring(o)}function handleLogObject(A,e,t){function g(o){if(isPrimitive(o))return o;if(A instanceof Uint8Array)return`[Hidden Info]`;if(Array.isArray(o))return o.map(g);let I={};for(let A$1=0,i$1=Object.entries(o);A$1<i$1.length;A$1++){let[o$1,r]=i$1[A$1],n=typeof r==`number`?r.toString():r;n instanceof Uint8Array||e.includes(o$1)?I[o$1]=`[Hidden Info]`:t.includes(o$1)?I[o$1]=typeof n==`string`?ipKeywords.includes(o$1)?maskIp(n):maskMiddleOfString(n):Array.isArray(n)?n.map(g):g(n):I[o$1]=isNil$1(n)?n:g(n)}return I}return Array.isArray(A)?A.map(g):g(A)}const filterLogObject=A=>handleLogObject(cloneDeep$1(A),getParameter(`SENSITIVE_LOG`)?blacklistedKeywords:[],getParameter(`SENSITIVE_LOG`)?sensitiveKeywords:[]),getPlain=A=>typeof A==`object`?isPlainObject(A)?filterLogObject(A):A.constructor&&A.constructor.name:A,formatLogTextAndParameters=(A,e)=>{if(A instanceof Error)return A.message;if(typeof A!=`string`)return JSON.stringify(filterLogObject(A));let t=e.map(A$1=>A$1 instanceof Error?A$1.message:typeof A$1==`object`&&A$1?safeJsonStringify(Array.isArray(A$1)?A$1.map(getPlain):getPlain(A$1)):A$1);return format$1(A.replace(/%[%Oo]/g,A$1=>A$1===`%%`?`%`:A$1===`%o`||A$1===`%O`?`%s`:A$1),...t)},logAndUploadGenerator=(A,e,t,g,o,I,i$1,r)=>{let n=Debug(t);n.enabled=!0,n.log=i$1,n.useColors=!1;let C=`Ins#${e} `;return function(e$1){var E=[...arguments].slice(1);if(I.logUpload){var B=formatLogTextAndParameters(addPeriodIfNeeded(e$1),E);let i$3=logUploader(g,r),n$1=`${i$3.logId++}`;i$3.upload(A,{log_item_id:n$1,log_level:t,payload_str:`[${getUTCTimestamp$1()}] - ${String(o).slice(0,7)}${o.length>7?`...`:``} - ${C}${t} - ${B.length>256?B.slice(0,256):B}`})}let a=A$1=>{let g$1=B||formatLogTextAndParameters(addPeriodIfNeeded(e$1),E),I$1=getParameter(`LOG_HANDLER`),i$3=`${t} [UTC_Time: ${getUTCTimestamp$1()}]`;isFunction$2(I$1)?I$1({level:A$1,message:C+g$1,prefix:i$3}):n(`[UTC_Time: ${getUTCTimestamp$1()}][uid: ${getParameter(`SENSITIVE_LOG`)?maskMiddleOfString(o):o}]${g$1}`)};switch(t){case`RTM:INFO`:I.logFilter.info&&a(`log`);break;case`RTM:WARN`:I.logFilter.warn&&a(`warning`);break;case`RTM:ERROR`:I.logFilter.error&&a(`error`);break;case`RTM:TRACK`:I.logFilter.track&&a(`log`);break;case`RTM:MSG:RECV`:case`RTM:MSG:SEND`:case`RTM:DEBUG`:I.logFilter.debug&&a(`debug`)}}};let loggerId;function initLoggerId(A,e){loggerId=gud$1();let t=new LogUploader({processId:`process-${A}`,sdkVersion:`Agora_RTM_SDK_for_Web_${BUILD}`,uploadRequest:_uploadRequest,PrivateConfig:{},privateLogUploadHosts:e});return logUploaders.set(A,t),loggerId}const loggerGenerator=(A,e,t,g,o,I,i$1,r)=>logAndUploadGenerator(A,e,`RTM:${g}`,I,i$1,o,function(A$1){return t((g$1=A$1,`Ins#${e} ${g$1}`));var g$1},r),genInfoLogger=(A,e,t,g,o,I)=>loggerGenerator(A,e,console.debug,`INFO`,t,g,o,I),genWarnLogger=(A,e,t,g,o,I)=>loggerGenerator(A,e,console.warn,`WARN`,t,g,o,I),genErrorLogger=(A,e,t,g,o,I)=>loggerGenerator(A,e,console.error,`ERROR`,t,g,o,I),debugLoggerGenerator=(A,e,t,g,o,I)=>function(i$1){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:``,n=console.debug||console.log,C=logAndUploadGenerator(A,e,i$1,g,o,t,function(A$1){return n((t$1=A$1,`Ins#${e} ${t$1}`));var t$1},I);return function(A$1){var t$1=[...arguments].slice(1);return C(r+A$1,...t$1)}},trackLoggerGenerator=(A,e,t,g,o,I)=>i$1=>debugLoggerGenerator(A,e,t,g,o,I)(`RTM:TRACK`,`[${i$1}] `);function loggedSensitive(A,e,t){let g=t;g===void 0&&(g=Object.getOwnPropertyDescriptor(A,e));let o=g.value;return g.value=function(){var t$1=[...arguments];this.invokeTracker(`%s: ${t$1.length>0?`%s with args: ${t$1.map(()=>`%o`)}`:`%s`}`,this.name,e,...t$1.map(sensitiveArgsHandler));try{var I=o.apply(this,t$1)}catch(A$2){throw this.logError(`${A$2.code===void 0?``:`Error Code ${A$2.code}: `}%s failed${t$1.length>0?` with args: ${t$1.map(()=>`%o`)}`:``}`,e,...t$1.map(sensitiveArgsHandler)),A$2.originalError&&this.logError(A$2.originalError),this.errorTracker(A$2),A$2}let i$1=Date.now();return(async()=>{let A$2;try{A$2=await I}catch(A$3){this.logError(`${A$3.code===void 0?``:`Error Code ${A$3.code}: `}%s failed${t$1.length>0?` with args: ${t$1.map(()=>`%o`)}`:``}`,e,...t$1.map(sensitiveArgsHandler)),A$3.originalError&&this.logError(A$3.originalError),this.errorTracker(A$3);return}var g$2;A$2===I?isAnyObject(A$2)&&!isPlainObject(A$2)?this.resultTracker(`%s result is %s`,e,A$2.name||A$2.constructor?.name):this.resultTracker(`%s result is %o`,e,A$2?sensitiveArgsHandler(A$2):`void`):A$2===void 0?this.resultTracker(`%s promise resolves after %dms`,e,Date.now()-i$1):this.resultTracker(`%s promise resolves after %dms, result is %o`,e,Date.now()-i$1,sensitiveArgsHandler(A$2))})(),I},g}class EventBase extends EventEmitter$1{constructor(A,e){var t;let g=arguments.length>2&&arguments[2]!==void 0&&arguments[2],o=arguments.length>3&&arguments[3]!==void 0&&arguments[3];super(),t=this,_defineProperty$1(this,`logError`,void 0),_defineProperty$1(this,`invokeTracker`,void 0),_defineProperty$1(this,`resultTracker`,void 0),_defineProperty$1(this,`errorTracker`,void 0),_defineProperty$1(this,`eventTracker`,void 0),_defineProperty$1(this,`info`,void 0),_defineProperty$1(this,`warn`,void 0),_defineProperty$1(this,`log`,void 0),_defineProperty$1(this,`genLogger`,void 0),_defineProperty$1(this,`loggerId`,void 0),_defineProperty$1(this,`logger`,void 0),_defineProperty$1(this,`name`,void 0),_defineProperty$1(this,`config`,void 0),_defineProperty$1(this,`debug`,void 0);let{appId:I,userId:i$1,config:r,processId:n}=A;this.config=A.config,this.logger=A,this.name=e,this.loggerId=this.logger.loggerId,this.info=genInfoLogger(I,this.loggerId,r,n,i$1),this.log=this.info,this.warn=genWarnLogger(I,this.loggerId,r,n,i$1),this.logError=genErrorLogger(I,this.loggerId,r,n,i$1),this.genLogger=debugLoggerGenerator(I,this.loggerId,r,n,i$1);let C=trackLoggerGenerator(I,this.loggerId,r,n,i$1);if(this.debug=this.genLogger(`RTM:DEBUG`,`<${e}> `),this.invokeTracker=C(`Invoke`),this.eventTracker=C(`Event`),this.resultTracker=C(`Result`),this.errorTracker=C(`Error`),g){let A$1=this.emit.bind(this);this.emit=function(){var o$1=[...arguments];let[i$2,...r$1]=o$1,n$1=sensitiveEvents.includes(i$2);t.eventTracker(`%s: ${r$1.length>0?`%s emitted with args: ${r$1.map(()=>`%o`)}`:`%s emitted`}`,e,i$2,...getParameter(`SENSITIVE_LOG`)&&n$1?r$1.map(sensitiveArgsHandler):r$1);try{return A$1(...o$1),!0}catch(A$2){return t.logError(`Caught in the callback function of the event %s`,i$2,A$2),!1}}}o&&(Object.defineProperty(this,`addListener`,{value:void 0,writable:!1,configurable:!1}),Object.defineProperty(this,`removeListener`,{value:void 0,writable:!1,configurable:!1}))}}const updateLogLevel=(A,e)=>{switch(A){case`debug`:e.logFilter=LogFilter.LOG_FILTER_DEBUG;break;case`info`:e.logFilter=LogFilter.LOG_FILTER_INFO;break;case`warn`:e.logFilter=LogFilter.LOG_FILTER_WARN;break;case`none`:e.logFilter=LogFilter.LOG_FILTER_NONE;break;default:e.logFilter=LogFilter.LOG_FILTER_ERROR}};var UZIP={},u16,u32;typeof module==`object`&&(module.exports=UZIP),UZIP.parse=function(A,e){for(var t=UZIP.bin.readUshort,g=UZIP.bin.readUint,o=0,I={},i$1=new Uint8Array(A),r=i$1.length-4;g(i$1,r)!=101010256;)r--;o=r,o+=4;var n=t(i$1,o+=4);t(i$1,o+=2);var C=g(i$1,o+=2),E=g(i$1,o+=4);o+=4,o=E;for(var s=0;s<n;s++){g(i$1,o),o+=4,o+=4,o+=4,g(i$1,o+=4),C=g(i$1,o+=4);var B=g(i$1,o+=4),a=t(i$1,o+=4),Q=t(i$1,o+2),c=t(i$1,o+4);o+=6;var l=g(i$1,o+=8);o+=4,o+=a+Q+c,UZIP._readLocal(i$1,l,I,C,B,e)}return I},UZIP._readLocal=function(A,e,t,g,o,I){var i$1=UZIP.bin.readUshort,r=UZIP.bin.readUint;r(A,e),i$1(A,e+=4),i$1(A,e+=2);var n=i$1(A,e+=2);r(A,e+=2),r(A,e+=4),e+=4;var C=i$1(A,e+=8),E=i$1(A,e+=2);e+=2;var s=UZIP.bin.readUTF8(A,e,C);if(e+=C,e+=E,I)t[s]={size:o,csize:g};else{var B=new Uint8Array(A.buffer,e);if(n==0)t[s]=new Uint8Array(B.buffer.slice(e,e+g));else{if(n!=8)throw`unknown compression method: `+n;var a=new Uint8Array(o);UZIP.inflateRaw(B,a),t[s]=a}}},UZIP.inflateRaw=function(A,e){return UZIP.F.inflate(A,e)},UZIP.inflate=function(A,e){return A[0],A[1],UZIP.inflateRaw(new Uint8Array(A.buffer,A.byteOffset+2,A.length-2),e)},UZIP.deflate=function(A,e){e??={level:6};var t=0,g=new Uint8Array(50+Math.floor(1.1*A.length));g[t]=120,g[t+1]=156,t+=2,t=UZIP.F.deflateRaw(A,g,t,e.level);var o=UZIP.adler(A,0,A.length);return g[t+0]=o>>>24&255,g[t+1]=o>>>16&255,g[t+2]=o>>>8&255,g[t+3]=o>>>0&255,new Uint8Array(g.buffer,0,t+4)},UZIP.deflateRaw=function(A,e){e??={level:6};var t=new Uint8Array(50+Math.floor(1.1*A.length)),g=UZIP.F.deflateRaw(A,t,g,e.level);return new Uint8Array(t.buffer,0,g)},UZIP.encode=function(A,e){e??=!1;var t=0,g=UZIP.bin.writeUint,o=UZIP.bin.writeUshort,I={};for(var i$1 in A){var r=!UZIP._noNeed(i$1)&&!e,n=A[i$1],C=UZIP.crc.crc(n,0,n.length);I[i$1]={cpr:r,usize:n.length,crc:C,file:r?UZIP.deflateRaw(n):n}}for(var i$1 in I)t+=I[i$1].file.length+30+46+2*UZIP.bin.sizeUTF8(i$1);t+=22;var E=new Uint8Array(t),s=0,B=[];for(var i$1 in I){var a=I[i$1];B.push(s),s=UZIP._writeHeader(E,s,i$1,a,0)}var Q=0,c=s;for(var i$1 in I)a=I[i$1],B.push(s),s=UZIP._writeHeader(E,s,i$1,a,1,B[Q++]);var l=s-c;return g(E,s,101010256),s+=4,o(E,s+=4,Q),o(E,s+=2,Q),g(E,s+=2,l),g(E,s+=4,c),s+=4,s+=2,E.buffer},UZIP._noNeed=function(A){var e=A.split(`.`).pop().toLowerCase();return`png,jpg,jpeg,zip`.indexOf(e)!=-1},UZIP._writeHeader=function(A,e,t,g,o,I){var i$1=UZIP.bin.writeUint,r=UZIP.bin.writeUshort,n=g.file;return i$1(A,e,o==0?67324752:33639248),e+=4,o==1&&(e+=2),r(A,e,20),r(A,e+=2,0),r(A,e+=2,g.cpr?8:0),i$1(A,e+=2,0),i$1(A,e+=4,g.crc),i$1(A,e+=4,n.length),i$1(A,e+=4,g.usize),r(A,e+=4,UZIP.bin.sizeUTF8(t)),r(A,e+=2,0),e+=2,o==1&&(e+=2,e+=2,i$1(A,e+=6,I),e+=4),e+=UZIP.bin.writeUTF8(A,e,t),o==0&&(A.set(n,e),e+=n.length),e},UZIP.crc={table:function(){for(var A=new Uint32Array(256),e=0;e<256;e++){for(var t=e,g=0;g<8;g++)1&t?t=3988292384^t>>>1:t>>>=1;A[e]=t}return A}(),update:function(A,e,t,g){for(var o=0;o<g;o++)A=UZIP.crc.table[255&(A^e[t+o])]^A>>>8;return A},crc:function(A,e,t){return 4294967295^UZIP.crc.update(4294967295,A,e,t)}},UZIP.adler=function(A,e,t){for(var g=1,o=0,I=e,i$1=e+t;I<i$1;){for(var r=Math.min(I+5552,i$1);I<r;)o+=g+=A[I++];g%=65521,o%=65521}return o<<16|g},UZIP.bin={readUshort:function(A,e){return A[e]|A[e+1]<<8},writeUshort:function(A,e,t){A[e]=255&t,A[e+1]=t>>8&255},readUint:function(A,e){return 16777216*A[e+3]+(A[e+2]<<16|A[e+1]<<8|A[e])},writeUint:function(A,e,t){A[e]=255&t,A[e+1]=t>>8&255,A[e+2]=t>>16&255,A[e+3]=t>>24&255},readASCII:function(A,e,t){for(var g=``,o=0;o<t;o++)g+=String.fromCharCode(A[e+o]);return g},writeASCII:function(A,e,t){for(var g=0;g<t.length;g++)A[e+g]=t.charCodeAt(g)},pad:function(A){return A.length<2?`0`+A:A},readUTF8:function(A,e,t){for(var g,o=``,I=0;I<t;I++)o+=`%`+UZIP.bin.pad(A[e+I].toString(16));try{g=decodeURIComponent(o)}catch{return UZIP.bin.readASCII(A,e,t)}return g},writeUTF8:function(A,e,t){for(var g=t.length,o=0,I=0;I<g;I++){var i$1=t.charCodeAt(I);if(4294967168&i$1)if(4294965248&i$1)if(4294901760&i$1){if(4292870144&i$1)throw`e`;A[e+o]=240|i$1>>18,A[e+o+1]=128|i$1>>12&63,A[e+o+2]=128|i$1>>6&63,A[e+o+3]=128|63&i$1,o+=4}else A[e+o]=224|i$1>>12,A[e+o+1]=128|i$1>>6&63,A[e+o+2]=128|63&i$1,o+=3;else A[e+o]=192|i$1>>6,A[e+o+1]=128|63&i$1,o+=2;else A[e+o]=i$1,o++}return o},sizeUTF8:function(A){for(var e=A.length,t=0,g=0;g<e;g++){var o=A.charCodeAt(g);if(4294967168&o)if(4294965248&o)if(4294901760&o){if(4292870144&o)throw`e`;t+=4}else t+=3;else t+=2;else t++}return t}},UZIP.F={},UZIP.F.deflateRaw=function(A,e,t,g){var o=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][g],I=UZIP.F.U,i$1=UZIP.F._goodIndex;UZIP.F._hash;var r=UZIP.F._putsE,n=0,C=t<<3,E=0,s=A.length;if(g==0){for(;n<s;)r(e,C,n+(R$1=Math.min(65535,s-n))==s?1:0),C=UZIP.F._copyExact(A,n,R$1,e,C+8),n+=R$1;return C>>>3}var B=I.lits,a=I.strt,Q=I.prev,c=0,l=0,h=0,u=0,d=0,D=0;for(s>2&&(a[D=UZIP.F._hash(A,0)]=0),n=0;n<s;n++){if(d=D,n+1<s-2){D=UZIP.F._hash(A,n+1);var y=n+1&32767;Q[y]=a[D],a[D]=y}if(E<=n){(c>14e3||l>26697)&&s-n>100&&(E<n&&(B[c]=n-E,c+=2,E=n),C=UZIP.F._writeBlock(n==s-1||E==s?1:0,B,c,u,A,h,n-h,e,C),c=l=u=0,h=n);var p$1=0;n<s-2&&(p$1=UZIP.F._bestMatch(A,n,Q,d,Math.min(o[2],s-n),o[3]));var R$1=p$1>>>16,w=65535&p$1;if(p$1!=0){w=65535&p$1;var _=i$1(R$1=p$1>>>16,I.of0);I.lhst[257+_]++;var S=i$1(w,I.df0);I.dhst[S]++,u+=I.exb[_]+I.dxb[S],B[c]=R$1<<23|n-E,B[c+1]=w<<16|_<<8|S,c+=2,E=n+R$1}else I.lhst[A[n]]++;l++}}for(h==n&&A.length!=0||(E<n&&(B[c]=n-E,c+=2,E=n),C=UZIP.F._writeBlock(1,B,c,u,A,h,n-h,e,C),c=0,l=0,c=l=u=0,h=n);7&C;)C++;return C>>>3},UZIP.F._bestMatch=function(A,e,t,g,o,I){var i$1=32767&e,r=t[i$1],n=i$1-r+32768&32767;if(r==i$1||g!=UZIP.F._hash(A,e-n))return 0;for(var C=0,E=0,s=Math.min(32767,e);n<=s&&--I!=0&&r!=i$1;){if(C==0||A[e+C]==A[e+C-n]){var B=UZIP.F._howLong(A,e,n);if(B>C){if(E=n,(C=B)>=o)break;n+2<B&&(B=n+2);for(var a=0,Q=0;Q<B-2;Q++){var c=e-n+Q+32768&32767,l=c-t[c]+32768&32767;l>a&&(a=l,r=c)}}}n+=(i$1=r)-(r=t[i$1])+32768&32767}return C<<16|E},UZIP.F._howLong=function(A,e,t){if(A[e]!=A[e-t]||A[e+1]!=A[e+1-t]||A[e+2]!=A[e+2-t])return 0;var g=e,o=Math.min(A.length,e+258);for(e+=3;e<o&&A[e]==A[e-t];)e++;return e-g},UZIP.F._hash=function(A,e){return(A[e]<<8|A[e+1])+(A[e+2]<<4)&65535},UZIP.saved=0,UZIP.F._writeBlock=function(A,e,t,g,o,I,i$1,r,n){var C,E,s,B,a,Q,c,l,h,u=UZIP.F.U,d=UZIP.F._putsF,D=UZIP.F._putsE;u.lhst[256]++,E=(C=UZIP.F.getTrees())[0],s=C[1],B=C[2],a=C[3],Q=C[4],c=C[5],l=C[6],h=C[7];var y=32+(n+3&7?8-(n+3&7):0)+(i$1<<3),p$1=g+UZIP.F.contSize(u.fltree,u.lhst)+UZIP.F.contSize(u.fdtree,u.dhst),R$1=g+UZIP.F.contSize(u.ltree,u.lhst)+UZIP.F.contSize(u.dtree,u.dhst);R$1+=14+3*c+UZIP.F.contSize(u.itree,u.ihst)+(2*u.ihst[16]+3*u.ihst[17]+7*u.ihst[18]);for(var w=0;w<286;w++)u.lhst[w]=0;for(w=0;w<30;w++)u.dhst[w]=0;for(w=0;w<19;w++)u.ihst[w]=0;var _=y<p$1&&y<R$1?0:p$1<R$1?1:2;if(d(r,n,A),d(r,n+1,_),n+=3,_==0){for(;7&n;)n++;n=UZIP.F._copyExact(o,I,i$1,r,n)}else{var S,f;if(_==1&&(S=u.fltree,f=u.fdtree),_==2){UZIP.F.makeCodes(u.ltree,E),UZIP.F.revCodes(u.ltree,E),UZIP.F.makeCodes(u.dtree,s),UZIP.F.revCodes(u.dtree,s),UZIP.F.makeCodes(u.itree,B),UZIP.F.revCodes(u.itree,B),S=u.ltree,f=u.dtree,D(r,n,a-257),D(r,n+=5,Q-1),D(r,n+=5,c-4),n+=4;for(var N=0;N<c;N++)D(r,n+3*N,u.itree[1+(u.ordr[N]<<1)]);n+=3*c,n=UZIP.F._codeTiny(l,u.itree,r,n),n=UZIP.F._codeTiny(h,u.itree,r,n)}for(var M=I,k=0;k<t;k+=2){for(var L=e[k],G=L>>>23,b=M+(8388607&L);M<b;)n=UZIP.F._writeLit(o[M++],S,r,n);if(G!=0){var U=e[k+1],m=U>>16,T=U>>8&255,O=255&U;D(r,n=UZIP.F._writeLit(257+T,S,r,n),G-u.of0[T]),n+=u.exb[T],d(r,n=UZIP.F._writeLit(O,f,r,n),m-u.df0[O]),n+=u.dxb[O],M+=G}}n=UZIP.F._writeLit(256,S,r,n)}return n},UZIP.F._copyExact=function(A,e,t,g,o){var I=o>>>3;return g[I]=t,g[I+1]=t>>>8,g[I+2]=255-g[I],g[I+3]=255-g[I+1],I+=4,g.set(new Uint8Array(A.buffer,e,t),I),o+(t+4<<3)},UZIP.F.getTrees=function(){for(var A=UZIP.F.U,e=UZIP.F._hufTree(A.lhst,A.ltree,15),t=UZIP.F._hufTree(A.dhst,A.dtree,15),g=[],o=UZIP.F._lenCodes(A.ltree,g),I=[],i$1=UZIP.F._lenCodes(A.dtree,I),r=0;r<g.length;r+=2)A.ihst[g[r]]++;for(r=0;r<I.length;r+=2)A.ihst[I[r]]++;for(var n=UZIP.F._hufTree(A.ihst,A.itree,7),C=19;C>4&&A.itree[1+(A.ordr[C-1]<<1)]==0;)C--;return[e,t,n,o,i$1,C,g,I]},UZIP.F.getSecond=function(A){for(var e=[],t=0;t<A.length;t+=2)e.push(A[t+1]);return e},UZIP.F.nonZero=function(A){for(var e=``,t=0;t<A.length;t+=2)A[t+1]!=0&&(e+=(t>>1)+`,`);return e},UZIP.F.contSize=function(A,e){for(var t=0,g=0;g<e.length;g++)t+=e[g]*A[1+(g<<1)];return t},UZIP.F._codeTiny=function(A,e,t,g){for(var o=0;o<A.length;o+=2){var I=A[o],i$1=A[o+1];g=UZIP.F._writeLit(I,e,t,g);var r=I==16?2:I==17?3:7;I>15&&(UZIP.F._putsE(t,g,i$1,r),g+=r)}return g},UZIP.F._lenCodes=function(A,e){for(var t=A.length;t!=2&&A[t-1]==0;)t-=2;for(var g=0;g<t;g+=2){var o=A[g+1],I=g+3<t?A[g+3]:-1,i$1=g+5<t?A[g+5]:-1,r=g==0?-1:A[g-1];if(o==0&&I==o&&i$1==o){for(var n=g+5;n+2<t&&A[n+2]==o;)n+=2;(C=Math.min(n+1-g>>>1,138))<11?e.push(17,C-3):e.push(18,C-11),g+=2*C-2}else if(o==r&&I==o&&i$1==o){for(n=g+5;n+2<t&&A[n+2]==o;)n+=2;var C=Math.min(n+1-g>>>1,6);e.push(16,C-3),g+=2*C-2}else e.push(o,0)}return t>>>1},UZIP.F._hufTree=function(A,e,t){var g=[],o=A.length,I=e.length,i$1=0;for(i$1=0;i$1<I;i$1+=2)e[i$1]=0,e[i$1+1]=0;for(i$1=0;i$1<o;i$1++)A[i$1]!=0&&g.push({lit:i$1,f:A[i$1]});var r=g.length,n=g.slice(0);if(r==0)return 0;if(r==1){var C=g[0].lit;return n=C==0?1:0,e[1+(C<<1)]=1,e[1+(n<<1)]=1,1}g.sort(function(A$1,e$1){return A$1.f-e$1.f});var E=g[0],s=g[1],B=0,a=1,Q=2;for(g[0]={lit:-1,f:E.f+s.f,l:E,r:s,d:0};a!=r-1;)E=B!=a&&(Q==r||g[B].f<g[Q].f)?g[B++]:g[Q++],s=B!=a&&(Q==r||g[B].f<g[Q].f)?g[B++]:g[Q++],g[a++]={lit:-1,f:E.f+s.f,l:E,r:s};var c=UZIP.F.setDepth(g[a-1],0);for(c>t&&(UZIP.F.restrictDepth(n,t,c),c=t),i$1=0;i$1<r;i$1++)e[1+(n[i$1].lit<<1)]=n[i$1].d;return c},UZIP.F.setDepth=function(A,e){return A.lit==-1?Math.max(UZIP.F.setDepth(A.l,e+1),UZIP.F.setDepth(A.r,e+1)):(A.d=e,e)},UZIP.F.restrictDepth=function(A,e,t){var g=0,o=1<<t-e,I=0;for(A.sort(function(A$1,e$1){return e$1.d==A$1.d?A$1.f-e$1.f:e$1.d-A$1.d}),g=0;g<A.length&&A[g].d>e;g++){var i$1=A[g].d;A[g].d=e,I+=o-(1<<t-i$1)}for(I>>>=t-e;I>0;)(i$1=A[g].d)<e?(A[g].d++,I-=1<<e-i$1-1):g++;for(;g>=0;g--)A[g].d==e&&I<0&&(A[g].d--,I++);I!=0&&console.log(`debt left`)},UZIP.F._goodIndex=function(A,e){var t=0;return e[16|t]<=A&&(t|=16),e[8|t]<=A&&(t|=8),e[4|t]<=A&&(t|=4),e[2|t]<=A&&(t|=2),e[1|t]<=A&&(t|=1),t},UZIP.F._writeLit=function(A,e,t,g){return UZIP.F._putsF(t,g,e[A<<1]),g+e[1+(A<<1)]},UZIP.F.inflate=function(A,e){var t=Uint8Array;if(A[0]==3&&A[1]==0)return e||new t(0);var g=UZIP.F,o=g._bitsF,I=g._bitsE,i$1=g._decodeTiny,r=g.makeCodes,n=g.codes2map,C=g._get17,E=g.U,s=e==null;s&&(e=new t(A.length>>>2<<3));for(var B,a,Q=0,c=0,l=0,h=0,u=0,d=0,D=0,y=0,p$1=0;Q==0;)if(Q=o(A,p$1,1),c=o(A,p$1+1,2),p$1+=3,c!=0){if(s&&(e=UZIP.F._check(e,y+(1<<17))),c==1&&(B=E.flmap,a=E.fdmap,d=511,D=31),c==2){l=I(A,p$1,5)+257,h=I(A,p$1+5,5)+1,u=I(A,p$1+10,4)+4,p$1+=14;for(var R$1=0;R$1<38;R$1+=2)E.itree[R$1]=0,E.itree[R$1+1]=0;var w=1;for(R$1=0;R$1<u;R$1++){var _=I(A,p$1+3*R$1,3);E.itree[1+(E.ordr[R$1]<<1)]=_,_>w&&(w=_)}p$1+=3*u,r(E.itree,w),n(E.itree,w,E.imap),B=E.lmap,a=E.dmap,p$1=i$1(E.imap,(1<<w)-1,l+h,A,p$1,E.ttree);var S=g._copyOut(E.ttree,0,l,E.ltree);d=(1<<S)-1;var f=g._copyOut(E.ttree,l,h,E.dtree);D=(1<<f)-1,r(E.ltree,S),n(E.ltree,S,B),r(E.dtree,f),n(E.dtree,f,a)}for(;;){var N=B[C(A,p$1)&d];p$1+=15&N;var M=N>>>4;if(!(M>>>8))e[y++]=M;else{if(M==256)break;var k=y+M-254;if(M>264){var L=E.ldef[M-257];k=y+(L>>>3)+I(A,p$1,7&L),p$1+=7&L}var G=a[C(A,p$1)&D];p$1+=15&G;var b=G>>>4,U=E.ddef[b],m=(U>>>4)+o(A,p$1,15&U);for(p$1+=15&U,s&&(e=UZIP.F._check(e,y+(1<<17)));y<k;)e[y]=e[y++-m],e[y]=e[y++-m],e[y]=e[y++-m],e[y]=e[y++-m];y=k}}}else{7&p$1&&(p$1+=8-(7&p$1));var T=(p$1>>>3)+4,O=A[T-4]|A[T-3]<<8;s&&(e=UZIP.F._check(e,y+O)),e.set(new t(A.buffer,A.byteOffset+T,O),y),p$1=T+O<<3,y+=O}return e.length==y?e:e.slice(0,y)},UZIP.F._check=function(A,e){var t=A.length;if(e<=t)return A;var g=new Uint8Array(Math.max(t<<1,e));return g.set(A,0),g},UZIP.F._decodeTiny=function(A,e,t,g,o,I){for(var i$1=UZIP.F._bitsE,r=UZIP.F._get17,n=0;n<t;){var C=A[r(g,o)&e];o+=15&C;var E=C>>>4;if(E<=15)I[n]=E,n++;else{var s=0,B=0;E==16?(B=3+i$1(g,o,2),o+=2,s=I[n-1]):E==17?(B=3+i$1(g,o,3),o+=3):E==18&&(B=11+i$1(g,o,7),o+=7);for(var a=n+B;n<a;)I[n]=s,n++}}return o},UZIP.F._copyOut=function(A,e,t,g){for(var o=0,I=0,i$1=g.length>>>1;I<t;){var r=A[I+e];g[I<<1]=0,g[1+(I<<1)]=r,r>o&&(o=r),I++}for(;I<i$1;)g[I<<1]=0,g[1+(I<<1)]=0,I++;return o},UZIP.F.makeCodes=function(A,e){for(var t,g,o,I,i$1=UZIP.F.U,r=A.length,n=i$1.bl_count,C=0;C<=e;C++)n[C]=0;for(C=1;C<r;C+=2)n[A[C]]++;var E=i$1.next_code;for(t=0,n[0]=0,g=1;g<=e;g++)t=t+n[g-1]<<1,E[g]=t;for(o=0;o<r;o+=2)(I=A[o+1])!=0&&(A[o]=E[I],E[I]++)},UZIP.F.codes2map=function(A,e,t){for(var g=A.length,o=UZIP.F.U.rev15,I=0;I<g;I+=2)if(A[I+1]!=0)for(var i$1=I>>1,r=A[I+1],n=i$1<<4|r,C=e-r,E=A[I]<<C,s=E+(1<<C);E!=s;)t[o[E]>>>15-e]=n,E++},UZIP.F.revCodes=function(A,e){for(var t=UZIP.F.U.rev15,g=15-e,o=0;o<A.length;o+=2)A[o]=t[A[o]<<e-A[o+1]]>>>g},UZIP.F._putsE=function(A,e,t){t<<=7&e;var g=e>>>3;A[g]|=t,A[g+1]|=t>>>8},UZIP.F._putsF=function(A,e,t){t<<=7&e;var g=e>>>3;A[g]|=t,A[g+1]|=t>>>8,A[g+2]|=t>>>16},UZIP.F._bitsE=function(A,e,t){return(A[e>>>3]|A[(e>>>3)+1]<<8)>>>(7&e)&(1<<t)-1},UZIP.F._bitsF=function(A,e,t){return(A[e>>>3]|A[(e>>>3)+1]<<8|A[(e>>>3)+2]<<16)>>>(7&e)&(1<<t)-1},UZIP.F._get17=function(A,e){return(A[e>>>3]|A[(e>>>3)+1]<<8|A[(e>>>3)+2]<<16)>>>(7&e)},UZIP.F._get25=function(A,e){return(A[e>>>3]|A[(e>>>3)+1]<<8|A[(e>>>3)+2]<<16|A[(e>>>3)+3]<<24)>>>(7&e)},UZIP.F.U=(u16=Uint16Array,u32=Uint32Array,{next_code:new u16(16),bl_count:new u16(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new u16(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new u32(32),flmap:new u16(512),fltree:[],fdmap:new u16(32),fdtree:[],lmap:new u16(32768),ltree:[],ttree:[],dmap:new u16(32768),dtree:[],imap:new u16(512),itree:[],rev15:new u16(32768),lhst:new u32(286),dhst:new u32(30),ihst:new u32(19),lits:new u32(15e3),strt:new u16(65536),prev:new u16(32768)}),function(){for(var A=UZIP.F.U,e=0;e<32768;e++){var t=e;t=(4278255360&(t=(4042322160&(t=(3435973836&(t=(2863311530&t)>>>1|(1431655765&t)<<1))>>>2|(858993459&t)<<2))>>>4|(252645135&t)<<4))>>>8|(16711935&t)<<8,A.rev15[e]=(t>>>16|t<<16)>>>17}function g(A$1,e$1,t$1){for(;e$1--!=0;)A$1.push(0,t$1)}for(e=0;e<32;e++)A.ldef[e]=A.of0[e]<<3|A.exb[e],A.ddef[e]=A.df0[e]<<4|A.dxb[e];g(A.fltree,144,8),g(A.fltree,112,9),g(A.fltree,24,7),g(A.fltree,8,8),UZIP.F.makeCodes(A.fltree,9),UZIP.F.codes2map(A.fltree,9,A.flmap),UZIP.F.revCodes(A.fltree,9),g(A.fdtree,32,5),UZIP.F.makeCodes(A.fdtree,5),UZIP.F.codes2map(A.fdtree,5,A.fdmap),UZIP.F.revCodes(A.fdtree,5),g(A.itree,19,0),g(A.ltree,286,0),g(A.dtree,30,0),g(A.ttree,320,0)}();const{inflate:inflate$1,deflate}=UZIP;function isValidAppId(A){return/^[\dA-Za-z]{32}$/.test(A)}function isValidId(A){return typeof A==`string`&&!A.startsWith(`_`)&&/^[a-zA-Z0-9 \!\#\$\%\&\(\)\+\,\-\:\;\<\=\>\?\@\[\]\^\_\{\|\}\~]{1,64}$/.test(A)}function isValidTopic(A){return typeof A==`string`&&A.length>0&&!A.startsWith(`_`)&&isValidId(A)}function validateTopicName(A,e){let{code:t,reason:g}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_INVALID_TOPIC_NAME);if(!isValidTopic(A)||A.length===0||new Blob([A??``]).size>16)throw new RtmInvalidArgumentError(e,[g],t)}function isUintString(A){let e=Number(A);return Number.isInteger(e)&&e>=0}function isValidIp(A){let e;try{e=A.split(`.`).map(A$1=>Number(A$1))}catch{return!1}if(e.length!==4||e[0]===0)return!1;for(let A$1=0,t=e;A$1<t.length;A$1++){let e$1=t[A$1];if(!Number.isInteger(e$1)||e$1<0||e$1>255)return!1}return!0}function validMetaDataItem(A,e){let{items:t,maxMetaDataCount:g,maxMetaValueSize:o,majorRevision:I,type:i$1}=e;if(!Array.isArray(t)){let{code:e$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_METADATA_ITEM);throw new RtmInvalidArgumentError(A,[t$1],e$1)}let r=t.map(A$1=>[A$1.getKey(),A$1.getValue()]);if(r.length>g){let{code:e$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_METADATA_ITEM_EXCEED_LIMITATION);throw new RtmLimitExceededError(A,[t$1],e$1)}if(r.length===0){let{code:e$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_METADATA_ITEM);throw new RtmInvalidArgumentError(A,[t$1],e$1)}if(typeof I!=`number`||I<-1||I%1!=0){let{code:e$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_REVISION);throw new RtmInvalidArgumentError(A,[t$1],e$1)}if(t.map(e$1=>{if(e$1?.getRevision()<-1){let{code:e$2,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_REVISION);throw new RtmInvalidArgumentError(A,[t$1],e$2)}}),(i$1===`Update`||i$1===`Delete`)&&I===0){let{code:e$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_REVISION);throw new RtmInvalidArgumentError(A,[t$1],e$1)}if((i$1===`Update`||i$1===`Delete`)&&t.map(A$1=>A$1.getRevision()).includes(0)){let{code:e$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_REVISION);throw new RtmInvalidArgumentError(A,[t$1],e$1)}for(let e$1=0;e$1<r.length;e$1++){let[t$1,g$1]=r[e$1],I$1=new Blob([t$1??``]).size,n=new Blob([g$1??``]).size;if(typeof t$1!=`string`||I$1===0||t$1?.[0]===`_`||!isValidId(t$1)){let{code:e$2,reason:t$2}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_KEY);throw new RtmInvalidArgumentError(A,[t$2],e$2)}if(I$1>32){let{code:e$2,reason:t$2}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_KEY_LENGTH_OVERFLOW);throw new RtmInvalidArgumentError(A,[t$2],e$2)}if(i$1!==`Delete`&&typeof g$1!=`string`){let{code:e$2,reason:t$2}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_VALUE);throw new RtmInvalidArgumentError(A,[t$2],e$2)}if(i$1!==`Delete`&&n>o){let{code:e$2,reason:t$2}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_VALUE_LENGTH_OVERFLOW);throw new RtmLimitExceededError(A,[t$2],e$2)}}}function validateMetaDataSize(A,e){if(new Blob([e??``]).size>16384){let{code:e$1,reason:t}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_METADATA_LENGTH_OVERFLOW);throw new RtmLimitExceededError(A,[t],e$1)}}function validMetaDataMajorRevisionForRemove(A,e){if(e<-1){let{code:e$1,reason:t}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_REVISION);throw new RtmInvalidArgumentError(A,[t],e$1)}if(e%1!=0){let{code:e$1,reason:t}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_REVISION);throw new RtmInvalidArgumentError(A,[t],e$1)}if(e===0){let{code:e$1,reason:t}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_REVISION);throw new RtmInvalidArgumentError(A,[t],e$1)}}function validStateOfPresence(A,e){for(let g in A){var t;let o=new Blob([A[g]??``]).size;if(validStateKeyOfPresence(g,e),o>16384){let{code:A$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_STATE_VALUE_SIZE_OVERFLOW);throw new RtmLimitExceededError(e,[t$1],A$1)}}}function validStateKeyOfPresence(A,e){let t=new Blob([A??``]).size;if(t>32){let{code:A$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_STATE_KEY_SIZE_OVERFLOW);throw new RtmInvalidArgumentError(e,[t$1],A$1)}if(t===0||!isValidId(A)){let{code:A$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_INVALID_STATE_KEY);throw new RtmInvalidArgumentError(e,[t$1],A$1)}}function checkKeyValidity(A){return A.length!==0&&A[0]!==`_`}function validateMessageSize(A,e){if(!A||typeof A!=`string`&&!(A instanceof Uint8Array)){let{code:A$1,reason:t}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_INVALID_MESSAGE);throw new RtmInvalidArgumentError(e,[t],A$1)}if((typeof A==`string`?new Blob([A??``]).size:A.byteLength)>32768){let{code:A$1,reason:t}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_MESSAGE_LENGTH_EXCEED_LIMITATION);throw new RtmInvalidArgumentError(e,[t],A$1)}}function validateCustomType(A,e){let t=new Blob([A]);if(t.size>32){let{code:A$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_CUSTOM_TYPE_LENGTH_OVERFLOW);throw new RtmInvalidArgumentError(e,[t$1],A$1)}if(typeof A!=`string`||t.size===0){let{code:A$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_INVALID_CUSTOM_TYPE);throw new RtmInvalidArgumentError(e,[t$1],A$1)}}function validateChannelName(A){return isValidId(A)}function validateChannelType(A,e){if(e!==`MESSAGE`&&e!==`STREAM`){let{code:e$1,reason:t}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_TYPE);throw new RtmInvalidArgumentError(A,[t],e$1)}}function validateHistoryChannelType(A,e){if(e!==`MESSAGE`&&e!==`USER`){let{code:e$1,reason:t}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_TYPE);throw new RtmInvalidArgumentError(A,[t],e$1)}}function validMessage(A,e){let t=OperationName.publish,{code:g,reason:o}=getErrorInfoByCode(e);if(!isPlainObject(A))throw new RtmInvalidArgumentError(t,[o],g);if(A.messageType===void 0){if(A.rawMessage instanceof Uint8Array){if(A.messageType=`RAW`,A.text!==void 0)throw new RtmInvalidArgumentError(t,[o],g)}else if(typeof A.text!=`string`||(A.messageType=`TEXT`,A.rawMessage!==void 0))throw new RtmInvalidArgumentError(t,[o],g)}}function isValidEnvString(A){return!1}function validDomain(A){return/^(?:(?:(?:[a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)+[a-zA-Z]{2,}|(?:\d{1,3}\.){3}\d{1,3})(?::\d{1,5})?$/.test(A)}function validateIpPort(A){return/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|\d{1,2})\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|\d{1,2})(?::([1-9]\d{0,4}))?$/.test(A)}function validatePrivateConfig(A){var e,t,g,o,I,i$1,r,n,C;if(isEmptyObject(A?.privateConfig)||isEmptyObject(A==null||(e=A.privateConfig)==null?void 0:e.serviceType)||A==null||!A.privateConfig)return!1;let E=!1,s=``,B=A==null||(t=A.privateConfig)==null?void 0:t.serviceType,a=A==null||(g=A.privateConfig)==null?void 0:g.accessPointHosts,Q=A==null||(o=A.privateConfig)==null?void 0:o.eventUploadHosts,c=A==null||(I=A.privateConfig)==null?void 0:I.logUploadHosts,l=A==null||(i$1=A.privateConfig)==null?void 0:i$1.originDomains;return B?.length!==0&&((B?.length??0)===0||B!=null&&B.includes(`MESSAGE`)||B!=null&&B.includes(`STREAM`)||(s=` ServiceType is illegal.`,E=!0),(B?.length??0)!==0&&(a?.length??0)===0&&(E=!0),(a!=null&&a.some(A$1=>!validDomain(A$1))||l!=null&&l.some(A$1=>!validDomain(A$1))||Q!=null&&Q.some(A$1=>!validDomain(A$1))||c!=null&&c.some(A$1=>!validDomain(A$1)))&&(E=!0,s+=` Hosts or domains is illegal.`),E&&throwInvalidPrivateConfig(OperationName.initRTM,s),!0)}function validateKey(A,e,t){switch(t){case`channel`:if(!validateChannelName(A)){let{code:A$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_NAME);throw new RtmInvalidArgumentError(e,[t$1],A$1)}break;case`uid`:if(!isValidId(A)){let A$1=RTMErrorCode.RTM_ERROR_INVALID_USER_ID,{code:t$1,reason:g}=getErrorInfoByCode(A$1);throw new RtmInvalidArgumentError(e,[g],t$1)}break;case`lock-name`:if(!isValidId(A)){let{code:A$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_INVALID_NAME);throw new RtmInvalidArgumentError(e,[t$1],A$1)}break;case`metadata-lock`:if(!isValidId(A)){let{code:A$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_LOCK_NAME);throw new RtmInvalidArgumentError(e,[t$1],A$1)}}}class ReadByteBuffer{constructor(A){_defineProperty$1(this,`view`,void 0),_defineProperty$1(this,`offset`,void 0),this.view=new DataView(A),this.offset=0}getString(){let A=this.view.getUint16(this.offset,!0);this.offset+=2;let e=new Uint8Array(this.view.buffer,this.offset,A);return this.offset+=A,new TextDecoder().decode(e)}getUint32(){let A=this.view.getUint32(this.offset,!0);return this.offset+=4,A}getUint16(){let A=this.view.getUint16(this.offset,!0);return this.offset+=2,A}pack(){return this.view.buffer.slice(this.offset)}}function decodeBase64(A){let e=atob(A),t=new Uint8Array(e.length);for(let A$1=0;A$1<e.length;A$1++)t[A$1]=e.charCodeAt(A$1);return t}function fromStringWith006(A){return A.slice(3,35)}function fromStringWith007(A){let g=new ReadByteBuffer(inflate$1(decodeBase64(A.substring(3))).buffer);return g.getString(),g.getString()}const get007Version=()=>`007`,get006Version=()=>`006`;function validateToken(A,e,t,g){if(e===A)return;function o(){let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INCONSISTENT_APPID);throw new RtmInvalidArgumentError(t,[e$1],A$1)}function I(){let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_TOKEN);throw new RtmInvalidArgumentError(t,[e$1],A$1)}let i$1=A?.slice(0,3);try{let t$1=i$1===get006Version()?fromStringWith006(A):i$1!==get007Version()||fromStringWith007(A);typeof t$1==`string`&&t$1!==e&&(isValidAppId(t$1)||I(),g(`appId from token is '${t$1}', not match the appId of config.`),o()),t$1&&t$1!==e&&o()}catch(A$1){g(A$1),I()}}function __awaiter(A,e,t,g){return new(t||=Promise)(function(e$1,o){function I(A$1){try{r(g.next(A$1))}catch(A$2){o(A$2)}}function i$1(A$1){try{r(g.throw(A$1))}catch(A$2){o(A$2)}}function r(A$1){var g$1;A$1.done?e$1(A$1.value):(g$1=A$1.value,g$1 instanceof t?g$1:new t(function(A$2){A$2(g$1)})).then(I,i$1)}r((g=g.apply(A,[])).next())})}function __generator(A,e){var t,g,o,I,i$1={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return I={next:r(0),throw:r(1),return:r(2)},typeof Symbol==`function`&&(I[Symbol.iterator]=function(){return this}),I;function r(I$1){return function(r$1){return function(I$2){if(t)throw TypeError(`Generator is already executing.`);for(;i$1;)try{if(t=1,g&&(o=2&I$2[0]?g.return:I$2[0]?g.throw||((o=g.return)&&o.call(g),0):g.next)&&!(o=o.call(g,I$2[1])).done)return o;switch(g=0,o&&(I$2=[2&I$2[0],o.value]),I$2[0]){case 0:case 1:o=I$2;break;case 4:return i$1.label++,{value:I$2[1],done:!1};case 5:i$1.label++,g=I$2[1],I$2=[0];continue;case 7:I$2=i$1.ops.pop(),i$1.trys.pop();continue;default:if(o=i$1.trys,!((o=o.length>0&&o[o.length-1])||I$2[0]!==6&&I$2[0]!==2)){i$1=0;continue}if(I$2[0]===3&&(!o||I$2[1]>o[0]&&I$2[1]<o[3])){i$1.label=I$2[1];break}if(I$2[0]===6&&i$1.label<o[1]){i$1.label=o[1],o=I$2;break}if(o&&i$1.label<o[2]){i$1.label=o[2],i$1.ops.push(I$2);break}o[2]&&i$1.ops.pop(),i$1.trys.pop();continue}I$2=e.call(A,i$1)}catch(A$1){I$2=[6,A$1],g=0}finally{t=o=0}if(5&I$2[0])throw I$2[1];return{value:I$2[0]?I$2[1]:void 0,done:!0}}([I$1,r$1])}}}function __read(A,e){var t=typeof Symbol==`function`&&A[Symbol.iterator];if(!t)return A;var g,o,I=t.call(A),i$1=[];try{for(;(e===void 0||e-- >0)&&!(g=I.next()).done;)i$1.push(g.value)}catch(A$1){o={error:A$1}}finally{try{g&&!g.done&&(t=I.return)&&t.call(I)}finally{if(o)throw o.error}}return i$1}function __spreadArray(A,e,t){if(arguments.length===2)for(var g,o=0,I=e.length;o<I;o++)!g&&o in e||(g||=Array.prototype.slice.call(e,0,o),g[o]=e[o]);return A.concat(g||Array.prototype.slice.call(e))}var defaultErrorConfig={withStackTrace:!1},createNeverThrowError=function(A,e,t){return t===void 0&&(t=defaultErrorConfig),{data:e.isOk()?{type:`Ok`,value:e.value}:{type:`Err`,value:e.error},message:A,stack:t.withStackTrace?Error().stack:void 0}},ResultAsync=function(){function A(A$1){this._promise=A$1}return A.fromSafePromise=function(e){return new A(e.then(function(A$1){return new Ok(A$1)}))},A.fromPromise=function(e,t){return new A(e.then(function(A$1){return new Ok(A$1)}).catch(function(A$1){return new Err(t(A$1))}))},A.combine=function(A$1){return combineResultAsyncList(A$1)},A.combineWithAllErrors=function(A$1){return combineResultAsyncListWithAllErrors(A$1)},A.prototype.map=function(e){var t=this;return new A(this._promise.then(function(A$1){return __awaiter(t,void 0,void 0,function(){var t$1;return __generator(this,function(g){switch(g.label){case 0:return A$1.isErr()?[2,new Err(A$1.error)]:(t$1=Ok.bind,[4,e(A$1.value)]);case 1:return[2,new(t$1.apply(Ok,[void 0,g.sent()]))]}})})}))},A.prototype.mapErr=function(e){var t=this;return new A(this._promise.then(function(A$1){return __awaiter(t,void 0,void 0,function(){var t$1;return __generator(this,function(g){switch(g.label){case 0:return A$1.isOk()?[2,new Ok(A$1.value)]:(t$1=Err.bind,[4,e(A$1.error)]);case 1:return[2,new(t$1.apply(Err,[void 0,g.sent()]))]}})})}))},A.prototype.andThen=function(e){return new A(this._promise.then(function(t){if(t.isErr())return new Err(t.error);var g=e(t.value);return g instanceof A?g._promise:g}))},A.prototype.orElse=function(e){var t=this;return new A(this._promise.then(function(A$1){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t$1){return A$1.isErr()?[2,e(A$1.error)]:[2,new Ok(A$1.value)]})})}))},A.prototype.match=function(A$1,e){return this._promise.then(function(t){return t.match(A$1,e)})},A.prototype.unwrapOr=function(A$1){return this._promise.then(function(e){return e.unwrapOr(A$1)})},A.prototype.then=function(A$1,e){return this._promise.then(A$1,e)},A}(),errAsync=function(A){return new ResultAsync(Promise.resolve(new Err(A)))},fromPromise=ResultAsync.fromPromise;ResultAsync.fromSafePromise;var appendValueToEndOfList=function(A){return function(e){return __spreadArray(__spreadArray([],__read(e),!1),[A],!1)}},combineResultList=function(A){return A.reduce(function(A$1,e){return A$1.isOk()?e.isErr()?err(e.error):A$1.map(appendValueToEndOfList(e.value)):A$1},ok([]))},combineResultAsyncList=function(A){return ResultAsync.fromSafePromise(Promise.all(A)).andThen(combineResultList)},combineResultListWithAllErrors=function(A){return A.reduce(function(A$1,e){return e.isErr()?A$1.isErr()?err(__spreadArray(__spreadArray([],__read(A$1.error),!1),[e.error],!1)):err([e.error]):A$1.isErr()?A$1:ok(__spreadArray(__spreadArray([],__read(A$1.value),!1),[e.value],!1))},ok([]))},combineResultAsyncListWithAllErrors=function(A){return ResultAsync.fromSafePromise(Promise.all(A)).andThen(combineResultListWithAllErrors)},Result;(function(A){A.fromThrowable=function(A$1,e){return function(){var t=[...arguments];try{return ok(A$1.apply(void 0,__spreadArray([],__read(t),!1)))}catch(A$2){return err(e?e(A$2):A$2)}}},A.combine=function(A$1){return combineResultList(A$1)},A.combineWithAllErrors=function(A$1){return combineResultListWithAllErrors(A$1)}})(Result||={});var ok=function(A){return new Ok(A)},err=function(A){return new Err(A)},Ok=function(){function A(A$1){this.value=A$1}return A.prototype.isOk=function(){return!0},A.prototype.isErr=function(){return!this.isOk()},A.prototype.map=function(A$1){return ok(A$1(this.value))},A.prototype.mapErr=function(A$1){return ok(this.value)},A.prototype.andThen=function(A$1){return A$1(this.value)},A.prototype.orElse=function(A$1){return ok(this.value)},A.prototype.asyncAndThen=function(A$1){return A$1(this.value)},A.prototype.asyncMap=function(A$1){return ResultAsync.fromSafePromise(A$1(this.value))},A.prototype.unwrapOr=function(A$1){return this.value},A.prototype.match=function(A$1,e){return A$1(this.value)},A.prototype._unsafeUnwrap=function(A$1){return this.value},A.prototype._unsafeUnwrapErr=function(A$1){throw createNeverThrowError("Called `_unsafeUnwrapErr` on an Ok",this,A$1)},A}(),Err=function(){function A(A$1){this.error=A$1}return A.prototype.isOk=function(){return!1},A.prototype.isErr=function(){return!this.isOk()},A.prototype.map=function(A$1){return err(this.error)},A.prototype.mapErr=function(A$1){return err(A$1(this.error))},A.prototype.andThen=function(A$1){return err(this.error)},A.prototype.orElse=function(A$1){return A$1(this.error)},A.prototype.asyncAndThen=function(A$1){return errAsync(this.error)},A.prototype.asyncMap=function(A$1){return errAsync(this.error)},A.prototype.unwrapOr=function(A$1){return A$1},A.prototype.match=function(A$1,e){return e(this.error)},A.prototype._unsafeUnwrap=function(A$1){throw createNeverThrowError("Called `_unsafeUnwrap` on an Err",this,A$1)},A.prototype._unsafeUnwrapErr=function(A$1){return this.error},A}();Result.fromThrowable;let AgoraRTCErrorCode=function(A){return A.UNEXPECTED_ERROR=`UNEXPECTED_ERROR`,A.UNEXPECTED_RESPONSE=`UNEXPECTED_RESPONSE`,A.TIMEOUT=`TIMEOUT`,A.INVALID_PARAMS=`INVALID_PARAMS`,A.NOT_READABLE=`NOT_READABLE`,A.NOT_SUPPORTED=`NOT_SUPPORTED`,A.INVALID_OPERATION=`INVALID_OPERATION`,A.OPERATION_ABORTED=`OPERATION_ABORTED`,A.WEB_SECURITY_RESTRICT=`WEB_SECURITY_RESTRICT`,A.EXCHANGE_SDP_FAILED=`EXCHANGE_SDP_FAILED`,A.ADD_CANDIDATE_FAILED=`ADD_CANDIDATE_FAILED`,A.DATACHANNEL_FAILED=`DATACHANNEL_FAILED`,A.NETWORK_ERROR=`NETWORK_ERROR`,A.NETWORK_TIMEOUT=`NETWORK_TIMEOUT`,A.NETWORK_RESPONSE_ERROR=`NETWORK_RESPONSE_ERROR`,A.API_INVOKE_TIMEOUT=`API_INVOKE_TIMEOUT`,A.ENUMERATE_DEVICES_FAILED=`ENUMERATE_DEVICES_FAILED`,A.DEVICE_NOT_FOUND=`DEVICE_NOT_FOUND`,A.ELECTRON_IS_NULL=`ELECTRON_IS_NULL`,A.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR=`ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR`,A.CHROME_PLUGIN_NO_RESPONSE=`CHROME_PLUGIN_NO_RESPONSE`,A.CHROME_PLUGIN_NOT_INSTALL=`CHROME_PLUGIN_NOT_INSTALL`,A.MEDIA_OPTION_INVALID=`MEDIA_OPTION_INVALID`,A.PERMISSION_DENIED=`PERMISSION_DENIED`,A.CONSTRAINT_NOT_SATISFIED=`CONSTRAINT_NOT_SATISFIED`,A.TRACK_IS_DISABLED=`TRACK_IS_DISABLED`,A.GET_VIDEO_ELEMENT_VISIBLE_ERROR=`GET_VIDEO_ELEMENT_VISIBLE_ERROR`,A.SHARE_AUDIO_NOT_ALLOWED=`SHARE_AUDIO_NOT_ALLOWED`,A.LOW_STREAM_ENCODING_ERROR=`LOW_STREAM_ENCODING_ERROR`,A.SET_ENCODING_PARAMETER_ERROR=`SET_ENCODING_PARAMETER_ERROR`,A.TRACK_STATE_UNREACHABLE=`TRACK_STATE_UNREACHABLE`,A.INVALID_UINT_UID_FROM_STRING_UID=`INVALID_UINT_UID_FROM_STRING_UID`,A.CAN_NOT_GET_PROXY_SERVER=`CAN_NOT_GET_PROXY_SERVER`,A.CAN_NOT_GET_GATEWAY_SERVER=`CAN_NOT_GET_GATEWAY_SERVER`,A.VOID_GATEWAY_ADDRESS=`VOID_GATEWAY_ADDRESS`,A.UID_CONFLICT=`UID_CONFLICT`,A.MULTI_UNILBS_RESPONSE_ERROR=`MULTI_UNILBS_RESPONSE_ERROR`,A.UPDATE_TICKET_FAILED=`UPDATE_TICKET_FAILED`,A.TOKEN_EXPIRE=`TOKEN_EXPIRE`,A.INVALID_LOCAL_TRACK=`INVALID_LOCAL_TRACK`,A.INVALID_TRACK=`INVALID_TRACK`,A.SENDER_NOT_FOUND=`SENDER_NOT_FOUND`,A.CREATE_OFFER_FAILED=`CREATE_OFFER_FAILED`,A.SET_ANSWER_FAILED=`SET_ANSWER_FAILED`,A.ICE_FAILED=`ICE_FAILED`,A.PC_CLOSED=`PC_CLOSED`,A.SENDER_REPLACE_FAILED=`SENDER_REPLACE_FAILED`,A.GET_LOCAL_CAPABILITIES_FAILED=`GET_LOCAL_CAPABILITIES_FAILED`,A.GET_LOCAL_CONNECTION_PARAMS_FAILED=`GET_LOCAL_CONNECTION_PARAMS_FAILED`,A.SUBSCRIBE_FAILED=`SUBSCRIBE_FAILED`,A.UNSUBSCRIBE_FAILED=`UNSUBSCRIBE_FAILED`,A.GATEWAY_P2P_LOST=`GATEWAY_P2P_LOST`,A.NO_ICE_CANDIDATE=`NO_ICE_CANDIDATE`,A.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS=`CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS`,A.EXIST_DISABLED_VIDEO_TRACK=`EXIST_DISABLED_VIDEO_TRACK`,A.INVALID_REMOTE_USER=`INVALID_REMOTE_USER`,A.REMOTE_USER_IS_NOT_PUBLISHED=`REMOTE_USER_IS_NOT_PUBLISHED`,A.CUSTOM_REPORT_SEND_FAILED=`CUSTOM_REPORT_SEND_FAILED`,A.CUSTOM_REPORT_FREQUENCY_TOO_HIGH=`CUSTOM_REPORT_FREQUENCY_TOO_HIGH`,A.FETCH_AUDIO_FILE_FAILED=`FETCH_AUDIO_FILE_FAILED`,A.READ_LOCAL_AUDIO_FILE_ERROR=`READ_LOCAL_AUDIO_FILE_ERROR`,A.DECODE_AUDIO_FILE_FAILED=`DECODE_AUDIO_FILE_FAILED`,A.WS_ABORT=`WS_ABORT`,A.WS_DISCONNECT=`WS_DISCONNECT`,A.WS_ERR=`WS_ERR`,A.EXTERNAL_SIGNAL_ABORT=`EXTERNAL_SIGNAL_ABORT`,A.LIVE_STREAMING_TASK_CONFLICT=`LIVE_STREAMING_TASK_CONFLICT`,A.LIVE_STREAMING_INVALID_ARGUMENT=`LIVE_STREAMING_INVALID_ARGUMENT`,A.LIVE_STREAMING_INTERNAL_SERVER_ERROR=`LIVE_STREAMING_INTERNAL_SERVER_ERROR`,A.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED=`LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED`,A.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED=`LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED`,A.LIVE_STREAMING_CDN_ERROR=`LIVE_STREAMING_CDN_ERROR`,A.LIVE_STREAMING_INVALID_RAW_STREAM=`LIVE_STREAMING_INVALID_RAW_STREAM`,A.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT=`LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT`,A.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE=`LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE`,A.LIVE_STREAMING_WARN_FREQUENT_REQUEST=`LIVE_STREAMING_WARN_FREQUENT_REQUEST`,A.WEBGL_INTERNAL_ERROR=`WEBGL_INTERNAL_ERROR`,A.BEAUTY_PROCESSOR_INTERNAL_ERROR=`BEAUTY_PROCESSOR_INTERNAL_ERROR`,A.CROSS_CHANNEL_WAIT_STATUS_ERROR=`CROSS_CHANNEL_WAIT_STATUS_ERROR`,A.CROSS_CHANNEL_FAILED_JOIN_SRC=`CROSS_CHANNEL_FAILED_JOIN_SEC`,A.CROSS_CHANNEL_FAILED_JOIN_DEST=`CROSS_CHANNEL_FAILED_JOIN_DEST`,A.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST=`CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST`,A.CROSS_CHANNEL_SERVER_ERROR_RESPONSE=`CROSS_CHANNEL_SERVER_ERROR_RESPONSE`,A.METADATA_OUT_OF_RANGE=`METADATA_OUT_OF_RANGE`,A.LOCAL_AEC_ERROR=`LOCAL_AEC_ERROR`,A.INVALID_PLUGIN=`INVALID_PLUGIN`,A.DISCONNECT_P2P=`DISCONNECT_P2P`,A.CONVERTING_IMAGEDATA_TO_BLOB_FAILED=`CONVERTING_IMAGEDATA_TO_BLOB_FAILED`,A.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED=`CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED`,A.INIT_DATACHANNEL_TIMEOUT=`INIT_DATACHANNEL_TIMEOUT`,A.CREATE_DATACHANNEL_ERROR=`CREATE_DATACHANNEL_ERROR`,A.DATACHANNEL_CONNECTION_TIMEOUT=`DATACHANNEL_CONNECTION_TIMEOUT`,A.PROHIBITED_OPERATION=`PROHIBITED_OPERATION`,A.IMAGE_MODERATION_UPLOAD_FAILED=`IMAGE_MODERATION_UPLOAD_FAILED`,A.P2P_MESSAGE_FAILED=`P2P_MESSAGE_FAILED`,A}({});var indexMinimal={},minimal$1={},aspromise,hasRequiredAspromise;function requireAspromise(){return hasRequiredAspromise?aspromise:(hasRequiredAspromise=1,aspromise=function(A,e){for(var t=Array(arguments.length-1),g=0,o=2,I=!0;o<arguments.length;)t[g++]=arguments[o++];return new Promise(function(o$1,i$1){t[g]=function(A$1){if(I)if(I=!1,A$1)i$1(A$1);else{for(var e$1=Array(arguments.length-1),t$1=0;t$1<e$1.length;)e$1[t$1++]=arguments[t$1];o$1.apply(null,e$1)}};try{A.apply(e||null,t)}catch(A$1){I&&(I=!1,i$1(A$1))}})},aspromise)}var base64$1={},hasRequiredBase64,eventemitter,hasRequiredEventemitter,float,hasRequiredFloat,inquire_1,hasRequiredInquire;function requireBase64(){return hasRequiredBase64||(hasRequiredBase64=1,function(A){var e=A;e.length=function(A$1){var e$1=A$1.length;if(!e$1)return 0;for(var t$1=0;--e$1%4>1&&A$1.charAt(e$1)===`=`;)++t$1;return Math.ceil(3*A$1.length)/4-t$1};for(var t=Array(64),g=Array(123),o=0;o<64;)g[t[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;e.encode=function(A$1,e$1,g$1){for(var o$1,I$1=null,i$1=[],r=0,n=0;e$1<g$1;){var C=A$1[e$1++];switch(n){case 0:i$1[r++]=t[C>>2],o$1=(3&C)<<4,n=1;break;case 1:i$1[r++]=t[o$1|C>>4],o$1=(15&C)<<2,n=2;break;case 2:i$1[r++]=t[o$1|C>>6],i$1[r++]=t[63&C],n=0}r>8191&&((I$1||=[]).push(String.fromCharCode.apply(String,i$1)),r=0)}return n&&(i$1[r++]=t[o$1],i$1[r++]=61,n===1&&(i$1[r++]=61)),I$1?(r&&I$1.push(String.fromCharCode.apply(String,i$1.slice(0,r))),I$1.join(``)):String.fromCharCode.apply(String,i$1.slice(0,r))};var I=`invalid encoding`;e.decode=function(A$1,e$1,t$1){for(var o$1,i$1=t$1,r=0,n=0;n<A$1.length;){var C=A$1.charCodeAt(n++);if(C===61&&r>1)break;if((C=g[C])===void 0)throw Error(I);switch(r){case 0:o$1=C,r=1;break;case 1:e$1[t$1++]=o$1<<2|(48&C)>>4,o$1=C,r=2;break;case 2:e$1[t$1++]=(15&o$1)<<4|(60&C)>>2,o$1=C,r=3;break;case 3:e$1[t$1++]=(3&o$1)<<6|C,r=0}}if(r===1)throw Error(I);return t$1-i$1},e.test=function(A$1){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(A$1)}}(base64$1)),base64$1}function requireEventemitter(){if(hasRequiredEventemitter)return eventemitter;function A(){this._listeners={}}return hasRequiredEventemitter=1,eventemitter=A,A.prototype.on=function(A$1,e,t){return(this._listeners[A$1]||(this._listeners[A$1]=[])).push({fn:e,ctx:t||this}),this},A.prototype.off=function(A$1,e){if(A$1===void 0)this._listeners={};else if(e===void 0)this._listeners[A$1]=[];else for(var t=this._listeners[A$1],g=0;g<t.length;)t[g].fn===e?t.splice(g,1):++g;return this},A.prototype.emit=function(A$1){var e=this._listeners[A$1];if(e){for(var t=[],g=1;g<arguments.length;)t.push(arguments[g++]);for(g=0;g<e.length;)e[g].fn.apply(e[g++].ctx,t)}return this},eventemitter}function requireFloat(){if(hasRequiredFloat)return float;function A(A$1){return typeof Float32Array<`u`?function(){var e$1=new Float32Array([-0]),t$1=new Uint8Array(e$1.buffer),g$1=t$1[3]===128;function o$1(A$2,g$2,o$2){e$1[0]=A$2,g$2[o$2]=t$1[0],g$2[o$2+1]=t$1[1],g$2[o$2+2]=t$1[2],g$2[o$2+3]=t$1[3]}function I(A$2,g$2,o$2){e$1[0]=A$2,g$2[o$2]=t$1[3],g$2[o$2+1]=t$1[2],g$2[o$2+2]=t$1[1],g$2[o$2+3]=t$1[0]}function i$1(A$2,g$2){return t$1[0]=A$2[g$2],t$1[1]=A$2[g$2+1],t$1[2]=A$2[g$2+2],t$1[3]=A$2[g$2+3],e$1[0]}function r(A$2,g$2){return t$1[3]=A$2[g$2],t$1[2]=A$2[g$2+1],t$1[1]=A$2[g$2+2],t$1[0]=A$2[g$2+3],e$1[0]}A$1.writeFloatLE=g$1?o$1:I,A$1.writeFloatBE=g$1?I:o$1,A$1.readFloatLE=g$1?i$1:r,A$1.readFloatBE=g$1?r:i$1}():function(){function I(A$2,e$1,t$1,g$1){var o$1=e$1<0?1:0;if(o$1&&(e$1=-e$1),e$1===0)A$2(1/e$1>0?0:2147483648,t$1,g$1);else if(isNaN(e$1))A$2(2143289344,t$1,g$1);else if(e$1>34028234663852886e22)A$2((o$1<<31|2139095040)>>>0,t$1,g$1);else if(e$1<11754943508222875e-54)A$2((o$1<<31|Math.round(e$1/1401298464324817e-60))>>>0,t$1,g$1);else{var I$1=Math.floor(Math.log(e$1)/Math.LN2);A$2((o$1<<31|I$1+127<<23|8388607&Math.round(e$1*2**-I$1*8388608))>>>0,t$1,g$1)}}function i$1(A$2,e$1,t$1){var g$1=A$2(e$1,t$1),o$1=2*(g$1>>31)+1,I$1=g$1>>>23&255,i$2=8388607&g$1;return I$1===255?i$2?NaN:o$1*(1/0):I$1===0?1401298464324817e-60*o$1*i$2:o$1*2**(I$1-150)*(i$2+8388608)}A$1.writeFloatLE=I.bind(null,e),A$1.writeFloatBE=I.bind(null,t),A$1.readFloatLE=i$1.bind(null,g),A$1.readFloatBE=i$1.bind(null,o)}(),typeof Float64Array<`u`?function(){var e$1=new Float64Array([-0]),t$1=new Uint8Array(e$1.buffer),g$1=t$1[7]===128;function o$1(A$2,g$2,o$2){e$1[0]=A$2,g$2[o$2]=t$1[0],g$2[o$2+1]=t$1[1],g$2[o$2+2]=t$1[2],g$2[o$2+3]=t$1[3],g$2[o$2+4]=t$1[4],g$2[o$2+5]=t$1[5],g$2[o$2+6]=t$1[6],g$2[o$2+7]=t$1[7]}function I(A$2,g$2,o$2){e$1[0]=A$2,g$2[o$2]=t$1[7],g$2[o$2+1]=t$1[6],g$2[o$2+2]=t$1[5],g$2[o$2+3]=t$1[4],g$2[o$2+4]=t$1[3],g$2[o$2+5]=t$1[2],g$2[o$2+6]=t$1[1],g$2[o$2+7]=t$1[0]}function i$1(A$2,g$2){return t$1[0]=A$2[g$2],t$1[1]=A$2[g$2+1],t$1[2]=A$2[g$2+2],t$1[3]=A$2[g$2+3],t$1[4]=A$2[g$2+4],t$1[5]=A$2[g$2+5],t$1[6]=A$2[g$2+6],t$1[7]=A$2[g$2+7],e$1[0]}function r(A$2,g$2){return t$1[7]=A$2[g$2],t$1[6]=A$2[g$2+1],t$1[5]=A$2[g$2+2],t$1[4]=A$2[g$2+3],t$1[3]=A$2[g$2+4],t$1[2]=A$2[g$2+5],t$1[1]=A$2[g$2+6],t$1[0]=A$2[g$2+7],e$1[0]}A$1.writeDoubleLE=g$1?o$1:I,A$1.writeDoubleBE=g$1?I:o$1,A$1.readDoubleLE=g$1?i$1:r,A$1.readDoubleBE=g$1?r:i$1}():function(){function I(A$2,e$1,t$1,g$1,o$1,I$1){var i$2=g$1<0?1:0;if(i$2&&(g$1=-g$1),g$1===0)A$2(0,o$1,I$1+e$1),A$2(1/g$1>0?0:2147483648,o$1,I$1+t$1);else if(isNaN(g$1))A$2(0,o$1,I$1+e$1),A$2(2146959360,o$1,I$1+t$1);else if(g$1>17976931348623157e292)A$2(0,o$1,I$1+e$1),A$2((i$2<<31|2146435072)>>>0,o$1,I$1+t$1);else{var r;if(g$1<22250738585072014e-324)A$2((r=g$1/5e-324)>>>0,o$1,I$1+e$1),A$2((i$2<<31|r/4294967296)>>>0,o$1,I$1+t$1);else{var n=Math.floor(Math.log(g$1)/Math.LN2);n===1024&&(n=1023),A$2(4503599627370496*(r=g$1*2**-n)>>>0,o$1,I$1+e$1),A$2((i$2<<31|n+1023<<20|1048576*r&1048575)>>>0,o$1,I$1+t$1)}}}function i$1(A$2,e$1,t$1,g$1,o$1){var I$1=A$2(g$1,o$1+e$1),i$2=A$2(g$1,o$1+t$1),r=2*(i$2>>31)+1,n=i$2>>>20&2047,C=4294967296*(1048575&i$2)+I$1;return n===2047?C?NaN:r*(1/0):n===0?5e-324*r*C:r*2**(n-1075)*(C+4503599627370496)}A$1.writeDoubleLE=I.bind(null,e,0,4),A$1.writeDoubleBE=I.bind(null,t,4,0),A$1.readDoubleLE=i$1.bind(null,g,0,4),A$1.readDoubleBE=i$1.bind(null,o,4,0)}(),A$1}function e(A$1,e$1,t$1){e$1[t$1]=255&A$1,e$1[t$1+1]=A$1>>>8&255,e$1[t$1+2]=A$1>>>16&255,e$1[t$1+3]=A$1>>>24}function t(A$1,e$1,t$1){e$1[t$1]=A$1>>>24,e$1[t$1+1]=A$1>>>16&255,e$1[t$1+2]=A$1>>>8&255,e$1[t$1+3]=255&A$1}function g(A$1,e$1){return(A$1[e$1]|A$1[e$1+1]<<8|A$1[e$1+2]<<16|A$1[e$1+3]<<24)>>>0}function o(A$1,e$1){return(A$1[e$1]<<24|A$1[e$1+1]<<16|A$1[e$1+2]<<8|A$1[e$1+3])>>>0}return hasRequiredFloat=1,float=A(A)}function requireInquire(){if(hasRequiredInquire)return inquire_1;function inquire(moduleName){try{var mod=eval(`quire`.replace(/^/,`re`))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch{}return null}return hasRequiredInquire=1,inquire_1=inquire,inquire_1}var utf8$2={},hasRequiredUtf8,pool_1,hasRequiredPool,longbits,hasRequiredLongbits,hasRequiredMinimal;function requireUtf8(){return hasRequiredUtf8||(hasRequiredUtf8=1,function(A){var e=A;e.length=function(A$1){for(var e$1=0,t=0,g=0;g<A$1.length;++g)(t=A$1.charCodeAt(g))<128?e$1+=1:t<2048?e$1+=2:(64512&t)==55296&&(64512&A$1.charCodeAt(g+1))==56320?(++g,e$1+=4):e$1+=3;return e$1},e.read=function(A$1,e$1,t){if(t-e$1<1)return``;for(var g,o=null,I=[],i$1=0;e$1<t;)(g=A$1[e$1++])<128?I[i$1++]=g:g>191&&g<224?I[i$1++]=(31&g)<<6|63&A$1[e$1++]:g>239&&g<365?(g=((7&g)<<18|(63&A$1[e$1++])<<12|(63&A$1[e$1++])<<6|63&A$1[e$1++])-65536,I[i$1++]=55296+(g>>10),I[i$1++]=56320+(1023&g)):I[i$1++]=(15&g)<<12|(63&A$1[e$1++])<<6|63&A$1[e$1++],i$1>8191&&((o||=[]).push(String.fromCharCode.apply(String,I)),i$1=0);return o?(i$1&&o.push(String.fromCharCode.apply(String,I.slice(0,i$1))),o.join(``)):String.fromCharCode.apply(String,I.slice(0,i$1))},e.write=function(A$1,e$1,t){for(var g,o,I=t,i$1=0;i$1<A$1.length;++i$1)(g=A$1.charCodeAt(i$1))<128?e$1[t++]=g:g<2048?(e$1[t++]=g>>6|192,e$1[t++]=63&g|128):(64512&g)==55296&&(64512&(o=A$1.charCodeAt(i$1+1)))==56320?(g=65536+((1023&g)<<10)+(1023&o),++i$1,e$1[t++]=g>>18|240,e$1[t++]=g>>12&63|128,e$1[t++]=g>>6&63|128,e$1[t++]=63&g|128):(e$1[t++]=g>>12|224,e$1[t++]=g>>6&63|128,e$1[t++]=63&g|128);return t-I}}(utf8$2)),utf8$2}function requirePool(){return hasRequiredPool?pool_1:(hasRequiredPool=1,pool_1=function(A,e,t){var g=t||8192,o=g>>>1,I=null,i$1=g;return function(t$1){if(t$1<1||t$1>o)return A(t$1);i$1+t$1>g&&(I=A(g),i$1=0);var r=e.call(I,i$1,i$1+=t$1);return 7&i$1&&(i$1=1+(7|i$1)),r}})}function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=e;var A=requireMinimal();function e(A$1,e$1){this.lo=A$1>>>0,this.hi=e$1>>>0}var t=e.zero=new e(0,0);t.toNumber=function(){return 0},t.zzEncode=t.zzDecode=function(){return this},t.length=function(){return 1};var g=e.zeroHash=`\0\0\0\0\0\0\0\0`;e.fromNumber=function(A$1){if(A$1===0)return t;var g$1=A$1<0;g$1&&(A$1=-A$1);var o$1=A$1>>>0,I=(A$1-o$1)/4294967296>>>0;return g$1&&(I=~I>>>0,o$1=~o$1>>>0,++o$1>4294967295&&(o$1=0,++I>4294967295&&(I=0))),new e(o$1,I)},e.from=function(g$1){if(typeof g$1==`number`)return e.fromNumber(g$1);if(A.isString(g$1)){if(!A.Long)return e.fromNumber(parseInt(g$1,10));g$1=A.Long.fromString(g$1)}return g$1.low||g$1.high?new e(g$1.low>>>0,g$1.high>>>0):t},e.prototype.toNumber=function(A$1){if(!A$1&&this.hi>>>31){var e$1=1+~this.lo>>>0,t$1=~this.hi>>>0;return e$1||(t$1=t$1+1>>>0),-(e$1+4294967296*t$1)}return this.lo+4294967296*this.hi},e.prototype.toLong=function(e$1){return A.Long?new A.Long(0|this.lo,0|this.hi,!!e$1):{low:0|this.lo,high:0|this.hi,unsigned:!!e$1}};var o=String.prototype.charCodeAt;return e.fromHash=function(A$1){return A$1===g?t:new e((o.call(A$1,0)|o.call(A$1,1)<<8|o.call(A$1,2)<<16|o.call(A$1,3)<<24)>>>0,(o.call(A$1,4)|o.call(A$1,5)<<8|o.call(A$1,6)<<16|o.call(A$1,7)<<24)>>>0)},e.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},e.prototype.zzEncode=function(){var A$1=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^A$1)>>>0,this.lo=(this.lo<<1^A$1)>>>0,this},e.prototype.zzDecode=function(){var A$1=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^A$1)>>>0,this.hi=(this.hi>>>1^A$1)>>>0,this},e.prototype.length=function(){var A$1=this.lo,e$1=(this.lo>>>28|this.hi<<4)>>>0,t$1=this.hi>>>24;return t$1===0?e$1===0?A$1<16384?A$1<128?1:2:A$1<2097152?3:4:e$1<16384?e$1<128?5:6:e$1<2097152?7:8:t$1<128?9:10},longbits}function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(A){var e=A;function t(A$1,e$1,t$1){for(var g$1=Object.keys(e$1),o=0;o<g$1.length;++o)A$1[g$1[o]]!==void 0&&t$1||(A$1[g$1[o]]=e$1[g$1[o]]);return A$1}function g(A$1){function e$1(A$2,g$1){if(!(this instanceof e$1))return new e$1(A$2,g$1);Object.defineProperty(this,`message`,{get:function(){return A$2}}),Error.captureStackTrace?Error.captureStackTrace(this,e$1):Object.defineProperty(this,`stack`,{value:Error().stack||``}),g$1&&t(this,g$1)}return e$1.prototype=Object.create(Error.prototype,{constructor:{value:e$1,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return A$1},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+`: `+this.message},writable:!0,enumerable:!1,configurable:!0}}),e$1}e.asPromise=requireAspromise(),e.base64=requireBase64(),e.EventEmitter=requireEventemitter(),e.float=requireFloat(),e.inquire=requireInquire(),e.utf8=requireUtf8(),e.pool=requirePool(),e.LongBits=requireLongbits(),e.isNode=!!(commonjsGlobal!==void 0&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),e.global=e.isNode&&commonjsGlobal||typeof window<`u`&&window||typeof self<`u`&&self||commonjsGlobal,e.emptyArray=Object.freeze?Object.freeze([]):[],e.emptyObject=Object.freeze?Object.freeze({}):{},e.isInteger=Number.isInteger||function(A$1){return typeof A$1==`number`&&isFinite(A$1)&&Math.floor(A$1)===A$1},e.isString=function(A$1){return typeof A$1==`string`||A$1 instanceof String},e.isObject=function(A$1){return A$1&&typeof A$1==`object`},e.isset=e.isSet=function(A$1,e$1){var t$1=A$1[e$1];return!(t$1==null||!A$1.hasOwnProperty(e$1))&&(typeof t$1!=`object`||(Array.isArray(t$1)?t$1.length:Object.keys(t$1).length)>0)},e.Buffer=function(){try{var A$1=e.inquire(`buffer`).Buffer;return A$1.prototype.utf8Write?A$1:null}catch{return null}}(),e._Buffer_from=null,e._Buffer_allocUnsafe=null,e.newBuffer=function(A$1){return typeof A$1==`number`?e.Buffer?e._Buffer_allocUnsafe(A$1):new e.Array(A$1):e.Buffer?e._Buffer_from(A$1):typeof Uint8Array>`u`?A$1:new Uint8Array(A$1)},e.Array=typeof Uint8Array<`u`?Uint8Array:Array,e.Long=e.global.dcodeIO&&e.global.dcodeIO.Long||e.global.Long||e.inquire(`long`),e.key2Re=/^true|false|0|1$/,e.key32Re=/^-?(?:0|[1-9][0-9]*)$/,e.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,e.longToHash=function(A$1){return A$1?e.LongBits.from(A$1).toHash():e.LongBits.zeroHash},e.longFromHash=function(A$1,t$1){var g$1=e.LongBits.fromHash(A$1);return e.Long?e.Long.fromBits(g$1.lo,g$1.hi,t$1):g$1.toNumber(!!t$1)},e.merge=t,e.lcFirst=function(A$1){return A$1.charAt(0).toLowerCase()+A$1.substring(1)},e.newError=g,e.ProtocolError=g(`ProtocolError`),e.oneOfGetter=function(A$1){for(var e$1={},t$1=0;t$1<A$1.length;++t$1)e$1[A$1[t$1]]=1;return function(){for(var A$2=Object.keys(this),t$2=A$2.length-1;t$2>-1;--t$2)if(e$1[A$2[t$2]]===1&&this[A$2[t$2]]!==void 0&&this[A$2[t$2]]!==null)return A$2[t$2]}},e.oneOfSetter=function(A$1){return function(e$1){for(var t$1=0;t$1<A$1.length;++t$1)A$1[t$1]!==e$1&&delete this[A$1[t$1]]}},e.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},e._configure=function(){var A$1=e.Buffer;A$1?(e._Buffer_from=A$1.from!==Uint8Array.from&&A$1.from||function(e$1,t$1){return new A$1(e$1,t$1)},e._Buffer_allocUnsafe=A$1.allocUnsafe||function(e$1){return new A$1(e$1)}):e._Buffer_from=e._Buffer_allocUnsafe=null}}(minimal$1)),minimal$1}var writer=Writer$1,util$4=requireMinimal(),BufferWriter$1,LongBits$1=util$4.LongBits,base64=util$4.base64,utf8$1=util$4.utf8;function Op(A,e,t){this.fn=A,this.len=e,this.next=void 0,this.val=t}function noop(){}function State(A){this.head=A.head,this.tail=A.tail,this.len=A.len,this.next=A.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$1=function(){return util$4.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};function writeByte(A,e,t){e[t]=255&A}function writeVarint32(A,e,t){for(;A>127;)e[t++]=127&A|128,A>>>=7;e[t]=A}function VarintOp(A,e){this.len=A,this.next=void 0,this.val=e}function writeVarint64(A,e,t){for(;A.hi;)e[t++]=127&A.lo|128,A.lo=(A.lo>>>7|A.hi<<25)>>>0,A.hi>>>=7;for(;A.lo>127;)e[t++]=127&A.lo|128,A.lo>>>=7;e[t++]=A.lo}function writeFixed32(A,e,t){e[t]=255&A,e[t+1]=A>>>8&255,e[t+2]=A>>>16&255,e[t+3]=A>>>24}Writer$1.create=create$1(),Writer$1.alloc=function(A){return new util$4.Array(A)},util$4.Array!==Array&&(Writer$1.alloc=util$4.pool(Writer$1.alloc,util$4.Array.prototype.subarray)),Writer$1.prototype._push=function(A,e,t){return this.tail=this.tail.next=new Op(A,e,t),this.len+=e,this},VarintOp.prototype=Object.create(Op.prototype),VarintOp.prototype.fn=writeVarint32,Writer$1.prototype.uint32=function(A){return this.len+=(this.tail=this.tail.next=new VarintOp((A>>>=0)<128?1:A<16384?2:A<2097152?3:A<268435456?4:5,A)).len,this},Writer$1.prototype.int32=function(A){return A<0?this._push(writeVarint64,10,LongBits$1.fromNumber(A)):this.uint32(A)},Writer$1.prototype.sint32=function(A){return this.uint32((A<<1^A>>31)>>>0)},Writer$1.prototype.uint64=function(A){var e=LongBits$1.from(A);return this._push(writeVarint64,e.length(),e)},Writer$1.prototype.int64=Writer$1.prototype.uint64,Writer$1.prototype.sint64=function(A){var e=LongBits$1.from(A).zzEncode();return this._push(writeVarint64,e.length(),e)},Writer$1.prototype.bool=function(A){return this._push(writeByte,1,A?1:0)},Writer$1.prototype.fixed32=function(A){return this._push(writeFixed32,4,A>>>0)},Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32,Writer$1.prototype.fixed64=function(A){var e=LongBits$1.from(A);return this._push(writeFixed32,4,e.lo)._push(writeFixed32,4,e.hi)},Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64,Writer$1.prototype.float=function(A){return this._push(util$4.float.writeFloatLE,4,A)},Writer$1.prototype.double=function(A){return this._push(util$4.float.writeDoubleLE,8,A)};var writeBytes=util$4.Array.prototype.set?function(A,e,t){e.set(A,t)}:function(A,e,t){for(var g=0;g<A.length;++g)e[t+g]=A[g]};Writer$1.prototype.bytes=function(A){var e=A.length>>>0;if(!e)return this._push(writeByte,1,0);if(util$4.isString(A)){var t=Writer$1.alloc(e=base64.length(A));base64.decode(A,t,0),A=t}return this.uint32(e)._push(writeBytes,e,A)},Writer$1.prototype.string=function(A){var e=utf8$1.length(A);return e?this.uint32(e)._push(utf8$1.write,e,A):this._push(writeByte,1,0)},Writer$1.prototype.fork=function(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this},Writer$1.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this},Writer$1.prototype.ldelim=function(){var A=this.head,e=this.tail,t=this.len;return this.reset().uint32(t),t&&(this.tail.next=A.next,this.tail=e,this.len+=t),this},Writer$1.prototype.finish=function(){for(var A=this.head.next,e=this.constructor.alloc(this.len),t=0;A;)A.fn(A.val,e,t),t+=A.len,A=A.next;return e},Writer$1._configure=function(A){BufferWriter$1=A,Writer$1.create=create$1(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$3=requireMinimal();function BufferWriter(){Writer.call(this)}function writeStringBuffer(A,e,t){A.length<40?util$3.utf8.write(A,e,t):e.utf8Write?e.utf8Write(A,t):e.write(A,t)}BufferWriter._configure=function(){BufferWriter.alloc=util$3._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$3.Buffer&&util$3.Buffer.prototype instanceof Uint8Array&&util$3.Buffer.prototype.set.name===`set`?function(A,e,t){e.set(A,t)}:function(A,e,t){if(A.copy)A.copy(e,t,0,A.length);else for(var g=0;g<A.length;)e[t++]=A[g++]}},BufferWriter.prototype.bytes=function(A){util$3.isString(A)&&(A=util$3._Buffer_from(A,`base64`));var e=A.length>>>0;return this.uint32(e),e&&this._push(BufferWriter.writeBytesBuffer,e,A),this},BufferWriter.prototype.string=function(A){var e=util$3.Buffer.byteLength(A);return this.uint32(e),e&&this._push(writeStringBuffer,e,A),this},BufferWriter._configure();var reader=Reader$1,util$2=requireMinimal(),BufferReader$1,LongBits=util$2.LongBits,utf8=util$2.utf8;function indexOutOfRange(A,e){return RangeError(`index out of range: `+A.pos+` + `+(e||1)+` > `+A.len)}function Reader$1(A){this.buf=A,this.pos=0,this.len=A.length}var create_array=typeof Uint8Array<`u`?function(A){if(A instanceof Uint8Array||Array.isArray(A))return new Reader$1(A);throw Error(`illegal buffer`)}:function(A){if(Array.isArray(A))return new Reader$1(A);throw Error(`illegal buffer`)},create=function(){return util$2.Buffer?function(A){return(Reader$1.create=function(A$1){return util$2.Buffer.isBuffer(A$1)?new BufferReader$1(A$1):create_array(A$1)})(A)}:create_array},value;function readLongVarint(){var A=new LongBits(0,0),e=0;if(!(this.len-this.pos>4)){for(;e<3;++e){if(this.pos>=this.len)throw indexOutOfRange(this);if(A.lo=(A.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return A}return A.lo=(A.lo|(127&this.buf[this.pos++])<<7*e)>>>0,A}for(;e<4;++e)if(A.lo=(A.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return A;if(A.lo=(A.lo|(127&this.buf[this.pos])<<28)>>>0,A.hi=(A.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return A;if(e=0,this.len-this.pos>4){for(;e<5;++e)if(A.hi=(A.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return A}else for(;e<5;++e){if(this.pos>=this.len)throw indexOutOfRange(this);if(A.hi=(A.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return A}throw Error(`invalid varint encoding`)}function readFixed32_end(A,e){return(A[e-4]|A[e-3]<<8|A[e-2]<<16|A[e-1]<<24)>>>0}function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.create=create(),Reader$1.prototype._slice=util$2.Array.prototype.subarray||util$2.Array.prototype.slice,Reader$1.prototype.uint32=(value=4294967295,function(){if(value=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(value=(value|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(value=(value|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(value=(value|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(value=(value|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return value;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return value}),Reader$1.prototype.int32=function(){return 0|this.uint32()},Reader$1.prototype.sint32=function(){var A=this.uint32();return A>>>1^-(1&A)},Reader$1.prototype.bool=function(){return this.uint32()!==0},Reader$1.prototype.fixed32=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)},Reader$1.prototype.sfixed32=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return 0|readFixed32_end(this.buf,this.pos+=4)},Reader$1.prototype.float=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var A=util$2.float.readFloatLE(this.buf,this.pos);return this.pos+=4,A},Reader$1.prototype.double=function(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var A=util$2.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,A},Reader$1.prototype.bytes=function(){var A=this.uint32(),e=this.pos,t=this.pos+A;if(t>this.len)throw indexOutOfRange(this,A);if(this.pos+=A,Array.isArray(this.buf))return this.buf.slice(e,t);if(e===t){var g=util$2.Buffer;return g?g.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,e,t)},Reader$1.prototype.string=function(){var A=this.bytes();return utf8.read(A,0,A.length)},Reader$1.prototype.skip=function(A){if(typeof A==`number`){if(this.pos+A>this.len)throw indexOutOfRange(this,A);this.pos+=A}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(128&this.buf[this.pos++]);return this},Reader$1.prototype.skipType=function(A){switch(A){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(A=7&this.uint32())!=4;)this.skipType(A);break;case 5:this.skip(4);break;default:throw Error(`invalid wire type `+A+` at offset `+this.pos)}return this},Reader$1._configure=function(A){BufferReader$1=A,Reader$1.create=create(),BufferReader$1._configure();var e=util$2.Long?`toLong`:`toNumber`;util$2.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[e](!1)},uint64:function(){return readLongVarint.call(this)[e](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[e](!1)},fixed64:function(){return readFixed64.call(this)[e](!0)},sfixed64:function(){return readFixed64.call(this)[e](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$1=requireMinimal();function BufferReader(A){Reader.call(this,A)}BufferReader._configure=function(){util$1.Buffer&&(BufferReader.prototype._slice=util$1.Buffer.prototype.slice)},BufferReader.prototype.string=function(){var A=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+A,this.len)):this.buf.toString(`utf-8`,this.pos,this.pos=Math.min(this.pos+A,this.len))},BufferReader._configure();var rpc={},service=Service,util=requireMinimal();function Service(A,e,t){if(typeof A!=`function`)throw TypeError(`rpcImpl must be a function`);util.EventEmitter.call(this),this.rpcImpl=A,this.requestDelimited=!!e,this.responseDelimited=!!t}(Service.prototype=Object.create(util.EventEmitter.prototype)).constructor=Service,Service.prototype.rpcCall=function A(e,t,g,o,I){if(!o)throw TypeError(`request must be specified`);var i$1=this;if(!I)return util.asPromise(A,i$1,e,t,g,o);if(i$1.rpcImpl)try{return i$1.rpcImpl(e,t[i$1.requestDelimited?`encodeDelimited`:`encode`](o).finish(),function(A$1,t$1){if(A$1)return i$1.emit(`error`,A$1,e),I(A$1);if(t$1!==null){if(!(t$1 instanceof g))try{t$1=g[i$1.responseDelimited?`decodeDelimited`:`decode`](t$1)}catch(A$2){return i$1.emit(`error`,A$2,e),I(A$2)}return i$1.emit(`data`,t$1,e),I(null,t$1)}i$1.end(!0)})}catch(A$1){i$1.emit(`error`,A$1,e),setTimeout(function(){I(A$1)},0);return}else setTimeout(function(){I(Error(`already ended`))},0)},Service.prototype.end=function(A){return this.rpcImpl&&(A||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit(`end`).off()),this},function(A){A.Service=service}(rpc);var roots={};(function(A){var e=A;function t(){e.util._configure(),e.Writer._configure(e.BufferWriter),e.Reader._configure(e.BufferReader)}e.build=`minimal`,e.Writer=writer,e.BufferWriter=writer_buffer,e.Reader=reader,e.BufferReader=reader_buffer,e.util=requireMinimal(),e.rpc=rpc,e.roots=roots,e.configure=t,t()})(indexMinimal);const Long=umdExports,minimal=indexMinimal;minimal.util.Long=Long,minimal.configure();var minimal_1=minimal;const $Reader$1=minimal_1.Reader,$Writer$2=minimal_1.Writer,$util$2=minimal_1.util,$root$2=minimal_1.roots.default||(minimal_1.roots.default={}),TopicMetadata=$root$2.TopicMetadata=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.topic=``,A.prototype.metadata=``,A.encode=function(A$1,e){return e||=$Writer$2.create(),A$1.topic!=null&&Object.hasOwnProperty.call(A$1,`topic`)&&e.uint32(10).string(A$1.topic),A$1.metadata!=null&&Object.hasOwnProperty.call(A$1,`metadata`)&&e.uint32(18).string(A$1.metadata),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader$1||(A$1=$Reader$1.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$2.TopicMetadata;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.topic=A$1.string();break;case 2:o.metadata=A$1.string();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/TopicMetadata`},A})(),StreamMessageProtocol=$root$2.StreamMessageProtocol=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.messageType=0,A.prototype.payload=$util$2.newBuffer([]),A.prototype.payloadLength=0,A.prototype.sequence=$util$2.Long?$util$2.Long.fromBits(0,0,!1):0,A.prototype.sendTs=$util$2.Long?$util$2.Long.fromBits(0,0,!1):0,A.prototype.encrypted=!1,A.prototype.customType=``,A.encode=function(A$1,e){return e||=$Writer$2.create(),A$1.messageType!=null&&Object.hasOwnProperty.call(A$1,`messageType`)&&e.uint32(8).int32(A$1.messageType),A$1.payload!=null&&Object.hasOwnProperty.call(A$1,`payload`)&&e.uint32(18).bytes(A$1.payload),A$1.payloadLength!=null&&Object.hasOwnProperty.call(A$1,`payloadLength`)&&e.uint32(24).int32(A$1.payloadLength),A$1.sequence!=null&&Object.hasOwnProperty.call(A$1,`sequence`)&&e.uint32(32).int64(A$1.sequence),A$1.sendTs!=null&&Object.hasOwnProperty.call(A$1,`sendTs`)&&e.uint32(40).int64(A$1.sendTs),A$1.encrypted!=null&&Object.hasOwnProperty.call(A$1,`encrypted`)&&e.uint32(48).bool(A$1.encrypted),A$1.customType!=null&&Object.hasOwnProperty.call(A$1,`customType`)&&e.uint32(58).string(A$1.customType),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader$1||(A$1=$Reader$1.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$2.StreamMessageProtocol;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.messageType=A$1.int32();break;case 2:o.payload=A$1.bytes();break;case 3:o.payloadLength=A$1.int32();break;case 4:o.sequence=A$1.int64();break;case 5:o.sendTs=A$1.int64();break;case 6:o.encrypted=A$1.bool();break;case 7:o.customType=A$1.string();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/StreamMessageProtocol`},A})();let RTMStreamChannelStatusCode;(function(A){A.SubscribeTopicErrorCode=function(A$1){return A$1[A$1.NO_ERROR=0]=`NO_ERROR`,A$1[A$1.PARTIALLY_SUCCESSFUL=1]=`PARTIALLY_SUCCESSFUL`,A$1[A$1.ALL_FAILED=2]=`ALL_FAILED`,A$1[A$1.UNKNOWN_ERROR=3]=`UNKNOWN_ERROR`,A$1[A$1.INVALID_PARAMS=4]=`INVALID_PARAMS`,A$1[A$1.REMOTE_USER_IS_NOT_PUBLISHED=5]=`REMOTE_USER_IS_NOT_PUBLISHED`,A$1[A$1.INVALID_REMOTE_USER=6]=`INVALID_REMOTE_USER`,A$1[A$1.TIMEOUT=7]=`TIMEOUT`,A$1[A$1.ALREADY_SUBSCRIBED_USER=20001]=`ALREADY_SUBSCRIBED_USER`,A$1[A$1.SUB_USER_EXCEED_LIMITATION=20003]=`SUB_USER_EXCEED_LIMITATION`,A$1[A$1.NOT_SUBSCRIBED_USER=20004]=`NOT_SUBSCRIBED_USER`,A$1}({})})(RTMStreamChannelStatusCode||={});var isMobile$2={exports:{}};isMobile$2.exports=isMobile,isMobile$2.exports.isMobile=isMobile,isMobile$2.exports.default=isMobile;const mobileRE=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,notMobileRE=/CrOS/,tabletRE=/android|ipad|playbook|silk/i;function isMobile(A){A||={};let e=A.ua;if(e||typeof navigator>`u`||(e=navigator.userAgent),e&&e.headers&&typeof e.headers[`user-agent`]==`string`&&(e=e.headers[`user-agent`]),typeof e!=`string`)return!1;let t=mobileRE.test(e)&&!notMobileRE.test(e)||!!A.tablet&&tabletRE.test(e);return!t&&A.tablet&&A.featureDetect&&navigator&&navigator.maxTouchPoints>1&&e.indexOf(`Macintosh`)!==-1&&e.indexOf(`Safari`)!==-1&&(t=!0),t}var isMobileExports=isMobile$2.exports,isMobile$1=getDefaultExportFromCjs(isMobileExports),defaultProtocols=[],defaultWebsocketFactory=function(A,e){return new WebSocket(A,e)},normalClosureMessage=`Normal closure`;function makeWebSocketObservable(A,e){var t=e===void 0?{protocols:defaultProtocols,makeWebSocket:defaultWebsocketFactory}:e,g=t.protocols,o=g===void 0?defaultProtocols:g,I=t.makeWebSocket,i$1=I===void 0?defaultWebsocketFactory:I;return new Observable(function(e$1){var t$1,g$1=new Subject,I$1=i$1(A,o),r=!1,n=!1,C=!1,E=function(){r=!0},s=function(A$1){if(t$1){E();var o$1=Error(`Web socket message factory function called more than once`);throw e$1.error(o$1),o$1}return t$1=A$1.subscribe(function(A$2){I$1.send(A$2)}),g$1};return I$1.onopen=function(){C=!0,n?(r=!0,I$1.close()):e$1.next(s)},I$1.onmessage=function(A$1){g$1.next(A$1.data)},I$1.onerror=function(A$1){E(),e$1.error(Error(A$1.message))},I$1.onclose=function(A$1){r||(E(),n?(e$1.complete(),g$1.complete()):e$1.error(Error(A$1.code===1e3?normalClosureMessage:A$1.reason)))},function(){n=!0,t$1&&t$1.unsubscribe(),r||(E(),C&&I$1.close())}})}const $Reader=minimal_1.Reader,$Writer$1=minimal_1.Writer,$util$1=minimal_1.util,$root$1=minimal_1.roots.default||(minimal_1.roots.default={}),Wrapper$1=$root$1.Wrapper=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.uri=0,A.prototype.data=$util$1.newBuffer([]),A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.uri!=null&&Object.hasOwnProperty.call(A$1,`uri`)&&e.uint32(8).int32(A$1.uri),A$1.data!=null&&Object.hasOwnProperty.call(A$1,`data`)&&e.uint32(18).bytes(A$1.data),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.Wrapper;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.uri=A$1.int32();break;case 2:o.data=A$1.bytes();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/Wrapper`},A})(),Ping3=$root$1.Ping3=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.ms=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.seq!=null&&Object.hasOwnProperty.call(A$1,`seq`)&&e.uint32(8).uint64(A$1.seq),A$1.ms!=null&&Object.hasOwnProperty.call(A$1,`ms`)&&e.uint32(16).uint64(A$1.ms),A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(24).uint64(A$1.flags),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.Ping3;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.seq=A$1.uint64();break;case 2:o.ms=A$1.uint64();break;case 3:o.flags=A$1.uint64();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/Ping3`},A})(),Pong3=$root$1.Pong3=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.ms=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.serverMs=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.seq!=null&&Object.hasOwnProperty.call(A$1,`seq`)&&e.uint32(8).uint64(A$1.seq),A$1.ms!=null&&Object.hasOwnProperty.call(A$1,`ms`)&&e.uint32(16).uint64(A$1.ms),A$1.serverMs!=null&&Object.hasOwnProperty.call(A$1,`serverMs`)&&e.uint32(24).uint64(A$1.serverMs),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.Pong3;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.seq=A$1.uint64();break;case 2:o.ms=A$1.uint64();break;case 3:o.serverMs=A$1.uint64();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/Pong3`},A})(),UserJoin2=$root$1.UserJoin2=(()=>{function A(A$1){if(this.detail={},A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.opt=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.instance=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.account=``,A.prototype.ticket=``,A.prototype.detail=$util$1.emptyObject,A.encode=function(A$1,e){if(e||=$Writer$1.create(),A$1.seq!=null&&Object.hasOwnProperty.call(A$1,`seq`)&&e.uint32(8).uint64(A$1.seq),A$1.opt!=null&&Object.hasOwnProperty.call(A$1,`opt`)&&e.uint32(16).uint64(A$1.opt),A$1.instance!=null&&Object.hasOwnProperty.call(A$1,`instance`)&&e.uint32(24).uint64(A$1.instance),A$1.account!=null&&Object.hasOwnProperty.call(A$1,`account`)&&e.uint32(34).string(A$1.account),A$1.ticket!=null&&Object.hasOwnProperty.call(A$1,`ticket`)&&e.uint32(42).string(A$1.ticket),A$1.detail!=null&&Object.hasOwnProperty.call(A$1,`detail`))for(let t=Object.keys(A$1.detail),g=0;g<t.length;++g)e.uint32(50).fork().uint32(8).uint32(t[g]).uint32(18).bytes(A$1.detail[t[g]]).ldelim();return e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g,o,I=e===void 0?A$1.len:A$1.pos+e,i$1=new $root$1.UserJoin2;for(;A$1.pos<I;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:i$1.seq=A$1.uint64();break;case 2:i$1.opt=A$1.uint64();break;case 3:i$1.instance=A$1.uint64();break;case 4:i$1.account=A$1.string();break;case 5:i$1.ticket=A$1.string();break;case 6:{i$1.detail===$util$1.emptyObject&&(i$1.detail={});let e$2=A$1.uint32()+A$1.pos;for(g=0,o=[];A$1.pos<e$2;){let e$3=A$1.uint32();switch(e$3>>>3){case 1:g=A$1.uint32();break;case 2:o=A$1.bytes();break;default:A$1.skipType(7&e$3)}}i$1.detail[g]=o;break}default:A$1.skipType(7&e$1)}}return i$1},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/UserJoin2`},A})(),UserResp2=$root$1.UserResp2=(()=>{function A(A$1){if(this.detail={},A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.account=``,A.prototype.code=0,A.prototype.serverTs=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.detail=$util$1.emptyObject,A.encode=function(A$1,e){if(e||=$Writer$1.create(),A$1.seq!=null&&Object.hasOwnProperty.call(A$1,`seq`)&&e.uint32(8).uint64(A$1.seq),A$1.account!=null&&Object.hasOwnProperty.call(A$1,`account`)&&e.uint32(18).string(A$1.account),A$1.code!=null&&Object.hasOwnProperty.call(A$1,`code`)&&e.uint32(24).uint32(A$1.code),A$1.serverTs!=null&&Object.hasOwnProperty.call(A$1,`serverTs`)&&e.uint32(32).uint64(A$1.serverTs),A$1.detail!=null&&Object.hasOwnProperty.call(A$1,`detail`))for(let t=Object.keys(A$1.detail),g=0;g<t.length;++g)e.uint32(42).fork().uint32(8).uint32(t[g]).uint32(18).bytes(A$1.detail[t[g]]).ldelim();return e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g,o,I=e===void 0?A$1.len:A$1.pos+e,i$1=new $root$1.UserResp2;for(;A$1.pos<I;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:i$1.seq=A$1.uint64();break;case 2:i$1.account=A$1.string();break;case 3:i$1.code=A$1.uint32();break;case 4:i$1.serverTs=A$1.uint64();break;case 5:{i$1.detail===$util$1.emptyObject&&(i$1.detail={});let e$2=A$1.uint32()+A$1.pos;for(g=0,o=[];A$1.pos<e$2;){let e$3=A$1.uint32();switch(e$3>>>3){case 1:g=A$1.uint32();break;case 2:o=A$1.bytes();break;default:A$1.skipType(7&e$3)}}i$1.detail[g]=o;break}default:A$1.skipType(7&e$1)}}return i$1},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/UserResp2`},A})(),UserQuit2=$root$1.UserQuit2=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(8).uint64(A$1.flags),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.UserQuit2;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;e$1>>>3==1?o.flags=A$1.uint64():A$1.skipType(7&e$1)}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/UserQuit2`},A})(),UserDrop=$root$1.UserDrop=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.code=0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.code!=null&&Object.hasOwnProperty.call(A$1,`code`)&&e.uint32(8).uint32(A$1.code),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.UserDrop;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;e$1>>>3==1?o.code=A$1.uint32():A$1.skipType(7&e$1)}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/UserDrop`},A})(),UserTicketNearlyExpire=$root$1.UserTicketNearlyExpire=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.expireTs=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.ticket=``,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.expireTs!=null&&Object.hasOwnProperty.call(A$1,`expireTs`)&&e.uint32(8).uint64(A$1.expireTs),A$1.ticket!=null&&Object.hasOwnProperty.call(A$1,`ticket`)&&e.uint32(18).string(A$1.ticket),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.UserTicketNearlyExpire;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.expireTs=A$1.uint64();break;case 2:o.ticket=A$1.string();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/UserTicketNearlyExpire`},A})(),UserTicketNearlyExpire2=$root$1.UserTicketNearlyExpire2=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.expireTs=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.ticket=``,A.prototype.resources=``,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.expireTs!=null&&Object.hasOwnProperty.call(A$1,`expireTs`)&&e.uint32(8).uint64(A$1.expireTs),A$1.ticket!=null&&Object.hasOwnProperty.call(A$1,`ticket`)&&e.uint32(18).string(A$1.ticket),A$1.resources!=null&&Object.hasOwnProperty.call(A$1,`resources`)&&e.uint32(26).string(A$1.resources),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.UserTicketNearlyExpire2;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.expireTs=A$1.uint64();break;case 2:o.ticket=A$1.string();break;case 3:o.resources=A$1.string();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/UserTicketNearlyExpire2`},A})(),UserRenewTokenReq=$root$1.UserRenewTokenReq=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.instance=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.account=``,A.prototype.ticket=``,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.instance!=null&&Object.hasOwnProperty.call(A$1,`instance`)&&e.uint32(8).uint64(A$1.instance),A$1.seq!=null&&Object.hasOwnProperty.call(A$1,`seq`)&&e.uint32(16).uint64(A$1.seq),A$1.account!=null&&Object.hasOwnProperty.call(A$1,`account`)&&e.uint32(26).string(A$1.account),A$1.ticket!=null&&Object.hasOwnProperty.call(A$1,`ticket`)&&e.uint32(34).string(A$1.ticket),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.UserRenewTokenReq;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.instance=A$1.uint64();break;case 2:o.seq=A$1.uint64();break;case 3:o.account=A$1.string();break;case 4:o.ticket=A$1.string();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/UserRenewTokenReq`},A})(),UserRenewTokenResp=$root$1.UserRenewTokenResp=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.code=0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.seq!=null&&Object.hasOwnProperty.call(A$1,`seq`)&&e.uint32(8).uint64(A$1.seq),A$1.code!=null&&Object.hasOwnProperty.call(A$1,`code`)&&e.uint32(16).uint32(A$1.code),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.UserRenewTokenResp;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.seq=A$1.uint64();break;case 2:o.code=A$1.uint32();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/UserRenewTokenResp`},A})(),UserRenewToken2Req=$root$1.UserRenewToken2Req=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.instance=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.account=``,A.prototype.ticket=``,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.instance!=null&&Object.hasOwnProperty.call(A$1,`instance`)&&e.uint32(8).uint64(A$1.instance),A$1.seq!=null&&Object.hasOwnProperty.call(A$1,`seq`)&&e.uint32(16).uint64(A$1.seq),A$1.account!=null&&Object.hasOwnProperty.call(A$1,`account`)&&e.uint32(26).string(A$1.account),A$1.ticket!=null&&Object.hasOwnProperty.call(A$1,`ticket`)&&e.uint32(34).string(A$1.ticket),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.UserRenewToken2Req;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.instance=A$1.uint64();break;case 2:o.seq=A$1.uint64();break;case 3:o.account=A$1.string();break;case 4:o.ticket=A$1.string();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/UserRenewToken2Req`},A})(),UserRenewToken2Resp=$root$1.UserRenewToken2Resp=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.code=0,A.prototype.revoked=``,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.seq!=null&&Object.hasOwnProperty.call(A$1,`seq`)&&e.uint32(8).uint64(A$1.seq),A$1.code!=null&&Object.hasOwnProperty.call(A$1,`code`)&&e.uint32(16).uint32(A$1.code),A$1.revoked!=null&&Object.hasOwnProperty.call(A$1,`revoked`)&&e.uint32(26).string(A$1.revoked),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.UserRenewToken2Resp;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.seq=A$1.uint64();break;case 2:o.code=A$1.uint32();break;case 3:o.revoked=A$1.string();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/UserRenewToken2Resp`},A})(),GroupEnter=$root$1.GroupEnter=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.account=``,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.seq!=null&&Object.hasOwnProperty.call(A$1,`seq`)&&e.uint32(8).uint64(A$1.seq),A$1.account!=null&&Object.hasOwnProperty.call(A$1,`account`)&&e.uint32(18).string(A$1.account),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.GroupEnter;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.seq=A$1.uint64();break;case 2:o.account=A$1.string();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/GroupEnter`},A})(),GroupLeave=$root$1.GroupLeave=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.account=``,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.account!=null&&Object.hasOwnProperty.call(A$1,`account`)&&e.uint32(10).string(A$1.account),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.GroupLeave;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;e$1>>>3==1?o.account=A$1.string():A$1.skipType(7&e$1)}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/GroupLeave`},A})(),GroupLeave2=$root$1.GroupLeave2=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.account=``,A.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.account!=null&&Object.hasOwnProperty.call(A$1,`account`)&&e.uint32(10).string(A$1.account),A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(16).uint64(A$1.flags),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.GroupLeave2;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.account=A$1.string();break;case 2:o.flags=A$1.uint64();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/GroupLeave2`},A})(),GroupReply=$root$1.GroupReply=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.account=``,A.prototype.code=0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.seq!=null&&Object.hasOwnProperty.call(A$1,`seq`)&&e.uint32(8).uint64(A$1.seq),A$1.account!=null&&Object.hasOwnProperty.call(A$1,`account`)&&e.uint32(18).string(A$1.account),A$1.code!=null&&Object.hasOwnProperty.call(A$1,`code`)&&e.uint32(24).uint32(A$1.code),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.GroupReply;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.seq=A$1.uint64();break;case 2:o.account=A$1.string();break;case 3:o.code=A$1.uint32();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/GroupReply`},A})(),GroupLeaveNotice=$root$1.GroupLeaveNotice=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.user=``,A.prototype.group=``,A.prototype.instance=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.size=0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.seq!=null&&Object.hasOwnProperty.call(A$1,`seq`)&&e.uint32(8).uint64(A$1.seq),A$1.user!=null&&Object.hasOwnProperty.call(A$1,`user`)&&e.uint32(18).string(A$1.user),A$1.group!=null&&Object.hasOwnProperty.call(A$1,`group`)&&e.uint32(26).string(A$1.group),A$1.instance!=null&&Object.hasOwnProperty.call(A$1,`instance`)&&e.uint32(32).uint64(A$1.instance),A$1.size!=null&&Object.hasOwnProperty.call(A$1,`size`)&&e.uint32(40).uint32(A$1.size),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.GroupLeaveNotice;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.seq=A$1.uint64();break;case 2:o.user=A$1.string();break;case 3:o.group=A$1.string();break;case 4:o.instance=A$1.uint64();break;case 5:o.size=A$1.uint32();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/GroupLeaveNotice`},A})(),GroupEnterNotice=$root$1.GroupEnterNotice=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.user=``,A.prototype.group=``,A.prototype.instance=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.size=0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.seq!=null&&Object.hasOwnProperty.call(A$1,`seq`)&&e.uint32(8).uint64(A$1.seq),A$1.user!=null&&Object.hasOwnProperty.call(A$1,`user`)&&e.uint32(18).string(A$1.user),A$1.group!=null&&Object.hasOwnProperty.call(A$1,`group`)&&e.uint32(26).string(A$1.group),A$1.instance!=null&&Object.hasOwnProperty.call(A$1,`instance`)&&e.uint32(32).uint64(A$1.instance),A$1.size!=null&&Object.hasOwnProperty.call(A$1,`size`)&&e.uint32(40).uint32(A$1.size),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.GroupEnterNotice;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.seq=A$1.uint64();break;case 2:o.user=A$1.string();break;case 3:o.group=A$1.string();break;case 4:o.instance=A$1.uint64();break;case 5:o.size=A$1.uint32();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/GroupEnterNotice`},A})(),Message=$root$1.Message=(()=>{function A(A$1){if(this.MiscMap={},A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.instance=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.dialogue=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.options=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.src=``,A.prototype.dst=``,A.prototype.payload=$util$1.newBuffer([]),A.prototype.MiscMap=$util$1.emptyObject,A.prototype.ms=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.encode=function(A$1,e){if(e||=$Writer$1.create(),A$1.instance!=null&&Object.hasOwnProperty.call(A$1,`instance`)&&e.uint32(8).uint64(A$1.instance),A$1.dialogue!=null&&Object.hasOwnProperty.call(A$1,`dialogue`)&&e.uint32(16).uint64(A$1.dialogue),A$1.sequence!=null&&Object.hasOwnProperty.call(A$1,`sequence`)&&e.uint32(24).uint64(A$1.sequence),A$1.options!=null&&Object.hasOwnProperty.call(A$1,`options`)&&e.uint32(32).uint64(A$1.options),A$1.src!=null&&Object.hasOwnProperty.call(A$1,`src`)&&e.uint32(42).string(A$1.src),A$1.dst!=null&&Object.hasOwnProperty.call(A$1,`dst`)&&e.uint32(50).string(A$1.dst),A$1.payload!=null&&Object.hasOwnProperty.call(A$1,`payload`)&&e.uint32(58).bytes(A$1.payload),A$1.MiscMap!=null&&Object.hasOwnProperty.call(A$1,`MiscMap`))for(let t=Object.keys(A$1.MiscMap),g=0;g<t.length;++g)e.uint32(66).fork().uint32(10).string(t[g]).uint32(18).bytes(A$1.MiscMap[t[g]]).ldelim();return A$1.ms!=null&&Object.hasOwnProperty.call(A$1,`ms`)&&e.uint32(72).uint64(A$1.ms),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g,o,I=e===void 0?A$1.len:A$1.pos+e,i$1=new $root$1.Message;for(;A$1.pos<I;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:i$1.instance=A$1.uint64();break;case 2:i$1.dialogue=A$1.uint64();break;case 3:i$1.sequence=A$1.uint64();break;case 4:i$1.options=A$1.uint64();break;case 5:i$1.src=A$1.string();break;case 6:i$1.dst=A$1.string();break;case 7:i$1.payload=A$1.bytes();break;case 8:{i$1.MiscMap===$util$1.emptyObject&&(i$1.MiscMap={});let e$2=A$1.uint32()+A$1.pos;for(g=``,o=[];A$1.pos<e$2;){let e$3=A$1.uint32();switch(e$3>>>3){case 1:g=A$1.string();break;case 2:o=A$1.bytes();break;default:A$1.skipType(7&e$3)}}i$1.MiscMap[g]=o;break}case 9:i$1.ms=A$1.uint64();break;default:A$1.skipType(7&e$1)}}return i$1},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/Message`},A})(),Ack=$root$1.Ack=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.instance=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.dialogue=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.code=0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.instance!=null&&Object.hasOwnProperty.call(A$1,`instance`)&&e.uint32(8).uint64(A$1.instance),A$1.dialogue!=null&&Object.hasOwnProperty.call(A$1,`dialogue`)&&e.uint32(16).uint64(A$1.dialogue),A$1.sequence!=null&&Object.hasOwnProperty.call(A$1,`sequence`)&&e.uint32(24).uint64(A$1.sequence),A$1.code!=null&&Object.hasOwnProperty.call(A$1,`code`)&&e.uint32(32).uint32(A$1.code),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.Ack;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.instance=A$1.uint64();break;case 2:o.dialogue=A$1.uint64();break;case 3:o.sequence=A$1.uint64();break;case 4:o.code=A$1.uint32();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/Ack`},A})(),GroupDrop=$root$1.GroupDrop=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.account=``,A.prototype.code=0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.account!=null&&Object.hasOwnProperty.call(A$1,`account`)&&e.uint32(10).string(A$1.account),A$1.code!=null&&Object.hasOwnProperty.call(A$1,`code`)&&e.uint32(16).uint32(A$1.code),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.GroupDrop;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.account=A$1.string();break;case 2:o.code=A$1.uint32();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/GroupDrop`},A})(),GroupAllUsersList=$root$1.GroupAllUsersList=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.group=``,A.prototype.pageSize=0,A.prototype.pageNumber=0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.seq!=null&&Object.hasOwnProperty.call(A$1,`seq`)&&e.uint32(8).uint64(A$1.seq),A$1.group!=null&&Object.hasOwnProperty.call(A$1,`group`)&&e.uint32(18).string(A$1.group),A$1.pageSize!=null&&Object.hasOwnProperty.call(A$1,`pageSize`)&&e.uint32(24).uint32(A$1.pageSize),A$1.pageNumber!=null&&Object.hasOwnProperty.call(A$1,`pageNumber`)&&e.uint32(32).uint32(A$1.pageNumber),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.GroupAllUsersList;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.seq=A$1.uint64();break;case 2:o.group=A$1.string();break;case 3:o.pageSize=A$1.uint32();break;case 4:o.pageNumber=A$1.uint32();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/GroupAllUsersList`},A})(),GroupAllUsersResult=$root$1.GroupAllUsersResult=(()=>{function A(A$1){if(this.memberInfos=[],A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.group=``,A.prototype.totalSize=0,A.prototype.pageSize=0,A.prototype.pageNumber=0,A.prototype.memberInfos=$util$1.emptyArray,A.encode=function(A$1,e){if(e||=$Writer$1.create(),A$1.seq!=null&&Object.hasOwnProperty.call(A$1,`seq`)&&e.uint32(8).uint64(A$1.seq),A$1.group!=null&&Object.hasOwnProperty.call(A$1,`group`)&&e.uint32(18).string(A$1.group),A$1.totalSize!=null&&Object.hasOwnProperty.call(A$1,`totalSize`)&&e.uint32(24).uint32(A$1.totalSize),A$1.pageSize!=null&&Object.hasOwnProperty.call(A$1,`pageSize`)&&e.uint32(32).uint32(A$1.pageSize),A$1.pageNumber!=null&&Object.hasOwnProperty.call(A$1,`pageNumber`)&&e.uint32(40).uint32(A$1.pageNumber),A$1.memberInfos!=null&&A$1.memberInfos.length)for(let t=0;t<A$1.memberInfos.length;++t)$root$1.GroupAllUsersResult.MemberInfo.encode(A$1.memberInfos[t],e.uint32(50).fork()).ldelim();return e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.GroupAllUsersResult;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.seq=A$1.uint64();break;case 2:o.group=A$1.string();break;case 3:o.totalSize=A$1.uint32();break;case 4:o.pageSize=A$1.uint32();break;case 5:o.pageNumber=A$1.uint32();break;case 6:o.memberInfos&&o.memberInfos.length||(o.memberInfos=[]),o.memberInfos.push($root$1.GroupAllUsersResult.MemberInfo.decode(A$1,A$1.uint32()));break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/GroupAllUsersResult`},A.MemberInfo=function(){function A$1(A$2){if(A$2)for(let e=Object.keys(A$2),t=0;t<e.length;++t)A$2[e[t]]!=null&&(this[e[t]]=A$2[e[t]])}return A$1.prototype.account=``,A$1.prototype.ts=0,A$1.encode=function(A$2,e){return e||=$Writer$1.create(),A$2.account!=null&&Object.hasOwnProperty.call(A$2,`account`)&&e.uint32(10).string(A$2.account),A$2.ts!=null&&Object.hasOwnProperty.call(A$2,`ts`)&&e.uint32(16).uint32(A$2.ts),e},A$1.decode=function(A$2,e,t){A$2 instanceof $Reader||(A$2=$Reader.create(A$2));let g=e===void 0?A$2.len:A$2.pos+e,o=new $root$1.GroupAllUsersResult.MemberInfo;for(;A$2.pos<g;){let e$1=A$2.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.account=A$2.string();break;case 2:o.ts=A$2.uint32();break;default:A$2.skipType(7&e$1)}}return o},A$1.getTypeUrl=function(A$2){return A$2===void 0&&(A$2=`type.googleapis.com`),A$2+`/GroupAllUsersResult.MemberInfo`},A$1}(),A})(),GroupCountNotice=$root$1.GroupCountNotice=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.instance=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.group=``,A.prototype.size=0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.instance!=null&&Object.hasOwnProperty.call(A$1,`instance`)&&e.uint32(8).uint64(A$1.instance),A$1.sequence!=null&&Object.hasOwnProperty.call(A$1,`sequence`)&&e.uint32(16).uint64(A$1.sequence),A$1.group!=null&&Object.hasOwnProperty.call(A$1,`group`)&&e.uint32(26).string(A$1.group),A$1.size!=null&&Object.hasOwnProperty.call(A$1,`size`)&&e.uint32(32).uint32(A$1.size),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.GroupCountNotice;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.instance=A$1.uint64();break;case 2:o.sequence=A$1.uint64();break;case 3:o.group=A$1.string();break;case 4:o.size=A$1.uint32();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/GroupCountNotice`},A})(),StateSubscribe=$root$1.StateSubscribe=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.target=``,A.prototype.subTarget=``,A.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.target!=null&&Object.hasOwnProperty.call(A$1,`target`)&&e.uint32(10).string(A$1.target),A$1.subTarget!=null&&Object.hasOwnProperty.call(A$1,`subTarget`)&&e.uint32(18).string(A$1.subTarget),A$1.sequence!=null&&Object.hasOwnProperty.call(A$1,`sequence`)&&e.uint32(24).uint64(A$1.sequence),A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(32).uint64(A$1.flags),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.StateSubscribe;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.target=A$1.string();break;case 2:o.subTarget=A$1.string();break;case 3:o.sequence=A$1.uint64();break;case 4:o.flags=A$1.uint64();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/StateSubscribe`},A})(),StateUpdate=$root$1.StateUpdate=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.target=``,A.prototype.subTarget=``,A.prototype.allStates=``,A.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.target!=null&&Object.hasOwnProperty.call(A$1,`target`)&&e.uint32(10).string(A$1.target),A$1.subTarget!=null&&Object.hasOwnProperty.call(A$1,`subTarget`)&&e.uint32(18).string(A$1.subTarget),A$1.allStates!=null&&Object.hasOwnProperty.call(A$1,`allStates`)&&e.uint32(26).string(A$1.allStates),A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(32).uint64(A$1.flags),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.StateUpdate;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.target=A$1.string();break;case 2:o.subTarget=A$1.string();break;case 3:o.allStates=A$1.string();break;case 4:o.flags=A$1.uint64();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/StateUpdate`},A})(),StateSubscribeResult=$root$1.StateSubscribeResult=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.target=``,A.prototype.subTarget=``,A.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.code=0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.target!=null&&Object.hasOwnProperty.call(A$1,`target`)&&e.uint32(10).string(A$1.target),A$1.subTarget!=null&&Object.hasOwnProperty.call(A$1,`subTarget`)&&e.uint32(18).string(A$1.subTarget),A$1.sequence!=null&&Object.hasOwnProperty.call(A$1,`sequence`)&&e.uint32(24).uint64(A$1.sequence),A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(32).uint64(A$1.flags),A$1.code!=null&&Object.hasOwnProperty.call(A$1,`code`)&&e.uint32(40).uint32(A$1.code),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.StateSubscribeResult;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.target=A$1.string();break;case 2:o.subTarget=A$1.string();break;case 3:o.sequence=A$1.uint64();break;case 4:o.flags=A$1.uint64();break;case 5:o.code=A$1.uint32();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/StateSubscribeResult`},A})(),StateUnsubscribe=$root$1.StateUnsubscribe=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.target=``,A.prototype.subTarget=``,A.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.target!=null&&Object.hasOwnProperty.call(A$1,`target`)&&e.uint32(10).string(A$1.target),A$1.subTarget!=null&&Object.hasOwnProperty.call(A$1,`subTarget`)&&e.uint32(18).string(A$1.subTarget),A$1.sequence!=null&&Object.hasOwnProperty.call(A$1,`sequence`)&&e.uint32(24).uint64(A$1.sequence),A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(32).uint64(A$1.flags),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.StateUnsubscribe;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.target=A$1.string();break;case 2:o.subTarget=A$1.string();break;case 3:o.sequence=A$1.uint64();break;case 4:o.flags=A$1.uint64();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/StateUnsubscribe`},A})(),StateSet=$root$1.StateSet=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.target=``,A.prototype.author=``,A.prototype.value=``,A.prototype.lock=``,A.prototype.requestUuid=``,A.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.baseRevision=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.lockRev=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.target!=null&&Object.hasOwnProperty.call(A$1,`target`)&&e.uint32(10).string(A$1.target),A$1.author!=null&&Object.hasOwnProperty.call(A$1,`author`)&&e.uint32(18).string(A$1.author),A$1.value!=null&&Object.hasOwnProperty.call(A$1,`value`)&&e.uint32(26).string(A$1.value),A$1.lock!=null&&Object.hasOwnProperty.call(A$1,`lock`)&&e.uint32(34).string(A$1.lock),A$1.requestUuid!=null&&Object.hasOwnProperty.call(A$1,`requestUuid`)&&e.uint32(42).string(A$1.requestUuid),A$1.sequence!=null&&Object.hasOwnProperty.call(A$1,`sequence`)&&e.uint32(48).uint64(A$1.sequence),A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(56).uint64(A$1.flags),A$1.baseRevision!=null&&Object.hasOwnProperty.call(A$1,`baseRevision`)&&e.uint32(64).uint64(A$1.baseRevision),A$1.lockRev!=null&&Object.hasOwnProperty.call(A$1,`lockRev`)&&e.uint32(72).uint64(A$1.lockRev),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.StateSet;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.target=A$1.string();break;case 2:o.author=A$1.string();break;case 3:o.value=A$1.string();break;case 4:o.lock=A$1.string();break;case 5:o.requestUuid=A$1.string();break;case 6:o.sequence=A$1.uint64();break;case 7:o.flags=A$1.uint64();break;case 8:o.baseRevision=A$1.uint64();break;case 9:o.lockRev=A$1.uint64();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/StateSet`},A})(),StateModify=$root$1.StateModify=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.target=``,A.prototype.author=``,A.prototype.value=``,A.prototype.lock=``,A.prototype.requestUuid=``,A.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.baseRevision=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.lockRev=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.target!=null&&Object.hasOwnProperty.call(A$1,`target`)&&e.uint32(10).string(A$1.target),A$1.author!=null&&Object.hasOwnProperty.call(A$1,`author`)&&e.uint32(18).string(A$1.author),A$1.value!=null&&Object.hasOwnProperty.call(A$1,`value`)&&e.uint32(26).string(A$1.value),A$1.lock!=null&&Object.hasOwnProperty.call(A$1,`lock`)&&e.uint32(34).string(A$1.lock),A$1.requestUuid!=null&&Object.hasOwnProperty.call(A$1,`requestUuid`)&&e.uint32(42).string(A$1.requestUuid),A$1.sequence!=null&&Object.hasOwnProperty.call(A$1,`sequence`)&&e.uint32(48).uint64(A$1.sequence),A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(56).uint64(A$1.flags),A$1.baseRevision!=null&&Object.hasOwnProperty.call(A$1,`baseRevision`)&&e.uint32(64).uint64(A$1.baseRevision),A$1.lockRev!=null&&Object.hasOwnProperty.call(A$1,`lockRev`)&&e.uint32(72).uint64(A$1.lockRev),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.StateModify;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.target=A$1.string();break;case 2:o.author=A$1.string();break;case 3:o.value=A$1.string();break;case 4:o.lock=A$1.string();break;case 5:o.requestUuid=A$1.string();break;case 6:o.sequence=A$1.uint64();break;case 7:o.flags=A$1.uint64();break;case 8:o.baseRevision=A$1.uint64();break;case 9:o.lockRev=A$1.uint64();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/StateModify`},A})(),StateRequestResult=$root$1.StateRequestResult=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.requestUuid=``,A.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.code=0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.requestUuid!=null&&Object.hasOwnProperty.call(A$1,`requestUuid`)&&e.uint32(10).string(A$1.requestUuid),A$1.sequence!=null&&Object.hasOwnProperty.call(A$1,`sequence`)&&e.uint32(16).uint64(A$1.sequence),A$1.code!=null&&Object.hasOwnProperty.call(A$1,`code`)&&e.uint32(24).uint32(A$1.code),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.StateRequestResult;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.requestUuid=A$1.string();break;case 2:o.sequence=A$1.uint64();break;case 3:o.code=A$1.uint32();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/StateRequestResult`},A})(),StateGet=$root$1.StateGet=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.target=``,A.prototype.subTarget=``,A.prototype.lock=``,A.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.lockRev=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.target!=null&&Object.hasOwnProperty.call(A$1,`target`)&&e.uint32(10).string(A$1.target),A$1.subTarget!=null&&Object.hasOwnProperty.call(A$1,`subTarget`)&&e.uint32(18).string(A$1.subTarget),A$1.lock!=null&&Object.hasOwnProperty.call(A$1,`lock`)&&e.uint32(26).string(A$1.lock),A$1.sequence!=null&&Object.hasOwnProperty.call(A$1,`sequence`)&&e.uint32(32).uint64(A$1.sequence),A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(40).uint64(A$1.flags),A$1.lockRev!=null&&Object.hasOwnProperty.call(A$1,`lockRev`)&&e.uint32(48).uint64(A$1.lockRev),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.StateGet;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.target=A$1.string();break;case 2:o.subTarget=A$1.string();break;case 3:o.lock=A$1.string();break;case 4:o.sequence=A$1.uint64();break;case 5:o.flags=A$1.uint64();break;case 6:o.lockRev=A$1.uint64();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/StateGet`},A})(),StateGetResult=$root$1.StateGetResult=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.target=``,A.prototype.subTarget=``,A.prototype.allStates=``,A.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.code=0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.target!=null&&Object.hasOwnProperty.call(A$1,`target`)&&e.uint32(10).string(A$1.target),A$1.subTarget!=null&&Object.hasOwnProperty.call(A$1,`subTarget`)&&e.uint32(18).string(A$1.subTarget),A$1.allStates!=null&&Object.hasOwnProperty.call(A$1,`allStates`)&&e.uint32(26).string(A$1.allStates),A$1.sequence!=null&&Object.hasOwnProperty.call(A$1,`sequence`)&&e.uint32(32).uint64(A$1.sequence),A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(40).uint64(A$1.flags),A$1.code!=null&&Object.hasOwnProperty.call(A$1,`code`)&&e.uint32(48).uint32(A$1.code),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.StateGetResult;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.target=A$1.string();break;case 2:o.subTarget=A$1.string();break;case 3:o.allStates=A$1.string();break;case 4:o.sequence=A$1.uint64();break;case 5:o.flags=A$1.uint64();break;case 6:o.code=A$1.uint32();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/StateGetResult`},A})(),StateLockAcquire=$root$1.StateLockAcquire=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.target=``,A.prototype.lock=``,A.prototype.requestUuid=``,A.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.ttl=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.target!=null&&Object.hasOwnProperty.call(A$1,`target`)&&e.uint32(10).string(A$1.target),A$1.lock!=null&&Object.hasOwnProperty.call(A$1,`lock`)&&e.uint32(18).string(A$1.lock),A$1.requestUuid!=null&&Object.hasOwnProperty.call(A$1,`requestUuid`)&&e.uint32(26).string(A$1.requestUuid),A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(32).uint64(A$1.flags),A$1.ttl!=null&&Object.hasOwnProperty.call(A$1,`ttl`)&&e.uint32(40).uint64(A$1.ttl),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.StateLockAcquire;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.target=A$1.string();break;case 2:o.lock=A$1.string();break;case 3:o.requestUuid=A$1.string();break;case 4:o.flags=A$1.uint64();break;case 5:o.ttl=A$1.uint64();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/StateLockAcquire`},A})(),StateLockRelease=$root$1.StateLockRelease=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.target=``,A.prototype.lock=``,A.prototype.requestUuid=``,A.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.target!=null&&Object.hasOwnProperty.call(A$1,`target`)&&e.uint32(10).string(A$1.target),A$1.lock!=null&&Object.hasOwnProperty.call(A$1,`lock`)&&e.uint32(18).string(A$1.lock),A$1.requestUuid!=null&&Object.hasOwnProperty.call(A$1,`requestUuid`)&&e.uint32(26).string(A$1.requestUuid),A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(32).uint64(A$1.flags),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.StateLockRelease;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.target=A$1.string();break;case 2:o.lock=A$1.string();break;case 3:o.requestUuid=A$1.string();break;case 4:o.flags=A$1.uint64();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/StateLockRelease`},A})(),StateLockAcquireResult=$root$1.StateLockAcquireResult=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.target=``,A.prototype.lock=``,A.prototype.requestUuid=``,A.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.lockRev=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.code=0,A.prototype.reason=``,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.target!=null&&Object.hasOwnProperty.call(A$1,`target`)&&e.uint32(10).string(A$1.target),A$1.lock!=null&&Object.hasOwnProperty.call(A$1,`lock`)&&e.uint32(18).string(A$1.lock),A$1.requestUuid!=null&&Object.hasOwnProperty.call(A$1,`requestUuid`)&&e.uint32(26).string(A$1.requestUuid),A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(32).uint64(A$1.flags),A$1.lockRev!=null&&Object.hasOwnProperty.call(A$1,`lockRev`)&&e.uint32(40).uint64(A$1.lockRev),A$1.code!=null&&Object.hasOwnProperty.call(A$1,`code`)&&e.uint32(48).uint32(A$1.code),A$1.reason!=null&&Object.hasOwnProperty.call(A$1,`reason`)&&e.uint32(58).string(A$1.reason),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.StateLockAcquireResult;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.target=A$1.string();break;case 2:o.lock=A$1.string();break;case 3:o.requestUuid=A$1.string();break;case 4:o.flags=A$1.uint64();break;case 5:o.lockRev=A$1.uint64();break;case 6:o.code=A$1.uint32();break;case 7:o.reason=A$1.string();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/StateLockAcquireResult`},A})(),StateLockUpdate=$root$1.StateLockUpdate=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.target=``,A.prototype.lock=``,A.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.code=0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.target!=null&&Object.hasOwnProperty.call(A$1,`target`)&&e.uint32(10).string(A$1.target),A$1.lock!=null&&Object.hasOwnProperty.call(A$1,`lock`)&&e.uint32(18).string(A$1.lock),A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(24).uint64(A$1.flags),A$1.code!=null&&Object.hasOwnProperty.call(A$1,`code`)&&e.uint32(32).uint32(A$1.code),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.StateLockUpdate;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.target=A$1.string();break;case 2:o.lock=A$1.string();break;case 3:o.flags=A$1.uint64();break;case 4:o.code=A$1.uint32();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/StateLockUpdate`},A})(),StateLockReleaseResult=$root$1.StateLockReleaseResult=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.target=``,A.prototype.lock=``,A.prototype.requestUuid=``,A.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.code=0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.target!=null&&Object.hasOwnProperty.call(A$1,`target`)&&e.uint32(10).string(A$1.target),A$1.lock!=null&&Object.hasOwnProperty.call(A$1,`lock`)&&e.uint32(18).string(A$1.lock),A$1.requestUuid!=null&&Object.hasOwnProperty.call(A$1,`requestUuid`)&&e.uint32(26).string(A$1.requestUuid),A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(32).uint64(A$1.flags),A$1.code!=null&&Object.hasOwnProperty.call(A$1,`code`)&&e.uint32(40).uint32(A$1.code),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.StateLockReleaseResult;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.target=A$1.string();break;case 2:o.lock=A$1.string();break;case 3:o.requestUuid=A$1.string();break;case 4:o.flags=A$1.uint64();break;case 5:o.code=A$1.uint32();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/StateLockReleaseResult`},A})(),StateLockDisable=$root$1.StateLockDisable=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.target=``,A.prototype.lock=``,A.prototype.userId=``,A.prototype.requestUuid=``,A.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.target!=null&&Object.hasOwnProperty.call(A$1,`target`)&&e.uint32(10).string(A$1.target),A$1.lock!=null&&Object.hasOwnProperty.call(A$1,`lock`)&&e.uint32(18).string(A$1.lock),A$1.userId!=null&&Object.hasOwnProperty.call(A$1,`userId`)&&e.uint32(26).string(A$1.userId),A$1.requestUuid!=null&&Object.hasOwnProperty.call(A$1,`requestUuid`)&&e.uint32(34).string(A$1.requestUuid),A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(40).uint64(A$1.flags),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.StateLockDisable;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.target=A$1.string();break;case 2:o.lock=A$1.string();break;case 3:o.userId=A$1.string();break;case 4:o.requestUuid=A$1.string();break;case 5:o.flags=A$1.uint64();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/StateLockDisable`},A})(),StateLockDisableResult=$root$1.StateLockDisableResult=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.target=``,A.prototype.lock=``,A.prototype.requestUuid=``,A.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.code=0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.target!=null&&Object.hasOwnProperty.call(A$1,`target`)&&e.uint32(10).string(A$1.target),A$1.lock!=null&&Object.hasOwnProperty.call(A$1,`lock`)&&e.uint32(18).string(A$1.lock),A$1.requestUuid!=null&&Object.hasOwnProperty.call(A$1,`requestUuid`)&&e.uint32(26).string(A$1.requestUuid),A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(32).uint64(A$1.flags),A$1.code!=null&&Object.hasOwnProperty.call(A$1,`code`)&&e.uint32(40).uint32(A$1.code),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.StateLockDisableResult;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.target=A$1.string();break;case 2:o.lock=A$1.string();break;case 3:o.requestUuid=A$1.string();break;case 4:o.flags=A$1.uint64();break;case 5:o.code=A$1.uint32();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/StateLockDisableResult`},A})(),StateLockSubscribe=$root$1.StateLockSubscribe=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.target=``,A.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.target!=null&&Object.hasOwnProperty.call(A$1,`target`)&&e.uint32(10).string(A$1.target),A$1.sequence!=null&&Object.hasOwnProperty.call(A$1,`sequence`)&&e.uint32(16).uint64(A$1.sequence),A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(24).uint64(A$1.flags),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.StateLockSubscribe;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.target=A$1.string();break;case 2:o.sequence=A$1.uint64();break;case 3:o.flags=A$1.uint64();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/StateLockSubscribe`},A})(),StateLockSubscribeResult=$root$1.StateLockSubscribeResult=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.target=``,A.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.code=0,A.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.target!=null&&Object.hasOwnProperty.call(A$1,`target`)&&e.uint32(10).string(A$1.target),A$1.sequence!=null&&Object.hasOwnProperty.call(A$1,`sequence`)&&e.uint32(16).uint64(A$1.sequence),A$1.code!=null&&Object.hasOwnProperty.call(A$1,`code`)&&e.uint32(24).uint32(A$1.code),A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(32).uint64(A$1.flags),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.StateLockSubscribeResult;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.target=A$1.string();break;case 2:o.sequence=A$1.uint64();break;case 3:o.code=A$1.uint32();break;case 4:o.flags=A$1.uint64();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/StateLockSubscribeResult`},A})(),LockState=$root$1.LockState=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.lockName=``,A.prototype.lockState=``,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.lockName!=null&&Object.hasOwnProperty.call(A$1,`lockName`)&&e.uint32(10).string(A$1.lockName),A$1.lockState!=null&&Object.hasOwnProperty.call(A$1,`lockState`)&&e.uint32(18).string(A$1.lockState),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.LockState;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.lockName=A$1.string();break;case 2:o.lockState=A$1.string();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/LockState`},A})(),StateLockSubscribeEvent=$root$1.StateLockSubscribeEvent=(()=>{function A(A$1){if(this.lockStates=[],A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.target=``,A.prototype.lockStates=$util$1.emptyArray,A.prototype.eventType=0,A.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.encode=function(A$1,e){if(e||=$Writer$1.create(),A$1.target!=null&&Object.hasOwnProperty.call(A$1,`target`)&&e.uint32(10).string(A$1.target),A$1.lockStates!=null&&A$1.lockStates.length)for(let t=0;t<A$1.lockStates.length;++t)$root$1.LockState.encode(A$1.lockStates[t],e.uint32(18).fork()).ldelim();return A$1.eventType!=null&&Object.hasOwnProperty.call(A$1,`eventType`)&&e.uint32(24).int32(A$1.eventType),A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(32).uint64(A$1.flags),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.StateLockSubscribeEvent;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.target=A$1.string();break;case 2:o.lockStates&&o.lockStates.length||(o.lockStates=[]),o.lockStates.push($root$1.LockState.decode(A$1,A$1.uint32()));break;case 3:o.eventType=A$1.int32();break;case 4:o.flags=A$1.uint64();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/StateLockSubscribeEvent`},A})(),StateLockUnsubscribe=$root$1.StateLockUnsubscribe=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.target=``,A.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.target!=null&&Object.hasOwnProperty.call(A$1,`target`)&&e.uint32(10).string(A$1.target),A$1.sequence!=null&&Object.hasOwnProperty.call(A$1,`sequence`)&&e.uint32(16).uint64(A$1.sequence),A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(24).uint64(A$1.flags),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.StateLockUnsubscribe;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.target=A$1.string();break;case 2:o.sequence=A$1.uint64();break;case 3:o.flags=A$1.uint64();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/StateLockUnsubscribe`},A})(),StateLockCreate=$root$1.StateLockCreate=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.target=``,A.prototype.lock=``,A.prototype.ttl=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.requestUuid=``,A.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.target!=null&&Object.hasOwnProperty.call(A$1,`target`)&&e.uint32(10).string(A$1.target),A$1.lock!=null&&Object.hasOwnProperty.call(A$1,`lock`)&&e.uint32(18).string(A$1.lock),A$1.ttl!=null&&Object.hasOwnProperty.call(A$1,`ttl`)&&e.uint32(24).uint64(A$1.ttl),A$1.requestUuid!=null&&Object.hasOwnProperty.call(A$1,`requestUuid`)&&e.uint32(34).string(A$1.requestUuid),A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(40).uint64(A$1.flags),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.StateLockCreate;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.target=A$1.string();break;case 2:o.lock=A$1.string();break;case 3:o.ttl=A$1.uint64();break;case 4:o.requestUuid=A$1.string();break;case 5:o.flags=A$1.uint64();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/StateLockCreate`},A})(),StateLockCreateResult=$root$1.StateLockCreateResult=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.target=``,A.prototype.lock=``,A.prototype.code=0,A.prototype.requestUuid=``,A.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.target!=null&&Object.hasOwnProperty.call(A$1,`target`)&&e.uint32(10).string(A$1.target),A$1.lock!=null&&Object.hasOwnProperty.call(A$1,`lock`)&&e.uint32(18).string(A$1.lock),A$1.code!=null&&Object.hasOwnProperty.call(A$1,`code`)&&e.uint32(24).uint32(A$1.code),A$1.requestUuid!=null&&Object.hasOwnProperty.call(A$1,`requestUuid`)&&e.uint32(34).string(A$1.requestUuid),A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(40).uint64(A$1.flags),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.StateLockCreateResult;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.target=A$1.string();break;case 2:o.lock=A$1.string();break;case 3:o.code=A$1.uint32();break;case 4:o.requestUuid=A$1.string();break;case 5:o.flags=A$1.uint64();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/StateLockCreateResult`},A})(),StateLockDelete=$root$1.StateLockDelete=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.target=``,A.prototype.lock=``,A.prototype.requestUuid=``,A.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.target!=null&&Object.hasOwnProperty.call(A$1,`target`)&&e.uint32(10).string(A$1.target),A$1.lock!=null&&Object.hasOwnProperty.call(A$1,`lock`)&&e.uint32(18).string(A$1.lock),A$1.requestUuid!=null&&Object.hasOwnProperty.call(A$1,`requestUuid`)&&e.uint32(26).string(A$1.requestUuid),A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(32).uint64(A$1.flags),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.StateLockDelete;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.target=A$1.string();break;case 2:o.lock=A$1.string();break;case 3:o.requestUuid=A$1.string();break;case 4:o.flags=A$1.uint64();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/StateLockDelete`},A})(),StateLockDeleteResult=$root$1.StateLockDeleteResult=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.target=``,A.prototype.lock=``,A.prototype.code=0,A.prototype.requestUuid=``,A.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.target!=null&&Object.hasOwnProperty.call(A$1,`target`)&&e.uint32(10).string(A$1.target),A$1.lock!=null&&Object.hasOwnProperty.call(A$1,`lock`)&&e.uint32(18).string(A$1.lock),A$1.code!=null&&Object.hasOwnProperty.call(A$1,`code`)&&e.uint32(24).uint32(A$1.code),A$1.requestUuid!=null&&Object.hasOwnProperty.call(A$1,`requestUuid`)&&e.uint32(34).string(A$1.requestUuid),A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(40).uint64(A$1.flags),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.StateLockDeleteResult;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.target=A$1.string();break;case 2:o.lock=A$1.string();break;case 3:o.code=A$1.uint32();break;case 4:o.requestUuid=A$1.string();break;case 5:o.flags=A$1.uint64();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/StateLockDeleteResult`},A})(),StateLockList=$root$1.StateLockList=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.target=``,A.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.target!=null&&Object.hasOwnProperty.call(A$1,`target`)&&e.uint32(10).string(A$1.target),A$1.sequence!=null&&Object.hasOwnProperty.call(A$1,`sequence`)&&e.uint32(16).uint64(A$1.sequence),A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(24).uint64(A$1.flags),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.StateLockList;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.target=A$1.string();break;case 2:o.sequence=A$1.uint64();break;case 3:o.flags=A$1.uint64();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/StateLockList`},A})(),StateLockListResult=$root$1.StateLockListResult=(()=>{function A(A$1){if(this.lockStates=[],A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.target=``,A.prototype.sequence=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.code=0,A.prototype.lockStates=$util$1.emptyArray,A.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.encode=function(A$1,e){if(e||=$Writer$1.create(),A$1.target!=null&&Object.hasOwnProperty.call(A$1,`target`)&&e.uint32(10).string(A$1.target),A$1.sequence!=null&&Object.hasOwnProperty.call(A$1,`sequence`)&&e.uint32(16).uint64(A$1.sequence),A$1.code!=null&&Object.hasOwnProperty.call(A$1,`code`)&&e.uint32(24).uint32(A$1.code),A$1.lockStates!=null&&A$1.lockStates.length)for(let t=0;t<A$1.lockStates.length;++t)$root$1.LockState.encode(A$1.lockStates[t],e.uint32(34).fork()).ldelim();return A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(40).uint64(A$1.flags),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.StateLockListResult;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.target=A$1.string();break;case 2:o.sequence=A$1.uint64();break;case 3:o.code=A$1.uint32();break;case 4:o.lockStates&&o.lockStates.length||(o.lockStates=[]),o.lockStates.push($root$1.LockState.decode(A$1,A$1.uint32()));break;case 5:o.flags=A$1.uint64();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/StateLockListResult`},A})(),SyncInit=$root$1.SyncInit=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.seq!=null&&Object.hasOwnProperty.call(A$1,`seq`)&&e.uint32(8).uint64(A$1.seq),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.SyncInit;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;e$1>>>3==1?o.seq=A$1.uint64():A$1.skipType(7&e$1)}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/SyncInit`},A})(),SyncInit2=$root$1.SyncInit2=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.seq!=null&&Object.hasOwnProperty.call(A$1,`seq`)&&e.uint32(8).uint64(A$1.seq),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.SyncInit2;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;e$1>>>3==1?o.seq=A$1.uint64():A$1.skipType(7&e$1)}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/SyncInit2`},A})(),SyncInitAck=$root$1.SyncInitAck=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.seq=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.code=0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.seq!=null&&Object.hasOwnProperty.call(A$1,`seq`)&&e.uint32(8).uint64(A$1.seq),A$1.code!=null&&Object.hasOwnProperty.call(A$1,`code`)&&e.uint32(16).uint32(A$1.code),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.SyncInitAck;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.seq=A$1.uint64();break;case 2:o.code=A$1.uint32();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/SyncInitAck`},A})(),SyncFin=$root$1.SyncFin=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.code=0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.code!=null&&Object.hasOwnProperty.call(A$1,`code`)&&e.uint32(8).uint32(A$1.code),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.SyncFin;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;e$1>>>3==1?o.code=A$1.uint32():A$1.skipType(7&e$1)}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/SyncFin`},A})(),StateHistoryGet2=$root$1.StateHistoryGet2=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.uuid=``,A.prototype.startTime=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.endTime=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.dst=``,A.prototype.count=0,A.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.encode=function(A$1,e){return e||=$Writer$1.create(),A$1.uuid!=null&&Object.hasOwnProperty.call(A$1,`uuid`)&&e.uint32(10).string(A$1.uuid),A$1.startTime!=null&&Object.hasOwnProperty.call(A$1,`startTime`)&&e.uint32(16).uint64(A$1.startTime),A$1.endTime!=null&&Object.hasOwnProperty.call(A$1,`endTime`)&&e.uint32(24).uint64(A$1.endTime),A$1.dst!=null&&Object.hasOwnProperty.call(A$1,`dst`)&&e.uint32(34).string(A$1.dst),A$1.count!=null&&Object.hasOwnProperty.call(A$1,`count`)&&e.uint32(40).uint32(A$1.count),A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(48).uint64(A$1.flags),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.StateHistoryGet2;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.uuid=A$1.string();break;case 2:o.startTime=A$1.uint64();break;case 3:o.endTime=A$1.uint64();break;case 4:o.dst=A$1.string();break;case 5:o.count=A$1.uint32();break;case 6:o.flags=A$1.uint64();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/StateHistoryGet2`},A})(),HistoryRecord2=$root$1.HistoryRecord2=(()=>{function A(A$1){if(this.details={},A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.src=``,A.prototype.payload=$util$1.newBuffer([]),A.prototype.options=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.ms=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.details=$util$1.emptyObject,A.encode=function(A$1,e){if(e||=$Writer$1.create(),A$1.src!=null&&Object.hasOwnProperty.call(A$1,`src`)&&e.uint32(10).string(A$1.src),A$1.payload!=null&&Object.hasOwnProperty.call(A$1,`payload`)&&e.uint32(18).bytes(A$1.payload),A$1.options!=null&&Object.hasOwnProperty.call(A$1,`options`)&&e.uint32(24).uint64(A$1.options),A$1.ms!=null&&Object.hasOwnProperty.call(A$1,`ms`)&&e.uint32(32).uint64(A$1.ms),A$1.details!=null&&Object.hasOwnProperty.call(A$1,`details`))for(let t=Object.keys(A$1.details),g=0;g<t.length;++g)e.uint32(42).fork().uint32(10).string(t[g]).uint32(18).bytes(A$1.details[t[g]]).ldelim();return e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g,o,I=e===void 0?A$1.len:A$1.pos+e,i$1=new $root$1.HistoryRecord2;for(;A$1.pos<I;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:i$1.src=A$1.string();break;case 2:i$1.payload=A$1.bytes();break;case 3:i$1.options=A$1.uint64();break;case 4:i$1.ms=A$1.uint64();break;case 5:{i$1.details===$util$1.emptyObject&&(i$1.details={});let e$2=A$1.uint32()+A$1.pos;for(g=``,o=[];A$1.pos<e$2;){let e$3=A$1.uint32();switch(e$3>>>3){case 1:g=A$1.string();break;case 2:o=A$1.bytes();break;default:A$1.skipType(7&e$3)}}i$1.details[g]=o;break}default:A$1.skipType(7&e$1)}}return i$1},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/HistoryRecord2`},A})(),StateHistoryGetResult2=$root$1.StateHistoryGetResult2=(()=>{function A(A$1){if(this.messages=[],A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.uuid=``,A.prototype.startTime=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.endTime=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.dst=``,A.prototype.messages=$util$1.emptyArray,A.prototype.flags=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.code=0,A.prototype.more=!1,A.prototype.latestTime=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.prototype.oldestTime=$util$1.Long?$util$1.Long.fromBits(0,0,!0):0,A.encode=function(A$1,e){if(e||=$Writer$1.create(),A$1.uuid!=null&&Object.hasOwnProperty.call(A$1,`uuid`)&&e.uint32(10).string(A$1.uuid),A$1.startTime!=null&&Object.hasOwnProperty.call(A$1,`startTime`)&&e.uint32(16).uint64(A$1.startTime),A$1.endTime!=null&&Object.hasOwnProperty.call(A$1,`endTime`)&&e.uint32(24).uint64(A$1.endTime),A$1.dst!=null&&Object.hasOwnProperty.call(A$1,`dst`)&&e.uint32(34).string(A$1.dst),A$1.messages!=null&&A$1.messages.length)for(let t=0;t<A$1.messages.length;++t)$root$1.HistoryRecord2.encode(A$1.messages[t],e.uint32(42).fork()).ldelim();return A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(48).uint64(A$1.flags),A$1.code!=null&&Object.hasOwnProperty.call(A$1,`code`)&&e.uint32(56).uint32(A$1.code),A$1.more!=null&&Object.hasOwnProperty.call(A$1,`more`)&&e.uint32(64).bool(A$1.more),A$1.latestTime!=null&&Object.hasOwnProperty.call(A$1,`latestTime`)&&e.uint32(72).uint64(A$1.latestTime),A$1.oldestTime!=null&&Object.hasOwnProperty.call(A$1,`oldestTime`)&&e.uint32(80).uint64(A$1.oldestTime),e},A.decode=function(A$1,e,t){A$1 instanceof $Reader||(A$1=$Reader.create(A$1));let g=e===void 0?A$1.len:A$1.pos+e,o=new $root$1.StateHistoryGetResult2;for(;A$1.pos<g;){let e$1=A$1.uint32();if(e$1===t)break;switch(e$1>>>3){case 1:o.uuid=A$1.string();break;case 2:o.startTime=A$1.uint64();break;case 3:o.endTime=A$1.uint64();break;case 4:o.dst=A$1.string();break;case 5:o.messages&&o.messages.length||(o.messages=[]),o.messages.push($root$1.HistoryRecord2.decode(A$1,A$1.uint32()));break;case 6:o.flags=A$1.uint64();break;case 7:o.code=A$1.uint32();break;case 8:o.more=A$1.bool();break;case 9:o.latestTime=A$1.uint64();break;case 10:o.oldestTime=A$1.uint64();break;default:A$1.skipType(7&e$1)}}return o},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/StateHistoryGetResult2`},A})(),URI$1=$root$1.URI=(()=>{let A={},e=Object.create(A);return e[A[0]=`Unknown`]=0,e[A[1]=`PingUri`]=1,e[A[2]=`PongUri`]=2,e[A[3]=`Ping2Uri`]=3,e[A[4]=`Ping3Uri`]=4,e[A[5]=`Pong3Uri`]=5,e[A[11]=`UserJoinUri`]=11,e[A[12]=`UserRespUri`]=12,e[A[15]=`UserTicketNearlyExpireUri`]=15,e[A[16]=`UserRenewTokenReqUri`]=16,e[A[17]=`UserRenewTokenRespUri`]=17,e[A[18]=`UserJoin2Uri`]=18,e[A[19]=`UserResp2Uri`]=19,e[A[21]=`UserQuitUri`]=21,e[A[22]=`UserDropUri`]=22,e[A[24]=`UserQuit2Uri`]=24,e[A[25]=`UserTicketNearlyExpire2Uri`]=25,e[A[26]=`UserRenewToken2ReqUri`]=26,e[A[27]=`UserRenewToken2RespUri`]=27,e[A[31]=`GroupEnterUri`]=31,e[A[32]=`GroupLeaveUri`]=32,e[A[33]=`GroupReplyUri`]=33,e[A[35]=`GroupDropUri`]=35,e[A[230]=`GroupLeave2Uri`]=230,e[A[36]=`GroupEnterNoticeUri`]=36,e[A[37]=`GroupLeaveNoticeUri`]=37,e[A[38]=`GroupEventNoticeUri`]=38,e[A[39]=`GroupCountNoticeUri`]=39,e[A[41]=`UserStatusListUri`]=41,e[A[42]=`UserStatusResultUri`]=42,e[A[51]=`GroupStatusListUri`]=51,e[A[52]=`GroupStatusResultUri`]=52,e[A[55]=`GroupAllUsersListUri`]=55,e[A[56]=`GroupAllUsersResultUri`]=56,e[A[100]=`MessageUri`]=100,e[A[101]=`AckUri`]=101,e[A[201]=`UserJoinNoticeUri`]=201,e[A[202]=`UserQuitNoticeUri`]=202,e[A[203]=`UserWaitNoticeUri`]=203,e[A[301]=`UserAttributeGetUri`]=301,e[A[302]=`UserAttributeRetUri`]=302,e[A[303]=`UserAttributeSetUri`]=303,e[A[304]=`UserAttributeModUri`]=304,e[A[305]=`UserAttributeDelUri`]=305,e[A[307]=`UserAttributeRspUri`]=307,e[A[308]=`UserAttributeErrUri`]=308,e[A[311]=`UserAttributeKeysGetUri`]=311,e[A[312]=`UserAttributeKeysRetUri`]=312,e[A[351]=`GroupAttributeGetUri`]=351,e[A[352]=`GroupAttributeRetUri`]=352,e[A[353]=`GroupAttributeSetUri`]=353,e[A[354]=`GroupAttributeModUri`]=354,e[A[355]=`GroupAttributeDelUri`]=355,e[A[356]=`GroupAttributeAltUri`]=356,e[A[357]=`GroupAttributeRspUri`]=357,e[A[358]=`GroupAttributeErrUri`]=358,e[A[361]=`GroupAttributeKeysGetUri`]=361,e[A[362]=`GroupAttributeKeysRetUri`]=362,e[A[401]=`SubscribeUserStatusUri`]=401,e[A[402]=`UnsubscribeUserStatusUri`]=402,e[A[499]=`SubscribeResponseUri`]=499,e[A[601]=`StateSubscribeUri`]=601,e[A[602]=`StateUpdateUri`]=602,e[A[603]=`StateSubscribeResultUri`]=603,e[A[604]=`StateUnsubscribeUri`]=604,e[A[605]=`StateSetUri`]=605,e[A[606]=`StateModifyUri`]=606,e[A[607]=`StateRequestResultUri`]=607,e[A[608]=`StateGetUri`]=608,e[A[609]=`StateGetResultUri`]=609,e[A[610]=`StateLockAcquireUri`]=610,e[A[611]=`StateLockReleaseUri`]=611,e[A[612]=`StateLockAcquireResultUri`]=612,e[A[613]=`StateLockUpdateUri`]=613,e[A[614]=`StateLockReleaseResultUri`]=614,e[A[615]=`StateLockDisableUri`]=615,e[A[616]=`StateLockDisableResultUri`]=616,e[A[617]=`StateLockSubscribeUri`]=617,e[A[618]=`StateLockSubscribeResultUri`]=618,e[A[619]=`StateLockSubscribeEventUri`]=619,e[A[620]=`StateLockUnsubscribeUri`]=620,e[A[621]=`StateLockCreateUri`]=621,e[A[622]=`StateLockCreateResultUri`]=622,e[A[623]=`StateLockDeleteUri`]=623,e[A[624]=`StateLockDeleteResultUri`]=624,e[A[625]=`StateLockListUri`]=625,e[A[626]=`StateLockListResultUri`]=626,e[A[750]=`SyncPacketUri`]=750,e[A[751]=`SyncInitUri`]=751,e[A[752]=`SyncInitAckUri`]=752,e[A[753]=`SyncFinUri`]=753,e[A[633]=`StateHistoryGet2Uri`]=633,e[A[634]=`StateHistoryGetResult2Uri`]=634,e[A[754]=`SyncInit2Uri`]=754,e})(),UserJoinDetailKey=$root$1.UserJoinDetailKey=(()=>{let A={},e=Object.create(A);return e[A[0]=`kDetailKeyUnused`]=0,e[A[1]=`kDetailKeyConsoleConfig`]=1,e[A[2]=`kDetailKeyKeepAliveInterval`]=2,e[A[3]=`kDetailKeyKeepAliveBuffer`]=3,e})(),LockEventType=$root$1.LockEventType=(()=>{let A={},e=Object.create(A);return e[A[0]=`LockUnknown`]=0,e[A[1]=`LockAdded`]=1,e[A[2]=`LockModified`]=2,e[A[3]=`LockRemoved`]=3,e[A[4]=`LockSnapshot`]=4,e})();var ProtoPackets$1=Object.freeze({__proto__:null,Ack,GroupAllUsersList,GroupAllUsersResult,GroupCountNotice,GroupDrop,GroupEnter,GroupEnterNotice,GroupLeave,GroupLeave2,GroupLeaveNotice,GroupReply,HistoryRecord2,LockEventType,LockState,Message,Ping3,Pong3,StateGet,StateGetResult,StateHistoryGet2,StateHistoryGetResult2,StateLockAcquire,StateLockAcquireResult,StateLockCreate,StateLockCreateResult,StateLockDelete,StateLockDeleteResult,StateLockDisable,StateLockDisableResult,StateLockList,StateLockListResult,StateLockRelease,StateLockReleaseResult,StateLockSubscribe,StateLockSubscribeEvent,StateLockSubscribeResult,StateLockUnsubscribe,StateLockUpdate,StateModify,StateRequestResult,StateSet,StateSubscribe,StateSubscribeResult,StateUnsubscribe,StateUpdate,SyncFin,SyncInit,SyncInit2,SyncInitAck,URI:URI$1,UserDrop,UserJoin2,UserJoinDetailKey,UserQuit2,UserRenewToken2Req,UserRenewToken2Resp,UserRenewTokenReq,UserRenewTokenResp,UserResp2,UserTicketNearlyExpire,UserTicketNearlyExpire2,Wrapper:Wrapper$1,default:$root$1});const{URI}=$root$1,{Wrapper}=ProtoPackets$1,PacketsAndURI=_objectWithoutProperties(ProtoPackets$1,[`Wrapper`]),Packets=omit$1(PacketsAndURI,`URI`,`LockEventType`,`UserJoinDetailKey`),nameToUri=A=>{let t=URI[`${A}Uri`];if(typeof t!=`number`||t===0)throw TypeError(`Got Unknown URI Name`);return t};function uriToPacketName(A){return URI[A].slice(0,-3)}function getWrappedByName(A,e){let t=nameToUri(A),g=Packets[A],o=new g(e);return new Wrapper({uri:t,data:g.encode(o).finish()})}function getSyncWrapped(A){return new Wrapper({uri:URI.SyncPacketUri,data:A})}const getApUrl=A=>{let e=getPrivateSettingsPortAndDomains([A]),t=e.port;return`https://${e.hostname[0]}${t?`:${t}`:``}/api/v1`};function getEdgeDomain(A,e,t,g){if(!0===getParameter(`EDGE_USE_IP`))return A;let o=t&&t[0],I=t&&t[1];return!(!e||!I)&&validateIpPort(I)?I:o&&validateIpPort(o)?o:`${A.split(`.`).join(`-`)}.edge.${e?I||o||g||`sd-rtn.com`:o||g||`agora.io`}`}const $Writer=minimal_1.Writer,$util=minimal_1.util,$root=minimal_1.roots.default||(minimal_1.roots.default={}),Session=$root.Session=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.sid=``,A.prototype.userId=``,A.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.appId=``,A.prototype.ver=``,A.prototype.buildno=0,A.prototype.installId=``,A.prototype.os=0,A.prototype.did=``,A.prototype.index=null,A.prototype.token=``,A.prototype.version=0,A.prototype.subVersion=0,A.encode=function(A$1,e){return e||=$Writer.create(),A$1.sid!=null&&Object.hasOwnProperty.call(A$1,`sid`)&&e.uint32(10).string(A$1.sid),A$1.userId!=null&&Object.hasOwnProperty.call(A$1,`userId`)&&e.uint32(18).string(A$1.userId),A$1.lts!=null&&Object.hasOwnProperty.call(A$1,`lts`)&&e.uint32(24).int64(A$1.lts),A$1.elapse!=null&&Object.hasOwnProperty.call(A$1,`elapse`)&&e.uint32(32).int64(A$1.elapse),A$1.appId!=null&&Object.hasOwnProperty.call(A$1,`appId`)&&e.uint32(42).string(A$1.appId),A$1.ver!=null&&Object.hasOwnProperty.call(A$1,`ver`)&&e.uint32(50).string(A$1.ver),A$1.buildno!=null&&Object.hasOwnProperty.call(A$1,`buildno`)&&e.uint32(56).int32(A$1.buildno),A$1.installId!=null&&Object.hasOwnProperty.call(A$1,`installId`)&&e.uint32(66).string(A$1.installId),A$1.os!=null&&Object.hasOwnProperty.call(A$1,`os`)&&e.uint32(128).int32(A$1.os),A$1.did!=null&&Object.hasOwnProperty.call(A$1,`did`)&&e.uint32(138).string(A$1.did),A$1.index!=null&&Object.hasOwnProperty.call(A$1,`index`)&&$root.CommonIndex.encode(A$1.index,e.uint32(162).fork()).ldelim(),A$1.token!=null&&Object.hasOwnProperty.call(A$1,`token`)&&e.uint32(170).string(A$1.token),A$1.version!=null&&Object.hasOwnProperty.call(A$1,`version`)&&e.uint32(176).int32(A$1.version),A$1.subVersion!=null&&Object.hasOwnProperty.call(A$1,`subVersion`)&&e.uint32(184).int32(A$1.subVersion),e},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/Session`},A.CommonIndex=function(){function A$1(A$2){if(A$2)for(let e=Object.keys(A$2),t=0;t<e.length;++t)A$2[e[t]]!=null&&(this[e[t]]=A$2[e[t]])}return A$1.prototype.index1=``,A$1.prototype.index2=``,A$1.prototype.index3=``,A$1.encode=function(A$2,e){return e||=$Writer.create(),A$2.index1!=null&&Object.hasOwnProperty.call(A$2,`index1`)&&e.uint32(10).string(A$2.index1),A$2.index2!=null&&Object.hasOwnProperty.call(A$2,`index2`)&&e.uint32(18).string(A$2.index2),A$2.index3!=null&&Object.hasOwnProperty.call(A$2,`index3`)&&e.uint32(26).string(A$2.index3),e},A$1.getTypeUrl=function(A$2){return A$2===void 0&&(A$2=`type.googleapis.com`),A$2+`/Session.CommonIndex`},A$1}(),A})(),ApEvent=$root.ApEvent=(()=>{function A(A$1){if(this.linkServerList=[],A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.sid=``,A.prototype.userId=``,A.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.apAddr=``,A.prototype.linkServerList=$util.emptyArray,A.prototype.localWanIp=``,A.prototype.errCode=0,A.prototype.serverErrCode=0,A.prototype.isp=``,A.prototype.opId=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.envId=0,A.prototype.flag=0,A.prototype.area=``,A.prototype.responseTime=0,A.prototype.apLinkType=``,A.prototype.version=0,A.prototype.subVersion=0,A.prototype.connectionsequence=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.resultcount=0,A.prototype.validresultcount=0,A.prototype.newvalidresultcount=0,A.encode=function(A$1,e){if(e||=$Writer.create(),A$1.sid!=null&&Object.hasOwnProperty.call(A$1,`sid`)&&e.uint32(10).string(A$1.sid),A$1.userId!=null&&Object.hasOwnProperty.call(A$1,`userId`)&&e.uint32(18).string(A$1.userId),A$1.lts!=null&&Object.hasOwnProperty.call(A$1,`lts`)&&e.uint32(24).int64(A$1.lts),A$1.elapse!=null&&Object.hasOwnProperty.call(A$1,`elapse`)&&e.uint32(32).int64(A$1.elapse),A$1.apAddr!=null&&Object.hasOwnProperty.call(A$1,`apAddr`)&&e.uint32(50).string(A$1.apAddr),A$1.linkServerList!=null&&A$1.linkServerList.length)for(let t=0;t<A$1.linkServerList.length;++t)e.uint32(58).string(A$1.linkServerList[t]);return A$1.localWanIp!=null&&Object.hasOwnProperty.call(A$1,`localWanIp`)&&e.uint32(66).string(A$1.localWanIp),A$1.errCode!=null&&Object.hasOwnProperty.call(A$1,`errCode`)&&e.uint32(72).int32(A$1.errCode),A$1.serverErrCode!=null&&Object.hasOwnProperty.call(A$1,`serverErrCode`)&&e.uint32(80).int32(A$1.serverErrCode),A$1.isp!=null&&Object.hasOwnProperty.call(A$1,`isp`)&&e.uint32(90).string(A$1.isp),A$1.opId!=null&&Object.hasOwnProperty.call(A$1,`opId`)&&e.uint32(96).int64(A$1.opId),A$1.envId!=null&&Object.hasOwnProperty.call(A$1,`envId`)&&e.uint32(104).int32(A$1.envId),A$1.flag!=null&&Object.hasOwnProperty.call(A$1,`flag`)&&e.uint32(112).int32(A$1.flag),A$1.area!=null&&Object.hasOwnProperty.call(A$1,`area`)&&e.uint32(122).string(A$1.area),A$1.responseTime!=null&&Object.hasOwnProperty.call(A$1,`responseTime`)&&e.uint32(128).int32(A$1.responseTime),A$1.apLinkType!=null&&Object.hasOwnProperty.call(A$1,`apLinkType`)&&e.uint32(138).string(A$1.apLinkType),A$1.version!=null&&Object.hasOwnProperty.call(A$1,`version`)&&e.uint32(144).int32(A$1.version),A$1.subVersion!=null&&Object.hasOwnProperty.call(A$1,`subVersion`)&&e.uint32(152).int32(A$1.subVersion),A$1.connectionsequence!=null&&Object.hasOwnProperty.call(A$1,`connectionsequence`)&&e.uint32(160).int64(A$1.connectionsequence),A$1.resultcount!=null&&Object.hasOwnProperty.call(A$1,`resultcount`)&&e.uint32(168).int32(A$1.resultcount),A$1.validresultcount!=null&&Object.hasOwnProperty.call(A$1,`validresultcount`)&&e.uint32(176).int32(A$1.validresultcount),A$1.newvalidresultcount!=null&&Object.hasOwnProperty.call(A$1,`newvalidresultcount`)&&e.uint32(184).int32(A$1.newvalidresultcount),e},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/ApEvent`},A})(),ApRequest=$root.ApRequest=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.sid=``,A.prototype.userId=``,A.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.apAddr=``,A.prototype.opId=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.envId=0,A.prototype.flag=0,A.prototype.version=0,A.prototype.subVersion=0,A.prototype.connectionsequence=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.rtmapflag=$util.Long?$util.Long.fromBits(0,0,!1):0,A.encode=function(A$1,e){return e||=$Writer.create(),A$1.sid!=null&&Object.hasOwnProperty.call(A$1,`sid`)&&e.uint32(10).string(A$1.sid),A$1.userId!=null&&Object.hasOwnProperty.call(A$1,`userId`)&&e.uint32(18).string(A$1.userId),A$1.lts!=null&&Object.hasOwnProperty.call(A$1,`lts`)&&e.uint32(24).int64(A$1.lts),A$1.elapse!=null&&Object.hasOwnProperty.call(A$1,`elapse`)&&e.uint32(32).int64(A$1.elapse),A$1.apAddr!=null&&Object.hasOwnProperty.call(A$1,`apAddr`)&&e.uint32(42).string(A$1.apAddr),A$1.opId!=null&&Object.hasOwnProperty.call(A$1,`opId`)&&e.uint32(48).int64(A$1.opId),A$1.envId!=null&&Object.hasOwnProperty.call(A$1,`envId`)&&e.uint32(56).int32(A$1.envId),A$1.flag!=null&&Object.hasOwnProperty.call(A$1,`flag`)&&e.uint32(64).int32(A$1.flag),A$1.version!=null&&Object.hasOwnProperty.call(A$1,`version`)&&e.uint32(72).int32(A$1.version),A$1.subVersion!=null&&Object.hasOwnProperty.call(A$1,`subVersion`)&&e.uint32(80).int32(A$1.subVersion),A$1.connectionsequence!=null&&Object.hasOwnProperty.call(A$1,`connectionsequence`)&&e.uint32(88).int64(A$1.connectionsequence),A$1.rtmapflag!=null&&Object.hasOwnProperty.call(A$1,`rtmapflag`)&&e.uint32(96).int64(A$1.rtmapflag),e},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/ApRequest`},A})(),LinkLoginRequest=$root.LinkLoginRequest=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.sid=``,A.prototype.userId=``,A.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.destServerIp=``,A.prototype.linkId=0,A.encode=function(A$1,e){return e||=$Writer.create(),A$1.sid!=null&&Object.hasOwnProperty.call(A$1,`sid`)&&e.uint32(10).string(A$1.sid),A$1.userId!=null&&Object.hasOwnProperty.call(A$1,`userId`)&&e.uint32(18).string(A$1.userId),A$1.lts!=null&&Object.hasOwnProperty.call(A$1,`lts`)&&e.uint32(24).int64(A$1.lts),A$1.elapse!=null&&Object.hasOwnProperty.call(A$1,`elapse`)&&e.uint32(32).int64(A$1.elapse),A$1.destServerIp!=null&&Object.hasOwnProperty.call(A$1,`destServerIp`)&&e.uint32(42).string(A$1.destServerIp),A$1.linkId!=null&&Object.hasOwnProperty.call(A$1,`linkId`)&&e.uint32(48).int32(A$1.linkId),e},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/LinkLoginRequest`},A})(),Link=$root.Link=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.sid=``,A.prototype.userId=``,A.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.ec=0,A.prototype.sc=0,A.prototype.destServerIp=``,A.prototype.ackedServerIp=``,A.prototype.responseTime=0,A.prototype.version=0,A.prototype.subVersion=0,A.prototype.connectionsequence=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.linktype=0,A.prototype.linkflag=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.linkenv=0,A.encode=function(A$1,e){return e||=$Writer.create(),A$1.sid!=null&&Object.hasOwnProperty.call(A$1,`sid`)&&e.uint32(10).string(A$1.sid),A$1.userId!=null&&Object.hasOwnProperty.call(A$1,`userId`)&&e.uint32(18).string(A$1.userId),A$1.lts!=null&&Object.hasOwnProperty.call(A$1,`lts`)&&e.uint32(24).int64(A$1.lts),A$1.elapse!=null&&Object.hasOwnProperty.call(A$1,`elapse`)&&e.uint32(32).int64(A$1.elapse),A$1.ec!=null&&Object.hasOwnProperty.call(A$1,`ec`)&&e.uint32(40).int32(A$1.ec),A$1.sc!=null&&Object.hasOwnProperty.call(A$1,`sc`)&&e.uint32(48).int32(A$1.sc),A$1.destServerIp!=null&&Object.hasOwnProperty.call(A$1,`destServerIp`)&&e.uint32(58).string(A$1.destServerIp),A$1.ackedServerIp!=null&&Object.hasOwnProperty.call(A$1,`ackedServerIp`)&&e.uint32(66).string(A$1.ackedServerIp),A$1.responseTime!=null&&Object.hasOwnProperty.call(A$1,`responseTime`)&&e.uint32(72).int32(A$1.responseTime),A$1.version!=null&&Object.hasOwnProperty.call(A$1,`version`)&&e.uint32(80).int32(A$1.version),A$1.subVersion!=null&&Object.hasOwnProperty.call(A$1,`subVersion`)&&e.uint32(88).int32(A$1.subVersion),A$1.connectionsequence!=null&&Object.hasOwnProperty.call(A$1,`connectionsequence`)&&e.uint32(96).int64(A$1.connectionsequence),A$1.linktype!=null&&Object.hasOwnProperty.call(A$1,`linktype`)&&e.uint32(104).int32(A$1.linktype),A$1.linkflag!=null&&Object.hasOwnProperty.call(A$1,`linkflag`)&&e.uint32(112).int64(A$1.linkflag),A$1.linkenv!=null&&Object.hasOwnProperty.call(A$1,`linkenv`)&&e.uint32(120).int32(A$1.linkenv),e},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/Link`},A})(),Logout=$root.Logout=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.sid=``,A.prototype.userId=``,A.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.version=0,A.prototype.subVersion=0,A.prototype.connectionsequence=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.linktype=0,A.prototype.linkflag=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.linkenv=0,A.encode=function(A$1,e){return e||=$Writer.create(),A$1.sid!=null&&Object.hasOwnProperty.call(A$1,`sid`)&&e.uint32(10).string(A$1.sid),A$1.userId!=null&&Object.hasOwnProperty.call(A$1,`userId`)&&e.uint32(18).string(A$1.userId),A$1.lts!=null&&Object.hasOwnProperty.call(A$1,`lts`)&&e.uint32(24).int64(A$1.lts),A$1.elapse!=null&&Object.hasOwnProperty.call(A$1,`elapse`)&&e.uint32(32).int64(A$1.elapse),A$1.version!=null&&Object.hasOwnProperty.call(A$1,`version`)&&e.uint32(40).int32(A$1.version),A$1.subVersion!=null&&Object.hasOwnProperty.call(A$1,`subVersion`)&&e.uint32(48).int32(A$1.subVersion),A$1.connectionsequence!=null&&Object.hasOwnProperty.call(A$1,`connectionsequence`)&&e.uint32(56).int64(A$1.connectionsequence),A$1.linktype!=null&&Object.hasOwnProperty.call(A$1,`linktype`)&&e.uint32(64).int32(A$1.linktype),A$1.linkflag!=null&&Object.hasOwnProperty.call(A$1,`linkflag`)&&e.uint32(72).int64(A$1.linkflag),A$1.linkenv!=null&&Object.hasOwnProperty.call(A$1,`linkenv`)&&e.uint32(80).int32(A$1.linkenv),e},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/Logout`},A})(),KickedOff=$root.KickedOff=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.sid=``,A.prototype.userId=``,A.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.linkId=0,A.prototype.code=0,A.prototype.server=``,A.prototype.serverCode=0,A.encode=function(A$1,e){return e||=$Writer.create(),A$1.sid!=null&&Object.hasOwnProperty.call(A$1,`sid`)&&e.uint32(10).string(A$1.sid),A$1.userId!=null&&Object.hasOwnProperty.call(A$1,`userId`)&&e.uint32(18).string(A$1.userId),A$1.lts!=null&&Object.hasOwnProperty.call(A$1,`lts`)&&e.uint32(24).int64(A$1.lts),A$1.elapse!=null&&Object.hasOwnProperty.call(A$1,`elapse`)&&e.uint32(32).int64(A$1.elapse),A$1.linkId!=null&&Object.hasOwnProperty.call(A$1,`linkId`)&&e.uint32(48).int32(A$1.linkId),A$1.code!=null&&Object.hasOwnProperty.call(A$1,`code`)&&e.uint32(56).int32(A$1.code),A$1.server!=null&&Object.hasOwnProperty.call(A$1,`server`)&&e.uint32(66).string(A$1.server),A$1.serverCode!=null&&Object.hasOwnProperty.call(A$1,`serverCode`)&&e.uint32(72).int32(A$1.serverCode),e},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/KickedOff`},A})(),ChnJoin=$root.ChnJoin=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.sid=``,A.prototype.userId=``,A.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.cname=``,A.prototype.errCode=0,A.prototype.seq=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.joinFlag=$util.Long?$util.Long.fromBits(0,0,!1):0,A.encode=function(A$1,e){return e||=$Writer.create(),A$1.sid!=null&&Object.hasOwnProperty.call(A$1,`sid`)&&e.uint32(10).string(A$1.sid),A$1.userId!=null&&Object.hasOwnProperty.call(A$1,`userId`)&&e.uint32(18).string(A$1.userId),A$1.lts!=null&&Object.hasOwnProperty.call(A$1,`lts`)&&e.uint32(24).int64(A$1.lts),A$1.elapse!=null&&Object.hasOwnProperty.call(A$1,`elapse`)&&e.uint32(32).int64(A$1.elapse),A$1.cname!=null&&Object.hasOwnProperty.call(A$1,`cname`)&&e.uint32(50).string(A$1.cname),A$1.errCode!=null&&Object.hasOwnProperty.call(A$1,`errCode`)&&e.uint32(56).int32(A$1.errCode),A$1.seq!=null&&Object.hasOwnProperty.call(A$1,`seq`)&&e.uint32(64).int64(A$1.seq),A$1.joinFlag!=null&&Object.hasOwnProperty.call(A$1,`joinFlag`)&&e.uint32(72).int64(A$1.joinFlag),e},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/ChnJoin`},A})(),ChnJoinRes=$root.ChnJoinRes=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.sid=``,A.prototype.userId=``,A.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.cname=``,A.prototype.errCode=0,A.prototype.serverErrCode=0,A.prototype.seq=$util.Long?$util.Long.fromBits(0,0,!1):0,A.encode=function(A$1,e){return e||=$Writer.create(),A$1.sid!=null&&Object.hasOwnProperty.call(A$1,`sid`)&&e.uint32(10).string(A$1.sid),A$1.userId!=null&&Object.hasOwnProperty.call(A$1,`userId`)&&e.uint32(18).string(A$1.userId),A$1.lts!=null&&Object.hasOwnProperty.call(A$1,`lts`)&&e.uint32(24).int64(A$1.lts),A$1.elapse!=null&&Object.hasOwnProperty.call(A$1,`elapse`)&&e.uint32(32).int64(A$1.elapse),A$1.cname!=null&&Object.hasOwnProperty.call(A$1,`cname`)&&e.uint32(50).string(A$1.cname),A$1.errCode!=null&&Object.hasOwnProperty.call(A$1,`errCode`)&&e.uint32(56).int32(A$1.errCode),A$1.serverErrCode!=null&&Object.hasOwnProperty.call(A$1,`serverErrCode`)&&e.uint32(64).int32(A$1.serverErrCode),A$1.seq!=null&&Object.hasOwnProperty.call(A$1,`seq`)&&e.uint32(72).int64(A$1.seq),e},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/ChnJoinRes`},A})(),ChnLeave=$root.ChnLeave=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.sid=``,A.prototype.userId=``,A.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.cname=``,A.prototype.errCode=0,A.encode=function(A$1,e){return e||=$Writer.create(),A$1.sid!=null&&Object.hasOwnProperty.call(A$1,`sid`)&&e.uint32(10).string(A$1.sid),A$1.userId!=null&&Object.hasOwnProperty.call(A$1,`userId`)&&e.uint32(18).string(A$1.userId),A$1.lts!=null&&Object.hasOwnProperty.call(A$1,`lts`)&&e.uint32(24).int64(A$1.lts),A$1.elapse!=null&&Object.hasOwnProperty.call(A$1,`elapse`)&&e.uint32(32).int64(A$1.elapse),A$1.cname!=null&&Object.hasOwnProperty.call(A$1,`cname`)&&e.uint32(50).string(A$1.cname),A$1.errCode!=null&&Object.hasOwnProperty.call(A$1,`errCode`)&&e.uint32(56).int32(A$1.errCode),e},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/ChnLeave`},A})(),LinkTcpEvent=$root.LinkTcpEvent=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.sid=``,A.prototype.userId=``,A.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.destServerIp=``,A.prototype.action=``,A.prototype.code=0,A.prototype.responseTime=0,A.prototype.version=0,A.prototype.subVersion=0,A.prototype.connectionsequence=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.linktype=0,A.prototype.linkflag=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.linkenv=0,A.encode=function(A$1,e){return e||=$Writer.create(),A$1.sid!=null&&Object.hasOwnProperty.call(A$1,`sid`)&&e.uint32(10).string(A$1.sid),A$1.userId!=null&&Object.hasOwnProperty.call(A$1,`userId`)&&e.uint32(18).string(A$1.userId),A$1.lts!=null&&Object.hasOwnProperty.call(A$1,`lts`)&&e.uint32(24).int64(A$1.lts),A$1.elapse!=null&&Object.hasOwnProperty.call(A$1,`elapse`)&&e.uint32(32).int64(A$1.elapse),A$1.destServerIp!=null&&Object.hasOwnProperty.call(A$1,`destServerIp`)&&e.uint32(42).string(A$1.destServerIp),A$1.action!=null&&Object.hasOwnProperty.call(A$1,`action`)&&e.uint32(50).string(A$1.action),A$1.code!=null&&Object.hasOwnProperty.call(A$1,`code`)&&e.uint32(56).int32(A$1.code),A$1.responseTime!=null&&Object.hasOwnProperty.call(A$1,`responseTime`)&&e.uint32(64).int32(A$1.responseTime),A$1.version!=null&&Object.hasOwnProperty.call(A$1,`version`)&&e.uint32(72).int32(A$1.version),A$1.subVersion!=null&&Object.hasOwnProperty.call(A$1,`subVersion`)&&e.uint32(80).int32(A$1.subVersion),A$1.connectionsequence!=null&&Object.hasOwnProperty.call(A$1,`connectionsequence`)&&e.uint32(88).int64(A$1.connectionsequence),A$1.linktype!=null&&Object.hasOwnProperty.call(A$1,`linktype`)&&e.uint32(96).int32(A$1.linktype),A$1.linkflag!=null&&Object.hasOwnProperty.call(A$1,`linkflag`)&&e.uint32(104).int64(A$1.linkflag),A$1.linkenv!=null&&Object.hasOwnProperty.call(A$1,`linkenv`)&&e.uint32(112).int32(A$1.linkenv),e},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/LinkTcpEvent`},A})(),SyncOperateEvent=$root.SyncOperateEvent=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.ip=``,A.prototype.userid=``,A.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.sid=``,A.prototype.requestts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.replyts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.target=``,A.prototype.eventtype=``,A.prototype.revision=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.uuid=``,A.prototype.sdktype=0,A.prototype.flags=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.code=0,A.prototype.seq=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.index=null,A.prototype.lock=``,A.prototype.lockrev=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.subtarget=``,A.prototype.usersid=``,A.prototype.sdkip=``,A.encode=function(A$1,e){return e||=$Writer.create(),A$1.lts!=null&&Object.hasOwnProperty.call(A$1,`lts`)&&e.uint32(8).int64(A$1.lts),A$1.ip!=null&&Object.hasOwnProperty.call(A$1,`ip`)&&e.uint32(18).string(A$1.ip),A$1.userid!=null&&Object.hasOwnProperty.call(A$1,`userid`)&&e.uint32(26).string(A$1.userid),A$1.vid!=null&&Object.hasOwnProperty.call(A$1,`vid`)&&e.uint32(32).int64(A$1.vid),A$1.sid!=null&&Object.hasOwnProperty.call(A$1,`sid`)&&e.uint32(42).string(A$1.sid),A$1.requestts!=null&&Object.hasOwnProperty.call(A$1,`requestts`)&&e.uint32(48).int64(A$1.requestts),A$1.replyts!=null&&Object.hasOwnProperty.call(A$1,`replyts`)&&e.uint32(56).int64(A$1.replyts),A$1.target!=null&&Object.hasOwnProperty.call(A$1,`target`)&&e.uint32(66).string(A$1.target),A$1.eventtype!=null&&Object.hasOwnProperty.call(A$1,`eventtype`)&&e.uint32(74).string(A$1.eventtype),A$1.revision!=null&&Object.hasOwnProperty.call(A$1,`revision`)&&e.uint32(80).int64(A$1.revision),A$1.uuid!=null&&Object.hasOwnProperty.call(A$1,`uuid`)&&e.uint32(90).string(A$1.uuid),A$1.sdktype!=null&&Object.hasOwnProperty.call(A$1,`sdktype`)&&e.uint32(96).int32(A$1.sdktype),A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(104).int64(A$1.flags),A$1.code!=null&&Object.hasOwnProperty.call(A$1,`code`)&&e.uint32(112).int32(A$1.code),A$1.seq!=null&&Object.hasOwnProperty.call(A$1,`seq`)&&e.uint32(120).int64(A$1.seq),A$1.index!=null&&Object.hasOwnProperty.call(A$1,`index`)&&$root.CommonIndex.encode(A$1.index,e.uint32(130).fork()).ldelim(),A$1.lock!=null&&Object.hasOwnProperty.call(A$1,`lock`)&&e.uint32(138).string(A$1.lock),A$1.lockrev!=null&&Object.hasOwnProperty.call(A$1,`lockrev`)&&e.uint32(144).int64(A$1.lockrev),A$1.subtarget!=null&&Object.hasOwnProperty.call(A$1,`subtarget`)&&e.uint32(154).string(A$1.subtarget),A$1.usersid!=null&&Object.hasOwnProperty.call(A$1,`usersid`)&&e.uint32(162).string(A$1.usersid),A$1.sdkip!=null&&Object.hasOwnProperty.call(A$1,`sdkip`)&&e.uint32(170).string(A$1.sdkip),e},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/SyncOperateEvent`},A})(),SyncSubscribeEvent=$root.SyncSubscribeEvent=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.userid=``,A.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.sid=``,A.prototype.target=``,A.prototype.eventtype=``,A.prototype.sdktype=0,A.prototype.flags=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.code=0,A.prototype.seq=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.requestts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.replyts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.index=null,A.prototype.subtarget=``,A.prototype.usersid=``,A.encode=function(A$1,e){return e||=$Writer.create(),A$1.lts!=null&&Object.hasOwnProperty.call(A$1,`lts`)&&e.uint32(8).int64(A$1.lts),A$1.userid!=null&&Object.hasOwnProperty.call(A$1,`userid`)&&e.uint32(26).string(A$1.userid),A$1.vid!=null&&Object.hasOwnProperty.call(A$1,`vid`)&&e.uint32(32).int64(A$1.vid),A$1.sid!=null&&Object.hasOwnProperty.call(A$1,`sid`)&&e.uint32(42).string(A$1.sid),A$1.target!=null&&Object.hasOwnProperty.call(A$1,`target`)&&e.uint32(66).string(A$1.target),A$1.eventtype!=null&&Object.hasOwnProperty.call(A$1,`eventtype`)&&e.uint32(74).string(A$1.eventtype),A$1.sdktype!=null&&Object.hasOwnProperty.call(A$1,`sdktype`)&&e.uint32(96).int32(A$1.sdktype),A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(104).int64(A$1.flags),A$1.code!=null&&Object.hasOwnProperty.call(A$1,`code`)&&e.uint32(112).int32(A$1.code),A$1.seq!=null&&Object.hasOwnProperty.call(A$1,`seq`)&&e.uint32(120).int64(A$1.seq),A$1.requestts!=null&&Object.hasOwnProperty.call(A$1,`requestts`)&&e.uint32(128).int64(A$1.requestts),A$1.replyts!=null&&Object.hasOwnProperty.call(A$1,`replyts`)&&e.uint32(136).int64(A$1.replyts),A$1.index!=null&&Object.hasOwnProperty.call(A$1,`index`)&&$root.CommonIndex.encode(A$1.index,e.uint32(146).fork()).ldelim(),A$1.subtarget!=null&&Object.hasOwnProperty.call(A$1,`subtarget`)&&e.uint32(154).string(A$1.subtarget),A$1.usersid!=null&&Object.hasOwnProperty.call(A$1,`usersid`)&&e.uint32(162).string(A$1.usersid),e},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/SyncSubscribeEvent`},A})(),SyncUpdateEvent=$root.SyncUpdateEvent=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.userid=``,A.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.sid=``,A.prototype.replyts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.target=``,A.prototype.eventtype=``,A.prototype.revision=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.sdktype=0,A.prototype.flags=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.count=0,A.prototype.delta=0,A.prototype.code=0,A.prototype.index=null,A.prototype.subtarget=``,A.encode=function(A$1,e){return e||=$Writer.create(),A$1.lts!=null&&Object.hasOwnProperty.call(A$1,`lts`)&&e.uint32(8).int64(A$1.lts),A$1.userid!=null&&Object.hasOwnProperty.call(A$1,`userid`)&&e.uint32(26).string(A$1.userid),A$1.vid!=null&&Object.hasOwnProperty.call(A$1,`vid`)&&e.uint32(32).int64(A$1.vid),A$1.sid!=null&&Object.hasOwnProperty.call(A$1,`sid`)&&e.uint32(42).string(A$1.sid),A$1.replyts!=null&&Object.hasOwnProperty.call(A$1,`replyts`)&&e.uint32(56).int64(A$1.replyts),A$1.target!=null&&Object.hasOwnProperty.call(A$1,`target`)&&e.uint32(66).string(A$1.target),A$1.eventtype!=null&&Object.hasOwnProperty.call(A$1,`eventtype`)&&e.uint32(74).string(A$1.eventtype),A$1.revision!=null&&Object.hasOwnProperty.call(A$1,`revision`)&&e.uint32(80).int64(A$1.revision),A$1.sdktype!=null&&Object.hasOwnProperty.call(A$1,`sdktype`)&&e.uint32(96).int32(A$1.sdktype),A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(104).int64(A$1.flags),A$1.count!=null&&Object.hasOwnProperty.call(A$1,`count`)&&e.uint32(112).int32(A$1.count),A$1.delta!=null&&Object.hasOwnProperty.call(A$1,`delta`)&&e.uint32(120).int32(A$1.delta),A$1.code!=null&&Object.hasOwnProperty.call(A$1,`code`)&&e.uint32(128).int32(A$1.code),A$1.index!=null&&Object.hasOwnProperty.call(A$1,`index`)&&$root.CommonIndex.encode(A$1.index,e.uint32(138).fork()).ldelim(),A$1.subtarget!=null&&Object.hasOwnProperty.call(A$1,`subtarget`)&&e.uint32(162).string(A$1.subtarget),e},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/SyncUpdateEvent`},A})(),CommonIndex=$root.CommonIndex=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.index1=``,A.prototype.index2=``,A.prototype.index3=``,A.encode=function(A$1,e){return e||=$Writer.create(),A$1.index1!=null&&Object.hasOwnProperty.call(A$1,`index1`)&&e.uint32(10).string(A$1.index1),A$1.index2!=null&&Object.hasOwnProperty.call(A$1,`index2`)&&e.uint32(18).string(A$1.index2),A$1.index3!=null&&Object.hasOwnProperty.call(A$1,`index3`)&&e.uint32(26).string(A$1.index3),e},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/CommonIndex`},A})(),ProtoRaws=$root.ProtoRaws=(()=>{function A(A$1){if(this.payloads=[],A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.sendTs=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.payloads=$util.emptyArray,A.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.aid=$util.Long?$util.Long.fromBits(0,0,!1):0,A.encode=function(A$1,e){if(e||=$Writer.create(),A$1.sendTs!=null&&Object.hasOwnProperty.call(A$1,`sendTs`)&&e.uint32(8).int64(A$1.sendTs),A$1.payloads!=null&&A$1.payloads.length)for(let t=0;t<A$1.payloads.length;++t)$root.ProtoRaws.MessageInfo.encode(A$1.payloads[t],e.uint32(18).fork()).ldelim();return A$1.vid!=null&&Object.hasOwnProperty.call(A$1,`vid`)&&e.uint32(24).int64(A$1.vid),A$1.aid!=null&&Object.hasOwnProperty.call(A$1,`aid`)&&e.uint32(32).int64(A$1.aid),e},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/ProtoRaws`},A.MessageInfo=function(){function A$1(A$2){if(A$2)for(let e=Object.keys(A$2),t=0;t<e.length;++t)A$2[e[t]]!=null&&(this[e[t]]=A$2[e[t]])}return A$1.prototype.id=$util.Long?$util.Long.fromBits(0,0,!1):0,A$1.prototype.msg=$util.newBuffer([]),A$1.encode=function(A$2,e){return e||=$Writer.create(),A$2.id!=null&&Object.hasOwnProperty.call(A$2,`id`)&&e.uint32(8).int64(A$2.id),A$2.msg!=null&&Object.hasOwnProperty.call(A$2,`msg`)&&e.uint32(18).bytes(A$2.msg),e},A$1.getTypeUrl=function(A$2){return A$2===void 0&&(A$2=`type.googleapis.com`),A$2+`/ProtoRaws.MessageInfo`},A$1}(),A})(),LoginResult=$root.LoginResult=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.sid=``,A.prototype.code=0,A.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.userId=``,A.encode=function(A$1,e){return e||=$Writer.create(),A$1.lts!=null&&Object.hasOwnProperty.call(A$1,`lts`)&&e.uint32(8).int64(A$1.lts),A$1.vid!=null&&Object.hasOwnProperty.call(A$1,`vid`)&&e.uint32(16).int64(A$1.vid),A$1.sid!=null&&Object.hasOwnProperty.call(A$1,`sid`)&&e.uint32(26).string(A$1.sid),A$1.code!=null&&Object.hasOwnProperty.call(A$1,`code`)&&e.uint32(32).int32(A$1.code),A$1.elapse!=null&&Object.hasOwnProperty.call(A$1,`elapse`)&&e.uint32(40).int64(A$1.elapse),A$1.userId!=null&&Object.hasOwnProperty.call(A$1,`userId`)&&e.uint32(50).string(A$1.userId),e},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/LoginResult`},A})(),ChannelPresenceSnapshotEvent=$root.ChannelPresenceSnapshotEvent=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.sid=``,A.prototype.userId=``,A.prototype.channelName=``,A.prototype.channelType=0,A.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.reqId=$util.Long?$util.Long.fromBits(0,0,!1):0,A.encode=function(A$1,e){return e||=$Writer.create(),A$1.lts!=null&&Object.hasOwnProperty.call(A$1,`lts`)&&e.uint32(8).int64(A$1.lts),A$1.vid!=null&&Object.hasOwnProperty.call(A$1,`vid`)&&e.uint32(16).int64(A$1.vid),A$1.sid!=null&&Object.hasOwnProperty.call(A$1,`sid`)&&e.uint32(26).string(A$1.sid),A$1.userId!=null&&Object.hasOwnProperty.call(A$1,`userId`)&&e.uint32(34).string(A$1.userId),A$1.channelName!=null&&Object.hasOwnProperty.call(A$1,`channelName`)&&e.uint32(42).string(A$1.channelName),A$1.channelType!=null&&Object.hasOwnProperty.call(A$1,`channelType`)&&e.uint32(48).int32(A$1.channelType),A$1.elapse!=null&&Object.hasOwnProperty.call(A$1,`elapse`)&&e.uint32(56).int64(A$1.elapse),A$1.reqId!=null&&Object.hasOwnProperty.call(A$1,`reqId`)&&e.uint32(64).int64(A$1.reqId),e},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/ChannelPresenceSnapshotEvent`},A})(),LinkStateChange=$root.LinkStateChange=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.sid=``,A.prototype.userid=``,A.prototype.currentState=0,A.prototype.previousState=0,A.prototype.operation=0,A.prototype.reason=0,A.prototype.serviceType=0,A.prototype.streamChannelName=``,A.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,A.encode=function(A$1,e){return e||=$Writer.create(),A$1.lts!=null&&Object.hasOwnProperty.call(A$1,`lts`)&&e.uint32(8).int64(A$1.lts),A$1.vid!=null&&Object.hasOwnProperty.call(A$1,`vid`)&&e.uint32(16).int64(A$1.vid),A$1.sid!=null&&Object.hasOwnProperty.call(A$1,`sid`)&&e.uint32(26).string(A$1.sid),A$1.userid!=null&&Object.hasOwnProperty.call(A$1,`userid`)&&e.uint32(34).string(A$1.userid),A$1.currentState!=null&&Object.hasOwnProperty.call(A$1,`currentState`)&&e.uint32(40).int32(A$1.currentState),A$1.previousState!=null&&Object.hasOwnProperty.call(A$1,`previousState`)&&e.uint32(48).int32(A$1.previousState),A$1.operation!=null&&Object.hasOwnProperty.call(A$1,`operation`)&&e.uint32(56).int32(A$1.operation),A$1.reason!=null&&Object.hasOwnProperty.call(A$1,`reason`)&&e.uint32(64).int32(A$1.reason),A$1.serviceType!=null&&Object.hasOwnProperty.call(A$1,`serviceType`)&&e.uint32(72).int32(A$1.serviceType),A$1.streamChannelName!=null&&Object.hasOwnProperty.call(A$1,`streamChannelName`)&&e.uint32(82).string(A$1.streamChannelName),A$1.elapse!=null&&Object.hasOwnProperty.call(A$1,`elapse`)&&e.uint32(88).int64(A$1.elapse),e},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/LinkStateChange`},A})(),RenewToken=$root.RenewToken=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.sid=``,A.prototype.userId=``,A.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.cname=``,A.prototype.token=``,A.encode=function(A$1,e){return e||=$Writer.create(),A$1.sid!=null&&Object.hasOwnProperty.call(A$1,`sid`)&&e.uint32(10).string(A$1.sid),A$1.userId!=null&&Object.hasOwnProperty.call(A$1,`userId`)&&e.uint32(18).string(A$1.userId),A$1.lts!=null&&Object.hasOwnProperty.call(A$1,`lts`)&&e.uint32(24).int64(A$1.lts),A$1.elapse!=null&&Object.hasOwnProperty.call(A$1,`elapse`)&&e.uint32(32).int64(A$1.elapse),A$1.cname!=null&&Object.hasOwnProperty.call(A$1,`cname`)&&e.uint32(50).string(A$1.cname),A$1.token!=null&&Object.hasOwnProperty.call(A$1,`token`)&&e.uint32(58).string(A$1.token),e},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/RenewToken`},A})(),RenewTokenRes=$root.RenewTokenRes=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.sid=``,A.prototype.userId=``,A.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.cname=``,A.prototype.token=``,A.prototype.apErrCode=0,A.prototype.regErrCode=0,A.encode=function(A$1,e){return e||=$Writer.create(),A$1.lts!=null&&Object.hasOwnProperty.call(A$1,`lts`)&&e.uint32(8).int64(A$1.lts),A$1.vid!=null&&Object.hasOwnProperty.call(A$1,`vid`)&&e.uint32(16).int64(A$1.vid),A$1.sid!=null&&Object.hasOwnProperty.call(A$1,`sid`)&&e.uint32(26).string(A$1.sid),A$1.userId!=null&&Object.hasOwnProperty.call(A$1,`userId`)&&e.uint32(34).string(A$1.userId),A$1.elapse!=null&&Object.hasOwnProperty.call(A$1,`elapse`)&&e.uint32(40).int64(A$1.elapse),A$1.cname!=null&&Object.hasOwnProperty.call(A$1,`cname`)&&e.uint32(50).string(A$1.cname),A$1.token!=null&&Object.hasOwnProperty.call(A$1,`token`)&&e.uint32(58).string(A$1.token),A$1.apErrCode!=null&&Object.hasOwnProperty.call(A$1,`apErrCode`)&&e.uint32(64).int32(A$1.apErrCode),A$1.regErrCode!=null&&Object.hasOwnProperty.call(A$1,`regErrCode`)&&e.uint32(72).int32(A$1.regErrCode),e},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/RenewTokenRes`},A})(),SyncLockAcquireEvent=$root.SyncLockAcquireEvent=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.ip=``,A.prototype.userid=``,A.prototype.sid=``,A.prototype.index=null,A.prototype.target=``,A.prototype.lock=``,A.prototype.lockrev=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.uuid=``,A.prototype.flags=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.code=0,A.prototype.leaseid=``,A.prototype.eventtype=``,A.prototype.sdktype=0,A.prototype.requestts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.replyts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.ttl=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.usersid=``,A.prototype.sdkip=``,A.encode=function(A$1,e){return e||=$Writer.create(),A$1.lts!=null&&Object.hasOwnProperty.call(A$1,`lts`)&&e.uint32(8).int64(A$1.lts),A$1.vid!=null&&Object.hasOwnProperty.call(A$1,`vid`)&&e.uint32(16).int64(A$1.vid),A$1.ip!=null&&Object.hasOwnProperty.call(A$1,`ip`)&&e.uint32(26).string(A$1.ip),A$1.userid!=null&&Object.hasOwnProperty.call(A$1,`userid`)&&e.uint32(34).string(A$1.userid),A$1.sid!=null&&Object.hasOwnProperty.call(A$1,`sid`)&&e.uint32(42).string(A$1.sid),A$1.index!=null&&Object.hasOwnProperty.call(A$1,`index`)&&$root.CommonIndex.encode(A$1.index,e.uint32(50).fork()).ldelim(),A$1.target!=null&&Object.hasOwnProperty.call(A$1,`target`)&&e.uint32(58).string(A$1.target),A$1.lock!=null&&Object.hasOwnProperty.call(A$1,`lock`)&&e.uint32(66).string(A$1.lock),A$1.lockrev!=null&&Object.hasOwnProperty.call(A$1,`lockrev`)&&e.uint32(72).int64(A$1.lockrev),A$1.uuid!=null&&Object.hasOwnProperty.call(A$1,`uuid`)&&e.uint32(82).string(A$1.uuid),A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(88).int64(A$1.flags),A$1.code!=null&&Object.hasOwnProperty.call(A$1,`code`)&&e.uint32(96).int32(A$1.code),A$1.leaseid!=null&&Object.hasOwnProperty.call(A$1,`leaseid`)&&e.uint32(106).string(A$1.leaseid),A$1.eventtype!=null&&Object.hasOwnProperty.call(A$1,`eventtype`)&&e.uint32(114).string(A$1.eventtype),A$1.sdktype!=null&&Object.hasOwnProperty.call(A$1,`sdktype`)&&e.uint32(120).int32(A$1.sdktype),A$1.requestts!=null&&Object.hasOwnProperty.call(A$1,`requestts`)&&e.uint32(128).int64(A$1.requestts),A$1.replyts!=null&&Object.hasOwnProperty.call(A$1,`replyts`)&&e.uint32(136).int64(A$1.replyts),A$1.ttl!=null&&Object.hasOwnProperty.call(A$1,`ttl`)&&e.uint32(144).int64(A$1.ttl),A$1.usersid!=null&&Object.hasOwnProperty.call(A$1,`usersid`)&&e.uint32(154).string(A$1.usersid),A$1.sdkip!=null&&Object.hasOwnProperty.call(A$1,`sdkip`)&&e.uint32(162).string(A$1.sdkip),e},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/SyncLockAcquireEvent`},A})(),SyncLockReleaseEvent=$root.SyncLockReleaseEvent=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.ip=``,A.prototype.userid=``,A.prototype.sid=``,A.prototype.index=null,A.prototype.target=``,A.prototype.lock=``,A.prototype.uuid=``,A.prototype.flags=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.code=0,A.prototype.leaseid=``,A.prototype.eventtype=``,A.prototype.sdktype=0,A.prototype.requestts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.replyts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.usersid=``,A.prototype.sdkip=``,A.encode=function(A$1,e){return e||=$Writer.create(),A$1.lts!=null&&Object.hasOwnProperty.call(A$1,`lts`)&&e.uint32(8).int64(A$1.lts),A$1.vid!=null&&Object.hasOwnProperty.call(A$1,`vid`)&&e.uint32(16).int64(A$1.vid),A$1.ip!=null&&Object.hasOwnProperty.call(A$1,`ip`)&&e.uint32(26).string(A$1.ip),A$1.userid!=null&&Object.hasOwnProperty.call(A$1,`userid`)&&e.uint32(34).string(A$1.userid),A$1.sid!=null&&Object.hasOwnProperty.call(A$1,`sid`)&&e.uint32(42).string(A$1.sid),A$1.index!=null&&Object.hasOwnProperty.call(A$1,`index`)&&$root.CommonIndex.encode(A$1.index,e.uint32(50).fork()).ldelim(),A$1.target!=null&&Object.hasOwnProperty.call(A$1,`target`)&&e.uint32(58).string(A$1.target),A$1.lock!=null&&Object.hasOwnProperty.call(A$1,`lock`)&&e.uint32(66).string(A$1.lock),A$1.uuid!=null&&Object.hasOwnProperty.call(A$1,`uuid`)&&e.uint32(74).string(A$1.uuid),A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(80).int64(A$1.flags),A$1.code!=null&&Object.hasOwnProperty.call(A$1,`code`)&&e.uint32(88).int32(A$1.code),A$1.leaseid!=null&&Object.hasOwnProperty.call(A$1,`leaseid`)&&e.uint32(98).string(A$1.leaseid),A$1.eventtype!=null&&Object.hasOwnProperty.call(A$1,`eventtype`)&&e.uint32(106).string(A$1.eventtype),A$1.sdktype!=null&&Object.hasOwnProperty.call(A$1,`sdktype`)&&e.uint32(112).int32(A$1.sdktype),A$1.requestts!=null&&Object.hasOwnProperty.call(A$1,`requestts`)&&e.uint32(120).int64(A$1.requestts),A$1.replyts!=null&&Object.hasOwnProperty.call(A$1,`replyts`)&&e.uint32(128).int64(A$1.replyts),A$1.usersid!=null&&Object.hasOwnProperty.call(A$1,`usersid`)&&e.uint32(138).string(A$1.usersid),A$1.sdkip!=null&&Object.hasOwnProperty.call(A$1,`sdkip`)&&e.uint32(146).string(A$1.sdkip),e},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/SyncLockReleaseEvent`},A})(),SyncLockUpdateEvent=$root.SyncLockUpdateEvent=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.ip=``,A.prototype.userid=``,A.prototype.sid=``,A.prototype.index=null,A.prototype.target=``,A.prototype.lock=``,A.prototype.flags=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.code=0,A.prototype.eventtype=``,A.prototype.sdktype=0,A.prototype.replyts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.usersid=``,A.prototype.sdkip=``,A.encode=function(A$1,e){return e||=$Writer.create(),A$1.lts!=null&&Object.hasOwnProperty.call(A$1,`lts`)&&e.uint32(8).int64(A$1.lts),A$1.vid!=null&&Object.hasOwnProperty.call(A$1,`vid`)&&e.uint32(16).int64(A$1.vid),A$1.ip!=null&&Object.hasOwnProperty.call(A$1,`ip`)&&e.uint32(26).string(A$1.ip),A$1.userid!=null&&Object.hasOwnProperty.call(A$1,`userid`)&&e.uint32(34).string(A$1.userid),A$1.sid!=null&&Object.hasOwnProperty.call(A$1,`sid`)&&e.uint32(42).string(A$1.sid),A$1.index!=null&&Object.hasOwnProperty.call(A$1,`index`)&&$root.CommonIndex.encode(A$1.index,e.uint32(50).fork()).ldelim(),A$1.target!=null&&Object.hasOwnProperty.call(A$1,`target`)&&e.uint32(58).string(A$1.target),A$1.lock!=null&&Object.hasOwnProperty.call(A$1,`lock`)&&e.uint32(66).string(A$1.lock),A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(72).int64(A$1.flags),A$1.code!=null&&Object.hasOwnProperty.call(A$1,`code`)&&e.uint32(80).int32(A$1.code),A$1.eventtype!=null&&Object.hasOwnProperty.call(A$1,`eventtype`)&&e.uint32(90).string(A$1.eventtype),A$1.sdktype!=null&&Object.hasOwnProperty.call(A$1,`sdktype`)&&e.uint32(96).int32(A$1.sdktype),A$1.replyts!=null&&Object.hasOwnProperty.call(A$1,`replyts`)&&e.uint32(104).int64(A$1.replyts),A$1.usersid!=null&&Object.hasOwnProperty.call(A$1,`usersid`)&&e.uint32(114).string(A$1.usersid),A$1.sdkip!=null&&Object.hasOwnProperty.call(A$1,`sdkip`)&&e.uint32(122).string(A$1.sdkip),e},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/SyncLockUpdateEvent`},A})(),SyncLockDisableEvent=$root.SyncLockDisableEvent=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.ip=``,A.prototype.userid=``,A.prototype.sid=``,A.prototype.index=null,A.prototype.target=``,A.prototype.lock=``,A.prototype.leaseid=``,A.prototype.uuid=``,A.prototype.flags=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.code=0,A.prototype.eventtype=``,A.prototype.sdktype=0,A.prototype.requestts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.replyts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.usersid=``,A.prototype.sdkip=``,A.encode=function(A$1,e){return e||=$Writer.create(),A$1.lts!=null&&Object.hasOwnProperty.call(A$1,`lts`)&&e.uint32(8).int64(A$1.lts),A$1.vid!=null&&Object.hasOwnProperty.call(A$1,`vid`)&&e.uint32(16).int64(A$1.vid),A$1.ip!=null&&Object.hasOwnProperty.call(A$1,`ip`)&&e.uint32(26).string(A$1.ip),A$1.userid!=null&&Object.hasOwnProperty.call(A$1,`userid`)&&e.uint32(34).string(A$1.userid),A$1.sid!=null&&Object.hasOwnProperty.call(A$1,`sid`)&&e.uint32(42).string(A$1.sid),A$1.index!=null&&Object.hasOwnProperty.call(A$1,`index`)&&$root.CommonIndex.encode(A$1.index,e.uint32(50).fork()).ldelim(),A$1.target!=null&&Object.hasOwnProperty.call(A$1,`target`)&&e.uint32(58).string(A$1.target),A$1.lock!=null&&Object.hasOwnProperty.call(A$1,`lock`)&&e.uint32(66).string(A$1.lock),A$1.leaseid!=null&&Object.hasOwnProperty.call(A$1,`leaseid`)&&e.uint32(74).string(A$1.leaseid),A$1.uuid!=null&&Object.hasOwnProperty.call(A$1,`uuid`)&&e.uint32(82).string(A$1.uuid),A$1.flags!=null&&Object.hasOwnProperty.call(A$1,`flags`)&&e.uint32(88).int64(A$1.flags),A$1.code!=null&&Object.hasOwnProperty.call(A$1,`code`)&&e.uint32(96).int32(A$1.code),A$1.eventtype!=null&&Object.hasOwnProperty.call(A$1,`eventtype`)&&e.uint32(106).string(A$1.eventtype),A$1.sdktype!=null&&Object.hasOwnProperty.call(A$1,`sdktype`)&&e.uint32(112).int32(A$1.sdktype),A$1.requestts!=null&&Object.hasOwnProperty.call(A$1,`requestts`)&&e.uint32(120).int64(A$1.requestts),A$1.replyts!=null&&Object.hasOwnProperty.call(A$1,`replyts`)&&e.uint32(128).int64(A$1.replyts),A$1.usersid!=null&&Object.hasOwnProperty.call(A$1,`usersid`)&&e.uint32(138).string(A$1.usersid),A$1.sdkip!=null&&Object.hasOwnProperty.call(A$1,`sdkip`)&&e.uint32(146).string(A$1.sdkip),e},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/SyncLockDisableEvent`},A})(),StreamChnJoin=$root.StreamChnJoin=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.sid=``,A.prototype.userId=``,A.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.channelName=``,A.prototype.joinOptionsFlag=0,A.prototype.rtcSid=``,A.prototype.preState=0,A.prototype.seq=$util.Long?$util.Long.fromBits(0,0,!1):0,A.encode=function(A$1,e){return e||=$Writer.create(),A$1.lts!=null&&Object.hasOwnProperty.call(A$1,`lts`)&&e.uint32(8).int64(A$1.lts),A$1.vid!=null&&Object.hasOwnProperty.call(A$1,`vid`)&&e.uint32(16).int64(A$1.vid),A$1.sid!=null&&Object.hasOwnProperty.call(A$1,`sid`)&&e.uint32(26).string(A$1.sid),A$1.userId!=null&&Object.hasOwnProperty.call(A$1,`userId`)&&e.uint32(34).string(A$1.userId),A$1.elapse!=null&&Object.hasOwnProperty.call(A$1,`elapse`)&&e.uint32(40).int64(A$1.elapse),A$1.channelName!=null&&Object.hasOwnProperty.call(A$1,`channelName`)&&e.uint32(50).string(A$1.channelName),A$1.joinOptionsFlag!=null&&Object.hasOwnProperty.call(A$1,`joinOptionsFlag`)&&e.uint32(56).int32(A$1.joinOptionsFlag),A$1.rtcSid!=null&&Object.hasOwnProperty.call(A$1,`rtcSid`)&&e.uint32(66).string(A$1.rtcSid),A$1.preState!=null&&Object.hasOwnProperty.call(A$1,`preState`)&&e.uint32(72).int32(A$1.preState),A$1.seq!=null&&Object.hasOwnProperty.call(A$1,`seq`)&&e.uint32(80).int64(A$1.seq),e},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/StreamChnJoin`},A})(),StreamChnLeave=$root.StreamChnLeave=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.sid=``,A.prototype.userId=``,A.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.channelName=``,A.prototype.preState=0,A.prototype.seq=$util.Long?$util.Long.fromBits(0,0,!1):0,A.encode=function(A$1,e){return e||=$Writer.create(),A$1.lts!=null&&Object.hasOwnProperty.call(A$1,`lts`)&&e.uint32(8).int64(A$1.lts),A$1.vid!=null&&Object.hasOwnProperty.call(A$1,`vid`)&&e.uint32(16).int64(A$1.vid),A$1.sid!=null&&Object.hasOwnProperty.call(A$1,`sid`)&&e.uint32(26).string(A$1.sid),A$1.userId!=null&&Object.hasOwnProperty.call(A$1,`userId`)&&e.uint32(34).string(A$1.userId),A$1.elapse!=null&&Object.hasOwnProperty.call(A$1,`elapse`)&&e.uint32(40).int64(A$1.elapse),A$1.channelName!=null&&Object.hasOwnProperty.call(A$1,`channelName`)&&e.uint32(50).string(A$1.channelName),A$1.preState!=null&&Object.hasOwnProperty.call(A$1,`preState`)&&e.uint32(56).int32(A$1.preState),A$1.seq!=null&&Object.hasOwnProperty.call(A$1,`seq`)&&e.uint32(64).int64(A$1.seq),e},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/StreamChnLeave`},A})(),TopicJoin=$root.TopicJoin=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.sid=``,A.prototype.userId=``,A.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.channelName=``,A.prototype.topicName=``,A.prototype.qos=0,A.prototype.priority=0,A.prototype.syncWithMedia=0,A.prototype.streamId=0,A.prototype.errorCode=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.seq=$util.Long?$util.Long.fromBits(0,0,!1):0,A.encode=function(A$1,e){return e||=$Writer.create(),A$1.lts!=null&&Object.hasOwnProperty.call(A$1,`lts`)&&e.uint32(8).int64(A$1.lts),A$1.vid!=null&&Object.hasOwnProperty.call(A$1,`vid`)&&e.uint32(16).int64(A$1.vid),A$1.sid!=null&&Object.hasOwnProperty.call(A$1,`sid`)&&e.uint32(26).string(A$1.sid),A$1.userId!=null&&Object.hasOwnProperty.call(A$1,`userId`)&&e.uint32(34).string(A$1.userId),A$1.elapse!=null&&Object.hasOwnProperty.call(A$1,`elapse`)&&e.uint32(40).int64(A$1.elapse),A$1.channelName!=null&&Object.hasOwnProperty.call(A$1,`channelName`)&&e.uint32(50).string(A$1.channelName),A$1.topicName!=null&&Object.hasOwnProperty.call(A$1,`topicName`)&&e.uint32(58).string(A$1.topicName),A$1.qos!=null&&Object.hasOwnProperty.call(A$1,`qos`)&&e.uint32(64).int32(A$1.qos),A$1.priority!=null&&Object.hasOwnProperty.call(A$1,`priority`)&&e.uint32(72).int32(A$1.priority),A$1.syncWithMedia!=null&&Object.hasOwnProperty.call(A$1,`syncWithMedia`)&&e.uint32(80).int32(A$1.syncWithMedia),A$1.streamId!=null&&Object.hasOwnProperty.call(A$1,`streamId`)&&e.uint32(88).int32(A$1.streamId),A$1.errorCode!=null&&Object.hasOwnProperty.call(A$1,`errorCode`)&&e.uint32(96).int64(A$1.errorCode),A$1.seq!=null&&Object.hasOwnProperty.call(A$1,`seq`)&&e.uint32(104).int64(A$1.seq),e},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/TopicJoin`},A})(),TopicLeave=$root.TopicLeave=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.sid=``,A.prototype.userId=``,A.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.channelName=``,A.prototype.topicName=``,A.prototype.streamId=0,A.prototype.seq=$util.Long?$util.Long.fromBits(0,0,!1):0,A.encode=function(A$1,e){return e||=$Writer.create(),A$1.lts!=null&&Object.hasOwnProperty.call(A$1,`lts`)&&e.uint32(8).int64(A$1.lts),A$1.vid!=null&&Object.hasOwnProperty.call(A$1,`vid`)&&e.uint32(16).int64(A$1.vid),A$1.sid!=null&&Object.hasOwnProperty.call(A$1,`sid`)&&e.uint32(26).string(A$1.sid),A$1.userId!=null&&Object.hasOwnProperty.call(A$1,`userId`)&&e.uint32(34).string(A$1.userId),A$1.elapse!=null&&Object.hasOwnProperty.call(A$1,`elapse`)&&e.uint32(40).int64(A$1.elapse),A$1.channelName!=null&&Object.hasOwnProperty.call(A$1,`channelName`)&&e.uint32(50).string(A$1.channelName),A$1.topicName!=null&&Object.hasOwnProperty.call(A$1,`topicName`)&&e.uint32(58).string(A$1.topicName),A$1.streamId!=null&&Object.hasOwnProperty.call(A$1,`streamId`)&&e.uint32(64).int32(A$1.streamId),A$1.seq!=null&&Object.hasOwnProperty.call(A$1,`seq`)&&e.uint32(72).int64(A$1.seq),e},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/TopicLeave`},A})(),TopicSubscribe=$root.TopicSubscribe=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.sid=``,A.prototype.userId=``,A.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.channelName=``,A.prototype.topicName=``,A.prototype.randomSubscribe=0,A.prototype.preSubscribe=0,A.prototype.userCount=0,A.prototype.seq=$util.Long?$util.Long.fromBits(0,0,!1):0,A.encode=function(A$1,e){return e||=$Writer.create(),A$1.lts!=null&&Object.hasOwnProperty.call(A$1,`lts`)&&e.uint32(8).int64(A$1.lts),A$1.vid!=null&&Object.hasOwnProperty.call(A$1,`vid`)&&e.uint32(16).int64(A$1.vid),A$1.sid!=null&&Object.hasOwnProperty.call(A$1,`sid`)&&e.uint32(42).string(A$1.sid),A$1.userId!=null&&Object.hasOwnProperty.call(A$1,`userId`)&&e.uint32(50).string(A$1.userId),A$1.elapse!=null&&Object.hasOwnProperty.call(A$1,`elapse`)&&e.uint32(56).int64(A$1.elapse),A$1.channelName!=null&&Object.hasOwnProperty.call(A$1,`channelName`)&&e.uint32(66).string(A$1.channelName),A$1.topicName!=null&&Object.hasOwnProperty.call(A$1,`topicName`)&&e.uint32(74).string(A$1.topicName),A$1.randomSubscribe!=null&&Object.hasOwnProperty.call(A$1,`randomSubscribe`)&&e.uint32(80).int32(A$1.randomSubscribe),A$1.preSubscribe!=null&&Object.hasOwnProperty.call(A$1,`preSubscribe`)&&e.uint32(88).int32(A$1.preSubscribe),A$1.userCount!=null&&Object.hasOwnProperty.call(A$1,`userCount`)&&e.uint32(96).int32(A$1.userCount),A$1.seq!=null&&Object.hasOwnProperty.call(A$1,`seq`)&&e.uint32(104).int64(A$1.seq),e},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/TopicSubscribe`},A})(),TopicUnsubscribe=$root.TopicUnsubscribe=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.sid=``,A.prototype.userId=``,A.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.channelName=``,A.prototype.topicName=``,A.prototype.seq=$util.Long?$util.Long.fromBits(0,0,!1):0,A.encode=function(A$1,e){return e||=$Writer.create(),A$1.lts!=null&&Object.hasOwnProperty.call(A$1,`lts`)&&e.uint32(8).int64(A$1.lts),A$1.vid!=null&&Object.hasOwnProperty.call(A$1,`vid`)&&e.uint32(16).int64(A$1.vid),A$1.sid!=null&&Object.hasOwnProperty.call(A$1,`sid`)&&e.uint32(26).string(A$1.sid),A$1.userId!=null&&Object.hasOwnProperty.call(A$1,`userId`)&&e.uint32(34).string(A$1.userId),A$1.elapse!=null&&Object.hasOwnProperty.call(A$1,`elapse`)&&e.uint32(40).int64(A$1.elapse),A$1.channelName!=null&&Object.hasOwnProperty.call(A$1,`channelName`)&&e.uint32(50).string(A$1.channelName),A$1.topicName!=null&&Object.hasOwnProperty.call(A$1,`topicName`)&&e.uint32(58).string(A$1.topicName),A$1.seq!=null&&Object.hasOwnProperty.call(A$1,`seq`)&&e.uint32(72).int64(A$1.seq),e},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/TopicUnsubscribe`},A})(),TopicUpdateEvent=$root.TopicUpdateEvent=(()=>{function A(A$1){if(A$1)for(let e=Object.keys(A$1),t=0;t<e.length;++t)A$1[e[t]]!=null&&(this[e[t]]=A$1[e[t]])}return A.prototype.lts=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.vid=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.sid=``,A.prototype.userId=``,A.prototype.elapse=$util.Long?$util.Long.fromBits(0,0,!1):0,A.prototype.channelName=``,A.prototype.topicEventType=0,A.prototype.topicInfo=``,A.encode=function(A$1,e){return e||=$Writer.create(),A$1.lts!=null&&Object.hasOwnProperty.call(A$1,`lts`)&&e.uint32(8).int64(A$1.lts),A$1.vid!=null&&Object.hasOwnProperty.call(A$1,`vid`)&&e.uint32(16).int64(A$1.vid),A$1.sid!=null&&Object.hasOwnProperty.call(A$1,`sid`)&&e.uint32(26).string(A$1.sid),A$1.userId!=null&&Object.hasOwnProperty.call(A$1,`userId`)&&e.uint32(34).string(A$1.userId),A$1.elapse!=null&&Object.hasOwnProperty.call(A$1,`elapse`)&&e.uint32(40).int64(A$1.elapse),A$1.channelName!=null&&Object.hasOwnProperty.call(A$1,`channelName`)&&e.uint32(50).string(A$1.channelName),A$1.topicEventType!=null&&Object.hasOwnProperty.call(A$1,`topicEventType`)&&e.uint32(56).int32(A$1.topicEventType),A$1.topicInfo!=null&&Object.hasOwnProperty.call(A$1,`topicInfo`)&&e.uint32(66).string(A$1.topicInfo),e},A.getTypeUrl=function(A$1){return A$1===void 0&&(A$1=`type.googleapis.com`),A$1+`/TopicUpdateEvent`},A})();var ProtoPackets=Object.freeze({__proto__:null,ApEvent,ApRequest,ChannelPresenceSnapshotEvent,ChnJoin,ChnJoinRes,ChnLeave,CommonIndex,KickedOff,Link,LinkLoginRequest,LinkStateChange,LinkTcpEvent,LoginResult,Logout,ProtoRaws,RenewToken,RenewTokenRes,Session,StreamChnJoin,StreamChnLeave,SyncLockAcquireEvent,SyncLockDisableEvent,SyncLockReleaseEvent,SyncLockUpdateEvent,SyncOperateEvent,SyncSubscribeEvent,SyncUpdateEvent,TopicJoin,TopicLeave,TopicSubscribe,TopicUnsubscribe,TopicUpdateEvent,default:$root});const EVENT_REPORT_DOMAIN=`webcollector-rtm.agora.io`,EVENT_REPORT_BACKUP_DOMAIN=`rtm.statscollector.sd-rtn.com`,maxReportCount=20,reportInterval=1e4,forceReportInterval=6e4,eventsCacheKeyPrefix=`events-`;let lastReportTime=0;const storageEvents=new Map;let reportDomainIdx=0;function getReportDomain(){try{var A;let e=getParameter(`EVENT_REPORT_DOMAIN_LIST`)??[];return reportDomainIdx>=e.length&&(reportDomainIdx=0),e[reportDomainIdx]}catch(A$1){return console.error(A$1),``}}function initStorageCache(A){storageEvents.has(A)||storageEvents.set(A,[])}const decodeHexAsBytes=A=>{var e;return A.match(/.{1,2}/g)?.map(A$1=>parseInt(A$1,16))??[]},genAid=A=>{let e=decodeHexAsBytes(A),t=[e[0],e[4],e[8],e[12]];return t.reduce((A$1,e$1,g)=>A$1|e$1<<8*(t.length-1-g),0)>>>0};async function batchSendReport(A,e,t){var g;lastReportTime=Date.now();let o=t&&getPrivateSettingsPortAndDomains(t),I=o?.port,i$1=o?.hostname,r=i$1?.length??0,n=i$1&&i$1[0],C=i$1&&i$1[r-1],E=async function(g$1){var o$1;let i$2=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;i$2>3||await postWithAbortSignal(e&&!t?`https://${areaConfig?.PROXY_NGINX[0]??`webrtc-cloud-proxy.sd-rtn.com`}/rs/?h=${g$1}&p=${I??443}&d=events/proto-raws`:`https://${getReportDomain()||g$1}${I?`:${I}`:``}/events/proto-raws`,{body:A,timeout:2e4,headers:{"Content-Type":`application/octet-stream`}}).catch(A$1=>(reportDomainIdx++,E(g$1,i$2+1)))};try{await E(areaConfig?.EVENT_REPORT_DOMAIN[0]||isValidEnvString(null)&&null||(n??`webcollector-rtm.agora.io`))}catch{await E(areaConfig&&sample$1(areaConfig?.EVENT_REPORT_DOMAIN.length>1?areaConfig?.EVENT_REPORT_DOMAIN.slice(1):areaConfig?.EVENT_REPORT_DOMAIN)||(C??`rtm.statscollector.sd-rtn.com`))}}function triggerReport(A,e,t,g){let o=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(!1===navigator.onLine)return;let I=`${eventsCacheKeyPrefix}${A}`;initStorageCache(I);let i$1=storageEvents.get(I);if(i$1.length!==0&&(!(i$1.length<20)||o))for(;i$1.length>0;){let o$1=i$1.length>20?20:i$1.length,r=i$1.splice(0,o$1);storageEvents.set(I,i$1);let n=Math.ceil(Date.now()/1e3);batchSendReport(ProtoRaws.encode(Object.assign({vid:Long$1.fromNumber(Number(A)),sendTs:Long$1.fromNumber(n),payloads:r},Number(A)===0?{aid:Long$1.fromNumber(genAid(e))}:{})).finish(),t,g)}}function initEventReportTimer(A,e,t,g){return setInterval(()=>{triggerReport(A,e,t,g,Date.now()-lastReportTime>6e4)},1e4)}function clearEventReportTimer(A){clearInterval(A)}async function addReportEvents(A,e,t,g,o,I){let i$1=ProtoPackets[e].encode(t).finish(),r=ReportId[e],n={id:Long$1.fromNumber(r),msg:i$1},C=`${eventsCacheKeyPrefix}${I}`;initStorageCache(C);let E=storageEvents.get(C);E.push(n),storageEvents.set(C,E),E.length>=20&&triggerReport(I,A,g,o,!0)}async function sendReport(A,e,t,g,o){arguments.length>5&&arguments[5]!==void 0&&arguments[5]&&await mockPromiseDelay(1e4);let i$1=(o&&getPrivateSettingsPortAndDomains(o))?.hostname;addReportEvents(A,e,t,g,o,`0`),triggerReport(`0`,A,g,i$1,!0)}function getElapse(A){return A===void 0?Long$1.fromNumber(0):Long$1.fromNumber(Date.now()-A)}function rateLimit(A){let e=1,t=asapScheduler;(arguments.length<=1?0:arguments.length-1)==1?typeof(arguments.length<=1?void 0:arguments[1])==`number`?e=arguments.length<=1?void 0:arguments[1]:t=arguments.length<=1?void 0:arguments[1]:(arguments.length<=1?0:arguments.length-1)==2&&(e=arguments.length<=1?void 0:arguments[1],t=arguments.length<=2?void 0:arguments[2]);let g=e||1;return e$1=>e$1.pipe(scan((e$2,o)=>{let I=t.now(),i$1=I-A;if((e$2=e$2.filter(A$1=>A$1.until>i$1)).length>=g){let t$1=e$2[0],i$2=e$2[e$2.length-1],r=t$1.until+A*Math.floor(e$2.length/g);e$2.push({delay:i$2.until<I?r-I:r-i$2.until,until:r,value:o})}else e$2.push({delay:0,until:I,value:o});return e$2},[]),map$1(A$1=>A$1[A$1.length-1]),concatMap(A$1=>{let e$2=of(A$1.value);return A$1.delay?e$2.pipe(delay(A$1.delay,t)):e$2}))}const SocketError=genError(),deprecatedURI=[URI$1.PingUri,URI$1.PongUri,URI$1.Ping2Uri,URI$1.UserJoinUri,URI$1.UserRespUri,URI$1.UserQuitUri,URI$1.GroupEventNoticeUri,URI$1.UserStatusListUri,URI$1.UserStatusResultUri,URI$1.GroupStatusListUri,URI$1.GroupStatusResultUri,URI$1.UserJoinNoticeUri,URI$1.UserQuitNoticeUri,URI$1.UserWaitNoticeUri,URI$1.UserAttributeGetUri,URI$1.UserAttributeRetUri,URI$1.UserAttributeSetUri,URI$1.UserAttributeModUri,URI$1.UserAttributeDelUri,URI$1.UserAttributeRspUri,URI$1.UserAttributeErrUri,URI$1.UserAttributeKeysGetUri,URI$1.UserAttributeKeysRetUri,URI$1.GroupAttributeGetUri,URI$1.GroupAttributeRetUri,URI$1.GroupAttributeSetUri,URI$1.GroupAttributeModUri,URI$1.GroupAttributeDelUri,URI$1.GroupAttributeAltUri,URI$1.GroupAttributeRspUri,URI$1.GroupAttributeErrUri,URI$1.GroupAttributeKeysGetUri,URI$1.GroupAttributeKeysRetUri,URI$1.SubscribeUserStatusUri,URI$1.UnsubscribeUserStatusUri,URI$1.SubscribeResponseUri];class Socket extends EventBase{get address(){return`${this.ip}:${this.EDGE_ENV_PORT[this.env]}`}get reOpened(){return this._reOpened}constructor(A,e,t,g,o,I,i$1){var r;if(super(o,uniquePrefixedId(`Socket-`,o.loggerId)),_defineProperty$1(this,`isActiveClose`,!1),_defineProperty$1(this,`loggedIn`,!1),_defineProperty$1(this,`useNewDomain`,void 0),_defineProperty$1(this,`receivedPacket`,new Subject),_defineProperty$1(this,`receivedSyncPacket`,new Subject),_defineProperty$1(this,`open$`,void 0),_defineProperty$1(this,`input$`,new Subject),_defineProperty$1(this,`userJoin$`,new Subject),_defineProperty$1(this,`EDGE_ENV_PORT`,getParameter(`EDGE_ENV_PORT`)??EDGE_ENV_PORT),_defineProperty$1(this,`attemptsSinceLastError`,0),_defineProperty$1(this,`message$`,new Subject),_defineProperty$1(this,`socket$`,void 0),_defineProperty$1(this,`toClose`,new Subject),_defineProperty$1(this,`toReconnect`,new Subject),_defineProperty$1(this,`sendLogger`,void 0),_defineProperty$1(this,`receiveLogger`,void 0),_defineProperty$1(this,`ip`,void 0),_defineProperty$1(this,`env`,void 0),_defineProperty$1(this,`ticket`,void 0),_defineProperty$1(this,`context`,void 0),_defineProperty$1(this,`opened`,!1),_defineProperty$1(this,`reConnect`,!1),_defineProperty$1(this,`proxyIdx`,0),_defineProperty$1(this,`edgeDomain`,void 0),_defineProperty$1(this,`_reOpened`,!1),_defineProperty$1(this,`getDomain`,()=>{var A$1;return getEdgeDomain(this.ip,this.useNewDomain,this.context.rtmConfig.privateConfig?.originDomains,this.edgeDomain)}),_defineProperty$1(this,`socketReconnector`,A$1=>{let e$1=A$2=>(this.warn(`The %s of Env %d reconnecting %s`,this.name,this.env,A$2.message),this.reConnect=!0,timer(SOCKET_RETRY_INTERVAL));return A$1.pipe(catchError(A$2=>this.isActiveClose?EMPTY:(this.attemptsSinceLastError+=1,this.logError(`Env_${this.env}(${this.name}): socket connection closed, errorInfo: %o`,A$2),this.loggedIn=!1,this.attemptsSinceLastError>=2?(this.log(`ENV_${this.env}(${this.name}): will emit socketFailure`),this.close(),this.emit(`socketFailure`),throwError(A$2)):this.isActiveClose?EMPTY:(this.log(`ENV_${this.env}(${this.name}): will emit reconnect`),this.emit(`reconnect`),this.useNewDomain=!this.useNewDomain,throwError(A$2)))),retryWhen(A$2=>A$2.pipe(switchMap(e$1))),tap(()=>{this.reConnect&&this.env===this.context.connSyncEnv&&(this.reConnect=!1)}))}),this.ip=A,this.env=e,this.ticket=t,this.context=g,this.useNewDomain=I??Math.random()>=.5,this.edgeDomain=i$1??``,this.sendLogger=this.genLogger(`RTM:MSG:SEND`),this.receiveLogger=this.genLogger(`RTM:MSG:RECV`),e!==0&&e!==1)throw new SocketError({ILLEGAL_RTM_ENV:`The env number is out of rtm env count`});let n=this.EDGE_ENV_PORT[e];this.log(`Opening websocket address %s for the Env %d, %s`,maskIp(this.ip),this.env,this.name),this.context.addReportEvents(`LinkLoginRequest`,{sid:this.context.sid,userId:this.context.uid,lts:Long$1.fromNumber(Date.now()),elapse:getElapse(this.context.startTime),destServerIp:this.ip,linkId:this.env});let C=merge(this.input$,this.userJoin$.pipe(rateLimit(2)),this.message$).pipe(map$1(A$1=>Wrapper$1.encode(A$1).finish()));this.socket$=race(merge(makeWebSocketObservable(``,{protocols:[],makeWebSocket:()=>{let e$1,t$1=getParameter(`REGISTRAR_USE_WS`)?`ws`:`wss`;if(this.log(`registrar websocket use ${t$1}`),this.context.addReportEvents(`LinkTcpEvent`,{sid:this.context.sid,userId:this.context.uid,lts:Long$1.fromNumber(Date.now()),elapse:getElapse(this.context.startTime),destServerIp:A,action:`create`,code:0,responseTime:0,version:10,subVersion:100,connectionsequence:Long$1.fromNumber(0,!0),linktype:4,linkflag:Long$1.fromNumber(0,!0),linkenv:this.env}),!this.context.config.cloudProxy&&!this.context.socketUseProxy||this.context.enablePrivate){let A$1=parseHost(this.getDomain(),n);e$1=new WebSocket(`${t$1}://${A$1.domain}:${A$1.port}`),e$1 instanceof WebSocket&&(e$1.addEventListener(`close`,A$2=>{this.log(`ws onclose, code: %d, reason: '%s', env: %d, name: %s`,A$2.code,A$2.reason,this.env,this.name)}),e$1.addEventListener(`error`,A$2=>{this.log(`ws onerror, env: %d, name: %s, error: %o`,this.env,this.name,A$2)}),e$1.addEventListener(`open`,A$2=>{this.log(`ws open, env: %d, name: %s`,this.env,this.name)}))}else{var g$1;if(this.context.cloudProxyServers.length===0)throw this.logError(`No cloud proxy server to connect, env: %d, name: %s`,this.env,this.name),new RtmUnavailableError(``);let o$1=(isValidEnvString()?JSON.parse(null.replace(/-/g,`.`)):this.context.cloudProxyServers)[this.genProxyIdx()];this.log(`Using cloud proxy server %s, env: %d, name: %s`,o$1,this.env,this.name);let I$1=parseHost(getEdgeDomain(o$1,!1,this.context.rtmConfig.privateConfig?.originDomains)),i$2=`${t$1}://${I$1.domain}/`;i$2=appendQueryParameter(i$2,`sid`,this.context.sid),i$2=appendQueryParameter(i$2,`remote_port`,n.toString()),i$2=appendQueryParameter(i$2,`remote_ip`,this.ip),i$2=appendQueryParameter(i$2,`token`,this.context.key),e$1=new WebSocket(`${i$2}:${I$1.port}`)}return e$1.binaryType=`arraybuffer`,e$1}}),this.toReconnect),NEVER.pipe(timeout(7e3),catchError(A$1=>(isTimeout(A$1)?this.warn(`ENV_${this.env}(${this.name}): socket open timed out`):this.logError(`ENV_${this.env}(${this.name}): error occurs of opening socket: %o`,A$1),throwError(A$1))))).pipe(map$1(A$1=>{if(A$1 instanceof Error)throw this.warn(`Env_%d: Force reconnect the socket`,this.env),A$1;return A$1(C).pipe(map$1(A$2=>Wrapper$1.decode(new Uint8Array(A$2))))}),this.socketReconnector),this.open$=this.socket$.pipe(tap(e$1=>{this.log(`ENV_${this.env}: Websocket opened, addr: ${maskIp(this.address)}`,this.name),this.context.addReportEvents(`LinkTcpEvent`,{sid:this.context.sid,userId:this.context.uid,lts:Long$1.fromNumber(Date.now()),elapse:getElapse(this.context.startTime),destServerIp:A,action:`on_connect`,code:0,responseTime:0,version:10,subVersion:100,connectionsequence:Long$1.fromNumber(0,!0),linktype:4,linkflag:Long$1.fromNumber(0,!0),linkenv:this.env}),e$1.subscribe(A$1=>{let{data:e$2,uri:t$1}=A$1;if(t$1===URI$1.SyncPacketUri)return getSyncPacketUri(e$2),void this.receivedSyncPacket.next(e$2);let g$1=uriToPacketName(t$1),o$1=Packets[g$1].decode(e$2);if(deprecatedURI.includes(t$1))return void this.receiveLogger(`Env_%d: %s, deprecated.`,this.env,g$1);let I$1=mergeWith$1({},omit$1(o$1,`toJSON`),(A$2,e$3)=>e$3 instanceof Long$1?longToStringIfNeeded(e$3):e$3),i$2=!1;if(o$1 instanceof GroupEnterNotice||o$1 instanceof GroupLeaveNotice){let{instance:A$2}=o$1;A$2.lessThanOrEqual(UINT32_MAX)&&(i$2=!0)}if(o$1 instanceof Message||o$1 instanceof Ack){let{instance:A$2,dialogue:e$3,sequence:t$2}=o$1;(e$3.lessThanOrEqual(UINT32_MAX)||A$2.lessThanOrEqual(UINT32_MAX)||t$2.lessThan(1))&&(i$2=!0)}i$2?this.warn(`Env_%d: Illegal %s, abandoned %o`,this.env,g$1,I$1):((getParameter(`LOG_PING_PONG`)||g$1!==`Pong3`)&&this.receiveLogger(`Env_%d: %s %o`,this.env,g$1,I$1),this.receivedPacket.next([g$1,o$1]))},()=>{})}),mapTo(void 0),takeUntil(this.toClose),share())}sendPacket(A,e){if(getParameter(`LOG_PING_PONG`)||A!==`Ping3`){let t$1=mapValues$1(e,A$1=>A$1 instanceof Long$1?longToStringIfNeeded(A$1):A$1);this.sendLogger(`Env_%d: %s %o`,this.env,A,t$1)}let t=getWrappedByName(A,e);A===`UserJoin2`?this.userJoin$.next(t):A===`Message`?this.message$.next(t):this.input$.next(t)}close(){this.log(`Closing websocket by client, name: %s, env: %d`,this.name,this.env),this.isActiveClose=!0,this.loggedIn=!1,this.toClose.next()}fromReceived(A){return this.receivedPacket.pipe(filter(e=>{let[t]=e;return t===A}),map$1(A$1=>{let[,e]=A$1;return e}))}sendSyncPacket(A){let e=getSyncWrapped(A),t=getSyncPacketUri(A);t!==102&&t!==104&&this.sendLogger(`Env_%d: %s send  sync packet uri: %d`,this.env,`SyncPacket`,t),this.input$.next(e)}forceReconnect(){this.toReconnect.next(new SocketError({FORCE_RECONNECTING:`Connection seems broken, try force reconnecting`}))}changeToReOpened(){this._reOpened=!0}genProxyIdx(){let A=this.proxyIdx;return this.proxyIdx=(A+1)%this.context.cloudProxyServers.length,A}}class AccessPoint extends EventBase{constructor(A,e){var t;let g=arguments.length>2&&arguments[2]!==void 0&&arguments[2];super(e,`AccessPoint`),_defineProperty$1(this,`queryApEdgeInfo$`,void 0),_defineProperty$1(this,`genApEdgeInfo$`,void 0),_defineProperty$1(this,`apFinish$`,new Subject),_defineProperty$1(this,`retryCount`,0),_defineProperty$1(this,`failedAreas`,new Set),_defineProperty$1(this,`replayedEdges`,new Map),_defineProperty$1(this,`lastEdges`,new Map),_defineProperty$1(this,`apDomainList`,[]),_defineProperty$1(this,`privateAccessPoints`,void 0),_defineProperty$1(this,`handleUniLbsError`,(A$1,e$1)=>{let t$1=OperationName.login,g$1=A$1;if(A$1.toString().length>4){let e$2=A$1.toString().padStart(8,`0`),t$2=parseInt(e$2.slice(0,4),10),o$1=parseInt(e$2.slice(4,8),10);if(t$2===201)g$1=o$1;else{if(t$2===101&&(UniLbsNonRetryableErrorCodes.includes(o$1)||o$1>0&&o$1<200)){let{code:A$2,reason:e$3}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_REJECTED);return throwError(new RtmUnavailableError(OperationName.login,[e$3],{code:A$2,serverCode:g$1}))}if(t$2===101&&o$1>=200)return this.warn(`AP lowFour code is %s, NO_SERVICE_AVAILABLE.`,o$1),EMPTY}}let o=g$1.toString();if(!Object.keys(ApResErrorCode).includes(o)){let{code:A$2,reason:e$2}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_REJECTED),o$1=new RtmUnavailableError(t$1,[e$2+`apCode is ${g$1}, unexpected code.`],{code:A$2,serverCode:g$1});return o$1.serverCode=g$1,throwError(o$1)}let I=ApResErrorCode[o];switch(this.warn(`%s: %s's error type is %s`,this.name,e$1,I),I){case`INVALID_APP_ID`:case`APP_ID_NO_ACTIVATED`:case`DYNAMIC_KEY_NOT_ENABLED`:{let{code:A$2,reason:e$2}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_APP_ID),o$1=new RtmUnauthenticatedError(t$1,[e$2+` detail: ${I}, ${ApResErrorMessage[I]}`],A$2);return o$1.serverCode=g$1,throwError(o$1)}case`NO_AUTHORIZED`:case`DYNAMIC_ENABLED_BUT_STATIC_KEY`:case`INVALID_USER_ID`:case`INVALID_TOKEN_UID`:{let{code:A$2,reason:e$2}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_TOKEN),o$1=new RtmUnauthenticatedError(t$1,[e$2+` detail: ${I}, ${ApResErrorMessage[I]}`],A$2);return o$1.serverCode=g$1,throwError(o$1)}case`TOKEN_TIMEOUT`:case`TOKEN_EXPIRED`:{let{code:A$2,reason:e$2}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_TOKEN_EXPIRED),o$1=new RtmUnauthenticatedError(t$1,[e$2+` detail: ${I}, ${ApResErrorMessage[I]}`],A$2);return o$1.serverCode=g$1,throwError(o$1)}case`CANNOT_MEET_AREA_DEMAND`:{let A$2=getAreaCodeByApUrl(e$1);A$2.forEach(A$3=>this.failedAreas.add(A$3));let o$1=areaConfig===void 0?2:areaConfig.CODES.size,{code:i$1,reason:r}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_NO_SERVER_RESOURCES);if(this.failedAreas.size===o$1){let A$3=new RtmInvalidArgumentError(t$1,[r+` detail: ${I}, ${ApResErrorMessage[I]}`],i$1);return A$3.serverCode=g$1,throwError(A$3)}let n=new RtmUnavailableError(t$1,[r+`${this.name} ${A$2.join(`, `)} cannot meet requirement`],i$1);return n.serverCode=g$1,throwError(n)}case`INIT_APPID_MISMATCH`:{let{code:A$2,reason:e$2}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INCONSISTENT_APPID),o$1=new RtmUnavailableError(t$1,[e$2],A$2);return o$1.serverCode=g$1,throwError(o$1)}case`NO_ACTIVE_PRODUCT_STATUS`:{let{code:A$2,reason:e$2}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_NOT_AUTHORIZED),o$1=new RtmUnauthenticatedError(t$1,[e$2+` detail: ${I}, ${ApResErrorMessage[I]}`],A$2);return o$1.serverCode=g$1,throwError(o$1)}default:{let{code:A$2,reason:e$2}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_REJECTED),o$1=new RtmUnavailableError(t$1,[e$2+` detail: ${I}, ${ApResErrorMessage[I]}`],A$2);return o$1.serverCode=g$1,throwError(o$1)}}}),_defineProperty$1(this,`generateShuffledUrls`,(A$1,e$1)=>{let t$1=[...A$1],g$1=[...e$1],o=[],I=t$1.length+g$1.length;for(;o.length<I;){let A$2=shuffle$1(t$1)[0];t$1.splice(t$1.indexOf(A$2),1),A$2&&o.push(A$2);let e$2=shuffle$1(g$1)[0];g$1.splice(g$1.indexOf(e$2),1),e$2&&o.push(e$2)}return o}),_defineProperty$1(this,`generateUrlStream`,()=>{var A$1;let e$1=this.apDomainList;return(A$1=this.privateAccessPoints)!=null&&A$1.length&&(e$1=shuffle$1(this.privateAccessPoints)),(this.context.config.cloudProxy||this.context.socketUseProxy)&&(e$1=areaConfig?.PROXY_AP||[`ap-proxy-1.agora.io`,`ap-proxy-2.agora.io`]),zip(of(...e$1)).pipe(concatMap(A$2=>of(...A$2)))}),_defineProperty$1(this,`getApUrl$`,A$1=>{var e$1,t$1;return this.generateUrlStream().pipe(take(((areaConfig==null||(t$1=areaConfig.CODES)==null?void 0:t$1.size)??0)||Number(getParameter(`CONCURRENT_AP_NUM`))||3),throwIfEmpty(()=>AccessPoint.runOutOfUrlSymbol),catchError((A$2,e$2)=>A$2===AccessPoint.runOutOfUrlSymbol?e$2:throwError(A$2)))}),_defineProperty$1(this,`context`,void 0),_defineProperty$1(this,`fetchCloudProxy`,(A$1,e$1)=>{let t$1=uniquePrefixedId(`AP-`,this.loggerId);this.log(`The AccessPoint requests %s(%s)`,A$1,t$1);let g$1=new AbortController;return this.apFinish$.subscribe(()=>g$1.abort()),defer(async()=>{let o=getRandomInt(0,2**53-1);return this.log(`%s request opid: %d`,t$1,o),postWithAbortSignal(A$1,{headers:{"X-Packet-Service-Type":`0`,"X-Packet-URI":`90`,"Content-Type":`application/json`},body:{sid:this.context.sid,opid:o,appid:this.context.appId,client_ts:Math.ceil(Date.now()/1e3),request_bodies:[{uri:22,buffer:{service_ids:[7,16],key:e$1??this.context.key,cname:this.context.uid,uid:0,detail:_objectSpread2(_objectSpread2({},areaConfig===void 0?{11:[AreaCodeMap.CHINA,AreaCodeMap.GLOBAL].join(`,`)}:{11:Array.from(areaConfig.CODES).map(A$2=>A$2===AreaCodeMap.OVERSEA?`${AreaCodeMap.ASIA},${AreaCodeMap.EUROPE},${AreaCodeMap.AFRICA},${AreaCodeMap.NORTH_AMERICA},${AreaCodeMap.SOUTH_AMERICA},${AreaCodeMap.OCEANIA}`:A$2).join(`,`)}),{12:`1`,26:`RTM2`,25:this.context.appId})}}]},signal:g$1.signal})}).pipe(catchError(A$2=>(A$2.name!==`AbortError`&&this.logError(`The ProxyAP request reg server failure, %s`,A$2),EMPTY)),mergeMap(async e$2=>{var g$2;let{responseText:o}=e$2,I=JSON.parse(o);this.log(`The %s response is %o`,t$1,I);let{response_body:i$1}=I;if(i$1===void 0||i$1.length===0||i$1.some(A$2=>{var e$3;return A$2.buffer?.code===void 0||A$2.uri!==23})){let{code:A$2,reason:e$3}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_REJECTED);return throwError(new RtmUnavailableError(OperationName.login,[e$3+`cloud proxy response_body not valid`],A$2))}let r=i$1.filter(A$2=>A$2.buffer.code!==0);if(r.length!==0){let e$3=r.find(A$2=>A$2.buffer.flag===128);return e$3===void 0?(this.logError(`cloud proxy error response`),this.handleUniLbsError(r[0].buffer.code,A$1)):this.handleUniLbsError(e$3.buffer.code,A$1)}let n=[];for(let A$2=0;A$2<i$1.length;A$2++){var C,E;let e$3=i$1[A$2];var s,B;if((e$3==null||(C=e$3.buffer)==null?void 0:C.flag)===262144)(s=e$3.buffer)==null||(s=s.edges_services)==null||(B=s.forEach)==null||B.call(s,A$3=>{let{ip:e$4}=A$3;isValidIp(e$4)&&this.context.cloudProxyServers.indexOf(e$4)===-1&&(this.log(`got cloud proxy server: %s`,e$4),this.context.cloudProxyServers.push(e$4))});else if((e$3==null||(E=e$3.buffer)==null?void 0:E.flag)===128){var a,Q,c,l;for(let A$3=0,t$2=e$3.buffer.edges_services;A$3<t$2.length;A$3++){let g$3=t$2[A$3];n.some(A$4=>A$4.ip===g$3.ip)||n.push({ip:g$3.ip,ticket:e$3.buffer.cert})}this.context.rtmArea=((Q=e$3.buffer)==null||(Q=Q.detail)==null?void 0:Q[9])??``,this.context.vid=((l=e$3.buffer)==null||(l=l.detail)==null?void 0:l[8])??``,setVidParameter(this.context.appId,this.context.vid)}}this.resetApDomainList();let h=getParameter(`EDGE_IP_LIST`)??[];return this.log(`registrar EDGE_IP_LIST: ${h} `),h!=null&&h.length&&(n=h.map(A$2=>({ip:A$2,ticket:n[0].ticket}))),n.forEach(A$2=>{this.replayedEdges.set(A$2.ip,A$2)}),of(...n,queueScheduler)}),catchError(A$2=>isRtmError(A$2)?throwError(A$2):EMPTY),mergeAll(),filter(A$2=>A$2!==void 0&&typeof A$2.ip==`string`&&typeof A$2.ticket==`string`&&isValidIp(A$2.ip)))}),_defineProperty$1(this,`fetchAp`,(A$1,e$1)=>{let t$1=uniquePrefixedId(`AP-`,this.loggerId);this.log(`The AccessPoint requests %s(%s)`,A$1,t$1);let g$1=new AbortController;this.apFinish$.subscribe(()=>g$1.abort());let o=getRandomInt(0,2**53-1);return defer(async()=>(this.log(`%s request opid: %d`,t$1,o),postWithAbortSignal(A$1,{headers:{"X-Packet-Service-Type":`0`,"X-Packet-URI":`69`,"Content-Type":`application/json`},body:{flag:128,opid:o,key:e$1||this.context.key,cname:this.context.uid,detail:_objectSpread2(_objectSpread2({},areaConfig===void 0?{11:[AreaCodeMap.CHINA,AreaCodeMap.GLOBAL].join(`,`)}:{11:Array.from(areaConfig.CODES).map(A$2=>A$2===AreaCodeMap.OVERSEA?`${AreaCodeMap.ASIA},${AreaCodeMap.EUROPE},${AreaCodeMap.AFRICA},${AreaCodeMap.NORTH_AMERICA},${AreaCodeMap.SOUTH_AMERICA},${AreaCodeMap.OCEANIA}`:A$2).join(`,`)}),{12:`1`,26:`RTM2`,25:this.context.appId}),uid:0,sid:this.context.sid},signal:g$1.signal}))).pipe(catchError(e$2=>(this.context.addReportEvents(`ApEvent`,{sid:this.context.sid,userId:this.context.uid,lts:Long$1.fromNumber(Date.now()),elapse:getElapse(this.context.startTime),apAddr:A$1,linkServerList:[],serverErrCode:10,flag:128,envId:0,opId:Long$1.fromNumber(o),errCode:0,area:``,isp:``,version:10,subVersion:100,connectionsequence:Long$1.fromNumber(0),localWanIp:``,responseTime:0,apLinkType:`tcp`,resultcount:0,validresultcount:0,newvalidresultcount:0}),e$2.name!==`AbortError`&&this.logError(`The AP request reg server failure, %s`,e$2),EMPTY)),mergeMap(async e$2=>{var g$2,I;let{responseText:i$1}=e$2,r=JSON.parse(i$1);this.log(`The %s response is %o`,t$1,r);let{code:n,addresses:C,detail:E}=r;if(this.context.vid=E[8]??``,setVidParameter(this.context.appId,this.context.vid),this.context.initReportEvent(),this.context.addReportEvents(`ApEvent`,{sid:this.context.sid,userId:this.context.uid,lts:Long$1.fromNumber(Date.now()),elapse:getElapse(this.context.startTime),apAddr:A$1,linkServerList:C.map(A$2=>A$2.ip),serverErrCode:n,flag:128,envId:0,opId:Long$1.fromNumber(o),errCode:0,area:E[9],isp:E[2],version:10,subVersion:100,connectionsequence:Long$1.fromNumber(0),localWanIp:``,responseTime:0,apLinkType:`tcp`,resultcount:C.length,validresultcount:C.length,newvalidresultcount:C.length}),n!==0)return this.handleUniLbsError(n,A$1);this.resetApDomainList();let s=C,B=getParameter(`EDGE_IP_LIST`)??[];return this.log(`registrar EDGE_IP_LIST: ${B.map(maskIp)}`),B!=null&&B.length&&(s=B.map(A$2=>({ip:A$2,ticket:s[0].ticket}))),s.length===0?throwError(Error(`No available edge address to connect`)):(this.context.rtmArea=E?.[9],s.forEach(A$2=>{this.replayedEdges.set(A$2.ip,A$2)}),of(...s,queueScheduler))}),mergeAll(),catchError(A$2=>isRtmError(A$2)?throwError(A$2):EMPTY),filter(A$2=>A$2!==void 0&&typeof A$2.ip==`string`&&typeof A$2.ticket==`string`))}),this.context=A,this.privateAccessPoints=this.context.rtmConfig.privateConfig?.accessPointHosts,this.resetApDomainList(),this.queryApEdgeInfo$=A$1=>timer(0,A$1||g?getParameter(`RECONNECTING_AP_INTERVAL`):2e3).pipe(take(1),tap(()=>{this.retryCount+=1}),mergeMap(()=>this.getApUrl$(A$1||g)),mergeMap(A$2=>this.context.config.cloudProxy||this.context.socketUseProxy?this.fetchCloudProxy(getApUrl(A$2)):(this.updateApDomainList(A$2),this.apDomainList.length===0&&this.resetApDomainList(),this.fetchAp(getApUrl(A$2)))),catchError(A$2=>(A$2 instanceof TimeoutError&&this.warn(`AP request timeout`),throwError(A$2))),distinct(A$2=>{let{ip:e$1}=A$2;return e$1}),takeUntil(this.apFinish$)),this.genApEdgeInfo$=(A$1,e$1)=>this.replayedEdges.size===0?(this.log(`The AccessPoint starts to query edge info, isRetrying: %s`,A$1),e$1||this.context.sendReport(`ApRequest`,{sid:this.context.sid,userId:this.context.uid,lts:Long$1.fromNumber(Date.now()),elapse:getElapse(this.context.startTime),apAddr:``,opId:Long$1.fromNumber(0),envId:0,flag:128,version:10,subVersion:100,connectionsequence:Long$1.fromNumber(0),rtmapflag:Long$1.fromNumber(0)}),this.queryApEdgeInfo$(!1)):of(...this.replayedEdges.values())}updateApDomainList(A){for(let e=this.apDomainList.length-1;e>=0;e--)if(this.apDomainList[e]===A){this.apDomainList.splice(e,1);break}}resetApDomainList(){this.apDomainList=[];let A=getParameter(`AP_DOMAIN_LIST`);A!=null&&A.length&&this.apDomainList.push(...A),areaConfig?(this.apDomainList.push(...shuffle$1(areaConfig.AP_DOMAINS)),this.apDomainList.push(...shuffle$1(areaConfig.AP_BACKUP_DOMAINS))):(this.apDomainList.push(...this.generateShuffledUrls(AP_DOMAINS_IO,AP_DOMAINS_NEW)),this.apDomainList.push(...this.generateShuffledUrls(AP_BACKUP_DOMAINS_IO,AP_BACKUP_DOMAINS_NEW)))}isEdgeRunOut(){return this.replayedEdges.size===0}banIp(A){this.warn(`edge %s lost`,A),this.replayedEdges.delete(A),this.isEdgeRunOut()&&this.warn(`run out of edge`)}clearEdges4RenewToken(){this.lastEdges.clear(),this.replayedEdges.forEach((A,e)=>{this.lastEdges.set(e,_objectSpread2({},A))}),this.replayedEdges.clear()}recoverEdges4RenewToken(){this.replayedEdges.clear(),this.lastEdges.forEach((A,e)=>{this.replayedEdges.set(e,_objectSpread2({},A))}),this.lastEdges.clear()}clearUp(){this.failedAreas.clear(),this.retryCount=0}}_defineProperty$1(AccessPoint,`runOutOfUrlSymbol`,Symbol(`AP urls are used up`));const ConnectionError=genError();class Connection extends EventBase{constructor(A,e,t){var g;let o;super(e,`Connection`),_defineProperty$1(this,`apClient`,void 0),_defineProperty$1(this,`startApRequest$`,new Subject),_defineProperty$1(this,`endLogin$`,new Subject),_defineProperty$1(this,`lastOpenSockets`,[new ReplaySubject(1),new ReplaySubject(1)]),_defineProperty$1(this,`EDGE_ENV_PORT`,getParameter(`EDGE_ENV_PORT`)??EDGE_ENV_PORT),_defineProperty$1(this,`curOpenSockets`,[void 0,void 0]),_defineProperty$1(this,`ipIterator`,0),_defineProperty$1(this,`loginSocketOpenFailureCount`,0),_defineProperty$1(this,`firstEnv`,Math.random()>=.5?1:0),_defineProperty$1(this,`firstSocketOpener`,void 0),_defineProperty$1(this,`secondSocketOpener`,void 0),_defineProperty$1(this,`firstOpenKeeperSubject`,new Subject),_defineProperty$1(this,`secondOpenKeeperSubject`,new Subject),_defineProperty$1(this,`blacklistedIP`,{}),_defineProperty$1(this,`edgeInfoReplayed`,void 0),_defineProperty$1(this,`firstEnvOpenSocket`,void 0),_defineProperty$1(this,`firstOpenKeeperSub`,void 0),_defineProperty$1(this,`secondOpenKeeperSub`,void 0),_defineProperty$1(this,`context`,void 0),_defineProperty$1(this,`logger`,void 0),_defineProperty$1(this,`cancelLogin`,!1),_defineProperty$1(this,`edgeIdx`,0),this.context=A,this.logger=e,this.apClient=new AccessPoint(this.context,e),this.apClient.apFinish$.subscribe(()=>{this.log(`Ap client fetch finished`)}),this.edgeInfoReplayed=this.startApRequest$.pipe(tap(()=>{if(this.log(`start request ap by genApEdgeInfo$`),this.cancelLogin)throw this.handleCancelLogin()}),switchMap(()=>this.apClient.genApEdgeInfo$(t).pipe(retryWhen(A$1=>A$1.pipe(tap(A$2=>{if(isRtmError(A$2))throw A$2}),delay(t?getParameter(`RECONNECTING_AP_INTERVAL`):900),takeUntil(this.apClient.apFinish$))),filter(A$1=>{var e$1;return(this.blacklistedIP[A$1.ip]??0)<=1}),tap(A$1=>{this.log(`An edge info got %o`,A$1)}),tap({error:A$1=>{this.logError(`get edge info error %o`,A$1),this.emit(`connectionInitFailure`,A$1)}}),finalize(()=>{this.apClient.clearUp()}))),takeUntil(this.endLogin$),share()),this.firstEnvOpenSocket=this.edgeInfoReplayed.pipe(mergeMap(A$1=>{if(A$1===void 0)return throwError(Error(`create first socket occurs Invalid edge info`));let{ip:g$1,ticket:I}=A$1;this.emit(`syncTicketUpdated`,{ticket:atob(I)}),this.log(`create first socket ip: %s, env: %s`,maskIp(g$1),this.firstEnv);let i$1=this.getEdgeDomain(),r=new Socket(g$1,this.firstEnv,I,this.context,e,o,i$1);if(this.firstEnv=this.firstEnv===1?0:1,r.once(`socketFailure`,()=>this.onSocketFailure(r)),!t&&getParameter(`ENABLE_EDGE_AUTO_FALLBACK`)&&!this.context.config.cloudProxy){let A$2=Date.now(),e$1;r.on(`reconnect`,()=>{this.loginSocketOpenFailureCount+=1,e$1??=Date.now()-A$2,e$1<500&&this.loginSocketOpenFailureCount>1&&this.context.rtmConfig.privateConfig===void 0&&!0===this.context.socketUseProxy?this.context.socketUseProxy=!1:e$1<500&&this.loginSocketOpenFailureCount>1&&this.context.rtmConfig.privateConfig===void 0&&(this.context.socketUseProxy=!0)})}return o=!r.useNewDomain,r.open$.pipe(mapTo(r))}),takeUntil(this.apClient.apFinish$),take(1),tap(A$1=>{this.log(`The websocket of first ENV_%d opened to %s:%d`,A$1.env,maskIp(A$1.ip),this.EDGE_ENV_PORT[A$1.env]),this.curOpenSockets[A$1.env]=A$1,this.lastOpenSockets[A$1.env].next(A$1),this.firstEnv=A$1.env,this.openSecondSocket(A$1.env,A$1.ip,A$1.useNewDomain)}),share()),this.firstSocketOpener=this.firstEnvOpenSocket.pipe(mergeMap(A$1=>A$1.open$.pipe(tap(()=>{this.log(`The websocket of first ENV_%d re-opened to %s:%d`,A$1.env,maskIp(A$1.ip),this.EDGE_ENV_PORT[A$1.env]),A$1.changeToReOpened(),this.curOpenSockets[A$1.env]=A$1,this.lastOpenSockets[A$1.env].next(A$1)}))),tap(()=>{this.log(`first socket re opened`)})),this.subKeeperSubject()}getEdgeDomain(){try{var A;let e=getParameter(`EDGE_DOMAIN_TLD_LIST`)??[];this.edgeIdx>=e.length&&(this.edgeIdx=0);let t=e[this.edgeIdx];return this.edgeIdx++,t}catch(A$1){return console.error(A$1),``}}onSocketFailure(A){this.apClient.banIp(A.ip);let e=[0,1].filter(e$1=>e$1!==A.env)[0],t=this.curOpenSockets[e];A.env===this.context.connSyncEnv&&(this.context.connSyncEnv=void 0,this.warn(`change connSyncEnv: %d to undefined in onSocketFailure`,A.env)),this.log(`ENV_${A.env}(${A.name}): socketFailure received, otherSocketState: ${t?.loggedIn}`),t&&t.loggedIn?this.reopenSocketWithApRequest(A.env):(this.log(`ENV_${A.env}(${A.name}): will emit connectionFailure`),t&&this.closeSocket(t.env,0),this.emit(`connectionFailure`))}openSecondSocket(A,e,t){let g=A===1?0:1;this.secondSocketOpener=this.apClient.genApEdgeInfo$(!1).pipe(reduce((A$1,e$1)=>[...A$1,e$1],[]),map$1(A$1=>sortBy$1(A$1,A$2=>{let{ip:t$1}=A$2;return calIpDistance(e,t$1)}).slice(-1)[0]),mergeMap(A$1=>{if(A$1===void 0)return throwError(Error(`create second socket occurs Invalid edge info`));let{ip:e$1,ticket:o}=A$1;this.log(`create second socket. ip: %s, env: %s`,maskIp(e$1),g);let I=this.getEdgeDomain(),i$1=new Socket(e$1,g,o,this.context,this.logger,t,I);return i$1.on(`socketFailure`,()=>this.onSocketFailure(i$1)),i$1.open$.pipe(tap(()=>{this.lastOpenSockets[g].next(i$1),this.curOpenSockets[g]=i$1}),mergeMap((A$2,e$2)=>(this.log(`The websocket of second ENV_%d %s to %s:%d`,i$1.env,e$2>0?`re-opened`:`opened`,maskIp(i$1.ip),this.EDGE_ENV_PORT[i$1.env]),EMPTY)))}),share()),this.secondOpenKeeperSub=this.secondOpenKeeperSubject.pipe(switchAll()).subscribe({error:this.logError}),this.secondOpenKeeperSubject.next(this.secondSocketOpener)}reopenSocketWithApRequest(A){let e=[0,1].filter(e$1=>e$1!==A)[0],t=this.curOpenSockets[e];if(t===void 0)return;let g=t.ip,o,I=(A$1=>A$1.pipe(throwIfEmpty(()=>new ConnectionError({AP_NO_AVAILABLE_EDGE:`No available edge address to connect`})),retryWhen(A$2=>A$2.pipe(tap(A$3=>{if(A$3.code!==RTMErrorCode.RTM_ERROR_TOKEN_EXPIRED)if(A$3.code!==RTMErrorCode.RTM_ERROR_LOGIN_NOT_AUTHORIZED){if(isRtmError(A$3))throw A$3}else this.apClient.apFinish$.next(void 0);else this.apClient.apFinish$.next(void 0)}),delay(getParameter(`RECONNECTING_AP_INTERVAL`)),takeUntil(timer(15e3)))),tap(A$2=>{this.log(`An edge info got %o`,A$2)}),finalize(()=>{this.apClient.clearUp()})))(this.apClient.genApEdgeInfo$(!1)).pipe(reduce((A$1,e$1)=>[...A$1,e$1],[]),map$1(A$1=>{let e$1=sortBy$1(A$1,A$2=>{let{ip:e$2}=A$2;return calIpDistance(g,e$2)});return e$1.length-1>=this.ipIterator?e$1.slice(-this.ipIterator++-1)[0]:(this.ipIterator=0,e$1.slice(-1)[0])}),throwIfEmpty(),mergeMap(e$1=>{if(e$1===void 0)return throwError(Error(`reopen socket with ap request occurs Invalid edge info`));let{ip:t$1,ticket:g$1}=e$1;this.emit(`syncTicketUpdated`,{ticket:atob(g$1)}),this.log(`open socket ip: %s, env: %s using ap`,maskIp(t$1),A);let I$1=this.getEdgeDomain(),i$1=new Socket(t$1,A,g$1,this.context,this.logger,o,I$1);return i$1.on(`socketFailure`,()=>this.onSocketFailure(i$1)),o=!i$1.useNewDomain,i$1.open$.pipe(mapTo(i$1))}),take(1),tap(A$1=>{this.log(`The websocket of ENV_%d opened to %s:%d using ap`,A$1.env,maskIp(A$1.ip),this.EDGE_ENV_PORT[A$1.env]),this.curOpenSockets[A$1.env]=A$1,this.lastOpenSockets[A$1.env].next(A$1)}),mergeMap(e$1=>e$1.open$.pipe(tap(()=>{this.log(`The websocket of ENV_%d re-opened to %s:%d using ap`,e$1.env,maskIp(e$1.ip),this.EDGE_ENV_PORT[e$1.env]),e$1.changeToReOpened(),this.curOpenSockets[A]=e$1,this.lastOpenSockets[A].next(e$1)}))),share());A===this.firstEnv?(this.firstOpenKeeperSubject.next(I),this.log(`reopenSocketWithAp, and start openSocket$, firstOpenKeeperSubject emit next`)):this.secondOpenKeeperSubject.next(I)}initConnection(){var A;(A=this.secondOpenKeeperSub)==null||A.unsubscribe(),this.log(`initConnection, and start firstSocketOpener, firstOpenKeeperSubject emit next`),this.firstOpenKeeperSubject.next(this.firstSocketOpener),this.startApRequest$.next(void 0)}subKeeperSubject(){let A=this.firstOpenKeeperSubject.pipe(switchAll()).pipe(tap(()=>{this.log(`firstOpenKeeperSubject switch 有值发出来`)}));this.firstOpenKeeperSub&&this.firstOpenKeeperSub.unsubscribe(),this.firstOpenKeeperSub=A.subscribe({error:this.logError})}closeSocket(A,e){if(![0,1].includes(A))throw new CommonError({INVALID_ENV:`The env argument is not 0 or 1`});let t;A===this.firstEnv?(t=this.firstOpenKeeperSub,this.firstOpenKeeperSub=void 0):(t=this.secondOpenKeeperSub,this.secondOpenKeeperSub=void 0);let g=this.curOpenSockets[A];this.curOpenSockets[A]=void 0,g&&(g.isActiveClose=!0,setTimeout(()=>{g.close()},e)),t!==void 0&&setTimeout(()=>{var A$1;(A$1=t)==null||A$1.unsubscribe()},e)}waitClosing(A){return A.isActiveClose=!0,A.open$.pipe(ignoreElements(),catchError(A$1=>A$1.message===normalClosureMessage?EMPTY:throwError(A$1)),timeout(LOGOUT_SOCKET_CLOSE_TIMEOUT),catchError(e=>e instanceof TimeoutError?(this.warn(`Force closing the ENV_%d connection`,A.env),EMPTY):throwError(e)))}handleCancelLogin(){let A=OperationName.login,{code:e,reason:t}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_CANCELED);return new RtmUnavailableError(A,[t],e)}stopLogin(){this.endLogin$.next()}banIP(A){var e;this.log(`ip banned`,A);let t=this.blacklistedIP[A]??0;this.blacklistedIP[A]=t+1,t>0&&this.apClient.banIp(A)}}let AckCodeType=function(A){return A[A.kAckMiss=1]=`kAckMiss`,A[A.kAckPeerOffline=8]=`kAckPeerOffline`,A[A.kAckNoPrivilege=9]=`kAckNoPrivilege`,A}({}),RegServerErrorCode=function(A){return A[A.kOk=0]=`kOk`,A[A.kFail=1]=`kFail`,A[A.kTimestampExpired=2]=`kTimestampExpired`,A[A.kChannelPermissionInvalid=3]=`kChannelPermissionInvalid`,A[A.kCertificateInvalid=4]=`kCertificateInvalid`,A[A.kChannelNameEmpty=5]=`kChannelNameEmpty`,A[A.kChannelNotFound=6]=`kChannelNotFound`,A[A.kTicketInvalid=7]=`kTicketInvalid`,A[A.kChannelConflicted=8]=`kChannelConflicted`,A[A.kServiceNotReady=9]=`kServiceNotReady`,A[A.kServiceTooHeavy=10]=`kServiceTooHeavy`,A[A.kRejoined=11]=`kRejoined`,A[A.kNoNeedToChange=13]=`kNoNeedToChange`,A[A.kUidBanned=14]=`kUidBanned`,A[A.kIpBanned=15]=`kIpBanned`,A[A.kChannelBanned=16]=`kChannelBanned`,A[A.kTicketParseError=17]=`kTicketParseError`,A[A.kTicketIllegalLength=18]=`kTicketIllegalLength`,A[A.kTicketNotAuth=19]=`kTicketNotAuth`,A[A.kTicketUnknownVersion=20]=`kTicketUnknownVersion`,A[A.kLoginedFromRemote=21]=`kLoginedFromRemote`,A[A.kGwychFailed=23]=`kGwychFailed`,A[A.kTooManyBroadcasters=24]=`kTooManyBroadcasters`,A[A.kServerDown=25]=`kServerDown`,A[A.kResourceHeldByOther=26]=`kResourceHeldByOther`,A[A.kRtm2GwychFailed=27]=`kRtm2GwychFailed`,A[A.kAutoRebalance=28]=`kAutoRebalance`,A[A.kBannedForExceedingQuota=101]=`kBannedForExceedingQuota`,A[A.kRequestPending=65535]=`kRequestPending`,A[A.kVoid=1e4]=`kVoid`,A[A.kConnectionTimeout=10001]=`kConnectionTimeout`,A[A.kInvalidPacket=10002]=`kInvalidPacket`,A[A.kAlreadyJoined=10003]=`kAlreadyJoined`,A[A.kJoinTimeout=10004]=`kJoinTimeout`,A[A.kRejoinFailed=10005]=`kRejoinFailed`,A[A.kJoinTooFrequently=10006]=`kJoinTooFrequently`,A[A.kCompressionMethodUnrecognized=10007]=`kCompressionMethodUnrecognized`,A[A.kUserNotFound=10008]=`kUserNotFound`,A[A.kUserInstanceConflict=10009]=`kUserInstanceConflict`,A[A.kContentOversized=10010]=`kContentOversized`,A[A.kRequestTooFrequently=10011]=`kRequestTooFrequently`,A[A.kDamagedPacket=10012]=`kDamagedPacket`,A[A.kInvalidRequestParameters=10013]=`kInvalidRequestParameters`,A[A.kServerInternalError=10014]=`kServerInternalError`,A[A.kContentNotFound=10015]=`kContentNotFound`,A[A.kIncompatible=10016]=`kIncompatible`,A[A.kEdgeInDegradation=10017]=`kEdgeInDegradation`,A[A.kUserBannedByRule=10018]=`kUserBannedByRule`,A[A.kUserBannedByAuth=10019]=`kUserBannedByAuth`,A[A.kGroupUserBannedByAuth=10020]=`kGroupUserBannedByAuth`,A[A.kConsoleConfigNotFound=10021]=`kConsoleConfigNotFound`,A[A.kUserRejectedByConsoleConfig=10022]=`kUserRejectedByConsoleConfig`,A[A.kGroupUserNoPrivilege=10025]=`kGroupUserNoPrivilege`,A[A.kTest1=11001]=`kTest1`,A[A.kTest2=11002]=`kTest2`,A[A.kTest3=11003]=`kTest3`,A}({}),SyncServerErrorCode=function(A){return A[A.kMetadataOk=0]=`kMetadataOk`,A[A.kDuplicatedOperation=1]=`kDuplicatedOperation`,A[A.kSyncServerError=2]=`kSyncServerError`,A[A.kArgumentError=3]=`kArgumentError`,A[A.kAutheticationError=4]=`kAutheticationError`,A[A.kExceedLimitationError=5]=`kExceedLimitationError`,A[A.kOutdateRevision=6]=`kOutdateRevision`,A[A.kLockAcquireFailed=7]=`kLockAcquireFailed`,A[A.kLockExpired=8]=`kLockExpired`,A[A.kLockWatching=9]=`kLockWatching`,A[A.kInvalidLock=10]=`kInvalidLock`,A[A.kLockReleased=11]=`kLockReleased`,A[A.kWriteNotAllowed=12]=`kWriteNotAllowed`,A[A.kNoLock=13]=`kNoLock`,A[A.kNoPrivilege=14]=`kNoPrivilege`,A[A.kTimeOutError=100]=`kTimeOutError`,A[A.kUnknownError=255]=`kUnknownError`,A}({});function convertMetadataServerCodeToSdkCode(A){switch(A){case SyncServerErrorCode.kMetadataOk:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_OK);case SyncServerErrorCode.kArgumentError:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_ARGUMENT);case SyncServerErrorCode.kOutdateRevision:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OUTDATED_REVISION);case SyncServerErrorCode.kTimeOutError:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);case SyncServerErrorCode.kNoPrivilege:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_PERMISSION_DENIED);default:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_FAILED)}}function convertServerCodeToSdkCodeForSub(A){switch(A){case SyncServerErrorCode.kMetadataOk:case SyncServerErrorCode.kDuplicatedOperation:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_OK);case SyncServerErrorCode.kArgumentError:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_ARGUMENT);case SyncServerErrorCode.kTimeOutError:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);case SyncServerErrorCode.kNoPrivilege:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_SUBSCRIBE_PERMISSION_DENIED);default:return getErrorInfoByCode(A)}}function convertLockServerCodeToSdkCode(A){switch(A){case SyncServerErrorCode.kMetadataOk:case SyncServerErrorCode.kDuplicatedOperation:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_OK);case SyncServerErrorCode.kOutdateRevision:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_ALREADY_EXIST);case SyncServerErrorCode.kLockAcquireFailed:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_ACQUIRE_FAILED);case SyncServerErrorCode.kNoLock:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_NOT_EXIST);case SyncServerErrorCode.kNoPrivilege:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_PERMISSION_DENIED);default:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_FAILED)}}function convertDataChannelJoinCodeToSdkCode(A,e){switch(A){case AgoraRTCErrorCode.NOT_SUPPORTED:case AgoraRTCErrorCode.UNEXPECTED_RESPONSE:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_NOT_AVAILABLE);case AgoraRTCErrorCode.INIT_DATACHANNEL_TIMEOUT:case AgoraRTCErrorCode.CREATE_DATACHANNEL_ERROR:case AgoraRTCErrorCode.DATACHANNEL_FAILED:case AgoraRTCErrorCode.DATACHANNEL_CONNECTION_TIMEOUT:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_TOPIC_FAILED);case AgoraRTCErrorCode.CAN_NOT_GET_GATEWAY_SERVER:case AgoraRTCErrorCode.VOID_GATEWAY_ADDRESS:case AgoraRTCErrorCode.MULTI_UNILBS_RESPONSE_ERROR:case AgoraRTCErrorCode.UID_CONFLICT:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_FAILED);case AgoraRTCErrorCode.TOKEN_EXPIRE:return getErrorInfoByCode(RTMErrorCode.RTM_ERROR_TOKEN_EXPIRED);case AgoraRTCErrorCode.TIMEOUT:case AgoraRTCErrorCode.UNEXPECTED_ERROR:case AgoraRTCErrorCode.INVALID_PARAMS:case AgoraRTCErrorCode.NOT_READABLE:case AgoraRTCErrorCode.INVALID_OPERATION:case AgoraRTCErrorCode.OPERATION_ABORTED:case AgoraRTCErrorCode.WEB_SECURITY_RESTRICT:case AgoraRTCErrorCode.EXCHANGE_SDP_FAILED:case AgoraRTCErrorCode.NETWORK_ERROR:case AgoraRTCErrorCode.NETWORK_TIMEOUT:case AgoraRTCErrorCode.NETWORK_RESPONSE_ERROR:case AgoraRTCErrorCode.API_INVOKE_TIMEOUT:case AgoraRTCErrorCode.ENUMERATE_DEVICES_FAILED:case AgoraRTCErrorCode.DEVICE_NOT_FOUND:case AgoraRTCErrorCode.ELECTRON_IS_NULL:case AgoraRTCErrorCode.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR:case AgoraRTCErrorCode.CHROME_PLUGIN_NO_RESPONSE:case AgoraRTCErrorCode.CHROME_PLUGIN_NOT_INSTALL:case AgoraRTCErrorCode.MEDIA_OPTION_INVALID:case AgoraRTCErrorCode.PERMISSION_DENIED:case AgoraRTCErrorCode.CONSTRAINT_NOT_SATISFIED:case AgoraRTCErrorCode.TRACK_IS_DISABLED:case AgoraRTCErrorCode.GET_VIDEO_ELEMENT_VISIBLE_ERROR:case AgoraRTCErrorCode.SHARE_AUDIO_NOT_ALLOWED:case AgoraRTCErrorCode.LOW_STREAM_ENCODING_ERROR:case AgoraRTCErrorCode.SET_ENCODING_PARAMETER_ERROR:case AgoraRTCErrorCode.TRACK_STATE_UNREACHABLE:case AgoraRTCErrorCode.INVALID_UINT_UID_FROM_STRING_UID:case AgoraRTCErrorCode.CAN_NOT_GET_PROXY_SERVER:case AgoraRTCErrorCode.UPDATE_TICKET_FAILED:case AgoraRTCErrorCode.INVALID_LOCAL_TRACK:case AgoraRTCErrorCode.INVALID_TRACK:case AgoraRTCErrorCode.SENDER_NOT_FOUND:case AgoraRTCErrorCode.CREATE_OFFER_FAILED:case AgoraRTCErrorCode.SET_ANSWER_FAILED:case AgoraRTCErrorCode.ICE_FAILED:case AgoraRTCErrorCode.PC_CLOSED:case AgoraRTCErrorCode.SENDER_REPLACE_FAILED:case AgoraRTCErrorCode.GET_LOCAL_CAPABILITIES_FAILED:case AgoraRTCErrorCode.GET_LOCAL_CONNECTION_PARAMS_FAILED:case AgoraRTCErrorCode.SUBSCRIBE_FAILED:case AgoraRTCErrorCode.UNSUBSCRIBE_FAILED:case AgoraRTCErrorCode.GATEWAY_P2P_LOST:case AgoraRTCErrorCode.NO_ICE_CANDIDATE:case AgoraRTCErrorCode.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS:case AgoraRTCErrorCode.EXIST_DISABLED_VIDEO_TRACK:case AgoraRTCErrorCode.INVALID_REMOTE_USER:case AgoraRTCErrorCode.REMOTE_USER_IS_NOT_PUBLISHED:case AgoraRTCErrorCode.CUSTOM_REPORT_SEND_FAILED:case AgoraRTCErrorCode.CUSTOM_REPORT_FREQUENCY_TOO_HIGH:case AgoraRTCErrorCode.FETCH_AUDIO_FILE_FAILED:case AgoraRTCErrorCode.READ_LOCAL_AUDIO_FILE_ERROR:case AgoraRTCErrorCode.DECODE_AUDIO_FILE_FAILED:case AgoraRTCErrorCode.WS_ABORT:case AgoraRTCErrorCode.WS_DISCONNECT:case AgoraRTCErrorCode.WS_ERR:case AgoraRTCErrorCode.LIVE_STREAMING_TASK_CONFLICT:case AgoraRTCErrorCode.LIVE_STREAMING_INVALID_ARGUMENT:case AgoraRTCErrorCode.LIVE_STREAMING_INTERNAL_SERVER_ERROR:case AgoraRTCErrorCode.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED:case AgoraRTCErrorCode.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED:case AgoraRTCErrorCode.LIVE_STREAMING_CDN_ERROR:case AgoraRTCErrorCode.LIVE_STREAMING_INVALID_RAW_STREAM:case AgoraRTCErrorCode.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT:case AgoraRTCErrorCode.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE:case AgoraRTCErrorCode.LIVE_STREAMING_WARN_FREQUENT_REQUEST:case AgoraRTCErrorCode.WEBGL_INTERNAL_ERROR:case AgoraRTCErrorCode.BEAUTY_PROCESSOR_INTERNAL_ERROR:case AgoraRTCErrorCode.CROSS_CHANNEL_WAIT_STATUS_ERROR:case AgoraRTCErrorCode.CROSS_CHANNEL_FAILED_JOIN_SRC:case AgoraRTCErrorCode.CROSS_CHANNEL_FAILED_JOIN_DEST:case AgoraRTCErrorCode.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST:case AgoraRTCErrorCode.CROSS_CHANNEL_SERVER_ERROR_RESPONSE:case AgoraRTCErrorCode.METADATA_OUT_OF_RANGE:case AgoraRTCErrorCode.LOCAL_AEC_ERROR:case AgoraRTCErrorCode.INVALID_PLUGIN:case AgoraRTCErrorCode.DISCONNECT_P2P:case AgoraRTCErrorCode.CONVERTING_IMAGEDATA_TO_BLOB_FAILED:case AgoraRTCErrorCode.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED:case AgoraRTCErrorCode.ADD_CANDIDATE_FAILED:case AgoraRTCErrorCode.EXTERNAL_SIGNAL_ABORT:case AgoraRTCErrorCode.IMAGE_MODERATION_UPLOAD_FAILED:case AgoraRTCErrorCode.P2P_MESSAGE_FAILED:case AgoraRTCErrorCode.PROHIBITED_OPERATION:default:{var t;let A$1=getErrorInfoByCode(e);return{code:A$1.code,reason:A$1.reason??``}}}}function comparator(A,e){return Long$1.fromValue(A).eq(e)}function validateField(A,e){let t=e===void 0?A.val:e,{isBoolean:g,isNumber:o,oneof:I,len:i$1}=A;if([g,o,I].filter(A$1=>!A$1).length!==2)throw TypeError(`invalid field type`);if(t===void 0)return;let r=!1;if(I!==void 0){let A$1=values$3(I);uniqWith$1(A$1,comparator).length===A$1.length&&find$1(A$1,A$2=>comparator(t,A$2))!==void 0&&(r=!0)}let n=g!==void 0&&(t===0||t===1)&&i$1===1,C=o!==void 0&&t.toString(2).length<=i$1;if(!(r||n||C))throw Error(`invalid field value`)}class Struct{constructor(){_defineProperty$1(this,`size`,0),_defineProperty$1(this,`fields`,new Map)}define(A,e,t){if(this.size+=t,this.size>64)throw RangeError(`the struct over 64 bits is not supported`);let g={val:0,isNumber:e===`number`,isBoolean:e===`boolean`,oneof:e===`number`||e===`boolean`?void 0:e,len:t};validateField(g),this.fields.set(A,g)}set(A,e){let t=this.fields.get(A);if(!t)throw Error(`field not found`);let{oneof:g}=t,o;if(Long$1.isLong(e)||typeof e==`number`)o=e;else if(typeof e==`boolean`)o=e?1:0;else{if(g===void 0)throw Error(`invalid field type`);let A$1=g[e];if(A$1===void 0)throw Error(`field type not found`);o=A$1}validateField(t,o),t.val=o}toNumber(){let A=0,e=0;for(let t=0,g=Array.from(this.fields);t<g.length;t++){let[,o]=g[t],{len:I,val:i$1}=o;i$1!==void 0&&(A+=Long$1.fromValue(i$1).shiftLeft(e).toNumber(),e+=I)}return A}toLong(){let A=Long$1.fromNumber(0,!0),e=0;for(let t=0,g=Array.from(this.fields);t<g.length;t++){let[,o]=g[t],{len:I,val:i$1}=o;i$1!==void 0&&(A=Long$1.fromValue(i$1).shiftLeft(e).add(A),e+=I)}return A}assert(A,e){let t=this.fields.get(A);if(!t)throw Error(`field not found`);let{oneof:g}=t;function o(A$1){let e$1;if(Long$1.isLong(A$1)||typeof A$1==`number`)e$1=A$1;else if(typeof A$1==`boolean`)e$1=A$1?1:0;else{if(g===void 0)throw Error(`invalid field type`);let t$1=g[A$1];if(t$1===void 0)throw Error(`field type not found`);e$1=t$1}return validateField(t,e$1),comparator(e$1,t.val)}if(!Array.isArray(e))return o(e);if(e.length===1)return o(e[0]);if(e.every(A$1=>typeof A$1==`string`)&&g!==void 0)return e.some(A$1=>o(A$1));throw Error(`invalid valueTypes`)}from(A){let e=Long$1.fromValue(A),t=0;for(let A$1=0,g=Array.from(this.fields);A$1<g.length;A$1++){let[,o]=g[A$1],{len:I}=o,i$1=Long$1.fromNumber(2**I-1,!0).shiftLeft(t),r=e.and(i$1).shiftRightUnsigned(t);validateField(o,r),o.val=r,t+=I}}typeOf(A){let e=this.fields.get(A);if(e!==void 0){let{oneof:A$1,val:t}=e;if(A$1!==void 0)for(let e$1=0,g=Object.entries(A$1);e$1<g.length;e$1++){let[A$2,o]=g[e$1];if(comparator(t,o))return A$2}}throw TypeError(`can only get type of oneof type`)}}class UserJoinOptions extends Struct{constructor(A){super(),this.define(`Rejoin`,`boolean`,1),this.define(`Unused`,`number`,31),this.define(`Platform`,`number`,8),this.define(`Version`,`number`,12),this.define(`Subversion`,`number`,12),this.set(`Platform`,7),this.set(`Version`,10),this.set(`Subversion`,100),this.set(`Rejoin`,A)}}var AsyncAction$1={},Action$1={},Subscription$1={},isArray={};Object.defineProperty(isArray,`__esModule`,{value:!0}),isArray.isArray=Array.isArray||function(A){return A&&typeof A.length==`number`};var isObject$1={};function isObject(A){return typeof A==`object`&&!!A}Object.defineProperty(isObject$1,`__esModule`,{value:!0}),isObject$1.isObject=isObject;var isFunction$1={};function isFunction(A){return typeof A==`function`}Object.defineProperty(isFunction$1,`__esModule`,{value:!0}),isFunction$1.isFunction=isFunction;var UnsubscriptionError={};Object.defineProperty(UnsubscriptionError,`__esModule`,{value:!0});var UnsubscriptionErrorImpl=function(){function A(A$1){return Error.call(this),this.message=A$1?A$1.length+` errors occurred during unsubscription:
`+A$1.map(function(A$2,e){return e+1+`) `+A$2.toString()}).join(`
  `):``,this.name=`UnsubscriptionError`,this.errors=A$1,this}return A.prototype=Object.create(Error.prototype),A}();UnsubscriptionError.UnsubscriptionError=UnsubscriptionErrorImpl,Object.defineProperty(Subscription$1,`__esModule`,{value:!0});var isArray_1=isArray,isObject_1=isObject$1,isFunction_1=isFunction$1,UnsubscriptionError_1=UnsubscriptionError,Subscription=function(){function A(A$1){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,A$1&&(this._ctorUnsubscribe=!0,this._unsubscribe=A$1)}return A.prototype.unsubscribe=function(){var e;if(!this.closed){var t=this,g=t._parentOrParents,o=t._ctorUnsubscribe,I=t._unsubscribe,i$1=t._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,g instanceof A)g.remove(this);else if(g!==null)for(var r=0;r<g.length;++r)g[r].remove(this);if(isFunction_1.isFunction(I)){o&&(this._unsubscribe=void 0);try{I.call(this)}catch(A$1){e=A$1 instanceof UnsubscriptionError_1.UnsubscriptionError?flattenUnsubscriptionErrors(A$1.errors):[A$1]}}if(isArray_1.isArray(i$1)){r=-1;for(var n=i$1.length;++r<n;){var C=i$1[r];if(isObject_1.isObject(C))try{C.unsubscribe()}catch(A$1){e||=[],A$1 instanceof UnsubscriptionError_1.UnsubscriptionError?e=e.concat(flattenUnsubscriptionErrors(A$1.errors)):e.push(A$1)}}}if(e)throw new UnsubscriptionError_1.UnsubscriptionError(e)}},A.prototype.add=function(e){var t=e;if(!e)return A.EMPTY;switch(typeof e){case`function`:t=new A(e);case`object`:if(t===this||t.closed||typeof t.unsubscribe!=`function`)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof A)){var g=t;(t=new A)._subscriptions=[g]}break;default:throw Error(`unrecognized teardown `+e+` added to Subscription.`)}var o=t._parentOrParents;if(o===null)t._parentOrParents=this;else if(o instanceof A){if(o===this)return t;t._parentOrParents=[o,this]}else{if(o.indexOf(this)!==-1)return t;o.push(this)}var I=this._subscriptions;return I===null?this._subscriptions=[t]:I.push(t),t},A.prototype.remove=function(A$1){var e=this._subscriptions;if(e){var t=e.indexOf(A$1);t!==-1&&e.splice(t,1)}},A.EMPTY=function(A$1){return A$1.closed=!0,A$1}(new A),A}();function flattenUnsubscriptionErrors(A){return A.reduce(function(A$1,e){return A$1.concat(e instanceof UnsubscriptionError_1.UnsubscriptionError?e.errors:e)},[])}Subscription$1.Subscription=Subscription;var __extends$2=commonjsGlobal&&commonjsGlobal.__extends||function(){var A=function(e,t){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A$1,e$1){A$1.__proto__=e$1}||function(A$1,e$1){for(var t$1 in e$1)e$1.hasOwnProperty(t$1)&&(A$1[t$1]=e$1[t$1])},A(e,t)};return function(e,t){function g(){this.constructor=e}A(e,t),e.prototype=t===null?Object.create(t):(g.prototype=t.prototype,new g)}}();Object.defineProperty(Action$1,`__esModule`,{value:!0});var Subscription_1=Subscription$1,Action=function(A){function e(e$1,t){return A.call(this)||this}return __extends$2(e,A),e.prototype.schedule=function(A$1,e$1){return this},e}(Subscription_1.Subscription);Action$1.Action=Action;var __extends$1=commonjsGlobal&&commonjsGlobal.__extends||function(){var A=function(e,t){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A$1,e$1){A$1.__proto__=e$1}||function(A$1,e$1){for(var t$1 in e$1)e$1.hasOwnProperty(t$1)&&(A$1[t$1]=e$1[t$1])},A(e,t)};return function(e,t){function g(){this.constructor=e}A(e,t),e.prototype=t===null?Object.create(t):(g.prototype=t.prototype,new g)}}();Object.defineProperty(AsyncAction$1,`__esModule`,{value:!0});var Action_1=Action$1,AsyncAction=function(A){function e(e$1,t){var g=A.call(this,e$1,t)||this;return g.scheduler=e$1,g.work=t,g.pending=!1,g}return __extends$1(e,A),e.prototype.schedule=function(A$1,e$1){if(e$1===void 0&&(e$1=0),this.closed)return this;this.state=A$1;var t=this.id,g=this.scheduler;return t!=null&&(this.id=this.recycleAsyncId(g,t,e$1)),this.pending=!0,this.delay=e$1,this.id=this.id||this.requestAsyncId(g,this.id,e$1),this},e.prototype.requestAsyncId=function(A$1,e$1,t){return t===void 0&&(t=0),setInterval(A$1.flush.bind(A$1,this),t)},e.prototype.recycleAsyncId=function(A$1,e$1,t){if(t===void 0&&(t=0),t!==null&&this.delay===t&&!1===this.pending)return e$1;clearInterval(e$1)},e.prototype.execute=function(A$1,e$1){if(this.closed)return Error(`executing a cancelled action`);this.pending=!1;var t=this._execute(A$1,e$1);if(t)return t;!1===this.pending&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(A$1,e$1){var t=!1,g=void 0;try{this.work(A$1)}catch(A$2){t=!0,g=!!A$2&&A$2||Error(A$2)}if(t)return this.unsubscribe(),g},e.prototype._unsubscribe=function(){var A$1=this.id,e$1=this.scheduler,t=e$1.actions,g=t.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,g!==-1&&t.splice(g,1),A$1!=null&&(this.id=this.recycleAsyncId(e$1,A$1,null)),this.delay=null},e}(Action_1.Action),AsyncAction_2=AsyncAction$1.AsyncAction=AsyncAction,AsyncScheduler$1={},Scheduler$1={};Object.defineProperty(Scheduler$1,`__esModule`,{value:!0});var Scheduler=function(){function A(e,t){t===void 0&&(t=A.now),this.SchedulerAction=e,this.now=t}return A.prototype.schedule=function(A$1,e,t){return e===void 0&&(e=0),new this.SchedulerAction(this,A$1).schedule(t,e)},A.now=function(){return Date.now()},A}();Scheduler$1.Scheduler=Scheduler;var __extends=commonjsGlobal&&commonjsGlobal.__extends||function(){var A=function(e,t){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A$1,e$1){A$1.__proto__=e$1}||function(A$1,e$1){for(var t$1 in e$1)e$1.hasOwnProperty(t$1)&&(A$1[t$1]=e$1[t$1])},A(e,t)};return function(e,t){function g(){this.constructor=e}A(e,t),e.prototype=t===null?Object.create(t):(g.prototype=t.prototype,new g)}}();Object.defineProperty(AsyncScheduler$1,`__esModule`,{value:!0});var Scheduler_1=Scheduler$1,AsyncScheduler=function(A){function e(t,g){g===void 0&&(g=Scheduler_1.Scheduler.now);var o=A.call(this,t,function(){return e.delegate&&e.delegate!==o?e.delegate.now():g()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return __extends(e,A),e.prototype.schedule=function(t,g,o){return g===void 0&&(g=0),e.delegate&&e.delegate!==this?e.delegate.schedule(t,g,o):A.prototype.schedule.call(this,t,g,o)},e.prototype.flush=function(A$1){var e$1=this.actions;if(this.active)e$1.push(A$1);else{var t;this.active=!0;do if(t=A$1.execute(A$1.state,A$1.delay))break;while(A$1=e$1.shift());if(this.active=!1,t){for(;A$1=e$1.shift();)A$1.unsubscribe();throw t}}},e}(Scheduler_1.Scheduler),AsyncScheduler_2=AsyncScheduler$1.AsyncScheduler=AsyncScheduler;const blob=new Blob([`var fakeIdToId = {};onmessage = function (event) {	var data = event.data,		name = data.name,		fakeId = data.fakeId,		time;	if(data.hasOwnProperty('time')) {		time = data.time;	}	switch (name) {		case 'setInterval':			fakeIdToId[fakeId] = setInterval(function () {				postMessage({fakeId: fakeId});			}, time);			break;		case 'clearInterval':			if (fakeIdToId.hasOwnProperty (fakeId)) {				clearInterval(fakeIdToId[fakeId]);				delete fakeIdToId[fakeId];			}			break;	}}`]),workerScript=window.URL.createObjectURL(blob),fakeIdToCallback={};let lastFakeId=0;const maxFakeId=2147483647;function getFakeId(){do lastFakeId==2147483647?lastFakeId=0:lastFakeId++;while(fakeIdToCallback.hasOwnProperty(lastFakeId));return lastFakeId}const worker=new Worker(workerScript);function hackSetInterval(A,e){let t=getFakeId();return fakeIdToCallback[t]={callback:A,parameters:Array.prototype.slice.call(arguments,2)},worker.postMessage({name:`setInterval`,fakeId:t,time:e}),t}function hackClearInterval(A){fakeIdToCallback.hasOwnProperty(A)&&(delete fakeIdToCallback[A],worker.postMessage({name:`clearInterval`,fakeId:A}))}worker.onmessage=function(A){let e=A.data.fakeId,t,g,o;fakeIdToCallback.hasOwnProperty(e)&&(t=fakeIdToCallback[e],o=t.callback,g=t.parameters,o.apply(window,g))};class HackAsyncAction extends AsyncAction_2{requestAsyncId(A,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return hackSetInterval(A.flush.bind(A,this),t)}recycleAsyncId(A,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(t!==null&&this.delay===t&&!1===this.pending)return e;hackClearInterval(e)}}const getHackAsyncScheduler=()=>new AsyncScheduler_2(HackAsyncAction);class ConnectionController extends EventBase{get syncEstablishState(){return this._syncEstablishState}set syncEstablishState(A){this._syncEstablishState=A}constructor(A,e,t,g,o){super(t,`ConnControl`),_defineProperty$1(this,`userJoinOptions`,new UserJoinOptions(!1)),_defineProperty$1(this,`seqSentStatuses`,[!1,!1]),_defineProperty$1(this,`loggedOut`,!1),_defineProperty$1(this,`curLoginSockets`,[void 0,void 0]),_defineProperty$1(this,`loginSocketSubs`,[{receivers:[]},{receivers:[]}]),_defineProperty$1(this,`lastLoginSockets`,[new ReplaySubject(1),new ReplaySubject(1)]),_defineProperty$1(this,`context`,void 0),_defineProperty$1(this,`connection`,void 0),_defineProperty$1(this,`instanceId`,void 0),_defineProperty$1(this,`lastPingTime`,void 0),_defineProperty$1(this,`manualShakeHand`,void 0),_defineProperty$1(this,`connectDatabase`,void 0),_defineProperty$1(this,`loginSubject$`,new Subject),_defineProperty$1(this,`canEmitUserJoined`,!1),_defineProperty$1(this,`firstInitSyncSeq`,void 0),_defineProperty$1(this,`syncInitSeq`,void 0),_defineProperty$1(this,`networkOnlineSubject`,new Subject),_defineProperty$1(this,`syncInitTimer`,null),_defineProperty$1(this,`shakeHandTimer`,null),_defineProperty$1(this,`tokenPrivilegeSubscription`,null),_defineProperty$1(this,`_syncEstablishState`,SyncEstablishState.DISCONNECTED),_defineProperty$1(this,`_lastPingSequences`,[Long$1.ZERO,Long$1.ZERO]),_defineProperty$1(this,`registerConnectionFailureListener`,()=>{this.connection.once(`connectionFailure`,()=>{this.log(`registrar: connectionFailure, start reLogin...`),defer(()=>(this.connection.subKeeperSubject(),this.context.internalEmitter.emit(`login-request`),this.loginHandler(!0))).pipe(retryWhen(A$1=>A$1.pipe(tap(A$2=>{let e$1=!1;if(isTimeout(A$2)&&!this.connection.cancelLogin&&(e$1=!0),this.logError(A$2),this.log(`reLogin need retry: %s, cancel login: %s`,e$1,this.connection.cancelLogin),e$1)return delay(getParameter(`RECONNECTING_AP_INTERVAL`));throw A$2}))),takeUntil(this.loginSubject$)).subscribe(()=>{this.log(`new connection connected`)})})}),this.context=A,this.context.startTime=Date.now(),this.connection=new Connection(A,t,!1),this.instanceId=e,this.lastPingTime=[0,0],this.setMaxListeners(512),this.log(`The instanceId is %s`,this.instanceId.toString()),this.connection.on(`syncTicketUpdated`,A$1=>{let{ticket:e$1}=A$1;this.emit(`syncTicketUpdated`,{ticket:e$1})}),this.manualShakeHand=g,this.connectDatabase=o}async initSync(){if(!this.context.disablePresence){this._syncEstablishState=SyncEstablishState.CONNECTING;try{await this.connectDatabase(),this._syncEstablishState=SyncEstablishState.CONNECTED}catch(A){if(this._syncEstablishState=SyncEstablishState.DISCONNECTED,A instanceof RTMBaseError)throw A;{let{code:A$1,reason:e}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_TIMEOUT);throw new RtmUnavailableError(OperationName.login,[e],A$1)}}}}getVirtualSyncSocket(){return this.getLoginSockets().filter(A=>A.env===this.context.connSyncEnv)}loginHandler(){let A=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.context.socketUseProxy=!1,this.context.connSyncEnv=void 0,this.loggedOut&&A){let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_ABORTED);throw new RtmInvalidStatusError(OperationName.login,[e$1+`logout when login retrying`],A$1)}A&&this.registerConnectionFailureListener(),this.connection.initConnection();let{seq:e}=this.context,t=this.getSocketLoginObservables(this.connection.lastOpenSockets,e),g;return this.initLoginsSocketsReceivers(t,A,!1),this.initKeepAliveSender(),this.initLoginReceiver(),this.context.linkIntervals=[...LINK_INTERVALS],this.log(`start login...`),merge(...t,fromEvent(this.connection,`connectionInitFailure`).pipe(tap(A$1=>{if(isRtmError(A$1)||isTimeout(A$1))throw A$1;let{code:e$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_ABORTED);throw new RtmUnavailableError(OperationName.login,[t$1],e$1)})),fromEvent(this,`login-cancel`).pipe(tap(()=>{throw this.connection.handleCancelLogin()})),this.networkOnlineSubject.pipe(tap(()=>{this.log(`network change, will retry connect in 2s`);let A$1=new TimeoutError;throw A$1.name=`network-change`,this.context.linkIntervals=[...LINK_INTERVALS],A$1}))).pipe(timeout(5e3),take(1),concatMap(async e$1=>{try{await timeoutPromise(this.connSyncInLogin(e$1,A),DEFAULT_RPC_TIMEOUT_TIME,`init sync timeout`,RTMErrorCode.RTM_ERROR_LOGIN_TIMEOUT,!0)}catch(A$1){if(this.connection.cancelLogin)throw A$1;if(!getParameter(`DECOUPLE_SYNC`))throw e$1.forceReconnect(),isTimeout(A$1)?new TimeoutError:A$1}return e$1}),catchError(e$1=>(e$1 instanceof TimeoutError&&(e$1&&e$1.name===`network-change`?this.context.internalEmitter.emit(`net-change-abort-reconn`):(this.warn(`client ${A?`re-`:``}login timeout`),this.context.internalEmitter.emit(`login-timeout`,A))),e$1&&e$1.code===RTMErrorCode.RTM_ERROR_TOKEN_EXPIRED&&(this.warn(`token expired when login, isRetrying: %s`,A),A&&this.context.internalEmitter.emit(`tokenExpired`),this.connection.apClient.apFinish$.next(void 0),this.connection.stopLogin()),this.clearSockets(0,A),throwError(e$1))),retryWhen(e$1=>e$1.pipe(switchMap(e$2=>{if(this.connection.apClient.apFinish$.next(void 0),g=this.getFallBackTimer(),this.connection.cancelLogin&&!A)throw this.connection.handleCancelLogin();if(e$2 instanceof TimeoutError)return merge(fromEvent(this,`login-cancel`).pipe(tap(()=>{throw this.connection.handleCancelLogin()})),race(interval(g),this.networkOnlineSubject.pipe(tap(()=>{this.log(`network is online, will retry connect now`)}))).pipe(take(1),takeUntil(this.connection.apClient.apFinish$),tap(()=>{if(this.connection.cancelLogin)throw this.connection.handleCancelLogin();this.context.internalEmitter.emit(`login-request`),this.initLoginsSocketsReceivers(t,A,!0),this.loginSocketSubs.find(A$1=>!A$1.keepAlive)&&this.initKeepAliveSender(),this.initLoginReceiver(),this.connection.subKeeperSubject(),this.connection.initConnection(),this.log(`retryWhen---interval`)})));throw e$2}),catchError(A$1=>throwError(A$1)))),takeUntil(this.loginSubject$),tap(()=>{A||this.registerConnectionFailureListener()}),tap(()=>{this.manualShakeHand()}),finalize(()=>{A||this.connection.apClient.apFinish$.next(void 0),this.loginSubject$.next(void 0),this.connection.endLogin$.next(void 0)}))}getFallBackTimer(){return 1e3*(this.context.linkIntervals.length>=1?this.context.linkIntervals.splice(0,1)[0]:30)}async connSyncInLogin(A,e){if(this.context.disablePresence)return;let t=this.syncEstablishState===SyncEstablishState.DISCONNECTED;this.info(`ENV_%d(%s): First reg logged response received, need connect sync: %s, connSyncEnv: %d, isRetrying: %s, syncConnecting: %s`,A.env,A.name,t,this.context.connSyncEnv,e);let g=getParameter(`DECOUPLE_SYNC`);if(t){try{await timeoutPromise(this.requestFirstSyncInit(A),2e3,`syncInitAck timeout`,RTMErrorCode.RTM_ERROR_LOGIN_TIMEOUT,!0)}catch(e$1){let t$1=SyncDisconnectedReason.REQUEST_FIRST_SYNC_PHYSICAL_CONNECTION_ERROR;throw this.warn(`ENV_%d(%s): %s, %o`,A.env,A.name,t$1,e$1),g&&!this.connection.cancelLogin&&this.handleSyncDisconnected(A,t$1),e$1}try{this.log(`ENV_${A.env} - ${A.name}: reg connect sync done by concatMap when ${e?`reLogging`:`logging`}, start logging sync..., syncEnv: ${this.context.connSyncEnv}`),await this.initSync(),this.log(`ENV_${A.env} - ${A.name}: logged sync when ${e?`reLogging`:`logging`}.`)}catch(e$1){this.logError(`change connSyncEnv: %d to undefined because first connect sync database error, %o`,A.env,e$1),this.context.connSyncEnv=void 0;let t$1=SyncDisconnectedReason.CONNECT_SYNC_DATABASE_ERROR;throw this.emit(`syncDisconnected`,t$1),g&&!this.connection.cancelLogin&&this.handleSyncDisconnected(A,t$1),e$1}}}async logoutHandler(A){this.loggedOut=!0,this.connection.apClient.apFinish$.next(void 0),this.connection.stopLogin();let e=this.getLoginSockets(),t=e.map(e$1=>(e$1.sendPacket(`UserQuit2`,{flags:A?new Long$1(1,0,!0):Long$1.fromNumber(0)}),this.connection.waitClosing(e$1)));this.clearSockets(LOGOUT_SOCKET_CLOSE_TIMEOUT);let g=e.map(A$1=>A$1.env);return[0,1].filter(A$1=>!g.includes(A$1)).forEach(A$1=>{this.connection.closeSocket(A$1,0)}),this.context.internalEmitter.emit(`logout-clear-backoff-events-timer`),merge(...t).toPromise()}cancelSyncTimer(){this.syncInitTimer&&=(clearTimeout(this.syncInitTimer),null)}cleanLoginSubs(A){Object.entries(this.loginSocketSubs[A]).forEach(A$1=>{let[e,t]=A$1;Array.isArray(t)||t instanceof Map?t.forEach(A$2=>A$2.unsubscribe()):t&&t.unsubscribe()}),this.loginSocketSubs[A]={receivers:[]}}initLoginsSocketsReceivers(A,e,t){let g=Date.now();A.forEach((A$1,o)=>{let{login:I}=this.loginSocketSubs[o];I===void 0||t||I.unsubscribe(),this.loginSocketSubs[o].login=A$1.pipe(tap(A$2=>{this.log(`Env_%s: acquired socket %s`,o,A$2.name);let t$1=Date.now();this.context.addReportEvents(`Link`,{ackedServerIp:A$2.address,destServerIp:A$2.ip,ec:0,sc:0,elapse:getElapse(this.context.startTime),lts:Long$1.fromNumber(t$1),responseTime:t$1-g,sid:getSid(this.instanceId),userId:this.context.uid,version:10,subVersion:100,connectionsequence:Long$1.fromNumber(0),linktype:4,linkflag:Long$1.fromNumber(0),linkenv:A$2.env}),e&&this.connection.apClient.apFinish$.next(void 0),this.context.internalEmitter.emit(`link-success`,A$2.env)})).subscribe(this.lastLoginSockets[o])})}initKeepAliveSender(){this.lastLoginSockets.map(A=>A.pipe(switchMap(A$1=>{var e;return this.loginSocketSubs[A$1.env].pingTimer&&Date.now()-this.lastPingTime[A$1.env]>=this.context.heartbeatInterval?((e=this.loginSocketSubs[A$1.env].pingTimer)==null||e.unsubscribe(),this.lastPingTime[A$1.env]=0,A$1.loggedIn&&(this.log(`Env_%s(%s): start a new keep alive sender, unsubscribe last timer`,A$1.env,A$1.name),this.startPingTimer(A$1,!0))):this.loginSocketSubs[A$1.env].pingTimer||A$1.loggedIn&&(this.log(`Env_%s(%s): start keep alive sender`,A$1.env,A$1.name),this.startPingTimer(A$1,!0)),EMPTY}))).forEach((A,e)=>{let{keepAlive:t}=this.loginSocketSubs[e];t!==void 0&&t.unsubscribe(),this.loginSocketSubs[e].keepAlive=A.subscribe({error:()=>{}})})}startPingTimer(A){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],t=of(A).pipe(delay(e?0:this.context.heartbeatInterval,isMobile$1()?void 0:getHackAsyncScheduler()),tap(()=>{!A.isActiveClose&&this.sendPing(A),t.unsubscribe()})).subscribe();this.loginSocketSubs[A.env].pingTimer=t}initLoginReceiver(){var A;(A=this.tokenPrivilegeSubscription)==null||A.unsubscribe(),this.tokenPrivilegeSubscription=race(...this.lastLoginSockets.map(A$1=>A$1.pipe(switchMap(A$2=>A$2.fromReceived(`UserTicketNearlyExpire2`).pipe(throttleTime(3e4),tap(e=>{if(e.ticket===A$2.ticket)try{let A$3=JSON.parse(e.resources);this.context.internalEmitter.emit(`UserTicketNearlyExpire`,{messageChannels:A$3.messageChannels.map(A$4=>{var e$1;return Object.keys(A$4)[0]??``}).filter(A$4=>A$4!==``)})}catch(A$3){this.logError(`parse permission revoked resources failed, error: %o`,A$3)}})))))).subscribe({error:A$1=>{this.logError(`TokenPrivilegeWillExpireReceivers error: %o`,A$1)}}),this.lastLoginSockets.map(A$1=>A$1.pipe(switchMap(A$2=>merge(A$2.fromReceived(`StateLockUpdate`).pipe(tap(A$3=>{this.context.internalEmitter.emit(`StateLockUpdate`,A$3)})),A$2.fromReceived(`StateLockSubscribeEvent`).pipe(tap(A$3=>{this.context.internalEmitter.emit(`StateLockSubscribeEvent`,A$3)})),A$2.fromReceived(`StateUpdate`).pipe(tap(A$3=>{this.context.internalEmitter.emit(`StateUpdate`,A$3)})),A$2.fromReceived(`Message`).pipe(tap(e=>{this.context.internalEmitter.emit(`Message`,_objectSpread2(_objectSpread2({},e),{},{eventReportInfo:{env:A$2.env}}))})),A$2.fromReceived(`GroupDrop`).pipe(tap(A$3=>{this.context.internalEmitter.emit(`GroupDrop`,A$3)})),fromEvent(A$2,`reconnect`).pipe(tap(this.onSocketReconnect(A$2))),A$2.fromReceived(`UserDrop`).pipe(tap(this.onUserDrop(A$2))),A$2.fromReceived(`SyncFin`).pipe(tap(this.onSyncFin(A$2))),A$2.fromReceived(`SyncInitAck`).pipe(tap(this.onSyncInitAck(A$2))),A$2.fromReceived(`GroupEnterNotice`).pipe(tap(A$3=>{this.context.internalEmitter.emit(`GroupEnterNotice`,A$3)})),A$2.fromReceived(`GroupLeaveNotice`).pipe(tap(A$3=>{this.context.internalEmitter.emit(`GroupLeaveNotice`,A$3)})),A$2.fromReceived(`GroupCountNotice`).pipe(tap(this.onGroupCountNotice())),A$2.receivedSyncPacket.pipe(tap(this.onSyncPacket()))).pipe(mapTo(void 0))))).forEach((A$1,e)=>{this.loginSocketSubs[e].receivers.forEach(A$2=>A$2.unsubscribe()),this.loginSocketSubs[e].receivers.push(A$1.subscribe({error:A$2=>{this.logError(`socketReceiver error: %o`,A$2)},complete:()=>{this.log(`socketReceiver complete: %o`)}}))})}clearShakehandTimer(){this.shakeHandTimer&&=(clearTimeout(this.shakeHandTimer),null)}handleConfig(A){if(isUintString(A[`presence.interval`])){let e=Number(A[`presence.interval`]);e>300?A[`presence.interval`]=`300`:e<10&&(A[`presence.interval`]=`10`)}else A[`presence.interval`]=`30`;if(isUintString(A[`presence.occupancy`])){let e=Number(A[`presence.occupancy`]);e>128?A[`presence.occupancy`]=`128`:e<8&&(A[`presence.occupancy`]=`8`)}else A[`presence.occupancy`]=`50`;if(isUintString(A[`presence.debounce`])){let e=Number(A[`presence.debounce`]);e>128?A[`presence.debounce`]=`128`:e<8&&(A[`presence.debounce`]=`8`)}else A[`presence.debounce`]=`2`}requestSocketLogin(A,e,t,g){return concat(defer(()=>{this.context.internalEmitter.emit(`login-request`),this.userJoinOptions=new UserJoinOptions(e),this.log(`ENV_%d(%s): socket.isActiveClose: %s, isRejoin: %s`,A.env,A.name,A.isActiveClose,e);let g$1=!A.isActiveClose;if(this.loggedOut)return this.log(`close other socket, ignore this login request`),void A.close();if(g$1){var o;let g$2=getParameter(`RTM_LINK_KEEP_ALIVE_TIMEOUT`)??CONFIGURABLE_KEY_RTM_LINK_KEEP_ALIVE_TIMEOUT;e&&!this.canEmitUserJoined&&(this.canEmitUserJoined=!0),A.sendPacket(`UserJoin2`,{account:this.context.uid,instance:this.instanceId,opt:this.userJoinOptions.toLong(),seq:t,ticket:A.ticket,detail:{[UserJoinDetailKey.kDetailKeyConsoleConfig]:new Uint8Array,[UserJoinDetailKey.kDetailKeyKeepAliveInterval]:new TextEncoder().encode(String(this.context.heartbeatInterval/1e3)),[UserJoinDetailKey.kDetailKeyKeepAliveBuffer]:new TextEncoder().encode(String(g$2/1e3))}})}}),A.fromReceived(`UserResp2`).pipe(first(A$1=>t.eq(A$1.seq)),tap(t$1=>{if(this.loggedOut)return this.log(`ENV_%d(%s): other socket is closing, will close this socket, ignore this resp`,A.env,A.name),EMPTY;let{code:g$1}=t$1;if(g$1!==0){let A$1=String(g$1);this.clearSockets();let t$2=RTMErrorCode.RTM_ERROR_LOGIN_REJECTED;switch(g$1){case RegServerErrorCode.kCertificateInvalid:case RegServerErrorCode.kTicketParseError:case RegServerErrorCode.kTicketIllegalLength:case RegServerErrorCode.kTicketNotAuth:case RegServerErrorCode.kTicketUnknownVersion:case RegServerErrorCode.kTicketInvalid:t$2=RTMErrorCode.RTM_ERROR_INVALID_TOKEN;break;case RegServerErrorCode.kTimestampExpired:this.warn(`token expired when received userResp, isReJoin: %s`,e),e&&this.context.internalEmitter.emit(`tokenExpired`),this.connection.apClient.apFinish$.next(void 0),this.connection.stopLogin(),t$2=RTMErrorCode.RTM_ERROR_TOKEN_EXPIRED;break;case RegServerErrorCode.kUserRejectedByConsoleConfig:t$2=RTMErrorCode.RTM_ERROR_LOGIN_NOT_AUTHORIZED,A$1=`NOT_ENABLE_RTM`;case RegServerErrorCode.kFail:case RegServerErrorCode.kServiceTooHeavy:}this.logError(`Connected to gateway success but the Rtm server rejected login, server code is %s`,A$1);let{code:o$1,reason:I}=getErrorInfoByCode(t$2);throw new RtmUnavailableError(OperationName.login,[I+` userResp error, detail: ${A$1}`],o$1)}try{let A$1,{detail:{1:e$1}}=t$1;A$1=JSON.parse(new TextDecoder().decode(e$1)),this.handleConfig(A$1);let g$2={};for(let e$2 in A$1)e$2[0]!==`_`&&(g$2[e$2]=A$1[e$2]);this.log(`user console config: %o`,g$2),this.context.consoleConfig=A$1}catch(A$1){this.warn(`parse user console config failed, will use default, error: %o`,A$1)}var o;return(A.attemptsSinceLastError=0,A.loggedIn=!0,e)&&((o=this.loginSocketSubs[A.env].pingTimer)==null||o.unsubscribe(),this.lastPingTime[A.env]=0,this.startPingTimer(A,!0)),this.log(`ENV_%d logged in`,A.env),A}),mapTo(A),timeout(6e3))).pipe(filter(A$1=>A$1!==void 0),tap(()=>{this.log(`ENV_%d(%s): Login response received`,g,A.name),this.curLoginSockets[g]=A}),concatMap(async A$1=>{let t$1=!A$1.isActiveClose;return e&&this.canEmitUserJoined&&t$1&&(this.emit(`userJoined`,A$1.env),this.canEmitUserJoined=!1),A$1}),catchError(t$1=>{var g$1;return t$1 instanceof TimeoutError&&(g$1=this.curLoginSockets[A.env===0?1:0])!=null&&g$1.isActiveClose?(this.log(`ENV_%d(%s): other socket is closing, will close this socket`,A.env,A.name),EMPTY):t$1 instanceof TimeoutError?(!e&&this.warn(`ENV_%d(%s): sdk connect sync or reg response timeout, rejoin: %s`,A.env,A.name,e),t$1.name=`loginRespTimeout`,setTimeout(()=>{A.emit(`socketFailure`),A.close()},SOCKET_RETRY_INTERVAL),of(A).pipe(delay(6e3))):(this.connection.banIP(A.ip),throwError(t$1))}))}getSocketLoginObservables(A,e){return A.map((A$1,t)=>A$1.pipe(switchMap((A$2,g)=>(this.context.incSeqIfNeeded(A$2.env),A$2.isActiveClose||this.loggedOut?EMPTY:(this.log(`ENV_%d(%s): start reg login request, isRejoin: %s`,A$2.env,A$2.name,g!==0),this.requestSocketLogin(A$2,g!==0,g===0?e:this.context.seq,t)))),share()))}getLoginSockets(){return compact$1(this.curLoginSockets)}sendOperationPacket(A,e,t){let g=this.getLoginSockets();if(g.length===0){let{code:e$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_CONNECTED);throw new RtmInvalidStatusError(A,[t$1],e$1)}g.forEach(A$1=>{A$1.sendPacket(e,t)})}sendOperationPacketUseOneEnv(A,e,t,g){let o=this.getLoginSockets();if(o.length===0){let{code:e$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_CONNECTED);throw new RtmInvalidStatusError(A,[t$1],e$1)}o.forEach(A$1=>{A$1.env===e&&A$1.sendPacket(t,g)})}onOperationPacket(A){return merge(...this.getLoginSockets().map(e=>e.fromReceived(A).pipe(tap(A$1=>_objectSpread2(_objectSpread2({},A$1),{},{eventReportInfo:{ip:e.ip}})))))}onSocketReconnect(A){return()=>{let e=[0,1].filter(e$1=>e$1!==A.env)[0],t=this.connection.curOpenSockets[e],g=this.context.connSyncEnv===A.env;this.log(`ENV_${A.env}(${A.name}): received a reconnect event from ${maskIp(A.address)}, otherSocketState: ${t?.loggedIn}, syncEnv: ${g}`),g&&this.syncEstablishState===SyncEstablishState.CONNECTED&&this.handleSyncDisconnected(A,SyncDisconnectedReason.REG_SOCKET_RECONNECT),t&&!t.loggedIn&&(this.log(`ENV_${A.env}(${A.name}): will emit connectionLost`),g||this.syncEstablishState!==SyncEstablishState.CONNECTED||this.handleSyncDisconnected(t,SyncDisconnectedReason.REG_SOCKET_RECONNECT)),t!=null&&t.loggedIn||this.context.internalEmitter.emit(`connectionLost`)}}onGroupCountNotice(){return A=>{let{group:e,size:t}=A;this.log(`group count notice: %s, %s`,e,t)}}async requestFirstSyncInit(A){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(this.context.disablePresence)return;this.cancelSyncTimer(),this.syncEstablishState=SyncEstablishState[`SYNCINIT_${A.env}`];let t=this.context.incGetSeq();return e&&(this.firstInitSyncSeq=t),this.log(`ENV_${A.env} - ${A.name}: request ${e?`first`:``} sync physical connection, seq: ${t.toNumber()}`),this.syncInitSeq=t,A.sendPacket(getParameter(`DECOUPLE_SYNC`)?`SyncInit2`:`SyncInit`,{seq:t}),A.fromReceived(`SyncInitAck`).pipe(first(A$1=>A$1.seq.eq(t)),map$1(async e$1=>{if(e$1.code!==0)throw this.context.connSyncEnv=void 0,this.warn(`change connSyncEnv %d to undefined in requestFirstSyncInit`,A.env),Error(`reg connect sync error, code is ${e$1.code}`);this.log(`reg connect sync succeed, change sync connected`),this.emit(`syncConnected`),this.context.connSyncEnv=A.env})).toPromise()}onSyncFin(A){return e=>{let{code:t}=e;this.warn(`ENV_%d: reg and sync conn is fin, connSyncEnv is %d, code is %d, %s, syncEstablishState is %s`,A.env,this.context.connSyncEnv,t,A.name,this.syncEstablishState),this.syncEstablishState===SyncEstablishState.CONNECTED&&(this.emit(`syncDisconnected`,`sync fin`),isNil$1(this.context.connSyncEnv)||this.context.connSyncEnv!==A.env||this.handleSyncDisconnected(A,SyncDisconnectedReason.SYNC_FIN))}}onSyncInitAck(A){return async e=>{let{code:t,seq:g}=e;if(this.context.disablePresence)return;if(this.firstInitSyncSeq&&g.eq(this.firstInitSyncSeq))return void this.log(`first sync init ack, ignore.`);if(this.syncInitSeq&&g<this.syncInitSeq)return void this.log(`sync init ack is outdated, ignore.`);let o=getParameter(`DECOUPLE_SYNC`);if(t!==0)this.warn(`reg connect sync error, code: ${t}`),o||(A.emit(`socketFailure`),A.close()),this.context.connSyncEnv=void 0,this.warn(`change connSyncEnv %d to undefined in onSyncInitAck error`,A.env);else{this.context.connSyncEnv=A.env,this.log(`sync physical connect success, will emit sync connected, connSyncEnv: %d`,this.context.connSyncEnv),this.emit(`syncConnected`);try{await this.initSync()}catch(e$1){this.logError(`received syncInitAck and connect sync database error: %o`,e$1),o?this.handleSyncDisconnected(A,`connect sync database error`):A.forceReconnect()}}}}retrySyncInit(A){this.cancelSyncTimer(),this.syncEstablishState===SyncEstablishState.DISCONNECTED&&timeoutPromise(this.requestFirstSyncInit(A,!1),5e3,`syncInitAck timeout`,RTMErrorCode.RTM_ERROR_LOGIN_TIMEOUT,!0).catch(e=>{this.warn(`Env_%s: request sync physical connection error: %o`,A.env,e),this.handleSyncDisconnected(A,SyncDisconnectedReason.RETRY_SYNC_PHYSICAL_CONNECTION,isTimeout(e)?0:5e3)})}handleSyncDisconnected(A,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(!isNil$1(this.context.connSyncEnv)&&this.context.connSyncEnv!==A.env)return void this.warn(`Now connSyncEnv is not equal to socket env, can't handle disconnected`);if(this.emit(`syncDisconnected`,`handle handleSyncDisconnected, reason: `+e),this.context.connSyncEnv=void 0,this.syncEstablishState=SyncEstablishState.DISCONNECTED,this.cancelSyncTimer(),this.clearShakehandTimer(),this.loggedOut)return;e!==SyncDisconnectedReason.REG_SOCKET_RECONNECT&&e!==SyncDisconnectedReason.RETRY_SYNC_PHYSICAL_CONNECTION&&this.context.internalEmitter.emit(`presence-backoff`);let g=[0,1].filter(e$1=>e$1!==A.env)[0],o=this.connection.curOpenSockets[g];o&&o.loggedIn?(this.info(`use another env to connect sync, env: %d(%s)`,o.env,o.name),this.syncInitTimer=setTimeout(()=>{this.retrySyncInit(o)},t)):!getParameter(`DECOUPLE_SYNC`)||o!=null&&o.loggedIn||(this.info(`use same env to connect sync, env: %d(%s), loggedIn: %s`,A.env,A.name,A.loggedIn),this.syncInitTimer=setTimeout(()=>{this.retrySyncInit(A)},t))}onSyncPacket(){return A=>{getSyncPacketUri(A)===102&&this.clearShakehandTimer(),this.emit(`syncPacket`,A)}}onUserDrop(A){return e=>{let{code:t}=e;if(t===RegServerErrorCode.kConnectionTimeout)return void this.warn(`connection timeout`);if(this.context.addReportEvents(`KickedOff`,{code:0,elapse:getElapse(this.context.startTime),linkId:parseInt(A.name.split(`-`)[1],10),lts:Long$1.fromNumber(Date.now()),server:A.address,serverCode:t,sid:getSid(this.instanceId),userId:this.context.uid}),t===RegServerErrorCode.kUserInstanceConflict)return this.warn(`The instance ID conflicts, reconnecting`),this.instanceId=getRandomUInt64(),this.context.instanceId=this.instanceId,this.context.sid=getSid(this.instanceId),void this.context.internalEmitter.emit(`instanceChanged`,this.instanceId);[RegServerErrorCode.kTimestampExpired,RegServerErrorCode.kRejoined,RegServerErrorCode.kUidBanned,RegServerErrorCode.kIpBanned,RegServerErrorCode.kChannelBanned,RegServerErrorCode.kUserBannedByAuth,RegServerErrorCode.kJoinTooFrequently].includes(t)&&(this.emit(`syncDisconnected`,`userDrop`),this.loggedOut=!0,this.context.internalEmitter.emit(`userDrop`,t),this.connection.cancelLogin=!0,this.emit(`login-cancel`),this.clearSockets())}}clearSockets(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.info(`clearSockets, delayTime: %d, isRetrying: %s`,A,e),[0,1].forEach(e$1=>{this.cleanLoginSubs(e$1),this.connection.closeSocket(e$1,A)})}handleHeartbeatTimeout(A){var e;let t=this.context.heartbeatInterval+(getParameter(`RTM_LINK_KEEP_ALIVE_TIMEOUT`)??CONFIGURABLE_KEY_RTM_LINK_KEEP_ALIVE_TIMEOUT)-2*SOCKET_RETRY_INTERVAL;this.warn(`ENV_${A.env}(${A.name}): registrar forceReconnect, the last received packet is the same as it was ${t/1e3}s ago `),A.forceReconnect()}sendPing(A){var e;if(Date.now()-this.lastPingTime[A.env]<=this.context.heartbeatInterval||!A.loggedIn)return;this.context.incSeqIfNeeded(A.env);let t=this.context.seq,g=this.context.heartbeatInterval+(getParameter(`RTM_LINK_KEEP_ALIVE_TIMEOUT`)??CONFIGURABLE_KEY_RTM_LINK_KEEP_ALIVE_TIMEOUT)-2*SOCKET_RETRY_INTERVAL;this._lastPingSequences[A.env]=t,A.sendPacket(`Ping3`,{ms:Long$1.fromNumber(Date.now(),!0),seq:t,flags:new Long$1(3,0,!0)}),this.lastPingTime[A.env]=Date.now(),A.env===this.context.connSyncEnv&&(this.manualShakeHand(),this.shakeHandTimer=setTimeout(()=>{this.loggedOut||(this.warn(`not received shakeHand response in heartbeat interval`),this.context.internalEmitter.emit(`presence-backoff`))},15e3));let o=A.fromReceived(`Pong3`).pipe(filter(A$1=>{let{seq:e$1}=A$1;return e$1.eq(t)}),take(1),tap(e$1=>{let{serverMs:t$1}=e$1;this.context.pongTime=t$1.toNumber(),this.context.offsetTime=this.context.pongTime-new Date().getTime(),this.startPingTimer(A)}),timeout(g),catchError(e$1=>(!1===A.loggedIn||this._lastPingSequences[A.env].greaterThan(t)||(this.warn(`ENV: %d, loggedIn: %s, received pong error, seq: %s, e: %o`,A.env,A.loggedIn,t.toNumber(),e$1),e$1 instanceof TimeoutError&&(A.env===this.context.connSyncEnv&&this.clearShakehandTimer(),this.handleHeartbeatTimeout(A))),EMPTY)),finalize(()=>{o.unsubscribe()})).subscribe()}notifyNetworkChange(A){this.networkOnlineSubject.next(A)}updateRegTicket(A){this.curLoginSockets.filter(A$1=>A$1!==void 0).forEach(e=>e.ticket=A)}updateLoggedOut(A){this.loggedOut=A}}class CollectionEvent{constructor(A,e,t,g){this.document=A,this.path=e,this.type=t,this.value=g}}var CollectionEventType;(function(A){A.Put=`Put`,A.Insert=`Insert`,A.Delete=`Delete`,A.DocSyncEnd=`DocSyncEnd`})(CollectionEventType||={});var CollectionEventType$1=CollectionEventType;class SyncCounter{constructor(A,e,t,g,o){this.docInstance=A,this.path=e,this.documentIn=t,this.collectionIn=g,this.client=o}Set(A){if(Math.round(A)!=A)throw TypeError(`The value is expected to be an int, but a double was got.`);if(!checkAll(this.documentIn,this.collectionIn.writable))throw Error(`The current collection is forbidden to write the Document : `+this.documentIn);let e=Module._rte_crdt_path_create();parsePath(this.path,e);let t=Module._rte_crdt_nested_value_create();if(Module._rte_crdt_document_get(this.docInstance,null,e,t)!==0)throw Module._rte_crdt_nested_value_destroy(t),Module._rte_crdt_path_destroy(e),Error(`The counter no longer exists.`);counterCheckAndReplace(t,e,this.docInstance),Module._rte_crdt_document_batch_write_begin(this.docInstance),setValue(this.docInstance,null,A,e,!0),Module._rte_crdt_document_batch_write_end(this.docInstance),Module._rte_crdt_nested_value_destroy(t),Module._rte_crdt_path_destroy(e),this.client.connected&&tickLoop(this.client)}Inc(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(Math.round(A)!=A)throw TypeError(`The delta is expected to be an int, but a double was got.`);if(!checkAll(this.documentIn,this.collectionIn.writable))throw Error(`The current collection is forbidden to write the Document : `+this.documentIn);let e=Module._rte_crdt_path_create();parsePath(this.path,e);let t=Module._rte_crdt_nested_value_create();if(Module._rte_crdt_document_get(this.docInstance,null,e,t)!==0)throw Module._rte_crdt_nested_value_destroy(t),Module._rte_crdt_path_destroy(e),Error(`The counter no longer exists.`);counterCheckAndReplace(t,e,this.docInstance),Module._rte_crdt_document_batch_write_begin(this.docInstance),Module._rte_crdt_document_increment(this.docInstance,null,e,BigInt(A)),Module._rte_crdt_document_batch_write_end(this.docInstance),Module._rte_crdt_nested_value_destroy(t),Module._rte_crdt_path_destroy(e),this.client.connected&&tickLoop(this.client)}Dec(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(Math.round(A)!=A)throw TypeError(`The delta is expected to be an int, but a double was got.`);if(!checkAll(this.documentIn,this.collectionIn.writable))throw Error(`The current collection is forbidden to write the Document : `+this.documentIn);let e=Module._rte_crdt_path_create();parsePath(this.path,e);let t=Module._rte_crdt_nested_value_create();if(Module._rte_crdt_document_get(this.docInstance,null,e,t)!==0)throw Module._rte_crdt_nested_value_destroy(t),Module._rte_crdt_path_destroy(e),Error(`The counter no longer exists.`);counterCheckAndReplace(t,e,this.docInstance),Module._rte_crdt_document_batch_write_begin(this.docInstance),Module._rte_crdt_document_increment(this.docInstance,null,e,-BigInt(A)),Module._rte_crdt_document_batch_write_end(this.docInstance),Module._rte_crdt_nested_value_destroy(t),Module._rte_crdt_path_destroy(e),this.client.connected&&tickLoop(this.client)}Value(){if(!checkAll(this.documentIn,this.collectionIn.readable))throw Error(`The current collection is forbidden to read the Document : `+this.documentIn);let A,e=Module._rte_crdt_path_create();parsePath(this.path,e);let t=Module._rte_crdt_nested_value_create();if(Module._rte_crdt_document_get(this.docInstance,null,e,t)!==0)throw Module._rte_crdt_nested_value_destroy(t),Module._rte_crdt_path_destroy(e),Error(`The counter no longer exists.`);return counterCheckAndReplace(t,e,this.docInstance),A=getScalarValue(t),Module._rte_crdt_nested_value_destroy(t),Module._rte_crdt_path_destroy(e),A}}class List{constructor(A,e,t,g,o){this.docInstance=A,this.path=e,this.documentIn=t,this.collectionIn=g,this.client=o}Insert(A,e){if(Math.round(A)!=A)throw TypeError(`The index is expected to be an int, but a double was got.`);if(!checkAll(this.documentIn,this.collectionIn.writable))throw Error(`The current collection is forbidden to write the Document : `+this.documentIn);let t=Module._rte_crdt_path_create();parsePath(this.path,t);let g=Module._rte_crdt_nested_value_create();if(Module._rte_crdt_document_get(this.docInstance,null,t,g)!==0||!Module._rte_crdt_nested_value_is_list(g))throw Module._rte_crdt_nested_value_destroy(g),Module._rte_crdt_path_destroy(t),Error(`The list no longer exists.`);{let o=Module._rte_crdt_nested_value_iterator_create(g),I=0;for(;Module._rte_crdt_nested_value_iterator_next_value(o,null)!==305;)I+=1;if(Module._rte_crdt_nested_value_iterator_destroy(o),A<0||A>I)throw Module._rte_crdt_nested_value_destroy(g),Module._rte_crdt_path_destroy(t),Error(`The index is out of bound.`);Module._rte_crdt_document_batch_write_begin(this.docInstance);for(let g$1=0;g$1<e.length;g$1++){let o$1=e[g$1];setValue(this.docInstance,A,o$1,t),A+=1}Module._rte_crdt_document_batch_write_end(this.docInstance)}Module._rte_crdt_nested_value_destroy(g),Module._rte_crdt_path_destroy(t),this.client.connected&&tickLoop(this.client)}Append(A){if(!checkAll(this.documentIn,this.collectionIn.writable))throw Error(`The current collection is forbidden to write the Document : `+this.documentIn);let e=Module._rte_crdt_path_create();parsePath(this.path,e);let t=Module._rte_crdt_nested_value_create();if(Module._rte_crdt_document_get(this.docInstance,null,e,t)!==0||!Module._rte_crdt_nested_value_is_list(t))throw Module._rte_crdt_nested_value_destroy(t),Module._rte_crdt_path_destroy(e),Error(`The list no longer exists.`);{let g=Module._rte_crdt_nested_value_iterator_create(t),o=0;for(;Module._rte_crdt_nested_value_iterator_next_value(g,null)!==305;)o+=1;Module._rte_crdt_nested_value_iterator_destroy(g),Module._rte_crdt_document_batch_write_begin(this.docInstance);for(let t$1=0;t$1<A.length;t$1++){let g$1=A[t$1];setValue(this.docInstance,o,g$1,e),o+=1}Module._rte_crdt_document_batch_write_end(this.docInstance)}Module._rte_crdt_nested_value_destroy(t),Module._rte_crdt_path_destroy(e),this.client.connected&&tickLoop(this.client)}Remove(A){for(let e=0;e<A.length;e++){let t$1=A[e];if(Math.round(t$1)!=t$1)throw TypeError(`The indexes is expected to be an array of int, but a double was got in the array.`)}if(!checkAll(this.documentIn,this.collectionIn.writable))throw Error(`The current collection is forbidden to write the Document : `+this.documentIn);let t=A.filter((A$1,e,t$1)=>t$1.indexOf(A$1)===e).sort(),g=Module._rte_crdt_path_create();parsePath(this.path,g);let o=Module._rte_crdt_nested_value_create();if(Module._rte_crdt_document_get(this.docInstance,null,g,o)!==0||!Module._rte_crdt_nested_value_is_list(o))throw Module._rte_crdt_nested_value_destroy(o),Module._rte_crdt_path_destroy(g),Error(`The list no longer exists.`);{let e=Module._rte_crdt_nested_value_iterator_create(o),I=0;for(;Module._rte_crdt_nested_value_iterator_next_value(e,null)!==305;)I+=1;Module._rte_crdt_nested_value_iterator_destroy(e);for(let e$1=0;e$1<A.length;e$1++){let t$1=A[e$1];if(t$1<0||t$1>I)throw Module._rte_crdt_nested_value_destroy(o),Module._rte_crdt_path_destroy(g),Error(`The index is out of bound.`)}let i$1=0;Module._rte_crdt_document_batch_write_begin(this.docInstance);for(let A$1=0;A$1<t.length;A$1++){let e$1=t[A$1],g$1=Module._rte_crdt_path_create();e$1-=i$1,parsePath(this.path+`[`+e$1.toString()+`]`,g$1),Module._rte_crdt_document_delete(this.docInstance,null,g$1),i$1+=1,Module._rte_crdt_path_destroy(g$1)}Module._rte_crdt_document_batch_write_end(this.docInstance)}Module._rte_crdt_nested_value_destroy(o),Module._rte_crdt_path_destroy(g),this.client.connected&&tickLoop(this.client)}Value(){if(!checkAll(this.documentIn,this.collectionIn.readable))throw Error(`The current collection is forbidden to read the Document : `+this.documentIn);let A=[],e=Module._rte_crdt_path_create();parsePath(this.path,e);let t=Module._rte_crdt_nested_value_create();if(Module._rte_crdt_document_get(this.docInstance,null,e,t)!==0||!Module._rte_crdt_nested_value_is_list(t))throw Module._rte_crdt_nested_value_destroy(t),Module._rte_crdt_path_destroy(e),Error(`The list no longer exists.`);return getAll(this.docInstance,t,A,!0),Module._rte_crdt_path_destroy(e),Module._rte_crdt_nested_value_destroy(t),A}}class Map$1{constructor(A,e,t,g,o){this.docInstance=A,this.path=e,this.documentIn=t,this.collectionIn=g,this.client=o}Set(A){if(!isDict(A))throw TypeError(`The value should be in JSON format`);if(!checkAll(this.documentIn,this.collectionIn.writable))throw Error(`The current collection is forbidden to write the Document : `+this.documentIn);let e=Module._rte_crdt_path_create();parsePath(this.path,e);let t=Module._rte_crdt_nested_value_create();if(Module._rte_crdt_document_get(this.docInstance,null,e,t)!==0||!Module._rte_crdt_nested_value_is_map(t))throw Module._rte_crdt_nested_value_destroy(t),Module._rte_crdt_path_destroy(e),Error(`The map no longer exists.`);Module._rte_crdt_document_batch_write_begin(this.docInstance);for(let t$1=0,g=Object.entries(A);t$1<g.length;t$1++){let[A$1,o]=g[t$1];setValue(this.docInstance,A$1,o,e)}Module._rte_crdt_document_batch_write_end(this.docInstance),Module._rte_crdt_nested_value_destroy(t),Module._rte_crdt_path_destroy(e),this.client.connected&&tickLoop(this.client)}Delete(A){if(!checkAll(this.documentIn,this.collectionIn.writable))throw Error(`The current collection is forbidden to write the Document : `+this.documentIn);let e=Module._rte_crdt_path_create();parsePath(this.path,e);let t=Module._rte_crdt_nested_value_create();if(Module._rte_crdt_document_get(this.docInstance,null,e,t)!==0||!Module._rte_crdt_nested_value_is_map(t))throw Module._rte_crdt_nested_value_destroy(t),Module._rte_crdt_path_destroy(e),Error(`The map no longer exists.`);Module._rte_crdt_document_batch_write_begin(this.docInstance);for(let t$1=0;t$1<A.length;t$1++){let g=A[t$1],o=Module._rte_crdt_path_clone(e),I=getPtrWithStr(g);Module._rte_crdt_path_add_property(o,I,getRealLenWithStrBI(g)),releasePtr(I),Module._rte_crdt_document_delete(this.docInstance,null,o),Module._rte_crdt_path_destroy(o)}Module._rte_crdt_document_batch_write_end(this.docInstance),Module._rte_crdt_nested_value_destroy(t),Module._rte_crdt_path_destroy(e),this.client.connected&&tickLoop(this.client)}Value(){if(!checkAll(this.documentIn,this.collectionIn.readable))throw Error(`The current collection is forbidden to read the Document : `+this.documentIn);let A={},e=Module._rte_crdt_path_create();parsePath(this.path,e);let t=Module._rte_crdt_nested_value_create();if(Module._rte_crdt_document_get(this.docInstance,null,e,t)!==0||!Module._rte_crdt_nested_value_is_map(t))throw Module._rte_crdt_nested_value_destroy(t),Module._rte_crdt_path_destroy(e),Error(`The map no longer exists.`);return getAll(this.docInstance,t,A,!1),Module._rte_crdt_nested_value_destroy(t),Module._rte_crdt_path_destroy(e),A}}class SyncDocument{constructor(A,e,t,g){this.docInstance=A,this.name=e,this.collectionIn=t,this.client=g}Set(A){if(!isDict(A))throw TypeError(`The value should be in JSON format`);if(!checkAll(this.name,this.collectionIn.writable))throw Error(`The current collection is forbidden to write the Document : `+this.name);Module._rte_crdt_document_batch_write_begin(this.docInstance);let e=Module._rte_crdt_path_create();for(let t=0,g=Object.entries(A);t<g.length;t++){let[A$1,o]=g[t];setValue(this.docInstance,A$1,o,e)}Module._rte_crdt_document_batch_write_end(this.docInstance),Module._rte_crdt_path_destroy(e),this.client.connected&&tickLoop(this.client)}Update(A,e){if(!checkAll(this.name,this.collectionIn.writable))throw Error(`The current collection is forbidden to write the Document : `+this.name);Module._rte_crdt_document_batch_write_begin(this.docInstance);let t=Module._rte_crdt_path_create();parsePath(A,t,!0),setValue(this.docInstance,null,e,t),Module._rte_crdt_document_batch_write_end(this.docInstance),this.client.connected&&tickLoop(this.client)}Del(A){if(!checkAll(this.name,this.collectionIn.writable))throw Error(`The current collection is forbidden to write the Document : `+this.name);Module._rte_crdt_document_batch_write_begin(this.docInstance);for(let e=0;e<A.length;e++){let t=A[e],g=Module._rte_crdt_path_create();parsePath(t,g,!0),Module._rte_crdt_document_delete(this.docInstance,null,g),Module._rte_crdt_path_destroy(g)}Module._rte_crdt_document_batch_write_end(this.docInstance),this.client.connected&&tickLoop(this.client)}Get(){if(!checkAll(this.name,this.collectionIn.readable))throw Error(`The current collection is forbidden to read the Document : `+this.name);let A={},e=Module._rte_crdt_path_create(),t=Module._rte_crdt_nested_value_create();try{return Module._rte_crdt_document_get(this.docInstance,null,e,t),getAll(this.docInstance,t,A,!1),Module._rte_crdt_path_destroy(e),Module._rte_crdt_nested_value_destroy(t),A}catch(A$1){Module._rte_crdt_path_destroy(e),Module._rte_crdt_nested_value_destroy(t),logger(`The Error Stack is : ${A$1.Stack}`,this.collectionIn.getLogger,`error`)}}Counter(A,e){let t=Module._rte_crdt_path_create();parsePath(A,t,!0);let g=Module._rte_crdt_nested_value_create(),o;try{o=Module._rte_crdt_document_get(this.docInstance,null,t,g)}catch{throw Module._rte_crdt_nested_value_destroy(g),Module._rte_crdt_path_destroy(t),Error(`The path is invalid`)}if(o!=0){if(!e)throw Error(`The given path leads to an empty field and the 'create' is false.`);Module._rte_crdt_document_batch_write_begin(this.docInstance),setValue(this.docInstance,null,0,t,!0),Module._rte_crdt_document_batch_write_end(this.docInstance)}else{if(!Module._rte_crdt_nested_value_is_scalar(g))throw Module._rte_crdt_nested_value_destroy(g),Module._rte_crdt_path_destroy(t),TypeError(`The given path does not lead to a counter.`);{let A$1=Module._rte_crdt_nested_value_get_scalar(g);if(!Module._rte_crdt_scalar_value_is_counter(A$1)&&!Module._rte_crdt_scalar_value_is_i64(A$1))throw TypeError(`The given path does not lead to a counter.`);if(Module._rte_crdt_scalar_value_is_i64(A$1)){let A$2=getScalarValue(g);Module._rte_crdt_document_batch_write_begin(this.docInstance),setValue(this.docInstance,null,A$2,t,!0),Module._rte_crdt_document_batch_write_end(this.docInstance)}}}return Module._rte_crdt_nested_value_destroy(g),Module._rte_crdt_path_destroy(t),new SyncCounter(this.docInstance,A,this.name,this.collectionIn,this.client)}Map(A,e){let t=Module._rte_crdt_path_create();parsePath(A,t,!0);let g=Module._rte_crdt_nested_value_create(),o;try{o=Module._rte_crdt_document_get(this.docInstance,null,t,g)}catch{throw Module._rte_crdt_nested_value_destroy(g),Module._rte_crdt_path_destroy(t),Error(`The path is invalid!`)}if(o!=0){if(!e)throw Error(`The given path leads to an empty field and the 'create' is false.`);Module._rte_crdt_document_batch_write_begin(this.docInstance),setValue(this.docInstance,null,{},t),Module._rte_crdt_document_batch_write_end(this.docInstance)}else if(!Module._rte_crdt_nested_value_is_map(g))throw Module._rte_crdt_nested_value_destroy(g),Module._rte_crdt_path_destroy(t),TypeError(`The given path does not lead to a map.`);return Module._rte_crdt_nested_value_destroy(g),Module._rte_crdt_path_destroy(t),new Map$1(this.docInstance,A,this.name,this.collectionIn,this.client)}List(A,e){let t=Module._rte_crdt_path_create();parsePath(A,t,!0);let g=Module._rte_crdt_nested_value_create(),o;try{o=Module._rte_crdt_document_get(this.docInstance,null,t,g)}catch{throw Module._rte_crdt_nested_value_destroy(g),Module._rte_crdt_path_destroy(t),Error(`The path is invalid!`)}if(o!=0){if(!e)throw Error(`The given path leads to an empty field and the 'create' is false.`);Module._rte_crdt_document_batch_write_begin(this.docInstance),setValue(this.docInstance,null,[],t),Module._rte_crdt_document_batch_write_end(this.docInstance)}else if(!Module._rte_crdt_nested_value_is_list(g))throw Module._rte_crdt_nested_value_destroy(g),Module._rte_crdt_path_destroy(t),TypeError(`The given path does not lead to a list.`);return Module._rte_crdt_nested_value_destroy(g),Module._rte_crdt_path_destroy(t),new List(this.docInstance,A,this.name,this.collectionIn,this.client)}Keepalive(A){if(!isInteger(A))throw TypeError(`The ttl is expected to be an interger, but a double was got.`);let e=getPtrWithStr(this.collectionIn.dbIn),t=getPtrWithStr(this.collectionIn.name),g=getPtrWithStr(this.name);Module._sync_client_keepalive(this.client.clientPtr,e,t,g,A),releasePtr(e),releasePtr(t),releasePtr(g)}}class SyncCollection{constructor(A,e,t,g,o,I,i$1){this.colPtr=A,this.name=e,this.client=t,this.readable=g,this.writable=o,this.dbIn=I,this.channel=new eventsExports.EventEmitter,this.cb=null,this.getLogger=i$1}PutDoc(A){if(!checkAll(A,this.writable))throw Error(`The current collection is forbidden to write the Document : `+A);let e=getPtrWithStr(A);Module._rte_crdt_collection_put_doc(this.colPtr,e,getRealLenWithStrBI(A));let t=getPtrWithStr(this.name);releasePtr(e),releasePtr(t),this.client.connected&&tickLoop(this.client)}DelDoc(A){if(!checkAll(A,this.writable))throw Error(`The current collection is forbidden to write the Document : `+A);let e=getPtrWithStr(A),t=getPtrWithStr(this.name);Module._rte_crdt_collection_delete_doc(this.colPtr,e,getRealLenWithStrBI(A)),releasePtr(e),releasePtr(t),this.client.connected&&tickLoop(this.client)}Docs(){let A=new Map,e=Module._rte_crdt_collection_iterator_create(this.colPtr,null,BigInt(0)),t=0,g=Module._malloc(4),o=Module._malloc(4);for(;t=Module._rte_crdt_collection_iterator_next(e,o,g),t!==305;){let e$1=Module.getValue(o,`i32`),t$1=Module.UTF8ToString(e$1).valueOf(),g$1=getPtrWithStr(t$1),I=Module._rte_crdt_collection_ref_doc(this.colPtr,g$1,getRealLenWithStrBI(t$1));releasePtr(g$1);let i$1=new SyncDocument(I,t$1,this,this.client);A.set(t$1,i$1)}return releasePtr(g),releasePtr(o),A}Doc(A){let e=getPtrWithStr(A),t=Module._rte_crdt_collection_ref_doc(this.colPtr,e,getRealLenWithStrBI(A));return releasePtr(e),t==0?null:new SyncDocument(t,A,this,this.client)}Subscribe(){return this.cb===null?(this.cb=subscribe(this,this.channel),this.channel):(logger(`The Collection : ${this.name} has already been subscribed.`,this.getLogger,`info`),null)}UnSubscribe(){this.channel.removeAllListeners(),this.cb!=null&&(Module.removeFunction(this.cb),this.cb=null),logger(`The Collection : ${this.name} has been unsubscribed successfully.`,this.getLogger,`info`)}AddReadable(A){let e=getPtrWithStr(this.dbIn),t=getPtrWithStr(this.name),g=getPtrWithStr(A);if(Module._sync_client_add_readable(this.client.clientPtr,e,t,g)!=0)throw releasePtrs([e,t,g]),Error(`Attempt to add an existing readable: ${A}`);this.client.connected&&tickLoop(this.client),releasePtrs([e,t,g])}RemoveReadable(A){let e=getPtrWithStr(this.dbIn),t=getPtrWithStr(this.name),g=getPtrWithStr(A);Module._sync_client_remove_readable(this.client.clientPtr,e,t,g),this.client.connected&&tickLoop(this.client),releasePtrs([e,t,g])}SetSyncInterval(A){if(!isInteger(A)||A<0)throw Error(`Seconds should be a non-negative integer`);let e=getPtrWithStr(this.dbIn),t=getPtrWithStr(this.name);Module._sync_client_set_sync_interval(this.client.clientPtr,e,t,A),this.client.connected&&tickLoop(this.client),releasePtrs([e,t])}}class SyncDatabase{constructor(A,e){this.name=A,this.client=e,this.colls=new Map,this.keepAliveTimers=new Map}async CreateCollection(A,e,t){if(this.colls.has(A))throw Error(`The collection : ${A} has alreay existed in this database.`);try{await promisify(createCollection)({client:this.client,db:this.name,coll:A,readable:e})}catch(A$1){logger(`Collection init failed by the error : ${A$1}`,this.client.getLogger,`error`)}let g=getPtrWithStr(A),o=getPtrWithStr(this.name),I=Module._sync_client_get_coll(this.client.clientPtr,o,g);releasePtr(g),releasePtr(o);let i$1=new SyncCollection(I,A,this.client,e,t,this.name,this.client.getLogger);this.colls.set(A,i$1)}DestroyCollection(A){let e=!1;if(this.colls.has(A)){let t=this.colls.get(A);if(t!=null){let g=getPtrWithStr(t.name),o=getPtrWithStr(this.name);Module._sync_client_delete_coll(this.client.clientPtr,o,g),releasePtr(g),releasePtr(o),this.colls.delete(A),e=!0}}logger(e?`The Collection : ${A} has been destroyed successfully.`:`The operation to destroy the Collection : ${A} is failed.`,this.client.getLogger,`info`)}Coll(A){return this.colls.has(A)?this.colls.get(A):null}SetAutoKeepalive(A,e,t){if(!isInteger(t)||t<=0)throw TypeError(`The ttl is expected to be a positive integer.`);let g=getPtrWithStr(this.name),o=getPtrWithStr(A),I=getPtrWithStr(e);Module._sync_client_set_doc_ttl(this.client.clientPtr,g,o,I,t),releasePtr(g),releasePtr(o),releasePtr(I),this.client.connected&&tickLoop(this.client)}CancelAutoKeepalive(A,e){let t=getPtrWithStr(this.name),g=getPtrWithStr(A),o=getPtrWithStr(e);Module._sync_client_set_doc_ttl(this.client.clientPtr,t,g,o,0),releasePtr(t),releasePtr(g),releasePtr(o),this.client.connected&&tickLoop(this.client)}SetAutoKeepaliveRPC(A,e,t){if(!isInteger(t)||t<=0)throw TypeError(`The ttl is expected to be a positive integer.`);let g=A+` `+e,o=getPtrWithStr(this.name),I=getPtrWithStr(A),i$1=getPtrWithStr(e);if(Module._sync_client_keepalive(this.client.clientPtr,o,I,i$1,t),releasePtr(o),releasePtr(I),releasePtr(i$1),this.client.connected){tickLoop(this.client);let o$1=setInterval(()=>{let g$1=getPtrWithStr(this.name),o$2=getPtrWithStr(A),I$1=getPtrWithStr(e);Module._sync_client_keepalive(this.client.clientPtr,g$1,o$2,I$1,t),releasePtr(g$1),releasePtr(o$2),releasePtr(I$1),tickLoop(this.client)},1e3*t/2);this.keepAliveTimers.set(g,o$1)}}RemoveAutoKeepaliveRPC(A,e){let t=A+` `+e;if(this.keepAliveTimers.has(t)){let A$1=this.keepAliveTimers.get(t);clearInterval(A$1)}}GetAutoKeepaliveRPC(){return Array.from(this.keepAliveTimers.keys())}}function checkIfContainsStart(A){for(let e=0;e<A.length;e++)if(A[e]===`*`)return!0;return!1}function promisify(A){return typeof A==`function`?function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise((t,g)=>{A(Object.assign(Object.assign(Object.assign({},e),{success:t,fail:g})))})}:A}function isDict(A){return!(typeof A!=`object`||!A||A instanceof Array||A instanceof Date)}function toRegex(A){let e=``;for(let t=0;t<A.length;t++){let g=A.charAt(t);g===`*`&&(e+=`.`),e+=g}return new RegExp(e)}function checkRegex(A,e){for(let t=0;t<e.length;t++){let g=e[t];if(g.includes(`*`)&&toRegex(g).test(A))return!0}return!1}function isInteger(A){return Math.round(A)===A}function checkAll(A,e){return!(!checkIfContainsStart(e)&&e.length>0&&!e.includes(A)&&!checkRegex(A,e))}function logger(A,e,t){if(e!==null)switch(t){case`info`:e().handleInfoLog(A);break;case`warn`:e().handleWarnLog(A);break;case`error`:e().handleErrorLog(A)}else{let e$1=new Date;console.log(e$1+e$1.getMilliseconds().toString()+` : `+A)}}function releasePtrs(A){for(let e=0;e<A.length;e++){let t=A[e];t!==0&&releasePtr(t)}}function getMallocLenWithStr(A){return new Blob([A]).size+1}function getPtrWithStr(A){let e=Module._malloc(getMallocLenWithStr(A));return Module.stringToUTF8(A,e,getMallocLenWithStr(A)),e}function releasePtr(A){A!=null&&(Module._free(A),A=null)}function getRealLenWithStrBI(A){let e=new Blob([A]).size;return BigInt(e)}function setValue(A,e,t,g){let o=arguments.length>4&&arguments[4]!==void 0&&arguments[4],I=Module._rte_crdt_value_create(),i$1=Module._rte_crdt_path_clone(g);if(typeof t==`object`&&t&&t!=null)if(Array.isArray(t)){Module._rte_crdt_value_set_list(I),constructPathAndPut(e,A,i$1,I);let g$1=0;for(let e$1=0;e$1<t.length;e$1++)setValue(A,g$1,t[e$1],i$1),g$1+=1}else{Module._rte_crdt_value_set_map(I),constructPathAndPut(e,A,i$1,I);for(let e$1=0,g$1=Object.entries(t);e$1<g$1.length;e$1++){let[t$1,o$1]=g$1[e$1];setValue(A,t$1,o$1,i$1)}}else{let g$1=Module._rte_crdt_value_set_scalar(I);switch(typeof t){case`number`:o?Module._rte_crdt_scalar_value_set_counter(g$1,BigInt(t)):isInteger(t)?Module._rte_crdt_scalar_value_set_i64(g$1,BigInt(t)):Module._rte_crdt_scalar_value_set_double(g$1,t);break;case`boolean`:Module._rte_crdt_scalar_value_set_bool(g$1,t);break;case`string`:let A$1=getPtrWithStr(t);Module._rte_crdt_scalar_value_set_bytes(g$1,A$1,getRealLenWithStrBI(t)),releasePtr(A$1);break;default:Module._rte_crdt_scalar_value_set_null(g$1)}constructPathAndPut(e,A,i$1,I)}Module._rte_crdt_path_destroy(i$1),Module._rte_crdt_value_destroy(I)}function constructPathAndPut(A,e,t,g){if(typeof A==`string`){let e$1=getPtrWithStr(A);Module._rte_crdt_path_add_property(t,e$1,getRealLenWithStrBI(A)),releasePtr(e$1)}else A!=null&&(Module._rte_crdt_path_add_index(t,BigInt(A)),Module._rte_crdt_document_insert(e,null,t,g));if(Module._rte_crdt_document_put(e,null,t,g)!=0)throw Error(`The path is invalid!`)}function getScalarValue(A){var e;let t;if(t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1]?Module._rte_crdt_nested_value_get_scalar(A):Module._rte_crdt_value_get_scalar(A),Module._rte_crdt_scalar_value_is_i64(t)){let A$1=Module._malloc(4);Module._rte_crdt_scalar_value_get_i64(t,A$1),e=Module.getValue(A$1,`i64`),e=Number(e),releasePtr(A$1)}else if(Module._rte_crdt_scalar_value_is_double(t)){let A$1=Module._malloc(8);Module._rte_crdt_scalar_value_get_double(t,A$1),e=Module.getValue(A$1,`double`),e=Number(e),releasePtr(A$1)}else if(Module._rte_crdt_scalar_value_is_bytes(t)){let A$1=Module._malloc(4),g=Module._malloc(4);Module._rte_crdt_scalar_value_get_bytes(t,g,A$1);let o=Module.getValue(g,`i32`);e=Module.UTF8ToString(o).valueOf(),releasePtr(A$1),releasePtr(g)}else if(Module._rte_crdt_scalar_value_is_bool(t)){let A$1=Module._malloc(1);Module._rte_crdt_scalar_value_get_bool(t,A$1),e=Module.getValue(A$1)==1,releasePtr(A$1)}else if(Module._rte_crdt_scalar_value_is_counter(t)){let A$1=Module._malloc(4);Module._rte_crdt_scalar_value_get_counter(t,A$1),e=Module.getValue(A$1,`i64`),e=Number(e),releasePtr(A$1)}else e=null;return e}function parsePath(A,e){if(arguments.length>2&&arguments[2]!==void 0&&arguments[2]){let t$1=getPtrWithStr(A);Module._rte_crdt_path_add_property(e,t$1,getRealLenWithStrBI(A)),releasePtr(t$1);return}let t=``,g=!1;for(let o=0;o<A.length;o++){let I=A[o];I===`[`?(t.length>0&&(addPropertyOrIndex(t,e,g),t=``),g=!0):I===`]`?(addPropertyOrIndex(t,e,g),g=!1,t=``):I===`.`?(t.length>0&&(addPropertyOrIndex(t,e,g),t=``),g=!1):t+=I}t.length>0&&addPropertyOrIndex(t,e,g)}function addPropertyOrIndex(A,e,t){if(!isNaN(A)&&t){let t$1=Number(A);Module._rte_crdt_path_add_index(e,BigInt(t$1))}else{let t$1=getPtrWithStr(A);Module._rte_crdt_path_add_property(e,t$1,getRealLenWithStrBI(A)),releasePtr(t$1)}}function getAll(A,e,t,g){let o=Module._rte_crdt_nested_value_iterator_create(e),I=Module._malloc(4),i$1=Module._malloc(4),r=Module._malloc(4),n=0;for(;;)if(g){if(n=Module._rte_crdt_nested_value_iterator_next_value(o,r),n===305)break;let e$1=Module.getValue(r,`i32`);if(Module._rte_crdt_nested_value_is_scalar(e$1))t.push(getScalarValue(e$1));else if(Module._rte_crdt_nested_value_is_map(e$1)){let g$1={};t.push(g$1),getAll(A,e$1,g$1,!1)}else if(Module._rte_crdt_nested_value_is_list(e$1)){let g$1=[];t.push(g$1),getAll(A,e$1,g$1,!0)}}else{if(n=Module._rte_crdt_nested_value_iterator_next_key_value(o,I,i$1,r),n===305)break;let e$1=Module.UTF8ToString(Module.getValue(I,`i32`)).valueOf(),g$1=Module.getValue(r,`i32`);if(Module._rte_crdt_nested_value_is_scalar(g$1))t[e$1]=getScalarValue(g$1);else if(Module._rte_crdt_nested_value_is_map(g$1)){let o$1={};t[e$1]=o$1,getAll(A,g$1,o$1,!1)}else if(Module._rte_crdt_nested_value_is_list(g$1)){let o$1=[];t[e$1]=o$1,getAll(A,g$1,o$1,!0)}}releasePtr(I),releasePtr(i$1),releasePtr(r),Module._rte_crdt_nested_value_iterator_destroy(o)}function getPtrStringList(A){let e=A.length,t=e===0?0:Module._malloc(4*e),g=t,o=[];for(let e$1=0;e$1<A.length;e$1++){let t$1=getPtrWithStr(A[e$1]);o.push(t$1),Module.setValue(g,t$1,`i32`),g+=4}return[t,o]}function counterCheckAndReplace(A,e,t){if(!Module._rte_crdt_nested_value_is_scalar(A))throw Module._rte_crdt_nested_value_destroy(A),Module._rte_crdt_path_destroy(e),TypeError(`The counter no longer exists.`);let g=Module._rte_crdt_nested_value_get_scalar(A);if(!Module._rte_crdt_scalar_value_is_counter(g)){if(!Module._rte_crdt_scalar_value_is_i64(g))throw Module._rte_crdt_nested_value_destroy(A),Module._rte_crdt_path_destroy(e),Error(`The counter no longer exists.`);{let g$1=getScalarValue(A);Module._rte_crdt_document_batch_write_begin(t),setValue(t,null,g$1,e,!0),Module._rte_crdt_document_batch_write_end(t)}}}function getRangeEndStringPtr(A){let e=Module.lengthBytesUTF8(A)+2,t=Module._malloc(e);return Module.stringToUTF8(A,t,e),Module.HEAPU8[t+e-2]=1,Module.HEAPU8[t+e-1]=0,t}function getTick(A,e){let t=Module._sync_client_tick(e,A),g=Module._sync_buffer_data(A),o=Number(Module._sync_buffer_length(A));return{resDeepCopy:new Uint8Array(Module.HEAPU8.buffer,g,o).slice(),tikGetRes:t}}function tickLoop(A){let e=0;for(;e!=305;){let{resDeepCopy:t,tikGetRes:g}=getTick(A.tickBufferPtr,A.clientPtr);if(e=g,e===101)Module._sync_client_reset_connection(A.clientPtr);else{if(t.length==0)continue;A.reuseConn===null?A.ws.send(t):A.reuseConn().sendPacket(t),logger(`send tick`,A.getLogger,`info`)}}}function getShakehand(A,e){let t=Module._sync_client_shakehand(e,A),g=Module._sync_buffer_data(A),o=Number(Module._sync_buffer_length(A));return{resDeepCopy:new Uint8Array(Module.HEAPU8.buffer,g,o).slice(),shakehandRes:t}}function shakehandOnce(A){let{resDeepCopy:e}=getShakehand(A.shakehandBufferPtr,A.clientPtr);A.reuseConn===null?A.ws.send(e):A.reuseConn().sendPacket(e)}async function recvMsg(A,e){e?A.ws.addEventListener(`message`,async function(e$1){try{let t=await e$1.data.arrayBuffer(),g=new Uint8Array(t),o=g.length*g.BYTES_PER_ELEMENT,I=Module._malloc(o);Module.HEAPU8.set(g,I);let i$1=Module._sync_client_on_recv(A.clientPtr,I,BigInt(o),A.tickBufferPtr);if(Module._free(I),i$1===101)Module._sync_client_reset_connection(A.clientPtr);else{let e$2=new Uint8Array(Module.HEAPU8.buffer,Module._sync_buffer_data(A.tickBufferPtr),Number(Module._sync_buffer_length(A.tickBufferPtr))).slice();e$2.length!=0&&A.ws.send(e$2)}}catch(e$2){logger(`recvError : ${e$2}`,A.getLogger,`error`)}}):A.ws.on(`message`,e$1=>{try{let t=new Uint8Array(e$1),g=t.length*t.BYTES_PER_ELEMENT,o=Module._malloc(g);Module.HEAPU8.set(t,o);let I=Module._sync_client_on_recv(A.clientPtr,o,BigInt(g),A.tickBufferPtr);if(Module._free(o),I===101)Module._sync_client_reset_connection(A.clientPtr);else{let e$2=new Uint8Array(Module.HEAPU8.buffer,Module._sync_buffer_data(A.tickBufferPtr),Number(Module._sync_buffer_length(A.tickBufferPtr))).slice();e$2.length!=0&&A.ws.send(e$2)}}catch(e$2){logger(`recvError : ${e$2}`,A.getLogger,`error`)}})}async function fetchHelper(A,e){A.tickBufferPtr=Module._sync_buffer_create();try{e&&(A.ws=new WebSocket(`ws://60.191.137.101:6390/ws`)),A.ws.onopen=()=>{A.manualTick||(tickLoop(A),A.connected=!0,A.timer=setInterval(()=>{A.ws.readyState==3?(A.connected=!1,logger(`The connection is time out...`,A.getLogger,`info`)):(A.connected=!0,tickLoop(A))},2e3))},recvMsg(A,e)}catch(e$1){logger(`fetchError : ${e$1}`,A.getLogger,`error`)}}const createCollCallBackMap=new Map,dbConnectCallBackMap=new Map,dbDisConnectCallBackMap=new Map;function initFunc(A){A!==null&&(Module.rtejsLog=(e,t)=>{switch(e){case 0:A().handleDebugLog(t,` ----------rtejslog`);break;case 1:A().handleInfoLog(t,` ----------rtejslog`);break;case 2:A().handleWarnLog(t,` ----------rtejslog`);break;case 3:A().handleErrorLog(t,` ----------rtejslog`)}})}async function createCollection(A){let{client:e,db:t,coll:g,readable:o,success:I,fail:i$1}=A,r=Module.addFunction((A$1,t$1,g$1,o$1)=>{let{resolvePromise:I$1,rejectPromise:i$2}=createCollCallBackMap.get(o$1);releasePtr(o$1),A$1===0?(logger(`init success`,e.getLogger,`info`),I$1(A$1)):i$2(A$1),Module.removeFunction(r)},`viiii`),n=getPtrWithStr(g),C=getPtrWithStr(t),E=getPtrWithStr(g),[s,B]=getPtrStringList(o),a=uuid_1.v4(),Q=getPtrWithStr(a);createCollCallBackMap.set(n,{resolvePromise:I,rejectPromise:i$1}),Module._sync_client_create_coll(e.clientPtr,C,E,s,o.length,Q,getRealLenWithStrBI(a),r,n),releasePtr(C),releasePtr(E),releasePtr(Q);for(let A$1=0;A$1<B.length;A$1++)releasePtr(B[A$1]);e.connected&&tickLoop(e)}async function connectDatabase(A){let{client:e,databaseName:t,success:g,fail:o}=A,I=Module.addFunction((A$1,t$1,g$1,o$1,i$2)=>{let{resolvePromise:r$1,rejectPromise:n$1}=dbConnectCallBackMap.get(i$2);releasePtr(i$2),A$1===0?(logger(`db connect success`,e.getLogger,`info`),r$1(A$1)):n$1(A$1),Module.removeFunction(I)},`viiiji`),i$1=getPtrWithStr(t),r=i$1;dbConnectCallBackMap.set(r,{resolvePromise:g,rejectPromise:o});let n=getPtrWithStr(``);Module._sync_client_connect_database(e.clientPtr,i$1,n,getRealLenWithStrBI(``),I,r),releasePtr(n),e.connected&&tickLoop(e)}async function disconnectDatabase(A){let{client:e,databaseName:t,success:g,fail:o}=A,I=Module.addFunction((A$1,t$1,g$1)=>{let{resolvePromise:o$1,rejectPromise:i$2}=dbDisConnectCallBackMap.get(g$1);releasePtr(g$1),A$1===0?(logger(`db disconnect success`,e.getLogger,`info`),o$1(A$1)):i$2(A$1),Module.removeFunction(I)},`viii`),i$1=getPtrWithStr(t),r=i$1;dbDisConnectCallBackMap.set(r,{resolvePromise:g,rejectPromise:o}),Module._sync_client_disconnect_database(e.clientPtr,i$1,I,r),e.connected&&tickLoop(e)}async function queryDoc(A){let{client:e,database:t,coll:g,option:o,buffer:I,success:i$1,fail:r}=A,n=Module.addFunction((A$1,e$1,t$1,g$1,o$1,C$1)=>{if(A$1===0){I.SetCount(Number(g$1)),o$1===1&&I.SetMore(!0);for(let A$2=0;A$2<Number(g$1);A$2++){let A$3=Module.getValue(e$1,`i32`),g$2=Module.getValue(t$1,`i32`),o$2=Module.UTF8ToString(A$3).valueOf(),i$2=Module.UTF8ToString(g$2).valueOf();I.SetDocs(o$2,i$2),e$1+=4,t$1+=4}i$1(A$1)}else r(A$1);Module.removeFunction(n)},`viiijii`),C=getPtrWithStr(t),E=getPtrWithStr(g),s=0,B=0;s=o.startIncluded||o.start.length==0?getPtrWithStr(o.start):getRangeEndStringPtr(o.start),B=o.endIncluded&&o.end.length!=0?getRangeEndStringPtr(o.end):getPtrWithStr(o.end),Module._sync_client_query_doc(e.clientPtr,C,E,s,B,BigInt(o.limit),o.keysOnly,o.countOnly,o.ignoreExpired,n,0),e.connected&&tickLoop(e)}function subscribe(A,e){let t=Module.addFunction((t$1,I$1,i$2,r$1,n,C,E)=>{let s=Module.UTF8ToString(i$2),B=Module._rte_crdt_path_iterator_create(r$1),a,Q=0,c=``;for(;;){let A$1=Module._malloc(4),e$1=Module._malloc(4);Module.setValue(e$1,0,`i64`);let t$2=Module._malloc(4),g$1=Module._malloc(4);if(Q=Module._rte_crdt_path_iterator_next(B,A$1,e$1,t$2),Q===305){releasePtr(A$1),releasePtr(e$1),releasePtr(t$2),releasePtr(g$1);break}if(c.length===0){if(A$1!=0){let e$2=Module.getValue(A$1,`i32`);c+=Module.UTF8ToString(e$2).valueOf()}}else{let g$2=Module.getValue(e$1,`i64`);if(Number(g$2)>0){let e$2=Module.getValue(A$1,`i32`);c+=`.`+Module.UTF8ToString(e$2).valueOf()}else{let A$2=Module.getValue(t$2,`i64`);c+=`[`+Number(A$2).toString()+`]`}}releasePtr(A$1),releasePtr(e$1),releasePtr(t$2),releasePtr(g$1)}switch(a=Module._rte_crdt_value_is_list(C)?[]:Module._rte_crdt_value_is_map(C)?{}:getScalarValue(C,!1),n){case 0:g.push(new CollectionEvent(s,c,CollectionEventType$1.Insert,a));break;case 1:o?g.push(new CollectionEvent(s,c,CollectionEventType$1.Put,a)):e.listenerCount(`document-events`)!=0&&(g=[new CollectionEvent(s,``,CollectionEventType$1.Put,null)],e.emit(`document-events`,g));break;case 2:o?g.push(new CollectionEvent(s,c,CollectionEventType$1.Delete,a)):e.listenerCount(`document-events`)!=0&&checkAll(s,A.readable)&&(g=[new CollectionEvent(s,``,CollectionEventType$1.Delete,null)],e.emit(`document-events`,g));break;case 6:g=[],o=!0;break;case 7:e.listenerCount(`document-events`)!=0&&e.emit(`document-events`,g),o=!1;break;case 8:e.listenerCount(`document-events`)!=0&&e.emit(`document-events`,[new CollectionEvent(s,``,CollectionEventType$1.DocSyncEnd,null)])}},`viiiiiii`),g=[],o=!1,I=getPtrWithStr(A.dbIn),i$1=getPtrWithStr(A.name),r=Module._sync_client_subscribe(A.client.clientPtr,I,i$1,t,0);if(releasePtr(I),releasePtr(i$1),r===0)return logger(`The Collection : ${A.name} has been subscribed successfully!`,A.getLogger,`info`),t;logger(`The Collection : ${A.name} has not been subscribed successfully!`,A.getLogger,`info`)}function exceptionCallback(A){A.exceptionCb=Module.addFunction((e,t,g)=>{let o=Module.UTF8ToString(e).valueOf(),I=Module.UTF8ToString(t).valueOf();A.exceptionChan.listenerCount(`exception`)!=0&&A.exceptionChan.emit(`exception`,[o,I])},`viii`),Module._sync_client_set_exception_callback(A.clientPtr,A.exceptionCb,0)}var createModule=function(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var e,t,g=A;g.ready=new Promise((A$1,g$1)=>{e=A$1,t=g$1});var o=Object.assign({},g),I=`./this.program`,i$1=typeof window==`object`,r=typeof importScripts==`function`;typeof process==`object`&&typeof process.versions==`object`&&process.versions.node;var n,C=``;(i$1||r)&&(r?C=self.location.href:typeof document<`u`&&document.currentScript&&(C=document.currentScript.src),C=C.indexOf(`blob:`)===0?``:C.substr(0,C.replace(/[?#].*/,``).lastIndexOf(`/`)+1),r&&(n=A$1=>{var e$1=new XMLHttpRequest;return e$1.open(`GET`,A$1,!1),e$1.responseType=`arraybuffer`,e$1.send(null),new Uint8Array(e$1.response)})),g.print||console.log.bind(console);var E,s,B=g.printErr||console.error.bind(console);Object.assign(g,o),o=null,g.arguments&&g.arguments,g.thisProgram&&(I=g.thisProgram),g.quit&&g.quit,g.wasmBinary&&(E=g.wasmBinary),g.noExitRuntime,typeof WebAssembly!=`object`&&L(`no native wasm support detected`);var a,Q,c,l,h,u,d,D,y,p$1=!1;function R$1(){var A$1=s.buffer;g.HEAP8=a=new Int8Array(A$1),g.HEAP16=c=new Int16Array(A$1),g.HEAPU8=Q=new Uint8Array(A$1),g.HEAPU16=new Uint16Array(A$1),g.HEAP32=l=new Int32Array(A$1),g.HEAPU32=h=new Uint32Array(A$1),g.HEAPF32=u=new Float32Array(A$1),g.HEAPF64=D=new Float64Array(A$1),g.HEAP64=d=new BigInt64Array(A$1),g.HEAPU64=new BigUint64Array(A$1)}var w=[],_=[],S=[];function f(A$1){w.unshift(A$1)}function N(A$1){S.unshift(A$1)}var M=0,k=null;function L(A$1){g.onAbort&&g.onAbort(A$1),B(A$1=`Aborted(`+A$1+`)`),p$1=!0,A$1+=`. Build with -sASSERTIONS for more info.`;var e$1=new WebAssembly.RuntimeError(A$1);throw t(e$1),e$1}var G,b,U=`data:application/octet-stream;base64,`;function m(A$1){return A$1.startsWith(U)}function T(A$1){if(A$1==G&&E)return new Uint8Array(E);var e$1=function(A$2){if(m(A$2))return function(A$3){try{for(var e$2=atob(A$3),t$1=new Uint8Array(e$2.length),g$1=0;g$1<e$2.length;++g$1)t$1[g$1]=e$2.charCodeAt(g$1);return t$1}catch{throw Error(`Converting base64 string to bytes failed.`)}}(A$2.slice(37))}(A$1);if(e$1)return e$1;if(n)return n(A$1);throw`both async and sync fetching of the wasm failed`}function O(A$1,e$1,t$1){return function(A$2){return Promise.resolve().then(()=>T(A$2))}(A$1).then(A$2=>WebAssembly.instantiate(A$2,e$1)).then(A$2=>A$2).then(t$1,A$2=>{B(`failed to asynchronously prepare wasm: ${A$2}`),L(A$2)})}m(G=`data:application/octet-stream;base64,AGFzbQEAAAAB6wVUYAJ/fwBgAX8AYAF/AX9gAn9/AX9gA39/fwBgA39/fwF/YAR/f39/AGAEf39/fwF/YAZ/f39/f38Bf2AFf39/f38Bf2AFf39/f38AYAZ/f39/f38AYAJ/fgBgCH9/f39/f39/AX9gA39/fgBgB39/f39/f38Bf2AAAGAFf35+fn4AYAF/AX5gAAF/YAV/f39/fgF/YAV/f35/fwBgAn9/AX5gB39/f39/f38AYAR/f35/AGAEf39/fwF+YAR/fn5/AGAEf35+fwF/YAJ+fwF/YAJ/fgF+YAh/f39/f39/fwBgBX9/f398AX9gC39/f39/f39/f39/AX9gBn9/f35/fwBgAAF8YAJ+fwBgAn9+AX9gAn98AGAAAX5gCn9/f39/f39/f38Bf2AHf39+fn9/fwF/YAF+AX9gAX4BfmAMf39/f39/f39/f39/AX9gA39+fwBgBn9/f39+fwF/YA9/f39/f39/f39/f39/f38AYAp/f39/f39/f39/AGAFf39/fn8AYAd/f39/f35+AX9gBn9/f39+fgF/YAN/f34Bf2ALf39/f39/f39/f38AYAR+fn5+AX9gB39/f39+f38AYAd/f39+f39/AX5gDn9/f39/f39+f39/f39/AGACfn4BfGABfwF8YAV/f39/fgBgBn9/fn5/fwF/YAV/f35+fwF/YAJ8fwBgA39/fwF8YAN/f38BfWACfn4BfWADfn5+AX9gBn98f39/fwF/YAJ8fwF8YAR/f39+AX5gBn9/f39+fwBgCH9/f39/fn9/AX9gCX9/f39+fn9/fwF/YBF/f39/f39/f35+f39/f39/fwF/YBB/f39/f39/f35+f39/f39/AX9gCn9/f39/fn9/f38Bf2AJf39/f39+f39/AX9gC39/f39/fn9/f39/AX9gBn9/f35/fwF/YAl/f39/f39+f38AYAR/f35/AX9gCn9/f39/fn5/f38AYAZ/fn9/f38AYAR/f39+AX8CPQoBYQFhAAYBYQFiABABYQFjAAkBYQFkAAMBYQFlAAMBYQFmABMBYQFnACIBYQFoAAIBYQFpACIBYQFqAAAD3A/aDwIBAwMCAgMDAgIBAgECIwAQAwAFBQACAwMBAAEDAgIRAgAAAwMCBAEDAAMTAwEDAhEBAgISBAIEAQEBAQUCAAICAgEBAgIDAAAC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IAIsAA9BAEgbIQVBwMICKAIABEBByMICKAIAIQYjAEEQayIBJAAgASAFNgIIIAEgAzYCDCABIAY2AgRBwMICKAIAIgNFBEAQGgALIAMgAUEMaiABQQhqIAFBBGogAygCACgCGBEGACABQRBqJAALIAQQChogAEEEahDmARogAkEQaiQACwwAQbDBAigCACAATAsGACAAEAsLNgEBf0EBIAAgAEEBTRshAAJAA0AgABBHIgENAUHo2AIoAgAiAQRAIAEREAAMAQsLEAEACyABCysBAX8DQCABIACnQf8AcSAAQv8AViICQQd0csAQnQEgAEIHiCEAIAINAAsLhQECBH4DfyABKAIEIQYgAAJ/AkADQCAGRSACQj9Wcg0BIAEoAgAiBywAACIIrUL/AIMiBCAChiIFIAKIIARSDQEgASAGQQFrIgY2AgQgASAHQQFqNgIAIAJCB3whAiADIAV8IQMgCEEASA0ACyAAIAM3AwBBAQwBCyAAQQA6AABBAAs6AAgLBQAQAQALjwEBBH8jAEEQayIDJAAgASgCACEEIAMgASgCBCABLQALIgIgAsBBAEgiAhs2AgwgAyAEIAEgAhs2AgggACgCACAAIAAtAAsiBMBBAEgiAhsgAygCCCADKAIMIgEgACgCBCAEIAIbIgAgACABSyIEGxDpBSICQX8gBCAAIAFJGyACGyEFIANBEGokACAFQR92CzYAIAAsAAtBAEgEQCAAKAIAEAsLIAAgASkCADcCACAAIAEoAgg2AgggAUEAOgALIAFBADoAAAszAQF/IAIEQCAAIQMDQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQQFrIgINAAsLIAALKQEBfyACBEAgACEDA0AgAyABOgAAIANBAWohAyACQQFrIgINAAsLIAALKgEBfwJAIAAQDiICIAFJBEAgACABIAJrEOUJDAELIAAgABAgIAEQ9wkLCxIAIAAQlgEEQCAAKAIADwsgAAsJACAAECAgAWoLkAEBBX8CQCAAKAIEIgUgAC0ACyICIALAIgZBAEgbIAEoAgQgAS0ACyIEIATAIgRBAEgbRw0AIAEoAgAgASAEQQBIGyEBIAZBAE4EQANAIAJFIQMgAkUNAiAALQAAIAEtAABHDQIgAUEBaiEBIABBAWohACACQQFrIQIMAAsACyAAKAIAIAEgBRDpBUUh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Qf//AWtBgYB+Sw0BCyABUCACQv///////////wCDIgtCgICAgICAwP//AFQgC0KAgICAgIDA//8AURtFBEAgAkKAgICAgIAghCEKDAILIANQIARC////////////AIMiAkKAgICAgIDA//8AVCACQoCAgICAgMD//wBRG0UEQCAEQoCAgICAgCCEIQogAyEBDAILIAEgC0KAgICAgIDA//8AhYRQBEAgAiADhFAEQEKAgICAgIDg//8AIQpCACEBDAMLIApCgICAgICAwP//AIQhCkIAIQEMAgsgAyACQoCAgICAgMD//wCFhFAEQCABIAuEIRlCACEBIBlQBEBCgICAgICA4P//ACEKDAMLIApCgICAgICAwP//AIQhCgwCCyABIAuEUARAQgAhAQwCCyACIAOEUARAQgAhAQwCCyALQv///////z9YBEAgBUHQAGogASANIAEgDSANUCIGG3kgBkEGdK18pyIGQQ9rEGNBECAGayEGIAUpA1giDUIgiCEOIAUpA1AhAQsgAkL///////8/Vg0AIAVBQGsgAyAMIAMgDCAMUCIIG3kgCEEGdK18pyIIQQ9rEGMgBiAIa0EQaiEGIAUpA0ghDCAFKQNAIQMLIANCD4YiC0KAgP7/D4MiAiABQiCIIgR+IhAgC0IgiCITIAFC/////w+DIgF+fCIPQiCGIhEgASACfnwiCyARVK0gAiANQv////8PgyINfiIVIAQgE358IhEgDEIPhiISIANCMYiEQv////8PgyIDIAF+fCIUIA8gEFStQiCGIA9CIIiEfCIPIAIgDkKAgASEIgx+IhYgDSATfnwiDiASQiCIQoCAgIAIhCICIAF+fCIQIAMgBH58IhJCIIZ8Ihd8IQEgByAJaiAGakH//wBrIQYCQCACIAR+IhggDCATfnwiBCAYVK0gBCAEIAMgDX58IgRWrXwgAiAMfnwgBCAEIBEgFVStIBEgFFatfHwiBFatfCADIAx+IgMgAiANfnwiAiADVK1CIIYgAkIgiIR8IAQgAkIghnwiAiAEVK18IAIgAiAQIBJWrSAOIBZUrSAOIBBWrXx8QiCGIBJCIIiEfCICVq18IAIgAiAPIBRUrSAPIBdWrXx8IgJWrXwiBEKAgICAgIDAAINQRQRAIAZBAWohBgwBCyALQj+IIRogBEIBhiACQj+IhCEEIAJCAYYg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QbjEAiADNgIACyACQQhqIQALIApBEGokACAACyQBAX8gACgCBCAALQALIgIgAsBBAEgbrSABEBggASAAEKICGgsKACAAKAIAEN4KCwsAIAAoAgAQ5ArACwQAIAALIAEBfyAAKAIMIgEEQCABEAsgAEEANgIMCyAAQgA3AhALFwEBfyAAKAIMIgEEQCABEAsLIAAQDxoLWgECfyMAQRBrIgEkACAAQgA3AgAgAEE+OgAeIABBzZmz+gM2AhggAEIANwIQIABCADcCCCAAEDEgACgCDCICBEAgAkEAIAAoAhBBA3QQHhoLIAFBEGokACAACwQAQQALEQAgACABEBAiAEEBOgAQIAALJAEBfyAAKAIAIQIgACABNgIAIAIEQCACIAAQiwMoAgARAQALC7ABAgJ/AX4jAEEgayICJAAgAkEQaiABEBkCQCACLQAYRQRAIABBADoADCAAQQA6AAAMAQsgAikDECIEIAEoAgQiA61WBEAgAEEAOgAMIABBADoAAAwBCyABIAMgBKciA2s2AgQgASABKAIAIgEgA2o2AgAgAiABIAMQQSAAIAIoAgg2AgggACACKQMANwIAIAJBADYCCCACQgA3AwAgAEEBOgAMIAIQChoLIAJBIGokAAsNACAAKAIAEN0KGiAACw0AIAAoAgAQ4woaIAALSgEBfyAAIAFJBEAgACABIAIQHQ8LIAIEQCAAIAJqIQMgASACaiEBA0AgA0EBayIDIAFBAWsiAS0AADoAACACQQFrIgINAAsLIAALYgEDfyMAQRBrIgIkACAAQSBqIQMDQCAAIANHBEAgAC0AACEEIAAgAS0AADoAACABIAQ6AAAgAUEBaiEBIABBAWohAAwBCwsgAiABNgIMIAIgAzYCCCACKAIMGiACQRBqJAALMAEBfyAAKAIEIgIgACgCCEkEQCACIAEpAwA3AwAgACACQQhqNgIEDwsgACABEJsGCyYBAX4gACgCACIAKQMAIQIgACABKAIAIgApAwA3AwAgACACNwMAC58JAQ1/IAAoAgAiASgCAEH53avFAkYEQANAAkACQAJAIAEoAhggCE0EQCAAKAIEIQNBACEBA0AgASADRg0CIAAoAgggAUEEdGoiAigCABC+BiAHaiACKAIIaiEHIAFBAWohAQwACwALIAAgASgCHCAIQTBsaiIEKAIQaiEDIAAgBCgCFGohAgJAAkACQCAEKAIIIgEOBAEAAgACCyAELQAgQQRxBEBBACEBIAQoAgQgAygCAEcNBQJAIAQoAgxBDmsOAwACAAILIAIoAgAiA0UNBSADIAQoAhxHDQEMBQsCQAJAIAFBAWsOAwADAQMLAkACQCAEKAIMQQ5rDgMAAQABC0EAIQEgAigCACIDRQ0GIAMgBCgCHEcNAgwGCyADKAIADQEMBAtBACEBIAQgAhCWCw0ECwJ/IAQoAgQQvgYhAwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgBCgCDA4RAA0EAwIFAQQDBQcIBgAJCgsMCyACKAIAELsGIANqDA0LIAIoAgAQqAEgA2oMDAsgAikDABC6BiADagwLCyACKQMAENkEIANqDAoLIANBBGoMCQsgA0EIcgwICyADQQFqDAcLIANBBGoMBgsgA0EIcgwFCyACKAIAIgEEfyABENYBBUEACyIBEKgBIAEgA2pqDAQLIAIoAgAiASADaiABEKgBagwDCyACKAIAIgEEfyABEFkFQQALIgEQqAEgASADamoMAgtB988AQfvHAEHNA0GmMhAAAAsgAigCABC9BiADagshAQwDCyADKAIAIgNFDQEgAigCACEFIAQoAgQQvgYhDUEBIAMgBCgCIEEBcSIJGyEMQQAhAUEAIQICQAJAAkACQAJAAkACQAJAAkACQAJAAkAgBCgCDA4RAQAFBAMGAgUEBgUGBwEICQoLCwNAIAEgA0cEQCAFIAFBAnRqKAIAEL0GIAJqIQIgAUEBaiEBDAELCyACIQEMCgsDQCACIANGDQogBSACQQJ0aigCABC7BiABaiEBIAJBAWohAgwACwALA0AgASADRwRAIAUgAUECdGooAgAQqAEgAmohAiABQQFqIQEMAQsLIAIhAQwICwNAIAEgA0cEQCAFIAFBA3RqKQMAELoGIAJqIQIgAUEBaiEBDAELCyACIQEMBwsDQCACIANGDQcgBSACQQN0aikDABDZBCABaiEBIAJBAWohAgwACwALIANBAnQhAQwFCyADQQN0IQEMBAsgAyEBDAMLA0AgASADRwRAIAIgBSABQQJ0aigCABDWASIGaiAGEKgBaiECIAFBAWohAQwBCwsgAiEBDAILA0AgASADRwRAIAIgBSABQQN0aigCACIGaiAGEKgBaiECIAFBAWohAQwBCwsgAiEBDAELA0AgASADRwRAIAIgBSABQQJ0aigCABBZIgZqIAYQqAFqIQIgAUEBaiEBDAELCyAEKAIgQQFxIQkgAiEBCyANIAxsIQIgCQR/IAEQqAEgAmoFIAILIAFqIQEMAgsgBw8LQQAhAQsgCEEBaiEIIAEgB2ohByAAKAIAIQEMAAsAC0HtzQBB+8cAQcsFQYMyEAAACzMAIAAQ3AMgACABKAIANgIAIAAgASgCBDYCBCAAIAEoAgg2AgggAUEANgIIIAFCADcCAAt2AQJ/IABBGGoQTSMAQRBrIgEkACABIABBDGo2AgwgASgCDCICKAIABEAgAhDSBiABKAIMKAIAEAsLIAFBEGokACMAQRBrIgEkACABIAA2AgwgASgCDCICKAIABEAgAhCBDCABKAIMKAIAEAsLIAFBEGokACAACzcBAX8jAEEQayIBJAAgASAANgIMIAEoAgwiACgCAARAIAAQ6AggASgCDCgCABALCyABQRBqJAALuAIBCH8jAEEQayIDJAAgAyABNgIMIAFB7////wdNBEACQCAAECggAU8NACADIAAQDjYCCCADQQxqIANBCGoQtgIoAgAQtQIiASAAEChGDQAjAEEQayICJAAgABAoIQUgABAOIQYCQAJ/IAEQ1AMiCQRAQQEhBCABQQFqIQcgACEBIAAoAgAMAQsgAUEBaiEEAn8gASAFSwRAIAJBCGogACAEEIoCIAIoAgghASACKAIMDAELIAJBCGogACAEEIoCIAIoAggiAUUNAiACKAIMCyEHIAAQlgEhBCAAECALIQggASAIIAAQDkEBahCXASAEBEAgACAIIAVBAWoQywQLAkAgCUUEQCAAIAcQlAEgACAGEHAgACABEJUBDAELIAAgBhB7CwsgAkEQaiQACyADQRBqJAAPCxBoAAsRACAAIAEgACgCACgCHBEDAAu/AQEDfyAALQAAQSBxRQRAAkAgASEDAkAgAiAAIgEoAhAiAAR/IAAFIAEQhgsNASABKAIQCyABKAIUIgVrSwRAIAEgAyACIAEoAiQRBQAaDAILAkAgASgCUEEASA0AIAIhAANAIAAiBEUNASADIARBAWsiAGotAABBCkcNAAsgASADIAQgASgCJBEFACAESQ0BIAMgBGohAyACIARrIQIgASgCFCEFCyAFIAMgAhAdGiABIAEoAhQgAmo2AhQLCwsLpAMCB38DfiMAQRBrIgUkAAJAIAEoAgQiAyABKAIISQRAIAMgAikDADcDACADIAIpAwg3AwggASADQRBqIgI2AgQMAQsgASACEJsFIAEoAgQhAgsgAkEQayIDELwBIgqnQf8BcUGAAnIhAiADKQMIIQsgAykDACEMIAogATEAHoinIQMgASgCECEHIAEoAgAhBiABKAIMIQggAAJ/A0AgCCADQQN0aiIEKAIAIgkgAk8EQAJAIAIgCUcNACAMIAYgBCgCBEEEdGoiBCkDAFINACALIAQpAwhSDQAgASABKAIEQRBrNgIEQQAMAwsgA0EBaiIDQQAgAyAHRxshAyACQYACaiECDAELCyABKAIEIAZrQQR1IgZBAWshBAJAIAEoAhQgBkkEQCABKAIUQYCAgIB4RgRAIAEgASgCBEEQazYCBBAaAAsgASABLQAeQQFrOgAeIAEQTCABEDEgARCMDAwBCyAFIAQ2AgwgBSACNgIIIAUgBSkCCDcDACABIAUgAxAwCyABKAIAIARBBHRqIQRBAQs6AAQgACAENgIAIAVBEGokAAuhAQECfwJAIAAQDkUgAiABa0EFSHINACABIAIQvQQgAkEEayEEIAAQICICIAAQDmohBQJAA0ACQCACLAAAIQAgASAETw0AIABBAEwgAEH/AE5yRQRAIAEoAgAgAiwAAEcNAwsgAUEEaiEBIAIgBSACa0EBSmohAgwBCwsgAEEATCAAQf8ATnINASACLAAAIAQoAgBBAWtLDQELIANBBDYCAAsLCAAgACABEBwLUAEBfgJAIANBwABxBEAgASADQUBqrYYhAkIAIQEMAQsgA0UNACACIAOtIgSGIAFBwAAgA2utiIQhAiABIASGIQELIAAgATcDACAAIAI3AwgLbQEBfyMAQYACayIFJAAgBEGAwARxIAIgA0xyRQRAIAUgAUH/AXEgAiADayIDQYACIANBgAJJIgEbEB4aIAFFBEADQCAAIAVBgAIQXyADQYACayIDQf8BSw0ACwsgACAFIAMQXwsgBUGAAmokAAudCwELfyMAQTBrIggkACAAKAIAIgcoAgBB+d2rxQJGBEADQAJAAkACQAJAIAcoAhggC00EQEEAIQMDQCADIAAoAgRPDQIgACgCCCADQQR0aiIEKAIAIAgQuQYhBiAIIAgtAAAgBC0ABHI6AAAg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aiQACwwAIAAgAUHICBDRCQsTACAALQCYAUEBRwRAEBoACyAACzABAX8gACgCBCICIAAoAghJBEAgAiABKAIANgIAIAAgAkEEajYCBA8LIAAgARC1Bgs5AQJ/IABBIGohAgNAAkAgACACRiIDDQAgAC0AACABLQAARw0AIAFBAWohASAAQQFqIQAMAQsLIAMLWQECfyAAQf8BOgAYIABBADoAACMAQRBrIgIkACAAEEQgAS0AGCIDQf8BRwRAIAJBD2ogACABIANBAnRBtAhqKAIAEQQAIAAgAS0AGDoAGAsgAkEQaiQAIAALGwEBf0EMEBciAiABNgIAIAIgACkCBDcCBCACCxEAIAAgASAAKAIAKAIsEQMACyEAIAAgAC0AC0GAAXEgAXI6AAsgACAALQALQf8AcToACwvGCQIEfwZ+IwBB8ABrIgYkACAEQv///////////wCDIQkCQAJAIAFQIgUgAkL///////////8AgyIKQoCAgICAgMD//wB9QoCAgICAgMCAgH9UIApQG0UEQCADQgBSIAlCgICAgICAwP//AH0iC0KAgICAgIDAgIB/ViALQoCAgICAgMCAgH9RGw0BCyAFIApCgICAgICAwP//AFQgCkKAgICAgIDA//8AURtFBEAgAkKAgICAgIAghCEEIAEhAwwCCyADUCAJQoCAgICAgMD//wBUIAlCgICAgICAwP//AFEbRQRAIARCgICAgICAIIQhBAwCCyABIApCgICAgICAwP//AIWEUARAQoCAgICAgOD//wAgAiABIAOFIAIgBIVCgICAgICAgICAf4WEUCIFGyEEQgAgASAFGyEDDAILIAMgCUKAgICAgIDA//8AhYRQDQEgASAKhFAEQCADIAmEQgBSDQIgASADgyEDIAIgBIMhBAwCCyADIAmEUEUNACABIQMgAiEEDAELIAMgASABIANUIAkgClYgCSAKURsiCBshCiAEIAIgCBsiC0L///////8/gyEJIAIgBCAIGyICQjCIp0H//wFxIQcgC0IwiKdB//8BcSIFRQRAIAZB4ABqIAogCSAKIAkgCVAiBRt5IAVBBnStfKciBUEPaxBjIAYpA2ghCSAGKQNgIQpBECAFayEFCyABIAMgCBshAyACQv///////z+DIQQgB0UEQCAGQdAAaiADIAQgAyAEIARQIgcbeSAHQQZ0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ABApIAJBQGsgACkAGCAFhUIAIAApABBC442j5Inemt6Of4VCABApIAJBMGogACkAKCAGhUIAIAApACBCw5ndqce52czYAIVCABApIABBMGohACACKQM4IAIpAzCFIQYgAikDSCACKQNAhSEFIAIpA1ggAikDUIUhBCADQTBrIgNBMEsNAAsgBCAFhSAGhSEECwNAIANBEU8EQCACQSBqIAApAAggBIVCACAAKQAAQtvR0IWa2t+BZ4VCABApIABBEGohACADQRBrIQMgAikDKCACKQMghSEEDAELCyAAIANqIgBBCGspAAAhBSAAQRBrKQAACyEGIAJBEGogBCAFhUIAIAZC29HQhZra34FnhUIAECkgAiACKQMYIAIpAxCFQgAgAa1C29HQhZra34FnhUIAECkgAikDCCEIIAIpAwAhByACQeAAaiQAIAggB4ULQQIBfgF/IABCP4chAgNAIAEgAKdB/wBxQYB/QQAgACAChULAAINCBoinIABCB4ciACACUnIiAxtyEJ0BIAMNAAsLMwEBfyMAQRBrIgIkACACIAE3AwggAkIANwMAIAAgAhDhASAAIAJBCGoQ5wUgAkEQaiQACxwAIAAgAUHVqtUqQRhBqtWq1QBBq9Wq1QAQkwELOgEBfyAAQdTnASgCACIBNgIAIAAgAUEMaygCAGpB4OcBKAIANgIAIABBBGoQ9AUaIABBOGoQ7AogAAvFAwEEfyMAQRBrIggkACAIIAI2AgggCCABNgIMIAhBBGoiASADECQgARBxIQkgARAjIARBADYCAEEAIQECQANAIAYgB0YgAXINAQJAIAhBDGogCEEIahAtDQACQCAJIAYoAgAQ9wJBJUYEQCAGQQRqIAdGDQJBACECAn8CQCAJIAYoAgQQ9wIiAUHFAEYNAEEBIQogAUH/AXFBMEYNACABDAELIAZBCGogB0YNA0ECIQogASECIAkgBigCCBD3AgshASAIIAAgCCgCDCAIKAIIIAMgBCAFIAEgAiAAKAIAKAIkEQ0ANgIMIAYgCkECdGpBBGohBgwBCyAJQQEgBigCABClAQRAA0ACQCAHIAZBBGoiBkYEQCAHIQYMAQsgCUEBIAYoAgAQpQENAQsLA0AgCEEMaiIBIAhBCGoQLQ0CIAlBASABEEkQpQFFDQIgARBTGgwACwALIAkgCEEMaiIBEEkQXiAJ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ADYCDCAAIAM2AhAgAQRAIAEQ6gQhBAsgACAENgIAIAAgBCACQQN0aiICNgIIIAAgBCABQQN0ajYCDCAAIAI2AgQgAAsOACAAIAEoAgA2AgAgAAskACAAQQtPBH8gAEEQakFwcSIAIABBAWsiACAAQQtGGwVBCgsLJAECfyMAQRBrIgIkACAAIAEQqwYhAyACQRBqJAAgASAAIAMbCwgAIAAoAgBFC40BAQF/AkAgACgCBCIBIAEoAgBBDGsoAgBqKAIYRQ0AIAAoAgQiASABKAIAQQxrKAIAahDmCkUNACAAKAIEIgEgASgCAEEMaygCAGooAgRBgMAAcUUNACAAKAIEIgEgASgCAEEMaygCAGooAhgQ5QpBf0cNACAAKAIEIgAgACgCAEEMaygCAGpBARC6AgsLswEBAX8gACABNgIEIABBADoAACABIAEoAgBBDGsoAgBqEOYKBEAgASABKAIAQQxrKAIAaigCSCIBBEAjAEEQayICJAAgASABKAIAQQxrKAIAaigCGARAIAJBCGogARC5AhoCQCACLQAIRQ0AIAEgASgCAEEMaygCAGooAhgQ5QpBf0cNACABIAEoAgBBDGsoAgBqQQEQugILIAJBCGoQuAILIAJBEGokAAsgAEEBOgAACyAACwkAIAAgARCxCQsIACAAQf8BcQuUAgIHfwJ+IwBBQGoiACQAQQAgAEEoahDyCgRAQfDCAigCABCCBgALIABBGGogAEEoahCNAiEEIAAgACgCMEHoB202AgwgAEEQaiAAQQxqEPAKIQUjAEEgayIBJAAjAEEQayIDJAAjAEEQayIGJAAjAEEQayICJAAgAiAEKQMAQsCEPX43AwAgAkEIaiACEI0CKQMAIQcgAkEQaiQAIAZBEGokACADIAc3AwggASADKQMINwMIIANBEGokACABKQMIIQcgASAFKQMANwMAIAEgByABKQMAfDcDECABQRhqIAFBEGoQjQIpAwAhByABQSBqJAAgACAHNwMgIABBOGogAEEgahCNAikDACEIIABBQGskACAIC1ABAX4CQCADQcAAcQRAIAIgA0FAaq2IIQFCACECDAELIANFDQAgAkHAACADa62GIAEgA60iBIiEIQEgAiAEiCECCyAAIAE3AwAgACACNwMIC9sBAgF/An5BASEEAkAgAEIAUiABQv///////////wCDIgVCgICAgICAwP//AFYgBUKAgICAgIDA//8AURsNACACQgBSIANC////////////AIMiBkKAgICAgIDA//8AViAGQoCAgICAgMD//wBRGw0AIAAgAoQgBSAGhIRQBEBBAA8LIAEgA4NCAFkEQEF/IQQgACACVCABIANTIAEgA1EbDQEgACAChSABIAOFhEIAUg8LQX8hBCAAIAJWIAEgA1UgASADURsNACAAIAKFIAEgA4WEQgBSIQQLIAQLKAAgAEERTwRAQffPAEH7xwBB8AlBnAoQAAALIABBAnRB8NkBaigCAAuoAgECfyAGKAIEIQggBi0ACyEHIABBADYCCCAAQgA3AgAgAEETQRIgARsgCCAHIAfAQQBIG2oQXSAAQesxEN0DIAAgAhDdAwJAIAFFBEAgACADEOYLIAAgBBDlCyAAIAUQ3QMMAQsgACAEEOULIwBBEGsiASQAIAEgBTYCDCAAIAFBDGpBBBBtGiABQRBqJAALIAYoAgQgBi0ACyIBIAHAQQBIG60iBKchAQJAIARC//8BWARAIAAgAUH//wNxEN0DDAELIAAgAUGAgAJyQf//A3EQ3QMgBEIPiCEEA0AgBFANASAAIASnQf8AcSAEQv8AVkEHdHIQ5gsgBEIHiCEEDAALAAsgACAGKAIAIAYgBi0ACyIAwEEASCIBGyAGKAIEIAAgARsQbRoLqAQBCn8jAEHgAWsiAyQAIAAtAIQDRQRAIABBASAALQBkQQFqQf8BcSIBIAFBAU0bOgBkCyAAQQA7ATQgA0G0AWoQ4QQhCAJ/IANBqAFqIgEgAEHYAGoiAigCADYCACABIAIoAgQiBDYCBCABIAIoAggiBTYCCCABQQRqIQYgBUUEQCABIAY2AgAgAQwBCyAEIAY2AgggAkIANwIEIAIgAkEEajYCACABCyIGQQRqIQQgBigCACECIANBHGohBQNAAkAgAiAERgRAIANBDGoiAUEANgIIIAEgATYCBCABIAE2AgAgACgCVCIFBEAgACgCUCIEKAIAIgcgACgCTCICKAIENgIEIAIoAgQgBzYCACABKAIAIgcgBDYCBCAEIAc2AgAgASACNgIAIAIgATYCBCABIAEoAgggBWo2AgggAEEANgJUCyABKAIEIQIgA0EcaiEEA0AgASACRg0CIAIvAQghAEECEBUEQCAEEBMhCSADQQI2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CDYCCCACQQA2AgggAkIANwMAIAMgAikDEDcDECADIAIpAxg3AxggAyACKAIgNgIgIAJBADYCICACQgA3AxgMAQsLIAEgAzYCBCAAKAIAIQIgACADNgIAIAEgAjYCBCAAKAIEIQIgACABKAIINgIEIAEgAjYCCCAAKAIIIQIgACABKAIMNgIIIAEgAjYCDCABIAEoAgQ2AgALNwEDfyMAQRBrIgMkACAAEE4hACABKAJUIQUgAyAANgIMIAUgAiABIANBDGoQ2gIaIANBEGokAAtfAQN/IwBBEGsiASQAIAEgADYCDCABKAIMIgAoAgAEQCAAKAIAIQMgACgCBCECA0AgAiADRwRAIAJBgAFrEIUBIQIMAQsLIAAgAzYCBCABKAIMKAIAEAsLIAFBEGokAAuHAQAgACABECYiAEEMaiABQQxqECYaIABBGGogAUEYahAmGiAAQSRqIAFBJGoQJhogAEEAOgA8IABBADoAMCABLQA8BEAgACABKQMwNwMwIAAgASgCODYCOCABQgA3AzAgAUEANgI4IABBAToAPAsgAEFAayABQUBrECYaIAAgASkDUDcDUCAACw8AIAAgARCJCUEBOgDAAQtNACAAAn8gAS0AQEUEQCAAQQA6AABBAAwBCyABEJ4CIAAgASkABTcAACAAIAEpAB03ABggACABKQAVNwAQIAAgASkADTcACEEBCzoAIAsQACAALQDAAQRAIAAQoAILC40DAQR/IwBBEGsiAyQAIAEgABAbIQUgAiABEBshBAJ/AkAgBUUEQEEAIARFDQIaIAMgASgCCDYCCCADIAEpAgA3AwAgASACKAIINgIIIAEgAikCADcCACACIAMoAgg2AgggAiADKQMANwIAQQEgASAAEBtFDQIaIAMgACgCCDYCCCADIAApAgA3AwAgACABKAIINgIIIAAgASkCADcCACABIAMoAgg2AgggASADKQMANwIADAELIAQEQCADIAAoAgg2AgggAyAAKQIANwMAIAAgAigCCDYCCCAAIAIpAgA3AgAgAiADKAIINgIIIAIgAykDADcCAEEBDAILIAMgACgCCDYCCCADIAApAgA3AwAgACABKAIINgIIIAAgASkCADcCACABIAMoAgg2AgggASADKQMANwIAQQEgAiABEBtFDQEaIAMgASgCCDYCCCADIAEpAgA3AwAgASACKAIINgIIIAEgAikCADcCACACIAMoAgg2AgggAiADKQMANwIAC0ECCyEGIANBEGokACAGC24CAn8BfiACED4iBadB/wFxQYACciECIAUgATEAHoinIQMgASgCECEEIAEoAgwhAQNAIAIgASADQQN0aigCAE9FBEAgA0EBaiIDQQAgAyAERxshAyACQYACaiECDAELCyAAIAM2AgQgACACNgIACwsAIAEgAEEgEG0aC8QBAgN/AX4jAEEgayICJAACQCABLQAwQQRGBEAgAEEYaiEEA0AgBSABKAIcIAEtACMiAyADwEEASButWg0CIAIgASkDACAFfDcDECACIAEpAwg3AxggAkEIaiAEIAJBEGoQYCAAIAApA0BCAXw3A0AgBUIBfCEFDAALAAsgAkEQaiIDIAEQ+wEgAkEIaiAAQRhqIgQgAxBgIAEtAFBFBEAgAyAEIAEQYAsgACAAKQNAIAEtADBBAEetfDcDQAsgAkEgaiQAC8IBAQN/IAAoAgQiAiAAKAIISQRAIAIgASkCADcCACACIAEoAgg2AgggAUIANwIAIAFBADYCCCAAIAJBDGo2AgQPCyMAQSBrIgMkACADQQxqIAAgACgCBCAAKAIAa0EMbUEBahDsAiAAKAIEIAAoAgBrQQxtIABBCGoQqQIiAigCCCIEIAEpAgA3AgAgBCABKAIINgIIIAFCADcCACABQQA2AgggAiACKAIIQQxqNgIIIAAgAhCuBCACEMsDIANBIGokAAsLACAAQfDZABDHAwtiAQJ/IwBBIGsiAiQAAkAgASAAKAIIIAAoAgAiA2tBA3VLBEAgAUGAgICAAk8NASAAIAJBDGogASAAKAIEIANrQQN1IABBCGoQswIiABCYBiAAELICCyACQSBqJAAPCxABAAsnAQF/IAAgACgCADYCBCAAKAIMIgEEQCABQQAgACgCEEEDdBAeGgsLFgEBfyAAKAIMIgEEQCABEAsLIAAQOwsdACAAIAFBqtWq1QBBDEHVqtWqAUHWqtWqARCTAQsgAQF/IAAoAkwiAUF/RgRAIAAgABCwCSIBNgJMCyABwAsfACAAQQA6AAwgAEEAOgAAIAEtAAwEQCAAIAEQxAMLCzEBAX8gASAFTwRAEAEACyAEIAAoAgggACgCAGsiACADdSIGIAEgASAGSRsgACACTxsLEgAgAC0AECABRwRAEBoACyAACxkAIAEgAhD4CSEBIAAgAjYCBCAAIAE2AgALJAAgAEECTwR/IABBBGpBfHEiACAAQQFrIgAgAEECRhsFQQELC6oBAQR/IwBBEGsiBSQAIAEQ6QkhAiMAQRBrIgMkAAJAIAJB7////wNNBEACQCACELQEBEAgACACEHsgACEEDAELIANBCGogACACEPICQQFqEPECIAMoAgwaIAAgAygCCCIEEJUBIAAgAygCDBCUASAAIAIQcAsgBCABIAIQjAIgA0EANgIEIAQgAkECdGogA0EEahCGASADQRBqJAAMAQsQaAALIAVBEGokAAtKAQF/IABBADYCDCAAIAM2AhAgAQRAIAEQrwkhBAsgACAENgIAIAAgBCACQQV0aiICNgIIIAAgBCABQQV0ajYCDCAAIAI2AgQgAAsVACAAIAEgAiADQcgAQeTxuBwQsQELxwEBBn8jAEEQayIEJAAgABCLAygCACEFAn8gAigCACAAKAIAayIDQf////8HSQRAIANBAXQMAQtBfwsiA0EEIAMbIQMgASgCACEGIAAoAgAhByAFQZMERgR/QQAFIAAoAgALIAMQ0wQiCARAIAVBkwRHBEAgABC4BBoLIARBkgQ2AgQgACAEQQhqIAggBEEEahBGIgUQnwogBRBFIAEgACgCACAGIAdrajYCACACIAAoAgAgA0F8cWo2AgAgBEEQaiQADwsQGgALEwAgACABQQAgACgCACgCNBEFAAsTACAAIAFBACAAKAIAKAIkEQUAC/ICAQJ/IwBBEGsiCiQAIAogADYCDAJAAkACQCADKAIAIAJHDQBBKyELIAAgCSgCYEcEQEEtIQsgCSgCZCAARw0BCyADIAJBAWo2AgAgAiALOgAADAELIAYQDkUgACAFR3JFBEBBACEAIAgoAgAiASAHa0GfAUoNAiAEKAIAIQAgCCABQQRqNgIAIAEgADYCAAwBC0F/IQAgCSAJQegAaiAKQQxqEJQGIAlrIgZB3ABKDQEgBkECdSEFAkACQAJAIAFBCGsOAwACAAELIAEgBUoNAQwDCyABQRBHIAZB2ABIcg0AIAMoAgAiASACRiABIAJrQQJKcg0CIAFBAWstAABBMEcNAkEAIQAgBEEANgIAIAMgAUEBajYCACABIAVBwIYCai0AADoAAAwCCyADIAMoAgAiAEEBajYCACAAIAVB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IAIgATYCRCACIAAQ8gELCxUAIABBOGoQChogAEEYahBNIAAQZgu6AQIEfwR+IAEoAgQgASgCACIEa0EDdSICIAAoAgQgACgCACIFa0EDdSIDIAIgA0kbrSEHQQAhAQJAA0AgBiAHUgRAAkAgBSAGp0EDdCIAaikDACIIIAAgBGopAwAiCVENACAIIAlUBEBBAyEAIAFBAUYNBEECIQEgAiADTw0BDAQLQQMhACABQQJGDQNBASEBIAIgA0sNAwsgBkIBfCEGDAELC0ECQQEgASACIANJGyACIANLGyEACyAAC7UCAQV/IwBBIGsiBSQAAkAgACgCBCICIAAoAgBHBEAgAiEDDAELIAAoAggiAyAAKAIMIgRJBEAgACADIAQgA2tBAnVBAWpBAm1BAnQiBGogAyACayIGayIDIAIgBhBVNgIEIAAgACgCCCAEajYCCAwBCyAFQQxqQQEgBCACa0EBdSACIARGGyICIAJBA2pBAnYgAEEMahC3ASICIAAoAgQgACgCCBCkAyAAKAIAIQMgACACKAIANgIAIAIgAzYCACAAKAIEIQMgACACKAIENgIEIAIgAzYCBCAAKAIIIQMgACACKAIINgIIIAIgAzYCCCAAKAIMIQMgACACKAIMNgIMIAIgAzYCDCACEJgBIAAoAgQhAwsgA0EEayABKAIANgIAIAAgACgCBEEEazYCBCAFQSBqJAALlwsCBn8CfiMAQYABayIJJAACQAJAAkACfyAAKAIAIAAoAgRGBEAgAEEMaiEMAkACQAJAAkAgACgCDCIHIAKnIgpB8ABsIghqIgstADBBAWsOBAABAQIBCyABQfAAaiALEJABIAYgDCgCACIHIAhqIggpAwA3AwAgBiAIKQMINwMICyAELQAwQQNHDQECQCAHIApB8ABsIgVqEJcCRQ0AIARB2ABqENwBIgEpAwAgDCgCACAFaiIAKQMAUg0AIAEpAwggACkDCFINACAEQRBqEM0CKQMAIQIgBSAMKAIAakEQahCfARDzASIAIAIgACkDCHw3AwgLIAwoAgAgBWohCAwGCyADIAsQigFCAX1UBEBBACEIIAAoAhAgACgCDCIHa0HwAG1BHksNBiAJQRBqIgggByAKQfAAbCIGaiADQgF8EKABIAwgACgCDCAGakHwAGogCBC7ASAAIAApAzhCAXw3AzggCBAvGgsg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ADcCAAsLJwEBfyMAQRBrIgIkACACIAE7AQ4gACACQQ5qQQIQbRogAkEQaiQACz0AIABB4ABqEAoaIABB1ABqEAoaIABByABqEAoaIABBPGoQChogAEEwahAKGiAAQRBqEBIaIABBBGoQChoLDwAgAEEIaiABLwEAENYFC1MBAX8gASgCECICRQRAIABBADYCECAADwsgASACRgRAIAAgADYCECABKAIQIgEgACABKAIAKAIMEQAAIAAPCyAAIAIgAigCACgCCBECADYCECAACycAIAEEQCAAIAEoAgAQ4QMgACABKAIEEOEDIAFBEGoQzQYgARALCwsbAQF/IAAoAgAhASAAQQA2AgAgAQRAIAEQCwsLbwICfwF+IAIQvAEiBadB/wFxQYACciECIAUgATEAHoinIQMgASgCECEEIAEoAgwhAQNAIAIgASADQQN0aigCAE9FBEAgA0EBaiIDQQAgAyAERxshAyACQYACaiECDAELCyAAIAM2AgQgACACNgIACyEAIAAoAhAiAEUEQBAaAAsgACABIAIgACgCACgCGBEEAAu5BQIKfwJ9IwBBEGsiCCQAIAggATYCBCMAQRBrIgQkACABEJACIQMgCAJ/AkAgACgCBCICRQ0AIAAoAgACfyACQQFrIANxIAJpIgZBAU0NABogAyACIANLDQAaIAMgAnALIgdBAnRqKAIAIgVFDQAgAkEBayEJIAZBAUshCgNAIAUoAgAiBUUNASADIAUoAgQiBkcEQAJAIApFBEAgBiAJcSEGDAELIAIgBksNACAGIAJwIQYLIAYgB0cNAgsgBUEIaiABECJFDQALQQAMAQtBIBAXIQEgBCAAQQhqNgIIIAQgATYCBCABQQhqIAgoAgQQ4AUaIARBAToADCABQQA2AgAgASADNgIEAkBBACACIAAoAgxBAWqzIgwgACoCECINIAKzlF4bDQAgACACIAJBAWtxQQBHIAJBA0lyIAJBAXRyIgECfyAMIA2VjSIMQwAAgE9dIAxDAAAAAGBxBEAgDKkMAQtBAAsiByABIAdLGxCMAyAAKAIEIgIgAkEBayIBcUUEQCABIANxIQcMAQsgAiADSwRAIAMhBwwBCyADIAJwIQcLAkAgB0ECdCIDIAAoAgBqKAIAIgFFBEAgBCgCBCAAKAIINgIAIAAgBCgCBDYCCCAAKAIAIANqIABB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AGxqQcQAahD1AwsgBkGQAWokAAsJACAAQSIQyAMLkAEBA38gASgCBCECIAAoAgAhBCAAKAIEIQMDQCADIARGRQRAIAJBImsiAiADQSJrIgNBIhAdGgwBCwsgASACNgIEIAAoAgAhAyAAIAI2AgAgASADNgIEIAAoAgQhAiAAIAEoAgg2AgQgASACNgIIIAAoAgghAiAAIAEoAgw2AgggASACNgIMIAEgASgCBDYCAAsUACAAIAEgAiADQSJBiI+ePBCxAQsGACABEDcLCwAgACABECJBAXMLuAECBH8BfSMAQRBrIgQkACAAQQA2AgggAEIANwIAIAEoAgQiAiABKAIAIgNHBEAgACACIANrQQR1EJwKIAAoAgQhAiABKAIEIQUgASgCACEDA0AgAyAFRwRAIAIgAykDADcDACACIAMpAwg3AwggAkEQaiECIANBEGohAwwBCwsgACACNgIECyAAQQA2AhQgAEIANwIMIAEqAhghBiAAQT46AB4gACAGOAIYIAAgARC8BiAEQRBqJAALqAIBBH8jAEEgayIFJAACQCAAKAIIIgIgACgCDEcNACAAKAIEIgMgACgCACIESwRAIAAgAyADIARrQQJ1QQFqQX5tQQJ0IgRqIAMgAiADayICEFUgAmoiAjYCCCAAIAAoAgQgBGo2AgQMAQsgBUEMakEBIAIgBGtBAXUgAiAERhsiAiACQQJ2IAAoAhAQtwEiAiAAKAIEIAAoAggQpAMgACgCACEDIAAgAigCADYCACACIAM2AgAgACgCBCEDIAAgAigCBDYCBCACIAM2AgQgACgCCCEDIAAgAigCCDYCCCACIAM2AgggACgCDCEDIAAgAigCDDYCDCACIAM2AgwgAhCYASAAKAIIIQILIAIgASgCADYCACAAIAAoAghBBGo2AgggBUEgaiQACw0AIAAgAUHg2gAQ0QkLDQAgACABQdjaABDUCQsJACABIAIQEBoL4wQCC38CfiMAQTBrIgQkACACLQAwQQFGBEAgBCABKQMINwMgIAQgASkDADcDGCAEQanZADYCKCAEIAA2AhQgAkEYaiEFIARBGGohCCAEQRRqIQkjAEEQayIBJAAgAhC8ASIOp0H/AXFBgAJyIQcgDiAAQeQAaiIAMQAeiKchBiAAKAIQIQogAikDCCEOIAIpAwAhDyAAKAIAIQsgACgCDCEM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BCIERQ0AIAQtAAwNAAwCCyADIAIoAgBHBEAgAhCvAyACKAIIIgIoAgghAQsgAkEBOgAMIAFBADoADCABEK4DDAILAkAgBEUNACAELQAMDQAMAQsgAyACKAIARgRAIAIQrgMgAigCCCICKAIIIQELIAJBAToADCABQQA6AAwgARCvAwwBCyACQQE6AAwgASABIAVGOgAMIARBAToADCABIQMMAQsLIAAgACgCCEEBajYCCAuZAQICfwF+IwBBEGsiAyQAQSAQFyECIAMgAEEIajYCCCADQQE2AgwgAiABKAIINgIQIAIgASkDADcDCCABQQA2AgggAUIANwMAIAEpAxAhBCACIAA2AgAgAiAENwMYIAIgACgCBCIBNgIEIAEgAjYCACAAIAI2AgQgACAAKAIIQQFqNgIIIANBADYCBCADQQRqEH8gA0EQaiQAC3ECAn8BfiACQSAQ4gEiBadB/wFxQYACciECIAUgATEAHoinIQMgASgCECEEIAEoAgwhAQNAIAIgASADQQN0aigCAE9FBEAgA0EBaiIDQQAgAyAERxshAyACQYACaiECDAELCyAAIAM2AgQgACACNgIAC0IBAX8jAEEQayICJAAgAEIANwIAIABBPjoAHiAAQc2Zs/oDNgIYIABCADcCECAAQgA3AgggACABEIgDIAJBEGokAAsWACAALQBABEAgABCxAyAAQQA6AEALCy4BAX8gACAAKAIAIgIgASACa0HIAG1ByABsaiIBQcgAaiAAKAIEIAEQ9gUQqQQLJQAgACgCECIARQRAEBoACyAAIAEgAiADIAQgACgCACgCGBEKAAsuAQF/IAEoAgAiAiABKAIENgIEIAEoAgQgAjYCACAAIAAoAghBAWs2AgggARALCzcBAn4gACgCACEAA34gASACUQR+IAMFIAMgACACp0HIAGxqKQM4fEIBfCEDIAJCAXwhAgwBCwsLgQEBAn8gACgCBCAAKAIISQRAIAAgARDpCg8LIwBBIGsiAyQAIANBDGogACAAKAIEIAAoAgBrQfAAbUEBahDbBSAAKAIEIAAoAgBrQfAAbSAAQQhqEIkDIgIoAgggARA4GiACIAIoAghB8ABqNgIIIAAgAhCzCyACEIUDIANBIGokAAsWACAALQAMBEAgABAPGiAAQQA6AAwLCzcBAX8jAEEQayIBJAAgASAANgIMIAEoAgwiACgCAARAIAAQ0AUgASgCDCgCABALCyABQRBqJAALQgEBfyMAQRBrIgIkACAAQgA3AgAgAEE+OgAeIABBzZmz+gM2AhggAEIANwIQIABCADcCCCAAIAEQ0QUgAkEQaiQACy8BA38gAC0AICICQQBHIAEtACAiA0EAR3MhBCACRSADRXIEfyAEBSAAIAEQzgULCxgAIAAtAMABBEAgABCgAiAAQQA6AMABCwuIAQEDfyACIAFrIgNB8P///wdJBEACQCADQQpNBEAgACADOgALDAELIANBD3JBAWoiBRAXIQQgACAFQYCAgIB4cjYCCCAAIAQ2AgAgACADNgIEIAQhAAsDQCABIAJGRQRAIAAgAS0AADoAACAAQQFqIQAgAUEBaiEBDAELCyAAQQA6AAAPCxABAAsSACAAIAEQHCAAIAEpAxA3AxALCwAgACABQQQQwwkLcgEBfyMAQRBrIgIkAAJAIAAtABhBBEYEQCAAIAEQHAwBCyACIAE2AgwgAiAANgIIIAIoAgwhACACKAIIIgEQ6AIgASAAKAIINgIIIAEgACkCADcCACAAQgA3AgAgAEEANgIIIAFBBDoAGAsgAkEQaiQACwsAIAAgAUEEEMIJC6oDAgR/AX4jAEFAaiIBJAAgAEEIaiECAkACQAJAAkACQAJAAkAgAC0AIA4GAAECBQMEBgsgAUIBNwMwIAFBMGohAyMAQRBrIgAkAAJAIAItABhBAUYEQCACIAEpAzA3AwAMAQsgACADNgIMIAAgAjYCCCAAKAIMIQQgACgCCCICELABIAQpAwAhBSACQQE6ABggAiAFNwMACyAAQRBqJAAMBQsgAiACKQMAQgF8NwMADAQLIAIgAikDAEIBfDcDAAwDCyABQQA2AjggAUIANwIwIAFBMGoiAyACEFcgASABKAIwNgIkIAEpAjQhBSABQQA2AjggASAFNwIoIAFCADcCMCAAIAFBJGoiABDBAyAAEA8aIAFCATcDGCACIAFBGGoQ8AUgAxAPGgwCCyAAIAIgACkDEBDvBSABQgE3AzAgAiABQTBqEPAFDAELIABBEGogAhBXIAEgACgCEDYCDCABIAAoAhQ2AhAgASAAKAIYNgIUIABBADYCGCAAQgA3AxAgACABQQxqIgAQwQMgABAPGiABQgE3AzAgAiABQTBqEPAFCyABQUBrJAALKgEBfyAAKAIEIQIDQCABIAJGRQRAIAJByABrEFshAgwBCwsgACABNgIECykBAX8gACgCBCEDA0AgASADRkUEQCADIAJrEAohAwwBCwsgACABNgIECz0BAn8gACgCBCECA0AgAiAAKAIIIgFHBEAgACABQcgAayIBNgIIIAEQWxoMAQsLIAAoAgAiAARAIAAQCwsLFQAgAC0AICABRwRAEBoACyAAQQhqC5QBAQN/IwBBIGsiAiQAIAAoAgwiAwRAIANBACAAKAIQQQN0EB4aCyAAKAIEIAAoAgBrIAFtIQRBACEDA0AgAyAERgRAIAJBIGokAAUgAkEYaiAAIAAoAgAgAyABbGoQ5AIgAiADNgIUIAIgAigCGDYCECACIAIpAhA3AwggACACQQhqIAIoAhwQMCADQQFqIQMMAQsLC6wBAQN/IAEoAgQhAyAAKAIAIQQgACgCBCECA0AgAiAERkUEQCADQQxrIgMgAkEMayICKQIANwIAIAMgAkEIaigCADYCCCACQgA3AgAgAkEANgIIDAELCyABIAM2AgQgACgCACECIAAgAzYCACABIAI2AgQgACgCBCECIAAgASgCCDYCBCABIAI2AgggACgCCCECIAAgASgCDDYCCCABIAI2AgwgASABKAIENgIAC0kBAn8gACgCBCIGQQh1IQUgBkEBcQRAIAIoAgAgBRCABiEFCyAAKAIAIgAgASACIAVqIANBAiAGQQJxGyAEIAAoAgAoAhgRCgALjAEBAn8jAEEQayIDJAAgAUHv////B00EQAJAIAEQ1AMEQCAAIAEQeyAAIQQMAQsgA0EIaiAAIAEQtQJBAWoQigIgAygCDBogACADKAIIIgQQlQEgACADKAIMEJQBIAAgARBwCyAEIAEgAhDmCSADQQA6AAcgASAEaiADQQdqEIkBIANBEGokAA8LEGgAC5QCAQN/IwBBEGsiCCQAIAIgAUF/c0Hv////B2pNBEAgABAgIQkgCEEEaiIKIAAgAUHn////A0kEfyAIIAFBAXQ2AgwgCCABIAJqNgIEIAogCEEMahC2AigCABC1AkEBagVB7////wcLEIoCIAgoAgQhAiAIKAIIGiAEBEAgAiAJIAQQlwELIAYEQCACIARqIAcgBhCXAQsgAyAEIAVqIgprIQcgAyAKRwRAIAIgBGogBmogBCAJaiAFaiAHEJcB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AyIAQQF2QQAgAEEBcWtzNgIADAoLIARBBUcNByABIAUoAAA2AgAMCQsgBA0GIAEgBiAFENYENwMADAgLIAQNBSABIAYgBRDWBCIKQgGIQgAgCkIBg32FNwMADAcLIARBAUcNBCABIAUpAAA3AwAMBgsgASAGIAUQkQs2AgAMBQsgBEECRw0CIAAtAAUhAAJAIANFDQAgASgCACIDRQ0AIAMgCCgCHEYNACACKAIIIAMgAigCBBEAAAsgASACKAIIIAYgAGsiA0EBaiACKAIAEQMAIgI2AgAgAkUNAiACIAAgBWogAxAdGiABKAIAIANqQQA6AAAMBAsgBEECRw0BIAAtAAUhAAJAIANFDQAgASgCBCIDRQ0AIAgoAhwiBARAIAMgBCgCBEYNAQsgAigCCCADIAIoAgQRAAALAkAgACAGSQRAIAEgAigCCCAGIABrIgQgAigCABEDACICNgIEIAJFDQMgAiAAIAVqIAQQHRoMAQsgAUEANgIEIAYgAGshBAsgASAENgIADAMLIARBAkcNACAIKAIcIQlBASEEIAgoAhggAiAGIAAtAAUiAGsgACAFahCnASEAAkAgA0UNACABKAIAIgdFIAcgCUZyDQACQCAARQRADAELIAcgACACEJALQQBHIQQgASgCACEHCyAHIAIQ7AELIAEgADYCACAAQQBHIARxIQcLIAcPCyABIAYgBRCGAzYCAAtBAQvBAQECfyAApyECIABCIIinIgNFBEAgAiABENcBDwsgASACQYABcjoAACABIAJBFXZBgAFyOgADIAEgAkEOdkGAAXI6AAIgASACQQd2QYABcjoAASADQQR0IAJBHHZyIQIgA0EHTQRAIAEgAjoABEEFDwsgASACQYABcjoABCADQQN2IQJBBSEDA0AgAkGAAUlFBEAgASADaiACQYABcjoAACACQQd2IQIgA0EBaiEDDAELCyABIANqIAI6AAAgA0EBagtSAQF/IABCIIinIgFFBEAgAKcQqAEPCwJ/QQUgAUEISQ0AGkEGIAFBgAhJDQAaQQcgAUGAgAhJDQAaQQggAUGAgIAISQ0AGkEJQQogAEIAWRsLCw0AIABBuJcBQSgQHRoLIwAgACABKAIANgIAIABBBGogAUEEahAQGiAAIAEoAhA2AhALHwAgACABEBAiAEEMaiABQQxqEBAaIAAgASkCGDcCGAsMACAAIAFBjAkQxAkLIQAgASgCECIBRQRAEBoACyAAIAEgAiABKAIAKAIYEQQACycBAX8jAEEQayIDJAAgAyABOwEOIAAgA0EOaiACEOQDIANBEGokAAsfACABKAIQIgFFBEAQGgALIAAgASABKAIAKAIYEQAACxUAIABBvOEANgIAIABBBGoQqgsgAAtdAQN/IwBBEGsiASQAIAEgADYCDCABKAIMIgAoAgAEQCAAKAIAIQMgACgCBCECA0AgAiADRwRAIAJBGGsQZiECDAELCyAAIAM2AgQgASgCDCgCABALCyABQRBqJAALJwEBfyMAQRBrIgMkACADIAE2AgwgACADQQxqIAIQ5AMgA0EQaiQACzEBA38gACgCCCEBA0AgAQRAIAEoAgAhAyABQQhqENMGIAEQCyADIQEMAQsLIAAQ4gMLJwAgAQRAIAAgASgCABDlBCAAIAEoAgQQ5QQgAUEQahC0BSABEAsLCyUAIAAgAUcEQCAAIAEoAkQQ5gQgACABKAJIEOYEIAEQnQMQCwsLkQUBC38gACgCACECIwBBEGsiCiQAIAogADYCDCAKQQxqIQEjAEEQayIGJAACQCACQegCaiIDKAIAIAMoAgRGDQAgBkEIaiADIAEQ6gggAygCECEFIAEoAgAhBCADKAIAIQcgAygCDCEIIAYoAgwhAiAGKAIIIQEDQCABIAggAkEDdGoiCSgCAEcNASAHIAkoAgRBAnRqKAIAIARHBEAgBiABQYACaiIBNgIIIAYgAkEBaiICQQAgAiAFRxsiAjYCDAwBCwsjAEEQayIHJAAgAkEBaiIBQQAgASADKAIQRxshBSADKAIMIgQgAkEDdGooAgQhCANAIAQgBSIBQQN0aiIFKAIAIglBgARPBEAgBCACQQN0aiICIAUoAgQ2AgQgAiAJQYACazYCACABQQFqIgJBACACIAMoAhBHGyEFIAMoAgwhBCABIQIMAQsLIAQgAkEDdGpCADcCACADKAIEIgIgAygCACIBa0ECdUEBayAIRwRAIAEgCEECdGogAkEEaygCACIBNgIAIAcgAa1CAEKV+Kn6l7fem55/QgAQKSADKAIEIgIgAygCAGtBAnVBAWshASAHKQMIIAcpAwCFIAMxAB6IpyEEIAMoAhAhBSADKAIMIQkDQCAJIARBA3RqIgsoAgQgAUcEQCAEQQFqIgRBACAEIAVHGyEEDAELCyALIAg2AgQLIAMgAkEEazYCBCAHQRBqJAALIAZBEGokACAKQRBqJAAgAEGkA2oiAigCDCIBBEAgARALCyMAQRBrIgEkACABIAI2AgwgASgCDCICKAIABEAgAhDYBiABKAIMKAIAEAsLIAFBEGokACAAQYADaiIBLQAgBEAgARDrAgsgAEG4AWoQ4gIgAEEEahAKGguSBQEDfyAAIAEpAgA3AgAgACABKAIINgIIIAFCADcCACABQQA2AgggAEEQaiIBQQA6AEQgAUEAOgBAIAFBADoAACABQQA6AIQBIAFBiAFqEE4aIwBBEGsiAyQAIAFBqAFqIgJCADcCACACQT46AB4gAkHNmbP6AzYCGCACQgA3AhAgAkIANwIIIAIQMSACKAIMIgQEQCAEQQAgAigCEEEDdBAeGgsgA0EQaiQAIAFCATcD4AEgAUEANgLcASABIAFB1AFqIgI2AtgBIAEgAjYC1AEgASABQcwBajYCyAEgAUIANwLMASABQegBakEAQS0QHhogAEEANgLgAiAAQQA2AsgCIABBADoAtAIgACAAQawCajYCqAIgAEIANwKsAiAAQegCahBOGiAAQQA2ApADIAAgAEGIA2oiATYCjAMgACABNgKIAyMAQRBrIgIkACAAQZQDaiIBQgA3AgAgAUE+OgAeIAFBzZmz+gM2AhggAUIANwIQIAFCADcCCCABEDEgASgCDCIDBEAgA0EAIAEoAhBBA3QQHhoLIAJBEGokACAAQgA3AcYDIABCADcDwAMgAEIANwO4AyAAQdADaiIBQgA3AgAgAUIANwIQIAFCADcCCCMAQRBrIgIkACABQRhqENMHGiACQRBqJAAgAUEANgJQIAFCADcCSCABQUBrQgA3AgAgAUIANwI4IAFBADYCWCABIAE2AlQgAEGsBGoiAUIANwIAIAFCADcCECABQgA3AgggAUEYahBOGiABQQA2AlAgAUIANwJIIAFBQGtCADcCACABQgA3AjggAUEANgJYIAEgATYCVCAAQQA2AtgFIABBADYCwAUgAEEAOgCoBSAAQQA2AqAFIABBADYCiAUgAAswAQF/IAAoAgAhASAAQQA2AgAgAQRAIAAtAAgEQCABQQhqENMGCyABBEAgARALCwsLGAAgAEGAgICAAk8EQBAaAAsgAEEDdBAXCx0A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KAIAIAIoAgRGDQAgAEG4AWogARDzCCEHIAIoAgQhCCACKAIAIQMDQCADIAhGDQEgAygCACEFIwBBMGsiBiQAIAZBJGogARAQIQQgBkEIaiAHEPkBIQIjAEEwayIAJAAgACAEKAIINgIoIAAgBCkCADcDICAEQgA3AgAgBEEANgIIIAAgAikDADcDCCAAIAIoAhA2AhggACACKQMINwMQIAJBADYCECACQgA3AwggBUEoaiAAQSBqIgkgAEEIahDGCCAAQRBqEAoaIAkQChogAEEwaiQAIAJBCGoQChogBBAKGiAFKAIIIQIgBSgCBCEAA0AgACACRwRAIAAoAgBB+AJqIAEQigggAEEEaiEADAELCyAGQTBqJAAgA0EEaiEDDAALAAsFIAMoAgBBpANqIAEQigggA0EEaiEDDAELCwstAQJ/IAAoAggiASAAKAIEIgJrQQN0QQFrQQAgASACRxsgACgCFCAAKAIQamsLpwIBAX8CQCABRQRAIAAgAzYCACMAQRBrIgMkACAAQQRqIgFCADcCACABQT46AB4gAUHNmbP6AzYCGCABQgA3AhAgAUIANwIIIAEQMSABKAIMIgQEQCAEQQAgASgCEEEDdBAeGgsgA0EQaiQAIwBBEGsiAyQAIABBJGoiAUIANwIAIAFBPjoAHiABQc2Zs/oDNgIYIAFCADcCECABQgA3AgggARAxIAEoAgwiBARAIARBACABKAIQQQN0EB4aCyADQRBqJAAgAEHEAGoQyAEgAEEAOgCYAQwBCyAAQgA3A1ggAEEAOgAIIAAgAzYCACAAQQA6AFAgAEIANwNgIABCADcDaCAAQfAAahDIASAAQgA3A5ABIABBAToAmAELIABBoAFqIAIQpQgLGwAgACABQaXo3gRB2AFBy9C9CUHM0L0JEJMBCzMAIAAoAhRBgICAgHhGBEAgABCdCBAaAAsgACAALQAeQQFrOgAeIAAQTCAAEDEgABCgDAsMACAAIAAoAgAQnggLDAAgACAAKAIAEKEICz8BAn8gACgCBCECA0AgAiAAKAIIIgFHBEAgACABQdgBazYCCCABQcgBaxCqCAwBCwsgACgCACIABEAgABALCwubAgEHfyAAKAIEIQMgACgCACEHIAEoAgQhAgNAIAMgB0cEQCACQdgBayICIANB2AFrIgMpAwA3AwAgAiADKQMINwMI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ahAcCx0AIAAgARDFBSAAIAEoAhg2AhggACABLQAcOgAcCxQAIABBxABqIgAQ5AggACABELMDC5EBAQN/IAEoAgQhAiAAKAIAIQQgACgCBCEDA0AgAyAERkUEQCACQQhrIgIgA0EIayIDKQIANwIADAELCyABIAI2AgQgACgCACEDIAAgAjYCACABIAM2AgQgACgCBCECIAAgASgCCDYCBCABIAI2AgggACgCCCECIAAgASgCDDYCCCABIAI2AgwgASABKAIENgIACxsBAX8gACgCACECIAAgATYCACACBEAgAhALCwszACAAKAIUQYCAgIB4RgRAIAAQywUQGgALIAAgAC0AHkEBazoAHiAAEEwgABAxIAAQzAULDwAgACAAKAIEQShrEIEJCwkAIABBKBCtBAthAQJ/IwBBIGsiAiQAAkAgASAAKAIIIAAoAgAiA2tBKG1LBEAgAUHnzJkzTw0BIAAgAkEMaiABIAAoAgQgA2tBKG0gAEEIahDBASIAENwCIAAQ2wILIAJBIGokAA8LEAEACwsAIAAgARB3QQFzCyMAIAAgASkCADcCACAAIAEoAgg2AgggAEEMaiABQQxqECYaCwwAIAAgACgCABCBCQvxAQIBfwF9AkAgACABRg0AIAAQTCAAKAIABEAgABDQBSAAKAIAEAsgAEEANgIIIABCADcCAAsgACABKAIANgIAIAAgASgCBDYCBCAAIAEoAgg2AgggAUEANgIIIAFCADcCACABENAFIAEoAgwhAiABQQA2AgwgACACNgIMIAEoAhAhAiABQQA2AhAgACACNgIQIAEoAhQhAiABQQA2AhQgACACNgIUIAEtAB4hAiABQT46AB4gACACOgAeIAEqAhghAyABQc2Zs/oDNgIYIAAgAzgCGCABEDEgASgCDCIARQ0AIABBACABKAIQQQN0EB4aCwuQAwIGfwJ+IAEQPiEJIAEgACgCAGtBMG0hByAJIAAxAB6IpyEBIAAoAhAhAiAAKAIMIQMDQCAHIAMgAUEDdGooAgRHBEAgAUEBaiIBQQAgASACRxshAQwBCwsgAUEBaiIDQQAgAyAAIgIoAhBHGyEDIAIoAgwiBCABQQN0aigCBCEFA0AgBCADIgBBA3RqIgMoAgAiBkGABE8EQCAEIAFBA3RqIgEgAygCBDYCBCABIAZBgAJrNgIAIABBAWoi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BjoAICABQQA2AjwgAUIANwI0IAkgACABQTRqIgJBASABQQhqEK0BIAFBEGoQQyACEFwgABAKGgsgAUHwAGoQTSABQdABaiQACyAHQcABaiQAIAoLFgAgAC0AIARAIAAQ6wIgAEEAOgAgCwslAQF/IwBBEGsiAiQAIAIgATYCDCAAIAJBDGoQugMgAkEQaiQAC8cDAgV/AX4jAEEQayIHJAAgAhA+IginQf8BcUGAAnIhBiAIIAExAB6IpyEEA0ACQAJAIAEoAgwgBEEDdGoiAygCACIFIAZGBEAgAiABKAIAIAMoAgRBCHRqECJFDQIgASgCACEBIAMoAgQhAiAAQQA6AAQgACABIAJBCHRqNgIADAELIAUgBk8NASAHIAI2AgwjAEEQayICJAACQCABKAIEIAEoAghJBEAgASABKAIEIAcoAgwQ1ghBgAJqNgIEDAELIwBBIGsiBSQAIAVBDGogASABKAIEIAEoAgBrQQh1QQFqENUIIAEoAgQgASgCAGtBCHUgAUEIahDUCCIDKAIIIAcoAgwQ1ggaIAMgAygCCEGAAmo2AgggASADENMIIAMQ0gggBUEgaiQACyABKAIEGiABKAIEIAEoAgBrQQh1IgVBAWshAwJAIAEoAhQgBUkEQCABENgIDAELIAIgAzYCDCACIAY2AgggAiACKQIINwMAIAEgAiAEEDALIAEoAgAhASAAQQE6AAQgACABIANBCHRqNgIAIAJBEGokAAsgB0EQaiQADwsgBEEBaiIEQQAgBCABKAIQRxshBCAGQYACaiEGDAALAAsbACAAIAEQayIBIAAoAgRGBEAQGgALIAFBEGoLlAEBAn8jAEEwayICJAAgAC0AMEUEQCAAQSRqEJEJIABBNGoQkQkgAEHEAGoiASIAEP0IIABBAToADCAAQQA2AgggAEIANwIAIAJBDGoiAEEAQSQQHhogAkEYakIAEJAJAkAgASgCBCABKAIISQRAIAEgABD8CAwBCyABIAAQ+wgLIAEoAgQaIAAQxQEaCyACQTBqJAAL5AEBA38gACgCBCECIAAoAgAhBCABKAIEIQMDQCACIARHBEAgA0GAAWsiAyACQYABayICKQMANwMAIAMgAigCCDYCCCACQQA2AgggAkIANwMAIAMgAikDEDcDECADIAIoAiA2AiAgAyACKQMYNwMYIAJBADYCICACQgA3AxggA0EoaiACQShqEN8CGgwBCwsgASADNgIEIAAoAgAhBCAAIAM2AgAgASAENgIEIAAoAgQhBCAAIAEoAgg2AgQgASAENgIIIAAoAgghBCAAIAEoAgw2AgggASAENgIMIAEgASgCBDYCAAsbACAAIAFByaSSCUHwAEGSyaQSQZPJpBIQkwELIwAgAEEAOgDAASAAQQA6AAAgAS0AwAEEQCAAIAEQ4AILIAALUAAgACgCAARAIAAQswkgACgCABALIABBADYCCCAAQgA3AgALIAAgASgCADYCACAAIAEoAgQ2AgQgACABKAIINgIIIAFBADYCCCABQgA3AgALCQAgAEEYEMkDC7IBAQN/IAAoAgQhAiAAKAIAIQQgASgCBCEDA0AgAiAERwRAIANBGGsiAyACQRhrIgIpAwA3AwAgAyACKAIINgIIIAJCADcDACACQQA2AgggAyACKQMQNwMQDAELCyABIAM2AgQgACgCACECIAAgAzYCACABIAI2AgQgACgCBCECIAAgASgCCDYCBCABIAI2AgggACgCCCECIAAgASgCDDYCCCABIAI2AgwgASABKAIENgIACxEAIAAgARAQIgBCADcDECAAC98CAQJ/IwBBEGsiBSQAIAAgASACIAMQ4gUhBgJAIAQgAxAbRQ0AIAUgAygCCDYCCCAFIAMpAgA3AwAgAyAEKAIINgIIIAMgBCkCADcCACAEIAUoAgg2AgggBCAFKQMANwIAIAMgAhAbRQRAIAZBAWohBgwBCyAFIAIoAgg2AgggBSACKQIANwMAIAIgAygCCDYCCCACIAMpAgA3AgAgAyAFKAIINgIIIAMgBSkDADcCACACIAEQG0UEQCAGQQJqIQYMAQsgBSABKAIINgIIIAUgASkCADcDACABIAIoAgg2AgggASACKQIANwIAIAIgBSgCCDYCCCACIAUpAwA3AgAgASAAEBtFBEAgBkEDaiEGDAELIAUgACgCCDYCCCAFIAApAgA3AwAgACABKAIINgIIIAAgASkCADcCACABIAUoAgg2AgggASAFKQMANwIAIAZBBGohBgsgBUEQaiQAIAYLjgIBAn8jAEEQayIEJAAgACABIAIQ4wIhBQJAIAMgAhAbRQ0AIAQgAigCCDYCCCAEIAIpAgA3AwAgAiADKAIINgIIIAIgAykCADcCACADIAQoAgg2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AhAMAAsACwsLCyAEQSBqJAALDQAgACgCACABKAIASQvSAwICfgJ/IwBBIGsiBCQAAkAgAUL///////////8AgyIDQoCAgICAgMCAPH0gA0KAgICAgIDA/8MAfVQEQCABQgSGIABCPIiEIQMgAEL//////////w+DIgBCgYCAgICAgIAIWgRAIANCgYCAgICAgIDAAHwhAgwCCyADQoCAgICAgICAQH0hAiAAQoCAgICAgICACFINASACIANCAYN8IQIMAQsgAFAgA0KAgICAgIDA//8AVCADQoCAgICAgMD//wBRG0UEQCABQgSGIABCPIiEQv////////8Dg0KAgICAgICA/P8AhCECDAELQoCAgICAgID4/wAhAiADQv///////7//wwBWDQBCACECIANCMIinIgVBkfcASQ0AIARBEGogACABQv///////z+DQoCAgICAgMAAhCICIAVBgfcAaxBjIAQgACACQYH4ACAFaxC9AiAEKQMIQgSGIAQpAwAiAEI8iIQhAiAEKQMQIAQpAxiEQgBSrSAAQv//////////D4OEIgBCgYCAgICAgIAIWgRAIAJCAXwhAgwBCyAAQoCAgICAgICACFINACACQgGDIAJ8IQILIARBIGokACACIAFCgICAgICAgICAf4OEvwtEAQF/IwBBEGsiBSQAIAUgASACIAMgBEKAgICAgICAgIB/hRB8IAUpAwAhASAAIAUpAwg3AwggACABNwMAIAVBEGokAAuJAgACQCAABH8gAUH/AE0NAQJAQYzEAigCACgCAEUEQCABQYB/cUGAvwNGDQMMAQsgAUH/D00EQCAAIAFBP3FBgAFyOgABIAAgAUEGdkHAAXI6AABBAg8LIAFBgEBxQYDAA0cgAUGAsANPcUUEQCAAIAFBP3FBgAFyOgACIAAgAUEMdkHgAXI6AAAgACABQQZ2QT9xQYABcjoAAUEDDwsgAUGAgARrQf//P00EQCAAIAFBP3FBgAFyOgADIAAgAUESdkHwAXI6AAAgACABQQZ2QT9xQYABcjoAAiAAIAFBDHZBP3FBgAFyOgABQQQPCwtB8MICQRk2AgBBfwVBAQsPCyAAIAE6AABBAQuRAQEDfyABKAIEIQIgACgCACEEIAAoAgQhAwNAIAMgBEZFBEAgAkEEayICIANBBGsiAygCADYCAAwBCwsgASAC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CyABIAI2AgQgACgCACEDIAAgAjYCACABIAM2AgQgACgCBCECIAAgASgCCDYCBCABIAI2AgggACgCCCECIAAgASgCDDYCCCABIAI2AgwgASABKAIENgIACw4AIAAoAgQgAiABEG0aCysBAX8gACgCBCICBH8gAgUgAEEoEBciAjYCBCACENoEIAAoAgQLIAE3AxALQAEBfyAAKAIERQRAIABBKBAXIgI2AgQgAhDaBAsgAEEIaiICIAEQHCAAKAIEIAAoAgggAiAALAATQQBIGzYCGAvFAQEEfyAAKAIAIQECQCAALQAcBEACQCABBEAgASgCAEGYkgFHDQEgAUEAEOwBCwwCC0GcIkHlyABB4QBBx8UAEAAACyABEAsLIABBEGoQDxoCQCAAQQRqIgIoAghFDQAgAigCBCIAKAIAIgEgAigCACIDKAIENgIEIAMoAgQgATYCACACQQA2AggDQCAAIAJGDQEgACgCBCEEIABBCGoiA0HQAGoQChogA0HEAGoQChogA0E4ahAKGiAAEAsgBCEADAALAAsLOQEBfyAAQcQAaiICIAEQHCAAIAAoAkQgAiAALQBPIgHAQQBIIgIbNgIcIAAgACgCSCABIAIbNgIYC/IBAQZ/IwBBEGsiAyQAIAAoAgBFBEAgAEEUEBciATYCACABEKULCyMAQRBrIgEkAEHoABAXIgJBADYCACABIABBBGoiBEEIajYCCCABQQE2AgwgAkEIaiIFQThqQQBBJBAeGiAFEKYLIAIgBDYCBCACIAAoAgQiBDYCACAEIAI2AgQgACACNgIEIAAgACgCDEEBajYCDCABQQA2AgQgAUEEahB/IAFBEGokACADIAAoAgRBCGo2AgwgAEEQaiADQQxqEHYgACgCACIBIAAoAhA2AhAgASABKAIMQQFqNgIMIAAoAgQhBiADQRBqJAAgBkEIagsVACAAIAEoAgAiACgCHCAAKAIYEEELlQIBCX8jAEGgAWsiAyQAAkAgAEGoAmoiByABEIIBIgYgAEGsAmpGBEBBAhAVRQ0BIANBGGoQEyEKIANBAjYCFCAKQfnSABANIAEQERogA0EUahAUDAELIANBFGoiBSAAQawEaiABEN0CIANBCGogARAQIgghAiMAQTBrIgQkACAEIAIoAgg2AiggBCACKQIANwMgIAJCADcCACACQQA2AgggAEEQaiICIAIpA+gBQgF8NwPoASACIARBIGoiCSAEQQhqIAJB6AFqIAAQ2gYiAhDGCCACQQhqEAoaIAkQChogBEEwaiQAIAgQChogACAGQSBqIAUQqgMgByAGEKkDGiAAIAEgBRCpBSAFEE0LIANBoAFqJAAL7QIBD38jAEEgayIEJAAgAEEQaiEJIABBrARqIQsgAEHQA2ohDCAAQawCaiENIABBqAJqIQ4gACgCqAIhAgNAIAIgDUcEQCAMIAJBEGoiBRDFCARAIAIQwgEhAgUgBCALIAUQ3QIgCRDkCCAJIAUQswMjAEEQayIBJAACQCAJQYgBaiIDKAIAIAMoAgRGDQAgAUEIaiADIAUQ5AIgASgCDCEIIAEoAgghBgNAAkAgAygCDCAIQQN0aiIHKAIAIgogBkYEQCAFIAMoAgAgBygCBEEobGoQIiEPIAEoAgghBiAPRQ0BIAMoAgwgASgCDCIIQQN0aigCACEKCyAGIApHDQIgAyAIEL0IDAILIAEgBkGAAmoiBjYCCCABIAEoAgxBAWoiB0EAIAcgAygCEEcbIgg2AgwMAAsACyABQRBqJAAgACACQSBqIAQQqgMgACAFIAQQqQUgDiACEKkDIQIgBBBNCwwBCwsgBEEgaiQACxcAIAAgARDbASIARQRAEAEACyAAQRhqCxcAIAAgARDbASIARQRAEAEACyAAQRRqC7YBAQJ/IAEQ1gEiAyAAKAIEIAAtAAsiAiACwEEASBtGBH8CfyMAQRBrIgIkACACIAM2AgggAkF/NgIMIANBf0YgABAOIgNBAElyRQRAIAIgAzYCACACIAJBDGogAhDVAygCADYCBAJAIAAQICABIAJBBGogAkEIahDVAygCABDpBSIADQBBfyEAIAIoAgQiASACKAIIIgNJDQAgASADSyEACyACQRBqJAAgAAwBCxBoAAsFQQELRQu5CAIMfwF+IwBBwAFrIgYkACAGIAEoAgg2ArABIAYgASkCADcDqAEgAUIANwIAIAFBADYCCCAGIAEoAhQ2ArwBIAYgASkCDDcCtAEgAUIANwIMIAFBADYCFCAGQZABaiAGQagBaiIIEBAiCUEMaiAIQQxqEBAaIAkhAiMAQTBrIgckACAHQQA2AiwgAkEMaiEFIABB0ANqIgQhACAEQdQAaiEDAn8CQANAIAMoAgAiASAERg0BIAIgARAbBEAgAUHEAGohAyABIQAMAQsCQCACIAEQ+wNFBEAgBSABQQxqEPsDRQ0BCyABQcgAaiEDIAEhAAwBCwsgB0EkaiABQRhqIAdBLGoQ1AcgBy0AKEEARwwBCyAHIAIoAgg2AhAgByACKQIANwMIIAJCADcCACACQQA2AgggByAFKAIINgIcIAcgBSkCADcCFCAFQgA3AgAgBUEANgIIIwBBIGsiAiQAQdQAEBciASAHQQhqIgUoAgg2AgggASAFKQIANwIAIAVCADcCACAFQQA2AgggASAFKAIUNgIUIAEgBSkCDDcCDCAFQgA3AgwgBUEANgIUIAJBATYCHCACQQA2AhQgAiACQRRqNgIYIAIgAikCGDcDCCABQRhqENMHIQsgAikCCCIOpyEDIAMgDkIgiKdBAnRqIQwjAEEQayIKJAADQCADIAxHBEAgCkEIaiALIAMQ1AcgA0EEaiEDDAELCyAKQRBqJAAgAUEANgJQIAFCADcCSCABQUBrQgA3AgAgAUIANwI4IAFBOGogAUEMahCDASABIAQ2AkggASAENgJMIAFBATYCUCABIAQ2AkQgAkEgaiQAIAUQZhogASAANgJMAkAgACAERgRAIAQgATYCVAwBCyAAQcQAQcgAIAEgABAbG2ogATYCACAAIAQQ8gELIAFBATYCUANAAkACQAJAIAEoAkwiAyAERg0AIAMoAlBBAUcNACADKAJMIgIoAkQiACADRgRAAkAgAigCSCIAIARGDQAgACgCUEEBRw0ADAMLAkAgAygCSCABRwRAIAMhAAwBCyAEIAMQnAMgAygCTCIAKAJMIQIgAyEBCyAAQQA2AlAgAkEBNgJQIAQgAhCbAwwECwJAIAAgBEYNACAAKAJQQQFHDQAMAgsCQCADKAJEIAFHBEAgAyEADAELIAQgAxCbAyADKAJMIgAoAkwhAiADIQELIABBADYCUCACQQE2AlAgBCACEJwDDAMLIAQoAlRBADYCUAwBCyAAQQA2AlAgA0EANgJQIAJBATYCUCACIQEMAQsLIAQgBCgCWEEBajYCWEEBCyEAIAdBMGokACAJEGYaAkAgAEUNAEEBEBVFDQAgBkEIahATIQ0gBkEBNgIEIA1Bt8kAEA0gCBARQaTZABANIAZBtAFqEBFBhtEAEA0aIAZBBGoQFAsgBkGoAWoQZhogBkHAAWokAAsYACAAIAEQECIAQQQ6ABAgAEEAOgAYIAALSwAgACABKQMANwMAIAAgASkDCDcDCCAAIAIoAgg2AhggACACKQIANwIQIAJCADcCACACQQA2AgggAEEBOgAgIABBKGogAxA4GiAACz4BAn8gACgCBCECA0AgAiAAKAIIIgFHBEAgACABQZgBayIBNgIIIAEQ+QYaDAELCyAAKAIAIgAEQCAAEAsLC7cBAQN/IAAoAgQhAyAAKAIAIQQgASgCBCECA0AgAyAERwRAIAJBmAFrIgIgA0GYAWsiAykDADcDACACIAMpAwg3AwggAkEQaiADQRBqEP8DGiACQShqIANBKGoQOBoMAQsLIAEgAjYCBCAAKAIAIQMgACACNgIAIAEgAzYCBCAAKAIEIQIgACABKAIINgIEIAEgAjYCCCAAKAIIIQIgACABKAIMNgIIIAEgAjYCDCABIAEoAgQ2AgALFQAgACABIAIgA0GYAUHs0LwNELEBCxsAIAAgAUG1qN4GQZgBQevQvA1B7NC8DRCTAQs5AQF+IAAgASkDADcDACAAIAEpAwg3AwggAikDACEEIABBADoAICAAIAQ3AxAgAEEoaiADEDgaIAALDQAgACABQbzcABDECQsKACABIAIQ/gMaCxEAIAAgAUHg3ABBqNwAEN0JC+IDAQZ/IwBBIGsiByQAIAAoAgAiAyABIANrQfAAbUHwAGxqIQUCQCAAKAIEIgEgACgCCEkEQCABIAVGBEAgACAAKAIEIAIQ+wRB8ABqNgIEDAILIAAgBSABIAVB8ABqEJ4JIAUgAiAAKAIEIAJLIAIgBU9xQfAAbGoQ9AYMAQsgB0EMaiAAIAEgA2tB8ABtQQFqENsFIAUgACgCAGtB8ABtIABBCGoQiQMhASMAQSBrIggkAAJAIAEoAggiAyABKAIMRw0AIAEoAgQiBCABKAIAIgZLBEAgASAEIAMgBCAEIAZrQfAAbUEBakF+bUHwAGwiBmoQyQQiAzYCCCABIAEoAgQgBmo2AgQMAQsgCEEMakEBIAMgBmtB8ABtQQF0IAMgBkYbIgMgA0ECdiABKAIQEIkDIgMgASgCBCABKAIIEN8KIAEoAgAhBCABIAMoAgA2AgAgAyAENgIAIAEoAgQhBCABIAMoAgQ2AgQgAyAENgIEIAEoAgghBCABIAMoAgg2AgggAyAENgIIIAEoAgwhBCABIAMoAgw2AgwgAyAENgIMIAMQhQMgASgCCCEDCyADIAIQ+wQaIAEgASgCCEHwAGo2AgggCEEgaiQAIAAgASAFEJIJIAEQhQMLIAdBIGokAAviAgICfwV+IwBBEGsiAiQAAn8gACkDCCIEIAApAwBaBEAgAiABEPsBAkAgAC0ASARAIAAgAikDADcDOCAAQUBrIAIpAwg3AwAMAQsgAEE4aiIBIAIpAwA3AwAgASACKQMINwMIIABBAToASAtBAgwBCwJAAkACQCABLQAwDgUCAQEBAAELIAAgARCKASIEIAApAwAgACkDCCIHfSIGIAQgBlQbIgU3AxggBSABKQMAfEIBfSEFIAEpAwghCCAALQAwRQRAIABBAToAMAsgACAFNwMgIAAgCDcDKEECIAQgBlYNAhogAEIANwMYIAAgBCAHfDcDCAwBCyAAIARCAXw3AwggAiABEPsBIAAtADAEQCAAIAIpAwA3AyAgACACKQMINwMoDAELIABBIGoiASACKQMANwMAIAEgAikDCDcDCCAAQQE6ADALIAAgACkDEEIBfDcDEEEACyEDIAJBEGokACADC+IBAgV/An4CQCAAKAIAIgIgACgCBCIDRwRAA0AgByADIAJrQcgAba0iCFQhAyAHIAhaDQICQAJAIAEgAiAHpyIEQcgAbCIFahD4BkEBaw4CAAQBCyAAKAIAIAVqIAEQ9wYNAwsgACgCECAAKAIMIgJrQfAAba0gB1YEQCABIAIgBEHwAGxqEPYGQQJGDQMLIAdCAXwhByAAKAIAIQIgACgCBCEDDAALAAsgACgCECECIAAoAgwhAANAIAAgAkchAyAAIAJGDQEgASAAEPYGIQYgAEHwAGohACAGQQJHDQALCyADC0ACAX8CfkEBIQIgACkDCCABKQNAfCIDIAApAwBUBH8gASkDOCEEIAAgAzcDCCAAIAQgACkDEHw3AxBBAAVBAQsLEwAgAEEoahAvGiAAQRBqECUgAAugAQECfwJAIAAoAgQgACgCCEkEQCAAIAAoAgQgASACIAMQ8QZBmAFqNgIEDAELIwBBIGsiBSQAIAVBDGogACAAKAIEIAAoAgBrQZgBbUEBahDwBiAAKAIEIAAoAgBrQZgBbSAAQQhqEO8GIgQoAgggASACIAMQ8QYaIAQgBCgCCEGYAWo2AgggACAEEO4GIAQQ7QYgBUEgaiQACyAAKAIEGgsLACAAIAAgARDqCwuvDQIMfwJ+IAAtAJgBRQRAIwBB4AFrIgQkACAEQdABaiABEBkCQCAELQDYAUUNACAAQQRqIQMgAEHEAGohCwNAIAQpA9ABIBBWBEAgBEHAAWogARBSAkAgBC0AzAFFBEBBASEFDAELIARByABqIgUgACgCACABIAIQhAcgBC0AuAEEfyAELQB4QQFGBEAgBEE4aiALIAUQYAsgACgCACAEQcgAaiIHEJsIIwBBEGsiCiQAIARBwAFqIggQPiIPp0H/AXFBgAJyIQkgDyADMQAeiKchBQNAAkACQAJAIAMoAgwgBUEDdGoiBigCACIMIAlGBEAgCCADKAIAIAYoAgRBB3RqECJFDQIgAygCACEFIAYoAgQhCSAEQQA6ADwgBCAFIAlBB3RqNgI4DAELIAkgDE0NASAKIAg2AgwgCiAHNgIIIwBBEGsiCCQAAkAgAygCBCADKAIISQRAIAMgAygCBCAKKAIMIAooAggQhgdBgAFqNgIEDAELIwBBIGsiByQAIAdBDGogAyADKAIEIAMoAgBrQQd1QQFqENkCIAMoAgQgAygCAGtBB3UgA0EIahDgASIGKAIIIAooAgwgCigCCBCGBxogBiAGKAIIQYABajYCCCADIAYQmgggBhCZCCAHQSBqJAALIAMoAgQaIAMoAgQgAygCAGtBB3UiB0EBayEGAkAgAygCFCAHSQRAIAMQ5QcMAQsgCCAGNgIMIAggCTYCCCAIIAgpAgg3AwAgAyAIIAUQMAsgAygCACEFIARBAToAPCAEIAUgBkEHdGo2AjggCEEQaiQACyAKQRBqJAAMAQsgBUEBaiIFQQAgBSADKAIQRxshBSAJQYACaiEJDAELC0EABUEBCyEFIARByABqEJ4FCyAQQgF8IRAgBEHAAWoQORogBUUNAQwCCwsCQCABKAIERQ0AIARByABqIAEQGSAELQBQRQ0BIABBJGohA0IAIRADQAJ/AkAgBCkDSCAQVgRAIARBwAFqIgggARBSIAQtAMwBRQ0BIARBOGogARAZIAQtAEBFDQEgBEEoaiIFIAEQGSAELQBARQ0BIAIgBRDIAiEFIAQgBCkDODcDGCAEIAUpAwAiDzcDICAAKAIAIA8Q0gIgBEEAOgAXIARBGGohByAEQRdqIQsjAEEQayIKJAAgCBA+Ig+nQf8BcUGAAnIhCSAPIAMxAB6IpyEFA0ACQAJAAkAgAygCDCAFQQN0aiIGKAIAIgwgCUYEQCAIIAMoAgAgBigCBEEobGoQIkUNAiADKAIAIQUgBigCBCEJIARBADoAECAEIAUgCUEobGo2AgwMAQsgCSAMTQ0BIAogCDYCDCAKIAs2AgggCiAHNgIEIwBBEGsiCCQAAkAgAygCBCIGIAMoAghJBEAgCikCBCEPIAYgCigCDCIHKQIANwIAIAYgBygCCDYCCCAHQgA3AgAgB0EANgIIIAYgD6ciBykDCDcDGCAGIAcpAwA3AxAgBiAPQiCIpy0AADoAICADIAZBKGo2AgQMAQsjAEEgayIMJAAgDEEMaiADIAMoAgQgAygCAGtBKG1BAWoQ+gEgAygCBCADKAIAa0EobSADQQhqEMEBIQYgCikCBCEPIAYoAggiByAKKAIMIgspAgA3AgAgByALKAIINgIIIAtCADcCACALQQA2AgggByAPpyILKQMINwMYIAcgCykDADcDECAHIA9CIIinLQAAOgAgIAYgBigCCEEoajYCCCADIAYQmAggBhCXCCAMQSBqJAAgAygCBBoLIAMoAgQgAygCAGtBKG0iB0EBayEGAkAgAygCFCAHSQRAIAMQ4QcMAQsgCCAGNgIMIAggCTYCCCAIIAgpAgg3AwAgAyAIIAUQMAsgAygCACEFIARBAToAECAEIAUgBkEobGo2AgwgCEEQaiQACyAKQRBqJAAMAQsgBUEBaiIFQQAgBSADKAIQRxshBSAJQYACaiEJDAELC0EADAILIAAQhwcMAwtBAQshDiAQQgF8IRAgBEHAAWoQORogDkUNAAsMAQtBASENCyAEQeABaiQAIA0PCyAAEHUhBCMAQZABayIAJAAgAEGAAWogARAZAkAgAC0AiAFFDQAgBEHYAGohAwJAA0AgECAAKQOAAVoNASAAQQhqIgUgBCgCACABIAIQhAcgAC0AeARAIAAtADhFBEAgAyAFEJ8FCyAEIAQpA0BCACAELQBQG0IAIABBCGoiBRDyBxogEEIBfCEQIAUQngUMAQsLIABBCGoQngUMAQsgBBDpB0EBIQkLIABBkAFqJAAgCQvQBQEJfyMAQTBrIgkkACAJQQA2AiggCUIANwMgIAkQTiEKIAEoAmggASgCZGtB2AFtrSAJQSBqEBggASgCaCENIAEoAmQhCANAIAggDUYEQCAEIAlBIGoQGCAAQQA2AgggAEIANwIAIAIoAgQgAigCAGtBBXWtIAAQGCACKAIEIQMgAigCACEIA0AgAyAIRgRAAkAgCigCBCAKKAIAa0EDda0gABAYIAooAgQhAiAKKAIAIQgDQCACIAhGDQEgCCkDACIEIAAQGCABIASnELYBIAAQSCAIQQhqIQgMAAsACwUgCCAAEOUCIAhBIGohCAwBCwsgACAJQSBqIgAQogIaIAoQTSAAEAoaIAlBMGokAAUgCCkDACAJQSBqIgcQGCAIKQMIIAcQGCAIQRBqIgUtAMABBEAgBSkDoAEgBxAYIAUpA6gBIAcQGCAFQbABaiAHEEgLAkAgBS0AmAFFBEBCACAHEBgjAEEQayILJAAgBSgCCCAFKAIEa0EHda0gBxAYIAUoAgghDCAFKAIEIQYDQCAGIAxGBEACQCADBEAgBSgCKCAFKAIka0Eoba0gBxAYIAUoAighDCAFKAIkIQYDQCAGIAxGDQIgBiAHEEggBikDECAHEBggBkEYaiIFKQMAIAcQGCALQQhqIAogBRD/AiAGQShqIQYMAAsAC0IAIAcQGAsgC0EQaiQABSAGIAcQSCAGQRBqIAcgChCFByAGQYABaiEGDAELCwwBC0IBIAcQGCAFEHUhBiMAQRBrIgUkAAJAIAYtAFBFBEBCACAHEBgMAQsgBUEANgIMIAVCADcCBCAGQQhqIAVBBGogAxClBSAFKAIIIAUoAgRrQQJ1rSAHEBggBSgCCCELIAUoAgQhBgNAIAYgC0YEQCAFQQRqEA8aBSAGKAIAIAcgChCFByAGQQRqIQYMAQsLCyAFQRBqJAALIAhB2AFqIQgMAQsLCwsAIAAgACABEL8LCwsAIAAgACABEMELCwsAIAAgACABEMMLCwsAIAAgACABEMYLCwsAIAAgACABEMgLCwsAIAAgACABEMwLC/cLAwR/Bn4BfCMAQfACayIEJAAgBEHgAmogAhAZAkAgBC0A6AJFBEAgAEEAOgBwIABBADoAAAwBCyAEQdACaiACEBkgBC0A6AJFBEAgAEEAOgBwIABBADoAAAwBCyADIARB0AJqEMgCKQMAIQsgBCkD4AIhCiAEQcACaiACEBkgBC0AyAJFBEAgAEEAOgBwIABBADoAAAwBCyAEQbACaiACEBkgBC0AuAJFBEAgAEEAOgBwIABBADoAAAwBCyAEQQA6AKgCIARCADcDmAICQAJAAkAgBCkDsAIiCEIHWARAAkACQAJAAkACQAJAAkACQAJAAkAgCKdBAWsOBwECAwQFBgcACyAEQQhqIgUgAhCyASAELQAQBEAgBEGYAmogBRCDBwwICyAAQQA6AHAgAEEAOgAADAwLIARBCGoiBSACEBkgBC0AEARAIARBmAJqIAUQggcMBwsgAEEAOgBwIABBADoAAAwLCyACKAIEIgVBCE8EQCACKAIAIgYrAAAhDiACIAVBCGs2AgQgAiAGQQhqNgIAIARBAToAECAEIA45AwggBEGYAmogBEEIahCBBwwGCyAAQQA6AHAgAEEAOgAADAoLIARBCGogAhAZIAQtABAEQCAEIAQpAwhCAFI6AOgBIARBmAJqIARB6AFqEIAHDAULIABBADoAcCAAQQA6AAAMCQsgBEEIaiACEFICQCAELQAUIgVFBEAgAEEAOgBwIABBADoAAAwBCyAEQZgCaiAEQQhqEP8GCyAEQQhqEDkaIAUNAwwICyAEQQhqIAIQsgEgBC0AEARAIAQgBCkDCCIINwPwASAEIAg3A+gBIARBmAJqIARB6AFqEP4GDAMLIABBADoAcCAAQQA6AAAMBwsgBEEIaiACEBkgAEEAOgBwIABBADoAAAwGCyACKAIEIgVFDQEgAigCACIGLQAAIQcgAiAFQQFrNgIEIAIgBkEBajYCACAEQQE6AAkgBCAHOgAIIARBmAJqIgUgBSAEQQhqELsLCyAEQegBaiAEKQPAAiAEQdABaiAEQZgCahB0IgUQuAkgBRA3IAQtAJACDQIgAEEAOgBwIABBADoAAAwDCyAAQQA6AHAgAEEAOgAADAMLIABBADoAcCAAQQA6AAAMAgsgBEHAAWogAhAZIAQtAMgBRQRAIABBADoAcCAAQQA6AAAMAQsgBEEANgKwASAEQQA6ALgBIARCADcDqAECQAJAAkACQCAEKQPAAVAEQCAEQQhqIAIQUgJAIAQtABQiBUUEQCAAQQA6AHAgAEEAOgAADAELIARBqAFqIgYgBiAEQQhqEKwLCyAEQQhqEDkaIAUNAQwECyAEQQhqIAIQGSAELQAQRQRAIABBADoAcCAAQQA6AAAMBAsgBEGYAWogAhAZIAQtAKABRQ0BIAQpAwhQBH5CAAUgAyAEQZgBahDIAikDACEJIAQpAwgLIQggBCAJNwOQASAEIAg3A4gBIARBqAFqIARBiAFqEMYDCyAEQZgBaiACEBkgBC0AoAFFBEAgAEEAOgBwIABBADoAAAwDCyAEKQOYASEMIARBiAFqIAIQGSAELQCQAUUEQCAAQQA6AHAgAEEAOgAADAMLAn8gBCkDiAFCAVIEQEIAIQhBAAwBCyAEQQhqIAIQGSAELQAQRQRAIABBADoAcCAAQQA6AAAMBAsgBEH4AGogAhAZIAQtAIABRQ0CAn4gBCkDCFAEQEIAIQlCAAwBCyADIARB+ABqEMgCKQMAIQkgBCkDCAsiCEL/AYMhDSAIQoB+gyEIQQELIQIgASkDiAEgClQEQCABIAo3A4gBCyAEIAs3AxAgBCAKNwMIIARBIGogBEHwAWoQeBogBEFAayAEQagBahDCAyAEIAI6AHAgBCAJNwNoIAQgCCANhDcDYCAEIAxCAFI6AFggACAEQQhqIgAQOEEBOgBwIAAQLxoMAgsgAEEAOgBwIABBADoAAAwBCyAAQQA6AHAgAEEAOgAACyAEQagBahDEAQsgBEHoAWoQtwkLIARBmAJqEDcLIARB8AJqJAALuAMCAn8BfiMAQRBrIgQkACAAKQMAIAEQGCAAKQMIIAEQGCAEQQhqIAIgAEEIahD/AiAAQRBqEKUJIAEQGCAAQRhqIQMCQAJAAkACQAJAAkAgAC0AMEECaw4DAAECBAtC/////w8gADEAKCIFIAVC/wFRGyABEBgCQAJAAkACQAJAAkACQCAALQAoDggAAQMECQUCBgsLIAMpAwAgARDjAQwKCyADKQMAIAEQGAwJC0IAIAEQGAwICyADKwMAIAEQowkMBwsgAzEAACABEBgMBgsgACkDICABEOMBDAULIAEgAywAABCdAQwEC0IAIAEQGCADKQMAIAEQ4wEMAwtCBCABEBgLIAMgARBIDAELQgEgARAYQgAgARAYCyAAQThqIQMCQCAALQBIRQRAQgAgARAYIAMgARBIDAELQgEgARAYIAMQaikDACABEBggAxBqKQMIIAEQGCAEQQhqIAIgAxBqQQhqEP8CCyAAMQBQIAEQGCAAMQBoIAEQGAJAIAAtAGhFDQAgACkDWCABEBggAEHgAGoiAykDACABEBggACkDWFANACAEQQhqIAIgAxD/AgsgBEEQaiQAC1gBAX8jAEEQayIDJAAgAyACNgIIIAMgATYCDCAAIAMoAgwiASkCADcCACAAIAEoAgg2AgggAUIANwIAIAFBADYCCCAAQRBqIAMoAggQOBogA0EQaiQAIAALLQEBfyAAKAIoIQEgACgCJCEAA0AgACABRwRAIABBAToAICAAQShqIQAMAQsLCz4BAn8gACgCBCECA0AgAiAAKAIIIgFHBEAgACABQYABayIBNgIIIAEQhQEaDAELCyAAKAIAIgAEQCAAEAsLC48BAQN/IAAoAgQhAyAAKAIAIQQgASgCBCECA0AgAyAERwRAIAJBgAFrIANBgAFrIgMQkgEhAgwBCwsgASACNgIEIAAoAgAhAyAAIAI2AgAgASADNgIEIAAoAgQhAiAAIAEoAgg2AgQgASACNgIIIAAoAgghAiAAIAEoAgw2AgggASACNgIMIAEgASgCBDYCAAsRACAALQCAAQRAIAAQhQEaCwuMAQECfyAAKAIEIAAoAghJBEAgACAAKAIEIAEQkgFBgAFqNgIEDwsjAEEgayIDJAAgA0EMaiAAIAAoAgQgACgCAGtBB3VBAWoQ2QIgACgCBCAAKAIAa0EHdSAAQQhqEOABIgIoAgggARCSARogAiACKAIIQYABajYCCCAAIAIQiQcgAhCIByADQSBqJAALEgAgACABKAIAIAEoAgQQQSAAC2EBAn8jAEEgayICJAACQCABIAAoAgggACgCACIDa0EHdUsEQCABQYCAgBBPDQEgACACQQxqIAEgACgCBCADa0EHdSAAQQhqEOABIgAQiQcgABCIBwsgAkEgaiQADwsQAQALmQMCB38CfiMAQcABayICJAACQCABKAIEIgRBCE0EQCAAQQA6ADggAEEAOgAADAELIAEoAgAiAygAAEGF36maeEcEQEEDEBUEQCACQThqEBMhByACQQM2AjQgB0GeMBANGiACQTRqEBQLIABBADoAOCAAQQA6AAAMAQsgAiADKAAEIgU2AjAgAy0ACCEGIAEgBEEJazYCBCABIANBCWo2AgAgAkEgaiABEBkgAi0AKEUEQCAAQQA6ADggAEEAOgAADAELIAIpAyAiCSABNQIEIgpWBEAgAEEAOgA4IABBADoAAAwBCyACIANBCGogCSAErSAKfSIKfEIIfRC/AyAAAn8gAigCMCACKAAARwRAQQMQFQRAIAJBOGoQEyEIIAJBAzYCNCAIQbowEA0aIAJBNGoQFAsgAEEAOgAAQQAMAQsgAikDICEJIAAgAikAADcAGCAAIAIpABg3ADAgACACKQAQNwAoIAAgAikACDcAICAAIAo3AxAgACAJNwMIIAAgBjoABCAAIAU2AgBBAQs6ADgLIAJBwAFqJAALWQEBfyMAQRBrIgMkACADIAI2AgggAyABNgIMIAAgAygCDCIBKQIANwIAIAAgASgCCDYCCCABQgA3AgAgAUEANgIIIABBEGogAygCCBCVAxogA0EQaiQAIAALWQEBfyMAQRBrIgMkACADIAI2AgggAyABNgIMIAAgAygCDCIBKQIANwIAIAAgASgCCDYCCCABQgA3AgAgAUEANgIIIABBEGogAygCCBCDBRogA0EQaiQAIAALOwAgACgCFEGAgICAeEYEQCAAIAAoAgRBMGsQkgcQGgALIAAgAC0AHkEBazoAHiAAEEwgABAxIAAQvAgLKgEBfyAAKAIEIQIDQCABIAJGRQRAIAJBMGsQkwchAgwBCwsgACABNgIECw4AIABBEGoQvQEgABAKCxcAIAIoAgAhACACQQA2AgAgASAANgIACz0BAn8gACgCBCECA0AgAiAAKAIIIgFHBEAgACABQTBrIgE2AgggARCTBxoMAQsLIAAoAgAiAARAIAAQCwsLtgEBA38gACgCBCECIAAoAgAhAyABKAIEIQQDQCACIANHBEAgBEEwayIEIAJBMGsiAikDADcDACAEIAIoAgg2AgggAkIANwMAIAJBADYCCCAEQRBqIAJBEGoQlQMaDAELCyABIAQ2AgQgACgCACEDIAAgBDYCACABIAM2AgQgACgCBCEDIAAgASgCCDYCBCABIAM2AgggACgCCCEDIAAgASgCDDYCCCABIAM2AgwgASABKAIENgIACxcAIAAgARAQIgBBGGogAkEIahCSAiAACw0AIABBGGoQfSAAEAoLWAEBfgJ/IAEtADAEQCAAIAApAwAgACkDCH03AxggARCKASECIAAgATYCICAAIAIgACkDCHwiAjcDCEECIAIgACkDAFYNARoLIAAgACkDEEIBfDcDEEEACwviAQIFfwJ+AkAgACgCACICIAAoAgQiA0cEQANAIAcgAyACa0HIAG2tIghUIQMgByAIWg0CAkACQCABIAIgB6ciBEHIAGwiBWoQ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BCADQRBqIgwQxwEgDBA3IAcQChoMAQsgA0EANgIYIANBADYCSCADQgA3AxAgA0EEOgAgIANCADcDQCAEIANBEGoiBRDHASAFEDcgA0FAaxAKGiAqpyEFCyADIAMoAlggBWo2AlggAyADKAJcIAVrNgJcDAQLIAMoAlwhBSADQUBrIANB2ABqELIBAkAgAy0ASARAICogBSADKAJca61RDQELIAlBADoADCAJQQA6AAAMGQsgA0EFOgAgIAMgAykDQCIqNwMYIAMgKjcDECAEIANBEGoiBRDHASAFEDcMAwsgKkIBUgRAIAlBADoADCAJQQA6AAAMGAsgAygCXCIFBEAgAygCWCIHLQAAIQwgAyAFQQFrNgJcIAMgB0EBajYCWCADQQc6ACAgAyAMOgAQIAQgA0EQaiIFEMcBIAUQNwwDCyAJQQA6AAwgCUEAOgAADBcLIAlBADoADCAJQQA6AAAMFgsgA0EGOgAgIAQgA0EQaiIFEMcBIAUQNwsgAkEIaiECDAELCyAGKAKEASAGKAKAAWtBA3UhAiMAQSBrIgUkACACIAZBsAFqIgQoAgggBCgCACIIa0EYbUsEQCACQavVqtUATw0XIAQgBUEMaiACIAQoAgQgCGtBGG0gBEEIahDGASICELsJIAIQugkLIAVBIGokACAGKAKEASEMIAYoAoABIQJCACEqAkADQCACIAxGDQEgAikDACErIANBADoAICADQQA6ABACQCArUEUEQCAqIAYoApwBIAYoApgBIgVrQQN1rVoNASAqIAYoApABIAYoAowBIghrQQN1rVoNASAFICqnQQN0IgdqKQMAISsgByAIaikDACEsIANBAToAICADICw3AxggAyArNwMQICpCAXwhKgsCQCAEKAIEIgUgBCgCCEcEQCAFIAMpAxA3AwAgBSADKQMgNwMQIAUgAykDGDcDCCAEIAVBGGo2AgQMAQsjAEEgayIHJAAgB0EMaiAEIAQoAgQgBCgCAGtBGG1BAWoQ5QEgBCgCBCAEKAIAa0EYbSAEQQhqEMYBIgUoAggiCCADKQMQNwMAIAggAykDIDcDECAIIAMpAxg3AwggBSAIQRhqNgIIIAQgBRC7CSAFELoJIAdBIGokAAsgAkEIaiECDAELCyAJQQA6AAwgCUEAOgAADBMLQgAhKiMAQZACayICJAACQAJAAkAgBigC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ADoAAAwOCyADIAMpA0g3AwAgIyADEFcgAykDKCEqIAMoAhQhAgwACwALIANBADoAMEIAISogA0IANwMoIANBADoAICADQQA6ABggAyAErSArQiCGhDcDECArpyECA0AgAkUgKlBxDQsgA0FAayADQRBqEKgCAkAgAy0AQARAIAMtAFANAQsgCUEAOgAMIAlBADoAAAwNCyAiIBMQgAIgAykDKCEqIAMoAhQhAgwACwALIANBADoAMEIAISogA0IANwMoIANBADoAICADQQA6ABggAyAErSArQiCGhDcDECArpyECA0AgAkUgKlBxDQogA0FAayADQRBqEKgCAkAgAy0AQARAIAMtAFANAQsgCUEAOgAMIAlBADoAAAwMCyAhIBMQgAIgAykDKCEqIAMoAhQhAgwACwALIAMgAjYCXCADIAQ2AlgMCAsgA0EAOgAwQgAhKiADQgA3AyggA0EAOgAgIANBADoAGCADIAStICtCIIaENwMQICunIQIDQCACRSAqUHENCCADQUBrIANBEGoQqAICQCADLQBABEAgAy0AUA0BCyAJQQA6AAwgCUEAOgAADAoLICAgExCAAiADKQMoISogAygCFCECDAALAAsgA0EAOgAwQgAhKiADQgA3AyggA0EAOgAgIANBADoAGCADIAStICtCIIaENwMQICunIQIDQCACRSAqUHENByADQUBrIANBEGoQqAICQCADLQBABEAgAy0AUA0BCyAJQQA6AAwgCUEAOgAADAkLIB8gExCAAiADKQMoISogAygCFCECDAALAAtCACEqIANCADcDICADQQE6ABggAyAErSArQiCGhDcDECArpyECA0AgAkUgKlBxDQYgA0FAayEFIwBBEGsiBCQAIANBEGoiAikDECEsAkADQCAsUARAIAQgAhAZIAQtAAgEQCACIAQpAwAiLDcDECACIAItAAhBAXM6AAgMAgUgBUEAOwAADAMLAAsLIAIgLEIBfTcDECAFQQE6AAAgBSACLQAIOgABCyAEQRBqJAAgAy0AQARAIAYoAlQiAiAGKAJYQQV0RgRAAn8gAkEBaiICQQBOBEAgBigCWCIEQQV0Qf7///8DTQR/IARBBnQiBCACQR9qQWBxIgIgAiAESRsFQf////8HCwwBCwwOCyECIwBBIGsiDiQAIAIgBigCWEEFdEsEQCACQQBIIgQN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dGoiBSEIA0AgBCAIRwRAIAEgCCkDADcDACABIAgpAwg3AwggAUEQaiEBIAhBEGohCAwBCwsgAyABNgIEIAxBAEwNAgsgAygCBCIEIQEgAiAEIAIgB0EEdGpraiIIIQcDQCAHIAlPBEAgAyABNgIEIwBBEGsiAyQAIAQhASAIIQQDQCACIARHBEAgAUEQayIBIARBEGsiBCkDADcDACABIAQpAwg3AwgMAQsLIAMgATYCDCADIAg2AgggAygCDBogA0EQaiQABSABIAcpAwA3AwAgASAHKQMINwMIIAFBEGohASAHQRBqIQcMAQsLIwBBEGsiASQAA0AgBSAGRwRAIAIgBikDADcDACACIAYpAwg3AwggAkEQaiECIAZBEGohBgwBCwsgASACNgIMIAEgBTYCCCABKAIMGiABQRBqJAAMAQsgC0EMaiADIAkgAygCAGtBBHUgB2oQkwMgAiADKAIAa0EEdSADQQhqEMYCIgEoAggiBSAEIAZraiEEA0AgBCAFRwRAIAUgBikDADcDACAFIAYpAwg3AwggBkEQaiEGIAVBEGohBQwBCwsgASAENgIIIAMiBCgCACEJIAEoAgQhBSACIQMDQCADIAlHBEAgBUEQayIFIANBEGsiAykDADcDACAFIAMpAwg3AwgMAQsLIAEgBTYCBCABKAIIIQMgBCgCBCEFA0AgAiAFRwRAIAMgAikDADcDACADIAIpAwg3AwggA0EQaiEDIAJBEGohAgwBCwsgASADNgIIIAQoAgAhAiAEIAEoAgQ2AgAgASACNgIEIAQoAgQhAiAEIAEoAgg2AgQgASACNgIIIAQoAgghAiAEIAEoAgw2AgggASACNgIMIAEgASgCBDYCACABEI0DCyALQSBqJAAgACgCWCECIABBADYCWCAKIAI2AgQgACgCXCECIABBADYCXCAKIAI2AgggACgCYCECIABBADYCYCAKIAI2AgwgCkEEahAPGiAKQRBqJAALMwEBfyABQavVqtUATwRAEAEACyAAIAEQrAkiAjYCBCAAIAI2AgAgACACIAFBGGxqNgIIC0YBAn8gAEEANgIIIABCADcCACABKAIEIgIgASgCACIDRwRAIAAgAiADa0EYbSICEOoHIAAgASgCACABKAIEIAIQnQULIAAL9AICBn8BfiAAKAIAIgQgACgCBEcEfwJAIAEQPiII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ACAAQaWSySRPBEAQGgALIABBOGwQFws9AQJ/IAAoAgQhAgNAIAIgACgCCCIBRwRAIAAgAUE4azYCCCABQRhrEAoaDAELCyAAKAIAIgAEQCAAEAsLCxAAIAAgACgCBEHwAGsQwAQL2gEBA38gACgCBCECIAAoAgAhBCABKAIEIQMDQCACIARHBEAgA0E4ayIDIAJBOGsiAikDADcDACADIAIpAxg3AxggAyACKQMQNwMQIAMgAikDCDcDCCADIAIoAig2AiggAyACKQMgNwMgIAJBADYCKCACQgA3AyAgAyACKQMwNwMwDAELCyABIAM2AgQgACgCACECIAAgAzYCACABIAI2AgQgACgCBCECIAAgASgCCDYCBCABIAI2AgggACgCCCECIAAgASgCDDYCCCABIAI2AgwgASABKAIENgIACwkAIABBKBDJAwvKAQEDfyABKAIEIQMgACgCACEEIAAoAgQhAgNAIAIgBEZFBEAgA0EoayIDIAJBKGsiAikDADcDACADIAJBCGooAgA2AgggAkIANwMAIAJBADYCCCADIAIpAyA3AyAgAyACKQMYNwMYIAMgAikDEDcDEAwBCwsgASADNgIEIAAoAgAhAiAAIAM2AgAgASACNgIEIAAoAgQhAiAAIAEoAgg2AgQgASACNgIIIAAoAgghAiAAIAEoAgw2AgggASACNgIMIAEgASgCBDYCAAs+AQJ/IAAoAgQhAgNAIAIgACgCCCIBRwRAIAAgAUGAAWsiATYCCCABEKAIGgwBCwsgACgCACIABEAgABALCwu3AQEDfyAAKAIEIQIgACgCACEDIAEoAgQhBANAIAIgA0cEQCAEQYABayIEIAJBgAFrIgIpAwA3AwAgBCACKAIINgIIIAJCADcDACACQQA2AgggBEEQaiACQRBqEDgaDAELCyABIAQ2AgQgACgCACEDIAAgBDYCACABIAM2AgQgACgCBCEDIAAgASgCCDYCBCABIAM2AgggACgCCCEDIAAgASgCDDYCCCABIAM2AgwgASABKAIENgIAC0EAIAAgASkDCBDSAiABLQBIQQFGBEAgACABQUBrKQMAENICCwJAIAEtAGhFDQAgASkDWFANACAAIAEpA2AQ0gILC5MBACMAQRBrIgAkACACKAIAIQIgACADKAIINgIIIAAgAykCADcDACAAIAI2AgwjAEEwayICJAAgASAAKAIMIgMpAwA3AwAgASADKQMINwMIIAAoAgAoAgAhAyACQQA6ACggAkEAOgAIIAFBEGogAyACQQhqIgEgACgCCCgCABCrBSABEJAEIAJBMGokACAAQRBqJAALEAAgACAAKAIEQdgBaxCrCAsLACAAIAFBKBCqBAvxAQIBfwF9AkAgACABRg0AIAAQTCAAKAIABEAgABCuBSAAKAIAEAsgAEEANgIIIABCADcCAAsgACABKAIANgIAIAAgASgCBDYCBCAAIAEoAgg2AgggAUEANgIIIAFCADcCACABEK4FIAEoAgwhAiABQQA2AgwgACACNgIMIAEoAhAhAiABQQA2AhAgACACNgIQIAEoAhQhAiABQQA2AhQgACACNgIUIAEtAB4hAiABQT46AB4gACACOgAeIAEqAhghAyABQc2Zs/oDNgIYIAAgAzgCGCABEDEgASgCDCIARQ0AIABBACABKAIQQQN0EB4aCwsOACAAQRBqEC8aIAAQCgsrAQF/IAAoAgQhAgNAIAEgAkZFBEAgAkGAAWsQoAghAgwBCwsgACABNgIEC/EBAgF/AX0CQCAAIAFGDQAgABBMIAAoAgAEQCAAEK8FIAAoAgAQCyAAQQA2AgggAEIANwIACyAAIAEoAgA2AgAgACABKAIENgIEIAAgASgCCDYCCCABQQA2AgggAUIANwIAIAEQrwUgASgCDCECIAFBADYCDCAAIAI2AgwgASgCECECIAFBADYCECAAIAI2AhAgASgCFCECIAFBADYCFCAAIAI2AhQgAS0AHiECIAFBPjoAHiAAIAI6AB4gASoCGCEDIAFBzZmz+gM2AhggACADOAIYIAEQMSABKAIMIgBFDQAgAEEAIAEoAhBBA3QQHhoLC3ABAn8gACABKAIANgIAIABBCGoiAkEAOgBIIAJBADoAACABQQhqIgMtAEgEQCACIAMQtwYLIABB2ABqIAFB2ABqECYaIABB5ABqIAFB5ABqECYaIABB8ABqIAFB8ABqEJcEIAAgASkDkAE3A5ABIAALqwEBAn8gACABKAIANgIAIwBBEGsiAyQAIABBBGoiAkIANwIAIAJBPjoAHiACQc2Zs/oDNgIYIAJCADcCECACQgA3AgggAiABQQRqEKIIIANBEGokACMAQRBrIgMkACAAQSRqIgJCADcCACACQT46AB4g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AkAgASgCFCAESQRAIAEoAhRBgICAgHhGBEAgARDmCBAaAAsgASABLQAeQQFrOgAeIAEQTCABEDEgARC8CAwBCyACIAM2AgwgAiAINgIIIAIgAikCCDcDACABIAIgBxAwCyABKAIAIQEgAEEBOgAEIAAgASADQTBsajYCACACQRBqJAALIAZBEGokAA8LIAdBAWoiB0EAIAcgASgCEEcbIQcgCEGAAmohCAwACwALFAAgACABEBAiACACKQMANwMQIAALrwIBBn8jAEGgAWsiAiQAIABBqAJqIgYgARCCASIEIABBrAJqRwRAIABB0AJqIQUgACgC4AIEQCACQZQBaiABEBAhAyACQQA6AIABIAJBBjoAeCACQQA2ApABIAJCADcCiAEgBSADIAJBiAFqIgdBBSACQeAAahCtASACQegAahBDIAcQXCADEAoaCyACQUBrIgMgAEGsBGogARDdAiAAIARBIGogAxCqAyAGIAQQqQMaIAAtALQCRQRAIAAgARC/CAsgACABIAJBQGsQqQUgACgC4AIEQCACQTRqIAEQECEAIAJBADoAICACQQY6ABggAkEANgIwIAJCADcCKCAFIAAgAkEoaiIBQQIgAhCtASACQQhqEEMgARBcIAAQChoLIAJBQGsQTQsgAkGgAWokAAtmAgJ+A38gARA+IQMgASAAKAIAa0EobSEEIAMgADEAHoinIQEgACgCECEFIAAoAgwhBgNAIAQgBiABQQN0aigCBEcEQCABQQFqIgFBACABIAVHGyEBDAELCyAAIAEQvQggACgCABoLIwAgACABIAIgAxC2BSAALQAERQRAIAAoAgBBEGogAxDFBQsL8AQCBn8BfiMAQYABayIFJAACQCAAQagBaiIHIAEQkQEiBiAAKAKsAUcEQCAGQRBqIgMgAhDYAgRAIARFDQIgAiADENcCRQ0CIAVB2ABqIARBkAFqIAEgAxCuAQwCCyAFIAMpAwAiCzcDeCAAKQOAAiALVARAIABByAFqIAVB+ABqEPgBIAEQqwMLIABB1AFqIgQgBigCKEEIahCVBCAAIAApA+ABQgF8Igs3A+ABIAAoAtgBIAs3AxggBCAGKAIoELgDIAAoAtgBIQQgBSACKQMANwNYIAUgAigCEDYCaCAFIAIpAwg3A2AgAkEANgIQIAJCADcDCCAFQQA6AHQgBSAENgJwIAMgBUHYAGoiAhDGBSAFQeAAahAKGiAGKQMQIAApA4ACWA0BIAAgAEHEAGogASADENYCIAIgAEHIAWogAxD4ASABEP4BDAELAkACQCAAQYgBaiIIIAEQayIGIAAoAowBRiIJRQRAIAZBEGoiCiACENgCRQ0BIARFDQMgAiAKENcCRQ0DIAVB2ABqIARB8ABqIAYQwwEMAwsgAikDACAAKQOAAlgNAgwBCyAAIAAgARCzAyAIIAYQygggAikDACAAKQOAAlYNACADIAEQyQgMAQsgACAAKQPgAUIBfDcD4AEgAEHUAWogBUHYAGoiBCABIABB4AFqEMgIIgYQlQQgBhAKGiAFIAAoAtgBNgJ4IAVBADoALyAEIAcgASACIAVB+ABqIgIgBUEvahDHCCAAIABBxABqIAUoAlgiASABQRBqIgQQ1gIgAiAAQcgBaiAEEPgBIAEQ/gEgCQ0AIAMgARDJCAsgBUGAAWokAAspACAAIAEQECIAIAIpAwA3AxAgAEEYaiADEBAaIABBKGogBBDfAhogAAumAQICfwF+AkAgACgCACICIAAoAgQiA0cEQANAIAQgAyACa0HIAG2tWg0CIAIgBKciA0HIAGxqIAEQzgggACgCECAAKAIMIgJrQfAAba0gBFYEQCABIAIgA0HwAGxqEL8BCyAEQgF8IQQgACgCACECIAAoAgQhAwwACwALIAAoAhAhAiAAKAIMIQADQCAAIAJGDQEgASAAEL8BIABB8ABqIQAMAAsACwsrAQF/IAAoAgQhAgNAIAEgAkZFBEAgAkGAAmsQ0AghAgwBCwsgACABNgIECw4AIABBEGoQrQMgABAKC8oCAQF/IAAgARAmIgBBDGogAUEMahAmGiAAQRhqIAFBGGoQJhogAEEkaiABQSRqEO4CIABBNGogAUE0ahDuAiAAQcQAaiABQcQAahDuAiAAQdQAaiABQdQAahDuAiAAIAEoAnQ2AnQgACABKQJsNwJsIAAgASkCZDcCZCAAQfgAaiABQfgAahAmGiAAQYQBaiABQYQBahAmGiAAQZABaiICIAEoApABNgIAIAIgASgClAE2AgQgAiABKAKYATYCCCACIAEoApwBNgIMIAFCADcCmAEgAUIANwKQASACIAEoAqABNgIQIAIgASgCpAE2AhQgAUIANwKgASAAQagBaiABQagBahCXBCAAQcgBaiABQcgBahAmGiAAIAEpA9gBNwPYASAAIAEoAugBNgLoASAAIAEpA+ABNwPgASABQQA2AugBIAFCADcD4AELPgECfyAAKAIEIQIDQCACIAAoAggiAUcEQCAAIAFBgAJrIgE2AgggARDQCBoMAQsLIAAoAgAiAARAIAAQCwsLtwEBA38gACgCBCECIAAoAgAhAyABKAIEIQQDQCACIANHBEAgBEGAAmsiBCACQYACayICKQMANwMAIAQgAigCCDYCCCACQgA3AwAgAkEANgIIIARBEGogAkEQahDRCAwBCwsgASAENgIEIAAoAgAhAyAAIAQ2AgAgASADNgIEIAAoAgQhAyAAIAEoAgg2AgQgASADNgIIIAAoAgghAyAAIAEoAgw2AgggASADNgIMIAEgASgCBDYCAAsUACAAIAEgAiADQQhBgICACBDWCQsbACAAIAFBgP7//wdBB0H///8HQYCAgAgQ7wILNgEBfyMAQRBrIgIkACACIAE2AgwgACACKAIMEBAiAEEQakEAQfABEB4QvgUaIAJBEGokACAACxAAIAAgACgCBEGAAmsQzwgLMwAgACgCFEGAgICAeEYEQCAAENcIEBoACyAAIAAtAB5BAWs6AB4gABBMIAAQMSAAEKYMC10AIAAgASkCADcCACAAIAEoAgg2AgggAUIANwIAIAFBADYCCCAAIAIpAwA3AxAgACADKAIINgIgIAAgAykCADcCGCADQgA3AgAgA0EANgIIIABBKGogBBDfAhogAAsWACAAQShqELwDIABBGGoQChogABAKCzEBAX8DQCABBEAgAiABIAFBEGogABAbIgMbIQIgAUEEaiABIAMbKAIAIQEMAQsLIAILUAAgACgCAARAIAAQ4AggACgCABALIABBADYCCCAAQgA3AgALIAAgASgCADYCACAAIAEoAgQ2AgQgACABKAIINgIIIAFBADYCCCABQgA3AgALUAAgACgCAARAIAAQ3wggACgCABALIABBADYCCCAAQgA3AgALIAAgASgCADYCACAAIAEoAgQ2AgQgACABKAIINgIIIAFBADYCCCABQgA3AgALDgAgACABELADQQE6AEALDAAgACAAKAIAEMEFCwwAIAAgACgCABDDBQs3AQF/IwBBEGsiASQAIAEgADYCDCABKAIMIgAoAgAEQCAAEN8IIAEoAgwo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KAIMEBAiAEEQaiADKAIIEPkBGiADQRBqJAAgAAsYACAAIAEQECIAQRBqIAFBEGoQ+QEaIAALaQECfyMAQSBrIgMkACADQQxqIAAgACgCBCAAKAIAa0EobUEBahD6ASAAKAIEIAAoAgBrQShtIABBCGoQwQEiAigCCCABEO8IGiACIAIoAghBKGo2AgggACACENwCIAIQ2wIgA0EgaiQACxQAIAAgACgCBCABEO8IQShqNgIEC2EBAX8gAEGAgICAeCABIAFBAEgbIgEQzQUgACABIAAoAgQgACgCAGtBKG0iAiABIAJLGxDMDSEBAkAgACgCEARAIAEgAC0AHk8NAQsgACABOgAeIAAQTCAAEDEgABDMBQsLHAAgACABEJEBIgEgACgCBEYEQBAaAAsgAUEQagsWACAAQShqEN8BIABBGGoQChogABAKCxcAIABByOPxOE8EQBAaAAsgAEEkbBAXCz0BAn8gACgCBCECA0AgAiAAKAIIIgFHBEAgACABQSRrIgE2AgggARDFARoMAQsLIAAoAgAiAARAIAAQCwsLjQEBA38gACgCBCEDIAAoAgAhBCABKAIEIQIDQCADIARHBEAgAkEkayADQSRrIgMQtQMhAgwBCwsgASACNgIEIAAoAgAhAyAAIAI2AgAgASADNgIEIAAoAgQhAiAAIAEoAgg2AgQgASACNgIIIAAoAgghAiAAIAEoAgw2AgggASACNgIMIAEgASgCBDYCAAtKAQF/IABBADYCDCAAIAM2AhAgAQRAIAEQ9QghBAsgACAENgIAIAAgBCACQSRsaiICNgIIIAAgBCABQSRsajYCDCAAIAI2AgQgAAs5AQF/IAFBAEgEQBABAAtB/////wcgACgCCCAAKAIAayIAQQF0IgIgASABIAJJGyAAQf////8DTxsLMAECfyAAKAIAIQIgACgCBCEBA0AgASACRwRAIAFBJGsQxQEhAQwBCwsgACACNgIEC50BAQR/IwBBIGsiAyQAIAAoAgQgACgCAGtBJG1BAWoiAkHI4/E4TwRAEAEACyADQQxqQcfj8TggACgCCCAAKAIAa0EkbSIEQQF0IgUgAiACIAVJGyAEQePxuBxPGyAAKAIEIAAoAgBrQSRtIABBCGoQ+AgiAigCCCABELUDGiACIAIoAghBJGo2AgggACACEPcIIAIQ9gggA0EgaiQA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ApABIAMoAsgCQThsaiEBA0AgAygClAEgAUYEQCADKAKQASEEIAMgAigCHDYCkAEgAiAENgIcIAMgAigCIDYClAEgAiABNgIgIAMoApgBIQEgAyACKAIkNgKYASACIAE2AiQgA0GcAWohBCAHKAIEIQUgBygCACEBA0AgASAFRgRAIANBgANqIQogAygChAMhBSADKAKAAyEBA0AgASAFRgRAIAsgAygCzAEgAygCyAFrQQxtrSAafSIZpyIBEKkHIAggARDCByADKAKgASELIAMoApwBIQEDQCABIAtGBEAgAxCECCACQRBqIgEgAyAJQQAQkwIgA0GgA2oiBSABEKgHKAIAEKcHIAogCRDoA0IAIRggA0IANwPIAiACQQA2AhggAkIANwIQIANBrANqIQEDQCACIBg3AwggAygClAEgAygCkAEiCWtBOG2tIBhYBEAgAygC9AIhASADIAIoAhAiBDYC9AIgAiABNgIQIAMoAvgCIQEgAyACKAIUIgk2AvgCIAIgATYCFCADKAL8AiEBIAMgAigCGDYC/AIgAiABNgIYIANB6AJqIANB3AJB0AIgBCAJRhtqEBwgAkEQahAPGiACQRxqEK8IDAwLIAQgCSAYp0E4bGpBDGoQywIgARCsByABIAUQngNBA0YEQCACQRBqIAJBCGoQgAILIAIpAwhCAXwhGAwACwALIBkhGCABQSBqIgUoAgAgBSAFLQALIgjAQQBIIg0bIgYgBSgCBCAIIA0bIg1qIQ9BACEIA0ACQAJAIAUgBiAPRwR/IAhBAWohCCAGLAAAQQBIDQEgGEIBfSIYUEUNASAIBSANCxAfDAELIAZBAWohBgwBCwsgASkDMCIYQn9SBEAgASAYIAMpA8gCfTcDMAsgAUE4aiEBDAALAAsgCSABEJQCIAMoAqwCRgRAIAQgARCmBwsgAUEgaiEBDAALAAUCQCAJIAEQlAIgAygCrAJGBEAgBCABEKYHDAELIAQgARDLAkJ/NwMQCyABQSBqIQEMAQsACwAFIAJBHGogARDDByABQThqIQEMAQsACwAFIAcgBigCACAYp0E4bGpBDGoQrgIgGEIBfCEYDAELAAsACyACQbABaiQAIAcQDxogABDCASEADAALAAsgDEGgAWokAAs3AQF/IwBBEGsiASQAIAEgADYCDCABKAIMIgAoAgAEQCAAEIIJ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hQgLIARBIGokAAwBCxABAAsgAkEIaiELA0AgKSACKQOAA1oNAyACQcABaiAIEBkgAi0AyAFFBEAgBkEAOgDAASAGQQA6AAAMBQsgAkHgAmogCBAZIAItAOgCRQRAIAZBADoAwAEgBkEAOgAADAULIAJB0AJqIAgQGSACLQDYAkUEQCAGQQA6AMABIAZBADoAAAwFCyACQQA2AswCQgAhJyACQgA3AsQCIAJBxAJqIAIoAtACEM0FAkADQAJAAkACQCACKQPQAiAnVgRAIAJB4AFqIAgQUiACLQDsAUUNASACQbACaiAIEBkgAi0AuAJFDQEgAkGgAmogCBBSAn8gAi0ArAJFBEAgBkEAOgDAASAGQQA6AABBAQwBCyACIAIpA7ACNwMAIAsgAikDoAI3AgAgCyACKAKoAjYCCCACQQA2AqgCIAJCADcDoAICQCACQcQCaiIPKAIEIgEgDygCCEkEQCABIAIpAuABNwIAIAEgAigC6AE2AgggAkIANwLgASACQQA2AugBIAEgAikDADcDECABIAIoAhA2AiAgASACKQMINwMYIAJBADYCECACQgA3AwggDyABQShqNgIEDAELIwBBIGsiASQAIAFBDGogDyAPKAIEIA8oAgBrQShtQQFqEPoBIA8oAgQgDygCAGtBKG0gD0EIahDBASINKAIIIgQgAikC4AE3AgAgBCACKALoATYCCCACQgA3AuABIAJBADYC6AEgBCACKQMANwMQIAQgAigCEDYCICAEIAIpAwg3AxggAkEANgIQIAJCADcDCCANIA0oAghBKGo2AgggDyANENwCIA0Q2wIgAUEgaiQAIA8oAgQaCyALEAoaQQALIQQgAkGgAmoQORoMAgsgAkGwAmogCBAZIAItALgCRQRAIAZBADoAwAEgBkEAOgAADAMLIAJBADYCnAJCACEnIAJCADcClAIgAkGUAmogAigCsAIQzgcCfwJAA0AgJyACKQOwAloNASACQaACaiAIEBkCQCACLQCoAkUNACACQQA6ACEgAkEAOgAAIAIpA6ACUEUEQCACQYACaiAIEBkgAi0AiAJFDQEgCCgCBCIEQSBJDQEgCCgCACINLQAAIQEgAiANKQAYNwD3ASACIA0pABE3A/ABIAIgDSkACTcD6AEgAiANKQABNwPgASAIIARBIGs2AgQgCCANQSBqNgIAIAIg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OgAADAELIANB0AJqIAUQGSADLQDYAkUEQCACQQA6AFggAkEAOgAADAELIANBADYCzAIgA0IANwLEAiADKALQAiEJIwBBIGsiBCQAAkACQCAJIANBxAJqIgcoAgggBygCACIBa0EkbUsEQCAJQcjj8ThPDQEgByAEQQxqIAkgBygCBCABa0EkbSAHQQhqEPgIIgEQ9wggARD2CAsgBEEgaiQADAELEAEACyADQZQBaiEKIANBjANqIQ4DQAJAAkACQCADKQPQAiAnVgRAIANB0AFqIAUQgQUgAy0A3AFFDQEgA0GwAmogBRAZIAMtALgCRQ0BIAMpA7ACIiggBTUCBFYNASADQgA3A5gBIANCADcDkAEgA0IANwOIASAFKAIAIQEgAyAoPgKEAyADIAE2AoADIAMgAykCgAM3AwgCfyADQYgBaiEJQQAhBCMAQTBrIgYkAAJAIANBCGoiASgCBARAIAZBIGogARAZIAYtAChFDQEgCSAGKQMgPgIAIAZBEGogARAZIAYtABhFDQEgCSAGKQMQPgIEIAYgARAZIAYtAAhFDQEgCSAGKQMAPgIIIAk1AgQgCTUCAH5CB3xCA4giKCABNQIEVg0BAkAgASgCACIEICinaiIPIARrIhEgCUEMaiIIKAIIIAgoAgAiAWtNBEAgASAEIAQgCCgCBCABayIBaiIHIA8gASARSSIJGyAEayIEEFUhASAJBEAgCCAHIA8gCCgCACARIAgoAgRrahCGBQwCCyAIIAEgBGo2AgQMAQsgCBDcAyAIIAggERD5CBCgByAIIAQgDyAREIYFCwtBASEECyAGQTBqJAAgBEUEQCACQQA6AFggAkEAOgAAQQEMAQsgBSADKAKwAiIBIAUoAgBqNgIAIAUgBSgCBCABazYCBCADKALQASEBIANBADYC0AEgAyABNgKAAyADKQLUASEoIANCADcC1AEgAyAoNwKEAyAOIANBiAFqEM8FIANBxAJqIANBgANqIgEQogMgARDFARpBAAshBCAKEA8aDAILIANBsAJqIAUQGSADLQC4AkUEQCACQQA6AFggAkEAOgAADAMLIANBADYCrAIgA0IANwKkAiADQaQCaiADKAKwAhCNByADQcABaiEJQgAhJwJAA0AgAykDsAIgJ1YEQCADQZACaiAFEBkCQCADLQCYAgRAIAMpA5ACIiggBTUCBFgNAQsgAkEAOgBYIAJBADoAAAwDCyAFKAIAIQEgAyAoPgJcIAMgATYCWCADIAMpA1giKDcDECADICg3A4ADIANB0AFqIANBEGoQjgcgAy0AiAJFBEAgAkEAOgBYIAJBADoAAAwDCyADQYADaiIEIANB0AFqQTgQHRogA0H4AGogA0HYAGoQjAchByADQYgBaiIBIARBOBAdGiAJIAcoAgg2AgggCSAHKQIANwIAIAdCADcCACAHQQA2AgggBCABEJcKIAkQChogBxAKGgJAIAMtAIAEIgRFBEAgAkEAOgBYIAJBADoAAAwBCyADQaQCaiADQYADahCLByAFIAMoApACIgEgBSgCAGo2AgAgBSAFKAIEIAFrNgIECyAnQgF8IScgA0GAA2oQigcgBA0BDAILCyADQZACaiAFEBkgA0EAOgCEASADQQA6AHggA0EANgJ0IANCADcCbAJAAn5CACADLQCYAkUNABogAykDkAJQRQRAIANB2ABqIAUQUgJAAkAgAy0AZEUEQCACQQA6AFggAkEAOgAADAELIANB+ABqIANB2ABqEL8JIAUoAgRFDQEgA0HIAGogBRAZIAMtAFBFBEAgAkEAOgBYIAJBADoAAAwBCyADQewAaiADKAJIEI0HIANBwAFqIQlCACEnA0AgJyADKQNIWg0CIANBOGogBRAZAkAgAy0AQARAIAMpAzgiKCAFNQIEWA0BCyACQQA6AFggAkEAOgAADAILIAUoAgAhASADICg+AjQgAyABNgIwIAMgAykDMCIoNwMYIAMgKDcDgAMgA0HQAWogA0EYahCOByADLQCIAkUEQCACQQA6AFggAkEAOgAADAILIANBgANqIgQgA0HQAWpBOBAdGiADQSRqIANBMGoQjAchByADQYgBaiIBIARBOBAdGiAJIAcoAgg2AgggCSAHKQIANwIAIAdCADcCACAHQQA2AgggBCABEJcKIAkQChogBxAKGgJAIAMtAIAEIgRFBEAgAkEAOgBYIAJBADoAAAwBCyADQewAaiADQYADahCLByAFIAMoAjgiASAFKAIAajYCACAFIAUoAgQgAWs2AgQLICdCAXwhJyADQYADahCKByAEDQALCyADQdgAahA5GgwDCyADQdgAahA5GkIAIAMtAJgCRQ0BGgsgA0GAA2ogBRCyASADKQOAA0IAIAMtAIgDGwsh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FCAFKAIQa0Eiba0gAhAYIAUoAhQhCiAFKAIQIQEDQCABIApGBEAgBUEcaiEFDAULIAExACEgAhAYIAEtACEEQCABMQAAIAIQGCABQQFqIAIQ5QILIAFBImohAQwACwAFIAEgAhBIIAEpAxAgAhAYIAFBGGogAhBIIAFBKGohAQwBCwALAAsLA0AgASAFRwRAIAEgAhBIIAEpAxAgAhAYIAFBGGogAhBIIAFBKGohAQwBCwsgAygClAEgAygCkAFrQShtrSACEBggAygClAEhBSADKAKQASEBA0AgASAFRgRAAkAgAygCtAEgAygCsAFrQRxtrSACEBggAygCtAEhBSADKAKwASEBA0AgASAFRg0BIAExAAAgAhAYIAFBBGogAhBIIAFBEGogAhBIIAFBHGohAQwACwALBSABIAIQSCABKQMQIAIQGCABQRhqIAIQSCABQShqIQEMAQsLIA5BEGokACACIAAQSCACEAoaDAELQgAgABAYCyADKALMASADKALIAWtBB3WtIAAQGCADKALMASEJIAMoAsgBIQ4DQCAJIA5GBEAgB0EQaiQABSAOIAAQSCAOKQMQIAAQGCAOQRhqIAAQSCMAQRBrIgUkACAFQcIAOgAPIAdBBGoiAyAFQQ9qIAVBEGoQowQgDkEoaiICIAMQggUgAkEMaiADEIIFIAIoAhwgAigCGGtBJG2tIAMQGCACKAIcIQogAigCGCEBA0AgASAKRgRAIAIoAiggAigCJGtBAnWtIAMQGCACKAIoIQogAigCJCEBA0AgASAKRgRAIAIxADwgAxAYAkAgAi0APEUNACACQTBqIAMQSCACKAJEIAIoAkBrQQJ1rSADEBggAigCRCEKIAIoAkAhAQNAIAEgCkYNASABKAIAIAMQSCABQQRqIQEMAAsACyACKQNQIAMQ4wEgBUEQaiQABSABKAIAIAMQSCABQQRqIQEMAQsLBSABIAMQggUgBUIANwIAIAVBADYCCCABKAIMIgQEQCAErSAFEBggATUCECAFEBggATUCFCAFEBggBSABKAIYIgQgASgCHCAEaxBtGgsgBSADEEggAUEkaiEBIAUQChoMAQsLIAMgABBIIA5BgAFqIQ4gAxAKGgwBCwsLIwBBEGsiACQAIAAgEUEIaiIFQcgBajYCDCAAKAIMIgEoAgAEQCABKAIAIQMgASgCBCEC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DGsQ4QUaDAELIAAgAEEMaiAAQRhqIgQQ4wIaIABBJGohAgNAIAIiBSABRg0BAkAgAiAEEBsEQCADIAIoAgg2AgggAyACKQIANwMAIAJCADcCACACQQA2AggDQAJAIAIgBCICEBwgACACRgRAIAAhAgwBCyADIAJBDGsiBBAbDQELCyACIAMQHCADEAoaIAdBAWoiB0EIRg0BCyAFQQxqIQIgBSEEDAELCyAFQQxqIAFGIQYLIANBEGokACAGC9oBAQN/IAAoAgQiBSEEIAEgBSADa0HwAG1B8ABsaiIGIQMDQCACIANNBEAgACAENgIEIwBBEGsiAiQAIwBBEGsiACQAIAUhAyAGIQQDQCABIARHBEAgA0HwAGsiAyAEQfAAayIEEK8BDAELCyAAIAM2AgwgACAGNgIIIAAoAgghAyACIAUgACgCDCAFa0HwAG1B8ABsajYCDCACIAEgAyABa0HwAG1B8ABsajYCCCAAQRBqJAAgAigCDBogAkEQaiQABSAEIAMQOEHwAGohBCADQfAAaiEDDAELCwsbACAAIAEpAwA3AwAgAEEIaiABQQhqECYaIAALGAAgACABKQMANwMAIABBCGogAUEIahBaC3IBAX8jAEEQayICJAACQCAALQAYQQVGBEAgACABKQMANwMAIAAgASkDCDcDCAwBCyACIAE2AgwgAiAANgIIIAIoAgwhASACKAIIIgAQowIgACABKQMINwMIIAAgASkDADcDACAAQQU6ABgLIAJBEGokAAsKACABQQhqEA8aCycBAX8jAEEQayICJAAgAiAAOQMIIAEgAkEIakEIEG0aIAJBEGokAAskAQN/A0AgAUEBaiEBIABC/wBWIQMgAEIHiCEAIAMNAAsgAa0LQQIBfgF/QgEhAQJAAkACQAJAIAAtACAiAg4DAgADAQsgACgCCEEAR61CAYYPC0IEQgUgAkEERhsPC0IDIQELIAELDgAgAEEMahA7IAAQChoLgwECAX8BfiMAQRBrIgIkAAJAIAAtABhBBUYEQCAAIAEQpAQMAQsgAiABNgIMIAIgADYCCCACKAIMIQAgAigCCCIBEOgCIAEgACgCCDYCCCABIAApAwA3AwAgAEEANgIIIABCADcDACAAKQMQIQMgAUEFOgAYIAEgAzcDEAsgAkEQaiQAC3IBAX8jAEEQayICJAACQCAALQAYQQVGBEAgACABKQMANwMAIAAgASkDCDcDCAwBCyACIAE2AgwgAiAANgIIIAIoAgwhASACKAIIIgAQsAEgACABKQMINwMIIAAgASkDADcDACAAQQU6ABgLIAJBEGokAAs1AQF/IAAhAyAAKAIEIQADQCABIAJHBEAgACABEBBBDGohACABQQxqIQEMAQsLIAMgADYCBAvrAwIIfwF+IwBBEGsiAyQAIwBBEGsiByQAIAEQPiIKp0H/AXFBgAJyIQYgCiAAMQAeiKchBANAAkACQAJAIAAoAgwgBEEDdGoiAigCACIFIAZGBEAgASAAKAIAIAIoAgRBGGxqECJFDQIgACgCACEAIAIoAgQhASADQQA6AAwgAyAAIAFBGGxqNgIIDAELIAUgBk8NASAHIAE2AgwgB0EMaiEFIwBBEGsiASQAAkAgACgCBCAAKAIISQRAIAAgACgCBCAFKAIAEOAFQRhqNgIEDAELIwBBIGsiCCQAIAhBDGogACAAKAIEIAAoAgBrQRhtQQFqEOUBIAAoAgQgACgCAGtBGG0gAEEIahDGASICKAIIIAUoAgAQ4AUaIAIgAigCCEEYajYCCCAAIAIQ3wUgAhDeBSAIQSBqJAALIAAoAgQaIAAoAgQgACgCAGtBGG0iBUEBayECAkAgACgCFCAFSQRAIAAQmwkMAQsgASACNgIMIAEgBjYCCCABIAEpAgg3AwAgACABIAQQMAsgACgCACEAIANBAToADCADIAAgAkEYbGo2AgggAUEQaiQACyAHQRBqJAAMAQsgBEEBaiIEQQAgBCAAKAIQRxshBCAGQYACaiEGDAELCyADKAIIIQkgA0EQaiQAIAlBEGoLYgEBfyMAQRBrIgMkAAJAIAAtABBFBEAgASACEIMBDAELIAMgAjYCDCADIAA2AggjAEEQayIAJAAgAygCCCAAQQRqIAMoAgwQECIBEKsLIAEQChogAEEQaiQACyADQRBqJAALGAAgAEGr1arVAE8EQBAaAAsgAEEYbBAXCywBAX8jAEEQayIBJAAgASAANgIMIAEoAgwoAgAiAARAIAAQCwsgAUEQaiQACxgAIABB1qrVqgFPBEAQGgALIABBDGwQFwsYACAAQYCAgMAATwRAEBoACyAAQQV0EBcLOgEDfyMAQRBrIgEkACABQQxqIgIgABAkIAIQbCIAQSAgACgCACgCHBEDACEDIAIQIyABQRBqJAAgAwsmACAAIAAoAhhFIAAoAhAgAXJyIgE2AhAgACgCFCABcQRAEBoACwsLACAAIAFBDBCqBAsMACAAIAAoAgAQsgkLPgECfyAAKAIEIQIDQCACIAAoAggiAUcEQCAAIAFB+ABrIgE2AgggARD1BRoMAQsLIAAoAgAiAARAIAAQCwsLjwEBA38gACgCBCEDIAAoAgAhBCABKAIEIQIDQCADIARHBEAgAkH4AGsgA0H4AGsiAxDyBSECDAELCyABIAI2AgQgACgCACEDIAAgAjYCACABIAM2AgQgACgCBCECIAAgASgCCDYCBCABIAI2AgggACgCCCECIAAgASgCDDYCCCABIAI2AgwgASABKAIENgIACxUAIAAgASACIANB+ABBo8SIERCxAQsRACAALQAoBEAgAEEIahBECwuzAwECfyMAQUBqIgMkAAJAIAFCBVgEQAJAAkACQAJAAkACQCABp0EBaw4FAQIDBAUACyADQQE6ADggA0EANgIgIAAgA0EYahCmAiADQSBqEEQMBgsgA0EgaiADIAIQdCICEHQiBEECOgAYIAAgA0EYahCmAiAEEEQgAhA3DAULIANBAToAOCADQQE2AiAgACADQRhqEKYCIANBIGoQRAwECyADQQA6ADggACADQRhqEKYCIANBIGoQRAwDCyADIAIQxQMiAigCCDYCCCADIAIpAgA3AwAgAkIANwIAIAJBADYCCCADQQQ6ADggAyADKAIINgIoIANBADYCCCADIAMpAwA3AyAgA0IANwMAIAAgA0EYahCmAiADQSBqEEQgAxAKGgwCCwJAIAJFDQACQAJAIAItABAOAgABAgsgAikDACEBIANBAzoAOCADIAE3AyAgACADQRhqEKYCIANBIGoQRAwDCyACKQMAIQEgA0EDOgA4IAMgATcDICAAIANBGGoQpgIgA0EgahBEDAILIABBADoAKCAAQQA6AAAMAQsgAEEAOgAoIABBADoAAAsgA0FAayQACwsAIAAgACABEKsJCwkAIABBGBDIAwulAQEDfyABKAIEIQIgACgCACEEIAAoAgQhAwNAIAMgBEZFBEAgAkEYayICIANBGGsiAykDADcDACACIAMpAxA3AxAgAiADKQMINwMIDAELCyABIAI2AgQgACgCACEDIAAgAjYCACABIAM2AgQg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IARB/wFGG0ECdGooAgARAAAgAkEQaiQACyAAQf8BOgAQIANBEGokAAtlAQJ/IABB/wE6ABAgAEEAOgAAIwBBEGsiAyQAIAAQJSABLQAQIgRB/wFHBEAgAyACKQMANwMIIANBB2ogACABIANBCGogBEECdGooAgARBAAgACABLQAQOgAQCyADQRBqJAAgAAtlAQJ/IABB/wE6ABggAEEAOgAAIwBBEGsiAyQAIAAQQyABLQAYIgRB/wFHBEAgAyACKQMANwMIIANBB2ogACABIANBCGogBEECdGooAgARBAAgACABLQAYOgAYCyADQRBqJAAgAAtXAQF/IABBADYCDCAAIAM2AhAgAQRAIAEgBU8EQBAaAAsgASAEdBAXIQYLIAAgBjYCACAAIAYgAiAEdGoiAjYCCCAAIAYgASAEdGo2AgwgACACNgIEIAALEwAgACAAKAIEIAEQEEEMajYCBAs9AQJ/IAAoAgQhAwNAIAMgACgCCCICRwRAIAAgAiABayICNgIIIAIQgAkaDAELCyAAKAIAIgAEQCAAEAsLCygBAX8jAEEQayICJAAgAiABNgIMIABBCGogAkEMahCnDyACQRBqJAALlAEBA38jAEEgayICJAAgACgCDCIDBEAgA0EAIAAoAhBBA3QQHhoLIAAoAgQgACgCAGsgAXUhBEEAIQMDQCADIARGBEAgAkEgaiQABSACQRhqIAAgACgCACADIAF0ahDNCiACIAM2AhQgAiACKAIYNgIQIAIgAikCEDcDCCAAIAJBCGogAigCHBAwIANBAWohAwwBCwsLlAEBA38jAEEgayICJAAgACgCDCIDBEAgA0EAIAAoAhBBA3QQHhoLIAAoAgQgACgCAGsgAXUhBEEAIQMDQCADIARGBEAgAkEgaiQABSACQRhqIAAgACgCACADIAF0ahDkAiACIAM2AhQgAiACKAIYNgIQIAIgAikCEDcDCCAAIAJBCGogAigCHBAwIANBAWohAwwBCwsLlAEBA38jAEEgayICJAAgACgCDCIDBEAgA0EAIAAoAhBBA3QQHhoLIAAoAgQgACgCAGsgAXUhBEEAIQMDQCADIARGBEAgAkEgaiQABSACQRhqIAAgACgCACADIAF0ahDqCCACIAM2AhQgAiACKAIYNgIQIAIgAikCEDcDCCAAIAJBCGogAigCHBAwIANBAWohAwwBCwsL/QEBBX8gACABKQMANwMAIAAgASkDCDcDCCMAQRBrIgQkAAJAIAFBGGoiBi0AGCIHQf8BRiIIIABBGGoiBS0AGEH/AUZxDQAgCARAIAUQRAwBCyAEIAU2AgwgBEEMaiAFIAYgB0ECdCADaigCABEEAAsgBEEQaiQAIwBBEGsiBCQAAkAgAUE4aiIGLQAQIgdB/wFGIgggAEE4aiIFLQAQQf8BRnENACAIBEAgBRDEAQwBCyAEIAU2AgQgBCACKQMANwMIIARBBGogBSAGIARBCGogB0ECdGooAgARBAALIARBEGokACAAIAEtAFA6AFAgAEHYAGogAUHYAGoQpwwLZwEDfyMAQUBqIgIkACAAKAIIIQQgAkE0aiAAKAIAEBAhACACQQA6ACAgAkEGOgAYIAJBADYCMCACQgA3AiggBCAAIAJBKGoiAyABIAIQrQEgAkEIahBDIAMQXCAAEAoaIAJBQGskAAtVAQJ/IAAoAgQhBAJ/QQAgAkUNABogBEEIdSIFIARBAXFFDQAaIAIoAgAgBRCABgshBSAAKAIAIgAgASACIAVqIANBAiAEQQJxGyAAKAIAKAIcEQYACw8AIAAtAAwEQCAAEPcFCwvJAwEHfyMAQSBrIgMkACADQRVqIgQgA0EgaiIFRiABQQBOcgR/IAQFIARBLToAAEEAIAFrIQEgBEEBagshAiADAn8gBSIGIAJrIgdBCUwEQEE9IAdBICABQQFyZ2tB0QlsQQx1IgggCEECdEHgvAJqKAIAIAFNakgNARoLAn8gAUG/hD1NBEAgAUGPzgBNBEAgAUHjAE0EQCABQQlNBEAgAiABEMwDDAQLIAIgARCqAgwDCyABQecHTQRAIAIgAUHkAG4iAhDMAyABIAJB5ABsaxCqAgwDCyACIAEQhQYMAgsgAUGfjQZNBEAgAiABQZDOAG4iAhDMAyABIAJBkM4AbGsQhQYMAgsgAiABEIQGDAELIAFB/8HXL00EQCABQf+s4gRNBEAgAiABQcCEPW4iAhDMAyABIAJBwIQ9bGsQhAYMAgsgAiABEIMGDAELIAFB/5Pr3ANNBEAgAiABQYDC1y9uIgIQzAMgASACQYDC1y9saxCDBgwBCyACIAFBgMLXL24iAhCqAiABIAJBgMLXL2xrEIMGCyEGQQALNgIQIAMgBjYCDCADKAIMIQEjAEEQayICJAAgACAEIAEQ2AogAkEQaiQAIAUkAAsOACAAQQxqEPcFIAAQOwvUAQEDfyMAQRBrIgUkACACQe////8DIAFrTQRAIAAQICEGIAVBBGoiByAAIAFB5////wFJBH8gBSABQQF0NgIMIAUgASACajYCBCAHIAVBDGoQtgIoAgAQ8gJBAWoFQe////8DCxDxAiAFKAIEIQIgBSgCCBogBARAIAIgBiAEEIwCCyADIARHBEAgBEECdCIHIAJqIAYgB2ogAyAEaxCMAgsgAUEBaiIBQQJHBEAgACAGIAEQswQLIAAgAhCVASAAIAUoAggQlAEgBUEQaiQADwsQaAALpQIBA38jAEEQayIIJAAgAiABQX9zQe////8Dak0EQCAAECAhCSAIQQRqIgogACABQef///8BSQR/IAggAUEBdDYCDCAIIAEgAmo2AgQgCiAIQQxqELYCKAIAEPICQQFqBUHv////AwsQ8QIgCCgCBCECIAgoAggaIAQEQCACIAkgBBCMAgsgBgRAIARBAnQgAmogByAGEIwCCyADIAQgBWoiCmshByADIApHBEAgBEECdCIDIAJqIAZBAnRqIAMgCWogBUECdGogBxCMAgsgAUEBaiIBQQJHBEAgACAJIAEQswQLIAAgAhCVASAAIAgoAggQlAEgACAEIAZqIAdqIgAQcCAIQQA2AgwgAiAAQQJ0aiAIQQxqEIYBIAhBEGokAA8LEGgAC28BA38jAEEQayIEJAAgAQRAIAEgABAoIgMgABAOIgJrSwRAIAAgAyABIANrIAJqIAIgAhCHBgsgAiAAECAiA2ogAUEAEOYJIAAgASACaiIAEK8CIARBADoADyAAIANqIARBD2oQiQELIARBEGokAAs9AQF/IwBBEGsiAyQAIAMgAjoADwNAIAEEQCAAIAMtAA86AAAgAUEBayEBIABBAWohAAwBCwsgA0EQaiQACxYAIAAgASACQoCAgICAgICAgH8QhwsLCQAgABA1NgIACyMBAn8gACEBA0AgASICQQRqIQEgAigCAA0ACyACIABrQQJ1Cw8AIAAgACgCAEEEazYCAAsKACAAKAIAQQRrCywAIAAoAgAaIAAoAgAaIAAQqwIaIAAoAgAaIAAQswEaIAAoAgAaIAAQqwIaCzAAIwBBEGsiAiQAAkAgACABRgRAIAFBADoAeAwBCyACQQ9qIAEQ9gkLIAJBEGokAAssAQF/IAAoAgQhAgNAIAEgAkcEQCAAEKwCGiACQQRrIQIMAQsLIAAgATYCBAsJACAAQQA2AgALJgAgACgCABogACgCABogABCrAhogACgCABogABCrAhogACgCABoLSwEBfyMAQRBrIgMkAAJAAkAgAkEeSw0AIAEtAHgNACABQQE6AHgMAQsgA0EPaiACEPgJIQELIANBEGokACAAIAI2AgQgACABNgIAC0QBAn8jAEEQayIBJAAgABCsAhogAUH/////AzYCDCABQf////8HNgIIIAFBDGogAUEIahDVAygCACECIAFBEGokACACCwsAIABBADYCACAACycBAn8jAEEQayIBJAAgASAANgIMIAFBDGoQigYhAiABQRBqJAAgAgs3AQF/IwBBEGsiAyQAIAMgARD0CTYCDCADIAIQ9Ak2AgggACADQQxqIANBCGoQzAQgA0EQaiQACwkAIAFBBBDTCgsvAQF/IwBBEGsiAyQAIAAgAhCvAiADQQA6AA8gASACaiADQQ9qEIkBIANBEGokAAsbACABQf////8DSwRAEBoACyABQQJ0QQQQzwoLbAECfyABIAAoAgQgACgCACABKAIEEOgKIgI2AgQgACgCACEDIAAgAjYCACABIAM2AgQgACgCBCECIAAgASgCCDYCBCABIAI2AgggACgCCCECIAAgASgCDDYCCCABIAI2AgwgASABKAIENgIACwkAIAAQiwYQCwuIAQEDfyMAQSBrIgQkACAEQQxqIAAgACgCBCAAKAIAa0EFdUEBahDDAyAAKAIEIAAoAgBrQQV1IABBCGoQ9AIiAygCCCICIAEpAAA3AAAgAiABKQAYNwAYIAIgASkAEDcAECACIAEpAAg3AAggAyACQSBqNgIIIAAgAxD8CSADEIwGIARBIGokAAuvAQEDfyABKAIEIQIgACgCACEEIAAoAgQhAwNAIAMgBEZFBEAgAkEgayICIANBIGsiAykAADcAACACIAMpABg3ABggAiADKQAQNwAQIAIgAykACDcACAwBCwsgASACNgIEIAAoAgAhAyAAIAI2AgAgASADNgIEIAAoAgQhAiAAIAEoAgg2AgQgASACNgIIIAAoAgghAiAAIAEoAgw2AgggASACNgIMIAEgASgCBDYCAAsVACAAQeCRAjYCACAAQRBqEAoa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AgAiEUEEajYCACARIAo2AgBBACERIAsQDiAQQQFqIhBNBEAgDyESDAELIAsgEBAhLQAAQf8ARgRAQX8hEgwBCyALIBAQISwAACESCyAHQQRrIgcoAgAhDyACIAIoAgAiGEEEajYCACAYIA82AgAgEUEBaiEPDAELCyACKAIAIQcLIBkgBxC9BAsgFEEBaiEUDAELCwvTAgEBfyMAQRBrIgokACAJAn8gAARAIAIQmwohAAJAIAEEQCAKQQRqIgEgABCFAiADIAooAgQ2AAAgASAAEIQCDAELIApBBGoiASAAELcEIAMgCigCBDYAACABIAAQowELIAggARDMASABEEAaIAQgABChATYCACAFIAAQbzYCACAKQQRqIgEgABBuIAYgARBiIAEQChogASAAEKQBIAcgARDMASABEEAaIAAQgwIMAQsgAhCaCiEAAkAgAQRAIApBBGoiASAAEIUCIAMgCigCBDYAACABIAAQhAIMAQsgCkEEaiIBIAAQtwQgAyAKKAIENgAAIAEgABCjAQsgCCABEMwBIAEQQBogBCAAEKEBNgIAIAUgABBvNgIAIApBBGoiASAAEG4gBiABEGIgARAKGiABIAAQpAEgByABEMwBIAEQQBogABCDAgs2AgAgCkEQaiQAC6sBAQV/IwBBEGsiBCQAIwBBIGsiAyQAIANBGGogACABEPUJIANBEGogA0EMaiIFIAMoAhggAygCHCACEJ8GIAMoAhAhBiMAQRBrIgEkACABIAA2AgwgAUEMaiIAIAYgABCKBmsQkQYhACABQRBqJAAgAyAANgIMIAMgAiADKAIUEM0ENgIIIARBCGogBSADQQhqENMBIANBIGokACAEKAIMIQcgBEEQaiQAIAcLjAYCBH8BfiMAQYACayICJAAgASgCOCEDIAIgASgCPCABLQBDIgQgBMBBAEgiBBsgASgCECIFazYC/AEgAiAFIAMgAUE4aiAEG2o2AvgBIAJB6AFqIAJB+AFqEBkCQCACLQDwAUUEQCAAQQA6AIABIABBADoAAAwBCyACQQA2AuQBIAJCADcC3AEgAkHcAWogAigC6AEQzgMCQAJAA0AgBiACKQPoAVoNASACKAL8ASIEQSBPBEAgAiACKAL4ASIDKQAINwMQIAIgAykAEDcDGCACIAMpABg3AyAgAiADKQAANwMIIAIgBEEgazYC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IAtB6ABqIAtB8ABqIAtByABqIgEQRiIPKAIAIgo2AmQgCyAKQZADajYCYCABECchESALQTxqECchDCALQTBqECchDiALQSRqECchDSALQRhqECchECMAQRBrIgokACALAn8gAgRAIApBBGoiASADEJsKIgIQhQIgCyAKKAIENgBcIAEgAhCEAiANIAEQzAEgARBAGiABIAIQowEgDiABEMwBIAEQQBogCyACEKEBNgJYIAsgAhBvNgJUIAEgAhBuIBEgARBiIAEQChogASACEKQBIAwgARDMASABEEAaIAIQgwIMAQsgCkEEaiIBIAMQmgoiAhCFAiALIAooAgQ2AFwgASACEIQCIA0gARDMASABEEAaIAEgAhCjASAOIAEQzAEgARBAGiALIAIQoQE2AlggCyACEG82AlQgASACEG4gESABEGIgARAKGiABIAIQpAEgDCABEMwBIAEQQBogAhCDAgs2AhQgCkEQaiQAIAkgCCgCADYCACAEQYAEcSEUQQAhA0EAIQEDQCABIQICQAJAAkACQCADQQRGDQAgACALQYwEahAtDQBBACEKAkACQAJAAkACQAJAIAtB3ABqIANqLAAADgUBAAQDBQkLIANBA0YNByAHQQEgABBJEKUBBEAgC0EMaiAAEJ0KIBAgCygCDBCGBgwCCyAFIAUoAgBBBHI2AgBBACEADAYLIANBA0YNBgsDQCAAIAtBjARqEC0NBiAHQQEgABBJEKUBRQ0GIAtBDGogABCdCiAQIAsoAgwQhgYMAAsACwJAIA4QDkUNACAAEEkgDhAgKAIARw0AIAAQUxogBkEAOgAAIA4gAiAOEA5BAUsbIQEMBgsCQCANEA5FDQAgABBJIA0QICgCAEcNACAAEFMaIAZBAToAACANIAIgDRAOQQFLGyEBDAYLAkAgDhAORQ0AIA0QDkUNACAFIAUoAgBBBHI2AgBBACEADAQLIA4QDkUEQCANEA5FDQULIAYgDRAORToAAAwECyAUIANBAkkgAnJyRQRAQQAhASADQQJGIAstAF9BAEdxRQ0FCyALIAwQiAE2AgggC0EMaiALQQhqELQCIQQCQCADRQ0AIAMgC2otAFtBAUsNAANAAkAgCyAMEIcCNgIIIAQgC0EIahDRAUUNACAHQQEgBCgCACgCABClAUUNACAEEM8DDAELCyALIAwQiAE2AgggBCgCACALQQhqIgEoAgBrQQJ1IgogEBAOTQRAIAsgEBCHAjYCCCABQQAgCmsQjwYhCiAQEIcCIRIgDBCIASETIwBBEGsiASQAIAEgEjYCCCABIAo2AgwgASATNgIEA0ACQCABQQxqIgogAUEIahDRASISRQ0AIAooAgAoAgAgAUEEaiITKAIAKAIARw0AIAoQzwMgExDPAwwBCwsgAUEQaiQAIBJBAXMNAQsgCyAMEIgBNgIEIAQgC0EIaiALQQRqELQCKAIANgIACyALIAQoAgA2AggDQAJAIAsgDBCHAjYCBCALQQhqIgEgC0EEahDRAUUNACAAIAtBjARqEC0NACAAEEkgASgCACgCAEcNACAAEFMaIAEQzwMMAQsLIBRFDQMgCyAMEIcCNgIEIAtBCGogC0EEahDRAUUNAyAFIAUoAgBBBHI2AgBBACEADAILA0ACQCAAIAtBjARqEC0NAAJ/IAdBwAAgABBJIgEQpQEEQCAJKAIAIgQgCygCiARGBEAgCCAJIAtBiARqEPYCIAkoAgAhBAsgCSAEQQRqNgIAIAQgATYCACAKQQFqDAELIBEQDkUgCkVyDQEgASALKAJURw0BIAsoAmQiASALKAJgRgRAIA8gC0HkAGogC0HgAGoQ9gIgCygCZCEBCyALIAFBBGo2AmQgASAKNgIAQQALIQogABBTGgwBCwsgCkUgCygCZCIBIA8oAgBGckUEQCALKAJgIAFGBEAgDyALQeQAaiALQeAAahD2AiALKAJkIQELIAsgAUEEajYCZCABIAo2AgALAkAgCygCFEEATA0AAkAgACALQYwEahAtRQRAIAAQSSALKAJYRg0BCyAFIAUoAgBBBHI2AgBBACEADAMLA0AgABBTGiALKAIUQQBMDQECQCAAIAtBjARqEC1FBEAgB0HAACAAEEkQpQENAQsgBSAFKAIAQQRyNgIAQQAhAAwECyAJKAIAIAsoAogERgRAIAggCSALQYgEahD2AgsgABBJIQEgCSAJKAIAIgRBBGo2AgAgBCABNgIAIAsgCygCFEEBazYCFAwACwALIAIhASAIKAIAIAkoAgBHDQMgBSAFKAIAQQRyNgIAQQAhAAwBCwJAIAJFDQBBASEKA0AgAhAOIApNDQECQCAAIAtBjARqEC1FBEAgABBJIAIgChDFBCgCAEYNAQsgBSAFKAIAQQRyNgIAQQAhAAwDCyAAEFMaIApBAWohCgwACwALQQEhACAPKAIAIAsoAmRGDQBBACEAIAtBADYCDCARIA8oAgAgCygCZCALQQxqEGEgCygCDARAIAUgBSgCAEEEcjYCAAwBC0EBIQALIBAQQBogDRBAGiAOEEAaIAwQQBogERAKGiAPEEUMAwsgAiEBCyADQQFqIQMMAAsACyALQZAEaiQAIAALHwAgACABELgEEFEgARCLAygCACEBIAAQiwMgATYCAAsLACAAQbzJAhDqAQsLACAAQcTJAhDqAQvHAQEGfyMAQRBrIgQkACAAEIsDKAIAIQVBAQJ/IAIoAgAgACgCAGsiA0H/////B0kEQCADQQF0DAELQX8LIgMgA0EBTRshAyABKAIAIQYgACgCACEHIAVBkwRGBH9BAAUgACgCAAsgAxDTBCIIBEAgBUGTBEcEQCAAELgEGgsgBEGSBDYCBCAAIARBCGogCCAEQQRqEEYiBRCfCiAFEEUgASAAKAIAIAYgB2tqNgIAIAIgAyAAKAIAajYCACAEQRBqJAAPCxAaAAsgAQF/IAEoAgAQ4wrAIQIgACABKAIANgIEIAAgAjoAAAuFEAEKfyMAQZAEayILJAAgCyAKNgKIBCALIAE2AowEAkAgACALQYwEahAuBEAgBSAFKAIAQQRyNgIAQQAhAAwBCyALQZMENgJMIAsgC0HoAGogC0HwAGogC0HMAGoiARBGIg8oAgAiCjYCZCALIApBkANqNgJgIAEQJyERIAtBQGsQJyEMIAtBNGoQJyEOIAtBKGoQJyENIAtBHGoQJyEQIwBBEGsiCiQAIAsCfyACBEAgCkEEaiIBIAMQoQoiAhCFAiALIAooAgQ2AFwgASACEIQCIA0gARBiIAEQChogASACEKMBIA4gARBiIAEQChogCyACEKEBOgBbIAsgAhBvOgBaIAEgAhBuIBEgARBiIAEQChogASACEKQBIAwgARBiIAEQChogAhCDAgwBCyAKQQRqIgEgAxCgCiICEIUCIAsgCigCBDYAXCABIAIQhAIgDSABEGIgARAKGiABIAIQowEgDiABEGIgARAKGiALIAIQoQE6AFsgCyACEG86AFogASACEG4gESABEGIgARAKGiABIAIQpAEgDCABEGIgARAKGiACEIMCCzYCGCAKQRBqJAAgCSAIKAIANgIAIARB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AigCACICBEADQCADIAJBCGoQ1QRFDQIgAigCICICDQALC0EkEEciAgRAIAJBhO0BKQIANwIAIAJBCGoiASADIAQQHRogASAEakEAOgAAIAJBsMgCKAIANgIgQbDIAiACNgIACyACQYTtASAAIAJyGyECCyACC98eAhB/BX4jAEGQAWsiCSQAIAlBAEGQARAeIglBfzYCTCAJIAA2AiwgCUGRBDYCICAJIAA2AlQgASEEIAIhD0EAIQAjAEGwAmsiByQAIAkiAygCTBoCQAJAAkACQCADKAIEDQAgAxCNCxogAygCBA0ADAELIAQtAAAiAUUNAgJAAkACQAJAA0ACQAJAIAFB/wFxEI4CBEADQCAEIgFBAWohBCABLQABEI4CDQALIANCABC5AQNAAn8gAygCBCICIAMoAmhHBEAgAyACQQFqNgIEIAItAAAMAQsgAxAqCxCOAg0ACyADKAIEIQQgAykDcEIAWQRAIAMgBEEBayIENgIECyAEIAMoAixrrCADKQN4IBZ8fCEWDAELAn8CQAJAIAQtAABBJUYEQCAELQABIgFBKkYNASABQSVHDQILIANCABC5AQJAIAQtAABBJUYEQANAAn8gAygCBCIBIAMoAmhHBEAgAyABQQFqNgIEIAEtAAAMAQsgAxAqCyIBEI4CDQALIARBAWohBAwBCyADKAIEIgEgAygCaEcEQCADIAFBAWo2AgQgAS0AACEBDAELIAMQKiEBCyAELQAAIAFHBEAgAykDcEIAWQRAIAMgAygCBEEBazYCBAsgAUEATg0NQQAhBiAODQ0MCwsgAygCBCADKAIsa6wgAykDeCAWfHwhFiAEIQEMAwtBACEIIARBAmoMAQsCQCABELgBRQ0AIAQtAAJBJEcNACAELQABQTBrIQIjAEEQayIBIA82AgwgASAPIAJBAnRBBGtBACACQQFLG2oiAUEEajYCCCABKAIAIQggBEEDagwBCyAPKAIAIQggD0EEaiEPIARBAWoLIQFBACEJQQAhBCABLQAAELgBBEADQCABLQAAIARBCmxqQTBrIQQgAS0AASESIAFBAWohASASELgBDQALCyABLQAAIg1B7QBHBH8gAQVBACEKIAhBAEchCSABLQABIQ1BACEAIAFBAWoLIgJBAWohAUEDIQUgCSEGAkACQAJAAkACQAJAIA1BwQBrDjoEDAQMBAQEDAwMDAMMDAwMDAwEDAwMDAQMDAQMDAwMDAQMBAQEBAQABAUMAQwEBAQMDAQCBAwMBAwCDAsgAkECaiABIAItAAFB6ABGIgIbIQFBfkF/IAIbIQUMBAsgAkECaiABIAItAAFB7ABGIgIbIQFBA0EBIAIbIQUMAwtBASEFDAILQQIhBQwBC0EAIQUgAiEBC0EBIAUgAS0AACIGQS9xQQNGIgIbIRACQCAGQSByIAYgAhsiC0HbAEYNAAJAIAtB7gBHBEAgC0HjAEcNAUEBIAQgBEEBTBshBAwCCyAIIBAgFhDLCgwCCyADQgAQuQEDQAJ/IAMoAgQiAiADKAJoRwRAIAMgAkEBajYCBCACLQAADAELIAMQKgsQjgINAAsgAygCBCECIAMpA3BCAFkEQCADIAJBAWsiAjYCBAsgAiADKAIsa6wgAykDeCAWfHwhFgsgAyAErCIVELkBAkAgAygCBCICIAMoAmhHBEAgAyACQQFqNgIEDAELIAMQKkEASA0GCyADKQNwQgBZBEAgAyADKAIEQQFrNgIEC0EQIQICQAJAAkACQAJAAkACQAJAAkACQCALQdgAaw4hBgkJAgkJCQkJAQkCBAEBAQkFCQkJCQkDBgkJAgkECQkGAAsgC0HBAGsiAkEGS0EBIAJ0QfEAcUVyDQgLIAdBCGogAyAQQQAQiQsgAykDeEIAIAMoAgQgAygCLGusfVINBQwMCyALQRByQfMARgRAIAdBIGpBf0GBAhAeGiAHQQA6ACAgC0HzAEcNBiAHQQA6AEEgB0EAOgAuIAdBADYBKgwGCyAHQSBqIAEtAAEiBUHeAEYiBkGBAhAeGiAHQQA6ACAgAUECaiABQQFqIAYbIQICfwJAAkAgAUECQQEgBhtqLQAAIgFBLUcEQCABQd0ARg0BIAVB3gBHIQUgAgwDCyAHIAVB3gBHIgU6AE4MAQsgByAFQd4ARyIFOgB+CyACQQFqCyEBA0ACQCABLQAAIgJBLUcEQCACRQ0PIAJB3QBGDQgMAQtBLSECIAEtAAEiDEUgDEHdAEZyDQAgAUEBaiEGAkAgDCABQQFrLQAAIgFNBEAgDCECDAELA0AgAUEBaiIBIAdBIGpqIAU6AAAgASAGLQAAIgJJDQALCyAGIQELIAIgB2ogBToAISABQQFqIQEMAAsAC0EIIQIMAgtBCiECDAELQQAhAgtCACETQQAhBUEAIQZBACENIwBBEGsiESQAAkAgAkEBRyACQSRNcUUEQEHwwgJBHDYCAAwBCwNAAn8gAygCBCIEIAMoAmhHBEAgAyAEQQFqNgIEIAQtAAAMAQsgAxAqCyIEEI4CDQALAkACQCAEQStrDgMAAQABC0F/QQAgBEEtRhshDSADKAIEIgQgAygCaEcEQCADIARBAWo2AgQgBC0AACEEDAELIAMQKiEECwJAAkACQAJAIAJBAEcgAkEQR3EgBEEwR3JFBEACfyADKAIEIgQgAygCaEcEQCADIARBAWo2AgQgBC0AAAwBCyADECoLIgRBX3FB2ABGBEBBECECAn8gAygCBCIEIAMoAmhHBEAgAyAEQQFqNgIEIAQtAAAMAQsgAxAqCyIEQZHpAWotAABBEEkNAyADKQNwQgBZBEAgAyADKAIEQQFrNgIECyADQgAQuQEMBgsgAg0BQQghAgwCCyACQQogAhsiAiAEQZHpAWotAABLDQAgAykDcEIAWQRAIAMgAygCBEEBazYCBAsgA0IAELkBQfDCAkEcNgIADAQLIAJBCkcNACAEQTBrIgVBCU0EQEEAIQQDQCAEQQpsIAVqIgRBmbPmzAFJAn8gAygCBCICIAMoAmhHBEAgAyACQQFqNgIEIAItAAAMAQsgAxAqC0EwayIFQQlNcQ0ACyAErSETCyAFQQlLDQIgE0IKfiEVIAWtIRQDQAJ/IAMoAgQiAiADKAJoRwRAIAMgAkEBajYCBCACLQAADAELIAMQKgsiBEEwayIGQQlNIBQgFXwiE0Kas+bMmbPmzBlUcUUEQEEKIQIgBkEJTQ0DDAQLIBNCCn4iFSAGrSIUQn+FWA0AC0EKIQIMAQsgAiACQQFrcQRAIARBkekBai0AACIGIAJJBEADQCAGIAIgBWxqIgVBx+PxOEkCfyADKAIEIgYgAygCaEcEQCADIAZBAWo2AgQgBi0AAAwBCyADECoLIgRBkekBai0AACIGIAJJcQ0ACyAFrSETCyACIAZNDQEgAq0hFwNAIBMgF34iFSAGrUL/AYMiFEJ/hVYNAiAUIBV8IRMgAgJ/IAMoAgQiBiADKAJoRwRAIAMgBkEBajYCBCAGLQAADAELIAMQKgsiBEGR6QFqLQAAIgZNDQIgESAXQgAgE0IAECkgESkDCFANAAsMAQsgAkEXbEEFdkEHcUGR6wFqLAAAIQwgBEGR6QFqLQAAIgUgAkkEQANAIAUgBiAMdHIiBkGAgIDAAEkCfyADKAIEIgUgAygCaEcEQCADIAVBAWo2AgQgBS0AAAwBCyADECoLIgRBkekBai0AACIFIAJJcQ0ACyAGrSETCyACIAVNDQBCfyAMrSIViCIUIBNUDQADQCAFrUL/AYMgEyAVhoQhEyACAn8gAygCBCIGIAMoAmhHBEAgAyAGQQFqNgIEIAYtAAAMAQsgAxAqCyIEQZHpAWotAAAiBU0NASATIBRYDQALCyACIARBkekBai0AAE0NAANAIAICfyADKAIEIgYgAygCaEcEQCADIAZBAWo2AgQgBi0AAAwBCyADECoLQZHpAWotAABLDQALQfDCAkHEADYCAEEAIQ1CfyETCyADKQNwQgBZBEAgAyADKAIEQQFrNgIECyANQQFyRSATQn9RcQRAQfDCAkHEADYCAEJ+IRMMAQsgEyANrCIUhSAUfSETCyARQRBqJAAgAykDeEIAIAMoAgQgAygCLGusfVENByAIRSALQfAAR3JFBEAgCCATPgIADAMLIAggECATEMsKDAILIAhFDQEgBykDECEVIAcpAwghFAJAAkACQCAQDgMAAQIECyAIIBQgFRD8CjgCAAwDCyAIIBQgFRCsBjkDAAwCCyAIIBQ3AwAgCCAVNwMIDAELQR8gBEEBaiALQeMARyIMGyEFAkAgEEEBRgRAIAghAiAJBEAgBUECdBBHIgJFDQcLIAdCADcCqAJBACEEA0AgAiEAAkADQAJ/IAMoAgQiAiADKAJoRwRAIAMgAkEBajYCBCACLQAADAELIAMQKgsiAiAHai0AIUUNASAHIAI6ABsgB0EcaiAHQRtqQQEgB0GoAmoQygQiAkF+Rg0AQQAhCiACQX9GDQsgAARAIAAgBEECdGogBygCHDYCACAEQQFqIQQLIAlFIAQgBUdyDQALQQEhBiAAIAVBAXRBAXIiBUECdBDTBCICDQEMCwsLQQAhCiAAIQUgB0GoAmoEfyAHKAKoAgVBAAsNCAwBCyAJBEBBACEEIAUQRyICRQ0GA0AgAiEAA0ACfyADKAIEIgIgAygCaEcEQCADIAJBAWo2AgQgAi0AAAwBCyADECoLIgIgB2otACFFBEBBACEFIAAhCgwECyAAIARqIAI6AAAgBEEBaiIEIAVHDQALQQEhBiAAIAVBAXRBAXIiBRDTBCICDQALIAAhCkEAIQAMCQtBACEEIAgEQANAAn8gAygCBCIAIAMoAmhHBEAgAyAAQQFqNgIEIAAtAAAMAQsgAxAqCyIAIAdqLQAhBEAgBCAIaiAAOgAAIARBAWohBAwBBUEAIQUgCCIAIQoMAwsACwALA0ACfyADKAIEIgAgAygCaEcEQCADIABBAWo2AgQgAC0AAAwBCyADECoLIAdqLQAhDQALQQAhAEEAIQpBACEFCyADKAIEIQIgAykDcEIAWQRAIAMgAkEBayICNgIECyADKQN4IAIgAygCLGusfCIUUCAMIBQgFVFyRXINAiAJBEAgCCAANgIACwJAIAtB4wBGDQAgBQRAIAUgBEECdGpBADYCAAsgCkUEQEEAIQoMAQsgBCAKakEAOgAACyAFIQALIAMoAgQgAygCLGusIAMpA3ggFnx8IRYgDiAIQQBHaiEOCyABQQFqIQQgAS0AASIBDQEMCAsLIAUhAAwBC0EBIQZBACEKQQAhAAwCCyAJIQYMAwsgCSEGCyAODQELQX8hDgsgBkUNACAKEAsgABALCyAHQbACaiQAIANBkAFqJAAgDgtDAAJAIABFDQACQAJAAkACQCABQQJqDgYAAQICBAMECyAAIAI8AAAPCyAAIAI9AQAPCyAAIAI+AgAPCyAAIAI3AwALCywBAX8gACgCACIBBEAgARDeCkF/EOsBRQRAIAAoAgBFDwsgAEEANgIAC0EBC50BAgN/AX4jAEEQayIEJAAgBCACKQMAQgBClfip+pe33puef0IAECkgBCkDCCAEKQMAhSIGp0H/AXFBgAJyIQIgBiABMQAeiKchAyABKAIQIQUgASgCDCEBA0AgAiABIANBA3RqKAIAT0UEQCADQQFqIgNBACADIAVHGyEDIAJBgAJqIQIMAQsLIAAgAzYCBCAAIAI2AgAgBEEQaiQACywBAX8gACgCACIBBEAgARDkCkF/EOsBRQRAIAAoAgBFDwsgAEEANgIAC0EBC5cFAQh/IAEQ0goEQEEEIAEgAUEETRshA0EBIAAgAEEBTRshBwNAAkAgAyAHakEBa0EAIANrcSIAIAcgACAHSxshBEEAIQEjAEEQayIIJAACQCADQQNxDQAgBCADcA0AAn8CQEEwAn8gA0EIRgRAIAQQRwwBC0EcIQEgA0EDcSADQQRJcg0BIANBAnYiACAAQQFrcQ0BQTAhAUFAIANrIARJDQECf0EQIQECQEEQQRAgAyADQRBNGyIAIABBEE0bIgIgAkEBa3FFBEAgAiEADAELA0AgASIAQQF0IQEgACACSQ0ACwsgBEFAIABrTwRAQfDCAkEwNgIAQQAMAQtBAEEQIARBC2pBeHEgBEELSRsiBSAAakEMahBHIgJFDQAaIAJBCGshAQJAIABBAWsgAnFFBEAgASEADAELIAJBBGsiCSgCACIEQXhxIAAgAmpBAWtBACAAa3FBCGsiAiAAQQAgAiABa0EPTRtqIgAgAWsiBmshAiAEQQNxRQRAIAEoAgAhASAAIAI2AgQgACABIAZqNgIADAELIAAgAiAAKAIEQQFxckECcjYCBCAAIAJqIgIgAigCBEEBcjYCBCAJIAYgCSgCAEEBcXJBAnI2AgAgASAGaiICIAIoAgRBAXI2AgQgASAGENIECwJAIAAoAgQiAkEDcUUNACACQXhxIgEgBUEQak0NACAAIAUgAkEBcXJBAnI2AgQgACAFaiIEIAEgBWsiAkEDcjYCBCAAIAFqIgEgASgCBEEBcjYCBCAEIAIQ0gQLIABBCGoLCyIARQ0BGiAIIAA2AgxBACEBCyABCyEAQQAgCCgCDCAAGyEBCyAIQRBqJAAgAQ0AQejYAigCACIARQ0AIAAREAAMAQsLIAEPCyAAEBcLBwAgASAAawsJACAAIAEQ0AoLBwAgAEEISwsTACABENIKBEAgABALDwsgABALC4EBAQN/IwBBEGsiBCQAIwBBIGsiAyQAIANBGGogACABEKAGIANBEGogA0EMaiIBIAMoAhggAygCHCACEJ8GIAMgACADKAIQEJ4GNgIMIAMgAiADKAIUEM0ENgIIIARBCGogASADQQhqENMBIANBIGokACAEKAIMIQUgBEEQaiQAIAULCQAgABDmARALCw4AQQAgACAAQX8Q6wEbC7cBAgR+AX8gACgCACIGKQMIIQIgASkDACIDIAYpAwAiBFIgAiABKQMIIgVSckUEQCAAQQE6ACBBAg8LAkACQCABLQAwIgZBBEYEfyACIAVSIAMgBFpyDQEgARCKASADfCAEVgRAIAEpAwAhAiAAKAIAKQMAIQMgAEEBOgAgIAAgAyACfTcDGEECDwsgAS0AMAUgBgtFDQELIAAgARCKASAAKQMIfDcDCAsgACAAKQMQQgF8NwMQQQALqQEBA38jAEEQayIDJAAgASACENEKIgVB7////wdNBEACQCAFENQDBEAgACAFEHsgACEEDAELIANBCGogACAFELUCQQFqEIoCIAMoAgwaIAAgAygCCCIEEJUBIAAgAygCDBCUASAAIAUQcAsDQCABIAJHBEAgBCABEIkBIARBAWohBCABQQFqIQEMAQsLIANBADoAByAEIANBB2oQiQEgA0EQaiQADwsQaAALEAAgAEIANwIAIABBADYCCAsPACAAIAAoAhggAWo2AhgLFwAgACACNgIcIAAgATYCFCAAIAE2AhgLVwECfwJAIAAoAgAiAkUNAAJ/IAIoAhgiAyACKAIcRgRAIAIgASACKAIAKAI0EQMADAELIAIgA0EEajYCGCADIAE2AgAgAQtBfxDrAUUNACAAQQA2AgALCzEBAX8gACgCDCIBIAAoAhBGBEAgACAAKAIAKAIoEQIADwsgACABQQRqNgIMIAEoAgALJwEBfyAAKAIMIgEgACgCEEYEQCAAIAAoAgAoAiQRAgAPCyABKAIAC0QBAX8gACgCCCIDIAIgAWtB8ABtQfAAbGohAgNAIAIgA0ZFBEAgAyABEDhB8ABqIQMgAUHwAGohAQwBCwsgACACNgIICycBAX8CQCAAKAIAIgJFDQAgAiABEOIKQX8Q6wFFDQAgAEEANgIACwsJACAAEKQGEAsLPQEBfyAAKAIYIgIgACgCHEYEQCAAIAEQuwIgACgCACgCNBEDAA8LIAAgAkEBajYCGCACIAE6AAAgARC7Ags0AQF/IAAoAgwiASAAKAIQRgRAIAAgACgCACgCKBECAA8LIAAgAUEBajYCDCABLAAAELsCCyoBAX8gACgCDCIBIAAoAhBGBEAgACAAKAIAKAIkEQIADwsgASwAABC7AgsPACAAIAAoAgAoAhgRAgALCAAgACgCEEULBABBfwsjAANAIAAgAUcEQCACQcgAayAAQcgAayIAEGchAgwBCwsgAgsUACAAIAAoAgQgARA4QfAAajYCBAsOACAAIAAgAWogAhDUCgsjAANAIAAgAUcEQCACQfAAayAAQfAAayIAEDghAgwBCwsgAgsIACAAEJ0GGgsKACABIABrQQJ1C4QBAQN/IwBBEGsiBSQAIAVBADoADiMAQRBrIgMkACAAIAEQ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IAMoAgQiAkYEQCAAIQIMAQsgAyACQQhrIgQ2AgQgA0EIaiAEEDYNAQsLIAIgAykDCDcDACAGQQFqIgZBCEcNACADKAIUQQhqIAFGIQUMAgsgAygCFCIEQQhqIQIMAAsACyADQSBqJAAgBQsMACAAIAAoAgQQ8QoLzQEBAX8jAEEgayIGJAAgBiABNgIYIAYgADYCHCAGIAI2AhQgBiADNgIQIAYgBDYCDCAAIAEgAiADIAUQ9gohBQJAIAQgAxA2RQ0AIAZBEGogBkEMahBYIAYoAhAgAhA2RQRAIAVBAWohBQwBCyAGQRRqIAZBEGoQWCAGKAIUIAEQNkUEQCAFQQJqIQUMAQsgBkEYaiAGQRRqEFggBigCGCAAEDZFBEAgBUEDaiEFDAELIAVBBGohBSAGQRxqIAZBGGoQWAsgBkEgaiQAIAULEgAgACABIAIgAyAEIAUQ+QoaCxAAIAAgASACIAMgBBD2ChoLtQMCA38BfiMAQSBrIgMkAAJAIAFC////////////AIMiBUKAgICAgIDAwD99IAVCgICAgICAwL/AAH1UBEAgAUIZiKchBCAAUCABQv///w+DIgVCgICACFQgBUKAgIAIURtFBEAgBEGBgICABGohAgwCCyAEQYCAgIAEaiECIAAgBUKAgIAIhYRCAFINASACIARBAXFqIQIMAQsgAFAgBUKAgICAgIDA//8AVCAFQoCAgICAgMD//wBRG0UEQCABQhmIp0H///8BcUGAgID+B3IhAgwBC0GAgID8ByECIAVC////////v7/AAFYNAEEAIQIgBUIwiKciBEGR/gBJDQAgA0EQaiAAIAFC////////P4NCgICAgICAwACEIgUgBEGB/gBrEGMgAyAAIAVBgf8AIARrEL0CIAMpAwgiAEIZiKchAiADKQMAIAMpAxAgAykDGIRCAFKthCIFUCAAQv///w+DIgBCgICACFQgAEKAgIAIURtFBEAgAkEBaiECDAELIAUgAEKAgIAIhYRCAFINACACQQFxIAJqIQILIANBIGokACACIAFCIIinQYCAgIB4cXK+C6oPAgV/D34jAEHQAmsiBSQAIARC////////P4MhCyACQv///////z+DIQogAiAEhUKAgICAgICAgIB/gyENIARCMIinQf//AXEhCAJAAkAgAkIwiKdB//8BcSIJQf//AWtBgoB+TwRAIAhB//8Ba0GBgH5LDQELIAFQIAJC////////////AIMiDEKAgICAgIDA//8AVCAMQoCAgICAgMD//wBRG0UEQCACQoCAgICAgCCEIQ0MAgsgA1AgBEL///////////8AgyICQoCAgICAgMD//wBUIAJCgICAgICAwP//AFEbRQRAIARCgICAgICAIIQhDSADIQEMAgsgASAMQoCAgICAgMD//wCFhFAEQCADIAJCgICAgICAwP//AIWEUARAQgAhAUKAgICAgIDg//8AIQ0MAwsgDUKAgICAgIDA//8AhCENQgAhAQwCCyADIAJCgICAgICAwP//AIWEUARAQgAhAQwCCyABIAyEUARAQoCAgICAgOD//wAgDSACIAOEUBshDUIAIQEMAgsgAiADhFAEQCANQoCAgICAgMD//wCEIQ1CACEBDAILIAxC////////P1gEQCAFQcACaiABIAogASAKIApQIgYbeSAGQQZ0rXynIgZBD2sQY0EQIAZrIQYgBSkDyAIhCiAFKQPAAiEBCyACQv///////z9WDQAgBUGwAmogAyALIAMgCyALUCIHG3kgB0EGdK18pyIHQQ9rEGMgBiAHakEQayEGIAUpA7gCIQsgBSkDsAIhAwsgBUGgAmogC0KAgICAgIDAAIQiEkIPhiADQjGIhCICQgBCgICAgLDmvIL1ACACfSIEQgAQKSAFQZACakIAIAUpA6gCfUIAIARCABApIAVBgAJqIAUpA5gCQgGGIAUpA5ACQj+IhCIEQgAgAkIAECkgBUHwAWogBEIAQgAgBSkDiAJ9QgAQKSAFQeABaiAFKQP4AUIBhiAFKQPwAUI/iIQiBEIAIAJCABApIAVB0AFqIARCAEIAIAUpA+gBfUIAECkgBUHAAWogBSkD2AFCAYYgBSkD0AFCP4iEIgRCACACQgAQKSAFQbABaiAEQgBCACAFKQPIAX1CABApIAVBoAFqIAJCACAFKQO4AUIBhiAFKQOwAUI/iIRCAX0iAkIAECkgBUGQAWogA0IPhkIAIAJCABApIAVB8ABqIAJCAEIAIAUpA6gBIAUpA6ABIgwgBSkDmAF8IgQgDFStfCAEQgFWrXx9QgAQKSAFQYABakIBIAR9QgAgAkIAECkgBiAJIAhraiEGAn8gBSkDcCITQgGGIg4gBSkDiAEiD0IBhiAFKQOA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NwMADwsgAiACKAIAQQdqQXhxIgFBCGo2AgAgACABKwMAOQMADwsgACACEIALCw8LIAIgAigCACIBQQRqNgIAIAAgATQCADcDAA8LIAIgAigCACIBQQRqNgIAIAAgATUCADcDAA8LIAIgAigCAEEHakF4cSIBQQhqNgIAIAAgASkDADcDAAttAQR/IAAoAgAsAAAQuAFFBEBBAA8LA0AgACgCACEDQX8hASACQcyZs+YATQRAQX8gAywAAEEwayIEIAJBCmwiAWogBCABQf////8Hc0obIQELIAAgA0EBajYCACABIQIgAywAARC4AQ0ACyABC4sTAhZ/AX4jAEHQAGsiBiQAIAYgATYCTCAGQTdqIRYgBkE4aiEQAkACQAJAA0BBACEFA0AgASELIAUgD0H/////B3NKDQIgBSAPaiEPAkACQAJAIAEiBS0AACIHBEADQAJAAkAgB0H/AXEiAUUEQCAFIQEMAQsgAUElRw0BIAUhBwNAIActAAFBJUcEQCAHIQEMAgsgBUEBaiEFIActAAIhGCAHQQJqIgEhByAYQSVGDQALCyAFIAtrIgUgD0H/////B3MiF0oNCCAABEAgACALIAUQXwsgBQ0GIAYgATYCTCABQQFqIQVBfyEMAkAgASwAARC4AUUNACABLQACQSRHDQAgAUEDaiEFIAEsAAFBMGshDEEBIRELIAYgBTYCTEEAIQoCQCAFLAAAIgdBIGsiAUEfSwRAIAUhCQwBCyAFIQlBASABdCIBQYnRBHFFDQADQCAGIAVBAWoiCTYCTCABIApyIQogBSwAASIHQSBrIgFBIE8NASAJIQVBASABdCIBQYnRBHENAAsLAkAgB0EqRgRAIAlBAWohBwJ/AkAgCSwAARC4AUUNACAJLQACQSRHDQAgBywAAEEwayEBIAlBA2ohB0EBIRECfyAARQRAIAQgAUECdGpBCjYCAEEADAELIAMgAUEDdGooAgALDAELIBENBiAARQRAIAYgBzYCTEEAIRFBACENDAMLIAIgAigCACIBQQRqNgIAQQAhESABKAIACyENIAYgBzYCTCANQQBODQFBACANayENIApBgMAAciEKDAELIAZBzABqEIMLIg1BAEgNCSAGKAJMIQcLQQAhBUF/IQgCfyAHLQAAQS5HBEAgByEBQQAMAQsgBy0AAUEqRgRAIAdBAmohAQJAAkAgBywAAhC4AUUNACAHLQADQSRHDQAgASwAAEEwayEBAn8gAEUEQCAEIAFBAnRqQQo2AgBBAAwBCyADIAFBA3RqKAIACyEIIAdBBGohAQwBCyARDQYgAEUEQEEAIQgMAQsgAiACKAIAIglBBGo2AgAgCSgCACEICyAGIAE2AkwgCEF/c0EfdgwBCyAGIAdBAWo2AkwgBkHMAGoQgwshCCAGKAJMIQFBAQshEgNAIAUhE0EcIQ4gASIULAAAIgVB+wBrQUZJDQogAUEBaiEBIAUgE0E6bGpBz9wBai0AACIFQQFrQQhJDQALIAYgATYCTAJAIAVBG0cEQCAFRQ0LIAxBAE4EQCAARQRAIAQgDEECdGogBTYCAAwLCyAGIAMgDEEDdGopAwA3A0AMAgsgAEUNByAGQUBrIAUgAhCCCwwBCyAMQQBODQpBACEFIABFDQcLQX8hDiAALQAAQSBxDQogCkH//3txIgcgCiAKQYDAAHEbIQpBACEMQZgLIRUgECEJAkACQAJAAn8CQAJAAkACQAJ/AkACQAJAAkACQAJAAkAgFCwAACIFQV9xIAUgBUEPcUEDRhsgBSATGyIFQdgAaw4hBBQUFBQUFBQUDhQPBg4ODhQGFBQUFAIFAxQUCRQBFBQEAAsCQCAFQcEAaw4HDhQLFA4ODgALIAVB0wBGDQkMEwsgBikDQCEbQZgLDAULQQAhBQJAAkACQAJAAkACQAJAIBNB/wFxDggAAQIDBBoFBhoLIAYoAkAgDzYCAAwZCyAGKAJAIA82AgAMGAsgBigCQCAPrDcDAAwXCyAGKAJAIA87AQAMFgsgBigCQCAPOgAADBULIAYoAkAgDzYCAAwUCyAGKAJAIA+sNwMADBMLQQggCCAIQQhNGyEIIApBCHIhCkH4ACEFCyAQIQsgBUEgcSEUIAYpA0AiG1BFBEADQCALQQFrIgsgG6dBD3FB4OABai0AACAUcjoAACAbQg9WIRkgG0IEiCEbIBkNAAsLIApBCHFFIAYpA0BQcg0DIAVBBHZBmAtqIRVBAiEMDAMLIBAhBSAGKQNAIhtQRQRAA0AgBUEBayIFIBunQQdxQTByOgAAIBtCB1YhGiAbQgOIIRsgGg0ACwsgBSELIApBCHFFDQIgCCAQIAVrIgVBAWogBSAISBshCAwCCyAGKQNAIhtCAFMEQCAGQgAgG30iGzcDQEEBIQxBmAsMAQsgCkGAEHEEQEEBIQxBmQsMAQtBmgtBmAsgCkEBcSIMGwshFSAbIBAQhAMhCwsgEkEAIAhBAEgbDQ8gCkH//3txIAogEhshCiAGKQNAIhtCAFIgCHJFBEAgECELQQAhCAwMCyAIIBtQIBAgC2tqIgUgBSAISBshCAwLCyAGKAJAIgVBo9AAIAUbIgtBAEH/////ByAIIAhB/////wdPGyIJELAGIgUgC2sgCSAFGyIFIAtqIQkgCEEATgRAIAchCiAFIQgMCwsgByEKIAUhCCAJLQAADQ4MCgsgCARAIAYoAkAMAgtBACEFIABBICANQQAgChBkDAILIAZBADYCDCAGIAYpA0A+AgggBiAGQQhqIgU2AkBBfyEIIAULIQdBACEFAkADQCAHKAIAIgtFDQEgBkEEaiALEP8KIglBAEgiCyAJIAggBWtLckUEQCAHQQRqIQcgBSAJaiIFIAhJDQEMAgsLIAsNDgtBPSEOIAVBAEgNDCAAQSAgDSAFIAoQZCAFRQRAQQAhBQwBC0EAIQkgBigCQCEHA0AgBygCACILRQ0BIAZBBGoiCCALEP8KIgsgCWoiCSAFSw0BIAAgCCALEF8gB0EEaiEHIAUgCUsNAAsLIABBICANIAUgCkGAwABzEGQgDSAFIAUgDUgbIQUMCAsgEkEAIAhBAEgbDQlBPSEOIAAgBisDQCANIAggCiAFEIELIgVBAE4NBwwKCyAGIAYpA0A8ADdBASEIIBYhCyAHIQoMBAsgBS0AASEHIAVBAWohBQwACwALIA8hDiAADQcgEUUNAkEBIQUDQCAEIAVBAnRqKAIAIgAEQCADIAVBA3RqIAAgAhCCC0EBIQ4gBUEBaiIFQQpHDQEMCQsLQQEhDiAFQQpPDQcDQCAEIAVBAnRqKAIADQEgBUEBaiIFQQpHDQALDAcLQRwhDgwFCyAIIAkgC2siByAHIAhIGyIJIAxB/////wdzSg0DQT0hDiANIAkgDGoiCCAIIA1IGyIFIBdKDQQgAEEgIAUgCCAKEGQgACAVIAwQXyAAQTAgBSAIIApBgIAEcxBkIABBMCAJIAdBABBkIAAgCyAHEF8gAEEgIAUgCCAKQYDAAHMQZAwBCwsLQQAhDgwCC0E9IQ4LQfDCAiAONgIAQX8hDgsgBkHQAGokACAOC38CAX8BfiAAvSIDQjSIp0H/D3EiAkH/D0cEfCACRQRAIAEgAEQAAAAAAAAAAGEEf0EABSAARAAAAAAAAPBDoiABEIULIQAgASgCAEFAags2AgAgAA8LIAEgAkH+B2s2AgAgA0L/////////h4B/g0KAgICAgICA8D+EvwUgAAsLWQEBfyAAIAAoAkgiAUEBayABcjYCSCAAKAIAIgFBCHEEQCAAIAFBIHI2AgBBfw8LIABCADcCBCAAIAAoAiwiATYCHCAAIAE2AhQgACABIAAoAjBqNgIQQQALkQQCB38EfiMAQRBrIggkAAJAAkACQCACQSRMBEAgAC0AACIFDQEgACEEDAILQfDCAkEcNgIAQgAhAwwCCyAAIQQCQANAIAXAEI4CRQ0BIAQtAAEhBSAEQQFqIQQgBQ0ACwwBCwJAIAQtAAAiBUEraw4DAAEAAQtBf0EAIAVBLUYbIQcgBEEBaiEECwJ/AkAgAkEQckEQRw0AIAQtAABBMEcNAEEBIQkgBC0AAUHfAXFB2ABGBEAgBEECaiEEQRAMAgsgBEEBaiEEIAJBCCACGwwBCyACQQogAhsLIgqtIQxBACECA0ACQEFQIQUCQCAELAAAIgZBMGtB/wFxQQpJDQBBqX8hBSAGQeEAa0H/AXFBGkkNAEFJIQUgBkHBAGtB/wFxQRlLDQELIAUgBmoiBiAKTg0AIAggDEIAIAtCABApQQEhBQJAIAgpAwhCAFINACALIAx+Ig0gBq0iDkJ/hVYNACANIA58IQtBASEJIAIhBQsgBEEBaiEEIAUhAgwBCwsgAQRAIAEgBCAAIAkbNgIACwJAAkAgAgRAQfDCAkHEADYCACAHQQAgA0IBgyIMUBshByADIQsMAQsgAyALVg0BIANCAYMhDAsgDKcgB3JFBEBB8MICQcQANgIAIANCAX0hAwwCCyADIAtaDQBB8MICQcQANgIADAELIAsgB6wiA4UgA30hAwsgCEEQaiQAIAMLjQQCBH8BfgJAAkACfwJAAkACfyAAKAIEIgIgACgCaEcEQCAAIAJBAWo2AgQgAi0AAAwBCyAAECoLIgJBK2sOAwABAAELIAJBLUYgAUUCfyAAKAIEIgMgACgCaEcEQCAAIANBAWo2AgQgAy0AAAwBCyAAECoLIgNBOmsiAUF1S3INARogACkDcEIAUw0CIAAgACgCBEEBazYCBAwCCyACQTprIQEgAiEDQQALIQQgAUF2SQ0AAkAgA0Ewa0EKTw0AQQAhAgNAIAMgAkEKbGohBQJ/IAAoAgQiAiAAKAJoRwRAIAAgAkEBajYCBCACLQAADAELIAAQKgshAyAFQTBrIQIgAkHMmbPmAEggA0EwayIBQQlNcQ0ACyACrCEGIAFBCk8NAANAIAOtIAZCCn58IQYCfyAAKAIEIgEgACgCaEcEQCAAIAFBAWo2AgQgAS0AAAwBCyAAECoLIgNBMGsiAUEJTSAGQjB9IgZCro+F18fC66MBU3ENAAsgAUEKTw0AA0ACfyAAKAIEIgEgACgCaEcEQCAAIAFBAWo2AgQgAS0AAAwBCyAAECoLQTBrQQpJDQALCyAAKQNwQgBZBEAgACAAKAIEQQFrNgIEC0IAIAZ9IAYgBBshBgwBC0KAgICAgICAgIB/IQYgACkDcEIAUw0AIAAgACgCBEEBazYCBEKAgICAgICAgIB/DwsgBguUMgMRfwd+AXwjAEEwayIOJAACQCACQQJNBEAgAkECdCICQfzcAWooAgAhEiACQfDcAWooAgAhEQNAAn8gASgCBCICIAEoAmhHBEAgASACQQFqNgIEIAItAAAMAQsgARAqCyICEI4CDQALQQEhCgJAAkAgAkEraw4DAAEAAQtBf0EBIAJBLUYbIQogASgCBCICIAEoAmhHBEAgASACQQFqNgIEIAItAAAhAgwBCyABECohAgsCQAJAA0AgBkG6CWosAAAgAkEgckYEQAJAIAZBBksNACABKAIEIgIgASgCaEcEQCABIAJBAWo2AgQgAi0AACECDAELIAEQKiECCyAGQQFqIgZBCEcNAQwCCwsgBkEDRwRAIAZBCEYiDA0BIANFIAZBBElyDQIgDA0BCyABKQNwIhVCAFkEQCABIAEoAgRBAWs2AgQLIANFIAZBBElyDQAgFUIAUyECA0AgAkUEQCABIAEoAgRBAWs2AgQLIAZBAWsiBkEDSw0ACwtCACEVIwBBEGsiAyQAAn4gCrJDAACAf5S8IgJB/////wdxIgFBgICABGtB////9wdNBEAgAa1CGYZCgICAgICAgMA/fAwBCyACrUIZhkKAgICAgIDA//8AhCABQYCAgPwHTw0AGkIAIAFFDQAaIAMgAa1CACABZyIBQdEAahBjIAMpAwAhFSADKQMIQoCAgICAgMAAhUGJ/wAgAWutQjCGhAshFiAOIBU3AwAgDiAWIAJBgICAgHhxrUIghoQ3AwggA0EQaiQAIA4pAwghFSAOKQMAIRYMAgsCQAJAAkAgBg0AQQAhBgNAIAZB+i1qLAAAIAJBIHJHDQECQCAGQQFLDQAgASgCBCICIAEoAmhHBEAgASACQQFqNgIEIAItAAAhAgwBCyABECohAgsgBkEBaiIGQQNHDQALDAELAkACQCAGDgQAAQECAQsCQCACQTBHDQACfyABKAIEIgwgASgCaEcEQCABIAxBAWo2AgQgDC0AAAwBCyABECoLQV9xQdgARgRAIwBBsANrIgUkAAJ/IAEoAgQiAiABKAJoRwRAIAEgAkEBajYCBCACLQAADAELIAEQKgshBgJAAn8DQAJAIAZBMEcEQCAGQS5HDQQgASgCBCICIAEoAmhGDQEgASACQQFqNgIEIAItAAAMAwsgASgCBCICIAEoAmhHBEAgASACQQFqNgIEIAItAAAhBgUgARAqIQYLQQEhEAwBCwsgARAqCyEGQQEhCyAGQTBHDQADQCAYQgF9IRgCfyABKAIEIgIgASgCaEcEQCABIAJBAWo2AgQgAi0AAAwBCyABECoLIgZBMEYNAAtBASEQC0KAgICAgIDA/z8hFgNAAkAgBkEgciENAkACQCAGQTBrIgxBCkkNACAGQS5HIgIgDUHhAGtBBUtxDQIgAg0AIAsNAkEBIQsgFSEYDAELIA1B1wBrIAwgBkE5ShshAgJAIBVCB1cEQCACIAdBBHRqIQcMAQsgFUIcWARAIAVBMGogAhCLASAFQSBqIBogFkIAQoCAgICAgMD9PxA6IAVBEGogBSkDMCAFKQM4IAUpAyAiGiAFKQMoIhYQOiAFIAUpAxAgBSkDGCAXIBkQfCAFKQMIIRkgBSkDACEXDAELIAJFIAhyDQAgBUHQAGogGiAWQgBCgICAgICAgP8/EDogBUFAayAFKQNQIAUpA1ggFyAZEHwgBSkDSCEZQQEhCCAFKQNAIRcLIBVCAXwhFUEBIRALIAEoAgQiAiABKAJoRwR/IAEgAkEBajYCBCACLQAABSABECoLIQYMAQsLAn4gEEUEQAJAAkAgASkDcEIAWQRAIAEgASgCBCICQQFrNgIEIANFDQEgASACQQJrNgIEIAtFDQIgASACQQNrNgIEDAILIAMNAQsgAUIAELkBCyAFQeAAaiAKt0QAAAAAAAAAAKIQ1QEgBSkDYCEXIAUpA2gMAQsgFUIHVwRAIBUhFgNAIAdBBHQhByAWQgF8IhZCCFINAAsLAkACQAJAIAZBX3FB0ABGBEAgASADEIgLIhZCgICAgICAgICAf1INAyADBEAgASkDcEIAWQ0CDAMLQgAhFyABQgAQuQFCAAwEC0IAIRYgASkDcEIAUw0CCyABIAEoAgRBAWs2AgQLQgAhFgsgB0UEQCAFQfAAaiAKt0QAAAAAAAAAAKIQ1QEgBSkDcCEXIAUpA3gMAQsgGCAVIAsbQgKGIBZ8QiB9IhVBACASa61VBEBB8MICQcQANgIAIAVBoAFqIAoQiwEgBUGQAWogBSkDoAEgBSkDqAFCf0L///////+///8AEDogBUGAAWogBSkDkAEgBSkDmAFCf0L///////+///8AEDogBSkDgAEhFyAFKQOIAQwBCyASQeIBa6wgFVcEQCAHQQBOBEADQCAFQaADaiAXIBlCAEKAgICAgIDA/79/EHwgFyAZQoCAgICAgID/PxD+CiEBIAVBkANqIBcgGSAFKQOgAyAXIAFBAE4iARsgBSkDqAMgGSABGxB8IBVCAX0hFSAFKQOYAyEZIAUpA5ADIRcgB0EBdCABciIHQQBODQALCwJ+IBUgEqx9QiB8IhanIgFBACABQQBKGyARIBYgEa1TGyIBQfEATgRAIAVBgANqIAoQiwEgBSkDiAMhGCAFKQOAAyEaQgAMAQsgBUHgAmpBkAEgAWsQtAYQ1QEgBUHQAmogChCLASAFQfACaiAFKQPgAiAFKQPoAiAFKQPQAiIaIAUpA9gCIhgQjAsgBSkD+AIhGyAFKQPwAgshFiAFQcACaiAHIAdBAXFFIBcgGUIAQgAQvgJBAEcgAUEgSHFxIgFqEIIDIAVBsAJqIBogGCAFKQPAAiAFKQPIAhA6IAVBkAJqIAUpA7ACIAUpA7gCIBYgGxB8IAVBoAJqIBogGEIAIBcgARtCACAZIAEbEDogBUGAAmogBSkDoAIgBSkDqAIgBSkDkAIgBSkDmAIQfCAFQfABaiAFKQOAAiAFKQOIAiAWIBsQrQYgBSkD8AEiGCAFKQP4ASIWQgBCABC+AkUEQEHwwgJBxAA2AgALIAVB4AFqIBggFiAVpxCLCyAFKQPgASEXIAUpA+gBDAELQfDCAkHEADYCACAFQdABaiAKEIsBIAVBwAFqIAUpA9ABIAUpA9gBQgBCgICAgICAwAAQOiAFQbABaiAFKQPAASAFKQPIAUIAQoCAgICAgMAAEDogBSkDsAEhFyAFKQO4AQshFSAOIBc3AxAgDiAVNwMYIAVBsANqJAAgDikDGCEVIA4pAxAhFgwGCyABKQNwQgBTDQAgASABKAIEQQFrNgIECyABIQggAiEHIAohDCADIQpBACEDIwBBkMYAayIEJABBACASayINIBFrIRQCQAJ/A0ACQCAHQTBHBEAgB0EuRw0EIAgoAgQiASAIKAJoRg0BIAggAUEBajYCBCABLQAADAMLIAgoAgQiASAIKAJoRwRAIAggAUEBajYCBCABLQAAIQcFIAgQKiEHC0EBIQMMAQsLIAgQKgshB0EBIRAgB0EwRw0AA0AgFUIBfSEVAn8gCCgCBCIBIAgoAmhHBEAgCCABQQFqNgIEIAEtAAAMAQsgCBAqCyIHQTBGDQALQQEhAwsgBEEANgKQBgJ+AkACQAJAAkAgB0EuRiIBIAdBMGsiAkEJTXIEQANAAkAgAUEBcQRAIBBFBEAgFiEVQQEhEAwCCyADRSEBDAQLIBZCAXwhFiALQfwPTARAIA8gFqcgB0EwRhshDyAEQZAGaiALQQJ0aiIBIAkEfyAHIAEoAgBBCmxqQTBrBSACCzYCAEEBIQNBACAJQQFqIgEgAUEJRiIBGyEJIAEgC2ohCwwBCyAHQTBGDQAgBCAEKAKARkEBcjYCgEZB3I8BIQ8LAn8gCCgCBCIBIAgoAmhHBEAgCCABQQFqNgIEIAEtAAAMAQsgCBAqCyIHQS5GIgEgB0EwayICQQpJcg0ACwsgFSAWIBAbIRUgA0UgB0FfcUHFAEdyRQRAAkAgCCAKEIgLIhdCgICAgICAgICAf1INACAKRQ0EQgAhFyAIKQNwQgBTDQAgCCAIKAIEQQFrNgIECyAVIBd8IRUMBAsgA0UhASAHQQBIDQELIAgpA3BCAFMNACAIIAgoAgRBAWs2AgQLIAFFDQFB8MICQRw2AgALIAhCABC5AUIAIRVCAAwBCyAEKAKQBiIBRQRAIAQgDLdEAAAAAAAAAACiENUBIAQpAwghFSAEKQMADAELIBUgFlIgFkIJVXIgEUEeTEEAIAEgEXYbckUEQCAEQTBqIAwQiwEgBEEgaiABEIIDIARBEGogBCkDMCAEKQM4IAQpAyAgBCkDKBA6IAQpAxghFSAEKQMQDAELIA1BAXatIBVTBEBB8MICQcQANgIAIARB4ABqIAwQiwEgBEHQAGogBCkDYCAEKQNoQn9C////////v///ABA6IARBQGsgBCkDUCAEKQNYQn9C////////v///ABA6IAQpA0ghFSAEKQNADAELIBJB4gFrrCAVVQRAQfDCAkHEADYCACAEQZABaiAMEIsBIARBgAFqIAQpA5ABIAQpA5gBQgBCgICAgICAwAAQOiAEQfAAaiAEKQOAASAEKQOIAUIAQoCAgICAgMAAEDogBCkDeCEVIAQpA3AMAQsgCQRAIAlBCEwEQCAEQZAGaiALQQJ0aiIBKAIAIQYDQCAGQQpsIQYgCUEBaiIJQQlHDQALIAEgBjYCAAsgC0EBaiELCwJAIBWnIgkgD0ggD0EJTnIgCUERSnINACAJQQlGBEAgBEHAAWogDBCLASAEQbABaiAEKAKQBhCCAyAEQaABaiAEKQPAASAEKQPIASAEKQOwASAEKQO4ARA6IAQpA6gBIRUgBCkDoAEMAgsgCUEITARAIARBkAJqIAwQiwEgBEGAAmogBCgCkAYQggMgBEHwAWogBCkDkAIgBCkDmAIgBCkDgAIgBCkDiAIQOiAEQeABakEAIAlrQQJ0QfDcAWooAgAQiwEgBEHQAWogBCkD8AEgBCkD+AEgBCkD4AEgBCkD6AEQ/QogBCkD2AEhFSAEKQPQAQwCCyARIAlBfWxqQRtqIgJBHkxBACAEKAKQBiIBIAJ2Gw0AIARB4AJqIAwQiwEgBEHQAmogARCCAyAEQcACaiAEKQPgAiAEKQPoAiAEKQPQAiAEKQPYAhA6IARBsAJqIAlBAnRBqNwBaigCABCLASAEQaACaiAEKQPAAiAEKQPIAiAEKQOwAiAEKQO4AhA6IAQpA6gCIRUgBCkDoAIMAQsDQCAEQZAGaiALIgFBAWsiC0ECdGooAgBFDQALQQAhDwJAIAlBCW8iA0UEQEEAIQIMAQtBACECIANBCWogAyAJQQBIGyEFAkAgAUUEQEEAIQEMAQtBgJTr3ANBACAFa0ECdEHw3AFqKAIAIhBtIQ1BACEHQQAhBgNAIARBkAZqIgsgBkECdGoiAyAHIAMoAgAiCCAQbiIKaiIDNgIAIAJBAWpB/w9xIAIgA0UgAiAGRnEiAxshAiAJQQlrIAkgAxshCSANIAggCiAQbGtsIQcgBkEBaiIGIAFHDQALIAdFDQAgAUECdCALaiAHNgIAIAFBAWohAQsgCSAFa0EJaiEJCwNAIARBkAZqIAJBAnRqIQcCQANAIAlBJE4EQCAJQSRHDQIgBygCAEHR6fkETw0CCyABQf8PaiELQQAhAwNAIAEhCiADrSAEQZAGaiALQf8PcSINQQJ0aiIBNQIAQh2GfCIVQoGU69wDVAR/QQAFIBUgFUKAlOvcA4AiFkKAlOvcA359IRUgFqcLIQMgASAVpyIBNgIAIAogCiAKIA0gARsgAiANRhsgDSAKQQFrQf8PcSIIRxshASANQQFrIQsgAiANRw0ACyAPQR1rIQ8gCiEBIANFDQALIAJBAWtB/w9xIgIgAUYEQCAEQZAGaiIKIAFB/g9qQf8PcUECdGoiASABKAIAIAhBAnQgCmooAgByNgIAIAghAQsgCUEJaiEJIARBkAZqIAJBAnRqIAM2AgAMAQsLAkADQCABQQFqQf8PcSEKIARBkAZqIAFBAWtB/w9xQQJ0aiEFA0BBCUEBIAlBLUobIRMCQANAIAIhA0EAIQYCQANAAkAgAyAGakH/D3EiAiABRg0AIARBkAZqIAJBAnRqKAIAIgggBkECdEHA3AFqKAIAIgJJDQAgAiAISQ0CIAZBAWoiBkEERw0BCwsgCUEkRw0AQgAhFUEAIQZCACEWA0AgASADIAZqQf8PcSICRgRAIAFBAWpB/w9xIgFBAnQgBGpBADYCjAYLIARBgAZqIARBkAZqIAJBAnRqKAIAEIIDIARB8AVqIBUgFkIAQoCAgIDlmreOwAAQOiAEQeAFaiAEKQPwBSAEKQP4BSAEKQOABiAEKQOIBhB8IAQpA+gFIRYgBCkD4AUhFSAGQQFqIgZBBEcNAAsgBEHQBWogDBCLASAEQcAFaiAVIBYgBCkD0AUgBCkD2AUQOiAEKQPIBSEWQgAhFSAEKQPABSEXIA9B8QBqIgggEmsiC0EAIAtBAEobIBEgCyARSCIKGyIHQfAATA0CDAULIA8gE2ohDyABIQIgASADRg0AC0GAlOvcAyATdiEQQX8gE3RBf3MhDUEAIQYgAyECA0AgBEGQBmoiByADQQJ0aiIIIAYgCCgCACILIBN2aiIINgIAIAJBAWpB/w9xIAIgCEUgAiADRnEiCBshAiAJQQlrIAkgCBshCSALIA1xIBBsIQYgA0EBakH/D3EiAyABRw0ACyAGRQ0BIAIgCkcEQCABQQJ0IAdqIAY2AgAgCiEBDAMLIAUgBSgCAEEBcjYCAAwBCwsLIARBkAVqQeEBIAdrELQGENUBIARBsAVqIAQpA5AFIAQpA5gFIBcgFhCMCyAEKQO4BSEaIAQpA7AFIRkgBEGABWpB8QAgB2sQtAYQ1QEgBEGgBWogFyAWIAQpA4AFIAQpA4gFEIoLIARB8ARqIBcgFiAEKQOgBSIVIAQpA6gFIhgQrQYgBEHgBGogGSAaIAQpA/AEIAQpA/gEEHwgBCkD6AQhFiAEKQPgBCEXCwJAIANBBGpB/w9xIgIgAUYNAAJAIARBkAZqIAJBAnRqKAIAIgJB/8m17gFNBEAgAkUgA0EFakH/D3EgAUZxDQEgBEHwA2ogDLdEAAAAAAAA0D+iENUBIARB4ANqIBUgGCAEKQPwAyAEKQP4AxB8IAQpA+gDIRggBCkD4AMhFQwBCyACQYDKte4BRwRAIARB0ARqIAy3RAAAAAAAAOg/ohDVASAEQcAEaiAVIBggBCkD0AQgBCkD2AQQfCAEKQPIBCEYIAQpA8AEIRUMAQsgDLchHCABIANBBWpB/w9xRgRAIARBkARqIBxEAAAAAAAA4D+iENUBIARBgARqIBUgGCAEKQOQBCAEKQOYBBB8IAQpA4gEIRggBCkDgAQhFQwBCyAEQbAEaiAcRAAAAAAAAOg/ohDVASAEQaAEaiAVIBggBCkDsAQgBCkDuAQQfCAEKQOoBCEYIAQpA6AEIRULIAdB7wBKDQAgBEHQA2ogFSAYQgBCgICAgICAwP8/EIoLIAQpA9ADIAQpA9gDQgBCABC+Ag0AIARBwANqIBUgGEIAQoCAgICAgMD/PxB8IAQpA8gDIRggBCkDwAMhFQsgBEGwA2ogFyAWIBUgGBB8IARBoANqIAQpA7ADIAQpA7gDIBkgGhCtBiAEKQOoAyEWIAQpA6ADIRcCQCAUQQJrIAhB/////wdxTg0AIAQgFkL///////////8AgzcDmAMgBCAXNwOQAyAEQYADaiAXIBZCAEKAgICAgICA/z8QOiAEKQOQAyAEKQOYA0KAgICAgICAuMAAEP4KIQIgBCkDiAMgFiACQQBOIgEbIRYgBCkDgAMgFyABGyEXIAogByALRyACQQBIcnEgFSAYQgBCABC+AkEAR3FFIBQgASAPaiIPQe4Aak5xDQBB8MICQcQANgIACyAEQfACaiAXIBYgDxCLCyAEKQP4AiEVIAQpA/ACCyEWIA4gFTcDKCAOIBY3AyAgBEGQxgBqJAAgDikDKCEVIA4pAyAhFgwECyABKQNwQgBZBEAgASABKAIEQQFrNgIECwwBCwJAAn8gASgCBCICIAEoAmhHBEAgASACQQFqNgIEIAItAAAMAQsgARAqC0EoRgRAQQEhBgwBC0KAgICAgIDg//8AIRUgASkDcEIAUw0DIAEgASgCBEEBazYCBAwDCwNAAn8gASgCBCICIAEoAmhHBEAgASACQQFqNgIEIAItAAAMAQsgARAqCyICQTBrQQpJIAJBwQBrQRpJciACQd8ARnJFIAJB4QBrQRpPcUUEQCAGQQFqIQYMAQsLQoCAgICAgOD//wAhFSACQSlGDQIgASkDcCIYQgBZBEAgASABKAIEQQFrNgIECwJAIAMEQCAGDQEMBAsMAQsDQCAYQgBZBEAgASABKAIEQQFrNgIECyAGQQFrIgYNAAsMAgtB8MICQRw2AgAgAUIAELkBC0IAIRULIAAgFjcDACAAIBU3AwggDkEwaiQAC8oGAgV/BH4jAEGAAWsiBSQAAkACQAJAIAMgBEIAQgAQvgJFDQACfyAEQv///////z+DIQsCfyAEQjCIp0H//wFxIgZB//8BRwRAQQQgBg0BGkECQQMgAyALhFAbDAILIAMgC4RQCwshCSACQjCIpyIIQf//AXEiB0H//wFGDQAgCQ0BCyAFQRBqIAEgAiADIAQQOiAFIAUpAxAiAiAFKQMYIgEgAiABEP0KIAUpAwghAiAFKQMAIQQMAQsgASACQv///////////wCDIgsgAyAEQv///////////wCDIgoQvgJBAEwEQCABIAsgAyAKEL4CBEAgASEEDAILIAVB8ABqIAEgAkIAQgAQOiAFKQN4IQIgBSkDcCEEDAELIARCMIinQf//AXEhBiAHBH4gAQUgBUHgAGogASALQgBCgICAgICAwLvAABA6IAUpA2giC0IwiKdB+ABrIQcgBSkDYAshBCAGRQRAIAVB0ABqIAMgCkIAQoCAgICAgMC7wAAQOiAFKQNYIgpCMIinQfgAayEGIAUpA1AhAwsgCkL///////8/g0KAgICAgIDAAIQhDCALQv///////z+DQoCAgICAgMAAhCELIAYgB0gEQANAAn4gCyAMfSADIARWrX0iCkIAWQRAIAogBCADfSIEhFAEQCAFQSBqIAEgAkIAQgAQOiAFKQMoIQIgBSkDICEEDAULIApCAYYgBEI/iIQMAQsgC0IBhiAEQj+IhAshCyAEQgGGIQQgB0EBayIHIAZKDQALIAYhBwsCQCALIAx9IAMgBFatfSIKQgBTBEAgCyEKDAELIAogBCADfSIEhEIAUg0AIAVBMGogASACQgBCABA6IAUpAzghAiAFKQMwIQQMAQsgCkL///////8/WARAA0AgBEI/iCENIAdBAWshByAEQgGGIQQgDSAKQgGGhCIKQoCAgICAgMAAVA0ACwsgCEGAgAJxIQYgB0EATARAIAVBQGsgBCAKQv///////z+DIAdB+ABqIAZyrUIwhoRCAEKAgICAgIDAwz8QOiAFKQNIIQIgBSkDQCEEDAELIApC////////P4MgBiAHcq1CMIaEIQILIAAgBDcDACAAIAI3AwggBUGAAWokAAu/AgEBfyMAQdAAayIEJAACQCADQYCAAU4EQCAEQSBqIAEgAkIAQoCAgICAgID//wAQOiAEKQMoIQIgBCkDICEBIANB//8BSQRAIANB//8AayEDDAILIARBEGogASACQgBCgICAgICAgP//ABA6Qf3/AiADIANB/f8CThtB/v8BayEDIAQpAxghAiAEKQMQIQEMAQsgA0GBgH9KDQAgBEFAayABIAJCAEKAgICAgICAORA6IAQpA0ghAiAEKQNAIQEgA0H0gH5LBEAgA0GN/wBqIQMMAQsgBEEwaiABIAJCAEKAgICAgICAORA6QeiBfSADIANB6IF9TBtBmv4BaiEDIAQpAzghAiAEKQMwIQELIAQgASACQgAgA0H//wBqrUIwhhA6IAAgBCkDCDcDCCAAIAQpAwA3AwAgBEHQAGokAAs1ACAAIAE3AwAgACACQv///////z+DIARCMIinQYCAAnEgAkIwiKdB//8BcXKtQjCGhDcDCAt8AQJ/IAAgACgCSCIBQQFrIAFyNgJIIAAoAhQgACgCHEcEQCAAQQBBACAAKAIkEQUAGgsgAEEANgIcIABCADcDECAAKAIAIgFBBHEEQCAAIAFBIHI2AgBBfw8LIAAgACgCLCAAKAIwaiICNgIIIAAgAjYCBCABQRt0QR91CywBAn8jAEEQayICJAAgAiABNgIMIABB5ABB+TEgARDUBCEDIAJBEGokACADCxMAIABBACABQcDBAigCABEFABoLhAUBC38gASgCACIEKAIcIQsDQAJAIAQoAhggCk0EQEEBDwsCQAJAAkACQCALIApBMGxqIgMoAghBAWsOAwEAAQILIAAgAygCECIGaiIEKAIAIghFDQEgASADKAIUIgVqIQcgACAFaiEFAkAgASAGaiIGKAIABEAgAygCDBC/AiEDIAIoAgggAyAGKAIAIAQoAgBqbCACKAIAEQMAIghFDQQgCCAFKAIAIAQoAgAgA2wQHSIIIAQoAgAgA2xqIAcoAgAgBigCACADbBAdGiAHKAIAIgMEQCACKAIIIAMgAigCBBEAAAsgBSgCACIDBEAgAigCCCADIAIoAgQRAAALIAcgCDYCACAGIAYoAgAgBCgCAGo2AgAMAQsgBiAINgIAIAcgBSgCADYCAAsgBEEANgIAIAVBADYCAAwBCyABIAMoAhAiBmohCCAAIAZqIQYgAy0AIEEEcQRAIAgoAgANASAEKAIkIAQoAiggBigCABC4BiIDQQBIDQMgBCgCHCADQTBsaiEDCyABIAMoAhQiBGohByAAIARqIQQgAygCHCEFAkACQAJAAkACQAJAIAMoAgwiDEEOaw4DAgEAAwsgBCgCACIFRQ0FIAcoAgAiCUUNBCAFIAkgAhCQC0UNBgwFCyAEKAIEIg1FDQQgBygCBCEJIAVFDQIgDSAFKAIEIgVGDQQgCUUgBSAJRnINAwwECyAEKAIAIAVGDQMgBygCACAFRg0CDAMLIAYoAgBFDQIgCCgCAA0CDAELIAkNAQsgByAEIAwQvwIiBxAdGiAEQQAgBxAeGiADKAIQRQ0AIAggBigCADYCACAGQQA2AgALIApBAWohCiABKAIAIQQMAgsLC0EACy4BA38DQCAAIAJGBEBBAA8LIAEgAmohBCACQQFqIQIgBC0AAEH/AHFFDQALQQELlwUBAn8jAEEgayIDJAAgACgCBCADELkGIQQCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCAAKAIMDhEACwQDAgUBBAMFBAUGAAcICQoLIAIgASgCACADIARqEJULIARqIgAgAyACKAIAEQQADAsLIAIgASgCACADIARqENcBIARqIgAgAyACKAIAEQQADAoLIAIgASkDACADIARqEJMLIARqIgAgAyACKAIAEQQADAkLIAIgASkDACADIARqENgEIARqIgAgAyACKAIAEQQADAgLIAMgAy0AAEEFcjoAACADIARqIAEoAgA2AAAgAiAEQQRqIgAgAyACKAIAEQQADAcLIAMgAy0AAEEBcjoAACADIARqIAEpAwA3AAAgAiAEQQhqIgAgAyACKAIAEQQADAYLIAMgBGogASgCAEEARzoAACACIARBAWoiACADIAIoAgARBAAMBQsgASgCACIBBH8gARDWAQVBAAshACADIAMtAABBAnI6AAAgAiAAIAMgBGoQ1wEgBGoiBCADIAIoAgARBAAgAiAAIAEgAigCABEEACAAIARqIQAMBAsgASgCACEAIAMgAy0AAEECcjoAACACIAAgAyAEahDXASAEaiIEIAMgAigCABEEACACIAAgASgCBCACKAIAEQQAIAAgBGohAAwDCyABKAIAIQAgAyADLQAAQQJyOgAAIABFBEAgAyAEakEAOgAAIAIgBEEBaiIAIAMgAigCABEEAAwDCyACIAAQWSIBIAMgBGoQ1wEgBGoiBCADIAIoAgARBAAgACACEGUgASAEaiEADAILQffPAEH7xwBB6QxB5CMQAAALIAIgASgCACADIARqEJQLIARqIgAgAyACKAIAEQQACyADQSBqJAAgAAsSACAAQgGGIABCP4eFIAEQ2AQLEgAgAEEBdCAAQR91cyABENcBC2UAIABBAEgEQCABQQE6AAkgAUF/NgAFIAEgAEGAAXI6AAAgASAAQRx1QYABcjoABCABIABBFXZBgAFyOgADIAEgAEEOdkGAAXI6AAIgASAAQQd2QYABcjoAAUEKDwsgACABENcBC4UBAQF/QQEhAgJAAkACQAJAAkACQAJAAkAgACgCDA4RAQEBAgICAQECAgMEAAEFBgYHCyABKAIARQ8LIAEoAgBFDwsgASkDAFAPCyABKgIAQwAAAABbDwsgASsDAEQAAAAAAAAAAGEPCyABKAIAIgBFDQEgAC0AAEUPCyABKAIARSECCyACCw0AIABBpKQBQSQQHRoLDQAgAEGwowFBOBAdGgsNACAAQeihAUEwEB0aCzIAIABB1KABKAIANgIYIABBzKABKQIANwIQIABBxKABKQIANwIIIABBvKABKQIANwIACw4AIABBuJ8BQcgAEB0aCw0AIABB+J0BQSgQHRoLJgAgAEG0nQEpAgA3AhAgAEGsnQEpAgA3AgggAEGknQEpAgA3AgALDQAgAEHEnAFBJBAdGgsNACAAQaCaAUE4EB0aCyYAIABB2JkBKQMANwMQIABB0JkBKQMANwMIIABByJkBKQMANwMACyYAIABBhJkBKAIANgIQIABB/JgBKQIANwIIIABB9JgBKQIANwIACzIAIABBtJgBKAIANgIYIABBrJgBKQIANwIQIABBpJgBKQIANwIIIABBnJgBKQIANwIACzIAIABB6JQBKQMANwMYIABB4JQBKQMANwMQIABB2JQBKQMANwMIIABB0JQBKQMANwMACw4AIABB2JIBQcAAEB0aCyYAIABBlJIBKAIANgIQIABBjJIBKQIANwIIIABBhJIBKQIANwIACw0AIABBkJEBQTgQHRoLcgEBfyMAQRBrIgMkAAJAIAAtABBBAUYEQCABIAIpAwA3AwAgASACKQMINwMIDAELIAMgAjYCDCADIAA2AgggAygCDCEBIAMoAggiABDEASAAIAEpAwg3AwggACABKQMANwMAIABBAToAEAsgA0EQaiQACw0AIABBwPEAQTAQHRoLDgAgAEHI7gBB4AAQHRoLDQAgAEGo6wBBKBAdGgswACAAEMQBIAAgASgCCDYCCCAAIAEpAgA3AgAgAUIANwIAIAFBADYCCCAAQQA6ABALQwEBfyMAQRBrIgMkAAJAIAAtABBFBEAgASACEBwMAQsgAyACNgIMIAMgADYCCCADKAIIIAMoAgwQqwsLIANBEGokAAsOACAAKAIAIAEgAhCnCwsVACAAQYDoADYCACAAQQhqEAoaIAALDgAgAEEIahAKGiAAEAsLCgAgAEEIahAKGgsVACAAQdznADYCACAAQQhqEAoaIAALLwAgABBEIAAgASgCCDYCCCAAIAEpAgA3AgAgAUIANwIAIAFBADYCCCAAQQQ6ABgLbAECfyABIAAoAgQgACgCACABKAIEEOsKIgI2AgQgACgCACEDIAAgAjYCACABIAM2AgQgACgCBCECIAAgASgCCDYCBCABIAI2AgggACgCCCECIAAgASgCDDYCCCABIAI2AgwgASABKAIENgIACxUAIABB8OYANgIAIABBBGoQZhogAAtFAQF/IwBBEGsiAyQAAkAgAC0AGEEERgRAIAEgAhAcDAELIAMgAjYCDCADIAA2AgggAygCCCADKAIMELILCyADQRBqJAALDgAgAEEEahBmGiAAEAsLCgAgAEEEahBmGgsVACAAQczmADYCACAAQQRqEGYaIAALYgAgACABKAIANgIAIABBBGogAhAmGiAAIAMoAgg2AhggACADKQIANwIQIANCADcCACADQQA2AgggACAEKQMANwMgIAAgBSgCADYCKCAAIAYoAgA2AiwgACAHLQAAOgAwIAALEwAgAEEQahAKGiAAQQRqEDsgAAsNACAAIAEgAkEHEMUJCxoAIAAgASgCADYCACAAQQhqIAFBCGoQ4AMaCz0BAX8jAEEQayICJAAgAC0AEEEGRwRAIAIgATYCDCACIAA2AgggAigCCCIAEDcgAEEGOgAQCyACQRBqJAALFQAgAEHg5QA2AgAgAEEQahASGiAAC3EBAX8jAEEQayIDJAACQCAALQAQQQVGBEAgASACKQMANwMAIAEgAikDCDcDCAwBCyADIAI2AgwgAyAANgIIIAMoAgwhASADKAIIIgAQNyAAIAEpAwg3AwggACABKQMANwMAIABBBToAEAsgA0EQaiQACy8AIAAQNyAAIAEoAgg2AgggACABKQIANwIAIAFCADcCACABQQA2AgggAEEEOgAQC0UBAX8jAEEQayIDJAACQCAALQAQQQRGBEAgASACEBwMAQsgAyACNgIMIAMgADYCCCADKAIIIAMoAgwQwAsLIANBEGokAAvGAQEHfwJ/IAEQkAIhBAJAIAAoArgEIgNFDQAgACgCtAQCfyADQQFrIARxIANpIgJBAU0NABogBCADIARLDQAaIAQgA3ALIgZBAnRqKAIAIgVFDQAgA0EBayEHIAJBAUshCANAIAUoAgAiBUUNASAFKAIEIgIgBEcEQAJAIAhFBEAgAiAHcSECDAELIAIgA0kNACACIANwIQILIAIgBkcNAgwBCyAFQQhqIAEQIkUNAAsgBQwBC0EACyIBQRRqIABBpA5qIAEbCw0AIAAgASACQQMQxQkLOQEDfyAAKAKoAyEBIAAoAqQDIQADQCAAIAFGIgJFBEAgACIDQYACaiEAIAMpA4ABQgBVDQELCyACC50EAQl/IwBBkAFrIgUkAAJAIAAtALQCRQ0AQQEQFQRAIAVBCGoQEyEHIAVBATYCBCAHIABBwANqEBFBsxEQDRogBUEEahAUCyMAQZABayIDJAAgAEEQaiIBKAKsASEEIAEoAqgBIQIDQCACIARGBEAgASABKQPoATcD8AFBARAVBEAgA0EIahATIQggA0EBNgIEIAggAUGIAmoQEUGa0wAQDSABKQPwARByGiADQQRqEBQLIANBkAFqJAAFIAJBAToALCACQTBqIQIMAQsLIABBrAJqIQYgACgCqAIhAANAIAAgBkYNASMAQZABayIDJAACQCAAQSBqIgEtALgDRQ0AIAEoApABIAEoApQBRg0AQQAQFQRAIANBCGoQEyEJIANBADYCBCAJIAFBxANqEBFB5tQAEA0gASgClAEgASgCkAFrQThtEGkaIANBBGoQFAsgAUGoAmoiBCABQeABahDoAyABIAEoApQBIAEoApABa0E4ba03A8gCIANBBGoiAiABIARBASABKQOYAhD9BiABQdACaiACEBwgAhAKGiACIAEgBEEAIAEpA5gCEP0GIAFB3AJqIAIQHCACEAoaIAEoAmghBCABKAJkIQEDQCABIARHBEACQCABQRBqIgItAJgBRQRAIAIQhwcMAQsgAhB1EOkHCyABQdgBaiEBDAELCwsgA0GQAWokACAAEMIBIQAMAAsACyAFQZABaiQAC2MCAn8BfCMAQRBrIgMkAAJAIAAtABBBAkYEQCABIAIrAwA5AwAMAQsgAyACNgIMIAMgADYCCCADKAIMIQQgAygCCCIAEDcgBCsDACEFIABBAjoAECAAIAU5AwALIANBEGokAAteAQN/IwBBEGsiASQAIAEgADYCDCABKAIMIgAoAgAEQCAAKAIAIQMgACgCBCECA0AgAiADRwRAIAJBOGsQugshAgwBCwsgACADNgIEIAEoAgwoAgAQCwsgAUEQaiQAC2MCAn8BfiMAQRBrIgMkAAJAIAAtABBBAUYEQCABIAIpAwA3AwAMAQsgAyACNgIMIAMgADYCCCADKAIMIQQgAygCCCIAEDcgBCkDACEFIABBAToAECAAIAU3AwALIANBEGokAAuuAQEDfwJAIAAtACgiAiABLQAoRgRAIAJFDQEjAEEQayICJAACQCABQQhqIgEtABgiA0H/AUYiBCAAQQhqIgAtABhB/wFGcQ0AIAQEQCAAEH0MAQsgAiAANgIEIAJB0OUAKQMANwMIIAJBBGogACABIAJBCGogA0ECdGooAgARBAALIAJBEGokAA8LIAIEQCAALQAoBEAgAEEIahB9IABBADoAKAsPCyAAIAEQ2QYLC6wBAQJ/IAAtANgDBEAgABDnBCAAQQA6ANgDCyMAQRBrIgIkACABKAIAIQMgAkEEakGp2QAQDCEBIABBADYCACAAIAEoAgg2AgwgACABKQIANwIEIAFCADcCACABQQA2AgggAEEQahDUBiAAQQA6AKADIABBADoAgAMgAEGkA2oQyAEgAEEAOgDQAyAAQgA3A8gDIAAgAxD6BCABEAoaIABBAToA2AMgAkEQaiQAC2oBAn8gAEEANgIIIABCADcCACABKAIEIgIgASgCACIDRwRAIAIgA2tBDG0iAkHWqtWqAU8EQBABAAsgACACEK4JIgM2AgQgACADNgIAIAAgAyACQQxsajYCCCAAIAEoAgAgASgCBBCpCQsLYQICfwF+IwBBEGsiAyQAAkAgAC0AEEUEQCABIAIpAwA3AwAMAQsgAyACNgIMIAMgADYCCCADKAIMIQQgAygCCCIAEDcgBCkDACEFIABBADoAECAAIAU3AwALIANBEGokAAsNACAAIAFByOMAENUJCxYAIAAtALQCBEAgAEHQAmogARDYAQsLDgAgACgCACABIAIQuwsLDAAgACgCACACEL0LC7sBAQF/IwBBgAFrIgQkACAEIAIpAwg3AzggBCACKQMANwMwIARBGGogAxCYAiECIAQgBCkDODcDECAEIAQpAzA3AwggBEFAayIDIAEgBEEIaiACEL4BIAIQJQJAAkAgBC0AeEUNACADELoBIgEtAChFDQBBASECIAEtACBBAUcNACAAIAEpAxg3AwggACABKQMQNwMADAELQQAhAiAAQQA6AAALIAAgAjoAECAEQcgAahCqASAEQYABaiQACwkAIABBABDBBgsOACAAKAIAIAEgAhC/CwsYAQF/QQwQFyIAQQA2AgggAEIANwIAIAALDgAgACgCACABIAIQwwsLDgAgACgCACABIAIQxgsLDgAgACgCACABIAIQyAsLDgAgACgCACABIAIQzAsLPAEBf0HglwFBACABKAIEIAEtAAsiAiACwEEASCICGyABKAIAIAEgAhsQpwEhASAAQQE6ACAgACABNgIEC3wBAn8jAEEQayIC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ABEEAAsgAkEQaiQAC6YBAQd/IwBBEGsiBCQAIwBBEGsiBSQAAn9BASAAIAEQGw0AGkEAIAEgABAbDQAaIwBBEGsiBiQAAn9BASAAQQxqIgIgAUEMaiIDEBsNABpBACADIAIQGw0AGgJ/QQEgAEEYaiICIAFBGGoiAxAbDQAaQQAgAyACEBsNABogACgCJCABKAIkSAsLIQcgBkEQaiQAIAcLIQggBUEQaiQAIARBEGokACAICxUAIABB5OAANgIAIABBCGoQEhogAAsrAQF/IwBBEGsiBSQAIAUgATYCDCAAIAVBDGogAiADIAQQmgQgBUEQaiQACxUAIABBwOAANgIAIABBCGoQEhogAAs1AQF/IwBBEGsiBSQAIAUgAjoACyAFIAE2AgwgACAFQQxqIAVBC2ogAyAEEJoEIAVBEGokAAsOACAAKAIAIAEgAhDqCwsVACAAQZzgADYCACAAQQhqEBIaIAALFQAgAEH43wA2AgAgAEEIahASGiAACxUAIABB1N8ANgIAIABBCGoQEhogAAs/ACAAKAIAIQEjAEEQayIAJAAgAS0AGARAIAAgAjYCDCAAIAE2AgggACgCCCIBEEQgAUEAOgAYCyAAQRBqJAALFQAgAEGw3wA2AgAgAEEIahASGiAACxUAIABBjN8ANgIAIABBCGoQEhogAAsVACAAQejeADYCACAAQQhqEBIaIAALDAAgACAAKAIAEKkECwkAIAAQ6wQQCwsJACAAEOwEEAsLCQAgABDtBBALCwkAIAAQ7gQQCwsJACAAEO8EEAsLCQAgABDEAhALCwcAIAEQkQILDgAgACgCACABIAIQqwkLawEBfyAAKAIAIQMjAEEQayIAJAACQCADLQAQQQRGBEAgASACEIMBDAELIAAgAjYCDCAAIAM2AggjAEEQayIBJAAgACgCCCABQQRqIAAoAgwQECICEMALIAIQChogAUEQaiQACyAAQRBqJAALawEBfyAAKAIAIQMjAEEQayIAJAACQCADLQAYQQRGBEAgASACEIMBDAELIAAgAjYCDCAAIAM2AggjAEEQayIBJAAgACgCCCABQQRqIAAoAgwQECICELILIAIQChogAUEQaiQACyAAQRBqJAALlAEBA38jAEEgayIBJAAgACgCDCICBEAgAkEAIAAoAhBBA3QQHhoLIAAoAgQgACgCAGtBBHUhA0EAIQIDQCACIANGBEAgAUEgaiQABSABQRhqIAAgACgCACACQQR0ahDjAyABIAI2AhQgASABKAIYNgIQIAEgASkCEDcDCCAAIAFBCGogASgCHBAwIAJBAWohAgwBCwsLawEBfyAAKAIAIQMjAEEQayIAJAACQCADLQAYQQJGBEAgASACEPIGDAELIAAgAjYCDCAAIAM2AggjAEEgayIBJAAgACgCCCABQQhqIAAoAgwQ/gMiAhDfCyACEDcgAUEgaiQACyAAQRBqJAALCQAgAEEEENoJCwcAIAEQ7wMLBwAgARC8BwsHACABELMHCwcAIAEQtgcLBwAgARC9AQsgACABIAIpAwA3AwAgASACKQMQNwMQIAEgAikDCDcDCAtiAQJ/IwBBIGsiAiQAAkAgASAAKAIIIAAoAgAiA2tBA3VLBEAgAUGAgICAAk8NASAAIAJBDGogASAAKAIEIANrQQN1IABBCGoQswIiABDIBSAAELICCyACQSBqJAAPCxABAAuUAQEDfyMAQSBrIgEkACAAKAIMIgIEQCACQQAgACgCEEEDdBAeGgsgACgCBCAAKAIAa0ECdSEDQQAhAgNAIAIgA0YEQCABQSBqJAAFIAFBGGogACAAKAIAIAJBAnRqENIHIAEgAjYCFCABIAEoAhg2AhAgASABKQIQNwMIIAAgAUEIaiABKAIcEDAgAkEBaiECDAELCwvXAQEDfyAAKAIAIQMjAEEQayIAJAACQCADLQCYAUEBRgRAIAEgAigCADYCAAJAIAFBCGoiAy0ASCIEIAJBCGoiBS0ASEYEQCAERQ0BIAMgBRC+AwwBCyAEBEAgAxCsCAwBCyADIAUQtwYLIAFB2ABqIAJB2ABqEFogAUHkAGogAkHkAGoQWiABQfAAaiACQfAAahCIAyABIAIpA5ABNwOQAQwBCyAAIAI2AgwgACADNgIIIAAoAgwhASAAKAIIIgIQpQMgAiABEKMIQQE6AJgBCyAAQRBqJAALiQEBAX8gACgCACEDIwBBEGsiACQAAkAgAy0AmAFFBEAgASACKAIANgIAIAFBBGogAkEEahCiCCABQSRqIAJBJGoQnwggAUHEAGogAkHEAGoQiAMMAQsgACACNgIMIAAgAzYCCCAAKAIMIQEgACgCCCICEKUDIAIgARCkCEEAOgCYAQsgAEEQaiQAC5cBAQF/IAAoAgAhAyMAQRBrIgAkAAJAIAMtABBBAUYEQCABIAIQgwEMAQsgACACNgIMIAAgAzYCCCMAQRBrIgMkACAAKAIIIQEgA0EEaiAAKAIMEBAhAiABECUgASACKAIINgIIIAEgAikCADcCACACQgA3AgAgAkEANgIIIAFBAToAECACEAoaIANBEGokAAsgAEEQaiQAC2gCAn8BfiAAKAIAIQMjAEEQayIAJAACQCADLQAQRQRAIAEgAikDADcDAAwBCyAAIAI2AgwgACADNgIIIAAoAgwhBCAAKAIIIgEQJSAEKQMAIQUgAUEAOgAQIAEgBTcDAAsgAEEQaiQACwcAIAEQoAILlAEBA38jAEEgayIBJAAgACgCDCICBEAgAkEAIAAoAhBBA3QQHhoLIAAoAgQgACgCAGtBOG0hA0EAIQIDQCACIANGBEAgAUEgaiQABSABQRhqIAAgACgCACACQThsahCWBCABIAI2AhQgASABKAIYNgIQIAEgASkCEDcDCCAAIAFBCGogASgCHBAwIAJBAWohAgwBCwsLCQAgAEEHENsJCwoAIAEgAhCjCBoLCgAgASACEKQIGguWAQEDfyMAQSBrIgEkACAAKAIMIgIEQCACQQAgACgCEEEDdBAeGgsgACgCBCAAKAIAa0HYAW0hA0EAIQIDQCACIANGBEAgAUEgaiQABSABQRhqIAAgACgCACACQdgBbGoQ4wMgASACNgIUIAEgASgCGDYCECABIAEpAhA3AwggACABQQhqIAEoAhwQMCACQQFqIQIMAQsLCz8AIAFBCGohACABLQBQBEAgACABEM4ICyABQfAAahBNIAFB5ABqEA8aIAFB2ABqEA8aIAAtAEgEQCAAEFsaCwv1AQECfyABKAIIIQIgASgCBCEAA0AgACACRgRAAkAgAUEkaiECIAEoAighAyABKAIkIQADQCAAIANGDQEgASAAKQMYEJQDIABBKGohAAwACwALBSABIABBEGoQvwEgAEGAAWohAAwBCwsgAUHEAGoQTSABKAIwIgAEQCAAEAsLIwBBEGsiACQAIAAgAjYCDCAAKAIMIgIoAgAEQCACEK4FIAAoAgwoAgAQCwsgAEEQaiQAIAEoAhAiAARAIAAQCwsjAEEQayIAJAAgACABQQRqNgIMIAAoAgwiASgCAARAIAEQrwUgACgCDCgCABALCyAAQRBq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AAsACyAEKAIACyADRyEQCyAOQRBqJAAgEA8LIAcoAgAhBQwACwALDAAgABCRChogABALCzkBAX8jAEEQayIAJAAgACAENgIMIAAgAyACazYCCCAAQQxqIABBCGoQ1QMoAgAhBSAAQRBqJAAgBQs0AANAIAEgAkZFBEAgBCADIAEsAAAiACAAQQBIGzoAACAEQQFqIQQgAUEBaiEBDAELCyACCwwAIAIgASABQQBIGwsqAANAIAEgAkZFBEAgAyABLQAAOgAAIANBAWohAyABQQFqIQEMAQsLIAILDwAgACABIAJBsPoBEM8JCyIAIAFBAE4Ef0Gw+gEoAgAgAUH/AXFBAnRqKAIABSABC8ALDwAgACABIAJBqO4BEM8JCyIAIAFBAE4Ef0Go7gEoAgAgAUH/AXFBAnRqKAIABSABC8ALDAAgABCIChogABALCzUAA0AgASACRkUEQCAEIAEoAgAiACADIABBgAFJGzoAACAEQQFqIQQgAUEEaiEBDAELCyACCw4AIAEgAiABQYABSRvACyoAA0AgASACRkUEQCADIAEsAAA2AgAgA0EEaiEDIAFBAWohAQwBCwsgAgsPACAAIAEgAkGw+gEQzgkLHgAgAUH/AE0Ef0Gw+gEoAgAgAUECdGooAgAFIAELCw8AIAAgASACQajuARDOCQseACABQf8ATQR/QajuASgCACABQQJ0aigCAAUgAQsLQQACQANAIAIgA0YNAQJAIAIoAgAiAEH/AEsNACAAQQJ0QYCJAmooAgAgAXFFDQAgAkEEaiECDAELCyACIQMLIAMLQAADQAJAIAIgA0cEfyACKAIAIgBB/wBLDQEgAEECdEGAiQJqKAIAIAFxRQ0BIAIFIAMLDwsgAkEEaiECDAALAAtJAQF/A0AgASACRkUEQEEAIQAgAyABKAIAIgRB/wBNBH8gBEECdEGAiQJqKAIABUEACzYCACADQQRqIQMgAUEEaiEBDAELCyACCyUAQQAhACACQf8ATQR/IAJBAnRBgIkCaigCACABcUEARwVBAAsLDwAgACAAKAIAKAIEEQEACyIBAX8gACEBQazKAkGsygIoAgBBAWoiADYCACABIAA2AgQLDAAgABCNChogABALC70BACMAQRBrIgMkAAJAIAUQlgFFBEAgACAFKAIINgIIIAAgBSkCADcCAAwBCyAFKAIAIQIg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ChoLCwsgBUEgaiQAIAIL8AIBBH8jAEHAAmsiACQAIAAgAjYCuAIgACABNgK8AiAAQcQBahAnIQYgAEEQaiICIAMQJCACEHFBwIYCQdqGAiAAQdABahDpASACECMgAEG4AWoQJyIDIAMQKBAfIAAgA0EAECEiATYCtAEgACACNgIMIABBADYCCANAAkAgAEG8AmogAEG4AmoQLQ0AIAAoArQBIAMQDiABakYEQCADEA4hAiADIAMQDkEBdBAfIAMgAxAoEB8gACACIANBABAhIgFqNgK0AQsgAEG8AmoiAhBJQRAgASAAQbQBaiAAQQhqQQAgBiAAQRBqIABBDGogAEHQAWoQ+QINACACEFMaDAELCyADIAAoArQBIAFrEB8gAxAgIQkQNSEHIAAgBTYCACAJIAcgABC2CkEBRwRAIARBBDYCAAsgAEG8AmogAEG4AmoQLQRAIAQgBCgCAEECcjYCAAsgACgCvAIhCCADEAoaIAYQChogAEHAAmokACAIC9EDAgF+AX8jAEGAA2siACQAIAAgAjYC+AIgACABNgL8AiAAQdwBaiADIABB8AFqIABB7AFqIABB6AFqEJYGIABB0AFqECciASABECgQHyAAIAFBABAhIgI2AswBIAAgAEEgajYCHCAAQQA2AhggAEEBOgAXIABBxQA6ABYDQAJAIABB/AJqIABB+AJqEC0NACAAKALMASABEA4gAmpGBEAgARAOIQMgASABEA5BAXQQHyABIAEQKBAfIAAgAyABQQAQISICajYCzAELIABB/AJqIgMQSSAAQRdqIABBFmogAiAAQcwBaiAAKALsASAAKALoASAAQdwBaiAAQSBqIABBHGogAEEYaiAAQfABahCVBg0AIAMQUxoMAQsLAkAgAEHcAWoQDkUNACAALQAXRQ0AIAAoAhwiAyAAQSBqa0GfAUoNACAAIANBBGo2AhwgAyAAKAIYNgIACyAAIAIgACgCzAEgBBC3CiAAKQMAIQYgBSAAKQMINwMIIAUgBjcDACAAQdwBaiAAQSBqIAAoAhwgBBBhIABB/AJqIABB+AJqEC0EQCAEIAQoAgBBAnI2AgALIAAoAvwCIQcgARAKGiAAQdwBahAKGiAAQYADaiQAIAcLugMBAX8jAEHwAmsiACQAIAAgAjYC6AIgACABNgLsAiAAQcwBaiADIABB4AFqIABB3AFqIABB2AFqEJYGIABBwAFqECciASABECgQHyAAIAFBABAhIgI2ArwBIAAgAEEQajYCDCAAQQA2AgggAEEBOgAHIABBxQA6AAYDQAJAIABB7AJqIABB6AJqEC0NACAAKAK8ASABEA4gAmpGBEAgARAOIQMgASABEA5BAXQQHyABIAEQKBAfIAAgAyABQQAQISICajYCvAELIABB7AJqIgMQSSAAQQdqIABBBmogAiAAQbwBaiAAKALcASAAKALYASAAQcwBaiAAQRBqIABBDGogAEEIaiAAQeABahCVBg0AIAMQUxoMAQsLAkAgAEHMAWoQDkUNACAALQAHRQ0AIAAoAgwiAyAAQRBqa0GfAUoNACAAIANBBGo2AgwgAyAAKAIINgIACyAFIAIgACgCvAEgBBC4CjkDACAAQcwBaiAAQRBqIAAoAgwgBBBhIABB7AJqIABB6AJqEC0EQCAEIAQoAgBBAnI2AgALIAAoAuwCIQYgARAKGiAAQcwBahAKGiAAQfACaiQAIAYLugMBAX8jAEHwAmsiACQAIAAgAjYC6AIgACABNgLsAiAAQcwBaiADIABB4AFqIABB3AFqIABB2AFqEJYGIABBwAFqECciASABECgQHyAAIAFBABAhIgI2ArwBIAAgAEEQajYCDCAAQQA2AgggAEEBOgAHIABBxQA6AAYDQAJAIABB7AJqIABB6AJqEC0NACAAKAK8ASABEA4gAmpGBEAgARAOIQMgASABEA5BAXQQHyABIAEQKBAfIAAgAyABQQAQISICajYCvAELIABB7AJqIgMQSSAAQQdqIABBBmogAiAAQbwBaiAAKALcASAAKALYASAAQcwBaiAAQRBqIABBDGogAEEIaiAAQeABahCVBg0AIAMQUxoMAQsLAkAgAEHMAWoQDkUNACAALQAHRQ0AIAAoAgwiAyAAQRBqa0GfAUoNACAAIANBBGo2AgwgAyAAKAIINgIACyAFIAIgACgCvAEgBBC5CjgCACAAQcwBaiAAQRBqIAAoAgwgBBBhIABB7AJqIABB6AJqEC0EQCAEIAQoAgBBAnI2AgALIAAoAuwCIQYgARAKGiAAQcwBahAKGiAAQfACaiQAIAYLmwMBA38jAEHQAmsiACQAIAAgAjYCyAIgACABNgLMAiADENIBIQYgAyAAQdABahDSAyEHIABBxAFqIAMgAEHEAmoQ0QMgAEG4AWoQJyIBIAEQKBAfIAAgAUEAECEiAjYCtAEgACAAQRBqNgIMIABBADYCCANAAkAgAEHMAmogAEHIAmoQLQ0AIAAoArQBIAEQDiACakYEQCABEA4hAyABIAEQDkEBdBAfIAEgARAoEB8gACADIAFBABAhIgJqNgK0AQsgAEHMAmoiAxBJIAYgAiAAQbQBaiAAQQhqIAAoAsQCIABBxAFqIABBEGogAEEMaiAHEPkCDQAgAxBTGgwBCwsCQCAAQcQBahAORQ0AIAAoAgwiAyAAQRBqa0GfAUoNACAAIANBBGo2AgwgAyAAKAIINgIACyAFIAIgACgCtAEgBCAGELoKNwMAIABBxAFqIABBEGogACgCDCAEEGEgAEHMAmogAEHIAmoQLQRAIAQgBCgCAEECcjYCAAsgACgCzAIhCCABEAoaIABBxAFqEAoaIABB0AJqJAAgCAubAwEDfyMAQdACayIAJAAgACACNgLIAiAAIAE2AswCIAMQ0gEhBiADIABB0AFqENIDIQcgAEHEAWogAyAAQcQCahDRAyAAQbgBahAnIgEgARAoEB8gACABQQAQISICNgK0ASAAIABBEGo2AgwgAEEANgIIA0ACQCAAQcwCaiAAQcgCahAtDQAgACgCtAEgARAOIAJqRgRAIAEQDiEDIAEgARAOQQF0EB8gASABECgQHyAAIAMgAUEAECEiAmo2ArQBCyAAQcwCaiIDEEkgBiACIABBtAFqIABBCGogACgCxAIgAEHEAWogAEEQaiAAQQxqIAcQ+QINACADEFMaDAELCwJAIABBxAFqEA5FDQAgACgCDCIDIABBEGprQZ8BSg0AIAAgA0EEajYCDCADIAAoAgg2AgALIAUgAiAAKAK0ASAEIAYQvQo7AQAgAEHEAWogAEEQaiAAKAIMIAQQYSAAQcwCaiAAQcgCahAtBEAgBCAEKAIAQQJyNgIACyAAKALMAiEIIAEQChogAEHEAWoQChogAEHQAmokACAIC5sDAQN/IwBB0AJrIgAkACAAIAI2AsgCIAAgATYCzAIgAxDSASEGIAMgAEHQAWoQ0gMhByAAQcQBaiADIABBxAJqENEDIABBuAFqECciASABECgQHyAAIAFBABAhIgI2ArQBIAAgAEEQajYCDCAAQQA2AggDQAJAIABBzAJqIABByAJqEC0NACAAKAK0ASABEA4gAmpGBEAgARAOIQMgASABEA5BAXQQHyABIAEQKBAfIAAgAyABQQAQISICajYCtAELIABBzAJqIgMQSSAGIAIgAEG0AWogAEEIaiAAKALEAiAAQcQBaiAAQRBqIABBDGogBxD5Ag0AIAMQUxoMAQsLAkAgAEHEAWoQDkUNACAAKAIMIgMgAEEQamtBnwFKDQAgACADQQRqNgIMIAMgACgCCDYCAAsgBSACIAAoArQBIAQgBhC+CjcDACAAQcQBaiAAQRBqIAAoAgwgBBBhIABBzAJqIABByAJqEC0EQCAEIAQoAgBBAnI2AgALIAAoAswCIQggARAKGiAAQcQBahAKGiAAQdACaiQAIAgLmwMBA38jAEHQAmsiACQAIAAgAjYCyAIgACABNgLMAiADENIBIQYgAyAAQdABahDSAyEHIABBxAFqIAMgAEHEAmoQ0QMgAEG4AWoQJyIBIAEQKBAfIAAgAUEAECEiAjYCtAEgACAAQRBqNgIMIABBADYCCANAAkAgAEHMAmogAEHIAmoQLQ0AIAAoArQBIAEQDiACakYEQCABEA4hAyABIAEQDkEBdBAfIAEgARAoEB8gACADIAFBABAhIgJqNgK0AQsgAEHMAmoiAxBJIAYgAiAAQbQBaiAAQQhqIAAoAsQCIABBxAFqIABBEGogAEEMaiAHEPkCDQAgAxBTGgwBCwsCQCAAQcQBahAORQ0AIAAoAgwiAyAAQRBqa0GfAUoNACAAIANBBGo2AgwgAyAAKAIINgIACyAFIAIgACgCtAEgBCAGEL8KNgIAIABBxAFqIABBEGogACgCDCAEEGEgAEHMAmogAEHIAmoQLQRAIAQgBCgCAEECcjYCAAsgACgCzAIhCCABEAoaIABBxAFqEAoaIABB0AJqJAAgCAvsAQEBfyMAQSBrIgYkACAGIAE2AhwCQCADKAIEQQFxRQRAIAZBfzYCACAAIAEgAiADIAQgBiAAKAIAKAIQEQgAIQECQAJAAkAgBigCAA4CAAECCyAFQQA6AAAMAwsgBUEBOgAADAILIAVBAToAACAEQQQ2AgAMAQsgBiADECQgBhBxIQEgBhAjIAYgAxAkIAYQ+gIhACAGECMgBiAAEKQBIAZBDHIgABCjASAFIAZBHGogAiAGIAZBGGoiAyABIARBARDGBCAGRjoAACAGKAIcIQEDQCADQQxrEEAiAyAGRw0ACwsgBkEgaiQAIAEL8AIBBH8jAEGAAmsiACQAIAAgAjYC+AEgACABNgL8ASAAQcQBahAnIQYgAEEQaiICIAMQJCACEGxBwIYCQdqGAiAAQdABahCJAiACECMgAEG4AWoQJyIDIAMQKBAfIAAgA0EAECEiATYCtAEgACACNgIMIABBADYCCANAAkAgAEH8AWogAEH4AWoQLg0AIAAoArQBIAMQDiABakYEQCADEA4hAiADIAMQDkEBdBAfIAMgAxAoEB8gACACIANBABAhIgFqNgK0AQsgAEH8AWoiAhBKQRAgASAAQbQBaiAAQQhqQQAgBiAAQRBqIABBDGogAEHQAWoQ+wINACACEFQaDAELCyADIAAoArQBIAFrEB8gAxAgIQkQNSEHIAAgBTYCACAJIAcgABC2CkEBRwRAIARBBDYCAAsgAEH8AWogAEH4AWoQLgRAIAQgBCgCAEECcjYCAAsgACgC/AEhCCADEAoaIAYQChogAEGAAmokACAIC9EDAgF+AX8jAEGQAmsiACQAIAAgAjYCiAIgACABNgKMAiAAQdABaiADIABB4AFqIABB3wFqIABB3gFqEJoGIABBxAFqECciASABECgQHyAAIAFBABAhIgI2AsABIAAgAEEgajYCHCAAQQA2AhggAEEBOgAXIABBxQA6ABYDQAJAIABBjAJqIABBiAJqEC4NACAAKALAASABEA4gAmpGBEAgARAOIQMgASABEA5BAXQQHyABIAEQKBAfIAAgAyABQQAQISICajYCwAELIABBjAJqIgMQSiAAQRdqIABBFmogAiAAQcABaiAALADfASAALADeASAAQdABaiAAQSBqIABBHGogAEEYaiAAQeABahCZBg0AIAMQVBoMAQsLAkAgAEHQAWoQDkUNACAALQAXRQ0AIAAoAhwiAyAAQSBqa0GfAUoNACAAIANBBGo2AhwgAyAAKAIYNgIACyAAIAIgACgCwAEgBBC3CiAAKQMAIQYgBSAAKQMINwMIIAUgBjcDACAAQdABaiAAQSBqIAAoAhwgBBBhIABBjAJqIABBiAJqEC4EQCAEIAQoAgBBAnI2AgALIAAoAowCIQcgARAKGiAAQdABahAKGiAAQZACaiQAIAcLugMBAX8jAEGAAmsiACQAIAAgAjYC+AEgACABNgL8ASAAQcABaiADIABB0AFqIABBzwFqIABBzgFqEJoGIABBtAFqECciASABECgQHyAAIAFBABAhIgI2ArABIAAgAEEQajYCDCAAQQA2AgggAEEBOgAHIABBxQA6AAYDQAJAIABB/AFqIABB+AFqEC4NACAAKAKwASABEA4gAmpGBEAgARAOIQMgASABEA5BAXQQHyABIAEQKBAfIAAgAyABQQAQISICajYCsAELIABB/AFqIgMQSiAAQQdqIABBBmogAiAAQbABaiAALADPASAALADOASAAQcABaiAAQRBqIABBDGogAEEIaiAAQdABahCZBg0AIAMQVBoMAQsLAkAgAEHAAWoQDkUNACAALQAHRQ0AIAAoAgwiAyAAQRBqa0GfAUoNACAAIANBBGo2AgwgAyAAKAIINgIACyAFIAIgACgCsAEgBBC4CjkDACAAQcABaiAAQRBqIAAoAgwgBBBhIABB/AFqIABB+AFqEC4EQCAEIAQoAgBBAnI2AgALIAAoAvwBIQYgARAKGiAAQcABahAKGiAAQYACaiQAIAYLugMBAX8jAEGAAmsiACQAIAAgAjYC+AEgACABNgL8ASAAQcABaiADIABB0AFqIABBzwFqIABBzgFqEJoGIABBtAFqECciASABECgQHyAAIAFBABAhIgI2ArABIAAgAEEQajYCDCAAQQA2AgggAEEBOgAHIABBxQA6AAYDQAJAIABB/AFqIABB+AFqEC4NACAAKAKwASABEA4gAmpGBEAgARAOIQMgASABEA5BAXQQHyABIAEQKBAfIAAgAyABQQAQISICajYCsAELIABB/AFqIgMQSiAAQQdqIABBBmogAiAAQbABaiAALADPASAALADOASAAQcABaiAAQRBqIABBDGogAEEIaiAAQdABahCZBg0AIAMQVBoMAQsLAkAgAEHAAWoQDkUNACAALQAHRQ0AIAAoAgwiAyAAQRBqa0GfAUoNACAAIANBBGo2AgwgAyAAKAIINgIACyAFIAIgACgCsAEgBBC5CjgCACAAQcABaiAAQRBqIAAoAgwgBBBhIABB/AFqIABB+AFqEC4EQCAEIAQoAgBBAnI2AgALIAAoAvwBIQYgARAKGiAAQcABahAKGiAAQYACaiQAIAYLkAMBAn8jAEGAAmsiACQAIAAgAjYC+AEgACABNgL8ASADENIBIQYgAEHEAWog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IAAgACgCDCIAQQFqNgIMIAAsAAAQuwILBABBfwu+AQEEfyMAQRBrIgQkAANAAkAgAiAFTA0AAkAgACgCDCIDIAAoAhAiBkkEQCAEQf////8HNgIMIAQgBiADazYCCCAEIAIgBWs2AgQgBEEMaiAEQQhqIARBBGoQpQYQpQYhAyABIAAoAgwgAygCACIDEJcBIAAgACgCDCADajYCDAwBCyAAIAAoAgAoAigRAgAiA0F/Rg0BIAEgA8A6AABBASEDCyABIANqIQEgAyAFaiEFDAELCyAEQRBqJAAgBQsJACAAQn8QpgYLCQAgAEJ/EKYGCwQAIAALDAAgABCnBhogABALC6gBAQV/IAAoAlQiAygCACEFIAMoAgQiBCAAKAIUIAAoAhwiB2siBiAEIAZJGyIGBEAgBSAHIAYQHRogAyADKAIAIAZqIgU2AgAgAyADKAIEIAZrIgQ2AgQLIAQgAiACIARLGyIEBEAgBSABIAQQHRogAyADKAIAIARqIgU2AgAgAyADKAIEIARrNgIECyAFQQA6AAAgACAAKAIsIgE2AhwgACABNgIUIAILBgAgARALCwYAIAEQRwsyACAAQeyiASgCADYCGCAAQeSiASkCADcCECAAQdyiASkCADcCCCAAQdSiASkCADcCAAsmACAAQaShASgCADYCECAAQZyhASkCADcCCCAAQZShASkCADcCAAsyACAAQfSeASgCADYCGCAAQeyeASkCADcCECAAQeSeASkCADcCCCAAQdyeASkCADcCAAsyACAAQYCcASkDADcDGCAAQfibASkDADcDECAAQfCbASkDADcDCCAAQeibASkDADcDAAsmACAAQaSbASkCADcCECAAQZybASkCADcCCCAAQZSbASkCADcCAAsmACAAQfCWASkCADcCECAAQeiWASkCADcCCCAAQeCWASkCADcCAAsyACAAQZyWASkCADcCGCAAQZSWASkCADcCECAAQYyWASkCADcCCCAAQYSWASkCADcCAAsyACAAQcSVASgCADYCGCAAQbyVASkCADcCECAAQbSVASkCADcCCCAAQayVASkCADcCAAsNACAAQdiTAUE4EB0aCw4AIABBsPIAQdAAEB0aCxoAIABB/PAAKAIANgIIIABB9PAAKQIANwIACw4AIABB6O8AQdAAEB0aCw0AIABB5O0AQSgQHRoLDQAgAEGA7QBBKBAdGgsNACAAQZDsAEEwEB0aC2gBAn8jAEEQayICJAAgAiABKAIINgIIIAIgASkCADcDACABQgA3AgAgAUEANgIIIAIoAgAgAiACLQALIgHAQQBIIgMbIAIoAgQgASADG60gACgCCCAAKAIEESwAIAIQChogAkEQaiQACxUAIAFBjOsANgIAIAEgACkCBDcCBAsKACAAQYzrABB5C3EBAn8jAEEQayIDJAAgASgCACEEIAMgAigCCDYCCCADIAIpAgA3AwAgAkIANwIAIAJBADYCCCAEIAMoAgAgAyADLQALIgHAQQBIIgIbIAMoAgQgASACG60gACgCCCAAKAIEERgAIAMQChogA0EQaiQACxUAIAFB6OoANgIAIAEgACkCBDcCBAsKACAAQejqABB5C8sCAQJ/IwBBQGoiBSQAIAEoAgAhBiAFIAJBCGooAgA2AiggBSACKQIANwMgIAJCADcCACACQQA2AgggBSADKAIINgIYIAUgAykCADcDECADQgA3AgAgA0EANgIIIAUgBCgCACICNgIEIAUgBCgCBCIDNgIIIAUgBCgCCDYCDCAEQQA2AgggBEIANwIAIAVBADYCPCAFQgA3AjQgBUE0aiADIAJrQQxtEIABA0AgAiADRkUEQCAFIAIoAgAgAiACLAALQQBIGzYCMCACQQxqIQIgBUE0aiAFQTBqEHYMAQsLIAYgBSgCICAFQSBqIgIgBSwAK0EASBsgBSgCECAFQRBqIgMgBSwAG0EASBsgBSgCNCIBIAUoAjggAWtBAnWtIAAoAgggACgCBBFGACAFQTRqEA8aIAVBBGoQOyADEAoaIAIQChogBUFAayQACxUAIAFBxOoANgIAIAEgACkCBDcCBAsKACAAQcTqABB5C7YBAQJ/IwBBIGsiBSQAIAItAAAhAiABKAIAIQYgBSADKAIINgIYIAUgAykCADcDECADQgA3AgAgA0EANgIIIAUgBCgCCDYCCCAFIAQpAgA3AwAgBEIANwIAIARBADYCCCAGIAIgBSgCECAFQRBqIgMgBS0AGyIBwEEASCICGyAFKAIUIAEgAhutIAUoAgAgBSAFLAALQQBIGyAAKAIIIAAoAgQRIQAgBRAKGiADEAoaIAVBIGokAAsVACABQaDqADYCACABIAApAgQ3AgQLCgAgAEGg6gAQeQsVACABQfzpADYCACABIAApAgQ3AgQLCgAgAEH86QAQeQsVACABQdjpADYCACABIAApAgQ3AgQLCgAgAEHY6QAQeQsVACABQbTpADYCACABIAApAgQ3AgQLCgAgAEG06QAQeQsVACABQZDpADYCACABIAApAgQ3AgQLCgAgAEGQ6QAQeQsVACABQezoADYCACABIAApAgQ3AgQLCgAgAEHs6AAQeQsVACABQcjoADYCACABIAApAgQ3AgQLCgAgAEHI6AAQeQvCAgIDfwF+IwBBMGsiBSQAIAEoAgAhBiAFIAIoAgAiATYCCCAFIAIoAgQiBzYCDCAFIAIoAgg2AhAgAkEANgIIIAJCADcCAAJAIAYEQCAGQQBBAEIAQQAgACgCCCAAKAIEESEADAELIAQtAAAhAiADKQMAIQggBUEANgIsIAVCADcCJCAFQQA2AiAgBUIANwIYIAVBJGogByABa0EYbSIDEIABIAVBGGogAxCAAQNAIAEgB0YEQEEAIAUoAiQgBSgCGCAIIAIgACgCCCAAKAIEESEAIAVBGGoQDxogBUEkahAPGgUgBSABKAIAIAEgASwAC0EASBs2AhQgBUEkaiAFQRRqIgMQdiAFIAEoAgwgAUEMaiABLAAXQQBIGzYCFCABQRhqIQEgBUEYaiADEHYMAQsLCyAFQQhqEOIEIAVBMGokAAsVACABQaToADYCACABIAApAgQ3AgQLCgAgAEGk6AAQeQspACABKAIAIABBCGoiASgCACABIAAsABNBAEgbIAAoAhQgACgCBBEEAAsYACABQYDoADYCACABQQRqIABBBGoQ2wQLIAEBf0EYEBciAUGA6AA2AgAgAUEEaiAAQQRqENsEIAELCQAgABCuCxALCw4AIAAoAgAgASACEKwLC4YBAQJ/IwBBEGsiAyQAIAEoAgAhBCADIAIoAgg2AgggAyACKQIANwMAIAJCADcCACACQQA2AgggBCAAQQhqIgEoAgAgASAALAATQQBIGyADKAIAIAMgAy0ACyIBwEEASCICGyADKAIEIAEgAhutIAAoAhQgACgCBBEwACADEAoaIANBEGokAAsYACABQdznADYCACABQQRqIABBBGoQ2wQLIAEBf0EYEBciAUHc5wA2AgAgAUEEaiAAQQRqENsEIAELCQAgABCxCxALC5QBAQF/IwBBIGsiAyQAIAMgASgCCDYCGCADIAEpAgA3AxAgAUIANwIAIAFBADYCCCADIAIoAgg2AgggAyACKQIANwMAIAJCADcCACACQQA2AgggAygCECADQRBqIgEgAywAG0EASBsgAygCACADIAMsAAtBAEgbIAAoAgggACgCBBEEACADEAoaIAEQChogA0EgaiQACxUAIAFBuOcANgIAIAEgACkCBDcCBAsKACAAQbjnABB5Cw4AIAEoAgAgAigCABAJCwsAIAFBlOcANgIACxEAQQgQFyIAQZTnADYCACAAC98BAQJ/IwBB0ABrIgUkACAFIAEoAgg2AkggBSABKQIANwNAIAFCADcCACABQQA2AgggBSACKAIANgI0IAUgAigCBDYCOCAFIAIoAgg2AjwgAkEANgIIIAJCADcCACADKAIAIQEgBUEQaiAEQQhqEM0LIQYgACgCBCAAQQRqIAAsAA9BAEgbIABBEGoiAygCACADIAAsABtBAEgbIAUoAkAgBUFAayIDIAUsAEtBAEgbIAVBNGoiBCABIAVBCGogACgCICAAKAIcERcAIAYQQyAEEFwgAxAKGiAFQdAAaiQACxgAIAFB8OYANgIAIAFBBGogAEEEahDcBAsgAQF/QSQQFyIBQfDmADYCACABQQRqIABBBGoQ3AQgAQsJACAAELQLEAsLPAAgASgCACAAKAIEIABBBGogACwAD0EASBsgAEEQaiIBKAIAIAEgACwAG0EASBsgACgCICAAKAIcEQYACxgAIAFBzOYANgIAIAFBBGogAEEEahDcBAsgAQF/QSQQFyIBQczmADYCACABQQRqIABBBGoQ3AQgAQsJACAAELgLEAsLFQAgAUGo5gA2AgAgASAAKQIENwIECwoAIABBqOYAEHkLhAEBAn8jAEEQayICJAAgAiABKAIINgIIIAIgASkCADcDACABQgA3AgAgAUEANgIIIwBBEGsiASQAIAAoAgQhAyABIAIoAgg2AgggASACKQIANwMAIAJCADcCACACQQA2AgggA0G4DmogARC6AyABEAoaIAFBEGokACACEAoaIAJBEGokAAsVACABQYTmADYCACABIAAoAgQ2AgQLCwAgAEGE5gAQygMLYQEDfyABKAIAGiMAQZABayIBJAAgAEEIaiIAKAIAIQJBARAVBEAgAUEIahATIQQgAUEBNgIEIARB09cAEA0gAkGYBGoQ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DhAKGiANEAoaIAwQChogBxAKGiACEBIaIAAQEhogBhAKGiADQbABaiQAIAEQEhogBBAKGiALEAoaIAoQChogCRAKGiAIQdAAaiQAQQALlgQBB38jAEFAaiIKJAAgCkE0aiABEAwhDCAKQShqIAIQDCENIApBHGoiCyADIASnEEEgCiAINgIIIAogBzYCBCAKQaDqADYCACAKIAo2AhAgACEPIAohASMAQcABayIJJAAgCUGQAWoiABCZCyAJIAwoAgAgDCAMLAALQQBIGzYCnAEgCSANKAIAIA0gDSwAC0EASBs2AqABIAsoAgQhCCAJIAsoAgAgCyALLQALIgfAQQBIIgMbNgKoASAJIAY2ArgBIAkgBTcDsAEgCSAIIAcgAxs2AqQBIAlBADYCiAEgCUIANwOAASAAKAIAQZiiAUcEQEHZFUHlyABB8QdBxTIQAAALIAlBgAFqIg4gABBZEF0gCUH/ADYCeCAJIA42AnwgACgCAEGYogFHBEBB2RVB5cgAQf8HQYIkEAAACyAAIAlB+ABqEGUgCUHIAGogARAyIQpBIBAXIgBBnOAANgIAIABBCGogChAyGiAJIAA2AnAgD0G4AiAOIAlB4ABqIghBASAJQTxqQanZABAMIgcgCUEwakGp2QAQDCIGIAlBJGpBqdkAEAwiAyAJQRhqQanZABAMIgIgCUEMakGp2QAQDCIAQQAQjAEgABAKGiACEAoaIAMQChogBhAKGiAHEAoaIAgQEhogChASGiAOEAoaIAlBwAFqJAAgARASGiALEAoaIA0QChogDBAKGiABQUBrJABBAAunDAEHfyMAQdAAayIIJAAgCEHEAGogARAMIQkgCEE4aiACEAwhCiAIQSxqIAMQDCELIAhBIGoiAUEANgIIIAFCADcCACAEKAIEIgIgBCgCACIDRwRAIAIgA2tBOG0iAkGlkskkTwRAEAEACyABIAIQkwgiAzYCBCABIAM2AgAgASADIAJBOGxqNgIIIAQoAgAhAiAEKAIEIQQgASgCBCEDA0AgAiAERwRAIAMgAigCADYCACADQQRqIAJBBGoQywsgA0EQaiACQRBqEBAaIAMgAikDIDcDICADIAIoAig2AiggAyACKAIsNgIsIAMgAi0AMDoAMCADQThqIQMgAkE4aiECDAELCyABIAM2AgQLIAggBzYCECAIIAY2Agwg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IAYQChogCxAKGiAJQTBqJABBAAvjAQICfwF+IwBBIGsiAyQAIANBADYCHCADQgA3AhQgA0EUaiACEMsBA38gAiAERgR/IAMgAygCFDYCCCADKQIYIQUgA0EANgIcIAMgBTcCDCADQgA3AhQjAEEQayIBJAAgASADQQhqIgIoAgA2AgQgASACKAIENgIIIAEgAigCCDYCDCACQQA2AgggAkIANwIAIABByANqIAFBBGoiBBDdBSAAQQE6AOADIAQQOyABQRBqJAAgAhA7IANBFGoQOyADQSBqJABBAAUgA0EUaiABIARBAnRqEMICIARBAWohBAwBCwsLRwEBfyMAQSBrIgMkACADIAI2AhAgAyABNgIMIANBuOcANgIIIAMgA0EIaiIBNgIYIABB0A5qIAEQ2AEgARASGiADQSBqJAALCwBBsMECIAA2AgALswMBB38jAEEgayIDJAAgA0GU5wA2AgggAyADQQhqIgQ2AhgjAEEgayIFJAAgBUEIaiAEEOADIQAjAEEQayICJAACQCAAQbDCAkYNAEHAwgIoAgAhASAAIAAoAhAiBkYEQCABQbDCAkYEQCAAIAIgACgCACgCDBEAACAAKAIQIgEgASgCACgCEBEBACAAQQA2AhBBwMICKAIAIgEgACABKAIAKAIMEQAAQcDCAigCACIBIAEoAgAoAhARAQBBwMICQQA2AgAgACAANgIQIAJBsMICIAIoAgAoAgwRAAAgAiACKAIAKAIQEQEAQcDCAkGwwgI2AgAMAgsgAEGwwgIgACgCACgCDBEAACAAKAIQIgEgASgCACgCEBEBACAAQcDCAigCADYCEEHAwgJBsMICNgIADAELIAFBsMICRgRAQbDCAiAAQbDCAigCACgCDBEAAEHAwgIoAgAiASABKAIAKAIQEQEAQcDCAiAAKAIQNgIAIAAgADYCEAwBCyAAIAE2AhBBwMICIAY2AgALIAJBEGokACAAEBIaIAVBIGokAEHIwgJBADYCACAEEBIaIANBIGokAAs/AQF/IAAoAgAiAiAAKAIERgRAQbECDwsgASACKAIIIAJBCGogAiwAE0EASBs2AgAgACAAKAIAKAIANgIAQQALWgEEfyMAQSBrIgIkAEEIEBchAyAAIAJBFGogARAMIgQQwgsoAgghBSAAIAJBCGogARAMIgAQwgsaIANBADYCBCAD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1wAQDSAGEBEaIAFBgAJqEBQMAQsgAyAGEJsBIQMgAUG4AWogCRBQIQQgAUIANwMoIAFCADcDICABQYACaiIFIAMgAUEgaiAEEL4BIAFB0AFqIAUQugEQxQIhCiABQYgCahCqASAEECUCQCAKLQAoRQRAQQMQFUUNASABQYQCahATIQ0gAUEDNgKAAiANQYLXABANIAkQERogBRAUDAELIAEgChCOASIEKQMQNwOwASABIAQpAwg3A6gBIAEgBCkDEDcDGCABIAQpAwg3AxAgAUGAAmoiByADIAFBEGoQjQUgASAHEIwFIgQoAgA2ApwBIAEgBCgCBDYCoAEgASAEKAIINgKkASAEQQA2AgggBEIANwIAIAcQiwUgASgCoAEhBSABKAKcASEEAkACQANAIAQgBUYiBw0BIAQQ9QQhDiAEQShqIQQgDhDFAyACECJFDQALQQMQFUUNASABQYQCahATIQ8gAUEDNgKAAiAPQYnTABANIAIQERogAUGAAmoQFAwBC0EBEBUEQCABQYQCahATIRAgAUEBNgKAAiAQQeTWABANIAIQERogAUGAAmoQFAsgAUGAAmogAxCaASEEIAEgASkDsAE3A1AgASABKQOoATcDSCADIAFBqAFqEI8DIRIgAUH4AGogAhDrBiERIAEgASkDUDcDCCABIAEpA0g3AwAgBCABIBIgAUHwAGoQ/QQgERBDIAFByABqIgMgBBCZASACEPcEIQUgAEG0BGogBhDoBiAJEOcGIQACQCAFBEAgAyACQQAQqAMgACABQTBqIAIgAxD2BCIAEOoGIAAQZhogAxAKGgwBCyAAQQE6AMwDCyAEEI0BCyABQZwBahDvAwsgChCRAgsgAUGQA2okACACEAoaIAkQChogBhAKGiAIQTBqJABBAEG1AiAHGwuzBAEIfyMAQSBrIgckACAHQRRqIAEQDCEEIAdBCGogAhAMIQYjAEGQAmsiAyQAQQEQFQRAIANBhAFqEBMhCiADQQE2AoABIApB/dgAEA0gBBARQYHVABANIAYQERogA0GAAWoQFAsgAEG0BGoiCCAEEPgEIgIgBhDbASIJBH8jAEEQayIFJAAgCSgCABogBUEEaiIBIAIgCRDQBiABEOkEIAVBEGokAEEBBUEACwRAIABByARqIAQQkQMgBhDlAyIBIAEpAwBCAXw3AwALIAggBBD4BCgCDEUEQCAIIAQQ2wEiBQRAIwBBEGsiAiQAIAUoAgAaIAJBBGoiASAIIAUQ0AYgARDPBiACQRBqJAALCwJAIAAtAKAOBEAgAEGIB2oiAiAEEIIBIABBjAdqRg0BIANBgAFqIAIgBBCbARCaASEFIANB6ABqIAYQUCEBIANCADcDGCADQgA3AxAgBSADQRBqIAEQxwIgARAlIANBxwBqIAUQmQEgAiAEEJsBQfDcABCPA1AEQCAAQeAEaiADQThqIAQQECIAEOUGIAAQChoLIAUQjQEMAQsgACgCpARBqAJqIABBmARqIgEQggEgACgCpAQiAEGsAmpGDQAgA0GAAWogAEGoAmogARCbARCaASEBIANBIGogBhBQIQAgA0IANwMIIANCADcDACABIAMgABDHAiAAECUgA0HHAGogARCZASABEI0BCyADQZACaiQAIAYQChogBBAKGiAHQSBqJAALPQECfyMAQSBrIgMkACAAIANBFGogARAMIgAgA0EIaiACEAwiARD5BCEEIAEQChogABAKGiADQSBqJAAgBAuKAgEDfyMAQdAAayIFJAAgACAFQcQAaiABEAwiASAFQThqIAIQDCICEPkEIQcgBSABKAIINgIIIAUgASkCADcDACABQgA3AgAgAUEANgIIIAUgAigCCDYCFCAFIAIpAgA3AgwgAkIANwIAIAJBADYCCCAFIAQ2AhwgBSADNgIYQSQQFyIAQfDmADYCACAAIAUoAgg2AgwgACAFKQMANwIEIAVBADYCCCAFQgA3AwAgACAFKAIUNgIYIAAgBSkCDDcCECAFQQA2AhQgBUIANwIMIAAgBSkDGDcCHCAFIAA2AjAgByAFQSBqIgAQzgsgABASGiAFEGYaIAIQChogARAKGiAFQdAAaiQAQQALsxECFn8CfSMAQZABayIKJAAgCkEANgKMASAKQgA3AoQBIApBhAFqIAQQywEDQCAEIA9GBEAgCkH4AGogARAMIRQgCkHsAGogAhAMIQMgCkHgAGoiFyAFIAanEEEgCiAKKAKEATYCVCAKKQKIASEGIApBADYCjAEgCiAGNwJYIApCADcChAEgCkHUAGohFiMAQZAEayIJJAAgAEG0BGogFBD4BCEEIAkgFzYC4AIjAEEgayIRJAAgESADNgIUIBEgCUGYAmo2AhAgESAJQeACajYCDCARQejc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oAM3AwAgBSAErTcDkAEgBSAFKQOYAzcDOCABIAVBOGogACAFQYgBakEAEO4BIAVBkAFqEEMgABAlIAVBmANqIAEQmQEgARCNASAGEJECCyAFQYAFaiQAIAIQChogCRAKGiAHEAoaIAhBMGokAAsJACAAIAE2AjgLCQAgACABNgJICwkAIAAgATYCQAsKACAAQQE6AOgOC+MDAQV/IAAEQCAAQdAOahASGiAAQbgOahASGiAAQaQOahDkBCAAQcAKaiIBLQDYAwRAIAEQ5wQLIABB4ARqENEGIABByARqIgMoAgghAQNAIAEEQCABKAIAIQQgAUEIahDWBiABEAsgBCEBDAELCyADEOIDIABBtARqIgMoAgghAQNAIAEEQCABKAIAIQUgAUEIahDOBiABEAsgBSEBDAELCyADEOIDIABBqARqIAAoAqwEEOEDIABBmARqEAoaIABBjARqEDsgAEH8A2ogACgCgAQQvwYgAEHoA2oQ5AQgAEHIA2oQOyAAQbADahASGiAAQZgDahASGiAAQYgDahAKGiAAQfgCahAKGiAAQeACahASGiAAQcgCahASGiAAQbACahASGiAAQZgCahASGiAAQYACahASGiAAQegBahASGiAAQdABahASGiAAQbgBahASGiAAQaABahASGiAAQYgBahASGiAAQdgAahDoCyAAQcwAahDpCyAAKAIwIgEEQCABIAEoAgQiAkEBazYCBCACRQRAIAEgASgCACgCCBEBAAJAIAFBCGoiAigCAARAIAIQjApBf0cNAQsgASABKAIAKAIQEQEACwsLIABBIGoQChogAEEUahAKGiAAEAoaCyAAEAsL3QsBD38jAEEwayIEJAAgBEEANgIsIARCADcCJCAEQSRqIAIQywEDfyACIANGBH9B8A4QFyEBIARBGGogABAMIQggBEEIaiAEQSRqIg4QpwIhByMAQZABayIDJAAgA0GEAWogCBAQIQkCQCAHLQAMBEAgA0H4AGogBxDLCwwBCyADQQA2AoABIANCADcCeAsjAEEQayIKJAAgCkEEakGp2QAQDCELIwBBEGsiDCQAIAFCADcDACABQgA3AAUgAUEQakEAQSYQHhogAUHcAGoiAEIANwIAIAFBADYCVCABIAFBzABqIgI2AlAgASACNgJMIAFBCjYCSCABQriXgICA9wI3A0AgAUEBOgA8IAFBDzYCOCABQQA2AsgBIAFBADYCsAEgAUEANgKYASABQQA6AGQgASAANgJYIAFCADcDaCABQgA3A3AgAUIANwN4IAFCADcDgAEgAUEANgLwAiABQQA2AtgCIAFBADYCwAIgAUEANgKoAiABIAFBgAJqNgKQAiABQaTkADYCgAIgASABQegBajYC+AEgAUGA5AA2AugBIAEgAUHQAWo2AuABIAFB2OMANgLQASABQgA3A4gDIAFBADYCkAMgAUEANgKoAyABQQA2AsADIAFBADYC0AMgAUIANwPYAyABQgA3A8gDIAFBADoA4AMgAUIANwD9AiABQgA3A/gCIAxBBGogCxAQIg8hAiMAQZABayIFJAAgASIAIAIQgwECQCACKAIEIAItAAsiASABwEEASCIBGyIGRQ0AIAYgAigCACACIAEbakEBay0AAEEvRg0AIwBBEGsiECQAQfnPABDWASEBIAVBBGoiAiABIAAoAgQgAC0ACyIGIAbAQQBIGyIGahCwCCINKAIAIA0gDSwAC0EASBsgACgCACAAIAAsAAtBAEgbIAYQVSAGakH5zwAgARBVIAFqQQA6AAAgEEEQaiQAIAAgAhAcIAIQChoLQQEQFQRAIAVBCGoQEyERIAVBATYCBCARQenRABANIAAQERogBUEEahAUCyAFQZABaiQAIA8QChogDEEQaiQAIAsQChogAEEBOgCEAyAAQYgDaiAJEBwgAEHIA2ogA0H4AGoiARDdBSAKQRBqJAAgARA7IAkQChogAEIANwPwAyAAQgA3A+gDIABBgARqIgFCADcDACAAQYCAgPwDNgL4AyAAQgA3A5AEIABCrAI3A4gEIAAgATYC/AMgAEGYBGogCBAQIQEgAEIANwK0BCAAIABBrARqNgKoBCAAQgA3AqwEIABCADcCvAQgAEIANwPIBCAAQYCAgPwDNgLEBCAAQgA3A9AEIABBgICA/AM2AtgEIABB4ARqIANB7ABqIAEQECICEOgEIQEgAhAKGiAAQgA3AqQOIABBADoAoA4gAEGYDmpBADoAACAAQQA6AMAKIABBrA5qQgA3AgAgAEEAOgDoDiAAQeAOakEANgIAIABByA5qQQA2AgAgAEG0DmpBgICA/AM2AgAgAyAANgJUIANByOQANgJQIAMgA0HQAGoiAjYCYCAAQZgDaiACENgBIAIQ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EQAAABIAAAATAAAAFAAAABUAAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAACQAAAAlAAAAJgAAACcAAAAoAAAAKQAAACoAAAArAAAAAAAAACwAAAAtAAAAfQBpbmZpbml0eQBGZWJydWFyeQBKYW51YXJ5AEp1bHkARGlnZXN0T25seQBDb3VudE9ubHkAS2V5c09ubHkASGFzaEtleQBSb3V0aW5nS2V5AFVuaXF1ZUtleQBTeW5jS2V5AHNpemVvZl9lbHRfaW5fcmVwZWF0ZWRfYXJyYXkAVGh1cnNkYXkAVHVlc2RheQBXZWRuZXNkYXkAU2F0dXJkYXkAU3VuZGF5AE1vbmRheQBGcmlkYXkATWF5ACVtLyVkLyV5AENvbm5JbmRleABOYW1lc3BhY2VJbmRleAAtKyAgIDBYMHgALTBYKzBYIDBYLTB4KzB4IDB4AF9fbmV4dF9wcmltZSBvdmVyZmxvdwBOb3YAVGh1AFRpbWVvdXQAQXVndXN0AENSU1lOQ19fVkFMVUVfVFlQRV9fTGlzdABDcnN5bmNfX04xUUxRdWVyeVJlcXVlc3QAY3JzeW5jLk4xUUxRdWVyeVJlcXVlc3QAQ3JzeW5jX19SYW5nZURvY3NSZXF1ZXN0AGNyc3luYy5SYW5nZURvY3NSZXF1ZXN0AEdhbGFjdHVzX19Fc3RhYmxpc2hSZXF1ZXN0AENyc3luY19fRXN0YWJsaXNoUmVxdWVzdABnYWxhY3R1cy5Fc3RhYmxpc2hSZXF1ZXN0AGNyc3luYy5Fc3RhYmxpc2hSZXF1ZXN0AENyc3luY19fQmF0Y2hSZXF1ZXN0AGNyc3luYy5CYXRjaFJlcXVlc3QAQ3JzeW5jX19VcGRhdGVSZXF1ZXN0AGNyc3luYy5VcGRhdGVSZXF1ZXN0AENyc3luY19fRGF0YWJhc2VSZXF1ZXN0AGNyc3luYy5EYXRhYmFzZVJlcXVlc3QAR2FsYWN0dXNfX1NoYWtlSGFuZFJlcXVlc3QAZ2FsYWN0dXMuU2hha2VIYW5kUmVxdWVzdABDcnN5bmNfX1F1ZXJ5RG9jUmVxdWVzdABjcnN5bmMuUXVlcnlEb2NSZXF1ZXN0AENyc3luY19fUHV0RG9jUmVxdWVzdABjcnN5bmMuUHV0RG9jUmVxdWVzdABDcnN5bmNfX0dldERvY1JlcXVlc3QAY3JzeW5jLkdldERvY1JlcXVlc3QAQ3JzeW5jX19EZWxEb2NSZXF1ZXN0AGNyc3luYy5EZWxEb2NSZXF1ZXN0AEJlc3QAQ1JTWU5DX19VUERBVEVfTUVUSE9EX19MaXN0SW5zZXJ0AFN0YXJ0AHJlY2VpdmVkIGVtcHR5IHNuYXBzaG90AGZhaWwgdG8gcmVjdiBzbmFwc2hvdABzZW5kaW5nIHNuYXBzaG90AENvbm5lY3Rpb25Db3VudABTdHJlYW1Db3VudAAgY3JlYXRlIGNoZWNrcG9pbnQARW5kcG9pbnQAQ3JzeW5jX19UaWNrZXRFdmVudABjcnN5bmMuVGlja2V0RXZlbnQAQ3JzeW5jX19QZXJtaXNzaW9uRXZlbnQAY3JzeW5jLlBlcm1pc3Npb25FdmVudABDcnN5bmNfX0tlZXBhbGl2ZUV2ZW50AGNyc3luYy5LZWVwYWxpdmVFdmVudABDb250ZW50AHNob3VsZCBoYXZlIG9ubHkgdXNlZCBoYXNoZXMgdGhhdCBhcmUgaW4gdGhlIGRvY3VtZW50AENyc3luY19fRG9jdW1lbnQAY3JzeW5jLkRvY3VtZW50AFN0YXRlbWVudABJbnN0YW50AExpbWl0AENSU1lOQ19fVVBEQVRFX01FVEhPRF9fQ291bnRlclNldABDUlNZTkNfX1VQREFURV9NRVRIT0RfX1NldABDUlNZTkNfX1ZBTFVFX1RZUEVfX0RpY3QAIGNvbXBhY3QAT2N0AENSU1lOQ19fVkFMVUVfVFlQRV9fRmxvYXQAU2F0AGdhbGFjdHVzAERvY3VtZW50cwBDbGllbnRzAEdyYW50cwBSZXN1bHRzAFRpY2tldHMAU3VjY2VzcwBDbHVzdGVycwBPcHRpb25zAFBlcm1zAEl0ZW1zAFBhcmFtcwBQYXRocwBkaWZmcwBVcGRhdGVzAEZvcmJpZHMATG9hZHMARG9jcwBUcwAlcwBBcHIAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZjcnN5bmNfX24xX3FscXVlcnlfcmVxdWVzdF9fZGVzY3JpcHRvcgBtZXNzYWdlLT5iYXNlLmRlc2NyaXB0b3IgPT0gJmNyc3luY19fcmFuZ2VfZG9jc19yZXF1ZXN0X19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmZ2FsYWN0dXNfX2VzdGFibGlzaF9yZXF1ZXN0X19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmY3JzeW5jX19lc3RhYmxpc2hfcmVxdWVzdF9fZGVzY3JpcHRvcgBtZXNzYWdlLT5iYXNlLmRlc2NyaXB0b3IgPT0gJmNyc3luY19fYmF0Y2hfcmVxdWVzdF9fZGVzY3JpcHRvcgBtZXNzYWdlLT5iYXNlLmRlc2NyaXB0b3IgPT0gJmNyc3luY19fdXBkYXRlX3JlcXVlc3RfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZjcnN5bmNfX2RhdGFiYXNlX3JlcXVlc3RfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZnYWxhY3R1c19fc2hha2VfaGFuZF9yZXF1ZXN0X19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmY3JzeW5jX19xdWVyeV9kb2NfcmVxdWVzdF9fZGVzY3JpcHRvcgBtZXNzYWdlLT5iYXNlLmRlc2NyaXB0b3IgPT0gJmNyc3luY19fcHV0X2RvY19yZXF1ZXN0X19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmY3JzeW5jX19nZXRfZG9jX3JlcXVlc3RfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZjcnN5bmNfX2RlbF9kb2NfcmVxdWVzdF9fZGVzY3JpcHRvcgBtZXNzYWdlLT5iYXNlLmRlc2NyaXB0b3IgPT0gJmNyc3luY19fdGlja2V0X2V2ZW50X19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmY3JzeW5jX19wZXJtaXNzaW9uX2V2ZW50X19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmY3JzeW5jX19rZWVwYWxpdmVfZXZlbnRfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZnYWxhY3R1c19fZXh0X2hlYWRlcl9fZGVzY3JpcHRvcgBtZXNzYWdlLT5iYXNlLmRlc2NyaXB0b3IgPT0gJmNyc3luY19fbjFfcWxxdWVyeV9yZXNwb25zZV9fZGVzY3JpcHRvcgBtZXNzYWdlLT5iYXNlLmRlc2NyaXB0b3IgPT0gJmdhbGFjdHVzX19yZW5ld19rZXlfcmVzcG9uc2VfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZjcnN5bmNfX3JhbmdlX2RvY3NfcmVzcG9uc2VfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZnYWxhY3R1c19fZXN0YWJsaXNoX3Jlc3BvbnNlX19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmY3JzeW5jX19lc3RhYmxpc2hfcmVzcG9uc2VfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZnYWxhY3R1c19fc2hha2VfaGFuZF9yZXNwb25zZV9fZGVzY3JpcHRvcgBtZXNzYWdlLT5iYXNlLmRlc2NyaXB0b3IgPT0gJmNyc3luY19fcXVlcnlfZG9jX3Jlc3BvbnNlX19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmY3JzeW5jX19nZXRfZG9jX3Jlc3BvbnNlX19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmY3JzeW5jX19zeW5jX21lc3NhZ2VfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZjcnN5bmNfX3NoYWtlaGFuZF9fZGVzY3JpcHRvcgB2ZWN0b3IAQ2x1c3RlcgBwcm90b2J1Zl9jX21lc3NhZ2VfcGFja190b19idWZmZXIAcmVwZWF0ZWRfZmllbGRfcGFja190b19idWZmZXIAcmVxdWlyZWRfZmllbGRfcGFja190b19idWZmZXIAY3JzeW5jX19uMV9xbHF1ZXJ5X3JlcXVlc3RfX3BhY2tfdG9fYnVmZmVyAGNyc3luY19fcmFuZ2VfZG9jc19yZXF1ZXN0X19wYWNrX3RvX2J1ZmZlcgBnYWxhY3R1c19fZXN0YWJsaXNoX3JlcXVlc3RfX3BhY2tfdG9fYnVmZmVyAGNyc3luY19fZXN0YWJsaXNoX3JlcXVlc3RfX3BhY2tfdG9fYnVmZmVyAGNyc3luY19fYmF0Y2hfcmVxdWVzdF9fcGFja190b19idWZmZXIAY3JzeW5jX191cGRhdGVfcmVxdWVzdF9fcGFja190b19idWZmZXIAY3JzeW5jX19kYXRhYmFzZV9yZXF1ZXN0X19wYWNrX3RvX2J1ZmZlcgBnYWxhY3R1c19fc2hha2VfaGFuZF9yZXF1ZXN0X19wYWNrX3RvX2J1ZmZlcgBjcnN5bmNfX3F1ZXJ5X2RvY19yZXF1ZXN0X19wYWNrX3RvX2J1ZmZlcgBjcnN5bmNfX3B1dF9kb2NfcmVxdWVzdF9fcGFja190b19idWZmZXIAY3JzeW5jX19nZXRfZG9jX3JlcXVlc3RfX3BhY2tfdG9fYnVmZmVyAGNyc3luY19fZGVsX2RvY19yZXF1ZXN0X19wYWNrX3RvX2J1ZmZlcgBjcnN5bmNfX3RpY2tldF9ldmVudF9fcGFja190b19idWZmZXIAY3JzeW5jX19rZWVwYWxpdmVfZXZlbnRfX3BhY2tfdG9fYnVmZmVyAGdhbGFjdHVzX19leHRfaGVhZGVyX19wYWNrX3RvX2J1ZmZlcgBjcnN5bmNfX3N5bmNfbWVzc2FnZV9fcGFja190b19idWZmZXIAY3JzeW5jX19zaGFrZWhhbmRfX3BhY2tfdG9fYnVmZmVyAGNvbHVtbnMgb3V0IG9mIG9yZGVyAF9mb2xkZXIATGVhZGVyAEdhbGFjdHVzX19FeHRIZWFkZXIAZ2FsYWN0dXMuRXh0SGVhZGVyAE9jdG9iZXIATm92ZW1iZXIAU2VwdGVtYmVyAHBhcnNlX21lbWJlcgBwYXJzZV9wYWNrZWRfcmVwZWF0ZWRfbWVtYmVyAERlY2VtYmVyAExvY2FsQWRkcgBSZW1vdGVBZGRyAGlvc19iYXNlOjpjbGVhcgBNYXIARGlmZlNlcQBtZWRpYV9zZXJ2ZXJfbGlicmFyeS9jcmR0L2RvY3VtZW50LmNwcABtZWRpYV9zZXJ2ZXJfbGlicmFyeS9jcmR0L21lcmtsZV9zZWFyY2hfdHJlZS5jcHAAU2VwAENyc3luY19fVXBkYXRlT3AAY3JzeW5jLlVwZGF0ZU9wACVJOiVNOiVTICVwAEdhbGFjdHVzX19QZWVySW5mbwBnYWxhY3R1cy5QZWVySW5mbwBTdW4ASnVuAFJlYXNvbgBQZXJtSnNvbgBCaURpcmVjdGlvbgBUcnkgdG8gZXN0YWJsaXNoIGNvbm5lY3Rpb24AVHJ5IHRvIGVzdGFibGlzaCBuZXdzeW5jIGNvbm5lY3Rpb24AQ29sbGVjdGlvbgBDcnN5bmNfX09wZXJhdGlvbgBjcnN5bmMuT3BlcmF0aW9uAENyc3luY19fUGVybWlzc2lvbgBjcnN5bmMuUGVybWlzc2lvbgBWZXJzaW9uAE1vbgB0bXAgPT0gcGF5bG9hZF9sZW4AbmFuAEphbgBRdW9ydW0AQ3JzeW5jX19LZWVwYWxpdmVJdGVtAGNyc3luYy5LZWVwYWxpdmVJdGVtAENyc3luY19fSXRlbQBjcnN5bmMuSXRlbQBJbnNlcnRFbGVtAEp1bABUdGwAR2FsYWN0dXNfX1BlZXJQcm90b2NvbABnYWxhY3R1cy5QZWVyUHJvdG9jb2wAbnVsbABDb2xsAEFwcmlsAEV4aXN0c0ZhaWwAX2ludGVydmFsAF9lcGhlbWVyYWwATG9jYWwAcHJvdG9idWZfY19tZXNzYWdlX3VucGFjawBGcmkAZ2V0X3BhY2tlZF9wYXlsb2FkX2xlbmd0aABQYXRoAG9wIGZpZWxkIGNvdW50IGRvZXMgbm90IG1hdGNoAG1hZ2ljIG51bWJlciBkb2VzIG5vdCBtYXRjaABjaGVja3N1bSBkb2VzIG5vdCBtYXRjaABNYXJjaAAuL21lZGlhX3NlcnZlcl9saWJyYXJ5L2NyZHQvbWVya2xlX3NlYXJjaF90cmVlLmgAQXVnACByZWN2IGVyciBtc2cAYmFzaWNfc3RyaW5nAENSU1lOQ19fVkFMVUVfVFlQRV9fU3RyaW5nAEZsYWcAaW5mAEdhbGFjdHVzX19JbnRlcmVzdERpZmYAZ2FsYWN0dXMuSW50ZXJlc3REaWZmACUuMExmACVMZgBwcm90b2J1Zl9jX21lc3NhZ2VfZ2V0X3BhY2tlZF9zaXplAHJlcXVpcmVkX2ZpZWxkX2dldF9wYWNrZWRfc2l6ZQBjcnN5bmNfX24xX3FscXVlcnlfcmVxdWVzdF9fZ2V0X3BhY2tlZF9zaXplAGNyc3luY19fcmFuZ2VfZG9jc19yZXF1ZXN0X19nZXRfcGFja2VkX3NpemUAZ2FsYWN0dXNfX2VzdGFibGlzaF9yZXF1ZXN0X19nZXRfcGFja2VkX3NpemUAY3JzeW5jX19lc3RhYmxpc2hfcmVxdWVzdF9fZ2V0X3BhY2tlZF9zaXplAGNyc3luY19fYmF0Y2hfcmVxdWVzdF9fZ2V0X3BhY2tlZF9zaXplAGNyc3luY19fdXBkYXRlX3JlcXVlc3RfX2dldF9wYWNrZWRfc2l6ZQBjcnN5bmNfX2RhdGFiYXNlX3JlcXVlc3RfX2dldF9wYWNrZWRfc2l6ZQBnYWxhY3R1c19fc2hha2VfaGFuZF9yZXF1ZXN0X19nZXRfcGFja2VkX3NpemUAY3JzeW5jX19xdWVyeV9kb2NfcmVxdWVzdF9fZ2V0X3BhY2tlZF9zaXplAGNyc3luY19fcHV0X2RvY19yZXF1ZXN0X19nZXRfcGFja2VkX3NpemUAY3JzeW5jX19nZXRfZG9jX3JlcXVlc3RfX2dldF9wYWNrZWRfc2l6ZQBjcnN5bmNfX2RlbF9kb2NfcmVxdWVzdF9fZ2V0X3BhY2tlZF9zaXplAGNyc3luY19fdGlja2V0X2V2ZW50X19nZXRfcGFja2VkX3NpemUAY3JzeW5jX19rZWVwYWxpdmVfZXZlbnRfX2dldF9wYWNrZWRfc2l6ZQBnYWxhY3R1c19fZXh0X2hlYWRlcl9fZ2V0X3BhY2tlZF9zaXplAGNyc3luY19fc3luY19tZXNzYWdlX19nZXRfcGFja2VkX3NpemUAY3JzeW5jX19zaGFrZWhhbmRfX2dldF9wYWNrZWRfc2l6ZQB0cnVlAFZhbHVlAFR1ZQBSZW1vdGUAQ1JTWU5DX19PUEVSQVRJT05fX1dyaXRlAENSU1lOQ19fVVBEQVRFX01FVEhPRF9fRGVsZXRlACwgcmVzZXQgY29ubmVjdGlvbiBzdGF0ZQBDcmVhdGUAQ1JTWU5DX19VUERBVEVfTUVUSE9EX19VcGRhdGUAVHJhdmVyc2UAQ3JzeW5jX19OMVFMUXVlcnlSZXNwb25zZQBjcnN5bmMuTjFRTFF1ZXJ5UmVzcG9uc2UAR2FsYWN0dXNfX1JlbmV3S2V5UmVzcG9uc2UAZ2FsYWN0dXMuUmVuZXdLZXlSZXNwb25zZQBDcnN5bmNfX1JhbmdlRG9jc1Jlc3BvbnNlAGNyc3luYy5SYW5nZURvY3NSZXNwb25zZQBHYWxhY3R1c19fRXN0YWJsaXNoUmVzcG9uc2UAQ3JzeW5jX19Fc3RhYmxpc2hSZXNwb25zZQBnYWxhY3R1cy5Fc3RhYmxpc2hSZXNwb25zZQBjcnN5bmMuRXN0YWJsaXNoUmVzcG9uc2UAR2FsYWN0dXNfX1NoYWtlSGFuZFJlc3BvbnNlAGdhbGFjdHVzLlNoYWtlSGFuZFJlc3BvbnNlAENyc3luY19fUXVlcnlEb2NSZXNwb25zZQBjcnN5bmMuUXVlcnlEb2NSZXNwb25zZQBDcnN5bmNfX0dldERvY1Jlc3BvbnNlAGNyc3luYy5HZXREb2NSZXNwb25zZQBmYWxzZQBEYXRhYmFzZQBjaGFuZ2UgaXMgZWFybGllciB0aGFuIHBlZXIgYmFzZQBTY29yZQBNb3JlAENsaWVudFR5cGUAQ3JzeW5jX19WYWx1ZVR5cGUAY3JzeW5jLlZhbHVlVHlwZQBKdW5lAE5hbWUAQXZhaWxhYmxlAElnbm9yZVByaXZpbGVnZQBDcnN5bmNfX1ByaXZpbGVnZQBjcnN5bmMuUHJpdmlsZWdlAENyc3luY19fU3luY01lc3NhZ2UAY3JzeW5jLlN5bmNNZXNzYWdlAGJhc2UgaXMgbm90IGJlZm9yZSBzaGFyZWQgaGVhZHMsIHRvIHByb2JlIG1vZGUAcmVjdiBlcnIsIHRvIHByb2JlIG1vZGUAYmFzZSBpcyBub3QgYmVmb3JlIGxhc3Qgc3luYywgdG8gcHJvYmUgbW9kZQBHYWxhY3R1c19fUGVlck1vZGUAZ2FsYWN0dXMuUGVlck1vZGUAQXN5bmNNb2RlAEFkYXB0b3Igc3VnZ2VzdCBkaXNjb25uZWN0IGZvciBuYW1lc3BhY2UATmFtZXNwYWNlAENyc3luY19fVXBkYXRlTWV0aG9kAGNyc3luYy5VcGRhdGVNZXRob2QAY2hlY2twb2ludCBub3QgZm91bmQAVXB0aW1lSW5TZWNvbmQAR2V0Q2hhbmdlc1RvU2VuZABDcnN5bmNfX1NoYWtlaGFuZABjcnN5bmMuU2hha2VoYW5kAEVuZABSZW1vdmVkAGNvbm5lY3Rpb24gdGltZW91dGVkAElnbm9yZUV4cGlyZWQAZGVjb2RlIG9wcyBmYWlsZWQAcGFyc2UgZm9sZGVyIG1zZyBmYWlsZWQAY2xvY2tfZ2V0dGltZShDTE9DS19SRUFMVElNRSkgZmFpbGVkAGNsb2NrX2dldHRpbWUoQ0xPQ0tfTU9OT1RPTklDKSBmYWlsZWQAcHJvdG9idWZfY19tZXNzYWdlX2ZyZWVfdW5wYWNrZWQAY3JzeW5jX19kYXRhYmFzZV9yZXF1ZXN0X19mcmVlX3VucGFja2VkAGNyc3luY19fcGVybWlzc2lvbl9ldmVudF9fZnJlZV91bnBhY2tlZABjcnN5bmNfX24xX3FscXVlcnlfcmVzcG9uc2VfX2ZyZWVfdW5wYWNrZWQAZ2FsYWN0dXNfX3JlbmV3X2tleV9yZXNwb25zZV9fZnJlZV91bnBhY2tlZABjcnN5bmNfX3JhbmdlX2RvY3NfcmVzcG9uc2VfX2ZyZWVfdW5wYWNrZWQAZ2FsYWN0dXNfX2VzdGFibGlzaF9yZXNwb25zZV9fZnJlZV91bnBhY2tlZABjcnN5bmNfX2VzdGFibGlzaF9yZXNwb25zZV9fZnJlZV91bnBhY2tlZABnYWxhY3R1c19fc2hha2VfaGFuZF9yZXNwb25zZV9fZnJlZV91bnBhY2tlZABjcnN5bmNfX3F1ZXJ5X2RvY19yZXNwb25zZV9fZnJlZV91bnBhY2tlZABjcnN5bmNfX2dldF9kb2NfcmVzcG9uc2VfX2ZyZWVfdW5wYWNrZWQAY3JzeW5jX19zeW5jX21lc3NhZ2VfX2ZyZWVfdW5wYWNrZWQAc3VjY2Vzc2Z1bGx5IHN5bmNlZABoZWFkcyBlcXVhbCwgcGVlciBzeW5jZWQAV2VkAHBhY2tfYnVmZmVyX3BhY2tlZF9wYXlsb2FkAEdhbGFjdHVzX19RdW9ydW1Mb2FkAGdhbGFjdHVzLlF1b3J1bUxvYWQAVG90YWxMb2FkAENSU1lOQ19fT1BFUkFUSU9OX19SZWFkAExlYXNlSWQAQXV0b0NyZWF0ZURvYwBjcnN5bmMAc3RhcnQgYSByb3VuZCBvZiBzeW5jAHN0YXJ0IGEgcm91bmQgb2YgdG9tYnN0b25lIHN5bmMAQ1JTWU5DX19VUERBVEVfTUVUSE9EX19Db3VudGVySW5jAERlYwBtZWRpYV9zZXJ2ZXJfbGlicmFyeS90aGlyZF9wYXJ0eS9ldGNkLWMvcHJvdG9idWYtYy5jAG1lZGlhX3NlcnZlcl9saWJyYXJ5L3RoaXJkX3BhcnR5L2V0Y2QtYy9wcm94eS5wYi1jLmMAbWVkaWFfc2VydmVyX2xpYnJhcnkvdGhpcmRfcGFydHkvZXRjZC1jL2Nyc3luYy5wYi1jLmMARmViAF0AXVsAcmVtb3ZlIGludGVyZXN0OiBbAGFkZCBpbnRlcmVzdDogWwBBWgBHQUxBQ1RVU19fUEVFUl9NT0RFX19QRUVSX01PREVfUFJPWFkAJWEgJWIgJWQgJUg6JU06JVMgJVkAUE9TSVgAR0FMQUNUVVNfX1BFRVJfTU9ERV9fUEVFUl9NT0RFX0NMVVNURVJfQ0xJRU5UAEdBTEFDVFVTX19QRUVSX01PREVfX1BFRVJfTU9ERV9DTElFTlQAU3BsaXRPZmZMVABHQUxBQ1RVU19fUEVFUl9NT0RFX19QRUVSX01PREVfU0lERUNBUl9ESVJFQ1QAR0FMQUNUVVNfX1BFRVJfTU9ERV9fUEVFUl9NT0RFX0VNUwAlSDolTTolUwBHQUxBQ1RVU19fUEVFUl9NT0RFX19QRUVSX01PREVfTUlHUkFUT1IAR0FMQUNUVVNfX1BFRVJfTU9ERV9fUEVFUl9NT0RFX0NPT1JESU5BVE9SAEdBTEFDVFVTX19QRUVSX01PREVfX1BFRVJfTU9ERV9TWU5DX0NFTlRFUgBHQUxBQ1RVU19fUEVFUl9NT0RFX19QRUVSX01PREVfU0lERUNBUgBHQUxBQ1RVU19fUEVFUl9QUk9UT0NPTF9fUFJPVE9DT0xfVENQAE5BTgBQTQBBTQBUVEwAcnYtPmRlc2NyaXB0b3IgIT0gTlVMTABMQ19BTEwATEFORwBJTkYASUQAR0FMQUNUVVNfX1BFRVJfUFJPVE9DT0xfX1BST1RPQ09MX0dSUEMAKChtZXNzYWdlKS0+ZGVzY3JpcHRvciktPm1hZ2ljID09IFBST1RPQlVGX0NfX01FU1NBR0VfREVTQ1JJUFRPUl9NQUdJQwAoZGVzYyktPm1hZ2ljID09IFBST1RPQlVGX0NfX01FU1NBR0VfREVTQ1JJUFRPUl9NQUdJQwBJREMALCBlcnI6AHJlY3YgdXJpOgAsIHNlcWlkOgAwMTIzNDU2Nzg5AEMuVVRGLTgAbm9kZS5jaGlsZHJlbl8uc2l6ZSgpID09IG5vZGUuZWxlbWVudHNfLnNpemUoKSArIDEAY2hpbGRyZW5fLnNpemUoKSA9PSBlbGVtZW50c18uc2l6ZSgpICsgMQAwAC8AIGFscmVhZHkgdGltZW91dC4ALCBpZ25vcmUuAC4qKioqKi4ALAAqAChudWxsKQAhc3luY19zdGF0ZS0+dGhlaXJfaGF2ZS0+ZW1wdHkoKQAhZWxlbWVudHNfLmVtcHR5KCkAZ3RfZWxlbXMuc2l6ZSgpICsgMSA9PSBndF9jaGlsZHJlbi5zaXplKCkAICAgICIAIGNvbGwgbXNnIHR5cGUgZG9lcyBub3QgbWF0Y2ghAHN5bmMgbXNnIHR5cGUgZG9lcyBub3QgbWF0Y2ghAFB1cmUgdmlydHVhbCBmdW5jdGlvbiBjYWxsZWQhAFNldCBuYW1lc3BhY2UgYXMgAHB1cmdlZCB0byAAIHdpdGggZXJybm8gAEZhaWxlZCB0byBlc3RhYmxpc2ggY29ubiAAUmVjZWl2ZSB3cm9uZyB0ZXJtIABVbmtub3duIHVyaSAAIG9uIHVyaSAAY29tbWFuZCAAUmVjZWl2ZSB1bmtvd24gc2VxaWQgAF0gAGRvYyBub3QgZXhpc3Q6IAByZWFkYWJsZSBleGlzdDogAGNoZWNrcG9pbnQ6IABkZXAgbm90IG1ldDogACBpbml0aWFsIGRvY3M6IAB1cGRhdGUgZm9sZGVyOiAALCBsb2NhbF9hZGRyOiAAZXN0YWJsaXNoIGNvbm5lY3Rpb24gc3VjY2Vzc2Z1bGx5LCByZW1vdGVfYWRkcjogAGludmFsaWQgb3AgYWN0aW9uOiAALCBnZW5lcmF0aW9uOiAALCBjdXJyZW50IHZlcnNpb246IAAsIHZlcnNpb246IABjb21wYWN0IG51bTogAHNuYXBzaG90dGluZywgY2hhbmdlIG51bTogACwgY29sbDogAGNvbXBhY3QgY2xvY2s6IABzZW50IHVyaTogAGNvbXBhY3QgbnVtIGRvZXMgbm90IG1hdGNoOiAAcmVjdiBtc2c6IABpZ25vcmUgbXNnOiAAbmVlZGVkIGhhc2ggbWlzc2lu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AAA8cgAAUHIAAAAAAACgcwAABAIAAAUCAAD0AQAA9QEAAAYCAAAHAgAA+AEAAPkBAAD6AQAACAIAAPwBAAAJAgAA/gEAAAoCAABOU3QzX18yOWJhc2ljX2lvc0ljTlNfMTFjaGFyX3RyYWl0c0ljRUVFRQAAAOifAACgcgAAhHQAAE5TdDNfXzIxNWJhc2ljX3N0cmVhbWJ1ZkljTlNfMTFjaGFyX3RyYWl0c0ljRUVFRQAAAADAnwAA2HIAAE5TdDNfXzIxM2Jhc2ljX29zdHJlYW1JY05TXzExY2hhcl90cmFpdHNJY0VFRUUAAESgAAAUcwAAAAAAAAEAAADMcgAAA/T//05TdDNfXzIxNWJhc2ljX3N0cmluZ2J1ZkljTlNfMTFjaGFyX3RyYWl0c0ljRUVOU185YWxsb2NhdG9ySWNFRUVFAAAA6J8AAFxzAAAMcwAAOAAAAAAAAABUdAAACwIAAAwCAADI////yP///1R0AAANAgAADgIAALhzAADwcwAABHQAAMxzAAA4AAAAAAAAAERzAAAAAgAAAQIAAMj////I////RHMAAAICAAADAgAATlN0M19fMjE5YmFzaWNfb3N0cmluZ3N0cmVhbUljTlNfMTFjaGFyX3RyYWl0c0ljRUVOU185YWxsb2NhdG9ySWNFRUVFAAAA6J8AAAx0AABEcwAAAAAAAIR0AAAPAgAAEAIAAE5TdDNfXzI4aW9zX2Jhc2VFAAAAwJ8AAHB0AAAAAAAA/////////////////////////////////////////////////////////////////wABAgMEBQYHCAn/////////CgsMDQ4PEBESExQVFhcYGRobHB0eHyAhIiP///////8KCwwNDg8QERITFBUWFxgZGhscHR4fICEiI/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8AAQIEBwMGBQAAAAAAAAACAADAAwAAwAQAAMAFAADABgAAwAcAAMAIAADACQAAwAoAAMALAADADAAAwA0AAMAOAADADwAAwBAA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`)||(b=G,G=g.locateFile?g.locateFile(b,C):C+b);var v,F=A$1=>{for(;A$1.length>0;)A$1.shift()(g)},K=typeof TextDecoder<`u`?new TextDecoder(`utf8`):void 0,Y=(A$1,e$1)=>A$1?((A$2,e$2,t$1)=>{for(var g$1=e$2+t$1,o$1=e$2;A$2[o$1]&&!(o$1>=g$1);)++o$1;if(o$1-e$2>16&&A$2.buffer&&K)return K.decode(A$2.subarray(e$2,o$1));for(var I$1=``;e$2<o$1;){var i$2=A$2[e$2++];if(128&i$2){var r$1=63&A$2[e$2++];if((224&i$2)!=192){var n$1=63&A$2[e$2++];if((i$2=(240&i$2)==224?(15&i$2)<<12|r$1<<6|n$1:(7&i$2)<<18|r$1<<12|n$1<<6|63&A$2[e$2++])<65536)I$1+=String.fromCharCode(i$2);else{var C$1=i$2-65536;I$1+=String.fromCharCode(55296|C$1>>10,56320|1023&C$1)}}else I$1+=String.fromCharCode((31&i$2)<<6|r$1)}else I$1+=String.fromCharCode(i$2)}return I$1})(Q,A$1,e$1):``,J=A$1=>{var e$1=(A$1-s.buffer.byteLength+65535)/65536;try{return s.grow(e$1),R$1(),1}catch{}},P={},q=()=>{if(!q.strings){var A$1={USER:`web_user`,LOGNAME:`web_user`,PATH:`/`,PWD:`/`,HOME:`/home/web_user`,LANG:(typeof navigator==`object`&&navigator.languages&&navigator.languages[0]||`C`).replace(`-`,`_`)+`.UTF-8`,_:I||`./this.program`};for(var e$1 in P)P[e$1]===void 0?delete A$1[e$1]:A$1[e$1]=P[e$1];var t$1=[];for(var e$1 in A$1)t$1.push(`${e$1}=${A$1[e$1]}`);q.strings=t$1}return q.strings},x=A$1=>A$1%4==0&&(A$1%100!=0||A$1%400==0),H=[31,29,31,30,31,30,31,31,30,31,30,31],$=[31,28,31,30,31,30,31,31,30,31,30,31],j=A$1=>{for(var e$1=0,t$1=0;t$1<A$1.length;++t$1){var g$1=A$1.charCodeAt(t$1);g$1<=127?e$1++:g$1<=2047?e$1+=2:g$1>=55296&&g$1<=57343?(e$1+=4,++t$1):e$1+=3}return e$1},V=(A$1,e$1,t$1,g$1)=>{if(!(g$1>0))return 0;for(var o$1=t$1,I$1=t$1+g$1-1,i$2=0;i$2<A$1.length;++i$2){var r$1=A$1.charCodeAt(i$2);if(r$1>=55296&&r$1<=57343&&(r$1=65536+((1023&r$1)<<10)|1023&A$1.charCodeAt(++i$2)),r$1<=127){if(t$1>=I$1)break;e$1[t$1++]=r$1}else if(r$1<=2047){if(t$1+1>=I$1)break;e$1[t$1++]=192|r$1>>6,e$1[t$1++]=128|63&r$1}else if(r$1<=65535){if(t$1+2>=I$1)break;e$1[t$1++]=224|r$1>>12,e$1[t$1++]=128|r$1>>6&63,e$1[t$1++]=128|63&r$1}else{if(t$1+3>=I$1)break;e$1[t$1++]=240|r$1>>18,e$1[t$1++]=128|r$1>>12&63,e$1[t$1++]=128|r$1>>6&63,e$1[t$1++]=128|63&r$1}}return e$1[t$1]=0,t$1-o$1},W=(A$1,e$1,t$1,g$1)=>{var o$1=h[g$1+40>>2],I$1={tm_sec:l[g$1>>2],tm_min:l[g$1+4>>2],tm_hour:l[g$1+8>>2],tm_mday:l[g$1+12>>2],tm_mon:l[g$1+16>>2],tm_year:l[g$1+20>>2],tm_wday:l[g$1+24>>2],tm_yday:l[g$1+28>>2],tm_isdst:l[g$1+32>>2],tm_gmtoff:l[g$1+36>>2],tm_zone:o$1?Y(o$1):``},i$2=Y(t$1),r$1={"%c":`%a %b %d %H:%M:%S %Y`,"%D":`%m/%d/%y`,"%F":`%Y-%m-%d`,"%h":`%b`,"%r":`%I:%M:%S %p`,"%R":`%H:%M`,"%T":`%H:%M:%S`,"%x":`%m/%d/%y`,"%X":`%H:%M:%S`,"%Ec":`%c`,"%EC":`%C`,"%Ex":`%m/%d/%y`,"%EX":`%H:%M:%S`,"%Ey":`%y`,"%EY":`%Y`,"%Od":`%d`,"%Oe":`%e`,"%OH":`%H`,"%OI":`%I`,"%Om":`%m`,"%OM":`%M`,"%OS":`%S`,"%Ou":`%u`,"%OU":`%U`,"%OV":`%V`,"%Ow":`%w`,"%OW":`%W`,"%Oy":`%y`};for(var n$1 in r$1)i$2=i$2.replace(new RegExp(n$1,`g`),r$1[n$1]);var C$1=[`Sunday`,`Monday`,`Tuesday`,`Wednesday`,`Thursday`,`Friday`,`Saturday`],E$1=[`January`,`February`,`March`,`April`,`May`,`June`,`July`,`August`,`September`,`October`,`November`,`December`];function s$1(A$2,e$2,t$2){for(var g$2=typeof A$2==`number`?A$2.toString():A$2||``;g$2.length<e$2;)g$2=t$2[0]+g$2;return g$2}function B$1(A$2,e$2){return s$1(A$2,e$2,`0`)}function Q$1(A$2,e$2){function t$2(A$3){return A$3<0?-1:A$3>0?1:0}var g$2;return(g$2=t$2(A$2.getFullYear()-e$2.getFullYear()))===0&&(g$2=t$2(A$2.getMonth()-e$2.getMonth()))===0&&(g$2=t$2(A$2.getDate()-e$2.getDate())),g$2}function c$1(A$2){switch(A$2.getDay()){case 0:return new Date(A$2.getFullYear()-1,11,29);case 1:return A$2;case 2:return new Date(A$2.getFullYear(),0,3);case 3:return new Date(A$2.getFullYear(),0,2);case 4:return new Date(A$2.getFullYear(),0,1);case 5:return new Date(A$2.getFullYear()-1,11,31);case 6:return new Date(A$2.getFullYear()-1,11,30)}}function u$1(A$2){var e$2=((A$3,e$3)=>{for(var t$3=new Date(A$3.getTime());e$3>0;){var g$3=x(t$3.getFullYear()),o$3=t$3.getMonth(),I$3=(g$3?H:$)[o$3];if(!(e$3>I$3-t$3.getDate()))return t$3.setDate(t$3.getDate()+e$3),t$3;e$3-=I$3-t$3.getDate()+1,t$3.setDate(1),o$3<11?t$3.setMonth(o$3+1):(t$3.setMonth(0),t$3.setFullYear(t$3.getFullYear()+1))}return t$3})(new Date(A$2.tm_year+1900,0,1),A$2.tm_yday),t$2=new Date(e$2.getFullYear(),0,4),g$2=new Date(e$2.getFullYear()+1,0,4),o$2=c$1(t$2),I$2=c$1(g$2);return Q$1(o$2,e$2)<=0?Q$1(I$2,e$2)<=0?e$2.getFullYear()+1:e$2.getFullYear():e$2.getFullYear()-1}var d$1={"%a":A$2=>C$1[A$2.tm_wday].substring(0,3),"%A":A$2=>C$1[A$2.tm_wday],"%b":A$2=>E$1[A$2.tm_mon].substring(0,3),"%B":A$2=>E$1[A$2.tm_mon],"%C":A$2=>B$1((A$2.tm_year+1900)/100|0,2),"%d":A$2=>B$1(A$2.tm_mday,2),"%e":A$2=>s$1(A$2.tm_mday,2,` `),"%g":A$2=>u$1(A$2).toString().substring(2),"%G":A$2=>u$1(A$2),"%H":A$2=>B$1(A$2.tm_hour,2),"%I":A$2=>{var e$2=A$2.tm_hour;return e$2==0?e$2=12:e$2>12&&(e$2-=12),B$1(e$2,2)},"%j":A$2=>B$1(A$2.tm_mday+((A$3,e$2)=>{for(var t$2=0,g$2=0;g$2<=e$2;t$2+=A$3[g$2++]);return t$2})(x(A$2.tm_year+1900)?H:$,A$2.tm_mon-1),3),"%m":A$2=>B$1(A$2.tm_mon+1,2),"%M":A$2=>B$1(A$2.tm_min,2),"%n":()=>`
`,"%p":A$2=>A$2.tm_hour>=0&&A$2.tm_hour<12?`AM`:`PM`,"%S":A$2=>B$1(A$2.tm_sec,2),"%t":()=>`	`,"%u":A$2=>A$2.tm_wday||7,"%U":A$2=>{var e$2=A$2.tm_yday+7-A$2.tm_wday;return B$1(Math.floor(e$2/7),2)},"%V":A$2=>{var e$2=Math.floor((A$2.tm_yday+7-(A$2.tm_wday+6)%7)/7);if((A$2.tm_wday+371-A$2.tm_yday-2)%7<=2&&e$2++,e$2){if(e$2==53){var t$2=(A$2.tm_wday+371-A$2.tm_yday)%7;t$2==4||t$2==3&&x(A$2.tm_year)||(e$2=1)}}else{e$2=52;var g$2=(A$2.tm_wday+7-A$2.tm_yday-1)%7;(g$2==4||g$2==5&&x(A$2.tm_year%400-1))&&e$2++}return B$1(e$2,2)},"%w":A$2=>A$2.tm_wday,"%W":A$2=>{var e$2=A$2.tm_yday+7-(A$2.tm_wday+6)%7;return B$1(Math.floor(e$2/7),2)},"%y":A$2=>(A$2.tm_year+1900).toString().substring(2),"%Y":A$2=>A$2.tm_year+1900,"%z":A$2=>{var e$2=A$2.tm_gmtoff,t$2=e$2>=0;return e$2=(e$2=Math.abs(e$2)/60)/60*100+e$2%60,(t$2?`+`:`-`)+String(`0000`+e$2).slice(-4)},"%Z":A$2=>A$2.tm_zone,"%%":()=>`%`};for(var n$1 in i$2=i$2.replace(/%%/g,`\0\0`),d$1)i$2.includes(n$1)&&(i$2=i$2.replace(new RegExp(n$1,`g`),d$1[n$1](I$1)));i$2=i$2.replace(/\0\0/g,`%`);var D$1,y$1,p$2,R$2,w$1,_$1=(y$1=j(D$1=i$2)+1,p$2=Array(y$1),V(D$1,p$2,0,p$2.length),p$2);return _$1.length>e$1?0:(R$2=_$1,w$1=A$1,a.set(R$2,w$1),_$1.length-1)},Z=(A$1,e$1)=>{A$1<128?e$1.push(A$1):e$1.push(A$1%128|128,A$1>>7)},X=(A$1,e$1)=>{if(typeof WebAssembly.Function==`function`)return new WebAssembly.Function((A$2=>{for(var e$2={i:`i32`,j:`i64`,f:`f32`,d:`f64`,p:`i32`},t$2={parameters:[],results:A$2[0]==`v`?[]:[e$2[A$2[0]]]},g$2=1;g$2<A$2.length;++g$2)t$2.parameters.push(e$2[A$2[g$2]]);return t$2})(e$1),A$1);var t$1=[1];((A$2,e$2)=>{var t$2=A$2.slice(0,1),g$2=A$2.slice(1),o$2={i:127,p:127,j:126,f:125,d:124};e$2.push(96),Z(g$2.length,e$2);for(var I$1=0;I$1<g$2.length;++I$1)e$2.push(o$2[g$2[I$1]]);t$2==`v`?e$2.push(0):e$2.push(1,o$2[t$2])})(e$1,t$1);var g$1=[0,97,115,109,1,0,0,0,1];Z(t$1.length,g$1),g$1.push.apply(g$1,t$1),g$1.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var o$1=new WebAssembly.Module(new Uint8Array(g$1));return new WebAssembly.Instance(o$1,{e:{f:A$1}}).exports.f},z=A$1=>y.get(A$1),AA=void 0,eA=A$1=>(AA||(AA=new WeakMap,((A$2,e$1)=>{if(AA)for(var t$1=A$2;t$1<A$2+e$1;t$1++){var g$1=z(t$1);g$1&&AA.set(g$1,t$1)}})(0,y.length)),AA.get(A$1)||0),tA=[],gA=(A$1,e$1)=>y.set(A$1,e$1),oA={a:(A$1,e$1,t$1,g$1)=>{L(`Assertion failed: ${Y(A$1)}, at: `+[e$1?Y(e$1):`unknown filename`,t$1,g$1?Y(g$1):`unknown function`])},f:()=>!0,b:()=>{L(``)},g:()=>Date.now(),i:()=>performance.now(),h:A$1=>{var e$1=Q.length,t$1=2147483648;if((A$1>>>=0)>t$1)return!1;for(var g$1=(A$2,e$2)=>A$2+(e$2-A$2%e$2)%e$2,o$1=1;o$1<=4;o$1*=2){var I$1=e$1*(1+.2/o$1);if(I$1=Math.min(I$1,A$1+100663296),J(Math.min(t$1,g$1(Math.max(A$1,I$1),65536))))return!0}return!1},d:(A$1,e$1)=>{var t$1=0;return q().forEach((g$1,o$1)=>{var I$1=e$1+t$1;h[A$1+4*o$1>>2]=I$1,((A$2,e$2)=>{for(var t$2=0;t$2<A$2.length;++t$2)a[0|e$2++]=A$2.charCodeAt(t$2);a[0|e$2]=0})(g$1,I$1),t$1+=g$1.length+1}),0},e:(A$1,e$1)=>{var t$1=q();h[A$1>>2]=t$1.length;var g$1=0;return t$1.forEach(A$2=>g$1+=A$2.length+1),h[e$1>>2]=g$1,0},j:function(A$1,e$1){g.rtejsLog(A$1,Y(e$1))},c:(A$1,e$1,t$1,g$1,o$1)=>W(A$1,e$1,t$1,g$1)},IA=function(){var A$1,e$1,o$1,I$1={a:oA};function i$2(A$2,e$2){var t$1,o$2=A$2.exports;return s=(IA=o$2).k,R$1(),y=IA.m,t$1=IA.l,_.unshift(t$1),function(){if(M--,g.monitorRunDependencies&&g.monitorRunDependencies(M),M==0&&k){var A$3=k;k=null,A$3()}}(),o$2}if(M++,g.monitorRunDependencies&&g.monitorRunDependencies(M),g.instantiateWasm)try{return g.instantiateWasm(I$1,i$2)}catch(A$2){B(`Module.instantiateWasm callback failed with error: ${A$2}`),t(A$2)}return(A$1=G,e$1=I$1,o$1=function(A$2){i$2(A$2.instance)},O(A$1,e$1,o$1)).catch(t),{}}();function iA(){function A$1(){v||(v=!0,g.calledRun=!0,p$1||(F(_),e(g),g.onRuntimeInitialized&&g.onRuntimeInitialized(),function(){if(g.postRun)for(typeof g.postRun==`function`&&(g.postRun=[g.postRun]);g.postRun.length;)N(g.postRun.shift());F(S)}()))}M>0||(function(){if(g.preRun)for(typeof g.preRun==`function`&&(g.preRun=[g.preRun]);g.preRun.length;)f(g.preRun.shift());F(w)}(),M>0||(g.setStatus?(g.setStatus(`Running...`),setTimeout(function(){setTimeout(function(){g.setStatus(``)},1),A$1()},1)):A$1()))}if(g._free=A$1=>(g._free=IA.n)(A$1),g._malloc=A$1=>(g._malloc=IA.o)(A$1),g._rte_crdt_value_create=()=>(g._rte_crdt_value_create=IA.p)(),g._rte_crdt_value_clone=A$1=>(g._rte_crdt_value_clone=IA.q)(A$1),g._rte_crdt_value_destroy=A$1=>(g._rte_crdt_value_destroy=IA.r)(A$1),g._rte_crdt_value_is_scalar=A$1=>(g._rte_crdt_value_is_scalar=IA.s)(A$1),g._rte_crdt_value_is_map=A$1=>(g._rte_crdt_value_is_map=IA.t)(A$1),g._rte_crdt_value_is_list=A$1=>(g._rte_crdt_value_is_list=IA.u)(A$1),g._rte_crdt_value_get_scalar=A$1=>(g._rte_crdt_value_get_scalar=IA.v)(A$1),g._rte_crdt_value_set_scalar=A$1=>(g._rte_crdt_value_set_scalar=IA.w)(A$1),g._rte_crdt_value_set_map=A$1=>(g._rte_crdt_value_set_map=IA.x)(A$1),g._rte_crdt_value_set_list=A$1=>(g._rte_crdt_value_set_list=IA.y)(A$1),g._rte_crdt_scalar_value_set_i64=(A$1,e$1)=>(g._rte_crdt_scalar_value_set_i64=IA.z)(A$1,e$1),g._rte_crdt_scalar_value_set_u64=(A$1,e$1)=>(g._rte_crdt_scalar_value_set_u64=IA.A)(A$1,e$1),g._rte_crdt_scalar_value_set_double=(A$1,e$1)=>(g._rte_crdt_scalar_value_set_double=IA.B)(A$1,e$1),g._rte_crdt_scalar_value_set_bool=(A$1,e$1)=>(g._rte_crdt_scalar_value_set_bool=IA.C)(A$1,e$1),g._rte_crdt_scalar_value_set_bytes=(A$1,e$1,t$1)=>(g._rte_crdt_scalar_value_set_bytes=IA.D)(A$1,e$1,t$1),g._rte_crdt_scalar_value_set_null=A$1=>(g._rte_crdt_scalar_value_set_null=IA.E)(A$1),g._rte_crdt_scalar_value_set_counter=(A$1,e$1)=>(g._rte_crdt_scalar_value_set_counter=IA.F)(A$1,e$1),g._rte_crdt_scalar_value_is_i64=A$1=>(g._rte_crdt_scalar_value_is_i64=IA.G)(A$1),g._rte_crdt_scalar_value_is_u64=A$1=>(g._rte_crdt_scalar_value_is_u64=IA.H)(A$1),g._rte_crdt_scalar_value_is_double=A$1=>(g._rte_crdt_scalar_value_is_double=IA.I)(A$1),g._rte_crdt_scalar_value_is_bool=A$1=>(g._rte_crdt_scalar_value_is_bool=IA.J)(A$1),g._rte_crdt_scalar_value_is_bytes=A$1=>(g._rte_crdt_scalar_value_is_bytes=IA.K)(A$1),g._rte_crdt_scalar_value_is_null=A$1=>(g._rte_crdt_scalar_value_is_null=IA.L)(A$1),g._rte_crdt_scalar_value_is_counter=A$1=>(g._rte_crdt_scalar_value_is_counter=IA.M)(A$1),g._rte_crdt_scalar_value_get_i64=(A$1,e$1)=>(g._rte_crdt_scalar_value_get_i64=IA.N)(A$1,e$1),g._rte_crdt_scalar_value_get_u64=(A$1,e$1)=>(g._rte_crdt_scalar_value_get_u64=IA.O)(A$1,e$1),g._rte_crdt_scalar_value_get_double=(A$1,e$1)=>(g._rte_crdt_scalar_value_get_double=IA.P)(A$1,e$1),g._rte_crdt_scalar_value_get_bool=(A$1,e$1)=>(g._rte_crdt_scalar_value_get_bool=IA.Q)(A$1,e$1),g._rte_crdt_scalar_value_get_bytes=(A$1,e$1,t$1)=>(g._rte_crdt_scalar_value_get_bytes=IA.R)(A$1,e$1,t$1),g._rte_crdt_scalar_value_get_counter=(A$1,e$1)=>(g._rte_crdt_scalar_value_get_counter=IA.S)(A$1,e$1),g._rte_crdt_nested_value_create=()=>(g._rte_crdt_nested_value_create=IA.T)(),g._rte_crdt_nested_value_destroy=A$1=>(g._rte_crdt_nested_value_destroy=IA.U)(A$1),g._rte_crdt_nested_value_print=A$1=>(g._rte_crdt_nested_value_print=IA.V)(A$1),g._rte_crdt_nested_value_is_scalar=A$1=>(g._rte_crdt_nested_value_is_scalar=IA.W)(A$1),g._rte_crdt_nested_value_is_map=A$1=>(g._rte_crdt_nested_value_is_map=IA.X)(A$1),g._rte_crdt_nested_value_is_list=A$1=>(g._rte_crdt_nested_value_is_list=IA.Y)(A$1),g._rte_crdt_nested_value_get_scalar=A$1=>(g._rte_crdt_nested_value_get_scalar=IA.Z)(A$1),g._rte_crdt_nested_value_iterator_create=A$1=>(g._rte_crdt_nested_value_iterator_create=IA._)(A$1),g._rte_crdt_nested_value_iterator_destroy=A$1=>(g._rte_crdt_nested_value_iterator_destroy=IA.$)(A$1),g._rte_crdt_nested_value_iterator_next_key_value=(A$1,e$1,t$1,o$1)=>(g._rte_crdt_nested_value_iterator_next_key_value=IA.aa)(A$1,e$1,t$1,o$1),g._rte_crdt_nested_value_iterator_next_value=(A$1,e$1)=>(g._rte_crdt_nested_value_iterator_next_value=IA.ba)(A$1,e$1),g._rte_crdt_path_create=()=>(g._rte_crdt_path_create=IA.ca)(),g._rte_crdt_path_clone=A$1=>(g._rte_crdt_path_clone=IA.da)(A$1),g._rte_crdt_path_destroy=A$1=>(g._rte_crdt_path_destroy=IA.ea)(A$1),g._rte_crdt_path_add_property=(A$1,e$1,t$1)=>(g._rte_crdt_path_add_property=IA.fa)(A$1,e$1,t$1),g._rte_crdt_path_add_index=(A$1,e$1)=>(g._rte_crdt_path_add_index=IA.ga)(A$1,e$1),g._rte_crdt_path_iterator_create=A$1=>(g._rte_crdt_path_iterator_create=IA.ha)(A$1),g._rte_crdt_path_iterator_destroy=A$1=>(g._rte_crdt_path_iterator_destroy=IA.ia)(A$1),g._rte_crdt_path_iterator_next=(A$1,e$1,t$1,o$1)=>(g._rte_crdt_path_iterator_next=IA.ja)(A$1,e$1,t$1,o$1),g._rte_crdt_document_destroy=A$1=>(g._rte_crdt_document_destroy=IA.ka)(A$1),g._rte_crdt_document_get=(A$1,e$1,t$1,o$1)=>(g._rte_crdt_document_get=IA.la)(A$1,e$1,t$1,o$1),g._rte_crdt_document_obj_size=(A$1,e$1,t$1,o$1)=>(g._rte_crdt_document_obj_size=IA.ma)(A$1,e$1,t$1,o$1),g._rte_crdt_document_batch_write_begin=A$1=>(g._rte_crdt_document_batch_write_begin=IA.na)(A$1),g._rte_crdt_document_batch_write_end=A$1=>(g._rte_crdt_document_batch_write_end=IA.oa)(A$1),g._rte_crdt_document_put=(A$1,e$1,t$1,o$1)=>(g._rte_crdt_document_put=IA.pa)(A$1,e$1,t$1,o$1),g._rte_crdt_document_insert=(A$1,e$1,t$1,o$1)=>(g._rte_crdt_document_insert=IA.qa)(A$1,e$1,t$1,o$1),g._rte_crdt_document_delete=(A$1,e$1,t$1)=>(g._rte_crdt_document_delete=IA.ra)(A$1,e$1,t$1),g._rte_crdt_document_increment=(A$1,e$1,t$1,o$1)=>(g._rte_crdt_document_increment=IA.sa)(A$1,e$1,t$1,o$1),g._rte_crdt_collection_put_doc=(A$1,e$1,t$1)=>(g._rte_crdt_collection_put_doc=IA.ta)(A$1,e$1,t$1),g._rte_crdt_collection_delete_doc=(A$1,e$1,t$1)=>(g._rte_crdt_collection_delete_doc=IA.ua)(A$1,e$1,t$1),g._rte_crdt_collection_ref_doc=(A$1,e$1,t$1)=>(g._rte_crdt_collection_ref_doc=IA.va)(A$1,e$1,t$1),g._rte_crdt_collection_iterator_create=(A$1,e$1,t$1)=>(g._rte_crdt_collection_iterator_create=IA.wa)(A$1,e$1,t$1),g._rte_crdt_collection_iterator_destroy=A$1=>(g._rte_crdt_collection_iterator_destroy=IA.xa)(A$1),g._rte_crdt_collection_iterator_next=(A$1,e$1,t$1)=>(g._rte_crdt_collection_iterator_next=IA.ya)(A$1,e$1,t$1),g._rte_crdt_collection_init=(A$1,e$1,t$1)=>(g._rte_crdt_collection_init=IA.za)(A$1,e$1,t$1),g._rte_crdt_collection_subscribe=(A$1,e$1,t$1)=>(g._rte_crdt_collection_subscribe=IA.Aa)(A$1,e$1,t$1),g._sync_client_create=(A$1,e$1,t$1)=>(g._sync_client_create=IA.Ba)(A$1,e$1,t$1),g._sync_client_destroy=A$1=>(g._sync_client_destroy=IA.Ca)(A$1),g._sync_client_enable_dynamic_readable=A$1=>(g._sync_client_enable_dynamic_readable=IA.Da)(A$1),g._sync_client_set_shakehand_interval=(A$1,e$1)=>(g._sync_client_set_shakehand_interval=IA.Ea)(A$1,e$1),g._sync_client_set_connection_timeout=(A$1,e$1)=>(g._sync_client_set_connection_timeout=IA.Fa)(A$1,e$1),g._sync_client_set_request_timeout=(A$1,e$1)=>(g._sync_client_set_request_timeout=IA.Ga)(A$1,e$1),g._sync_client_set_doc_ttl=(A$1,e$1,t$1,o$1,I$1)=>(g._sync_client_set_doc_ttl=IA.Ha)(A$1,e$1,t$1,o$1,I$1),g._sync_client_set_sync_interval=(A$1,e$1,t$1,o$1)=>(g._sync_client_set_sync_interval=IA.Ia)(A$1,e$1,t$1,o$1),g._sync_client_init=(A$1,e$1,t$1)=>(g._sync_client_init=IA.Ja)(A$1,e$1,t$1),g._sync_buffer_create=()=>(g._sync_buffer_create=IA.Ka)(),g._sync_buffer_destroy=A$1=>(g._sync_buffer_destroy=IA.La)(A$1),g._sync_buffer_data=A$1=>(g._sync_buffer_data=IA.Ma)(A$1),g._sync_buffer_length=A$1=>(g._sync_buffer_length=IA.Na)(A$1),g._batch_ops_create=()=>(g._batch_ops_create=IA.Oa)(),g._batch_ops_destroy=A$1=>(g._batch_ops_destroy=IA.Pa)(A$1),g._batch_ops_add=(A$1,e$1,t$1,o$1,I$1,i$2,r$1,n$1,C$1,E$1)=>(g._batch_ops_add=IA.Qa)(A$1,e$1,t$1,o$1,I$1,i$2,r$1,n$1,C$1,E$1),g._sync_client_tick=(A$1,e$1)=>(g._sync_client_tick=IA.Ra)(A$1,e$1),g._sync_client_shakehand=(A$1,e$1)=>(g._sync_client_shakehand=IA.Sa)(A$1,e$1),g._sync_client_on_recv=(A$1,e$1,t$1,o$1)=>(g._sync_client_on_recv=IA.Ta)(A$1,e$1,t$1,o$1),g._sync_client_reset_connection=A$1=>(g._sync_client_reset_connection=IA.Ua)(A$1),g._sync_client_compact=A$1=>(g._sync_client_compact=IA.Va)(A$1),g._sync_client_synced=A$1=>(g._sync_client_synced=IA.Wa)(A$1),g._sync_client_create_coll=(A$1,e$1,t$1,o$1,I$1,i$2,r$1,n$1,C$1)=>(g._sync_client_create_coll=IA.Xa)(A$1,e$1,t$1,o$1,I$1,i$2,r$1,n$1,C$1),g._sync_client_subscribe=(A$1,e$1,t$1,o$1,I$1)=>(g._sync_client_subscribe=IA.Ya)(A$1,e$1,t$1,o$1,I$1),g._sync_client_get_coll=(A$1,e$1,t$1)=>(g._sync_client_get_coll=IA.Za)(A$1,e$1,t$1),g._sync_client_delete_coll=(A$1,e$1,t$1)=>(g._sync_client_delete_coll=IA._a)(A$1,e$1,t$1),g._sync_client_add_readable=(A$1,e$1,t$1,o$1)=>(g._sync_client_add_readable=IA.$a)(A$1,e$1,t$1,o$1),g._sync_client_remove_readable=(A$1,e$1,t$1,o$1)=>(g._sync_client_remove_readable=IA.ab)(A$1,e$1,t$1,o$1),g._sync_collection_iterator_create=(A$1,e$1)=>(g._sync_collection_iterator_create=IA.bb)(A$1,e$1),g._sync_collection_iterator_next=(A$1,e$1)=>(g._sync_collection_iterator_next=IA.cb)(A$1,e$1),g._sync_client_enable_js_logging=()=>(g._sync_client_enable_js_logging=IA.db)(),g._sync_client_set_log_level=A$1=>(g._sync_client_set_log_level=IA.eb)(A$1),g._sync_client_set_exception_callback=(A$1,e$1,t$1)=>(g._sync_client_set_exception_callback=IA.fb)(A$1,e$1,t$1),g._sync_client_renew_tickets=(A$1,e$1,t$1)=>(g._sync_client_renew_tickets=IA.gb)(A$1,e$1,t$1),g._sync_client_keepalive=(A$1,e$1,t$1,o$1,I$1)=>(g._sync_client_keepalive=IA.hb)(A$1,e$1,t$1,o$1,I$1),g._sync_client_connect_database=(A$1,e$1,t$1,o$1,I$1,i$2)=>(g._sync_client_connect_database=IA.ib)(A$1,e$1,t$1,o$1,I$1,i$2),g._sync_client_disconnect_database=(A$1,e$1,t$1,o$1)=>(g._sync_client_disconnect_database=IA.jb)(A$1,e$1,t$1,o$1),g._sync_client_query_doc=(A$1,e$1,t$1,o$1,I$1,i$2,r$1,n$1,C$1,E$1,s$1)=>(g._sync_client_query_doc=IA.kb)(A$1,e$1,t$1,o$1,I$1,i$2,r$1,n$1,C$1,E$1,s$1),g._sync_client_put_doc=(A$1,e$1,t$1,o$1,I$1,i$2,r$1,n$1,C$1)=>(g._sync_client_put_doc=IA.lb)(A$1,e$1,t$1,o$1,I$1,i$2,r$1,n$1,C$1),g._sync_client_put_doc_ex=(A$1,e$1,t$1,o$1,I$1,i$2,r$1,n$1,C$1,E$1)=>(g._sync_client_put_doc_ex=IA.mb)(A$1,e$1,t$1,o$1,I$1,i$2,r$1,n$1,C$1,E$1),g._sync_client_delete_doc=(A$1,e$1,t$1,o$1,I$1,i$2)=>(g._sync_client_delete_doc=IA.nb)(A$1,e$1,t$1,o$1,I$1,i$2),g._sync_client_update_doc=(A$1,e$1,t$1,o$1,I$1,i$2,r$1,n$1,C$1,E$1,s$1,B$1,a$1,Q$1,c$1,l$1)=>(g._sync_client_update_doc=IA.ob)(A$1,e$1,t$1,o$1,I$1,i$2,r$1,n$1,C$1,E$1,s$1,B$1,a$1,Q$1,c$1,l$1),g._sync_client_update_doc_ex=(A$1,e$1,t$1,o$1,I$1,i$2,r$1,n$1,C$1,E$1,s$1,B$1,a$1,Q$1,c$1,l$1,h$1)=>(g._sync_client_update_doc_ex=IA.pb)(A$1,e$1,t$1,o$1,I$1,i$2,r$1,n$1,C$1,E$1,s$1,B$1,a$1,Q$1,c$1,l$1,h$1),g._sync_client_batch_update=(A$1,e$1,t$1,o$1,I$1,i$2,r$1,n$1)=>(g._sync_client_batch_update=IA.qb)(A$1,e$1,t$1,o$1,I$1,i$2,r$1,n$1),g._sync_client_n1ql_query=(A$1,e$1,t$1,o$1,I$1,i$2,r$1,n$1,C$1)=>(g._sync_client_n1ql_query=IA.rb)(A$1,e$1,t$1,o$1,I$1,i$2,r$1,n$1,C$1),g._sync_client_range_docs=(A$1,e$1,t$1,o$1,I$1,i$2,r$1,n$1)=>(g._sync_client_range_docs=IA.sb)(A$1,e$1,t$1,o$1,I$1,i$2,r$1,n$1),g._sync_client_get_doc=(A$1,e$1,t$1,o$1,I$1,i$2,r$1)=>(g._sync_client_get_doc=IA.tb)(A$1,e$1,t$1,o$1,I$1,i$2,r$1),g._sync_client_set_permission_callback=(A$1,e$1,t$1)=>(g._sync_client_set_permission_callback=IA.ub)(A$1,e$1,t$1),g.___start_em_js=41160,g.___stop_em_js=41254,g.addFunction=(A$1,e$1)=>{var t$1=eA(A$1);if(t$1)return t$1;var g$1=(()=>{if(tA.length)return tA.pop();try{y.grow(1)}catch(A$2){throw A$2 instanceof RangeError?`Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.`:A$2}return y.length-1})();try{gA(g$1,A$1)}catch(t$2){if(!(t$2 instanceof TypeError))throw t$2;gA(g$1,X(A$1,e$1))}return AA.set(A$1,g$1),g$1},g.removeFunction=A$1=>{AA.delete(z(A$1)),tA.push(A$1)},g.setValue=function(A$1,e$1){let t$1=arguments.length>2&&arguments[2]!==void 0?arguments[2]:`i8`;switch(t$1.endsWith(`*`)&&(t$1=`*`),t$1){case`i1`:case`i8`:a[0|A$1]=e$1;break;case`i16`:c[A$1>>1]=e$1;break;case`i32`:l[A$1>>2]=e$1;break;case`i64`:d[A$1>>3]=BigInt(e$1);break;case`float`:u[A$1>>2]=e$1;break;case`double`:D[A$1>>3]=e$1;break;case`*`:h[A$1>>2]=e$1;break;default:L(`invalid type for setValue: ${t$1}`)}},g.getValue=function(A$1){let e$1=arguments.length>1&&arguments[1]!==void 0?arguments[1]:`i8`;switch(e$1.endsWith(`*`)&&(e$1=`*`),e$1){case`i1`:case`i8`:return a[0|A$1];case`i16`:return c[A$1>>1];case`i32`:return l[A$1>>2];case`i64`:return d[A$1>>3];case`float`:return u[A$1>>2];case`double`:return D[A$1>>3];case`*`:return h[A$1>>2];default:L(`invalid type for getValue: ${e$1}`)}},g.UTF8ToString=Y,g.stringToUTF8=(A$1,e$1,t$1)=>V(A$1,Q,e$1,t$1),g.lengthBytesUTF8=j,k=function A$1(){v||iA(),v||(k=A$1)},g.preInit)for(typeof g.preInit==`function`&&(g.preInit=[g.preInit]);g.preInit.length>0;)g.preInit.pop()();return iA(),A.ready};const getUTCTimestamp=()=>{let A=new Date;return`${A.toISOString().split(`T`)[1].replace(/\..+/,``)}.${A.getMilliseconds()}`};let wasmReject,wasmResolve;const wasmPromise=new Promise((A,e)=>{wasmReject=e,wasmResolve=A});let Module,isBrowser;async function initWasm(A){Module=await wasmPromise,initFunc(A)}function setBrowser(A){isBrowser=A}createModule({rtejsLog:(A,e)=>{switch(A){case 0:console.debug(e,` ----------rtejslog`);break;case 1:console.info(e,` ----------rtejslog`);break;case 2:console.warn(e,` ----------rtejslog`);break;case 3:console.error(e,` ----------rtejslog`)}}}).then(A=>{wasmResolve(A),console.log(getUTCTimestamp(),`wasm-module initialized`)}).catch(A=>{wasmReject(A)});class QueryDocBuffer{constructor(){this.docs=new Map,this.count=-1,this.more=!1}SetDocs(A,e){this.docs.set(A,e)}SetCount(A){if(!isInteger(A))throw TypeError(`The num is expected to be an integer, but a double was got.`);this.count=A}SetMore(A){this.more=A}}class SyncClient{constructor(A){this.appId=A.appId,this.logLevel=A.logLevel,this.shakehandInterval=A.shakehandInterval,this.manualShakehand=A.manualShakehand,this.manualTick=A.manualTick,this.uuidPrefix=A.uuidPrefix,this.getLogger=A.getLogger,this.reuseConn=A.reuseConn,this.tickets=new Map,this.exceptionCb=null,this.exceptionChan=new eventsExports.EventEmitter;let e=getPtrWithStr(this.uuidPrefix+`_`+uuid_1.v4()),[t,g]=getPtrStringList(Array.from(this.tickets.values()));this.clientPtr=Module._sync_client_create(e,t,this.tickets.size);for(let A$1=0;A$1<g.length;A$1++)releasePtr(g[A$1]);releasePtr(e),this.timer=null,this.databaseConnected=new Map,this.tickBufferPtr=0,this.connected=!1,Module._sync_client_enable_js_logging(),Module._sync_client_set_log_level(this.logLevel),this.manualShakehand?(Module._sync_client_set_shakehand_interval(this.clientPtr,0),this.shakehandBufferPtr=Module._sync_buffer_create()):(Module._sync_client_set_shakehand_interval(this.clientPtr,this.shakehandInterval),this.shakehandBufferPtr=0),this.reuseConn!==null&&(this.tickBufferPtr=Module._sync_buffer_create(),this.reuseConn().internalEmitter.on(`connected`,()=>{this.connected=!0,this.manualTick||(tickLoop(this),this.timer=setInterval(()=>{tickLoop(this)},2e3))}),this.reuseConn().internalEmitter.on(`disconnected`,()=>{this.connected=!1,this.manualTick||clearInterval(this.timer),Module._sync_client_reset_connection(this.clientPtr)}),this.reuseConn().internalEmitter.on(`received-packet`,A$1=>{try{let e$1=A$1.length*A$1.BYTES_PER_ELEMENT,t$1=Module._malloc(e$1);Module.HEAPU8.set(A$1,t$1);let g$1=Module._sync_client_on_recv(this.clientPtr,t$1,BigInt(e$1),this.tickBufferPtr);if(Module._free(t$1),g$1===101)Module._sync_client_reset_connection(this.clientPtr);else{let A$2=new Uint8Array(Module.HEAPU8.buffer,Module._sync_buffer_data(this.tickBufferPtr),Number(Module._sync_buffer_length(this.tickBufferPtr))).slice();A$2.length!=0&&(this.reuseConn().sendPacket(A$2),logger(new Date().toString()+` : recv and send packet`,this.getLogger,`info`))}}catch(A$2){logger(`recvError : ${A$2}`,this.getLogger,`error`)}}))}async Login(){if(this.reuseConn===null){if(!(this.tickets.size>0))throw Error(`Tickets should be set before logging in.`);await fetchHelper(this,isBrowser),logger(`Open the WebSocket successfully`,this.getLogger,`info`)}}Logout(){this.tickBufferPtr&&this.tickBufferPtr!==0&&(Module._sync_buffer_destroy(this.tickBufferPtr),this.tickBufferPtr=0),this.reuseConn===null&&clearInterval(this.timer),this.manualShakehand&&this.shakehandBufferPtr&&this.shakehandBufferPtr!==0&&(Module._sync_buffer_destroy(this.shakehandBufferPtr),this.shakehandBufferPtr=0),this.exceptionCb!=null&&Module.removeFunction(this.exceptionCb),this.connected=!1,logger(`Logout successfully`,this.getLogger,`info`)}async ConnectDatabase(A){try{if(await promisify(connectDatabase)({client:this,databaseName:A}),!this.databaseConnected.has(A)){let e=new SyncDatabase(A,this);this.databaseConnected.set(A,e)}}catch(A$1){throw logger(`Database connection failed by the error : ${A$1}`,this.getLogger,`error`),Error(`Database connection failed by the error: ${A$1}`)}}async DisConnectDatabase(A){if(this.databaseConnected.has(A))try{await promisify(disconnectDatabase)({client:this,databaseName:A}),this.databaseConnected.delete(A)}catch(A$1){logger(`Database disconnection failed by the error : ${A$1}`,this.getLogger,`error`)}}Database(A){return this.databaseConnected.has(A)?this.databaseConnected.get(A):null}SetTicket(A,e){this.tickets.set(A,e);let[t,g]=getPtrStringList(Array.from(this.tickets.values()));Module._sync_client_renew_tickets(this.clientPtr,t,this.tickets.size),this.connected&&tickLoop(this),releasePtr(t);for(let A$1=0;A$1<g.length;A$1++)releasePtr(g[A$1])}RemoveTicket(A){if(this.tickets.has(A)){this.tickets.delete(A);let[e,t]=getPtrStringList(Array.from(this.tickets.values()));Module._sync_client_renew_tickets(this.clientPtr,e,this.tickets.size),this.connected&&tickLoop(this),releasePtr(e);for(let A$1=0;A$1<t.length;A$1++)releasePtr(t[A$1])}}async QueryDoc(A,e,t){let g=new QueryDocBuffer;try{await promisify(queryDoc)({client:this,database:A,coll:e,option:t,buffer:g})}catch(A$1){logger(`Query Doc is failed by the error : ${A$1}`,this.getLogger,`error`)}if(g.count>=0)return t.countOnly?[null,g.count,g.more]:t.keysOnly?[Array.from(g.docs.keys()).sort(),g.count,g.more]:[new Map([...g.docs].sort()),g.count,g.more];throw Error(`The query doc operation is failed`)}Shakehand(){if(!this.manualShakehand)throw Error(`The manualShakehand is set to false for this client.`);shakehandOnce(this)}Tick(){if(!this.manualTick)throw Error(`The manualTick is set to false for this client.`);tickLoop(this)}SetConnectionTimeout(A){if(!isInteger(A)||A<=0)throw TypeError(`The seconds is expected to be a positive integer.`);Module._sync_client_set_connection_timeout(this.clientPtr,A)}GetConnectionState(){return this.connected}ExceptionCallback(){return this.exceptionCb!=null&&Module.removeFunction(this.exceptionCb),exceptionCallback(this),this.exceptionChan}EnableDynamicReadable(){Module._sync_client_enable_dynamic_readable(this.clientPtr)}Synced(){return Module._sync_client_synced(this.clientPtr)}}class SyncConfig{constructor(A,e,t,g,o,I){let i$1=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,r=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null;if(!isInteger(e))throw TypeError(`The logLevel is expected to be an int, but a double was got.`);if(!isInteger(t))throw TypeError(`The shakehandInterval is expected to be an integer, but a double was got.`);this.appId=A,this.logLevel=e,this.shakehandInterval=t,this.manualShakehand=g,this.manualTick=o,this.uuidPrefix=I,this.getLogger=i$1,this.reuseConn=r}}class QueryOption{constructor(A,e,t,g,o){let I=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5],i$1=arguments.length>6&&arguments[6]!==void 0&&arguments[6],r=arguments.length>7&&arguments[7]!==void 0&&arguments[7];if(!isInteger(o)||o<0)throw TypeError(`The limit is expected to be an int greater than or equal to zero, but a double or a negative int was got.`);this.start=A,this.end=e,this.keysOnly=t,this.countOnly=g,this.limit=o,this.startIncluded=I,this.endIncluded=i$1,this.ignoreExpired=r}}async function CreateClient(A){return await initWasm(A.getLogger),typeof process==`object`?setBrowser(!1):typeof window==`object`&&setBrowser(!0),new SyncClient(A)}class VirtualSyncSocket{get env(){var A;return this.getSockets()[0]?.env}constructor(A){_defineProperty$1(this,`getSockets`,void 0),_defineProperty$1(this,`internalEmitter`,new eventsExports.EventEmitter),this.getSockets=A,this.internalEmitter.setMaxListeners(512)}sendPacket(A){var e,t;(e=this.getSockets()[0])==null||(t=e.sendSyncPacket)==null||t.call(e,A)}}class RTMSession extends EventBase{constructor(A,e,t,g,o){super(e,`RTMSession`),_defineProperty$1(this,`context`,void 0),_defineProperty$1(this,`connectionController`,void 0),_defineProperty$1(this,`syncClient`,void 0),_defineProperty$1(this,`virtualSocket`,void 0),_defineProperty$1(this,`_syncTicket`,void 0),_defineProperty$1(this,`dbObj`,void 0),_defineProperty$1(this,`cacheCrdtState`,void 0),_defineProperty$1(this,`exceptionCallback`,void 0),this.context=A,this.cacheCrdtState=g,this.exceptionCallback=o,this.connectionController=new ConnectionController(A,t,e,this.manualShakeHand.bind(this),this._initSync.bind(this)),this.connectionController.on(`syncTicketUpdated`,A$1=>{this.updateSyncTicket(A$1)}),this.connectionController.on(`syncConnected`,()=>{this.emitSyncConnected()}),this.connectionController.on(`syncDisconnected`,A$1=>{this.warn(`virtual socket disconnected, reason: %s`,A$1),this.emitSyncDisconnected(),this.connectionController.syncEstablishState=SyncEstablishState.DISCONNECTED}),this.connectionController.on(`syncPacket`,A$1=>{this.handlePacket(A$1)}),this.connectionController.on(`userJoined`,()=>{this.emit(`userJoined`)})}sendOperationPacketUseOneEnv(A,e,t,g){this.connectionController.sendOperationPacketUseOneEnv(A,e,t,g)}sendOperationPacket(A,e,t){this.connectionController.sendOperationPacket(A,e,t)}onOperationPacket(A){return this.connectionController.onOperationPacket(A)}recoverEdges4RenewToken(){this.connectionController.connection.apClient.recoverEdges4RenewToken()}clearEdges4RenewToken(){this.connectionController.connection.apClient.clearEdges4RenewToken()}genApEdgeInfo$(A,e){return this.connectionController.connection.apClient.genApEdgeInfo$(A,e)}updateRegTicket(A){this.connectionController.updateRegTicket(A)}get isCanceledLogin(){return this.connectionController.connection.cancelLogin}resetCancelLogin(){this.connectionController.connection.cancelLogin=!1}cancelLogin(){this.connectionController.emit(`login-cancel`),this.connectionController.loginSubject$.next(),this.connectionController.connection.cancelLogin=!0,this.connectionController.connection.apClient.apFinish$.next(),this.connectionController.connection.endLogin$.next()}async logoutRegistrar(A){return await this.connectionController.logoutHandler(A)}loginHandler(){return this.connectionController.loginHandler()}removeConnectionControllerAllListeners(){this.connectionController.removeAllListeners()}stopLogin(){this.connectionController.connection.apClient.apFinish$.next(void 0),this.connectionController.connection.stopLogin()}getVirtualSyncSocket(){return this.connectionController.getVirtualSyncSocket()}notifyNetworkChange(A){this.connectionController.notifyNetworkChange(A)}validateSyncConnected(A){if(!this.getSyncConnected()){let{code:e,reason:t}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_NOT_CONNECTED);throw new RtmUnavailableError(A,[t],e)}}updateSyncTicket(A){let{ticket:e}=A;this._syncTicket=e}handlePacket(A){var e;let t=A.length,g=getSyncPacketUri(A);var o;g!==102&&this.log(`env_%s: received packet, uri: %d, length: %d`,this.virtualSocket?.env,g,t),(e=this.virtualSocket)==null||e.internalEmitter.emit(`received-packet`,A)}emitSyncConnected(){var A;(A=this.virtualSocket)==null||A.internalEmitter.emit(`connected`)}emitSyncDisconnected(){var A;(A=this.virtualSocket)==null||A.internalEmitter.emit(`disconnected`)}async _initSync(){if(this.context.disablePresence)return;if(this.log(`start logging sync...`),this.syncClient!==void 0)return this.log(`not firstInit`),await this.connectDatabase(),this.cacheCrdtState(),this.manualShakeHand(),void this.emitSyncConnected();let A=0;switch(this.context.rtmConfig.logLevel){case`debug`:A=0;break;case`info`:A=1;break;case`warn`:A=2;break;default:A=3}let e=new VirtualSyncSocket(this.getVirtualSyncSocket.bind(this));this.virtualSocket=e,e.internalEmitter.on(`connected`,()=>{this.log(`virtual socket connected`)});let t=new SyncConfig(this.context.appId,A,3e3,!0,!0,this.context.uid,()=>({handleDebugLog:this.log,handleInfoLog:this.info,handleWarnLog:this.warn,handleErrorLog:this.logError}),()=>e);try{var g,o;let A$1=this.context.heartbeatInterval+(getParameter(`RTM_LINK_KEEP_ALIVE_TIMEOUT`)??CONFIGURABLE_KEY_RTM_LINK_KEEP_ALIVE_TIMEOUT),e$1=await CreateClient(t);this.log(`create sync client success`),e$1.ExceptionCallback()?.addListener(`exception`,async A$2=>{let[e$2,t$1]=A$2;if(this.logError(`exception info: %o`,{db:e$2,coll:t$1}),e$2!==PRESENCE_DATABASE)return;let{prefixChannelName:g$1=``}=extractPrefixChannelName(t$1),o$1=this.context.getChannelLastSubOrJoinOptions(g$1);this.exceptionCallback(g$1,o$1)}),e$1.SetConnectionTimeout(A$1/1e3),this.emitSyncConnected(),this.syncClient=e$1,e$1.SetTicket(`rtm`,this._syncTicket??this.context.appId),await this.connectDatabase()}catch(A$1){this.logError(`init sync error: ${A$1}`);let{code:e$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_REJECTED);throw new RtmUnavailableError(OperationName.login,[t$1+`init sync error`],e$1)}}async connectDatabase(){var A,e;this.context.disablePresence||(this.sendTick(),this.log(`send tick success, will connect sync database`),this.log(`${SYNC_RPC_START}: syncClient connectDatabase`),await timeoutPromise(this==null||(A=this.syncClient)==null?void 0:A.ConnectDatabase(PRESENCE_DATABASE),DEFAULT_RPC_TIMEOUT_TIME,OperationName.login,RTMErrorCode.RTM_ERROR_LOGIN_TIMEOUT),this.log(`${SYNC_RPC_END}: syncClient connectDatabase`),this.sendTick(),this.dbObj=this==null||(e=this.syncClient)==null?void 0:e.Database(PRESENCE_DATABASE),this.connectionController.cancelSyncTimer())}async renewSyncTicket(A){if(this.context.disablePresence)return;let e=OperationName.renewToken;try{var t;this.log(`${SYNC_RPC_START}: ${e}`),(t=this.syncClient)==null||t.SetTicket(`rtm`,A),this.sendTick(),this.log(`${SYNC_RPC_END}: ${e}`)}catch(A$1){this.logError(`${SYNC_RPC_END}: ${e} by rpc failure. error is ${A$1}`)}return!0}leaveColl(A){var e;let t=this.getChannelCollName(A);(e=this.dbObj)==null||e.DestroyCollection(t),this.sendTick()}delChannelDoc(A){try{var e;let t=this.getChannelCollName(A),g=this.getColl(A,!0,`delChannelDoc`);g&&((e=this.dbObj)==null||e.CancelAutoKeepalive(t,this.context.uid)),g?.DelDoc(this.context.uid),this.sendTick(),this.log(`Delete channel(${replaceRangeWithAsterisk(A)}) document succeed.`)}catch(A$1){this.logError(`Delete channel document failed, error: %o`,A$1)}}async createColl(A,e,t){var g;return this.dbObj?.CreateCollection(this.getChannelCollName(A),e,t)}async logoutSyncHandler(){var A;if(!this.context.disablePresence){this.log(`${SYNC_RPC_START}: disconnectDatabase`);try{var e;await timeoutPromise(this.syncClient?.DisConnectDatabase(PRESENCE_DATABASE),DEFAULT_RPC_TIMEOUT_TIME,OperationName.logout,0)}catch{this.warn(`disconnectDatabase timeout`)}this.log(`${SYNC_RPC_END}: disconnectDatabase`),(A=this.syncClient)==null||A.Logout(),this.sendTick(),this.log(`virtual socket disconnected, reason: logout`),this.emitSyncDisconnected()}}async requestRpc(A,e){var t;if(this.context.disablePresence)return;let g=new QueryOption(e.start,e.end,e.keysOnly,e.countOnly,e.limit,e.startIncluded,e.endIncluded,e.ignoreExpired);return this.syncClient?.QueryDoc(PRESENCE_DATABASE,A===K_GLOBAL_PRESENCE_COLLECTION?K_GLOBAL_PRESENCE_COLLECTION:this.getChannelCollName(A),g)}getColl(A){var e;let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1],g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:``,o=this.getChannelCollName(A),I=this.dbObj?.Coll(o);return I===null&&t&&this.warn(`coll(${o}) is null in ${g}.`),I||null}getChannelCollName(A){return getChannelQueryString(this.context.vid,A)}manualShakeHand(){var A;this.context.disablePresence||this.getSyncConnected()&&((A=this.syncClient)==null||A.Shakehand())}sendTick(){var A;this.context.disablePresence||this.getSyncConnected()&&((A=this.syncClient)==null||A.Tick())}getSynced(){var A;if(!this.context.disablePresence)return this.syncClient?.Synced()}getSyncConnected(){var A;if(!this.context.disablePresence)return this.syncClient?.GetConnectionState()}getDocByUid(A,e){let{funcName:t=``,uid:g=this.context.uid}=e;return this.getColl(A,!0,t)?.Doc(g)}setAutoKeepalive(A){var e;let t=this.getChannelCollName(A);(e=this.dbObj)==null||e.SetAutoKeepalive(t,this.context.uid,this.context.rtmConfig.presenceTimeout)}updateLoggedOut(A){this.connectionController.updateLoggedOut(A)}}function genGetRTMSession(A){return()=>{let e=A();if(!e){let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_CONNECTED);throw new RtmInvalidStatusError(`Client is not logged in. Cannot do the operation`,[e$1],A$1)}return e}}class LocalTopic extends EventBase{constructor(A,e,t,g){super(e,`LocalTopic`),_defineProperty$1(this,`_context`,void 0),_defineProperty$1(this,`_topicName`,void 0),_defineProperty$1(this,`_localDatachannel`,void 0),this._context=A,this._topicName=t,this._localDatachannel=g}getDataChannel(){return this._localDatachannel}async publishTopicMessage(A,e,t){let g=this._localDatachannel,o=this._topicName;if(!g){let{code:e$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_TOPIC_NOT_JOINED);throw new RtmUnavailableError(A,[t$1],e$1)}if(g.readyState!==`open`){this.log(`send topic(%s) message failed. readyState of datachannel is ${g.readyState}`,o);let{code:e$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED);throw new RtmUnavailableError(A,[t$1],e$1)}let{initEncryption:I,iv:i$1,key:r,keyLength:n}=this._context.encryptionInfo,C=I,E=typeof e==`string`?new TextEncoder().encode(e):e,s=E.byteLength;try{let A$1=C?encrypt(E,r,i$1,n):E,o$1=typeof e==`string`?1:0;g.send(this._encodeMessage(A$1,s,C,o$1,t?.customType))}catch{let{code:t$1,reason:g$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_ENCRYPT_MESSAGE_FAILED);throw new RtmUnavailableError(A,[g$1],t$1)}}_encodeMessage(A,e,t,g,o){return StreamMessageProtocol.encode(_objectSpread2({messageType:g,payload:A,encrypted:t,payloadLength:e},o?{customType:o}:{})).finish()}}class RemoteTopic extends EventBase{constructor(A,e,t,g,o){super(e,`RemoteTopic`),_defineProperty$1(this,`_context`,void 0),_defineProperty$1(this,`_topicName`,void 0),_defineProperty$1(this,`_channelName`,void 0),_defineProperty$1(this,`_emitTopicMessage`,void 0),_defineProperty$1(this,`_users`,new Map),this._context=A,this._topicName=t,this._channelName=g,this._emitTopicMessage=o}addUserWithDc(A,e){this._users.set(A,e)}addUserWithoutDc(A,e){this._users.set(A,{subscribedState:`PRE_SUBSCRIBE`,meta:``,id:0,user:e})}updateUserDatachannelInfo(A,e){if(this._users.has(A)){let t=this._users.get(A);if(t){let{subscribedState:g,datachannel:o}=t,{meta:I,id:i$1,user:r}=e;this._users.set(A,{meta:I,id:i$1,subscribedState:g,datachannel:o,user:r})}}else this.warn(`update user datachannel info failure, not pre_subscribe the user in the topic.`)}removeUser(A){this._users.delete(A)}removeUserDatachannel(A){let e=this._users.get(A);e&&this._users.set(A,_objectSpread2(_objectSpread2({},e),{},{datachannel:void 0}))}handleSubscription(A,e){this._fillUserDatachannel(e,A),this._addMessageEvent(A,e),this._updateSubscribeState(e,`SUBSCRIBED`)}handleUnsubscription(A){this._context.internalEmitter.emit(`unsubscribeTopicMessage`,{topicName:this._topicName,userId:A}),this._updateSubscribeState(A,`UNSUBSCRIBE`)}getUsers(){return this._users}getSubscribedUsers(){return Array.from(this._users.keys()).filter(A=>{var e;return this._users.get(A)?.subscribedState===`SUBSCRIBED`})}getPreSubscribedUsers(){return Array.from(this._users.keys()).filter(A=>{var e;return this._users.get(A)?.subscribedState===`PRE_SUBSCRIBE`})}getAllSubscribedUserCount(){return this.getSubscribedUsers().length+this.getPreSubscribedUsers().length}_updateSubscribeState(A,e){let t=this._users.get(A);if(t){let{subscribedState:g,id:o,meta:I,datachannel:i$1,user:r}=t,n=!1;switch(g){case`PRE_SUBSCRIBE`:e===`UNSUBSCRIBE`?this._users.delete(A):e===`SUBSCRIBED`&&(n=!0);break;case`SUBSCRIBED`:(e===`UNSUBSCRIBE`||e===`PRE_SUBSCRIBE`)&&(n=!0);break;case`UNSUBSCRIBE`:n=!0}n&&this._users.set(A,{subscribedState:e,id:o,meta:I,datachannel:i$1,user:r})}}_fillUserDatachannel(A,e){let t=this._users.get(A);t&&this._users.set(A,_objectSpread2(_objectSpread2({},t),{},{datachannel:e}))}_decodeMessage(A){return StreamMessageProtocol.decode(A)}_addMessageEvent(A,e){let t=A$1=>{var t$1;if(this._users.get(e)?.subscribedState!==`SUBSCRIBED`)return void this.warn(`Received a message from %s(topic: %s), but not subscribed.`,e,this._topicName);let{encrypted:o,payloadLength:I,messageType:i$1,payload:r,customType:n}=this._decodeMessage(new Uint8Array(A$1)),{key:C,iv:E,keyLength:s}=this._context.encryptionInfo;if(o&&!C)return void this.warn(`Received a message with encryption but the key is not ready yet.`);if(!o&&C)return void this.warn(`Received a message without encryption but the key is ready.`);let B;B=i$1===1?new TextDecoder().decode(o?decrypt(r,C,E,s).slice(0,I):r):o?decrypt(r,C,E,s).slice(0,I):r,this._emitTopicMessage({channelName:this._channelName,channelType:`STREAM`,topicName:this._topicName,message:B,publisher:e,messageType:i$1===1?`STRING`:`BINARY`,customType:n,timestamp:getUTCTimeBaseREG(this._context.offsetTime)})};A?.on(`open`,()=>{this.log(`${this._channelName}(${this._topicName}) remote dc opened.`)}),A?.on(`close`,()=>{this.warn(`${this._channelName}(${this._topicName}) remote dc closed.`)}),A?.on(`error`,A$1=>{this.logError(`error occurs in ${this._channelName}(${this._topicName}) remote dc. error is %o`,A$1)}),A.on(`message`,t),this.log(`${this._channelName}(${this._topicName}) msg event added`),this._context.internalEmitter.on(`unsubscribeTopicMessage`,g=>{let{userId:o,topicName:I}=g;o===e&&I===this._topicName&&A.off(`message`,t)})}}class ApiRateLimiter{constructor(){_defineProperty$1(this,`operationsTimeCache`,{})}canMakeOperation(A,e){var t,g;let o=getParameter(`API_RATE_LIMIT`).get(A)??0;e!=null&&e.times&&(o=e.times);let I=Date.now();if(this.operationsTimeCache[A]||(this.operationsTimeCache[A]=[]),this.operationsTimeCache[A]=this.operationsTimeCache[A].filter(A$1=>A$1>I-1e3),this.operationsTimeCache[A].length<o)return void this.operationsTimeCache[A].push(I);let i$1=RTMErrorCode.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION,{code:r,reason:n}=getErrorInfoByCode(e?.code??i$1);if(!0===getParameter(`ENABLE_API_RATE_LIMIT`))throw new RtmUnavailableError(A,[n],r)}}const{SubscribeTopicErrorCode}=RTMStreamChannelStatusCode;class StreamChannelImpl extends EventBase{constructor(A,e,t,g,o,I,i$1,r,n,C){var E;switch(super(e,`StreamChannelImpl`,!0),_defineProperty$1(this,`_channelName`,void 0),_defineProperty$1(this,`_prefixChannelName`,void 0),_defineProperty$1(this,`_context`,void 0),_defineProperty$1(this,`_getRTMSession`,void 0),_defineProperty$1(this,`_emitRtmEvent`,void 0),_defineProperty$1(this,`_getStreamChannelList`,void 0),_defineProperty$1(this,`_validateRtmConnection`,void 0),_defineProperty$1(this,`_updateOptionsReJoinOrSub`,void 0),_defineProperty$1(this,`_unsubLockAMeta`,void 0),_defineProperty$1(this,`_absent`,void 0),_defineProperty$1(this,`_userId4RTC`,void 0),_defineProperty$1(this,`_isJoinedChannel`,!1),_defineProperty$1(this,`_joinedAndSubscribed`,!1),_defineProperty$1(this,`_rtcClient`,void 0),_defineProperty$1(this,`_rtcClientSid`,void 0),_defineProperty$1(this,`_isReuseRtcClient`,!1),_defineProperty$1(this,`_localTopics`,new Map),_defineProperty$1(this,`_remoteTopics`,new Map),_defineProperty$1(this,`_firstSnapshot4topic`,!0),_defineProperty$1(this,`_apiRateLimit`,new ApiRateLimiter),_defineProperty$1(this,`_privatePermitUseMessageChn`,!1),_defineProperty$1(this,`_linkState`,`IDLE`),_defineProperty$1(this,`_controlReconnectTimer`,null),_defineProperty$1(this,`_handleConnectionStateChange`,async(A$1,e$1,t$1)=>{if(this.log(`rtc state: pre(%s), now(%s), reason: %s.`,e$1,A$1,t$1),e$1===`RECONNECTING`&&this._controlReconnectTimer&&clearTimeout(this._controlReconnectTimer),this._isJoinedChannel&&A$1===`DISCONNECTED`&&(this._firstSnapshot4topic=!0,this._privatePermitUseMessageChn&&(await this._unsubLockAMeta(this._prefixChannelName),t$1===`LEAVE`||t$1===`UID_BANNED`?this._absent(this._prefixChannelName):this._absent(this._prefixChannelName,!1)),this._handleLeaveEffects(),t$1&&t$1!==`LEAVE`)){this.warn(`streamChannel connection state change to DISCONNECTED, reason: %s`,t$1);let A$2=LinkStateChangeReasonDescription.KICKED_OUT_BY_SERVER,e$2=`KICKED_OUT_BY_SERVER`;t$1===AgoraRTC$1.ConnectionDisconnectedReason.TOKEN_EXPIRE&&(A$2=LinkStateChangeReasonDescription.TOKEN_EXPIRED,e$2=`TOKEN_EXPIRED`),this._updateLinkState(`FAILED`,`SERVER_REJECT`,e$2,A$2)}A$1===`RECONNECTING`&&(this._updateLinkState(`CONNECTING`,`AUTO_RECONNECT`,`AUTO_RECONNECT`,LinkStateChangeReasonDescription.AUTO_RECONNECT),this._controlReconnectTimer=setTimeout(async()=>{this.warn(`streamChannel reconnect timeout, force leave.`),await this.leave()},12e5)),A$1===`CONNECTED`&&this._isJoinedChannel&&this._updateLinkState(`CONNECTED`,`RECONNECTED`,`RECONNECT_SUCCESS`,LinkStateChangeReasonDescription.RECONNECT_SUCCESS);let g$1={channelName:this._channelName,state:A$1,reason:t$1??A$1===`CONNECTED`?`OK`:``,timestamp:getUTCTimeBaseREG(this._context.offsetTime)};this._emitRtmEvent(`status`,g$1)}),_defineProperty$1(this,`_handleUserPublishedList`,A$1=>{if(!this._firstSnapshot4topic)return void this._handleUpdatedTopicsInOffline(A$1);let e$1=[];if(A$1.forEach(A$2=>{var t$1;(t$1=A$2.dataChannels)==null||t$1.forEach(t$2=>{t$2.getConfig()&&e$1.push({user:A$2,config:t$2.getConfig(),dc:t$2})})}),this._firstSnapshot4topic=!1,e$1.length===0){let A$2={eventType:`SNAPSHOT`,channelName:this._channelName,publisher:``,topicInfos:[],totalTopics:0,timestamp:getUTCTimeBaseREG(this._context.offsetTime)};this._emitRtmEvent(`topic`,A$2),this._reportTopicUpdate(`SNAPSHOT`,{});return}this._handleReceivedDcs(e$1,``,`SNAPSHOT`)}),_defineProperty$1(this,`_handleUserPublished`,(A$1,e$1,t$1)=>{var g$1;if(e$1!==`datachannel`||t$1===void 0)return;let o$1=A$1.dataChannels?.find(A$2=>A$2.id===t$1.id);this._handleReceivedDcs([{user:A$1,config:t$1,dc:o$1}],A$1.uid.toString(),`REMOTE_JOIN`)}),_defineProperty$1(this,`_handleUserUnPublished`,(A$1,e$1,t$1)=>{if(e$1!==`datachannel`)return;let g$1=t$1?.metadata;if(g$1===void 0)return;let o$1=this._decodeMetadata(g$1),I$1=o$1.topic,i$2=o$1.metadata;this._emitTopicLeft(I$1,A$1,i$2)}),_defineProperty$1(this,`_handleTokenPrivilegeWillExpire`,()=>{this._emitRtmEvent(`tokenPrivilegeWillExpire`,this._channelName)}),_defineProperty$1(this,`_handleUserJoined`,A$1=>{let e$1=this._prefixChannelName;this._context.internalEmitter.emit(`presence-user-joined`,{channelName:e$1,userId:A$1.uid.toString()})}),_defineProperty$1(this,`_handlerUserLeft`,A$1=>{let e$1=this._prefixChannelName;this._context.internalEmitter.emit(`presence-user-left`,{channelName:e$1,userId:A$1.uid.toString()})}),_defineProperty$1(this,`_emitTopicMessage`,A$1=>{this._emitRtmEvent(`message`,A$1)}),_defineProperty$1(this,`_emitTopicLeft`,(A$1,e$1,t$1)=>{let g$1=e$1.uid.toString(),o$1=this._getInitTopicEventData(`REMOTE_LEAVE`,this._channelName,g$1,1);o$1.topicInfos.push({publishers:[{publisherUserId:g$1,publisherMeta:t$1}],topicName:A$1,totalPublisher:1}),this._emitRtmEvent(`topic`,o$1),this._reportTopicUpdate(`REMOTE_LEAVE`,{[A$1]:{publishers:[{publisherUserId:g$1,publisherMeta:t$1}],publisherCount:1}});let I$1=this._remoteTopics.get(A$1);I$1!=null&&I$1.getSubscribedUsers().includes(g$1)?I$1?.addUserWithoutDc(g$1,e$1):this._deleteRemoteDc(A$1,g$1)}),A.rtmConfig.logLevel??`none`){case`debug`:AgoraRTC$1.setLogLevel(0);break;case`info`:AgoraRTC$1.setLogLevel(1);break;case`warn`:AgoraRTC$1.setLogLevel(2);break;case`none`:AgoraRTC$1.setLogLevel(4);break;default:AgoraRTC$1.setLogLevel(3)}this._channelName=t.channelName,this._prefixChannelName=getChannelNameByType(this._channelName,`STREAM`),this._context=A,A.rtmConfig.useStringUserId?this._userId4RTC=A.userId:this._userId4RTC=Number(A.userId),this._emitRtmEvent=g,this._getStreamChannelList=o,this._validateRtmConnection=function(A$1){I(A$1,arguments.length>1&&arguments[1]!==void 0&&arguments[1])},this._getRTMSession=genGetRTMSession(i$1),this.setMaxListeners(512),this._updateOptionsReJoinOrSub=r,this._unsubLockAMeta=n,this._absent=C,A.rtmConfig.privateConfig&&!A.rtmConfig.privateConfig.serviceType.includes(`MESSAGE`)||(this._privatePermitUseMessageChn=!0),AgoraRTC$1.setParameter(`ENABLE_DATASTREAM_2`,!0),AgoraRTC$1.setParameter(`DATASTREAM_MAX_RETRANSMITS`,0),AgoraRTC$1.setParameter(`AP_RTM`,!0),this._context.config.logUpload&&AgoraRTC$1.setParameter(`UPLOAD_LOG`,!0);let s=[];this._isReuseRtcClient=s.length>0,this.log(`Create streamChannel, isReuseRtcClient: ${this._isReuseRtcClient}`),this._rtcClient=this._isReuseRtcClient?s[0]:AgoraRTC$1.createClient({codec:`vp8`,mode:`rtc`}),this._rtcClientSid=this._rtcClient._sessionId,this.info(`rtcClientSid: ${this._rtcClientSid}`),this._rtcClient.setRTMConfig({apRTM:!0,rtmFlag:3})}async leaveVosWeb(){this._isJoinedChannel&&(this.removeAllListeners(),await this.leave(!1))}async join(A){var e;let t=getParameter(`AREA_CONFIG`);if(t){let{areaCodes:A$1,excludedArea:e$1}=t;AgoraRTC$1.setArea({areaCode:A$1,excludedArea:e$1})}let g=OperationName.join,o=linkStateCodeMap[this._linkState],{currentResolve:I}=await this._context.operationControl.awaitPromise(g+this._prefixChannelName);this._privatePermitUseMessageChn||this._context.initReportEvent();let i$1=this._rtcClient._sessionId??``;try{if(this._linkState===`CONNECTING`){let{code:A$1,reason:e$2}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_DUPLICATE_OPERATION);throw new RtmUnavailableError(g,[e$2],A$1)}let e$1={timestamp:0};this._isJoinedChannel||this._updateLinkState(`CONNECTING`,`JOIN`,this._linkState===`IDLE`?`JOIN`:`REJOIN`,this._linkState===`IDLE`?LinkStateChangeReasonDescription.JOIN:LinkStateChangeReasonDescription.REJOIN);try{var r,n,C,E;this._updatePrivateSettings(),this._apiRateLimit.canMakeOperation(`join`),this._privatePermitUseMessageChn&&(this._validateRtmConnection(g),this._validateSessionExist(g),this._validateJoinOptions(A,g)),(r=A)!=null&&r.token&&validateToken(A.token,this._context.appId,g,A$1=>{this.warn(A$1)}),A?.token!==``&&A?.token!==void 0||(A=_objectSpread2(_objectSpread2({},A),{},{token:this._context.appId}));let e$2=getParameter(`STREAM_CHANNEL_COUNT`)??10;if(this._getStreamChannelList().length>=e$2){this.log(`exceed join channel limit ${e$2}`);let{code:A$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_INSTANCE_EXCEED_LIMITATION);throw new RtmUnavailableError(g,[t$1],A$1)}}catch(A$1){var s;this.logError(A$1);let{reason:e$2}=A$1;throw this._handleJoinFailedState(A$1?.errorCode??e$2),A$1}try{if(!this._isJoinedChannel){this._addAllRtcListeners();let e$2=!1,t$1=AgoraRTC$1.__CLIENT_LIST__.map(A$1=>`channel(${A$1.channelName}), state: ${A$1.connectionState}}`);this.log(`FusionSDK: false. clientList of rtc: ${t$1}`);try{var B;this.log(`Join streamChannel, isReuseRtcClient: false`),this._context.internalEmitter.emit(`stream-channel-joined`,this._channelName);let t$2=this._rtcClient.connectionState;if(!(t$2===`CONNECTED`||t$2===`CONNECTING`||t$2===`RECONNECTING`)){var a,Q,c;let e$3=A?.token;this._context.config.cloudProxy&&(((c=this._context.rtmConfig.privateConfig)==null||(c=c.accessPointHosts)==null?void 0:c.length)??0)===0&&this._rtcClient.startProxyServer(5),this._firstSnapshot4topic=!0,await timeoutPromise(this._rtcClient.join(this._context.appId,this._channelName,e$3||null,this._context.userId),15e3,g,RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_FAILED,!0)}i$1=this._rtcClient._sessionId??``}catch(A$1){var l,h;if(i$1=this._rtcClient._sessionId??``,this._context.internalEmitter.emit(`stream-channel-leaved`,this._channelName),await this._validCancelJoin(g),isRtmError(A$1))throw isTimeout(A$1)&&await this._rtcClient.leave(),A$1;this.logError(A$1);let e$3=A$1?.code??AgoraRTCErrorCode.UNEXPECTED_ERROR;if(e$3===AgoraRTCErrorCode.CAN_NOT_GET_GATEWAY_SERVER){let{code:A$2,reason:e$4}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_TOKEN);throw new RtmUnavailableError(g,[e$4],A$2)}if(e$3===AgoraRTCErrorCode.OPERATION_ABORTED){let{code:A$2,reason:e$4}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_CANCELED);throw new RtmUnavailableError(g,[e$4],A$2)}if(e$3===AgoraRTCErrorCode.UNEXPECTED_RESPONSE&&A$1.message.includes(`DATASTREAM2_NOT_AVAILABLE`)){let{code:A$2,reason:e$4}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_NOT_AVAILABLE);throw new RtmUnavailableError(g,[e$4],A$2)}let{code:t$2,reason:o$1}=convertDataChannelJoinCodeToSdkCode(e$3,RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_FAILED);throw new RtmUnavailableError(g,[o$1+`Join channel failure, server code is ${e$3}`],t$2)}await this._validCancelJoin(g),this._updateLinkState(`CONNECTED`,`JOIN`,`JOIN_SUCCESS`,LinkStateChangeReasonDescription.JOIN_SUCCESS),this._isJoinedChannel=!0}return this._privatePermitUseMessageChn&&(this.log(`stream channel joined success, start sub other options`),await this._subscribe(A)),this._joinedAndSubscribed=!0,I(e$1),e$1}catch(A$1){var u;I(!1);let{reason:e$2}=A$1;throw!1===this._joinedAndSubscribed&&this._handleJoinFailedState(A$1?.errorCode??e$2),A$1}}catch(A$1){throw I(void 0),A$1}finally{var d;let{sid:e$1,elapse:t$1,opid:g$1}=this._getSidAndElapse4Report(),I$1=this._privatePermitUseMessageChn?this._context?.getNewJoinFlag(handleSubOptionsAsDefault(A)):0;this._context.addReportEvents(`StreamChnJoin`,{lts:getReportLts(),userId:this._context.uid,elapse:t$1,sid:e$1,seq:Long$1.fromNumber(g$1),vid:Long$1.fromValue(this._context.vid||`0`),channelName:this._channelName,joinOptionsFlag:I$1,rtcSid:i$1,preState:o})}}async leave(){let A=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],e=OperationName.leave,{sid:t,elapse:g,opid:o}=this._getSidAndElapse4Report();this._context.addReportEvents(`StreamChnLeave`,{lts:getReportLts(),vid:Long$1.fromValue(this._context.vid||`0`),sid:t,seq:Long$1.fromNumber(o),userId:this._context.uid,elapse:g,channelName:this._channelName,preState:linkStateCodeMap[this._linkState]}),this._context.forceReportEvents(),this._privatePermitUseMessageChn&&A&&(this._validateRtmConnection(e),this._validateSessionExist(e));let I={timestamp:0};if(this._linkState===`FAILED`)return this._updateLinkState(`IDLE`,`LEAVE`,`LEAVE`,LinkStateChangeReasonDescription.LEAVE),this._localLeave(),I;if(this._linkState===`CONNECTING`)return await this._rtcClient.leave(),this._updateLinkState(`IDLE`,`LEAVE`,`LEAVE`,LinkStateChangeReasonDescription.LEAVE),this._localLeave(),I;let i$1;this._checkIsJoinedChannel(e);let r=new Promise((A$1,e$1)=>{i$1=A$1});this.log(`Leave streamChannel, isReuseRtcClient: ${this._isReuseRtcClient}`);let n=[];try{let A$1=this._isReuseRtcClient&&!1;await Promise.all([A$1?this._fusionSdkLeave():this._rtcClient.leave(),...n.map(A$2=>fromPromise(this._rtcClient.unpublish(A$2),A$3=>A$3)),...(this._isReuseRtcClient,[])]),this._context.config.cloudProxy&&!A$1&&this._rtcClient.stopProxyServer(),i$1(I)}catch(A$1){if(this.logError(A$1),isRtmError(A$1))throw A$1;let t$1=A$1?.code||AgoraRTCErrorCode.UNEXPECTED_ERROR,{code:g$1,reason:o$1}=convertDataChannelJoinCodeToSdkCode(t$1,RTMErrorCode.RTM_ERROR_CHANNEL_LEAVE_FAILED);throw new RtmUnavailableError(e,[o$1+`Leave channel failure, server code is  ${t$1}`],g$1)}finally{this._context.deleteChannel(this._prefixChannelName),this._updateLinkState(`IDLE`,`LEAVE`,`LEAVE`,LinkStateChangeReasonDescription.LEAVE)}return r}async renewStreamChannelToken(A){let e=OperationName.renewToken;this._checkIsJoinedChannel(e);try{await this._rtcClient.renewToken(A)}catch(A$1){var t;this.logError(A$1);let g=A$1?.code??AgoraRTCErrorCode.UNEXPECTED_ERROR,{code:o,reason:I}=convertDataChannelJoinCodeToSdkCode(g,RTMErrorCode.RTM_ERROR_INVALID_TOKEN);throw new RtmUnavailableError(e,[I+`RenewToken of streamChannel failure, server code is ${g}`],o)}}async joinTopic(A,e){let t=OperationName.joinTopic,g={timestamp:0,topicName:A},o=0,I=!1,i$1=(()=>{let A$1=Array.from(this._localTopics.values()).filter(A$2=>A$2!==void 0).filter(A$2=>A$2?.getDataChannel()!==void 0).map(A$2=>{var e$1;return A$2==null||(e$1=A$2.getDataChannel())==null?void 0:e$1.getConfig().id});for(let e$1=0;e$1<8;e$1++)if(A$1.findIndex(A$2=>A$2===e$1)===-1)return e$1;return-1})();try{var r;if(this._apiRateLimit.canMakeOperation(`joinTopic`),this._privatePermitUseMessageChn&&(this._validateRtmConnection(t),this._validateSessionExist(t)),validateTopicName(A,t),this._checkIsJoinedChannel(t),this._localTopics.has(A))return this.log(`topic(%s) already exists`,A),g;if(this._localTopics.size>=8){this.log(`exceed create topic limit`);let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_EXCEED_TOPIC_LIMITATION);throw new RtmUnavailableError(t,[e$1],A$1)}e={meta:null};let o$1=TopicMetadata.encode({metadata:e?.meta,topic:A}).finish();this._localTopics.set(A,void 0);let C$1=await fromPromise(this._rtcClient.publish({id:i$1,ordered:!1,metadata:String.fromCharCode(...o$1)}),A$1=>A$1);if(C$1.isErr()){var n;throw this._localTopics.delete(A),new RtmUnavailableError(t,[`JoinTopic failure, code of rtcClient.publish api is ${C$1==null||(n=C$1.error)==null?void 0:n.code}`],RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_TOPIC_FAILED)}{let e$1=C$1.value,t$1=new LocalTopic(this._context,this.logger,A,e$1);e$1?.on(`open`,()=>{this.log(`${this._channelName}(${A}) local dc opened.`)}),e$1?.on(`close`,()=>{this.warn(`${this._channelName}(${A}) local dc closed.`)}),e$1?.on(`error`,e$2=>{this.logError(`error occurs in ${this._channelName}(${A}) local dc. error is %o`,e$2)}),this._localTopics.set(A,t$1)}}catch(A$1){var C;throw A$1 instanceof RTMBaseError&&(o=A$1.errorCode??0),A$1}finally{let{sid:e$1,elapse:t$1,opid:g$1}=this._getSidAndElapse4Report();this._context.addReportEvents(`TopicJoin`,{lts:getReportLts(),vid:Long$1.fromValue(this._context.vid||`0`),sid:e$1,userId:this._context.uid,elapse:t$1,channelName:this._channelName,topicName:A,qos:0,priority:0,syncWithMedia:0,streamId:i$1,errorCode:Long$1.fromNumber(o),seq:Long$1.fromNumber(g$1)})}return g}async publishTopicMessage(A,e,t){var g;let o=OperationName.publishTopicMessage;this._apiRateLimit.canMakeOperation(`publishTopicMsg`),this._privatePermitUseMessageChn&&(this._validateRtmConnection(o),this._validateSessionExist(o));let I={timestamp:0,topicName:A};if(validateTopicName(A,o),this._checkIsJoinedChannel(o),t!=null&&t.customType&&validateCustomType(t?.customType,o),typeof e==`string`&&!e){let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_INVALID_MESSAGE);throw new RtmInvalidArgumentError(o,[e$1],A$1)}if((typeof e==`string`?new TextEncoder().encode(e).buffer:e.buffer).byteLength+new Blob([t?.customType??``]).size>1024){let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_MESSAGE_LENGTH_EXCEED_LIMITATION);throw new RtmInvalidArgumentError(o,[e$1],A$1)}if(this._rtcClient.connectionState!==`CONNECTED`){let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_NOT_JOINED);throw new RtmUnavailableError(o,[e$1],A$1)}let i$1=this._localTopics.get(A);if(!i$1){let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_TOPIC_NOT_JOINED);throw new RtmUnavailableError(o,[e$1],A$1)}return await i$1?.publishTopicMessage(o,e,t),I}async leaveTopic(A){var e,t;let g=OperationName.leaveTopic,o=this._localTopics.get(A)?.getDataChannel(),I=o?.id??0,{sid:i$1,elapse:r,opid:n}=this._getSidAndElapse4Report();this._context.addReportEvents(`TopicLeave`,{sid:i$1,elapse:r,lts:getReportLts(),vid:Long$1.fromValue(this._context.vid||`0`),userId:this._context.uid,channelName:this._channelName,topicName:A,streamId:I,seq:Long$1.fromNumber(n)}),this._privatePermitUseMessageChn&&(this._validateRtmConnection(g),this._validateSessionExist(g));let C={timestamp:0,topicName:A};if(validateTopicName(A,g),this._checkIsJoinedChannel(g),!this._localTopics.has(A)){let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_TOPIC_NOT_JOINED);throw new RtmUnavailableError(g,[e$1],A$1)}try{await this._rtcClient.unpublish(o),this._localTopics.delete(A)}catch(A$1){var E;this.logError(A$1);let e$1=A$1?.code??AgoraRTCErrorCode.UNEXPECTED_ERROR,{code:t$1,reason:o$1}=convertDataChannelJoinCodeToSdkCode(e$1,RTMErrorCode.RTM_ERROR_CHANNEL_IN_ERROR_STATE);throw new RtmUnavailableError(g,[o$1+`LeaveTopic failure, server code is  ${e$1}`,t$1])}return C}async subscribeTopic(A,e){var t,g,o;let I=OperationName.subscribeTopic,{currentResolve:i$1,currentReject:r}=await this._context.operationControl.awaitPromise(I+`*s*`+A),n=(e==null||(g=e.users)==null?void 0:g.filter(A$1=>!isValidId(A$1)))??[];e!=null&&e.users&&(e.users=e==null||(o=e.users)==null?void 0:o.filter(A$1=>isValidId(A$1))),e!=null&&e.users&&(e.users=[...new Set(e.users)]);let C=!1,E=!1,s=0,B={failedUsers:n,failedDetails:n.map(e$1=>({user:e$1,errorCode:SubscribeTopicErrorCode.INVALID_PARAMS,timestamp:0,topicName:A})),succeedUsers:[],timestamp:0,topicName:A},a=new Set;try{var Q,c,l,h,u;if(this._apiRateLimit.canMakeOperation(`subscribeTopic`),this._privatePermitUseMessageChn&&(this._validateRtmConnection(I),this._validateSessionExist(I)),validateTopicName(A,I),this._checkIsJoinedChannel(I),(()=>Array.from(this._remoteTopics.values()).filter(A$1=>A$1.getAllSubscribedUserCount()>0).length)()>50){this.log(`subscribed topic(%s) failed, exceed subscribe topic limit 50`,A);let{code:e$1,reason:t$2}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_EXCEED_TOPIC_LIMITATION);throw new RtmUnavailableError(I,[t$2],e$1)}let g$1=this._remoteTopics.get(A);if((g$1?.getAllSubscribedUserCount()??0)>=64){this.log(`subscribe topic(${A}) exceed user limit: 64`);let{code:e$1,reason:t$2}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_EXCEED_TOPIC_USER_LIMITATION);throw new RtmUnavailableError(I,[t$2],e$1)}if(!(this._remoteTopics.has(A)||e!=null&&e.users&&e.users.length!==0)){if(this._localTopics.has(A))return i$1(void 0),B;let{code:e$1,reason:t$2}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_TOPIC_NOT_EXIST);throw new RtmUnavailableError(I,[t$2],e$1)}if(!this._remoteTopics.has(A)&&((e==null||(c=e.users)==null?void 0:c.length)||0)>0){this.log(`createTopicHere`);let t$2=new RemoteTopic(this._context,this.logger,A,this._channelName,this._emitTopicMessage),g$2=64-t$2?.getAllSubscribedUserCount(),o$2=shuffle$1(e?.users||[]).filter((e$1,t$3)=>(t$3+1>g$2&&(C=!0,B.failedDetails.push({user:e$1,errorCode:SubscribeTopicErrorCode.SUB_USER_EXCEED_LIMITATION,timestamp:0,topicName:A}),B.failedUsers.push(e$1)),t$3+1<=g$2));return this.log(`shuffle pre subscribe topic(%s), users: %o`,A,o$2.map(A$1=>replaceRangeWithAsterisk(A$1))),o$2.forEach(e$1=>{a.add(e$1),t$2.addUserWithoutDc(e$1),this._remoteTopics.set(A,t$2)}),this.log(`${A} not existent in channel${this._channelName}.`),B.succeedUsers=[...a],this.log(`subscribed ${this._channelName}(${A}), resp is %o`,B),i$1(void 0),B}let o$1=[];var d,D;e!=null&&e.users&&e.users.length!==0?o$1=(e==null||(d=e.users)==null?void 0:d.filter(e$1=>{let t$2=g$1?.getPreSubscribedUsers().includes(e$1),o$2=g$1?.getSubscribedUsers().includes(e$1),I$1=!(g$1!=null&&g$1.getUsers().has(e$1));return t$2||o$2?this.log(`subscribe ${replaceRangeWithAsterisk(e$1)} in topic(${A}) already.`):I$1&&(a.add(e$1),g$1?.addUserWithoutDc(e$1),this.log(`pre subscribe user(${replaceRangeWithAsterisk(e$1)})`)),this.log(`can't sub the user ${e$1}, isPreSubscribed: ${t$2}, isSubscribed: ${o$2}, isUserNotPublishTopic: ${I$1}`),!t$2&&!o$2&&!I$1}))||[]:(g$1?.getUsers()??new Map).forEach((A$1,e$1)=>{A$1.subscribedState===`UNSUBSCRIBE`&&o$1.push(e$1)}),o$1.length>64-(this._remoteTopics.get(A)?.getAllSubscribedUserCount()??0)&&(C=!0);let r$1=await this._patchSubscribeTopic(A,o$1);return this.log(`${I} result: preSubUsers(${[...a]}), subUsers(${r$1.succeedUsers})`),B.succeedUsers=[...a,...r$1.succeedUsers],B.failedUsers=[...B.failedUsers,...r$1.failedUsers],B.failedDetails=[...B.failedDetails,...r$1.failedDetails],B.failedUsers.length===(e==null||(u=e.users)==null?void 0:u.length)||B.failedUsers.length,i$1(void 0),B}catch(A$1){throw i$1(void 0),A$1}finally{E=a.size>0,s=B.succeedUsers.length,this.log(`subscribe topic(${A}), randomSubscribe: ${C}, containPreSubscribeUsers: ${E}, preUsersCount: ${a.size}, succeedUsersCount: ${s}, failedUsersCount: ${B.failedUsers.length}`);let{sid:e$1,elapse:t$1,opid:g$1}=this._getSidAndElapse4Report();this._context.addReportEvents(`TopicSubscribe`,{lts:getReportLts(),vid:Long$1.fromValue(this._context.vid||`0`),sid:e$1,userId:this._context.uid,elapse:t$1,channelName:this._channelName,topicName:A,seq:Long$1.fromNumber(g$1),randomSubscribe:Number(C),preSubscribe:Number(E),userCount:s})}}async unsubscribeTopic(A,e){var t,g,o;let I=OperationName.unsubscribeTopic,{sid:i$1,elapse:r,opid:n}=this._getSidAndElapse4Report();this._context.addReportEvents(`TopicUnsubscribe`,{lts:getReportLts(),vid:Long$1.fromValue(this._context.vid||`0`),sid:i$1,userId:this._context.uid,elapse:r,channelName:this._channelName,topicName:A,seq:Long$1.fromNumber(n)}),this._privatePermitUseMessageChn&&(this._validateRtmConnection(I),this._validateSessionExist(I)),validateTopicName(A,I),this._checkIsJoinedChannel(I);let C=this._remoteTopics.get(A);if(C==null||!C.getAllSubscribedUserCount()){let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_TOPIC_NOT_SUBSCRIBED);throw new RtmUnavailableError(I,[e$1],A$1)}let E=(e==null||(g=e.users)==null?void 0:g.filter(A$1=>!isValidId(A$1)))??[],s={failedUsers:E,failedDetails:E.map(e$1=>({user:e$1,errorCode:SubscribeTopicErrorCode.INVALID_PARAMS,timestamp:0,topicName:A})),timestamp:0,succeedUsers:[],topicName:A},B=[];e!=null&&e.users&&e.users.length!==0?B=e.users.filter(A$1=>isValidId(A$1)).filter(e$1=>{let t$1=C.getPreSubscribedUsers().includes(e$1),g$1=C.getSubscribedUsers().includes(e$1);return t$1?(this._deleteRemoteDc(A,e$1),s.succeedUsers.push(e$1)):g$1||(s.failedDetails.push({user:e$1,errorCode:SubscribeTopicErrorCode.NOT_SUBSCRIBED_USER,timestamp:0,topicName:A}),s.failedUsers.push(e$1)),g$1}):(C.getSubscribedUsers().forEach(A$1=>{B.push(A$1)}),C.getPreSubscribedUsers().forEach(e$1=>{this._deleteRemoteDc(A,e$1),s.succeedUsers.push(e$1)}));try{(await Promise.all(B.map(e$1=>{let t$1=C?.getUsers().get(e$1);if(!t$1)throw this.warn(`unsubscribe topic(${A})-user(${replaceRangeWithAsterisk(e$1)}) failed, user not in remoteTopic users.`),Error();let{id:g$1,user:o$1}=t$1;return fromPromise(this._rtcClient.unsubscribe(o$1||this._userIdToRTCRemoteUser(e$1),`datachannel`,g$1),A$1=>A$1)}))).map((A$1,e$1)=>({userId:B[e$1],result:A$1})).forEach(e$1=>{let{userId:t$1,result:g$1}=e$1;if(g$1.isErr()){var o$1,i$2,r$1;this.logError(g$1.error);let e$2=(g$1==null||(i$2=g$1.error)==null?void 0:i$2.code)??AgoraRTCErrorCode.UNEXPECTED_ERROR;s.failedDetails.push({user:t$1,reason:`Unsubscribe topic failure, web_rtc code is ${e$2}, the reason of web_rtc is that ${g$1==null||(r$1=g$1.error)==null?void 0:r$1.toString()}`,timestamp:0,topicName:A}),s.failedUsers.push(t$1);let{code:n$1,reason:C$1}=convertDataChannelJoinCodeToSdkCode(e$2,RTMErrorCode.RTM_ERROR_CHANNEL_IN_ERROR_STATE);throw new RtmUnavailableError(I,[C$1+`unsubscribeTopic failure, server code is ${e$2}`],n$1)}s.succeedUsers.push(t$1),C.handleUnsubscription(t$1)})}catch(A$1){throw A$1}return s.failedUsers.length===(e==null||(o=e.users)==null?void 0:o.length)||s.failedUsers.length,this.log(`${I} success. sdk resp is %o`,s),s.succeedUsers.forEach(e$1=>{this._context.internalEmitter.emit(`unsubscribeTopicMessage`,{topicName:A,userId:e$1})}),{timestamp:0}}getSubscribedUserList(A){let e=OperationName.getSubscribedUserList;this._privatePermitUseMessageChn&&(this._validateRtmConnection(e),this._validateSessionExist(e)),validateTopicName(A,e),this._checkIsJoinedChannel(e);let t=this._remoteTopics.get(A);if(t==null||!t.getAllSubscribedUserCount()){let{code:A$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_TOPIC_NOT_SUBSCRIBED);throw new RtmUnavailableError(e,[t$1],A$1)}let g={subscribed:[],timestamp:0,topicName:A};return g.subscribed=[...t.getSubscribedUsers(),...t.getPreSubscribedUsers()],g}setStreamChannelParameter(A,e){AgoraRTC$1.setParameter(A,e)}async _handleLeaveEffects(){this._clearLocalCache4topic(),this._isJoinedChannel=!1,this._joinedAndSubscribed=!1,this._context.internalEmitter.emit(`stream-channel-leaved`,this._channelName),this._removeAllRtcListeners()}_handleUpdatedTopicsInOffline(A){let e=new Map;this._remoteTopics.forEach((A$1,t$1)=>{e.set(t$1,A$1)});let t=new Map;A.forEach(A$1=>{var e$1;(e$1=A$1.dataChannels)==null||e$1.forEach(e$2=>{if(e$2.getConfig()){var g;let{metadata:o}=e$2.getConfig(),{topic:i$1}=this._decodeMetadata(o),r=t.get(i$1)??[];r.push({user:A$1,dc:e$2.getConfig()}),t.set(i$1,r)}})}),t.forEach((A$1,t$1)=>{var g,o;let I=e.get(t$1)?.getUsers()??new Map,i$1=A$1.filter(A$2=>{var e$1;let{user:t$2}=A$2;return!I.has(t$2.uid.toString())&&I.get(t$2.uid.toString())?.subscribedState!==`PRE_SUBSCRIBE`});i$1.length>0&&this.log(`joined topic: %s, users: %o`,t$1,Array.from(i$1.values()).map(A$2=>{var e$1;return A$2.user?.uid})),i$1.forEach(A$2=>{let{user:e$1,dc:t$2}=A$2;this._handleUserPublished(e$1,`datachannel`,t$2)})}),e.forEach((A$1,e$1)=>{var g;let o=A$1.getUsers(),I=t.get(e$1)??[],i$1=Array.from(o.values()).filter(A$2=>A$2.subscribedState!==`PRE_SUBSCRIBE`&&!I.find(e$2=>{var t$1;let{user:g$1}=e$2;return g$1.uid===A$2.user?.uid}));i$1.length>0&&this.log(`left topic: %s, users: %o`,e$1,Array.from(i$1.values()).map(A$2=>{var e$2;return A$2.user?.uid})),i$1.forEach(A$2=>{this._emitTopicLeft(e$1,A$2.user,A$2.meta)})})}_removeAllRtcListeners(){this._rtcClient.off(`connection-state-change`,this._handleConnectionStateChange),this._rtcClient.off(`published-user-list`,this._handleUserPublishedList),this._rtcClient.off(`user-published`,this._handleUserPublished),this._rtcClient.off(`user-unpublished`,this._handleUserUnPublished),this._rtcClient.off(`token-privilege-will-expire`,this._handleTokenPrivilegeWillExpire),this._rtcClient.off(`user-joined`,this._handleUserJoined),this._rtcClient.off(`user-left`,this._handlerUserLeft)}_addAllRtcListeners(){this._rtcClient.on(`connection-state-change`,this._handleConnectionStateChange),this._rtcClient.on(`published-user-list`,this._handleUserPublishedList),this._rtcClient.on(`user-published`,this._handleUserPublished),this._rtcClient.on(`user-unpublished`,this._handleUserUnPublished),this._rtcClient.on(`token-privilege-will-expire`,this._handleTokenPrivilegeWillExpire),this._rtcClient.on(`user-joined`,this._handleUserJoined),this._rtcClient.on(`user-left`,this._handlerUserLeft)}async _handleReceivedDcs(A,e,t){let g=new Map;for(let e$1=0;e$1<A.length;e$1++){var o;let{user:t$1,config:I,dc:i$1}=A[e$1],r=I?.metadata;if(r===void 0){this.log(`meta of datachannel is invalid. user(${t$1}), channel(${this._channelName}), dc(${I})`);continue}let n=t$1.uid.toString(),C=this._decodeMetadata(r),E=C.topic,s=C.metadata,B=I?.id;g.has(E)||g.set(E,[]),(o=g.get(E))==null||o.push({publisherUserId:n,publisherMeta:s}),this._addOrUpdateRemoteDc(E,n,t$1,s,B,i$1);let a=this._remoteTopics.get(E);a!=null&&a.getPreSubscribedUsers().includes(n)&&await this._handlePreSubscribeTopic(E,n)}this._emitTopic(e,t,g)}_emitTopic(A,e,t){let g=this._getInitTopicEventData(e,this._channelName,A,t.size);t.forEach((A$1,e$1)=>{g.topicInfos.push({publishers:A$1,topicName:e$1,totalPublisher:A$1.length})}),g.topicInfos.length===0&&this.log(`length of topicInfos is 0 in emitTopic.`),this._emitRtmEvent(`topic`,g);let o={};t.forEach((A$1,e$1)=>{o[e$1]={publishers:A$1,publisherCount:A$1.length}}),this._reportTopicUpdate(e,o)}_getInitTopicEventData(A,e,t,g){return{eventType:A,channelName:e,publisher:t,topicInfos:[],totalTopics:g,timestamp:getUTCTimeBaseREG(this._context.offsetTime)}}_userIdToRTCRemoteUser(A){return{uid:typeof this._context.userId==`number`?parseInt$2(A):A,hasAudio:!1,hasVideo:!1,dataChannels:[]}}_addOrUpdateRemoteDc(A,e,t,g,o,I){if(!this._remoteTopics.has(A)){let e$1=new RemoteTopic(this._context,this.logger,A,this._channelName,this._emitTopicMessage);this._remoteTopics.set(A,e$1)}let i$1=this._remoteTopics.get(A);i$1.getUsers().has(e)?i$1.updateUserDatachannelInfo(e,{meta:g,id:o,user:t}):i$1.addUserWithDc(e,{subscribedState:`UNSUBSCRIBE`,meta:g,id:o,datachannel:I,user:t})}_deleteRemoteDc(A,e){let t=this._remoteTopics.get(A);t?.removeUser(e),t?.getUsers().size===0&&this._remoteTopics.delete(A)}_decodeMetadata(A){return TopicMetadata.decode(new TextEncoder().encode(A))}async _handlePreSubscribeTopic(A,e){let t=this._remoteTopics.get(A),g=t?.getUsers().get(e);if(!g)return void this.log(`handlePreSubscribeTopic failed. remoteDcInfo is undefined. topicName: ${A}, userId: ${replaceRangeWithAsterisk(e)}`);let{id:o,user:I}=g,i$1=await fromPromise(this._rtcClient.subscribe(I||this._userIdToRTCRemoteUser(e),`datachannel`,o),A$1=>A$1);if(i$1.isErr()){var r;let t$1=i$1==null||(r=i$1.error)==null?void 0:r.code;this.log(`subscribe predictive user(${replaceRangeWithAsterisk(e)}) in topic(${A}) failed, code is ${t$1}`)}if(i$1.isOk()){let g$1=i$1.value;this.log(`pre-subtopic ${this._channelName}(${A}) succeed.`),t?.handleSubscription(g$1,e)}}async _patchSubscribeTopic(A,e){var t;let g={succeedUsers:[],failedUsers:[],failedDetails:[],timestamp:0,topicName:A},o=this._remoteTopics.get(A),I=64-(o?.getAllSubscribedUserCount()??0),i$1=shuffle$1(e).filter((e$1,t$1)=>(t$1+1>I&&(g.failedDetails.push({user:e$1,errorCode:SubscribeTopicErrorCode.SUB_USER_EXCEED_LIMITATION,timestamp:0,topicName:A}),g.failedUsers.push(e$1)),t$1+1<=I));return this.log(`subscribe topic(%s) users: %o`,A,i$1.map(A$1=>replaceRangeWithAsterisk(A$1))),(await Promise.all(i$1.map(e$1=>{let t$1=o?.getUsers().get(e$1);if(!t$1)throw this.warn(`subscribe topic(${A})-user(${replaceRangeWithAsterisk(e$1)}) failed, user not in remoteTopic users.`),Error();let{id:g$1,user:I$1}=t$1;return fromPromise(this._rtcClient.subscribe(I$1||this._userIdToRTCRemoteUser(e$1),`datachannel`,g$1),A$1=>A$1)}))).map((A$1,e$1)=>({userId:i$1[e$1],result:A$1})).forEach(e$1=>{if(e$1.result.isErr()){var t$1,I$1;let o$1=e$1.result.error?.code,i$2=SubscribeTopicErrorCode.UNKNOWN_ERROR;g.failedDetails.push({user:e$1.userId,errorCode:i$2,reason:`Subscribe topic failure, web_rtc code is ${o$1}, the reason of web_rtc is that ${e$1==null||(I$1=e$1.result)==null||(I$1=I$1.error)==null?void 0:I$1.toString()}`,timestamp:0,topicName:A}),g.failedUsers.push(e$1.userId),this.warn(e$1.result,`WEB_RTCerror`),this.log(`subscribe user(${e$1.userId}) in topic(${A}) failed, code is ${o$1}`)}else{g.succeedUsers.push(e$1.userId);let t$2=e$1.result.value;this.log(`subtopic ${this._channelName}(${A}) succeed.`),o?.handleSubscription(t$2,e$1.userId)}}),g}_clearLocalCache4topic(){this._localTopics=new Map,this._remoteTopics=new Map}_checkIsJoinedChannel(A){if(!this._isJoinedChannel||this._linkState!==`CONNECTED`){this.warn(`${this._channelName} have not joined stream channel when ${A}`);let{code:e,reason:t}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_NOT_JOINED);throw new RtmUnavailableError(A,[t],e)}}_updatePrivateSettings(){let A=this._context.rtmConfig.privateConfig;if(A!=null&&A.accessPointHosts){var e;let t=A.logUploadHosts,g=A.eventUploadHosts,o=443,I=getPrivateSettingsPortAndDomains(A.accessPointHosts);this._rtcClient.setLocalAccessPointsV2({accessPoints:{serverList:I.hostname,domain:`edge.`+sample$1(A.originDomains??[`agora.io`]),port:I.port},log:t?_objectSpread2({},getPrivateSettingsPortAndDomains(t,443)):void 0,report:g?_objectSpread2({},getPrivateSettingsPortAndDomains(g,443)):void 0})}else A&&this.warn(`use private settings but apHosts is set to empty`)}_updateLinkState(A,e,t){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:``;if(this._linkState===A)return;this._privatePermitUseMessageChn&&this._context.sendReport(`LinkStateChange`,{elapse:getElapse(this._context.startTime),lts:Long$1.fromNumber(Date.now()),reason:LinkStateChangeReason4Report[t],sid:getSid(this._context.instanceId||Long$1.fromNumber(0)),vid:Long$1.fromString(getParameter(`VID`).get(this._context.appId)||`0`),userid:this._context.uid,currentState:linkStateCodeMap[A],previousState:linkStateCodeMap[this._linkState],operation:linkOperationCodeMap[e],serviceType:1,streamChannelName:this._channelName}),A!==`FAILED`&&A!==`IDLE`||(this._firstSnapshot4topic=!0);let o={currentState:A,previousState:this._linkState,serviceType:`STREAM`,operation:e,reason:g,reasonCode:t,affectedChannels:[this._channelName],unrestoredChannels:[],timestamp:getUTCTimeBaseREG(this._context.offsetTime),isResumed:A===`CONNECTED`&&this._isJoinedChannel};this._linkState=A,this._emitRtmEvent(`linkState`,o)}async _subscribe(A){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],t=OperationName.join,g=handleJoinOptionsAsDefault(A),o=getRandomInt(0,2**53-1),{code:I,reason:i$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_FAILED),r=this._context.notInChannel(this._prefixChannelName),n=this._context.getChannelLastSubOrJoinOptions(this._prefixChannelName);this._context.setLastSubOrJoinOptionsCache(this._prefixChannelName,g);try{await Promise.all([this._updateOptionsReJoinOrSub(this._prefixChannelName,r,n,A,e)])}catch(A$1){throw new RtmUnknownError(t,[i$1+A$1],I)}finally{var C;(C=this._context)==null||C.reportChnJoin(this._prefixChannelName,n,g,o)}}_localLeave(){this._isJoinedChannel=!1,this._joinedAndSubscribed=!1,this._removeAllRtcListeners(),this._clearLocalCache4topic(),this._context.internalEmitter.emit(`stream-channel-leaved`,this._channelName)}async _fusionSdkJoin(){let A={channelName:this._channelName,state:`CONNECTING`,reason:`OK`,timestamp:getUTCTimeBaseREG(this._context.offsetTime)};this._emitRtmEvent(`status`,A),await this._rtcClient.setRTMConfig({apRTM:!0,rtmFlag:1}),this._isJoinedChannel=!0;let e={channelName:this._channelName,state:`CONNECTED`,reason:`OK`,timestamp:getUTCTimeBaseREG(this._context.offsetTime)};this._emitRtmEvent(`status`,e),this._handleUserPublishedList(this._rtcClient.remoteUsers)}async _fusionSdkLeave(){let A={channelName:this._channelName,state:`DISCONNECTING`,reason:`LEAVE`,timestamp:getUTCTimeBaseREG(this._context.offsetTime)};this._emitRtmEvent(`status`,A),await this._rtcClient.setRTMConfig({apRTM:!0,rtmFlag:0}),this._isJoinedChannel=!1;let e={channelName:this._channelName,state:`DISCONNECTED`,reason:`LEAVE`,timestamp:getUTCTimeBaseREG(this._context.offsetTime)};this._emitRtmEvent(`status`,e)}_validateSessionExist(A){if(this._getRTMSession()===void 0){let{code:e,reason:t}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_CONNECTED);throw new RtmInvalidStatusError(A,[t],e)}}_handleJoinFailedState(A){if(typeof A==`string`)return void this._updateLinkState(`FAILED`,`JOIN`,`JOIN_FAILED`,A);if(A===RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_CANCELED)return;let e=LinkStateChangeReasonDescription.JOIN_FAILED,t=`JOIN_FAILED`;switch(A){case RTMErrorCode.RTM_ERROR_CHANNEL_INSTANCE_EXCEED_LIMITATION:e=LinkStateChangeReasonDescription.CHANNEL_INSTANCE_EXCEED_LIMITATION,t=`CHANNEL_INSTANCE_EXCEED_LIMITATION`;break;case RTMErrorCode.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION:e=LinkStateChangeReasonDescription.OPERATION_RATE_EXCEED_LIMITATION,t=`OPERATION_RATE_EXCEED_LIMITATION`;break;case RTMErrorCode.RTM_ERROR_INVALID_TOKEN:e=LinkStateChangeReasonDescription.INVALID_TOKEN,t=`INVALID_TOKEN`;break;case RTMErrorCode.RTM_ERROR_INCONSISTENT_APPID:e=LinkStateChangeReasonDescription.INCONSISTENT_APP_ID,t=`INCONSISTENT_APP_ID`;break;case RTMErrorCode.RTM_ERROR_DUPLICATE_OPERATION:case RTMErrorCode.RTM_ERROR_NOT_CONNECTED:case RTMErrorCode.RTM_ERROR_NOT_CONNECTED:e=LinkStateChangeReasonDescription.CHANNEL_IN_ERROR_STATE,t=`CHANNEL_IN_ERROR_STATE`;break;case RTMErrorCode.RTM_ERROR_LOCK_NOT_AVAILABLE:e=LinkStateChangeReasonDescription.LOCK_NOT_AVAILABLE,t=`LOCK_NOT_AVAILABLE`;break;case RTMErrorCode.RTM_ERROR_STORAGE_NOT_AVAILABLE:e=LinkStateChangeReasonDescription.STORAGE_NOT_AVAILABLE,t=`STORAGE_NOT_AVAILABLE`;break;case RTMErrorCode.RTM_ERROR_CHANNEL_NOT_AVAILABLE:e=LinkStateChangeReasonDescription.STREAM_CHANNEL_NOT_AVAILABLE,t=`STREAM_CHANNEL_NOT_AVAILABLE`}this._updateLinkState(`FAILED`,`JOIN`,t,e)}async _validCancelJoin(A){if(this._linkState===`IDLE`){this._isReuseRtcClient,await this._rtcClient.leave(),this._context.config.cloudProxy&&this._rtcClient.stopProxyServer();let{code:e,reason:t}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_CANCELED);throw new RtmUnavailableError(A,[t],e)}}_validateJoinOptions(A,e){let t=getParameter(`STORAGE_CHANNEL_SUB_ENABLED`),g=(t===void 0?this._context.consoleConfig[`storage.channel_subscribe_enabled`]:String(t))===`true`;if(A!=null&&A.withMetadata&&!g){let{code:A$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_NOT_AVAILABLE);throw new RtmUnavailableError(e,[t$1],A$1)}let o=getParameter(`LOCK_ENABLED`),I=(o===void 0?this._context.consoleConfig[`lock.enabled`]:String(o))===`true`;if(A!=null&&A.withLock&&!I){let{code:A$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_NOT_AVAILABLE);throw new RtmUnavailableError(e,[t$1],A$1)}}_getSidAndElapse4Report(){return{sid:this._privatePermitUseMessageChn?getSid(this._context.instanceId||Long$1.fromNumber(0)):``,elapse:this._privatePermitUseMessageChn?getElapse(this._context.startTime):Long$1.fromNumber(0),opid:getRandomInt(0,2**53-1)}}_reportTopicUpdate(A,e){let t=JSON.stringify(e),{sid:g,elapse:o}=this._getSidAndElapse4Report();this._context.addReportEvents(`TopicUpdateEvent`,{sid:g,elapse:o,lts:getReportLts(),vid:Long$1.fromValue(this._context.vid||`0`),userId:this._context.uid,channelName:this._channelName,topicEventType:topicEventTypeMap[A],topicInfo:t})}}var _class$5;let StreamChannel=(_class$5=class extends EventBase{get _streamChannelImpl(){return this.streamChannelImpl}constructor(A,e,t,g,o,I,i$1,r,n,C){super(e,`StreamChannel`,!0,!0),_defineProperty$1(this,`streamChannelImpl`,void 0),this.streamChannelImpl=new StreamChannelImpl(A,e,t,g,o,I,i$1,r,n,C)}async join(A){return this.streamChannelImpl.join(A)}async renewStreamChannelToken(A){return this.streamChannelImpl.renewStreamChannelToken(A)}async leave(){return this.streamChannelImpl.leave()}async joinTopic(A,e){return this.streamChannelImpl.joinTopic(A,e)}async publishTopicMessage(A,e,t){return this.streamChannelImpl.publishTopicMessage(A,e,t)}async leaveTopic(A){return this.streamChannelImpl.leaveTopic(A)}async subscribeTopic(A,e){return this.streamChannelImpl.subscribeTopic(A,e)}async unsubscribeTopic(A,e){return this.streamChannelImpl.unsubscribeTopic(A,e)}getSubscribedUserList(A){return this.streamChannelImpl.getSubscribedUserList(A)}},_applyDecoratedDescriptor(_class$5.prototype,`join`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class$5.prototype,`join`),_class$5.prototype),_applyDecoratedDescriptor(_class$5.prototype,`leave`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class$5.prototype,`leave`),_class$5.prototype),_applyDecoratedDescriptor(_class$5.prototype,`joinTopic`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class$5.prototype,`joinTopic`),_class$5.prototype),_applyDecoratedDescriptor(_class$5.prototype,`publishTopicMessage`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class$5.prototype,`publishTopicMessage`),_class$5.prototype),_applyDecoratedDescriptor(_class$5.prototype,`leaveTopic`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class$5.prototype,`leaveTopic`),_class$5.prototype),_applyDecoratedDescriptor(_class$5.prototype,`subscribeTopic`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class$5.prototype,`subscribeTopic`),_class$5.prototype),_applyDecoratedDescriptor(_class$5.prototype,`unsubscribeTopic`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class$5.prototype,`unsubscribeTopic`),_class$5.prototype),_applyDecoratedDescriptor(_class$5.prototype,`getSubscribedUserList`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class$5.prototype,`getSubscribedUserList`),_class$5.prototype),_class$5);class PresenceImpl extends EventBase{constructor(A,e,t,g,o,I){super(A,`PresenceImpl`,!0),_defineProperty$1(this,`_context`,void 0),_defineProperty$1(this,`_getRTMSession`,void 0),_defineProperty$1(this,`_getRtmLinkState`,void 0),_defineProperty$1(this,`_requestChannelMemberList`,void 0),_defineProperty$1(this,`_getBackoffEventsMap`,void 0),_defineProperty$1(this,`_apiRateLimit`,new ApiRateLimiter),this._context=e,this._getRTMSession=genGetRTMSession(t),this._getRtmLinkState=g,this._getBackoffEventsMap=o,this._requestChannelMemberList=I}async _whoNowUseReg(A){let e=await this._requestChannelMemberList(A),t={totalOccupancy:e?.totalSize,occupants:[],nextPage:``,timestamp:getUTCTimeBaseREG(this._context.offsetTime)};return e.memberInfos.forEach(A$1=>{var e$1;t.occupants.push({userId:A$1.account??``,states:{},statesCount:0})}),t}async _requestWhoNow(A,e,t){let g=this._getRTMSession().getColl(A,!0,`requestWhoNow`),o=[];if(this.log(`${OperationName.whoNow} by crdt`),g){var I;(g?.Docs()??new Map).forEach((A$1,e$1)=>{let g$1=A$1.Get(),I$1=g$1[K_PRESENCE_EXPIRED];delete g$1[K_PRESENCE_EXPIRED],I$1||o.push({userId:e$1,states:t?g$1:{},statesCount:t?Object.keys(g$1).length:0})})}return{occupants:e?o:[],totalOccupancy:o.length,nextPage:``,timestamp:0}}async _requestRpcGetState(A,e){let t=this._getRTMSession(),g=Date.now(),o=this._context.incGetSeq(),I=0;try{t.validateSyncConnected(OperationName.presenceGetState);let g$1={start:e,end:``,keysOnly:!1,countOnly:!1,limit:1},[o$1]=await timeoutPromise(t.requestRpc(A,g$1),COMMON_REQUEST_TIMEOUT,OperationName.presenceGetState,RTMErrorCode.RTM_ERROR_PRESENCE_OPERATION_TIMEOUT),I$1={};return o$1.forEach((A$1,t$1)=>{if(t$1===e){try{I$1=JSON.parse(A$1)}catch(A$2){this.logError(`parse doc error: %o`,A$2)}delete I$1[K_PRESENCE_EXPIRED]}}),I$1}catch(A$1){let{serverCode:e$1,errorCode:t$1}=A$1;throw I=e$1??t$1,A$1}finally{this._reportRpcEvent(`getState`,{requestts:g,reqSeq:o,errCode:I,target:e})}}async _requestRPCWhoNow(A,e,t,g){let o=Date.now(),I=this._context.incGetSeq(),i$1=0;try{var r;let o$1=t&&!g,I$1=!t&&!g,i$2=Number(getParameter(`PRESENCE_THRESHOLD`)||this._context.consoleConfig?.[`presence.occupancy`])||0,n=I$1;I$1&&e&&this.warn(`countOnly and page is not compatible. page of param will be ignored.`);let C={start:n?``:atob(e),end:``,keysOnly:o$1,countOnly:I$1,limit:n?0:i$2,startIncluded:!e,endIncluded:!0,ignoreExpired:!0},[E,s,B]=await timeoutPromise(this._getRTMSession().requestRpc(A,C),COMMON_REQUEST_TIMEOUT,OperationName.whoNow,RTMErrorCode.RTM_ERROR_PRESENCE_OPERATION_TIMEOUT),a=[],Q={timestamp:0,occupants:a,nextPage:``,totalOccupancy:s};if(I$1)return Q;{let A$1=``;if(o$1)E.forEach(e$1=>{a.push({userId:e$1,states:{},statesCount:0}),a.length===E.length&&B&&(A$1=e$1)});else{let e$1=0;E.forEach((t$1,o$2)=>{let I$2={};try{I$2=JSON.parse(t$1)}catch(A$2){this.logError(`parse doc error: %o`,A$2)}I$2[K_PRESENCE_EXPIRED]?e$1++:(delete I$2[K_PRESENCE_EXPIRED],a.push({userId:o$2,states:g?I$2:{},statesCount:Object.keys(I$2).length}),a.length===E.size&&B&&(A$1=o$2))}),Q.totalOccupancy-=e$1}return B&&(Q.nextPage=btoa(A$1)),Q}}catch(A$1){let{serverCode:e$1,errorCode:t$1}=A$1;throw i$1=e$1??t$1,A$1}finally{this._reportRpcEvent(`whoNow`,{requestts:o,reqSeq:I,errCode:i$1,target:A})}}async _requestRpcWhereNow(A){let e=this._getRTMSession(),t=Date.now(),g=this._context.incGetSeq(),o=0;try{e.validateSyncConnected(OperationName.whereNow);let t$1=!1,g$1=!1,o$1=getGlobalPresenceString(this._context.vid)+`/`+A,I={start:o$1,end:``,keysOnly:!1,countOnly:!1,limit:1};this.log(`whereNow query options: %o`,I);let[i$1]=await timeoutPromise(e.requestRpc(K_GLOBAL_PRESENCE_COLLECTION,I),COMMON_REQUEST_TIMEOUT,OperationName.whereNow,RTMErrorCode.RTM_ERROR_PRESENCE_OPERATION_TIMEOUT,!0),r={channels:[],totalChannel:0,timestamp:0};return i$1.forEach((A$1,e$1)=>{if(e$1===o$1){let e$2=null;try{e$2=JSON.parse(A$1),this.log(`whereNow doc: %o`,e$2)}catch(A$2){e$2={},this.logError(`parse doc error: %o`,A$2)}let t$2=Object.keys(e$2).filter(A$2=>A$2[0]!==`_`);this.log(`whereNow channels: %o`,t$2),t$2.forEach(A$2=>{let{channelName:e$3,channelType:t$3}=getChannelDetailByName(A$2);r.channels.push({channelName:e$3,channelType:t$3})}),r.totalChannel=t$2.length}}),r}catch(A$1){if(A$1 instanceof RTMBaseError){let{serverCode:e$1,errorCode:t$1}=A$1;throw o=e$1??t$1,A$1}{let{reason:e$1,code:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_OPERATION_FAILED);throw new RtmUnavailableError(OperationName.whereNow,[e$1+String(A$1)],t$1)}}finally{this._reportRpcEvent(`whereNow`,{requestts:t,reqSeq:g,errCode:o,target:A})}}_reportRpcEvent(A,e){let{requestts:t,reqSeq:g,errCode:o,target:I}=e;this._context.addReportEvents(`SyncOperateEvent`,{lts:Long$1.fromNumber(Date.now()),ip:``,userid:this._context.uid,vid:Long$1.fromString(getParameter(`VID`).get(this._context.appId)||`0`),sid:this._context.sid,usersid:this._context.sid,requestts:Long$1.fromNumber(t),replyts:Long$1.fromNumber(Date.now()),target:I,eventtype:A,revision:Long$1.fromNumber(0),uuid:`${g}_${this._context.instanceId}`,sdktype:4,flags:Long$1.fromNumber(0),code:o,seq:g,index:{index1:this._context.uid,index2:this._context.appId,index3:`logUpload=${this._context.config.logUpload}`},lock:``,lockrev:Long$1.fromNumber(0),subtarget:this._context.uid,sdkip:``})}async _getOtherStateByRPC(A,e,t){let g=await this._requestRpcGetState(e,A);t.states=g,t.statesCount=Object.keys(g).length}_getStateByCrdt(A,e,t){var g;let o=this._getRTMSession(),I=OperationName.presenceGetState,i$1=o.getDocByUid(e,{funcName:`requestGetState`,uid:A});if(isNil$1(i$1)){let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_USER_NOT_EXIST);throw new RtmUnavailableError(I,[e$1],A$1)}let r=i$1?.Get()??{};delete r[K_PRESENCE_EXPIRED],t.statesCount=Object.keys(r).length,t.states=r}_getLocalState(A,e,t){let g={};this._getLocalStateCache().get(A)?.forEach((A$1,e$1)=>{g[e$1]=A$1}),this._logSdkStateInOperateState(e),t.states=g,t.statesCount=Object.keys(g).length}async whoNow(A,e,t){var g,o;let I=OperationName.whoNow,i$1=getChannelNameByType(A,e);if(this._context.enablePrivate&&((g=this._context.rtmConfig.privateConfig)==null||!g.serviceType.includes(`MESSAGE`))){let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_SERVICE_NOT_SUPPORTED);throw new RtmUnavailableError(I,e$1,A$1)}if(this._getBackoffEventsMap().has(i$1)&&e===`MESSAGE`){if(this._getRtmLinkState()!==`CONNECTED`){let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_CONNECTED);throw new RtmInvalidStatusError(I,[e$1],A$1)}return await this._whoNowUseReg(A)}this._apiRateLimit.canMakeOperation(`whoNow`),validateChannelType(I,e);let r=!1!==t?.includedUserId,n=!0===t?.includedState,C=t?.page??``;if(this._validateRtmConnection(I),validateKey(A,I,`channel`),!1===t?.includedUserId&&!0===t?.includedState){let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_INVALID_ARGUMENT);throw new RtmInvalidArgumentError(I,[e$1+`include uid is false but include state is true`],A$1)}let E=this._getRTMSession();return this._context.getChannelOptionsByKey(i$1,`withPresence`)?E.getColl(i$1)===null?await this._requestRPCWhoNow(i$1,C,r,n):await this._requestWhoNow(i$1,r,n):await this._requestRPCWhoNow(i$1,C,r,n)}async getOnlineUsers(A,e,t){try{return await this.whoNow(A,e,t)}catch(A$1){throw A$1 instanceof RTMBaseError&&(A$1.operation=OperationName.getOnlineUsers),A$1}}async whereNow(A){let e=OperationName.whereNow;return this._apiRateLimit.canMakeOperation(`whereNow`),this._validateRtmConnection(e),A===``&&(A=this._context.uid),validateKey(A,e,`uid`),await this._requestRpcWhereNow(A)}async getUserChannels(A){try{return await this.whereNow(A)}catch(A$1){throw A$1 instanceof RTMBaseError&&(A$1.operation=OperationName.getUserChannels),A$1}}async setState(A,e,t){let g=OperationName.presenceSetState;this._apiRateLimit.canMakeOperation(`modifyState`),validateChannelType(g,e),this._validateRtmConnection(g,!1),validateKey(A,g,`channel`);let o=getChannelNameByType(A,e),I=Object.keys(t).length,{states:i$1}=await this.getState(this._context.uid,A,e,!0),r=new Set([...Object.keys(i$1),...Object.keys(t)]).size;if(I===0){let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_INVALID_ARGUMENT);throw new RtmInvalidArgumentError(g,[e$1+`state of parameter is empty`],A$1)}if(I>32||r>32){let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_STATE_COUNT_OVERFLOW);throw new RtmLimitExceededError(g,[e$1],A$1)}if(this._getLocalStateCache().size>100){let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_CACHED_TOO_MANY_STATES);throw new RtmLimitExceededError(g,[e$1],A$1)}if(validStateOfPresence(t,g),this._needOperationByCrdt(o)){let A$1=this._getRTMSession();this.log(`${g} by crdt`),A$1.getDocByUid(o,{funcName:`requestSetState`})?.Set(t),A$1.sendTick()}return(this._needOperationByLocal()||this._context.getChannelOptionsByKey(o,`beQuiet`)||this._context.notInChannel(o))&&this._logSdkStateInOperateState(g),this._updatePresenceStateCache(o,g,t),{timestamp:0}}async getState(A,e,t){let g=arguments.length>3&&arguments[3]!==void 0&&arguments[3],o=OperationName.presenceGetState;if(g||this._apiRateLimit.canMakeOperation(`getState`),validateChannelType(o,t),this._context.uid!==A&&this._getRtmLinkState()===`FAILED`){let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_CONNECTED);throw new RtmInvalidStatusError(o,[e$1],A$1)}this._validateRtmConnection(o,this._context.uid!==A),validateKey(e,o,`channel`),validateKey(A,o,`uid`);let I=getChannelNameByType(e,t),i$1={statesCount:0,states:{},userId:A,timestamp:0};return this._context.notInChannel(I)?A===this._context.uid?(this.log(`not in channel, get self state by local cache`),this._getLocalState(I,o,i$1)):(this.log(`not in channel, get other state by rpc api.`),await this._getOtherStateByRPC(A,I,i$1)):this._context.isInChannel(I)&&(A===this._context.uid?this._needOperationByCrdt(I)?(this.log(`in channel, has doc, get self state by crdt`),this._getStateByCrdt(this._context.uid,I,i$1)):A===this._context.uid&&(this.log(`in channel, get self state by local cache`),this._getLocalState(I,o,i$1)):this._context.getChannelOptionsByKey(I,`withPresence`)?(this.log(`in channel with presence, get other state by crdt`),this._getRTMSession().validateSyncConnected(OperationName.presenceGetState),this._getStateByCrdt(A,I,i$1)):(this.log(`in channel without presence, get other state by rpc api.`),await this._getOtherStateByRPC(A,I,i$1))),i$1}async removeState(A,e,t){var g,o,I,i$1,r,n,C;let E=OperationName.presenceRemoveState;this._apiRateLimit.canMakeOperation(`modifyState`),validateChannelType(E,e),this._validateRtmConnection(E,!1),validateKey(A,E,`channel`);let s=!(t!=null&&(g=t.states)!=null&&g.length);if(!s&&t!=null&&(o=t.states)!=null&&o.length&&new Set(t.states).size!==t.states?.length){let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_STATE_DUPLICATE_KEY);throw new RtmInvalidArgumentError(E,[e$1],A$1)}if(((t==null||(r=t.states)==null?void 0:r.length)??0)>32){let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_STATE_COUNT_OVERFLOW);throw new RtmLimitExceededError(E,[e$1],A$1)}t==null||(n=t.states)==null||n.forEach(A$1=>{validStateKeyOfPresence(A$1,E)});let B=getChannelNameByType(A,e),a={};if(t==null||(C=t.states)==null||C.forEach(A$1=>{a[A$1]=``}),this._needOperationByCrdt(B)){var Q;this.log(`${E} by crdt. isClear: ${s}`);let A$1=this._getRTMSession(),e$1=A$1.getDocByUid(B,{funcName:`requestRemoveState`}),t$1=e$1?.Get()??{};e$1?.Del(Object.keys(s?t$1:a)),A$1.sendTick()}return(this._needOperationByLocal()||this._context.getChannelOptionsByKey(B,`beQuiet`)||this._context.notInChannel(B))&&this._logSdkStateInOperateState(E),this._updatePresenceStateCache(B,E,a),{timestamp:0}}_validateRtmConnection(A){var e;let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(this._context.enablePrivate&&((e=this._context.rtmConfig.privateConfig)==null||!e.serviceType.includes(`MESSAGE`))){let{code:e$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_SERVICE_NOT_SUPPORTED);throw new RtmUnavailableError(A,t$1,e$1)}let g=this._getRtmLinkState();if(g===`IDLE`||t&&g!==`CONNECTED`){this.log(`The client state is ${g}, cannot do the operation(${A})`);let{code:e$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_CONNECTED);throw new RtmInvalidStatusError(A,[t$1],e$1)}t&&this._getRTMSession().validateSyncConnected(A)}_needOperationByLocal(){var A;let e=this._getRtmLinkState();return e!==`IDLE`&&e!==`CONNECTED`||!!this._noRTMSession()||!((A=this._getRTMSession())!=null&&A.getSyncConnected()||!getParameter(`DECOUPLE_SYNC`))}_needOperationByCrdt(A){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._context.uid;return!this._noRTMSession()&&!!this._getRTMSession().getDocByUid(A,{funcName:`needOperationByCrdt`,uid:e})}_getLocalStateCache(){return this._context.localStateCache}_updatePresenceStateCache(A,e,t){var g;let o=this._getLocalStateCache().get(A)??new Map;if(e===OperationName.presenceSetState)for(let A$1 in t)o.set(A$1,t[A$1]);else if(e===OperationName.presenceRemoveState)if(Object.keys(t).length===0)o.clear();else for(let A$1 in t)o.delete(A$1);this._getLocalStateCache().set(A,o)}_noRTMSession(){try{this._getRTMSession()}catch(A){let{errorCode:e}=A;if(e===RTMErrorCode.RTM_ERROR_NOT_CONNECTED)return!0}return!1}_logSdkStateInOperateState(A){var e;let t=!this._noRTMSession()&&this._getRTMSession()?.getSyncConnected();this.log(`reconnecting, quiet or not in channel, ${A} by local cache. decouple: ${getParameter(`DECOUPLE_SYNC`)}, syncConnected: ${t}`)}}var _class$4;let Presence=(_class$4=class extends EventBase{constructor(A,e,t,g,o,I){super(A,`Presence`,!0,!0),_defineProperty$1(this,`presenceImpl`,void 0),this.presenceImpl=new PresenceImpl(A,e,t,g,o,I)}async whoNow(A,e,t){return await this.presenceImpl.whoNow(A,e,t)}async getOnlineUsers(A,e,t){return await this.presenceImpl.getOnlineUsers(A,e,t)}async whereNow(A){return await this.presenceImpl.whereNow(A)}async getUserChannels(A){return await this.presenceImpl.getUserChannels(A)}async setState(A,e,t){return await this.presenceImpl.setState(A,e,t)}async getState(A,e,t){return await this.presenceImpl.getState(A,e,t)}async removeState(A,e,t){return await this.presenceImpl.removeState(A,e,t)}},_applyDecoratedDescriptor(_class$4.prototype,`whoNow`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class$4.prototype,`whoNow`),_class$4.prototype),_applyDecoratedDescriptor(_class$4.prototype,`getOnlineUsers`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class$4.prototype,`getOnlineUsers`),_class$4.prototype),_applyDecoratedDescriptor(_class$4.prototype,`whereNow`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class$4.prototype,`whereNow`),_class$4.prototype),_applyDecoratedDescriptor(_class$4.prototype,`getUserChannels`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class$4.prototype,`getUserChannels`),_class$4.prototype),_applyDecoratedDescriptor(_class$4.prototype,`setState`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class$4.prototype,`setState`),_class$4.prototype),_applyDecoratedDescriptor(_class$4.prototype,`getState`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class$4.prototype,`getState`),_class$4.prototype),_applyDecoratedDescriptor(_class$4.prototype,`removeState`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class$4.prototype,`removeState`),_class$4.prototype),_class$4);class LockImpl extends EventBase{get localAcquiredLocks(){return this._localAcquiredLocks}constructor(A,e,t,g){super(A,`LockImpl`,!0),_defineProperty$1(this,`_context`,void 0),_defineProperty$1(this,`_getRTMSession`,void 0),_defineProperty$1(this,`_validateRtmConnection`,void 0),_defineProperty$1(this,`_setOperationNoRes`,new Set),_defineProperty$1(this,`_removeOperationNoRes`,new Set),_defineProperty$1(this,`_releaseOperationNoRes`,new Set),_defineProperty$1(this,`_revokeOperationNoRes`,new Set),_defineProperty$1(this,`_acquireOperationNoRes`,new Map),_defineProperty$1(this,`_notifyAcquireRetryReject`,new Subject),_defineProperty$1(this,`_apiRateLimit`,new ApiRateLimiter),_defineProperty$1(this,`_localAcquiredLocks`,new Map),_defineProperty$1(this,`_notifyLockReAcquire`,new Subject),_defineProperty$1(this,`_lockSubscriptions`,{lockAcquires:new Map}),this._context=e,this._context.internalEmitter.on(`StateLockUpdate`,A$1=>{this._onLockUpdate(A$1)}),this._getRTMSession=genGetRTMSession(t),this._validateRtmConnection=g}hasLock(){let A=!1;return this._localAcquiredLocks.size>0&&this._localAcquiredLocks.forEach(e=>{e.size>0&&(A=!0)}),this._acquireOperationNoRes.size>0&&(A=!0),A}releaseLockModel(){this._clearLocalAcquiredLocks(),this._clearLockOperationsWithRetry()}notifyLockReAcquire(A){this._notifyLockReAcquire.next({env:A,allReAcquire:!0})}async setLock(A,e,t,g){let o=OperationName.setLock;this._apiRateLimit.canMakeOperation(`setLock`),validateChannelType(o,e),this._validateRtmConnection(o),this._validateEnableLock(o);let I={timestamp:0,channelName:A,channelType:e,lockName:t};this._validateChannelAndLock(A,t,o),g?.ttl!==void 0&&(g.ttl<getParameter(`LOCK_TTL`)?g.ttl=getParameter(`LOCK_TTL`):g.ttl>300&&(g.ttl=300));let i$1=getChannelNameByType(A,e),r=getPrefixLockName(t);this._setOperationNoRes.has(`${i$1}${r}`)&&this._throwInvalidOperationError(o),this._setOperationNoRes.add(`${i$1}${r}`);try{var n;await this._requestSetLock(i$1,t,{ttl:g?.ttl??getParameter(`LOCK_TTL`)}).toPromise()}catch(A$1){if(isRtmError(A$1)){if(this.logError(A$1),isNoLogged(A$1))throw A$1;if(isTimeout(A$1)){let{code:A$2,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_TIMEOUT);throw new RtmUnavailableError(o,[e$1],A$2)}if(A$1.code!=null){let{code:e$1,reason:t$1}=getErrorInfoByCode(A$1.code);throw new RtmUnavailableError(o,[t$1],e$1)}this.logError(`error code is undefined, %o`,A$1)}else this.logError(`not rtm error, %o`,A$1)}finally{this._setOperationNoRes.delete(`${i$1}${r}`)}return I}async removeLock(A,e,t){let g=OperationName.removeLock;this._apiRateLimit.canMakeOperation(`removeLock`),validateChannelType(g,e),this._validateRtmConnection(g),this._validateEnableLock(g);let o={timestamp:0,channelName:A,channelType:e,lockName:t};this._validateChannelAndLock(A,t,g);let I=getChannelNameByType(A,e),i$1=getPrefixLockName(t);this._removeOperationNoRes.has(`${I}${i$1}`)&&this._throwInvalidOperationError(g),this._removeOperationNoRes.add(`${I}${i$1}`);try{await this._requestRemoveLock(I,t).toPromise()}catch(A$1){if(isRtmError(A$1)){if(this.logError(A$1),isNoLogged(A$1))throw A$1;if(isTimeout(A$1)){let{code:A$2,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_TIMEOUT);throw new RtmUnavailableError(g,[e$1],A$2)}if(A$1.code!=null){let{code:e$1,reason:t$1}=getErrorInfoByCode(A$1.code);throw new RtmUnavailableError(g,[t$1],e$1)}this.logError(`error code is undefined, %o`,A$1)}else this.logError(`not rtm error, %o`,A$1)}finally{this._removeOperationNoRes.delete(`${I}${i$1}`)}return o}async acquireLock(A,e,t,g){var o,I;let i$1=OperationName.acquireLock;this._apiRateLimit.canMakeOperation(`acquireLock`),validateChannelType(i$1,e),this._validateRtmConnection(i$1),this._validateEnableLock(i$1),this._validateChannelAndLock(A,t,i$1);let r=getChannelNameByType(A,e),n=getPrefixLockName(t);if(this._localAcquiredLocks.get(r)?.get(t)){let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_PERFORMING);throw new RtmUnavailableError(i$1,[e$1],A$1)}let C,E;this._acquireOperationNoRes.has(`${r}${n}`)&&this._throwInvalidOperationError(i$1);let s=new Promise((A$1,e$1)=>{C=e$1,E=A$1});this._acquireOperationNoRes.set(`${r}${n}`,{retry:(I=g?.retry)!=null&&I,reqSeq:void 0,resolve:E,reject:C});try{await this._requestAcquireLock(r,t,{retry:g?.retry,reject:C,resolve:E}),E({lockName:t,channelName:A,channelType:e,timestamp:0})}catch(A$1){if(this.logError(A$1),isRtmError(A$1))throw A$1;this.logError(`acquireLock not match rtm error, %o`,A$1)}finally{this._acquireOperationNoRes.delete(`${r}${n}`)}return s}async releaseLock(A,e,t){var g,o;let I=OperationName.releaseLock;this._apiRateLimit.canMakeOperation(`releaseLock`),validateChannelType(I,e),this._validateRtmConnection(I),this._validateEnableLock(I);let i$1={timestamp:0,channelName:A,channelType:e,lockName:t};this._validateChannelAndLock(A,t,I);let r=getChannelNameByType(A,e),n=getPrefixLockName(t);if(!((g=this._acquireOperationNoRes.get(`${r}${n}`))!=null&&g.retry||(o=this._localAcquiredLocks.get(r))!=null&&o.get(t))){let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_NOT_ACQUIRED);throw new RtmUnavailableError(I,[e$1],A$1)}this._releaseOperationNoRes.has(`${r}${n}`)&&this._throwInvalidOperationError(I),this._releaseOperationNoRes.add(`${r}${n}`);try{await this._requestReleaseLock(r,t).toPromise()}catch(A$1){if(isRtmError(A$1)){if(this.logError(A$1),isNoLogged(A$1))throw A$1;if(isTimeout(A$1)){let{code:A$2,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_TIMEOUT);throw new RtmUnavailableError(I,[e$1],A$2)}if(A$1.code!=null){let{code:e$1,reason:t$1}=getErrorInfoByCode(A$1.code);throw new RtmUnavailableError(I,[t$1],e$1)}this.logError(`error code is undefined, %o`,A$1)}else this.logError(`not rtm error, %o`,A$1)}finally{this._releaseOperationNoRes.delete(`${r}${n}`)}return i$1}async revokeLock(A,e,t,g){let o=OperationName.revokeLock;this._apiRateLimit.canMakeOperation(`revokeLock`),validateChannelType(o,e),this._validateRtmConnection(o),this._validateEnableLock(o);let I={timestamp:0,channelName:A,channelType:e,lockName:t};this._validateChannelAndLock(A,t,o),validateKey(g,o,`uid`);let i$1=getChannelNameByType(A,e),r=getPrefixLockName(t);this._revokeOperationNoRes.has(`${i$1}${r}`)&&this._throwInvalidOperationError(o),this._revokeOperationNoRes.add(`${i$1}${r}`);try{await this._requestRevokeLock(i$1,t,g).toPromise()}catch(A$1){if(isRtmError(A$1)){if(this.logError(A$1),isNoLogged(A$1))throw A$1;if(isTimeout(A$1)){let{code:A$2,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_TIMEOUT);throw new RtmUnavailableError(o,[e$1],A$2)}if(A$1.code!=null){let{code:e$1,reason:t$1}=getErrorInfoByCode(A$1.code);throw new RtmUnavailableError(o,[t$1],e$1)}this.logError(`error code is undefined, %o`,A$1)}else this.logError(`not rtm error, %o`,A$1)}finally{this._revokeOperationNoRes.delete(`${i$1}${r}`)}return I}async getLock(A,e){let t=OperationName.getLock;this._apiRateLimit.canMakeOperation(`getLock`),validateChannelType(t,e),this._validateRtmConnection(t),this._validateEnableLock(t);let g={timestamp:0,totalLocks:0,lockDetails:[],channelName:A,channelType:e};validateKey(A,t,`channel`);let o=getChannelNameByType(A,e);try{let e$1=await this._requestGetLock(o).toPromise();g.totalLocks=e$1.length,g.lockDetails=e$1.map(A$1=>{var e$2,t$1,g$1,o$1;let I=null;try{A$1!=null&&A$1.lockState&&(I=JSON.parse(A$1.lockState))}catch(A$2){this.logError(`parse lockState error, %o`,A$2)}return{lockName:A$1.lockName??``,ttl:I?.create_ttl,owner:I?.user??``}})}catch(A$1){if(isRtmError(A$1)){if(this.logError(A$1),isNoLogged(A$1))throw A$1;if(isTimeout(A$1)){let{code:A$2,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_TIMEOUT);throw new RtmUnavailableError(t,[e$1],A$2)}if(A$1.code!=null){let{code:e$1,reason:g$1}=getErrorInfoByCode(A$1.code);throw new RtmUnavailableError(t,[g$1],e$1)}this.logError(`error code is undefined, %o`,A$1)}else this.logError(`not rtm error, %o`,A$1)}return g}async _requestAcquireLock(A,e,t){let g=OperationName.acquireLock,o=getPrefixLockName(e),I=t?.resolve,i$1=t?.reject,r=this._context.incGetSeq(),n=Long$1.fromNumber(Date.now());this._context.addReportEvents(`SyncLockAcquireEvent`,{code:0,target:A,lock:e,ttl:Long$1.fromNumber(0),flags:new Long$1(1048577,0,!0),uuid:``,lts:Long$1.fromNumber(Date.now()),vid:Long$1.fromString(this._context.vid||`0`),ip:``,userid:this._context.uid,sid:this._context.sid,lockrev:Long$1.fromNumber(0),leaseid:this._context.uid,eventtype:`Acquire`,sdktype:4,requestts:n,replyts:Long$1.fromNumber(Date.now()),usersid:this._context.sid,sdkip:``});let C=fromEvent(this,`lockReleasedOrExpired`).pipe(filter(e$1=>e$1===`${A}${o}`),take(1)),E=this._notifyLockReAcquire.pipe(filter(e$1=>e$1?.prefixChannelLockName===`${A}${o}`||!0===e$1?.allReAcquire),switchMap(C$1=>{var E$1,s$1;let B=!this._localAcquiredLocks.get(A)?.has(e)&&t?.retry,a=r;this._sendLockPacket(g,`StateLockAcquire`,{target:A,requestUuid:`${a}_${this._context.instanceId}`,lock:e,ttl:new Long$1(0,0,!0),flags:new Long$1(B?1310721:1048577,0,!0)},C$1.env),I&&i$1&&this._acquireOperationNoRes.set(`${A}${o}`,{retry:(s$1=t?.retry)!=null&&s$1,reqSeq:a,resolve:I,reject:i$1});let Q=t$1=>{let{code:o$1,target:I$1,lock:i$2,lockRev:r$1,reason:n$1}=t$1,{code:C$2,reason:E$2}=convertLockServerCodeToSdkCode(o$1);if(C$2!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(g,[E$2],C$2);return this._updateLocalAcquiredLocks(A,e,`add`,r$1.toNumber()),{target:I$1,lock:i$2,lockRev:r$1,reason:n$1,code:o$1}},c=t$1=>{var g$1;let{lock:o$1,code:I$1,target:i$2,lockRev:r$1,eventReportInfo:C$2}=t$1;this.log(`acquire lock with lock(${e}), channel: ${replaceRangeWithAsterisk(A)}, retry: ${B}, serverCode is ${I$1}`);let{code:E$2}=convertLockServerCodeToSdkCode(I$1);this._context.addReportEvents(`SyncLockAcquireEvent`,{code:E$2,target:i$2,lock:e,ttl:Long$1.fromNumber(0),flags:new Long$1(B?1310721:1048577,0,!0),uuid:``,lts:Long$1.fromNumber(Date.now()),vid:Long$1.fromString(this._context.vid||`0`),ip:C$2?.ip??``,userid:this._context.uid,sid:this._context.sid,lockrev:r$1,leaseid:this._context.uid,eventtype:`AcquireResult`,sdktype:4,requestts:n,replyts:Long$1.fromNumber(Date.now()),usersid:this._context.sid,sdkip:``}),E$2!==RTMErrorCode.RTM_ERROR_OK||o$1===e&&i$2===A||(this.log(`RTM service Error: acquired unexpected lock on channel '%s', lock '%s', member '%s'`,replaceRangeWithAsterisk(A),replaceRangeWithAsterisk(o$1),replaceRangeWithAsterisk(this._context.uid||``)),this._requestReleaseLock(i$2,o$1).toPromise()),this._clearReAcquireEffect(A,e,{lockRev:r$1,code:I$1})};return B?this._onOperationPacket(`StateLockAcquireResult`).pipe(first(A$1=>{let{requestUuid:e$1}=A$1;return`${a}_${this._context.instanceId}`===e$1}),tap(()=>{this._acquireOperationNoRes.delete(`${A}${o}`)}),tap(c),map$1(Q),takeUntil(this._notifyAcquireRetryReject.pipe(filter(e$1=>e$1===`${A}${o}`)))):race(genTimeoutError(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_TIMEOUT),this._onOperationPacket(`StateLockAcquireResult`).pipe(first(A$1=>{let{requestUuid:e$1}=A$1;return`${a}_${this._context.instanceId}`===e$1}),tap(()=>{this._acquireOperationNoRes.delete(`${A}${o}`)}),tap(c),map$1(Q)))}),takeUntil(C),share()),s=()=>{this._lockSubscriptions.lockAcquires.delete(A)};return this._lockSubscriptions.lockAcquires.set(A,E.subscribe({error:s,complete:s})),this._notifyLockReAcquire.next({env:void 0,prefixChannelLockName:`${A}${o}`}),await E.pipe(take(1),catchError(A$1=>(A$1 instanceof TimeoutError&&this.warn(`acquire channel lock timeout`),throwError(A$1)))).toPromise()}_requestSetLock(A,e,t){var g;let o=OperationName.setLock,I=this._context.incGetSeq();return this._sendLockPacket(o,`StateLockCreate`,{target:A,requestUuid:`${I}_${this._context.instanceId}`,lock:e,ttl:Long$1.fromNumber(t?.ttl??getParameter(`LOCK_TTL`)),flags:new Long$1(1048577,0,!0)}),race(genTimeoutError(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_TIMEOUT),this._onOperationPacket(`StateLockCreateResult`).pipe(first(A$1=>{let{requestUuid:e$1}=A$1;return`${I}_${this._context.instanceId}`===e$1}),map$1(A$1=>{let{code:e$1}=A$1,{code:t$1,reason:g$1}=convertLockServerCodeToSdkCode(e$1);if(t$1!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(o,[g$1],t$1)})))}_clearReAcquireEffect(A,e,t){var g;let{lockRev:o,code:I}=t,i$1=this._localAcquiredLocks.get(A)?.get(e);if(i$1&&i$1.revision!==o.toNumber()){this.log(`newRev: ${o}, rev: ${i$1?.revision}, code: ${I} for reacquire.`);let{channelName:t$1,channelType:g$1}=getChannelDetailByName(A),r={channelType:g$1,channelName:t$1,eventType:`EXPIRED`,lockName:e,ttl:0,publisher:``,snapshot:[],owner:``,timestamp:getUTCTimeBaseREG(this._context.offsetTime)};this._emitLockExpired(r),this._requestReleaseLock(A,e).toPromise()}}_requestReleaseLock(A,e){let t=OperationName.releaseLock,g=this._context.incGetSeq(),o=Long$1.fromNumber(Date.now());return this._context.addReportEvents(`SyncLockReleaseEvent`,{code:0,target:A,lock:e,flags:new Long$1(1048577,0,!0),uuid:``,lts:Long$1.fromNumber(Date.now()),vid:Long$1.fromString(this._context.vid||`0`),ip:``,userid:this._context.uid,sid:this._context.sid,leaseid:this._context.uid,eventtype:`Release`,sdktype:4,requestts:o,replyts:Long$1.fromNumber(Date.now()),usersid:this._context.sid,sdkip:``}),this._sendLockPacket(t,`StateLockRelease`,{target:A,requestUuid:`${g}_${this._context.instanceId}`,lock:e,flags:new Long$1(1048577,0,!0)}),race(genTimeoutError(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_TIMEOUT),this._onOperationPacket(`StateLockReleaseResult`).pipe(first(A$1=>{let{requestUuid:e$1}=A$1;return`${g}_${this._context.instanceId}`===e$1}),map$1(g$1=>{let{code:I}=g$1,{code:i$1,reason:r}=convertLockServerCodeToSdkCode(I);if(this._context.addReportEvents(`SyncLockReleaseEvent`,{code:i$1,target:A,lock:e,flags:new Long$1(1048577,0,!0),uuid:``,lts:Long$1.fromNumber(Date.now()),vid:Long$1.fromString(this._context.vid||`0`),ip:``,userid:this._context.uid,sid:this._context.sid,leaseid:this._context.uid,eventtype:`ReleaseResult`,sdktype:4,requestts:o,replyts:Long$1.fromNumber(Date.now()),usersid:this._context.sid,sdkip:``}),i$1!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(t,[r],i$1);{let t$1={channelName:A,lockName:e};this._updateLocalAcquiredLocks(A,e,`delete`),this.emit(`lockReleasedOrExpired`,`${t$1.channelName}${getPrefixLockName(t$1.lockName)}`)}})))}_requestRemoveLock(A,e){let t=OperationName.removeLock,g=this._context.incGetSeq();return this._sendLockPacket(t,`StateLockDelete`,{target:A,lock:e,requestUuid:`${g}_${this._context.instanceId}`,flags:new Long$1(1048577,0,!0)}),race(genTimeoutError(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_TIMEOUT),this._onOperationPacket(`StateLockDeleteResult`).pipe(first(A$1=>{let{requestUuid:e$1}=A$1;return`${g}_${this._context.instanceId}`===e$1}),map$1(A$1=>{let{code:e$1}=A$1,{code:g$1,reason:o}=convertLockServerCodeToSdkCode(e$1);if(g$1!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(t,[o],g$1)})))}_requestRevokeLock(A,e,t){let g=OperationName.revokeLock,o=this._context.incGetSeq(),I=Long$1.fromNumber(Date.now());return this._context.addReportEvents(`SyncLockDisableEvent`,{code:0,target:A,lock:e,flags:new Long$1(1048577,0,!0),uuid:``,lts:Long$1.fromNumber(Date.now()),vid:Long$1.fromString(this._context.vid||`0`),ip:``,userid:this._context.uid,sid:this._context.sid,leaseid:t,eventtype:`Disable`,sdktype:4,requestts:I,replyts:Long$1.fromNumber(Date.now()),usersid:this._context.sid,sdkip:``}),this._sendLockPacket(g,`StateLockDisable`,{target:A,requestUuid:`${o}_${this._context.instanceId}`,lock:e,userId:t,flags:new Long$1(1048577,0,!0)}),race(genTimeoutError(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_TIMEOUT),this._onOperationPacket(`StateLockDisableResult`).pipe(first(A$1=>{let{requestUuid:e$1}=A$1;return`${o}_${this._context.instanceId}`===e$1}),map$1(o$1=>{let{code:i$1}=o$1,{code:r,reason:n}=convertLockServerCodeToSdkCode(i$1);if(this._context.addReportEvents(`SyncLockDisableEvent`,{code:r,target:A,lock:e,flags:new Long$1(1048577,0,!0),uuid:``,lts:Long$1.fromNumber(Date.now()),vid:Long$1.fromString(this._context.vid||`0`),ip:``,userid:this._context.uid,sid:this._context.sid,leaseid:t,eventtype:`DisableResult`,sdktype:4,requestts:I,replyts:Long$1.fromNumber(Date.now()),usersid:this._context.sid,sdkip:``}),r!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(g,[n],r)})))}_requestGetLock(A){let e=OperationName.getLock,t=this._context.incGetSeq();return this._sendLockPacket(e,`StateLockList`,{target:A,sequence:t,flags:new Long$1(1048577,0,!0)}),race(genTimeoutError(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_TIMEOUT),this._onOperationPacket(`StateLockListResult`).pipe(first(A$1=>{let{sequence:e$1}=A$1;return t.eq(e$1)}),map$1(A$1=>{let{code:t$1,lockStates:g}=A$1,{code:o,reason:I}=convertLockServerCodeToSdkCode(t$1);if(o!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(e,[I],o);return g})))}_validateChannelAndLock(A,e,t){validateKey(A,t,`channel`),validateKey(e,t,`lock-name`)}_throwInvalidOperationError(A){let{code:e,reason:t}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_OPERATION_PERFORMING);throw new RtmUnavailableError(A,[t],e)}_sendLockPacket(A,e,t,g){g===void 0?this._getRTMSession().sendOperationPacket(A,e,t):this._sendLockPacketUseOneEnv(A,g,e,t)}_sendLockPacketUseOneEnv(A,e,t,g){this._getRTMSession().sendOperationPacketUseOneEnv(A,e,t,g)}_onOperationPacket(A){return this._getRTMSession().onOperationPacket(A)}_onLockUpdate(A){let{target:e,flags:t,code:g,lock:o}=A,{channelName:I,channelType:i$1}=getChannelDetailByName(e);if(this._context.addReportEvents(`SyncLockUpdateEvent`,{vid:Long$1.fromValue(this._context.vid||`0`),code:g,sid:this._context.sid,lts:Long$1.fromNumber(Date.now()),userid:this._context.uid,replyts:Long$1.fromNumber(Date.now()),target:e,eventtype:g===SyncServerErrorCode.kLockWatching?`Watch`:`Expire`,sdktype:4,flags:t,lock:o,usersid:this._context.sid,ip:``,sdkip:``}),g===SyncServerErrorCode.kLockWatching)this._onLockWatching({prefixChannelName:e,lockName:o});else if(g===SyncServerErrorCode.kLockExpired){let A$1={channelType:i$1,channelName:I,eventType:`EXPIRED`,lockName:o,ttl:0,publisher:``,snapshot:[],owner:``,timestamp:getUTCTimeBaseREG(this._context.offsetTime)};this._emitLockExpired(A$1)}}_onLockWatching(A){let{prefixChannelName:e,lockName:t}=A;this.info(`lock is watching: ${e}${getPrefixLockName(t)}`)}_emitLockExpired(A){var e;let t=getChannelNameByType(A.channelName,A.channelType);(e=this._localAcquiredLocks.get(t))!=null&&e.get(A.lockName)&&(this._context.internalEmitter.emit(`lock`,_objectSpread2(_objectSpread2({},A),{},{ttl:0})),this.emit(`lockReleasedOrExpired`,`${t}${getPrefixLockName(A.lockName)}`),this._updateLocalAcquiredLocks(t,A?.lockName,`delete`))}_updateLocalAcquiredLocks(A,e,t,g){var o;let I=this._localAcquiredLocks.get(A)??new Map;t===`delete`?I?.delete(e):(I.set(e,{revision:g}),this._localAcquiredLocks.set(A,I))}_validateEnableLock(A){let e=getParameter(`LOCK_ENABLED`);if((e===void 0?this._context.consoleConfig[`lock.enabled`]:String(e))!==`true`){let{code:e$1,reason:t}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_NOT_AVAILABLE);throw new RtmUnavailableError(A,[t],e$1)}}_clearLocalAcquiredLocks(){this._localAcquiredLocks.clear()}_clearLockOperationsWithRetry(){this._acquireOperationNoRes.forEach((A,e)=>{let{reject:t}=A,{code:g,reason:o}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_ACQUIRE_FAILED);t&&t(new RtmUnavailableError(OperationName.acquireLock,[o],g)),this._notifyAcquireRetryReject.next(e),this.emit(`lockReleasedOrExpired`,e)}),this._acquireOperationNoRes.clear()}}var _class$3;let Lock=(_class$3=class extends EventBase{constructor(A,e,t,g){super(A,`Lock`,!0,!0),_defineProperty$1(this,`lockImpl`,void 0),this.lockImpl=new LockImpl(A,e,t,g)}async setLock(A,e,t,g){return await this.lockImpl.setLock(A,e,t,g)}async removeLock(A,e,t){return await this.lockImpl.removeLock(A,e,t)}async acquireLock(A,e,t,g){return await this.lockImpl.acquireLock(A,e,t,g)}async releaseLock(A,e,t){return await this.lockImpl.releaseLock(A,e,t)}async revokeLock(A,e,t,g){return await this.lockImpl.revokeLock(A,e,t,g)}async getLock(A,e){return await this.lockImpl.getLock(A,e)}},_applyDecoratedDescriptor(_class$3.prototype,`setLock`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class$3.prototype,`setLock`),_class$3.prototype),_applyDecoratedDescriptor(_class$3.prototype,`removeLock`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class$3.prototype,`removeLock`),_class$3.prototype),_applyDecoratedDescriptor(_class$3.prototype,`acquireLock`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class$3.prototype,`acquireLock`),_class$3.prototype),_applyDecoratedDescriptor(_class$3.prototype,`releaseLock`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class$3.prototype,`releaseLock`),_class$3.prototype),_applyDecoratedDescriptor(_class$3.prototype,`revokeLock`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class$3.prototype,`revokeLock`),_class$3.prototype),_applyDecoratedDescriptor(_class$3.prototype,`getLock`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class$3.prototype,`getLock`),_class$3.prototype),_class$3);var StatePrefixEnum=function(A){return A.STATE_REVISION_KEY_PREFIX=`_rev_`,A.STATE_TIMESTAMP_PREFIX=`_t_`,A.STATE_AUTHOR_PREFIX=`_m_`,A.STATE_REVISION=`_rev`,A.STATE_INTERNAL_PREFIX=`_`,A}(StatePrefixEnum||{}),_class$2;class MetadataItem{constructor(A){var e,t,g,o,I;_defineProperty$1(this,`key`,void 0),_defineProperty$1(this,`value`,void 0),_defineProperty$1(this,`revision`,void 0),_defineProperty$1(this,`updateTs`,void 0),_defineProperty$1(this,`authorUserId`,void 0),this.key=A?.key??``,this.value=A?.value??``,this.revision=A?.revision??-1,this.updateTs=A?.updateTs??0,this.authorUserId=A?.authorUserId??``}setKey(A){if(typeof A!=`string`){let{code:A$1,reason:e}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_KEY);throw new RtmInvalidArgumentError(OperationName.storage,[e],A$1)}this.key=A,this.key=A}getKey(){if(typeof this.key==`string`)return this.key;throw new RtmInternalError(`Cannot get MetaDataItem key`)}setValue(A){if(typeof A!=`string`&&!isNull$2(null)){let{code:A$1,reason:e}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_VALUE);throw new RtmInvalidArgumentError(OperationName.storage,[e],A$1)}this.value=A}getValue(){if(typeof this.value==`string`||isNull$2(null))return this.value;throw new RtmInternalError(`Cannot get MetaDataItem value`)}setRevision(A){if(typeof A!=`number`||A%1!=0){let{code:A$1,reason:e}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_INVALID_REVISION);throw new RtmInvalidArgumentError(OperationName.storage,[e],A$1)}this.revision=A}getRevision(){if(typeof this.revision==`number`)return this.revision;throw new RtmInternalError(`Cannot get MetaDataItem revision`)}getUpdateTs(){return this.updateTs}getAuthorUserId(){return this.authorUserId}}function getRequestInfo(A,e){let t={[StatePrefixEnum.STATE_REVISION]:e!==void 0&&e>=0?e:void 0};for(let e$1=0;e$1<A.length;e$1++){let g=A[e$1];t[g.getKey()]=g.getValue(),t[`${StatePrefixEnum.STATE_REVISION_KEY_PREFIX}${g.getKey()}`]=g.getRevision()>=0||g.getRevision()===-2?g.getRevision():void 0}return omitBy$1(t,isUndefined$2)}function covertStateStringToMetaData(A){let e=JSON.parse(A),t={majorRevision:e[StatePrefixEnum.STATE_REVISION],items:[]},g=omit$1(e,StatePrefixEnum.STATE_REVISION);return t.items=Object.keys(g).filter(A$1=>A$1[0]!==`_`).map(A$1=>new MetadataItem({key:A$1,value:g[A$1],revision:g[`${StatePrefixEnum.STATE_REVISION_KEY_PREFIX}${A$1}`],updateTs:g[`${StatePrefixEnum.STATE_TIMESTAMP_PREFIX}${A$1}`],authorUserId:g[`${StatePrefixEnum.STATE_AUTHOR_PREFIX}${A$1}`]})),t}class StorageImpl extends EventBase{constructor(A,e,t,g,o,I,i$1){super(A,`StorageImpl`,!0),_defineProperty$1(this,`_context`,void 0),_defineProperty$1(this,`_localAcquiredLocks`,void 0),_defineProperty$1(this,`_channelMetaEventInfos`,void 0),_defineProperty$1(this,`_userMetaEventInfos`,void 0),_defineProperty$1(this,`_getRTMSession`,void 0),_defineProperty$1(this,`_validateRtmConnection`,void 0),_defineProperty$1(this,`_apiRateLimit`,new ApiRateLimiter),_defineProperty$1(this,`_notifyUserMetaReSub`,new Subject),_defineProperty$1(this,`_metadataSubscriptions`,{userMetadataSubs:new Map}),_defineProperty$1(this,`_userMetadataSub`,new Set),this._context=e,this._getRTMSession=genGetRTMSession(t),this._validateRtmConnection=g,this._localAcquiredLocks=o,this._channelMetaEventInfos=I,this._userMetaEventInfos=i$1}isSubedUserMetadata(A){return this._userMetadataSub.has(A)}unsubAllUserMetadata(){this._userMetadataSub.forEach(A=>{this.requestUnsubscribeUserMetadata(A)})}releaseStorageModel(){this._userMetadataSub.forEach(A=>{this.emit(`unsubUserMetadata`,A)}),this._userMetadataSub.clear()}requestUnsubscribeUserMetadata(A){let e=OperationName.unsubscribeUserMetadata,t=this._context.incGetSeq(),g=Date.now();this._sendStoragePacket(e,`StateUnsubscribe`,{sequence:t,target:A,subTarget:``,flags:Long$1.fromNumber(0)}),this._userMetaEventInfos.delete(A),this._userMetadataSub.delete(A),this._context.addReportEvents(`SyncSubscribeEvent`,{lts:Long$1.fromNumber(Date.now()),userid:this._context.uid,vid:Long$1.fromString(this._context.vid||`0`),sid:this._context.sid,usersid:this._context.sid,target:A,requestts:Long$1.fromNumber(g),replyts:Long$1.fromNumber(Date.now()),eventtype:`UnSubscribe`,sdktype:4,flags:Long$1.fromNumber(0),code:0,seq:t,index:{index1:this._context.uid,index2:this._context.appId,index3:`logUpload=${this._context.config.logUpload}`},subtarget:this._context.uid}),this.emit(`unsubUserMetadata`,A)}notifyUserMetaReSub(A){this._notifyUserMetaReSub.next({env:A,allReSub:!0})}async setChannelMetadata(A,e,t,g){var o;let I=OperationName.setChannelMetadata;this._apiRateLimit.canMakeOperation(`channelMetaModify`),validateChannelType(I,e),this._validateRtmConnection(I),this._validateEnableStorage(I);let i$1={totalCount:0,timestamp:0,channelName:A,channelType:e};this._validateSessionExist(I);let r=getChannelNameByType(A,e),n;if(validateKey(A,I,`channel`),g!=null&&g.lockName){var C;validateKey(g.lockName,I,`metadata-lock`);let A$1=this._localAcquiredLocks.get(r)?.get(g.lockName);A$1!=null&&A$1.revision||this._throwNotAcquiredError(I),n=A$1?.revision}let E=new Map;t.forEach(A$1=>{var e$1;let t$1=new MetadataItem;t$1.setKey(A$1.key),t$1.setRevision(A$1.revision??-1),t$1.setValue(A$1.value),E.set(A$1.key,t$1)});let s=[];E.forEach(A$1=>{s.push(A$1)});let B=g?.majorRevision??-1;validMetaDataItem(I,{items:s,maxMetaDataCount:32,maxMetaValueSize:RTM_METADATA_VALUE_MAX_LENGTH,majorRevision:B,type:`Set`});let a=JSON.stringify(getRequestInfo(s,B));validateMetaDataSize(I,a);try{await this._requestSetChannelMetadata(a,{majorRevision:B,enableRecordTs:g?.addTimeStamp,enableRecordUserId:g?.addUserId},r,g?.lockName,n).toPromise()}catch(A$1){if(isRtmError(A$1)){if(this.logError(A$1),isNoLogged(A$1))throw A$1;if(isTimeout(A$1)){let{code:A$2,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);throw new RtmUnavailableError(I,[e$1],A$2)}if(A$1.code!=null){let{code:e$1,reason:t$1}=getErrorInfoByCode(A$1.code);throw new RtmUnavailableError(I,[t$1],e$1)}this.logError(`error code is undefined, %o`,A$1)}else this.logError(`not rtm error, %o`,A$1)}return i$1}async removeChannelMetadata(A,e,t){var g;let o=OperationName.removeChannelMetadata;this._apiRateLimit.canMakeOperation(`channelMetaModify`),validateChannelType(o,e),this._validateRtmConnection(o),this._validateEnableStorage(o);let I={totalCount:0,timestamp:0,channelName:A,channelType:e},i$1=getChannelNameByType(A,e);this._validateSessionExist(o),validateKey(A,o,`channel`);let r=t?.data,n=!r||r.length===0,C=new Map;r?.forEach(A$1=>{var e$1,t$1;if(new Blob([A$1.value??``]).size>RTM_METADATA_VALUE_MAX_LENGTH){let{code:A$2,reason:e$2}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_VALUE_LENGTH_OVERFLOW);throw new RtmLimitExceededError(o,[e$2],A$2)}let g$1=new MetadataItem;g$1.setKey(A$1.key),g$1.setRevision(A$1.revision??-1),C.set(A$1.key,g$1)});let E=[];var s;C.forEach(A$1=>{E.push(A$1)}),n?t!=null&&t.majorRevision&&validMetaDataMajorRevisionForRemove(o,t.majorRevision):validMetaDataItem(o,{items:E,maxMetaDataCount:32,maxMetaValueSize:RTM_METADATA_VALUE_MAX_LENGTH,majorRevision:t?.majorRevision??-1,type:`Delete`});let B;if(t!=null&&t.lockName){var a,Q;validateKey(t.lockName,o,`metadata-lock`);let A$1=this._localAcquiredLocks.get(i$1)?.get(t.lockName);A$1!=null&&A$1.revision||this._throwNotAcquiredError(o),B=A$1?.revision??void 0}let c=JSON.stringify(getRequestInfo(cloneDeep$1(E).map(A$1=>(A$1.setValue(null),A$1)),t?.majorRevision??-1));validateMetaDataSize(o,c);try{var l,h;await(n?this._requestClearChannelMetadata({majorRevision:t?.majorRevision??-1,enableRecordTs:t?.addTimeStamp,enableRecordUserId:t?.addUserId},i$1,t?.lockName,B).toPromise():this._requestRemoveChannelMetadata(c,{majorRevision:t?.majorRevision??-1,enableRecordTs:t?.addTimeStamp,enableRecordUserId:t?.addUserId},i$1,t?.lockName,B).toPromise())}catch(A$1){if(isRtmError(A$1)){if(this.logError(A$1),isNoLogged(A$1))throw A$1;if(isTimeout(A$1)){let{code:A$2,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);throw new RtmUnavailableError(o,[e$1],A$2)}if(A$1.code!=null){let{code:e$1,reason:t$1}=getErrorInfoByCode(A$1.code);throw new RtmUnavailableError(o,[t$1],e$1)}this.logError(`error code is undefined, %o`,A$1)}else this.logError(`not rtm error, %o`,A$1)}return I}async updateChannelMetadata(A,e,t,g){var o,I;let i$1=OperationName.updateChannelMetadata;this._apiRateLimit.canMakeOperation(`channelMetaModify`),validateChannelType(i$1,e),this._validateRtmConnection(i$1),this._validateEnableStorage(i$1);let r={timestamp:0,totalCount:0,channelName:A,channelType:e},n=getChannelNameByType(A,e);this._validateSessionExist(i$1),validateKey(A,i$1,`channel`);let C=new Map;t.forEach(A$1=>{var e$1;let t$1=new MetadataItem;t$1.setKey(A$1.key),t$1.setRevision(A$1.revision??-1),t$1.setValue(A$1.value),C.set(A$1.key,t$1)});let E=[],s;if(C.forEach(A$1=>{E.push(A$1)}),validMetaDataItem(i$1,{items:E,maxMetaDataCount:32,maxMetaValueSize:RTM_METADATA_VALUE_MAX_LENGTH,majorRevision:g?.majorRevision??-1,type:`Update`}),g!=null&&g.lockName){var B,a;validateKey(g?.lockName,i$1,`metadata-lock`);let A$1=this._localAcquiredLocks.get(n)?.get(g.lockName);A$1!=null&&A$1.revision||this._throwNotAcquiredError(i$1),s=A$1?.revision??void 0}let Q=JSON.stringify(getRequestInfo(cloneDeep$1(E).map(A$1=>(A$1.getRevision()===-1&&A$1.setRevision(-2),A$1)),g?.majorRevision??-1));validateMetaDataSize(i$1,Q);try{var c;await this._requestUpdateChannelMetadata(Q,{majorRevision:g?.majorRevision??-1,enableRecordTs:g?.addTimeStamp,enableRecordUserId:g?.addUserId},n,g?.lockName,s).toPromise()}catch(A$1){if(isRtmError(A$1)){if(this.logError(A$1),isNoLogged(A$1))throw A$1;if(isTimeout(A$1)){let{code:A$2,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);throw new RtmUnavailableError(i$1,[e$1],A$2)}if(A$1.code!=null){let{code:e$1,reason:t$1}=getErrorInfoByCode(A$1.code);throw new RtmUnavailableError(i$1,[t$1],e$1)}this.logError(`error code is undefined, %o`,A$1)}else this.logError(`not rtm error, %o`,A$1)}return r}async getChannelMetadata(A,e){let t=OperationName.getChannelMetadata;this._apiRateLimit.canMakeOperation(`channelMetaGet`),validateChannelType(t,e),this._validateRtmConnection(t),this._validateEnableStorage(t);let g={totalCount:0,majorRevision:0,metadata:{},timestamp:0,channelName:A,channelType:e};this._validateSessionExist(t),validateKey(A,t,`channel`);try{let o=await this._requestGetChannelMetadata(getChannelNameByType(A,e)).pipe(map$1(A$1=>covertStateStringToMetaData(A$1))).toPromise();g.majorRevision=o.majorRevision,g.totalCount=o.items.length,o.items.forEach(A$1=>{var e$1;g.metadata[A$1.getKey()]={value:A$1.getValue()??``,revision:A$1.getRevision(),updated:A$1.getUpdateTs(),authorUid:A$1.getAuthorUserId()}})}catch(A$1){if(isRtmError(A$1)){if(this.logError(A$1),isNoLogged(A$1))throw A$1;if(isTimeout(A$1)){let{code:A$2,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);throw new RtmUnavailableError(t,[e$1],A$2)}if(A$1.code!=null){let{code:e$1,reason:g$1}=getErrorInfoByCode(A$1.code);throw new RtmUnavailableError(t,[g$1],e$1)}this.logError(`error code is undefined, %o`,A$1)}else this.logError(`not rtm error, %o`,A$1)}return g}async setUserMetadata(A,e){var t;let g=OperationName.setUserMetadata;this._apiRateLimit.canMakeOperation(`userMetaModify`),this._validateRtmConnection(g),this._validateEnableStorage(g);let o=e?.userId,I={timestamp:0,totalCount:0,userId:o||this._context.uid};this._validateSessionExist(g),o&&validateKey(o,g,`uid`);let i$1=new Map;A.forEach(A$1=>{var e$1;let t$1=new MetadataItem;t$1.setKey(A$1.key),t$1.setRevision(A$1.revision??-1),t$1.setValue(A$1.value),i$1.set(A$1.key,t$1)});let r=[];i$1.forEach(A$1=>{r.push(A$1)});let n=e?.majorRevision??-1;validMetaDataItem(g,{items:r,maxMetaDataCount:32,maxMetaValueSize:RTM_METADATA_VALUE_MAX_LENGTH,majorRevision:n,type:`Set`});let C=JSON.stringify(getRequestInfo(r,n));validateMetaDataSize(g,C);try{await this._requestSetUserMetadata(C,{majorRevision:n,enableRecordTs:e?.addTimeStamp,enableRecordUserId:e?.addUserId},o).toPromise()}catch(A$1){if(isRtmError(A$1)){if(this.logError(A$1),isNoLogged(A$1))throw A$1;if(isTimeout(A$1)){let{code:A$2,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);throw new RtmUnavailableError(g,[e$1],A$2)}if(A$1.code!=null){let{code:e$1,reason:t$1}=getErrorInfoByCode(A$1.code);throw new RtmUnavailableError(g,[t$1],e$1)}this.logError(`error code is undefined, %o`,A$1)}else this.logError(`not rtm error, %o`,A$1)}return I}async removeUserMetadata(A){let e=OperationName.removeUserMetadata;this._apiRateLimit.canMakeOperation(`userMetaModify`),this._validateRtmConnection(e),this._validateEnableStorage(e);let t=A?.userId,g={timestamp:0,totalCount:0,userId:t||this._context.uid};this._validateSessionExist(e),t&&validateKey(t,e,`uid`);let o=A?.data,I=!o||o.length===0,i$1=new Map;o?.forEach(A$1=>{var t$1,g$1;if(new Blob([A$1.value??``]).size>RTM_METADATA_VALUE_MAX_LENGTH){let{code:A$2,reason:t$2}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_VALUE_LENGTH_OVERFLOW);throw new RtmLimitExceededError(e,[t$2],A$2)}let o$1=new MetadataItem;o$1.setKey(A$1.key),o$1.setRevision(A$1.revision??-1),i$1.set(A$1.key,o$1)});let r=[];var n;i$1.forEach(A$1=>{r.push(A$1)}),I?A!=null&&A.majorRevision&&validMetaDataMajorRevisionForRemove(e,A.majorRevision):validMetaDataItem(e,{items:r,maxMetaDataCount:32,maxMetaValueSize:RTM_METADATA_VALUE_MAX_LENGTH,majorRevision:A?.majorRevision??-1,type:`Delete`});try{var C,E,s;let g$1=JSON.stringify(getRequestInfo(cloneDeep$1(r).map(A$1=>(A$1.setValue(null),A$1)),A?.majorRevision??-1));validateMetaDataSize(e,g$1),await(I?this._requestClearUserMetadata({majorRevision:A?.majorRevision??-1,enableRecordTs:A?.addTimeStamp,enableRecordUserId:A?.addUserId},t).toPromise():this._requestRemoveUserMetadata(g$1,{majorRevision:A?.majorRevision??-1,enableRecordTs:A?.addTimeStamp,enableRecordUserId:A?.addUserId},t).toPromise())}catch(A$1){if(isRtmError(A$1)){if(this.logError(A$1),isNoLogged(A$1))throw A$1;if(isTimeout(A$1)){let{code:A$2,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);throw new RtmUnavailableError(e,[t$1],A$2)}if(A$1.code!=null){let{code:t$1,reason:g$1}=getErrorInfoByCode(A$1.code);throw new RtmUnavailableError(e,[g$1],t$1)}this.logError(`error code is undefined, %o`,A$1)}else this.logError(`not rtm error, %o`,A$1)}return g}async updateUserMetadata(A,e){var t,g;let o=OperationName.updateUserMetadata;this._apiRateLimit.canMakeOperation(`userMetaModify`),this._validateRtmConnection(o),this._validateEnableStorage(o);let I=e?.userId,i$1={timestamp:0,totalCount:0,userId:I||this._context.uid};this._validateSessionExist(o),I&&validateKey(I,o,`uid`);let r=new Map;A?.forEach(A$1=>{var e$1;let t$1=new MetadataItem;t$1.setKey(A$1.key),t$1.setRevision(A$1.revision??-1),t$1.setValue(A$1.value),r.set(A$1.key,t$1)});let n=[];r.forEach(A$1=>{n.push(A$1)}),validMetaDataItem(o,{items:n,maxMetaDataCount:32,maxMetaValueSize:RTM_METADATA_VALUE_MAX_LENGTH,majorRevision:e?.majorRevision??-1,type:`Update`});let C=JSON.stringify(getRequestInfo(cloneDeep$1(n).map(A$1=>(A$1.getRevision()===-1&&A$1.setRevision(-2),A$1)),e?.majorRevision??-1));validateMetaDataSize(o,C);try{var E;await this._requestUpdateUserMetadata(C,{majorRevision:e?.majorRevision??-1,enableRecordTs:e?.addTimeStamp,enableRecordUserId:e?.addUserId},I).toPromise()}catch(A$1){if(isRtmError(A$1)){if(this.logError(A$1),isNoLogged(A$1))throw A$1;if(isTimeout(A$1)){let{code:A$2,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);throw new RtmUnavailableError(o,[e$1],A$2)}if(A$1.code!=null){let{code:e$1,reason:t$1}=getErrorInfoByCode(A$1.code);throw new RtmUnavailableError(o,[t$1],e$1)}this.logError(`error code is undefined, %o`,A$1)}else this.logError(`not rtm error, %o`,A$1)}return i$1}async getUserMetadata(A){let e=OperationName.getUserMetadata;this._apiRateLimit.canMakeOperation(`userMetaGet`),this._validateRtmConnection(e),this._validateEnableStorage(e);let t=A?.userId,g={timestamp:0,totalCount:0,majorRevision:0,metadata:{},userId:t||this._context.uid};this._validateSessionExist(e),t&&validateKey(t,e,`uid`);try{let A$1=covertStateStringToMetaData(await this._requestGetUserMetadata(t||this._context.uid).toPromise());g.totalCount=A$1.items.length,g.majorRevision=A$1.majorRevision,A$1.items.forEach(A$2=>{var e$1;g.metadata[A$2.getKey()]={value:A$2.getValue()??``,revision:A$2.getRevision(),updated:A$2.getUpdateTs(),authorUid:A$2.getAuthorUserId()}})}catch(A$1){if(isRtmError(A$1)){if(this.logError(A$1),isNoLogged(A$1))throw A$1;if(isTimeout(A$1)){let{code:A$2,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);throw new RtmUnavailableError(e,[t$1],A$2)}if(A$1.code!=null){let{code:t$1,reason:g$1}=getErrorInfoByCode(A$1.code);throw new RtmUnavailableError(e,[g$1],t$1)}this.logError(`error code is undefined, %o`,A$1)}else this.logError(`not rtm error, %o`,A$1)}return g}async subscribeUserMetadata(A){let e=OperationName.subscribeUserMetadata;this._apiRateLimit.canMakeOperation(`userMetaSub`),this._validateRtmConnection(e),this._validateEnableStorage(e),this._validateEnableStorageSub(e);let t={timestamp:0,userId:A||this._context.uid};if(this._validateSessionExist(e),validateKey(A,e,`uid`),this._userMetadataSub.has(A))return t;if(this._userMetadataSub.size>=50){let{code:A$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_SUBSCRIBE_USER_EXCEED_LIMITATION);throw new RtmLimitExceededError(e,[t$1],A$1)}try{await this._requestSubscribeUserMetadata(A),this._userMetadataSub.add(A)}catch(t$1){if(isRtmError(t$1)){if(this.logError(t$1),isNoLogged(t$1))throw t$1;if(t$1.code){let{code:A$1,reason:g}=getErrorInfoByCode(t$1.code);throw new RtmUnavailableError(e,[g],A$1)}this.logError(`error code is undefined, %o`,t$1)}else{if(isTimeout(t$1)){let{code:t$2,reason:g}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);throw this.emit(`unsubUserMetadata`,A),new RtmUnavailableError(e,[g],t$2)}this.logError(`${e} occurs error not of rtm, %o`,t$1)}}return t}async unsubscribeUserMetadata(A){let e=OperationName.unsubscribeUserMetadata;this._validateRtmConnection(e),this._validateEnableStorage(e);let t={timestamp:0,userId:A||this._context.uid};if(this._validateSessionExist(e),validateKey(A,e,`uid`),!this._userMetadataSub.has(A)){let{code:A$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_NOT_SUBSCRIBE);throw new RtmInvalidStatusError(e,[t$1],A$1)}try{this.requestUnsubscribeUserMetadata(A),this._userMetadataSub.delete(A)}catch(A$1){if(isRtmError(A$1))throw A$1}return t}async _requestSubscribeUserMetadata(A){let e=OperationName.subscribeUserMetadata,t=fromEvent(this,`unsubUserMetadata`).pipe(filter(e$1=>A===e$1),take(1)),g=this._context.incGetSeq(),o=Date.now(),I=this._notifyUserMetaReSub.pipe(filter(e$1=>e$1?.userId===A||!0===e$1?.allReSub),switchMap(t$1=>{let I$1=g;return this._sendStoragePacket(OperationName.subscribe,`StateSubscribe`,{sequence:I$1,target:A,subTarget:``,flags:Long$1.fromNumber(0)},t$1.env),this._onOperationPacket(`StateSubscribeResult`).pipe(first(A$1=>{let{sequence:e$1}=A$1;return I$1.eq(e$1)}),tap(t$2=>{let{code:I$2}=t$2,{code:i$2,reason:r}=convertServerCodeToSdkCodeForSub(I$2);if(this._context.addReportEvents(`SyncSubscribeEvent`,{lts:Long$1.fromNumber(Date.now()),userid:this._context.uid,vid:Long$1.fromString(this._context.vid||`0`),sid:this._context.sid,usersid:this._context.sid,target:A,requestts:Long$1.fromNumber(o),replyts:Long$1.fromNumber(Date.now()),eventtype:`Subscribe`,sdktype:4,flags:Long$1.fromNumber(0),code:i$2,seq:g,index:{index1:this._context.uid,index2:this._context.appId,index3:`logUpload=${this._context.config.logUpload}`},subtarget:this._context.uid}),i$2!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(e,[r],i$2);this._userMetadataSub.add(A)}))}),takeUntil(t),share()),i$1=()=>{this._metadataSubscriptions.userMetadataSubs.delete(A)};this._metadataSubscriptions.userMetadataSubs.set(A,I.subscribe({error:i$1,complete:i$1})),this._notifyUserMetaReSub.next({env:void 0,userId:A}),await I.pipe(take(1),timeout(COMMON_REQUEST_TIMEOUT),catchError(e$1=>(e$1 instanceof TimeoutError&&(this.warn(`subscribe user metadata timeout`),this._context.addReportEvents(`SyncSubscribeEvent`,{lts:Long$1.fromNumber(Date.now()),userid:this._context.uid,vid:Long$1.fromString(this._context.vid||`0`),sid:this._context.sid,usersid:this._context.sid,target:A,requestts:Long$1.fromNumber(o),replyts:Long$1.fromNumber(Date.now()),eventtype:`Subscribe`,sdktype:4,flags:Long$1.fromNumber(0),code:RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT,seq:g,index:{index1:this._context.uid,index2:this._context.appId,index3:`logUpload=${this._context.config.logUpload}`},subtarget:this._context.uid})),throwError(e$1)))).toPromise()}_sendStoragePacket(A,e,t,g){g===void 0?this._getRTMSession().sendOperationPacket(A,e,t):this._sendStoragePacketUseOneEnv(A,g,e,t)}_sendStoragePacketUseOneEnv(A,e,t,g){this._getRTMSession().sendOperationPacketUseOneEnv(A,e,t,g)}_onOperationPacket(A){return this._getRTMSession().onOperationPacket(A)}_requestSetChannelMetadata(A){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},t=arguments.length>2?arguments[2]:void 0,g=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,I=OperationName.setChannelMetadata,i$1=1<<17,r=this._context.incGetSeq(),n=Date.now(),C=e?.majorRevision;return this._sendStoragePacket(I,`StateModify`,{sequence:r,target:t,requestUuid:`${r}_${this._context.instanceId}`,value:A,lock:g??``,lockRev:Long$1.fromNumber(o??0),baseRevision:Long$1.fromNumber(C>=0?C:0),author:e.enableRecordUserId?this._context.uid:``,flags:e.enableRecordTs?new Long$1(1572865|(C>=0?i$1:0),0,!0):new Long$1(1048577|(C>=0?i$1:0),0,!0)}),race(genTimeoutError(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),this._onOperationPacket(`StateRequestResult`).pipe(first(A$1=>{let{sequence:e$1}=A$1;return r.eq(e$1)}),map$1(A$1=>{let{code:E}=A$1,{code:s,reason:B}=convertMetadataServerCodeToSdkCode(E);if(this._context.addReportEvents(`SyncOperateEvent`,{lts:Long$1.fromNumber(Date.now()),ip:``,userid:this._context.uid,vid:Long$1.fromString(this._context.vid||`0`),sid:this._context.sid,usersid:this._context.sid,requestts:Long$1.fromNumber(n),replyts:Long$1.fromNumber(Date.now()),target:t,eventtype:`Set`,revision:Long$1.fromNumber(e.majorRevision),uuid:`${r}_${this._context.instanceId}`,sdktype:4,flags:e.enableRecordTs?new Long$1(1572865|(C>=0?i$1:0),0,!0):new Long$1(1048577|(C>=0?i$1:0),0,!0),code:s,seq:r,index:{index1:this._context.uid,index2:this._context.appId,index3:`logUpload=${this._context.config.logUpload}`},lock:g??``,lockrev:Long$1.fromNumber(o??0),subtarget:this._context.uid,sdkip:``}),s!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(I,[B],s)})))}_requestGetChannelMetadata(A){let e=OperationName.getChannelMetadata,t=this._context.incGetSeq(),g=Date.now();return this._sendStoragePacket(e,`StateGet`,{target:A,subTarget:``,lock:``,sequence:t,flags:new Long$1(1048577,0,!0),lockRev:Long$1.fromNumber(0)}),race(genTimeoutError(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),this._onOperationPacket(`StateGetResult`).pipe(first(A$1=>{let{sequence:e$1}=A$1;return t.eq(e$1)}),map$1(o=>{let{code:I,allStates:i$1}=o,{code:r,reason:n}=convertMetadataServerCodeToSdkCode(I),C=r===0?covertStateStringToMetaData(i$1).majorRevision:0;if(this._context.addReportEvents(`SyncOperateEvent`,{lts:Long$1.fromNumber(Date.now()),ip:``,userid:this._context.uid,vid:Long$1.fromString(this._context.vid||`0`),sid:this._context.sid,usersid:this._context.sid,requestts:Long$1.fromNumber(g),replyts:Long$1.fromNumber(Date.now()),target:A,eventtype:`Get`,revision:Long$1.fromNumber(C),uuid:`${t}_${this._context.instanceId}`,sdktype:4,flags:new Long$1(1048577,0,!0),code:r,seq:t,index:{index1:this._context.uid,index2:this._context.appId,index3:`logUpload=${this._context.config.logUpload}`},lock:``,lockrev:Long$1.fromNumber(0),subtarget:this._context.uid,sdkip:``}),r!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(e,[n],r);return i$1}),filter(e$1=>{var t$1;return covertStateStringToMetaData(e$1).majorRevision>=(this._channelMetaEventInfos.get(A)??0)})))}_requestRemoveChannelMetadata(A){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},t=arguments.length>2?arguments[2]:void 0,g=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,I=OperationName.removeChannelMetadata,i$1=1<<17,r=e?.majorRevision,n=this._context.incGetSeq(),C=Date.now();return this._sendStoragePacket(I,`StateModify`,{sequence:n,target:t,requestUuid:`${n}_${this._context.instanceId}`,lock:g??``,lockRev:Long$1.fromNumber(o??0),value:A,baseRevision:Long$1.fromNumber(r>=0?r:0),author:e.enableRecordUserId?this._context.uid:``,flags:e.enableRecordTs?new Long$1(1572865|(r>=0?i$1:0),0,!0):new Long$1(1048577|(r>=0?i$1:0),0,!0)}),race(genTimeoutError(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),this._onOperationPacket(`StateRequestResult`).pipe(first(A$1=>{let{sequence:e$1}=A$1;return n.eq(e$1)}),map$1(A$1=>{let{code:E}=A$1,{code:s,reason:B}=convertMetadataServerCodeToSdkCode(E);if(this._context.addReportEvents(`SyncOperateEvent`,{lts:Long$1.fromNumber(Date.now()),ip:``,userid:this._context.uid,vid:Long$1.fromString(this._context.vid||`0`),sid:this._context.sid,usersid:this._context.sid,requestts:Long$1.fromNumber(C),replyts:Long$1.fromNumber(Date.now()),target:t,eventtype:`Delete`,revision:Long$1.fromNumber(e.majorRevision),uuid:`${n}_${this._context.instanceId}`,sdktype:4,flags:e.enableRecordTs?new Long$1(1572865|(r>=0?i$1:0),0,!0):new Long$1(1048577|(r>=0?i$1:0),0,!0),code:s,seq:n,index:{index1:this._context.uid,index2:this._context.appId,index3:`logUpload=${this._context.config.logUpload}`},lock:g??``,lockrev:Long$1.fromNumber(o??0),subtarget:this._context.uid,sdkip:``}),s!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(I,[B],s)})))}_requestClearChannelMetadata(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,g=arguments.length>3?arguments[3]:void 0,o=OperationName.removeChannelMetadata,I=1<<17,i$1=A?.majorRevision,r=this._context.incGetSeq(),n=Date.now();return this._sendStoragePacket(o,`StateSet`,{sequence:r,target:e,requestUuid:`${r}_${this._context.instanceId}`,lock:t??``,lockRev:Long$1.fromNumber(g??0),value:JSON.stringify({}),baseRevision:Long$1.fromNumber(i$1>=0?i$1:0),author:A.enableRecordUserId?this._context.uid:``,flags:A.enableRecordTs?new Long$1(1572865|(i$1>=0?I:0),0,!0):new Long$1(1048577|(i$1>=0?I:0),0,!0)}),race(genTimeoutError(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),this._onOperationPacket(`StateRequestResult`).pipe(first(A$1=>{let{sequence:e$1}=A$1;return r.eq(e$1)}),map$1(C=>{let{code:E}=C,{code:s,reason:B}=convertMetadataServerCodeToSdkCode(E);if(this._context.addReportEvents(`SyncOperateEvent`,{lts:Long$1.fromNumber(Date.now()),ip:``,userid:this._context.uid,vid:Long$1.fromString(this._context.vid||`0`),sid:this._context.sid,usersid:this._context.sid,requestts:Long$1.fromNumber(n),replyts:Long$1.fromNumber(Date.now()),target:e,eventtype:`Clear`,revision:Long$1.fromNumber(A.majorRevision),uuid:`${r}_${this._context.instanceId}`,sdktype:4,flags:A.enableRecordTs?new Long$1(1572865|(i$1>=0?I:0),0,!0):new Long$1(1048577|(i$1>=0?I:0),0,!0),code:s,seq:r,index:{index1:this._context.uid,index2:this._context.appId,index3:`logUpload=${this._context.config.logUpload}`},lock:t??``,lockrev:Long$1.fromNumber(g??0),subtarget:this._context.uid,sdkip:``}),s!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(o,[B],s)})))}_requestUpdateChannelMetadata(A){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},t=arguments.length>2?arguments[2]:void 0,g=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,I=OperationName.updateChannelMetadata,i$1=1<<17,r=e?.majorRevision,n=this._context.incGetSeq(),C=Date.now();return this._sendStoragePacket(I,`StateModify`,{sequence:n,target:t,requestUuid:`${n}_${this._context.instanceId}`,lock:g??``,lockRev:Long$1.fromNumber(o??0),value:A,baseRevision:Long$1.fromNumber(r>=0?r:0),author:e.enableRecordUserId?this._context.uid:``,flags:e.enableRecordTs?new Long$1(1572865|(r>=0?i$1:0),0,!0):new Long$1(1048577|(r>=0?i$1:0),0,!0)}),race(genTimeoutError(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),this._onOperationPacket(`StateRequestResult`).pipe(first(A$1=>{let{sequence:e$1}=A$1;return n.eq(e$1)}),map$1(A$1=>{let{code:E}=A$1,{code:s,reason:B}=convertMetadataServerCodeToSdkCode(E);if(this._context.addReportEvents(`SyncOperateEvent`,{lts:Long$1.fromNumber(Date.now()),ip:``,userid:this._context.uid,vid:Long$1.fromString(this._context.vid||`0`),sid:this._context.sid,usersid:this._context.sid,requestts:Long$1.fromNumber(C),replyts:Long$1.fromNumber(Date.now()),target:t,eventtype:`Update`,revision:Long$1.fromNumber(e.majorRevision),uuid:`${n}_${this._context.instanceId}`,sdktype:4,flags:e.enableRecordTs?new Long$1(1572865|(r>=0?i$1:0),0,!0):new Long$1(1048577|(r>=0?i$1:0),0,!0),code:s,seq:n,index:{index1:this._context.uid,index2:this._context.appId,index3:`logUpload=${this._context.config.logUpload}`},lock:g??``,lockrev:Long$1.fromNumber(o??0),subtarget:this._context.uid,sdkip:``}),s!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(I,[B],s)})))}_requestSetUserMetadata(A){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},t=arguments.length>2?arguments[2]:void 0,g=OperationName.setUserMetadata,o=1<<20,I=1<<17,i$1=this._context.incGetSeq(),r=Date.now(),n=e?.majorRevision;return this._sendStoragePacket(g,`StateModify`,{sequence:i$1,target:t??this._context.uid,requestUuid:`${i$1}_${this._context.instanceId}`,value:A,lock:``,lockRev:Long$1.fromNumber(0),baseRevision:Long$1.fromNumber(n>=0?n:0),author:e.enableRecordUserId?this._context.uid:``,flags:e.enableRecordTs?new Long$1(1572864|(n>=0?I:0),0,!0):new Long$1(o|(n>=0?I:0),0,!0)}),race(genTimeoutError(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),this._onOperationPacket(`StateRequestResult`).pipe(first(A$1=>{let{sequence:e$1}=A$1;return i$1.eq(e$1)}),tap(A$1=>{let{code:t$1}=A$1,{code:C,reason:E}=convertMetadataServerCodeToSdkCode(t$1);if(this._context.addReportEvents(`SyncOperateEvent`,{lts:Long$1.fromNumber(Date.now()),ip:``,userid:this._context.uid,vid:Long$1.fromString(this._context.vid||`0`),sid:this._context.sid,usersid:this._context.sid,requestts:Long$1.fromNumber(r),replyts:Long$1.fromNumber(Date.now()),target:this._context.uid,eventtype:`Set`,revision:Long$1.fromNumber(e.majorRevision),uuid:`${i$1}_${this._context.instanceId}`,sdktype:4,flags:e.enableRecordTs?new Long$1(1572864|(n>=0?I:0),0,!0):new Long$1(o|(n>=0?I:0),0,!0),code:C,seq:i$1,index:{index1:this._context.uid,index2:this._context.appId,index3:`logUpload=${this._context.config.logUpload}`},lock:``,lockrev:Long$1.fromNumber(0),subtarget:this._context.uid,sdkip:``}),C!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(g,[E],C)})))}_throwNotAcquiredError(A){let{code:e,reason:t}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_LOCK_NOT_ACQUIRED);throw new RtmUnavailableError(A,[t],e)}_validateSessionExist(A){if(this._getRTMSession()===void 0){let{code:e,reason:t}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_CONNECTED);throw new RtmInvalidStatusError(A,[t],e)}}_validateEnableStorage(A){let e=getParameter(`STORAGE_ENABLED`);if((e===void 0?this._context.consoleConfig[`storage.enabled`]:String(e))!==`true`){let{code:e$1,reason:t}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_NOT_AVAILABLE);throw new RtmUnavailableError(A,[t],e$1)}}_validateEnableStorageSub(A){let e=getParameter(`STORAGE_USER_SUB_ENABLED`);if((e===void 0?this._context.consoleConfig[`storage.user_subscribe_enabled`]:String(e))!==`true`){let{code:e$1,reason:t}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_NOT_AVAILABLE);throw new RtmUnavailableError(A,[t],e$1)}}_requestUpdateUserMetadata(A){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},t=arguments.length>2?arguments[2]:void 0,g=OperationName.updateUserMetadata,o=1<<20,I=1<<17,i$1=e?.majorRevision,r=this._context.incGetSeq(),n=Date.now();return this._sendStoragePacket(g,`StateModify`,{sequence:r,target:t??this._context.uid,requestUuid:`${r}_${this._context.instanceId}`,lock:``,lockRev:Long$1.fromNumber(0),value:A,baseRevision:Long$1.fromNumber(i$1>=0?i$1:0),author:e.enableRecordUserId?this._context.uid:``,flags:e.enableRecordTs?new Long$1(1572864|(i$1>=0?I:0),0,!0):new Long$1(o|(i$1>=0?I:0),0,!0)}),race(genTimeoutError(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),this._onOperationPacket(`StateRequestResult`).pipe(first(A$1=>{let{sequence:e$1}=A$1;return r.eq(e$1)}),tap(A$1=>{let{code:t$1}=A$1,{code:C,reason:E}=convertMetadataServerCodeToSdkCode(t$1);if(this._context.addReportEvents(`SyncOperateEvent`,{lts:Long$1.fromNumber(Date.now()),ip:``,userid:this._context.uid,vid:Long$1.fromString(this._context.vid||`0`),sid:this._context.sid,usersid:this._context.sid,requestts:Long$1.fromNumber(n),replyts:Long$1.fromNumber(Date.now()),target:this._context.uid,eventtype:`Update`,revision:Long$1.fromNumber(e.majorRevision),uuid:`${r}_${this._context.instanceId}`,sdktype:4,flags:e.enableRecordTs?new Long$1(1572864|(i$1>=0?I:0),0,!0):new Long$1(o|(i$1>=0?I:0),0,!0),code:C,seq:r,index:{index1:this._context.uid,index2:this._context.appId,index3:`logUpload=${this._context.config.logUpload}`},lock:``,lockrev:Long$1.fromNumber(0),subtarget:this._context.uid,sdkip:``}),C!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(g,[E],C)})))}_requestGetUserMetadata(A){let e=OperationName.getUserMetadata,t=this._context.incGetSeq(),g=1<<20,o=Date.now();return this._sendStoragePacket(e,`StateGet`,{target:A,subTarget:``,lock:``,sequence:t,flags:new Long$1(g,0,!0),lockRev:Long$1.fromNumber(0)}),race(genTimeoutError(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),this._onOperationPacket(`StateGetResult`).pipe(first(A$1=>{let{sequence:e$1}=A$1;return t.eq(e$1)}),map$1(I=>{let{code:i$1,allStates:r}=I,{code:n,reason:C}=convertMetadataServerCodeToSdkCode(i$1),E=n===0?covertStateStringToMetaData(r).majorRevision:0;if(this._context.addReportEvents(`SyncOperateEvent`,{lts:Long$1.fromNumber(Date.now()),ip:``,userid:this._context.uid,vid:Long$1.fromString(this._context.vid||`0`),sid:this._context.sid,usersid:this._context.sid,requestts:Long$1.fromNumber(o),replyts:Long$1.fromNumber(Date.now()),target:A,eventtype:`Get`,revision:Long$1.fromNumber(E),uuid:`${t}_${this._context.instanceId}`,sdktype:4,flags:new Long$1(g,0,!0),code:n,seq:t,index:{index1:this._context.uid,index2:this._context.appId,index3:`logUpload=${this._context.config.logUpload}`},lock:``,lockrev:Long$1.fromNumber(0),subtarget:this._context.uid,sdkip:``}),n!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(e,[C],n);return r}),filter(e$1=>{var t$1;return covertStateStringToMetaData(e$1).majorRevision>=(this._userMetaEventInfos.get(A)??0)})))}_requestRemoveUserMetadata(A){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},t=arguments.length>2?arguments[2]:void 0,g=OperationName.removeUserMetadata,o=1<<20,I=1<<17,i$1=e?.majorRevision,r=this._context.incGetSeq(),n=Date.now();return this._sendStoragePacket(g,`StateModify`,{sequence:r,target:t??this._context.uid,requestUuid:`${r}_${this._context.instanceId}`,lock:``,lockRev:Long$1.fromNumber(0),value:A,baseRevision:Long$1.fromNumber(i$1>=0?i$1:0),author:e.enableRecordUserId?this._context.uid:``,flags:e.enableRecordTs?new Long$1(1572864|(i$1>=0?I:0),0,!0):new Long$1(o|(i$1>=0?I:0),0,!0)}),race(genTimeoutError(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),this._onOperationPacket(`StateRequestResult`).pipe(first(A$1=>{let{sequence:e$1}=A$1;return r.eq(e$1)}),tap(A$1=>{let{code:t$1}=A$1,{code:C,reason:E}=convertMetadataServerCodeToSdkCode(t$1);if(this._context.addReportEvents(`SyncOperateEvent`,{lts:Long$1.fromNumber(Date.now()),ip:``,userid:this._context.uid,vid:Long$1.fromString(this._context.vid||`0`),sid:this._context.sid,usersid:this._context.sid,requestts:Long$1.fromNumber(n),replyts:Long$1.fromNumber(Date.now()),target:this._context.uid,eventtype:`Delete`,revision:Long$1.fromNumber(e.majorRevision),uuid:`${r}_${this._context.instanceId}`,sdktype:4,flags:e.enableRecordTs?new Long$1(1572864|(i$1>=0?I:0),0,!0):new Long$1(o|(i$1>=0?I:0),0,!0),code:C,seq:r,index:{index1:this._context.uid,index2:this._context.appId,index3:`logUpload=${this._context.config.logUpload}`},lock:``,lockrev:Long$1.fromNumber(0),subtarget:this._context.uid,sdkip:``}),C!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(g,[E],C)})))}_requestClearUserMetadata(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},e=arguments.length>1?arguments[1]:void 0,t=OperationName.removeUserMetadata,g=1<<20,o=1<<17,I=A?.majorRevision,i$1=this._context.incGetSeq(),r=Date.now();return this._sendStoragePacket(t,`StateSet`,{sequence:i$1,target:e??this._context.uid,requestUuid:`${i$1}_${this._context.instanceId}`,lock:``,lockRev:Long$1.fromNumber(0),value:JSON.stringify({}),baseRevision:Long$1.fromNumber(I>=0?I:0),author:A.enableRecordUserId?this._context.uid:``,flags:A.enableRecordTs?new Long$1(1572864|(I>=0?o:0),0,!0):new Long$1(g|(I>=0?o:0),0,!0)}),race(genTimeoutError(RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),this._onOperationPacket(`StateRequestResult`).pipe(first(A$1=>{let{sequence:e$1}=A$1;return i$1.eq(e$1)}),tap(e$1=>{let{code:n}=e$1,{code:C,reason:E}=convertMetadataServerCodeToSdkCode(n);if(this._context.addReportEvents(`SyncOperateEvent`,{lts:Long$1.fromNumber(Date.now()),ip:``,userid:this._context.uid,vid:Long$1.fromString(this._context.vid||`0`),sid:this._context.sid,usersid:this._context.sid,requestts:Long$1.fromNumber(r),replyts:Long$1.fromNumber(Date.now()),target:this._context.uid,eventtype:`Clear`,revision:Long$1.fromNumber(A?.majorRevision),uuid:`${i$1}_${this._context.instanceId}`,sdktype:4,flags:A.enableRecordTs?new Long$1(1572864|(I>=0?o:0),0,!0):new Long$1(g|(I>=0?o:0),0,!0),code:C,seq:i$1,index:{index1:this._context.uid,index2:this._context.appId,index3:`logUpload=${this._context.config.logUpload}`},lock:``,lockrev:Long$1.fromNumber(0),subtarget:this._context.uid,sdkip:``}),C!==RTMErrorCode.RTM_ERROR_OK)throw new RtmUnavailableError(t,[E],C)})))}}let RStorage=(_class$2=class extends EventBase{constructor(A,e,t,g,o,I,i$1){super(A,`Storage`,!0,!0),_defineProperty$1(this,`storageImpl`,void 0),this.storageImpl=new StorageImpl(A,e,t,g,o,I,i$1)}async setChannelMetadata(A,e,t,g){return await this.storageImpl.setChannelMetadata(A,e,t,g)}async getChannelMetadata(A,e){return await this.storageImpl.getChannelMetadata(A,e)}async removeChannelMetadata(A,e,t){return await this.storageImpl.removeChannelMetadata(A,e,t)}async updateChannelMetadata(A,e,t,g){return await this.storageImpl.updateChannelMetadata(A,e,t,g)}async setUserMetadata(A,e){return await this.storageImpl.setUserMetadata(A,e)}async getUserMetadata(A){return await this.storageImpl.getUserMetadata(A)}async removeUserMetadata(A){return await this.storageImpl.removeUserMetadata(A)}async updateUserMetadata(A,e){return await this.storageImpl.updateUserMetadata(A,e)}async subscribeUserMetadata(A){return await this.storageImpl.subscribeUserMetadata(A)}async unsubscribeUserMetadata(A){return await this.storageImpl.unsubscribeUserMetadata(A)}},_applyDecoratedDescriptor(_class$2.prototype,`setChannelMetadata`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class$2.prototype,`setChannelMetadata`),_class$2.prototype),_applyDecoratedDescriptor(_class$2.prototype,`getChannelMetadata`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class$2.prototype,`getChannelMetadata`),_class$2.prototype),_applyDecoratedDescriptor(_class$2.prototype,`removeChannelMetadata`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class$2.prototype,`removeChannelMetadata`),_class$2.prototype),_applyDecoratedDescriptor(_class$2.prototype,`updateChannelMetadata`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class$2.prototype,`updateChannelMetadata`),_class$2.prototype),_applyDecoratedDescriptor(_class$2.prototype,`setUserMetadata`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class$2.prototype,`setUserMetadata`),_class$2.prototype),_applyDecoratedDescriptor(_class$2.prototype,`getUserMetadata`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class$2.prototype,`getUserMetadata`),_class$2.prototype),_applyDecoratedDescriptor(_class$2.prototype,`removeUserMetadata`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class$2.prototype,`removeUserMetadata`),_class$2.prototype),_applyDecoratedDescriptor(_class$2.prototype,`updateUserMetadata`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class$2.prototype,`updateUserMetadata`),_class$2.prototype),_applyDecoratedDescriptor(_class$2.prototype,`subscribeUserMetadata`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class$2.prototype,`subscribeUserMetadata`),_class$2.prototype),_applyDecoratedDescriptor(_class$2.prototype,`unsubscribeUserMetadata`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class$2.prototype,`unsubscribeUserMetadata`),_class$2.prototype),_class$2);const TextMessageDstType={PeerTextMessage:0,ChannelTextMessage:1,VendorTextMessage:2},RawMessageDstType={PeerRawMessage:3,ChannelRawMessage:4,VendorRawMessage:5},MessageDstType=_objectSpread2(_objectSpread2({},TextMessageDstType),RawMessageDstType),InvitationType={CallInvite:101,CallAccept:102,CallReject:103,CallCancel:104},MessageType=_objectSpread2(_objectSpread2({},MessageDstType),InvitationType),CompressionMethod={Uncompressed:0,Zlib:1};class MessageOption extends Struct{constructor(A){if(super(),this.define(`MessageType`,MessageType,8),this.define(`BroadcastJumps`,`number`,2),this.define(`ToCache`,`boolean`,1),this.define(`FromCache`,`boolean`,1),this.define(`CompressionMethod`,CompressionMethod,2),this.define(`IterationNumber`,`number`,4),this.define(`BufferedMessage`,`boolean`,1),this.define(`ToArchive`,`boolean`,1),this.define(`FromArchive`,`boolean`,1),this.define(`kDelegate`,`number`,1),this.define(`kSecurity`,`number`,1),this.define(`kBypassGroupMemberCheck`,`number`,1),this.define(`enableEncryption`,`boolean`,1),this.define(`encrytionComplement`,`number`,5),this.define(`kHistory`,`number`,1),this.define(`undefined`,`number`,33),isLongNum(A))this.from(A);else if(A!==void 0)for(let e=0,t=getEntries(A);e<t.length;e++){let[A$1,g]=t[e];this.set(A$1,g)}}isTextMessage(){return this.assert(`MessageType`,[`PeerTextMessage`,`ChannelTextMessage`,`VendorTextMessage`])}isRawMessage(){return this.assert(`MessageType`,[`ChannelRawMessage`,`PeerRawMessage`,`VendorRawMessage`])}isRawPeerMessage(){return this.assert(`MessageType`,`PeerRawMessage`)}isRawChannelMessage(){return this.assert(`MessageType`,`ChannelRawMessage`)}isPeerTextMessage(){return this.assert(`MessageType`,`PeerTextMessage`)}isChannelTextMessage(){return this.assert(`MessageType`,`ChannelTextMessage`)}isInvitation(A){return A===void 0?getKeys(InvitationType).some(A$1=>this.assert(`MessageType`,A$1)):this.assert(`MessageType`,A)}isPeerMessage(){return this.assert(`MessageType`,[`PeerTextMessage`,`PeerRawMessage`])}isChannelMessage(){return this.assert(`MessageType`,[`ChannelTextMessage`,`ChannelRawMessage`])}isZlibCompressed(){return this.assert(`CompressionMethod`,`Zlib`)}isFromCache(){return this.assert(`FromCache`,!0)}isBufferedMessage(){return this.assert(`BufferedMessage`,!0)}getInvitationType(){if(!this.isInvitation())throw TypeError(`cannot get InvitationType of a normal message type`);return this.typeOf(`MessageType`)}isEncryption(){return this.assert(`enableEncryption`,!0)}getEncrytionComplement(){var A;return this.fields.get(`encrytionComplement`)?.val}}const{inflate}=UZIP;class HistoryImpl extends EventBase{constructor(A,e,t,g){super(A,`HistoryImpl`,!0),_defineProperty$1(this,`_context`,void 0),_defineProperty$1(this,`getRTMSession`,void 0),_defineProperty$1(this,`_validateRtmConnection`,void 0),_defineProperty$1(this,`_apiRateLimit`,new ApiRateLimiter),this._context=e,this.getRTMSession=genGetRTMSession(t),this._validateRtmConnection=g}async getMessages(A,e,t){var g,o,I,i$1;let r=OperationName.getMessages;if(this._apiRateLimit.canMakeOperation(`getMessages`),validateHistoryChannelType(r,e),this._validateRtmConnection(r),this._validateEnableHistory(r),validateKey(A,r,`channel`),e===`USER`&&A!==this._context.uid){this.warn(`operation not permit`);let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_HISTORY_OPERATION_NOT_PERMITTED);throw new RtmInvalidArgumentError(r,[e$1],A$1)}let n=t?.start??0,C=t?.end??0;if(n>0&&C>0&&(n<=C||n-C>864e5)){this.warn(`invalid start or end timestamp}`);let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_HISTORY_INVALID_TIMESTAMP);throw new RtmInvalidArgumentError(r,[e$1],A$1)}let E=getParameter(`HISTORY_MSG_COUNT_LIMIT`)??100,s=t?.messageCount??E;(s===0||s>E)&&(s=E);try{var B,a,Q;let g$1=await this._requestGetMessages({channelName:A,channelType:e,count:s,startTime:n,endTime:C}).toPromise();return{messageList:g$1.messageList??[],count:g$1.messageList?.length??0,newStart:g$1.newStart,timestamp:0}}catch(A$1){if(isRtmError(A$1)){if(this.logError(A$1),isNoLogged(A$1))throw A$1;if(isTimeout(A$1)){let{code:A$2,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_HISTORY_OPERATION_TIMEOUT);throw new RtmUnavailableError(r,[e$1],A$2)}if(A$1.code!=null){let{code:e$1,reason:t$1}=getErrorInfoByCode(A$1.code);throw new RtmUnavailableError(r,[t$1],e$1)}this.logError(`error code is undefined, %o`,A$1)}else this.logError(`not rtm error, %o`,A$1)}return{timestamp:0,messageList:[],count:0,newStart:0}}_sendHistoryPacket(A,e,t){this.getRTMSession().sendOperationPacket(A,e,t)}_onOperationPacket(A){return this.getRTMSession().onOperationPacket(A)}_requestGetMessages(A){let{channelName:e,channelType:t,startTime:g,endTime:o,count:I}=A,i$1=OperationName.getMessages,r=this._context.incGetSeq()+`_`+this._context.instanceId;return this._sendHistoryPacket(i$1,`StateHistoryGet2`,{dst:e,uuid:r,startTime:Long$1.fromNumber(g),endTime:Long$1.fromNumber(o),count:I,flags:new Long$1(t===`MESSAGE`?1:0,0,!0)}),race(genTimeoutError(RTMErrorCode.RTM_ERROR_HISTORY_OPERATION_TIMEOUT),this._onOperationPacket(`StateHistoryGetResult2`).pipe(first(A$1=>{let{uuid:e$1}=A$1;return r===e$1}),map$1(A$1=>{if(A$1.code!==RTMErrorCode.RTM_ERROR_OK){let{code:e$1,reason:t$1}=getErrorInfoByCode(A$1.code===SyncServerErrorCode.kNoPrivilege?RTMErrorCode.RTM_ERROR_HISTORY_PERMISSION_DENIED:RTMErrorCode.RTM_ERROR_HISTORY_OPERATION_FAILED);throw new RtmUnavailableError(i$1,[t$1],e$1)}{let{messages:e$1,oldestTime:t$1,more:g$1}=A$1,o$1=0,I$1=e$1.filter(A$2=>{let{options:e$2}=A$2,t$2=new MessageOption(e$2).isEncryption();return!(t$2&&!this._context.encryptionInfo.key||!t$2&&this._context.encryptionInfo.key)||(o$1++,!1)}).map(A$2=>{var e$2;let{options:t$2,payload:g$2,src:o$2,ms:I$2,details:i$2}=A$2,r$1=new MessageOption(t$2),n=r$1.isZlibCompressed(),C=r$1.isEncryption(),E=r$1.getEncrytionComplement()??0,s=r$1.isTextMessage(),{customType:B=new Uint8Array}=i$2,a=new TextDecoder().decode(B);if(s){let A$3=n?inflate(concatenateUint8Array(g$2,Uint8Array.of(0,0,0,0))):g$2,e$3=A$3.byteLength-Long$1.fromValue(E).toNumber();return{message:new TextDecoder().decode(C&&this._context.encryptionInfo.initEncryption?decrypt(A$3,this._context.encryptionInfo.key,this._context.encryptionInfo.iv,this._context.encryptionInfo.keyLength).slice(0,e$3):A$3),customType:a,messageType:MessageType$1.STRING,publisher:o$2,timestamp:I$2?.toNumber()}}{let A$3=n?inflate(g$2):g$2,e$3=A$3.byteLength-Long$1.fromValue(E).toNumber();return{message:C&&this._context.encryptionInfo.initEncryption?decrypt(A$3,this._context.key,this._context.encryptionInfo.iv,this._context.encryptionInfo.keyLength).slice(0,e$3):A$3,customType:a,messageType:MessageType$1.BINARY,publisher:o$2,timestamp:I$2?.toNumber()}}});return o$1>0&&this.warn(`ignore %d messages because of encryption mismatch`,o$1),{messageList:I$1,newStart:g$1?t$1.toNumber():0}}})))}_validateEnableHistory(A){if(this._context.consoleConfig[`history.enabled`]!==`true`){let{code:e,reason:t}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_HISTORY_NOT_AVAILABLE);throw new RtmUnavailableError(A,[t],e)}}}var _class$1;let History=(_class$1=class extends EventBase{constructor(A,e,t,g){super(A,`History`,!0,!0),_defineProperty$1(this,`historyImpl`,void 0),this.historyImpl=new HistoryImpl(A,e,t,g)}async getMessages(A,e,t){return await this.historyImpl.getMessages(A,e,t)}},_applyDecoratedDescriptor(_class$1.prototype,`getMessages`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class$1.prototype,`getMessages`),_class$1.prototype),_class$1);var name=`agora-rtm`,exports$1={".":{require:`./dist/bundle.umd.js`,import:`./dist/bundle.mjs`,types:`./dist/types/index.d.ts`}},version=`2.2.3`,description=`JavaScript SDK for Agora RTM`,keywords=[`agora`,`rtm`,`real-time-messaging`,`sdk`,`javascript`,`signaling`,`stream`,`messaging`],homepage=`https://bitbucket.agoralab.co/projects/WEBRTC/repos/rtm.js`,bugs={url:`https://agora-ticket.agora.io`,email:`support@agora.io`},license=`Apache`,author=`Agora Lab.`,main=`dist/bundle.umd.js`,types=`dist/types/index.d.ts`,directories={lib:`src`},repository={type:`git`,url:`git+ssh://git@git.agoralab.co/webrtc/rtm.js.git`},scripts={"test:coverage":`rm -rf ./coverage && vitest run --config ./vitest.config.ts`,"test:coverage:ui":`rm -rf ./coverage && vitest --ui --coverage --config ./vitest.config.ts`,postinstall:`touch ./.env && node --experimental-import-meta-resolve ./scripts/patch.mjs`,"proto-gen":`npm run proto-gen:js && npm run proto-gen:ts`,"proto-gen:js":`pbjs -t static-module --no-create --no-decode --no-verify --no-service --no-convert --force-long --no-delimited -w es6 -o ./src/lib/compiled_proto/report.js ./src/third_party/report.proto && pbjs -t static-module --no-delimited --no-convert --no-verify --no-service --no-create --force-long -w es6 -o ./src/lib/compiled_proto/gateway.js ./src/third_party/gateway.proto && pbjs -t static-module --no-delimited --no-convert --no-verify --no-service --no-create --force-long -w es6 -o ./src/lib/compiled_proto/metadata.js ./src/third_party/metadata.proto`,"proto-gen:ts":`pbts --main --out ./src/lib/compiled_proto/report.d.ts ./src/lib/compiled_proto/report.js && pbts --main --out ./src/lib/compiled_proto/gateway.d.ts ./src/lib/compiled_proto/gateway.js && pbts --main --out ./src/lib/compiled_proto/metadata.d.ts ./src/lib/compiled_proto/metadata.js`,"build:types":`run-s dts:tsc dts:gen`,"dts:tsc":`tsc -p ./tsconfig.json`,"dts:gen":`rollup -c ./rollup.types.config.mjs`,dev:`FUSION=false NODE_ENV=development BASE_VERSION=100 rollup -c rollup.config.mjs -w`,"dev-fusion":`FUSION=true NODE_ENV=development BASE_VERSION=100 rollup -c rollup.config.mjs -w`,build:`NODE_OPTIONS="--max-old-space-size=8192" npm run build:web && NODE_OPTIONS="--max-old-space-size=8192" npm run build:cdn`,"build:web":`cross-env GIT_COMMIT=$(git describe --tags --long --match "v*" --dirty) npx cross-env NODE_ENV=production BASE_VERSION=100 npx rollup -c rollup.config.mjs`,"build:cdn":`cross-env GIT_COMMIT=$(git describe --tags --long --match "v*" --dirty) npx cross-env NODE_ENV=production BASE_VERSION=100 npx rollup -c rollup.config.web.mjs`,prepublishOnly:`FUSION=false npm run build && npm run build:types && node ./prepublish.js`,prepublishOnlyOversea:`cross-env FUSION=false OVERSEA=true npm run build && npm run build:types && cross-env OVERSEA=true node ./prepublish.js`,prepublishOnlyFusion:`cross-env FUSION=true npm run build && npm run build:types && cross-env FUSION=true node ./prepublish.js`,beautify:`concurrently -P 'npm:lint:*' -- --fix`,lint:`npx eslint src/  --format codeframe`,"lint:test":`npx eslint '__test_rtm__/**/*.ts' 'vitest.config.ts' 'vitest.setup.ts' --config .eslintrc.test.js --no-ignore --format codeframe`,"beautify:all":`npm run lint -- --fix && npm run lint:test -- --fix`,wb:`node white-brand-cli`},config={scripts:{commit:`npx git-cz`}},dependencies={"@thi.ng/cache":`^1.0.94`,"agora-rtc-sdk-ng":`4.23.0`,"cross-env":`^7.0.3`,debug:`^4.4.0`,events:`^3.3.0`,"format-util":`^1.0.5`,gud:`^1.0.0`,"is-mobile":`^3.1.1`,"is-what":`^3.14.1`,lodash:`^4.17.21`,long:`^5.3.1`,neverthrow:`^5.1.0`,"node-forge":`^1.3.1`,protobufjs:`^7.4.0`,rxjs:`^6.6.7`,"rxjs-etc":`^10.6.2`,"rxjs-websockets":`^8.0.1`,"safe-json-stringify":`^1.2.0`,uuid:`^3.4.0`},devDependencies={"@ampproject/rollup-plugin-closure-compiler":`^0.27.0`,"@babel/core":`^7.26.0`,"@babel/eslint-parser":`^7.25.9`,"@babel/plugin-proposal-class-properties":`^7.18.6`,"@babel/plugin-proposal-decorators":`^7.25.9`,"@babel/plugin-syntax-import-attributes":`^7.26.0`,"@babel/plugin-transform-for-of":`^7.25.9`,"@babel/preset-env":`^7.26.0`,"@babel/preset-typescript":`^7.26.0`,"@playwright/test":`^1.41.2`,"@rollup/plugin-alias":`^5.1.1`,"@rollup/plugin-babel":`^6.0.4`,"@rollup/plugin-commonjs":`^25.0.8`,"@rollup/plugin-json":`^6.1.0`,"@rollup/plugin-node-resolve":`^15.3.1`,"@rollup/plugin-replace":`^5.0.7`,"@rollup/plugin-terser":`^0.4.4`,"@types/node":`^14.18.63`,"@typescript-eslint/eslint-plugin":`^6.21.0`,"@typescript-eslint/parser":`^6.21.0`,"@vitest/browser":`^3.1.1`,"@vitest/coverage-istanbul":`^3.1.1`,"@vitest/ui":`^3.1.1`,"agora-rte-extension":`^1.2.4`,"babel-plugin-annotate-pure-calls":`^0.4.0`,"babel-plugin-const-enum":`1.0.1`,"babel-plugin-istanbul":`^6.1.1`,"babel-plugin-polyfill-corejs3":`^0.2.5`,"babel-plugin-polyfill-regenerator":`^0.2.3`,concurrently:`^7.6.0`,"core-js":`^3.39.0`,"cross-zip":`^4.0.1`,decomment:`^0.9.5`,"dotenv-extended":`^2.9.0`,eslint:`^8.57.1`,"eslint-config-airbnb-typescript":`^17.1.0`,"eslint-formatter-codeframe":`^7.32.1`,"eslint-plugin-eslint-comments":`^3.2.0`,"eslint-plugin-import":`^2.31.0`,"eslint-plugin-prettier":`^5.2.1`,"eslint-plugin-simple-import-sort":`^10.0.0`,"fast-check":`^4.0.0`,"fs-extra":`^9.1.0`,jsdom:`^20.0.3`,msw:`^2.8.2`,nodemon:`^2.0.22`,"npm-run-all":`^4.1.5`,path:`^0.12.7`,prettier:`3.2.3`,"protobufjs-cli":`~1.1.3`,"regenerator-runtime":`^0.14.1`,rollup:`^4.28.1`,"rollup-plugin-dts":`^6.1.1`,"strict-event-emitter-types":`^2.0.0`,touch:`^3.1.1`,typedoc:`^0.23.28`,typescript:`^5.7.2`,"utility-types":`^3.11.0`,vite:`^5.1.0`,"vite-plugin-istanbul":`^7.0.0`,vitest:`^3.1.1`},optionalDependencies={"@fast-csv/parse":`^4.3.6`,"@types/debug":`4.1.5`,"@types/format-util":`^1.0.4`,"@types/google-closure-compiler":`^0.0.18`,"@types/lodash":`^4.17.13`,"@types/node-forge":`^1.3.11`,"@types/pako":`^1.0.7`,"@types/safe-json-stringify":`^1.1.5`,"@types/uuid":`^3.4.13`,"browserslist-useragent":`^3.1.4`,"rollup-plugin-livereload":`^2.0.5`,"rollup-plugin-serve":`^1.1.1`,"rollup-plugin-visualizer":`^5.12.0`,"typedoc-plugin-no-inherit":`^1.4.0`},pkg={name,exports:exports$1,version,description,keywords,homepage,bugs,license,author,main,types,directories,repository,scripts,config,dependencies,devDependencies,optionalDependencies},_getParameter;const QUERY_INTERVAL=(_getParameter=getParameter(`CONFIG_QUERY_INTERVAL`))??3e5,LOCAL_STORAGE_KEY=`_agora_rtm_custom_config`;function getDeviceInfo(A){let e=`Unknown`,t=`Unknown`;return A.includes(`Chrome`)?e=`Chrome`:A.includes(`Firefox`)?e=`Firefox`:A.includes(`Safari`)&&!A.includes(`Chrome`)?e=`Safari`:A.includes(`Edge`)?e=`Edge`:(A.includes(`Opera`)||A.includes(`OPR`))&&(e=`Opera`),A.includes(`Windows NT`)?t=`Windows`:A.includes(`Mac OS X`)?t=`Mac OS`:A.includes(`Android`)?t=`Android`:A.includes(`iPhone`)||A.includes(`iPad`)?t=`iOS`:A.includes(`Linux`)&&(t=`Linux`),{deviceName:e,osName:t}}class CustomConfig{get domains(){var A,e;let t=getParameter(`TDS_DOMAINS`)??[];return t&&(e=t?.length)!=null&&e?t:this._domains}constructor(A,e){var t;_defineProperty$1(this,`_appid`,``),_defineProperty$1(this,`_sid`,``),_defineProperty$1(this,`_timer`,null),_defineProperty$1(this,`_device`,``),_defineProperty$1(this,`_system`,``),_defineProperty$1(this,`_systemGeneral`,``),_defineProperty$1(this,`_domains`,[`ap-web-1.agora.io`]),_defineProperty$1(this,`_useBackup`,!1),this._appid=A,this._sid=e?.sid??``,this._systemGeneral=navigator.userAgent;let{deviceName:g,osName:o}=getDeviceInfo(this._systemGeneral);this._device=g,this._system=o}init(A){this._sid=A;let e=this._getStorageConfig();if(e)for(let A$1 in e)this._updateSdkConfig(A$1,e[A$1]);this._start()}stop(){this._timer&&=(clearInterval(this._timer),null)}async _query(){let A={},e=this.domains,t=this!=null&&this._useBackup&&e.length>1?this.domains[1]:this.domains[0];try{let e$1=await postWithAbortSignal(`https://${t}/api/v1`,{headers:{"X-Packet-Service-Type":`0`,"X-Packet-URI":`54`,"Content-Type":`application/json`},body:{flag:64,cipher_method:0,features:{device:this._device,system:this._system,system_general:navigator.userAgent,vendor:this._appid,version:pkg.version,install_id:this._sid,session_id:this._sid,detail:``,sdk_type:`web_rtm`}}}),{code:o,test_tags:I}=JSON.parse(e$1.responseText);if(o!==0)return;A=I;let i$1={};for(let e$2 in A)if(e$2.includes(`web_rtm`)){let[t$1,g]=JSON.parse(A[e$2]);for(let A$1 in g)Object.hasOwn(MUTABLE_PARAMS,A$1)&&(i$1[A$1]=g[A$1])}this._setStorageConfig(i$1),this._useBackup=!1}catch{this._useBackup=!0}}async _start(){await this._query(),this._timer=setInterval(async()=>{await this._query()},QUERY_INTERVAL)}_getStorageConfig(){var A,e;let t=atob(localStorage.getItem(LOCAL_STORAGE_KEY)??``);return JSON.parse(t||JSON.stringify({}))?.[this._appid]||null}_setStorageConfig(A){var e;let t=JSON.parse(atob(localStorage.getItem(LOCAL_STORAGE_KEY)??``)||`{}`);t[this._appid]=_objectSpread2({},A),localStorage.setItem(LOCAL_STORAGE_KEY,btoa(JSON.stringify(t)))}_isExpectedType(A){return typeof A==`boolean`||typeof A==`number`||typeof A==`string`||Array.isArray(A)}_updateSdkConfig(A,e){e&&this._isExpectedType(e)&&setParameter(A,e)}}const implementsFunction=(A,e)=>A!=null&&typeof A[e]==`function`,isArrayLike=A=>A!=null&&typeof A!=`function`&&A.length!==void 0,isIterable=A=>A!=null&&typeof A[Symbol.iterator]==`function`,compare=(A,e)=>A===e?0:A==null?e==null?0:-1:e==null?A==null?0:1:typeof A.compare==`function`?A.compare(e):typeof e.compare==`function`?-e.compare(A):A<e?-1:A>e?1:0,OBJP=Object.getPrototypeOf({}),FN=`function`,STR=`string`,equiv=(A,e)=>{let t;return A===e||(A==null?A==e:typeof A.equiv===FN?A.equiv(e):e==null?A==e:typeof e.equiv===FN?e.equiv(A):typeof A!==STR&&typeof e!==STR&&(t=Object.getPrototypeOf(A),t!=null&&t!==OBJP||(t=Object.getPrototypeOf(e),t!=null&&t!==OBJP)?typeof A!==FN&&A.length!==void 0&&typeof e!==FN&&e.length!==void 0?equivArrayLike(A,e):A instanceof Set&&e instanceof Set?equivSet(A,e):A instanceof Map&&e instanceof Map?equivMap(A,e):A instanceof Date&&e instanceof Date?A.getTime()===e.getTime():A instanceof RegExp&&e instanceof RegExp?A.toString()===e.toString():A!=A&&e!=e:equivObject(A,e)))},equivArrayLike=function(A,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:equiv,g=A.length;if(g===e.length)for(;--g>=0&&t(A[g],e[g]););return g<0},equivSet=function(A,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:equiv;return A.size===e.size&&t([...A.keys()].sort(),[...e.keys()].sort())},equivMap=function(A,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:equiv;return A.size===e.size&&t([...A].sort(),[...e].sort())},equivObject=function(A,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:equiv;if(Object.keys(A).length!==Object.keys(e).length)return!1;for(let g in A)if(!e.hasOwnProperty(g)||!t(A[g],e[g]))return!1;return!0},defError=function(A){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:A$1=>A$1===void 0?``:`: `+A$1;return class extends Error{constructor(t){super(A(t)+e(t))}}},IllegalArgumentError=defError(()=>`illegal argument(s)`),illegalArgs=A=>{throw new IllegalArgumentError(A)},OutOfBoundsError=defError(()=>`index out of bounds`),outOfBounds=A=>{throw new OutOfBoundsError(A)},ensureIndex=(A,e,t)=>(A<e||A>=t)&&outOfBounds(A),INV_MAX=1/4294967295;class ARandom{float(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return this.int()*INV_MAX*A}norm(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return 2*(this.int()*INV_MAX-.5)*A}minmax(A,e){return this.float()*(e-A)+A}}const random=Math.random;class SystemRandom extends ARandom{int(){return 4294967296*random()>>>0}float(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return random()*A}norm(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return 2*(random()-.5)*A}}const SYSTEM=new SystemRandom,SEMAPHORE=Symbol(),NO_OP=()=>{},ensureTransducer=A=>implementsFunction(A,`xform`)?A.xform():A;class Reduced{constructor(A){this.value=A}deref(){return this.value}}const isReduced=A=>A instanceof Reduced,unreduced=A=>A instanceof Reduced?A.deref():A;function*iterator1(A,e){let t=ensureTransducer(A)([NO_OP,NO_OP,(A$1,e$1)=>e$1])[2];for(let A$1=0;A$1<e.length;A$1++){let g=e[A$1],o=t(SEMAPHORE,g);if(isReduced(o))return o=unreduced(o.deref()),void(o!==SEMAPHORE&&(yield o));o!==SEMAPHORE&&(yield o)}}const compR=(A,e)=>[A[0],A[1],e];function map(A,e){return isIterable(e)?iterator1(map(A),e):e$1=>{let t=e$1[2];return compR(e$1,(e$2,g)=>t(e$2,A(g)))}}class DCons{constructor(A){this._length=0,A&&this.into(A)}get length(){return this._length}copy(){return new DCons(this)}empty(){return new DCons}clear(){this.release()}release(){let A,e=this.head;for(;e;)A=e.next,delete e.value,delete e.prev,delete e.next,e=A;return delete this.head,delete this.tail,this._length=0,!0}compare(A){let e=this._length;if(e<A._length)return-1;if(e>A._length)return 1;if(e===0)return 0;{let e$1=this.head,t=A.head,g=0;for(;e$1&&g==0;)g=compare(e$1.value,t.value),e$1=e$1.next,t=t.next;return g}}equiv(A){if(!(A instanceof DCons||isArrayLike(A))||this._length!==A.length)return!1;if(!this._length||this===A)return!0;let e=this.head;for(let t=0;t<A.length;t++){let g=A[t];if(!equiv(e.value,g))return!1;e=e.next}return!0}*[Symbol.iterator](){let A=this.head;for(;A;)yield A.value,A=A.next}seq(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.length;if(A>=e||A<0)return;let t=this.nthCell(A),g=this.nthCell(e-1),o=A$1=>({first(){return A$1.value},next(){return A$1!==g&&A$1.next?o(A$1.next):void 0}});return t?o(t):void 0}*cycle(){for(;;)yield*this}$reduce(A,e){let t=this.head;for(;t&&!isReduced(e);)e=A(e,t.value),t=t.next;return e}drop(){let A=this.head;if(A)return this.head=A.next,this.head?delete this.head.prev:delete this.tail,this._length--,A.value}cons(A){let e={value:A,next:this.head};return this.head?this.head.prev=e:this.tail=e,this.head=e,this._length++,this}insertBefore(A,e){A||illegalArgs(`cell is undefined`);let t={value:e,next:A,prev:A.prev};return A.prev?A.prev.next=t:this.head=t,A.prev=t,this._length++,this}insertAfter(A,e){A||illegalArgs(`cell is undefined`);let t={value:e,next:A.next,prev:A};return A.next?A.next.prev=t:this.tail=t,A.next=t,this._length++,this}insertBeforeNth(A,e){return A<0&&(A+=this._length),A<=0?this.cons(e):(ensureIndex(A,0,this._length),this.insertBefore(this.nthCellUnsafe(A),e))}insertAfterNth(A,e){return A<0&&(A+=this._length),A>=this._length-1?this.push(e):(ensureIndex(A,0,this._length),this.insertAfter(this.nthCellUnsafe(A),e))}insertSorted(A,e){e||=compare;let t=this.head;for(;t;){if(e(A,t.value)<=0)return this.insertBefore(t,A);t=t.next}return this.push(A)}find(A){let e=this.head;for(;e;){if(e.value===A)return e;e=e.next}}findWith(A){let e=this.head;for(;e;){if(A(e.value))return e;e=e.next}}concat(){let A=this.copy();var t=[...arguments];for(let e$1=0;e$1<t.length;e$1++){let g$1=t[e$1];A.into(g$1)}return A}into(A){for(let e=0;e<A.length;e++){let t=A[e];this.push(t)}}slice(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.length,t=A<0?A+this._length:A,g=e<0?e+this._length:e;(t<0||g<0)&&illegalArgs("invalid indices: ${from} / ${to}");let o=new DCons,I=this.nthCell(t);for(;I&&++t<=g;)o.push(I.value),I=I.next;return o}splice(A){let e,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,g=arguments.length>2?arguments[2]:void 0;typeof A==`number`?(A<0&&(A+=this._length),ensureIndex(A,0,this._length),e=this.nthCellUnsafe(A)):e=A;let o=new DCons;if(t>0)for(;e&&t-- >0;)this.remove(e),o.push(e.value),e=e.next;else e&&=e.next;if(g)if(e)for(let A$1=0;A$1<g.length;A$1++){let t$1=g[A$1];this.insertBefore(e,t$1)}else for(let A$1=0;A$1<g.length;A$1++){let e$1=g[A$1];this.push(e$1)}return o}remove(A){return A.prev?A.prev.next=A.next:this.head=A.next,A.next?A.next.prev=A.prev:this.tail=A.prev,this._length--,this}swap(A,e){if(A!==e){let t=A.value;A.value=e.value,e.value=t}return this}push(A){if(this.tail){let e={value:A,prev:this.tail};return this.tail.next=e,this.tail=e,this._length++,this}return this.cons(A)}pop(){let A=this.tail;if(A)return this.tail=A.prev,this.tail?delete this.tail.next:delete this.head,this._length--,A.value}first(){return this.head&&this.head.value}peek(){return this.tail&&this.tail.value}setHead(A){return this.head?(this.head.value=A,this):this.cons(A)}setTail(A){return this.tail?(this.tail.value=A,this):this.push(A)}setNth(A,e){let t=this.nthCell(A);return!t&&illegalArgs(`index out of bounds: ${A}`),t.value=e,this}nth(A,e){let t=this.nthCell(A);return t?t.value:e}nthCell(A){if(A<0&&(A+=this._length),!(A<0||A>=this._length))return this.nthCellUnsafe(A)}rotateLeft(){switch(this._length){case 0:case 1:return this;case 2:return this.swap(this.head,this.tail);default:return this.push(this.drop())}}rotateRight(){switch(this._length){case 0:case 1:return this;case 2:return this.swap(this.head,this.tail);default:let A=this.peek();return this.pop(),this.cons(A)}}map(A){let e=new DCons,t=this.head;for(;t;)e.push(A(t.value)),t=t.next;return e}filter(A){let e=new DCons,t=this.head;for(;t;)A(t.value)&&e.push(t.value),t=t.next;return e}reduce(A,e){let t=e,g=this.head;for(;g;)t=A(t,g.value),g=g.next;return t}shuffle(A){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:SYSTEM;if(this._length<2)return this;for(A??=Math.ceil(1.5*Math.log2(this._length));A>0;A--){let A$1=this.head;for(;A$1;){let t=A$1.next;e.float()<.5?this.asHead(A$1):this.asTail(A$1),A$1=t}}return this}sort(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:compare;if(!this._length)return this;let e=1;for(;;){let t=this.head;this.head=void 0,this.tail=void 0;let g=0;for(;t;){g++;let o=t,I=0;for(let A$1=0;A$1<e&&(I++,o=o.next,o);A$1++);let i$1=e;for(;I>0||i$1>0&&o;){let e$1;I===0?(e$1=o,o=o.next,i$1--):o&&i$1!==0?A(t.value,o.value)<=0?(e$1=t,t=t.next,I--):(e$1=o,o=o.next,i$1--):(e$1=t,t=t.next,I--),this.tail?this.tail.next=e$1:this.head=e$1,e$1.prev=this.tail,this.tail=e$1}t=o}if(this.tail.next=void 0,g<=1)return this;e*=2}}reverse(){let A=this.head,e=this.tail,t=(this._length>>>1)+(1&this._length);for(;A&&e&&t>0;){let g=A.value;A.value=e.value,e.value=g,A=A.next,e=e.prev,t--}return this}asHead(A){return A===this.head||(this.remove(A),this.head.prev=A,A.next=this.head,A.prev=void 0,this.head=A,this._length++),this}asTail(A){return A===this.tail||(this.remove(A),this.tail.next=A,A.prev=this.tail,A.next=void 0,this.tail=A,this._length++),this}toString(){let A=[],e=this.head;for(;e;)A.push(String(e.value)),e=e.next;return A.join(`, `)}toJSON(){return[...this]}nthCellUnsafe(A){let e,t;for(A<=this._length>>1?(e=this.head,t=`next`):(e=this.tail,t=`prev`,A=this._length-A-1);A-- >0&&e;)e=e[t];return e}}class LRUCache{constructor(A,e){let t=Object.assign({maxlen:1/0,maxsize:1/0,map:()=>new Map,ksize:()=>0,vsize:()=>0},e);this.map=t.map(),this.items=new DCons,this._size=0,this.opts=t,A&&this.into(A)}get length(){return this.items.length}get size(){return this._size}[Symbol.iterator](){return this.entries()}entries(){return map(A=>[A.k,A],this.items)}keys(){return map(A=>A.k,this.items)}values(){return map(A=>A.v,this.items)}copy(){let A=this.empty();A.items=this.items.copy();let e=A.items.head;for(;e;)A.map.set(e.value.k,e),e=e.next;return A}empty(){return new LRUCache(null,this.opts)}release(){this._size=0,this.map.clear();let A=this.opts.release;if(A){let e;for(;e=this.items.drop();)A(e.k,e.v);return!0}return this.items.release()}has(A){return this.map.has(A)}get(A,e){let t=this.map.get(A);return t?this.resetEntry(t):e}set(A,e){let t=this.opts.ksize(A)+this.opts.vsize(e),g=this.map.get(A);return this._size+=Math.max(0,t-(g?g.value.s:0)),this.ensureSize()&&this.doSetEntry(g,A,e,t),e}into(A){for(let e=0;e<A.length;e++){let t=A[e];this.set(t[0],t[1])}return this}getSet(A,e){let t=this.map.get(A);return t?Promise.resolve(this.resetEntry(t)):e().then(e$1=>this.set(A,e$1))}delete(A){let e=this.map.get(A);return!!e&&(this.removeEntry(e),!0)}resetEntry(A){return this.items.asTail(A),A.value.v}ensureSize(){let A=this.opts.release,e=this.opts.maxsize,t=this.opts.maxlen;for(;this._size>e||this.length>=t;){let e$1=this.items.drop();if(!e$1)return!1;this.map.delete(e$1.k),A&&A(e$1.k,e$1.v),this._size-=e$1.s}return!0}removeEntry(A){let e=A.value;this.map.delete(e.k),this.items.remove(A),this.opts.release&&this.opts.release(e.k,e.v),this._size-=e.s}doSetEntry(A,e,t,g){A?(A.value.v=t,A.value.s=g,this.items.asTail(A)):(this.items.push({k:e,v:t,s:g}),this.map.set(e,this.items.tail))}}class TLRUCache extends LRUCache{constructor(A,e){super(A,e=Object.assign({ttl:36e5},e))}empty(){return new TLRUCache(null,this.opts)}has(A){return this.get(A)!==void 0}get(A,e){let t=this.map.get(A);if(t){if(t.value.t>=Date.now())return this.resetEntry(t);this.removeEntry(t)}return e}set(A,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.opts.ttl,g=this.opts.ksize(A)+this.opts.vsize(e),o=this.map.get(A);if(this._size+=Math.max(0,g-(o?o.value.s:0)),this.ensureSize()){let I=Date.now()+t;o?(o.value.v=e,o.value.s=g,o.value.t=I,this.items.asTail(o)):(this.items.push({k:A,v:e,s:g,t:I}),this.map.set(A,this.items.tail))}return e}getSet(A,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.opts.ttl,g=this.get(A);return g?Promise.resolve(g):e().then(e$1=>this.set(A,e$1,t))}prune(){let A=Date.now(),e=this.items.head;for(;e;)e.value.t<A&&this.removeEntry(e),e=e.next}ensureSize(){let A=this.opts.maxsize,e=this.opts.maxlen,t=Date.now(),g=this.items.head;for(;g&&(this._size>A||this.length>=e);)g.value.t<t&&this.removeEntry(g),g=g.next;return super.ensureSize()}}class ChatManager extends EventBase{constructor(A){super(A,`ChatManager`),_defineProperty$1(this,`dialogueLru`,new TLRUCache(void 0,{maxlen:LRU_MAX_ITEMS,ttl:1e4}))}getChatInfo(A){let e=this.dialogueLru.get(A);if(this.dialogueLru.prune(),e){let{dialogue:t$1,sequence:g}=e,o=g.add(1),I={dialogue:t$1,sequence:o};return this.dialogueLru.set(A,{dialogue:t$1,sequence:o}),I}let t={dialogue:getRandomUInt64(),sequence:Long$1.fromNumber(1,!0)};return this.dialogueLru.set(A,t),t}}const resetIntervalInfo=()=>({joined:new Set,left:new Set,timeout:new Set,stateChanged:new Set});class ChannelPresence extends EventBase{constructor(A,e,t,g){super(e,`ChannelPresence`),_defineProperty$1(this,`_context`,void 0),_defineProperty$1(this,`channelsUsersStates`,new Map),_defineProperty$1(this,`userJoinEvents`,new Set),_defineProperty$1(this,`userLeftEvents`,new Set),_defineProperty$1(this,`getRTMSession`,void 0),_defineProperty$1(this,`timeoutInSnapshot`,new Map),_defineProperty$1(this,`timeoutUsersWithoutInterval`,new Map),_defineProperty$1(this,`intervalMode`,new Map),_defineProperty$1(this,`intervalTimerId`,new Map),_defineProperty$1(this,`intervalSnapshot`,new Map),_defineProperty$1(this,`intervalInfos`,new Map),_defineProperty$1(this,`backoffEventsTimer`,new Map),_defineProperty$1(this,`backoffEventsMap`,new Map),_defineProperty$1(this,`pendingPresenceEvent`,new Map),_defineProperty$1(this,`_decoupleChannels`,new Map),_defineProperty$1(this,`_decoupleChannelPromises`,new Map),_defineProperty$1(this,`_intervals4CreateColl`,[...CREATE_COLL_INTERVALS]),_defineProperty$1(this,`recoverPresenceTimer`,void 0),_defineProperty$1(this,`requestChannelMemberList`,void 0),_defineProperty$1(this,`_controlInterval`,(A$1,e$1)=>{var t$1,g$1,o,I,i$1;let r=this.channelsUsersStates.get(A$1)?.size??0,n=Number(getParameter(`PRESENCE_THRESHOLD`)||this._context.consoleConfig?.[`presence.occupancy`])||0;switch(this.log(`occupancy: %d, channelOccupancy: %d`,n,r),this.log(`(%s) is intervalMode: %s`,A$1,(I=this.intervalMode?.get(A$1))!=null&&I),e$1){case`open`:var C,E;r>=n&&!this.intervalMode.get(A$1)&&(this.log(`open interval mode in channel: ${replaceRangeWithAsterisk(A$1)}`),this.intervalMode.set(A$1,!0),this.intervalSnapshot.set(A$1,this._getIntervalSnapshot(A$1)),this.intervalTimerId.set(A$1,setInterval(()=>{this.emit(`presence-interval`,A$1)},1e3*(getParameter(`PRESENCE_INTERVAL`)??Number(this._context.consoleConfig?.[`presence.interval`])))),this.intervalInfos.set(A$1,resetIntervalInfo()));break;case`close`:r<n&&this.intervalMode.get(A$1)&&(this.log(`close interval mode in channel: ${replaceRangeWithAsterisk(A$1)}`),this.intervalMode.delete(A$1),this.emit(`presence-interval`,A$1,!0),this._clearIntervalById(this.intervalTimerId.get(A$1)),this.intervalTimerId.delete(A$1))}}),_defineProperty$1(this,`_getLocalStateCache`,()=>this._context.localStateCache),_defineProperty$1(this,`_handlePresenceEvent`,A$1=>e$1=>{!getParameter(`SENSITIVE_LOG`)&&console.log({events:e$1},`events`);let t$1=this.backoffEventsMap,g$1=t$1.has(A$1)||this.backoffEventsTimer.has(A$1),o=t$1.get(A$1),I=!(g$1&&o);g$1&&(clearTimeout(this.recoverPresenceTimer),this.recoverPresenceTimer=setTimeout(()=>{var e$2;(e$2=this.getRTMSession())!=null&&e$2.getSynced()&&(this.log(`synced, recover presence`),this._recoverPresence(A$1))},0));let{channelName:i$1,channelType:r}=getChannelDetailByName(A$1),n={eventType:`SNAPSHOT`,channelType:r,channelName:i$1,publisher:``,stateChanged:{},interval:null,snapshot:[],timestamp:getUTCTimeBaseREG(this._context.offsetTime)},C=e$1.length;try{for(let t$2=0;t$2<C;t$2++){let{document:g$2,type:o$1,path:v,value:F}=e$1[t$2];if(n.publisher=g$2,o$1===`DocSyncEnd`){let e$2=this.pendingPresenceEvent.get(A$1);g$2===this._context.uid?e$2&&(e$2.type!==`doc-deleted`&&e$2.type!==`doc-timeout`||this._rePutSelfDoc(A$1),this.pendingPresenceEvent.delete(A$1)):e$2?.type===`state-changed`&&(I&&this.emit(`presence`,e$2.value),this.pendingPresenceEvent.delete(A$1));return}if(o$1===`Put`&&!v&&!F){var E;n.eventType=`REMOTE_JOIN`;let e$2=this._requestGetState(A$1,g$2,!0);if((E=this.channelsUsersStates.get(A$1))==null||E.set(g$2,e$2),g$2===this._context.uid)this.log(`"${replaceRangeWithAsterisk(g$2)}" receive self presence event in channel("${r}"-"${replaceRangeWithAsterisk(i$1)}"), type is JOIN.`);else{var s,B,a,Q;this.log(`remote user(${replaceRangeWithAsterisk(g$2)}) join channel("${r}"-"${replaceRangeWithAsterisk(i$1)}") in presence subscribe callback`),this.intervalMode.get(A$1)?(this.log(`interval mode`),(B=this.intervalInfos.get(A$1))!=null&&B.timeout.has(g$2)?(a=this.intervalInfos.get(A$1))==null||a.timeout.delete(g$2):(Q=this.intervalInfos.get(A$1))==null||Q.joined.add(g$2)):(this.log(`emit presence,controlInterval open`),I&&this.emit(`presence`,n),this._controlInterval(A$1,`open`)),(s=this.timeoutUsersWithoutInterval.get(A$1))==null||s.delete(g$2)}return}if(o$1===`Delete`&&!v&&!F){var c;if((c=this.channelsUsersStates.get(A$1))==null||c.delete(g$2),n.eventType=`REMOTE_LEAVE`,g$2===this._context.uid)this.log(`"${replaceRangeWithAsterisk(g$2)}" receive self presence event in channel("${r}"-"${replaceRangeWithAsterisk(i$1)}"), type is ${n.eventType}. will need execute logout.`),this._rePutSelfDoc(A$1);else{var l,h;if((l=this.timeoutUsersWithoutInterval.get(A$1))!=null&&l.has(g$2))return(h=this.timeoutUsersWithoutInterval.get(A$1))==null||h.delete(g$2),void this.log(`timeout user(${replaceRangeWithAsterisk(g$2)}) left, ignore`);if(this.intervalMode.get(A$1)){var u,d,D;(u=this.intervalInfos.get(A$1))!=null&&u.joined.has(g$2)?(d=this.intervalInfos.get(A$1))==null||d.joined.delete(g$2):(D=this.intervalInfos.get(A$1))==null||D.left.add(g$2),this._controlInterval(A$1,`close`)}else I&&this.emit(`presence`,n)}return}if(o$1===`Delete`&&v===K_PRESENCE_EXPIRED){var y;n.eventType=`REMOTE_JOIN`;let e$2=this._requestGetState(A$1,g$2,!0);if((y=this.channelsUsersStates.get(A$1))==null||y.set(g$2,e$2),g$2===this._context.uid)this.log(`"${replaceRangeWithAsterisk(g$2)}" receive self presence event in channel("${r}"-"${replaceRangeWithAsterisk(i$1)}"), type is REJOIN.`);else{var p$1,R$1,w,_;this.log(`remote user(${replaceRangeWithAsterisk(g$2)}) rejoin channel("${r}"-"${replaceRangeWithAsterisk(i$1)}") in presence subscribe callback`),this.intervalMode.get(A$1)?(R$1=this.intervalInfos.get(A$1))!=null&&R$1.timeout.has(g$2)?(w=this.intervalInfos.get(A$1))==null||w.timeout.delete(g$2):(_=this.intervalInfos.get(A$1))==null||_.joined.add(g$2):(I&&this.emit(`presence`,n),this._controlInterval(A$1,`open`)),(p$1=this.timeoutUsersWithoutInterval.get(A$1))==null||p$1.delete(g$2)}return}if(o$1===`Put`&&v===K_PRESENCE_EXPIRED){var S,f;if((S=this.channelsUsersStates.get(A$1))==null||S.delete(g$2),n.eventType=`REMOTE_TIMEOUT`,g$2===this._context.uid)this.log(`"${replaceRangeWithAsterisk(g$2)}" receive self presence event in channel("${r}"-"${replaceRangeWithAsterisk(i$1)}"), type is TIMEOUT.`),this.pendingPresenceEvent.set(A$1,{type:`doc-timeout`});else if(this.log(`remote user(${replaceRangeWithAsterisk(g$2)}) timeout at channel("${r}"-"${replaceRangeWithAsterisk(i$1)}") in presence subscribe callback`),this.intervalMode.get(A$1)){var N,M,k;(N=this.intervalInfos.get(A$1))!=null&&N.joined.has(g$2)?(M=this.intervalInfos.get(A$1))==null||M.joined.delete(g$2):(k=this.intervalInfos.get(A$1))==null||k.timeout.add(g$2),this._controlInterval(A$1,`close`)}else if((f=this.timeoutUsersWithoutInterval.get(A$1))==null||!f.has(g$2)){var L;(L=this.timeoutUsersWithoutInterval.get(A$1))==null||L.add(g$2),I&&this.emit(`presence`,n)}return}if(!checkKeyValidity(v[0]))return void this.log(`key is invalid in presence subscribe callback, key(${v})`);if(o$1===`Delete`&&v&&!F&&!e$1.some(A$2=>A$2.type===`Put`&&A$2.path===K_PRESENCE_EXPIRED)){var G,b;n.eventType=`REMOTE_STATE_CHANGED`;let o$2=this.channelsUsersStates.get(A$1)?.get(g$2)??{};if(delete o$2[v],n.stateChanged=_objectSpread2({},o$2),g$2===this._context.uid)this.log(`"${replaceRangeWithAsterisk(g$2)}" receive self presence event in channel("${r}"-"${replaceRangeWithAsterisk(i$1)}"), type is ${n.eventType}, state is ${n.stateChanged}`);else if(v[0]!==`_`){var U;this.intervalMode.get(A$1)?(U=this.intervalInfos.get(A$1))==null||U.stateChanged.add(g$2):t$2===findLastIndex$1(e$1,A$2=>{let{type:g$3}=A$2;return g$3===e$1[t$2].type})&&this.pendingPresenceEvent.set(A$1,{type:`state-changed`,value:n})}if(t$2===C-1)return}if(o$1===`Put`&&v&&F){var m,T;let e$2=this.channelsUsersStates.get(A$1)?.get(g$2)??{};if(n.eventType=`REMOTE_STATE_CHANGED`,e$2[v]=F,n.stateChanged=_objectSpread2({},e$2),g$2===this._context.uid)this.log(`"${replaceRangeWithAsterisk(g$2)}" receive self presence event in channel("${r}"-"${replaceRangeWithAsterisk(i$1)}"), type is ${n.eventType}, state is ${n.stateChanged}`);else if(v[0]!==`_`){var O;this.intervalMode.get(A$1)?(O=this.intervalInfos.get(A$1))==null||O.stateChanged.add(g$2):t$2===C-1&&this.pendingPresenceEvent.set(A$1,{type:`state-changed`,value:n})}if(t$2===C-1)return}}}catch(A$2){this.logError(`handlePresenceEvent error: %o`,A$2)}}),this._context=A,this.getRTMSession=t,this.requestChannelMemberList=g,this.on(`presence-interval`,(A$1,e$1)=>{var t$1,g$1,o,I,i$1,r,n,C;let{channelType:E,channelName:s}=getChannelDetailByName(A$1),B={eventType:`INTERVAL`,channelType:E,channelName:s,publisher:``,stateChanged:{},interval:{join:{users:[],userCount:0},leave:{users:[],userCount:0},timeout:{users:[],userCount:0},userStateList:[]},snapshot:[],timestamp:getUTCTimeBaseREG(this._context.offsetTime)},{alreadyJoinedUsers:a,alreadyTimeoutUsers:Q}=this.intervalSnapshot.get(A$1);(t$1=this.intervalInfos.get(A$1))==null||t$1.timeout.forEach(A$2=>{var e$2;a.includes(A$2)&&((e$2=B.interval)==null||e$2.timeout.users.push(A$2),B.interval.timeout.userCount++)}),(g$1=this.intervalInfos.get(A$1))==null||g$1.left.forEach(A$2=>{var e$2;a.includes(A$2)&&((e$2=B.interval)==null||e$2.leave.users.push(A$2),B.interval.leave.userCount++)}),(o=this.intervalInfos.get(A$1))==null||o.joined.forEach(A$2=>{B.interval.join.users.push(A$2),B.interval.join.userCount++});let c=a.filter(e$2=>{var t$2,g$2;return!((t$2=this.intervalInfos.get(A$1))!=null&&t$2.left.has(e$2)||(g$2=this.intervalInfos.get(A$1))!=null&&g$2.timeout.has(e$2))}).concat([...this.intervalInfos.get(A$1)?.joined??new Set]),l=Q.filter(e$2=>{var t$2,g$2;return!((t$2=this.intervalInfos.get(A$1))!=null&&t$2.joined.has(e$2)||(g$2=this.intervalInfos.get(A$1))!=null&&g$2.left.has(e$2))}).concat([...this.intervalInfos.get(A$1)?.timeout??new Set]);if((C=this.intervalInfos.get(A$1))==null||C.stateChanged.forEach(e$2=>{if(c.includes(e$2)){var t$2,g$2,o$1;(t$2=this.intervalInfos.get(A$1))==null||t$2.stateChanged.delete(e$2);let I$1=this.channelsUsersStates.get(A$1)?.get(e$2)??{};B.interval.userStateList.push({userId:e$2,states:I$1,statesCount:Object.keys(I$1).length})}}),B.interval){let{join:A$2,leave:e$2,timeout:t$2,userStateList:g$2}=B.interval;(A$2.userCount>0||e$2.userCount>0||t$2.userCount>0||g$2.length>0)&&this.emit(`presence`,B)}this.intervalSnapshot.set(A$1,{alreadyJoinedUsers:c,alreadyTimeoutUsers:l}),this.intervalInfos.set(A$1,resetIntervalInfo()),e$1&&this.timeoutUsersWithoutInterval.set(A$1,new Set(l))}),this._context.internalEmitter.on(`presence-backoff`,this._startAllBackoffEventsTimer.bind(this)),this._context.internalEmitter.on(`GroupEnterNotice`,this._onGroupEnter.bind(this)),this._context.internalEmitter.on(`GroupLeaveNotice`,this._onGroupLeave.bind(this)),this._context.internalEmitter.on(`presence-user-joined`,A$1=>{let{channelName:e$1,userId:t$1}=A$1;this._emitBackoffPresenceEvents(`join`,e$1,t$1)}),this._context.internalEmitter.on(`presence-user-left`,A$1=>{let{channelName:e$1,userId:t$1}=A$1;this._emitBackoffPresenceEvents(`left`,e$1,t$1)}),this._context.internalEmitter.on(`logout-clear-backoff-events-timer`,()=>{this.backoffEventsTimer.forEach(A$1=>{clearTimeout(A$1)}),this.backoffEventsTimer.clear(),this.backoffEventsMap.clear()})}leave(A){this.getRTMSession()?.leaveColl(A),this._cancelBackoffEventsTimer(A)}delChannelDoc(A){this.getRTMSession()?.delChannelDoc(A),this._context.updateLastSubOrJoinOptionsCache(A,`beQuiet`,!0)}cacheAllChannelCrdtState(){this._context.disablePresence||this._context.getAllChannelNames().forEach(A=>{this._context.getChannelOptionsByKey(A,`beQuiet`)||this._cacheState(A)})}async exceptionCallback(A,e){if(this._context.disablePresence)return;let{withPresence:t,beQuiet:g}=e;await Promise.all([t?this.unsubPresence(A,!1):this.unsubscribeSelfPresence(A,!1),g?Promise.resolve():this._cacheStateAndDelDoc(A)]),this.leave(A),await this._join(A,t,!1),g||this._putChannelDocAndSetState(A),t&&this._subPresence(A)}unsubPresence(A){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],t=this._decoupleChannels.has(A),g=this.getRTMSession();(!getParameter(`DECOUPLE_SYNC`)||!t)&&((g?.getColl(A,!0,`unsubPresence`))?.UnSubscribe(),g?.sendTick()),this._clearIntervalById(this.intervalTimerId.get(A)),this._clearIntervalCacheOfChannel(A),clearTimeout(this.recoverPresenceTimer),e&&this._getLocalStateCache().delete(A),this._context.updateLastSubOrJoinOptionsCache(A,`withPresence`,!1)}leaveRetryChannels(A){this.info(`leaveRetryChannels: %o`,A),A.forEach(A$1=>{this._decoupleChannels.delete(A$1),this._decoupleChannelPromises.delete(A$1)})}unsubscribeSelfPresence(A){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],t=this._decoupleChannels.has(A),g=this.getRTMSession();(!getParameter(`DECOUPLE_SYNC`)||!t)&&((g?.getColl(A,!0,`unsubPresence`))?.UnSubscribe(),g?.sendTick()),e&&this._getLocalStateCache().delete(A)}intervalCreateColl(){this._context.disablePresence||this._decoupleChannels.forEach((A,e)=>{let t=Date.now(),{createTs:g=t,retryCnt:o=0}=A;t-g>=this._getExpectedRetryTs(o)&&!A.creating&&(this.info(`intervalCreateColl, channel: %s, diff: %d, retryCnt: %d`,e,t-g,o),this.joinPresenceColl(e,A,!1))})}async joinPresenceColl(A,e){var t,g,o;let I=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(this.info(`joinPresenceColl: %s, customOperation: %s, withPresence: %s`,A,I,e.withPresence),(t=this._decoupleChannels.get(A))!=null&&t.creating&&this.leave(A),this._decoupleChannels.has(A)||this._decoupleChannels.set(A,_objectSpread2(_objectSpread2({},e),{},{creating:!0})),this._decoupleChannels.has(A)&&I){let t$1=this._decoupleChannels.get(A);this._decoupleChannels.set(A,_objectSpread2(_objectSpread2(_objectSpread2({},t$1),e),{},{creating:!0}))}I||this._decoupleChannels.set(A,_objectSpread2(_objectSpread2({},e),{},{creating:!0}));let i$1=this._decoupleChannels.get(A)?.createTs??Date.now(),{withPresence:r,reJoinCauseReconnect:n=!1,needCreateColl:C}=e;try{if(C){let e$1=this._join(A,r,n);this._decoupleChannelPromises.set(A,e$1),await e$1,this._cancelBackoffEventsTimer(A)}this.info(`onCreateCollection: %s, needCreateColl: %s`,A,C),this._onCreateCollection(A,e),this._decoupleChannels.delete(A)}catch(t$1){var E,s;let g$1=this._decoupleChannels.get(A)?.retryCnt??0;if(!getParameter(`DECOUPLE_SYNC`))throw this._decoupleChannels.delete(A),this.info(`(%s) joinPresenceColl error, need to reset withPresence false and beQuiet true`,A),this._context.updateLastSubOrJoinOptionsCache(A,`withPresence`,!1),this._context.updateLastSubOrJoinOptionsCache(A,`beQuiet`,!0),t$1;var B;if(this.logError(`joinPresenceColl error: %s, retryCnt: %d, withPresence: %s, error: %o`,A,g$1,e.withPresence,t$1),this._decoupleChannels.has(A)&&(B=this._decoupleChannels.get(A))!=null&&B.creating){var a;let t$2=this._decoupleChannels.get(A)??e;this._decoupleChannels.set(A,_objectSpread2(_objectSpread2({},t$2),{},{createTs:i$1,creating:!1,retryCnt:g$1+1})),t$2.withPresence&&this._handleCreateCollError(A)}}finally{this._decoupleChannelPromises.delete(A)}}_cacheState(A){try{this._getStateAndSetByLocal(A)}catch(A$1){this.logError(`cacheState error: %o`,A$1)}}_cacheStateAndDelDoc(A){this._cacheState(A),this.delChannelDoc(A)}_clearIntervalById(A){clearInterval(A)}_getIntervalSnapshot(A){var e,t;let g=[...this.timeoutUsersWithoutInterval.get(A)??new Set],o=[];return(t=this.channelsUsersStates.get(A))==null||t.forEach((A$1,e$1)=>{g.includes(e$1)||o.push(e$1)}),{alreadyJoinedUsers:o,alreadyTimeoutUsers:g}}_clearIntervalCacheOfChannel(A){this.timeoutInSnapshot.delete(A),this.intervalMode.delete(A),this.intervalTimerId.delete(A),this.intervalInfos.delete(A),this.timeoutUsersWithoutInterval.delete(A),this.intervalSnapshot.delete(A)}_emitPresenceSnapshot(A){let e=this._getCollUsers(A,!0),t=new Map;this.timeoutInSnapshot.set(A,new Set),this.log(`presence snapshot: %o`,e);let g=e.filter(e$1=>{var g$1;let{userId:o$1,states:I$1}=e$1;return((g$1=this.timeoutInSnapshot.get(A))==null||!g$1.has(o$1))&&(t.set(o$1,I$1),!0)});this.channelsUsersStates.set(A,t);let{channelName:o,channelType:I}=getChannelDetailByName(A),i$1={eventType:`SNAPSHOT`,channelType:I,channelName:o,publisher:``,stateChanged:{},interval:null,snapshot:g,timestamp:getUTCTimeBaseREG(this._context.offsetTime)};this.emit(`presence`,i$1)}_recoverPresence(A){this.backoffEventsMap.get(A)&&this._emitPresenceSnapshot(A),this._cancelBackoffEventsTimer(A)}async _join(A,e){let t=arguments.length>2&&arguments[2]!==void 0&&arguments[2],g=!t,o=Date.now();try{let g$1=t?`re-`:``,o$1=A.includes(`*s*`),I=o$1?OperationName.join:OperationName.subscribe,i$1=this.getRTMSession();if(i$1?.validateSyncConnected(I),i$1?.getColl(A)!==null)return void this.log(`${g$1}${I} channel(${replaceRangeWithAsterisk(A)}) already.`);this.log(`${SYNC_RPC_START}: ${g$1}${I} channel(${replaceRangeWithAsterisk(A)})`);let r=Date.now();await timeoutPromise(i$1.createColl(A,e?[`*`]:[this._context.uid],e?[`*`]:[this._context.uid]),COMMON_REQUEST_TIMEOUT,I,o$1?RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_FAILED:RTMErrorCode.RTM_ERROR_CHANNEL_SUBSCRIBE_TIMEOUT);let n=Date.now();this.log(`${SYNC_RPC_END}: ${g$1}${I} channel(${replaceRangeWithAsterisk(A)}) succeed. cost: ${n-r}ms.`),e||this._withoutPresenceSubSelf(A)}catch(A$1){throw A$1}finally{if(g){let{channelName:e$1,channelType:t$1}=getChannelDetailByName(A),g$1=this._context.incGetSeq();this._context.addReportEvents(`ChannelPresenceSnapshotEvent`,{channelName:e$1,channelType:ChannelTypeEnum[t$1],userId:this._context.uid,sid:this._context.sid,lts:Long$1.fromNumber(Date.now()),elapse:Long$1.fromNumber(Date.now()-o),vid:Long$1.fromString(getParameter(`VID`).get(this._context.appId)||`0`),reqId:g$1})}}}_onCreateCollection(A,e){let{needDelDoc:t,needPutDoc:g=!1,needSub:o=!1,reJoinCauseReconnect:I=!1}=e;t&&this._cacheStateAndDelDoc(A),g&&this._putChannelDocAndSetState(A,I),o&&this._subPresence(A)}_withoutPresenceSubSelf(A){((this.getRTMSession()?.getColl(A,!0,`withoutPresenceSubSelf`))?.Subscribe())?.addListener(`document-events`,e$1=>{let t$1=e$1.length;for(let g=0;g<t$1;g++){let{document:t$2,type:o,path:I,value:i$1}=e$1[g];if(t$2===this._context.uid){if(o===`DocSyncEnd`){let e$2=this.pendingPresenceEvent.get(A);e$2&&(e$2.type!==`doc-deleted`&&e$2.type!==`doc-timeout`||this._rePutSelfDoc(A),this.pendingPresenceEvent.delete(A));return}o===`Put`&&I===K_PRESENCE_EXPIRED&&this.pendingPresenceEvent.set(A,{type:`doc-timeout`}),o!==`Delete`||I||i$1||this._rePutSelfDoc(A)}}})}_subPresence(A){var e;this._subAndAddPresenceEventListener(A),this._emitPresenceSnapshot(A),this.timeoutUsersWithoutInterval.set(A,this.timeoutInSnapshot.get(A)??new Set),this._controlInterval(A,`open`),this._context.updateLastSubOrJoinOptionsCache(A,`withPresence`,!0)}_getEventIdStr(A,e){let t=A.toString();return e.toString()+t}_onGroupEnter(){return A=>{let{user:e,group:t,seq:g,instance:o}=A;if(e===this._context.uid)return;let I=t+e+this._getEventIdStr(g,o);this.userJoinEvents.has(I)?this.userJoinEvents.delete(I):(this.userJoinEvents.add(I),this._emitBackoffPresenceEvents(`join`,t,e))}}_onGroupLeave(){return A=>{let{user:e,group:t,seq:g,instance:o}=A;if(e===this._context.uid)return;let I=t+e+this._getEventIdStr(g,o);this.userLeftEvents.has(I)?this.userLeftEvents.delete(I):(this.userLeftEvents.add(I),this._emitBackoffPresenceEvents(`left`,t,e))}}_subAndAddPresenceEventListener(A){((this.getRTMSession()?.getColl(A,!0,`subAndAddPresenceEventListener`))?.Subscribe())?.addListener(`document-events`,this._handlePresenceEvent(A))}_requestGetState(A,e){var t;let g=arguments.length>2&&arguments[2]!==void 0&&arguments[2],o=this.getRTMSession();g||e===this._context.uid||o==null||o.validateSyncConnected(OperationName.presenceGetState);let I=OperationName.presenceGetState,r=(o?.getColl(A,!0,`requestGetState`))?.Doc(e);if(isNil$1(r)){let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_PRESENCE_USER_NOT_EXIST);throw new RtmUnavailableError(I,[e$1],A$1)}let n=r?.Get()??{};return this._delKeyExpired(n),n}_delKeyExpired(A){delete A[K_PRESENCE_EXPIRED]}_getCollUsers(A,e){var t,g;let I=(this.getRTMSession()?.getColl(A,!0,`getCollUsers`))?.Docs()??new Map,i$1=[];return I.forEach((t$1,g$1)=>{let o$1=t$1.Get(),I$1=o$1[K_PRESENCE_EXPIRED];var r;(this._delKeyExpired(o$1),I$1)&&((r=this.timeoutInSnapshot.get(A))==null||r.add(g$1)),I$1||i$1.push({userId:g$1,states:e?o$1:{},statesCount:e?Object.keys(o$1).length:0})}),i$1}async _emitBackoffPresenceEvents(A,e,t){if(this.backoffEventsMap.has(e)&&this._context.getChannelOptionsByKey(e,`withPresence`)){switch(A){case`join`:this._emitUserJoinUseReg(e,t);break;case`left`:this._emitUserLeftUseReg(e,t);break;case`snapshot`:await this._emitSnapshotUseReg(e)}this.backoffEventsMap.set(e,!0)}}_emitUserJoinUseReg(A,e){let{channelName:t,channelType:g}=getChannelDetailByName(A),o={eventType:`REMOTE_JOIN`,channelType:g,channelName:t,publisher:e,stateChanged:{},interval:null,snapshot:[],timestamp:getUTCTimeBaseREG(this._context.offsetTime)};this.emit(`presence`,o)}_emitUserLeftUseReg(A,e){let{channelName:t,channelType:g}=getChannelDetailByName(A),o={eventType:`REMOTE_LEAVE`,channelType:g,channelName:t,publisher:e,stateChanged:{},interval:null,snapshot:[],timestamp:getUTCTimeBaseREG(this._context.offsetTime)};this.emit(`presence`,o)}async _emitSnapshotUseReg(A){try{let e={eventType:`SNAPSHOT`,channelType:`MESSAGE`,channelName:A,publisher:``,stateChanged:{},interval:null,snapshot:(await this.requestChannelMemberList(A)).memberInfos.map(A$1=>{var e$1;return{userId:A$1.account??``,states:{},statesCount:0}}),timestamp:getUTCTimeBaseREG(this._context.offsetTime)};this.emit(`presence`,e)}catch{}}_handleCreateCollError(A){[...this.backoffEventsMap.keys()].filter(e=>e!==A).length>0?this._changeSourceToReg(A):this._startBackoffEventsTimer(A)}_changeSourceToReg(A){var e;if(this.backoffEventsMap.has(A))return;this.log(`${A} change source to reg`),this.backoffEventsMap.set(A,!1);let{channelType:t}=getChannelDetailByName(A);t===`MESSAGE`&&this.getRTMSession()?.getColl(A)===null&&this._emitBackoffPresenceEvents(`snapshot`,A)}_getPresenceBackoffEventInterval(){let A=getParameter(`PRESENCE_BACKOFF_EVENT_INTERVAL`);return 1e3*Number(A??0)||6e4}_startBackoffEventsTimer(A){if(this.backoffEventsTimer.has(A)||this.backoffEventsMap.has(A)||!this._context.getChannelOptionsByKey(A,`withPresence`))return;let e=setTimeout(()=>{this._changeSourceToReg(A)},this._getPresenceBackoffEventInterval());this.backoffEventsTimer.set(A,e)}_startAllBackoffEventsTimer(){this.log(`start backoff all channels timer`),this._context.getAllChannelNames().forEach(A=>{this._startBackoffEventsTimer(A)})}_cancelBackoffEventsTimer(A){(this.backoffEventsTimer.has(A)||this.backoffEventsMap.has(A))&&this.log(`${A} change source to sync`),this.backoffEventsTimer.has(A)&&clearTimeout(this.backoffEventsTimer.get(A)),this.backoffEventsMap.delete(A)}_getExpectedRetryTs(A){let e=0,t=this._intervals4CreateColl.length;if(A>t)return 1e3*(this._intervals4CreateColl.reduce((A$1,e$1)=>A$1+e$1,0)+(A-t)*this._intervals4CreateColl[t-1]);for(let t$1=0;t$1<A;t$1++)e+=this._intervals4CreateColl[t$1];return 1e3*e}_rePutSelfDoc(A){this.log(`Try rejoin channel(${A}) when reconnected.`);try{let{beQuiet:e}=this._context.getChannelLastSubOrJoinOptions(A);e||(this.log(`presence coll exists, need restore doc and states, channelId is `,A),this._putChannelDocAndSetState(A,!0))}catch(A$1){this.warn(`restore presence failed, %o`,A$1)}}_getStateAndSetByLocal(A){let e=this==null?void 0:this._requestGetState(A,this._context.uid,!0),t=new Map;e&&Object.keys(e).forEach(A$1=>{t.set(A$1,e[A$1])}),this==null||this._getLocalStateCache().set(A,t)}_putChannelDocAndSetState(A){var e,t;let g=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],o=this.getRTMSession(),I=o?.getColl(A,!0,`putChannelDocAndSetState`),i$1={};(this._getLocalStateCache().get(A)??new Map).forEach((A$1,e$1)=>{i$1[e$1]=A$1}),this.log(`local states: %o, reJoinCauseReconnect: %s`,i$1,g);let r=I?.Doc(this._context.uid),n=!!r,C=r?.Get()??{};this.log(`remote doc exist: ${n}, remote state: %o`,C),n&&C[K_PRESENCE_EXPIRED]&&I?.DelDoc(this._context.uid),n&&!C[K_PRESENCE_EXPIRED]||(I?.PutDoc(this._context.uid),this.log(`Put channel(${replaceRangeWithAsterisk(A)}) document succeed.`));let E=I?.Doc(this._context.uid);if(o?.setAutoKeepalive(A),o?.sendTick(),g||this._getLocalStateCache().has(A)){if(this.log(`update user state in channel(${replaceRangeWithAsterisk(A)}) local cache.`),!n||C[K_PRESENCE_EXPIRED])this.log(`remote doc not exist or expired, directly set`),E?.Set(i$1);else{let A$1=Object.keys(C).filter(A$2=>!i$1.hasOwnProperty(A$2)&&A$2!==K_PRESENCE_EXPIRED);A$1.length>0&&E?.Del(A$1);let e$1=Object.keys(i$1).filter(A$2=>!C.hasOwnProperty(A$2)||C[A$2]!==i$1[A$2]);e$1.length>0&&E?.Set(i$1),this.log(`diff state: %o`,{addOrChangedKeys:e$1,needDelKeys:A$1})}o?.sendTick()}else this.log(`first join presence and without local state`);this._context.updateLastSubOrJoinOptionsCache(A,`beQuiet`,!1)}}var _exec,_window;const chromeVersion=(_exec=/Chrome\/([0-9.]+)/.exec((_window=window)==null||(_window=_window.navigator)==null?void 0:_window.userAgent))==null||(_exec=_exec[1])==null?void 0:_exec.split(`.`)[0];if(chromeVersion&&parseInt(chromeVersion,10)>=88&&!isMobile$1()){var _hiddenCanvas$getCont;let A=document.createElement(`video`),e=document.createElement(`canvas`);A.setAttribute(`style`,`display:none`),A.setAttribute(`muted`,``),A.muted=!0,A.setAttribute(`autoplay`,``),A.autoplay=!0,A.setAttribute(`playsinline`,``),e.setAttribute(`style`,`display:none`),e.setAttribute(`width`,`1`),e.setAttribute(`height`,`1`),(_hiddenCanvas$getCont=e.getContext(`2d`))==null||_hiddenCanvas$getCont.fillRect(0,0,1,1),A.srcObject=e?.captureStream()}const updateWasmLogLevel=A=>{};class RTMImpl extends EventBase{constructor(A,e,t){super(A,`RTMImpl`,!0),_defineProperty$1(this,`presence`,void 0),_defineProperty$1(this,`storage`,void 0),_defineProperty$1(this,`lock`,void 0),_defineProperty$1(this,`history`,void 0),_defineProperty$1(this,`_context`,void 0),_defineProperty$1(this,`_processId`,void 0),_defineProperty$1(this,`_rtmSession`,void 0),_defineProperty$1(this,`_channelPresence`,void 0),_defineProperty$1(this,`_customConfig`,void 0),_defineProperty$1(this,`_suspendedTimer`,null),_defineProperty$1(this,`_createCollInterval`,null),_defineProperty$1(this,`_streamChannelList`,[]),_defineProperty$1(this,`_stChannelInstances`,new Map),_defineProperty$1(this,`_lastLoginTime`,void 0),_defineProperty$1(this,`_connectionState`,`DISCONNECTED`),_defineProperty$1(this,`_linkState`,`IDLE`),_defineProperty$1(this,`_suspended`,!1),_defineProperty$1(this,`_reconnId`,0),_defineProperty$1(this,`_channelMetadataSub`,new Set),_defineProperty$1(this,`_apiRateLimit`,new ApiRateLimiter),_defineProperty$1(this,`_lockSnapshotLastTime`,new Map),_defineProperty$1(this,`_lockEventInfos`,new Map),_defineProperty$1(this,`_channelMetaEventInfos`,new Map),_defineProperty$1(this,`_userMetaEventInfos`,new Map),_defineProperty$1(this,`_notifyLockReSub`,new Subject),_defineProperty$1(this,`_notifyChannelMetaReSub`,new Subject),_defineProperty$1(this,`_notifyChannelReSub`,new Subject),_defineProperty$1(this,`_rtmSubscriptions`,{lockSubs:new Map,metadataSubs:new Map,channels:new Map}),_defineProperty$1(this,`_dialPendingMsgSubjectMap`,new Map),_defineProperty$1(this,`_dialogueSequenceLru`,new LRUCache(void 0,{maxlen:LRU_MAX_ITEMS})),_defineProperty$1(this,`_msgDedupLru`,new LRUCache(void 0,{maxlen:200})),_defineProperty$1(this,`_chatManager`,void 0),_defineProperty$1(this,`_tokenPrivilegeWillExpireHandler`,A$1=>{this.emit(`tokenPrivilegeWillExpire`,``),this.emit(`token`,{eventType:`WILL_EXPIRE`,reason:TokenEventReason.WILL_EXPIRE,affectedResources:A$1,timestamp:getUTCTimeBaseREG(this._context.offsetTime)})}),_defineProperty$1(this,`_userDropHandler`,async A$1=>{if(this._connectionState===`FAILED`)return;let e$1=`INTERRUPTED`,t$1=LinkStateChangeReasonDescription.UNKNOWN,g=`UNKNOWN`;switch(A$1){case 2:this.logError(`Server banned because of token is expired, ticket expired.`),e$1=`TOKEN_EXPIRED`,t$1=LinkStateChangeReasonDescription.TOKEN_EXPIRED,g=`TOKEN_EXPIRED`;break;case RegServerErrorCode.kRejoined:this.logError(`Kicked off by remote session`),e$1=`SAME_UID_LOGIN`,t$1=LinkStateChangeReasonDescription.SAME_UID_LOGIN,g=`SAME_UID_LOGIN`;break;case RegServerErrorCode.kJoinTooFrequently:this.logError(`login too frequent`),e$1=`REJECTED_BY_SERVER`,t$1=LinkStateChangeReasonDescription.LOGIN_TOO_FREQUENT,g=`LOGIN_TOO_FREQUENT`;break;case RegServerErrorCode.kUserBannedByAuth:this.logError(`Kicked off by authorization`),e$1=`KICKED_OUT_BY_SERVER`,t$1=LinkStateChangeReasonDescription.KICKED_OUT_BY_SERVER,g=`KICKED_OUT_BY_SERVER`;break;default:this.logError(`User kicked off for unknown code: ${A$1}`)}this._updateLinkState(`FAILED`,`SERVER_REJECT`,this._getUsedMessageChannelIds(),g,t$1),this._onConnectionStateChanged(`FAILED`,e$1)}),_defineProperty$1(this,`_userMetaDataUpdatedHandler`,A$1=>{var e$1,t$1;let{uid:g,data:o}=A$1;if((this._userMetaEventInfos.get(g)??-1)>=o.majorRevision||!this.storage.storageImpl.isSubedUserMetadata(g))return void this.log(`user(${replaceRangeWithAsterisk(g)}) meta not changed or not subscribed, ignore.`);let I={};o.items.map(A$2=>{var e$2;I[A$2?.getKey()]={value:A$2.getValue()??``,revision:A$2.getRevision(),updated:A$2.getUpdateTs(),authorUid:A$2.getAuthorUserId()}});let i$1={totalCount:o==null||(t$1=o.items)==null?void 0:t$1.length,majorRevision:o?.majorRevision,metadata:I},r=`UPDATE`;this._userMetaEventInfos.has(g)||(r=`SNAPSHOT`);let n={channelType:`USER`,channelName:``,publisher:g,storageType:`USER`,data:i$1,eventType:r,timestamp:getUTCTimeBaseREG(this._context.offsetTime)};this._userMetaEventInfos.set(g,o.majorRevision),this.emit(`storage`,n)}),_defineProperty$1(this,`_onChannelTextMessage`,A$1=>{let{memberId:e$1,text:t$1,channelId:g,customType:o,channelType:I}=A$1,i$1={channelName:g,channelType:I,topicName:``,message:t$1,publisher:e$1,messageType:`STRING`,customType:o,timestamp:getUTCTimeBaseREG(this._context.offsetTime)};this.emit(`message`,i$1)}),_defineProperty$1(this,`_onChannelRawMessage`,A$1=>{let{raw:e$1,memberId:t$1,channelId:g,customType:o,channelType:I}=A$1,i$1={channelName:g,channelType:I,topicName:``,message:e$1,publisher:t$1,messageType:`BINARY`,customType:o,timestamp:getUTCTimeBaseREG(this._context.offsetTime)};this.emit(`message`,i$1)}),_defineProperty$1(this,`_onChannelMetaDataUpdated`,A$1=>{var e$1,t$1;let{channelId:g,data:o}=A$1;if((this._channelMetaEventInfos.get(g)??-1)>=o.majorRevision||!this._channelMetadataSub.has(g))return void this.log(`channel(${g}) meta not changed or not subscribed, ignore.`);let{channelName:I,channelType:i$1}=getChannelDetailByName(g),r={};o.items.map(A$2=>{var e$2;r[A$2?.getKey()]={value:A$2.getValue()??``,revision:A$2.getRevision(),updated:A$2.getUpdateTs(),authorUid:A$2.getAuthorUserId()}});let n={totalCount:o==null||(t$1=o.items)==null?void 0:t$1.length,majorRevision:o?.majorRevision,metadata:r},C=`UPDATE`;this._channelMetaEventInfos.has(g)||(C=`SNAPSHOT`);let E={channelType:i$1,channelName:I,publisher:``,storageType:`CHANNEL`,data:n,eventType:C,timestamp:getUTCTimeBaseREG(this._context.offsetTime)};this._channelMetaEventInfos.set(g,o.majorRevision),this.emit(`storage`,E)}),_defineProperty$1(this,`_onLogout`,()=>{let A$1=OperationName.logout;this._validateRTMSessionExist(A$1);try{this._clearChannel(this._context.getAllChannelNames())}catch{}this._context.internalEmitter.removeListener(`LOGOUT`,this._onLogout)}),_defineProperty$1(this,`_onChannelLockEvent`,A$1=>{let{channelName:e$1,channelType:t$1}=A$1,g=getChannelNameByType(e$1,t$1);this._context.getChannelOptionsByKey(g,`withLock`)&&this.emit(`lock`,A$1)}),this._context=t,this._processId=e,this.setMaxListeners(512),window.addEventListener(`offline`,()=>{this.warn(`network-state-change: ONLINE -> OFFLINE`)}),window.addEventListener(`online`,()=>{var A$1;this.log(`network-state-change: OFFLINE -> ONLINE`),(A$1=this._rtmSession)==null||A$1.notifyNetworkChange(!0)}),this._addEventsFromContext(),this.lock=new Lock(A,this._context,()=>this._rtmSession,this._validateRtmConnection.bind(this)),this.presence=new Presence(A,this._context,()=>this._rtmSession,()=>this._linkState,()=>{var A$1;return this._channelPresence?.backoffEventsMap},this._requestChannelMemberList.bind(this)),this.storage=new RStorage(A,this._context,()=>this._rtmSession,this._validateRtmConnection.bind(this),this.lock.lockImpl.localAcquiredLocks,this._channelMetaEventInfos,this._userMetaEventInfos),this.history=new History(A,this._context,()=>this._rtmSession,this._validateRtmConnection.bind(this)),this._channelPresence=new ChannelPresence(this._context,A,()=>this._rtmSession,this._requestChannelMemberList.bind(this)),this._channelPresence.on(`presence`,A$1=>{this.emit(`presence`,A$1)}),this.log(`rtm use private config: %s, enable cloud proxy: %s`,this._context.enablePrivate,this._context.config.cloudProxy),this._context.enablePrivate||(this._customConfig=new CustomConfig(this._context.appId)),this._chatManager=new ChatManager(A)}async login(A){var e,t,g;let o=this._linkState===`FAILED`;o&&this._channelPresence.cacheAllChannelCrdtState();let I=Array.from(this._context.getAllChannelNames()??[]),i$1=[],r=OperationName.login,n=A?.token;if(this._linkState===`CONNECTING`){let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_DUPLICATE_OPERATION);throw new RtmUnavailableError(r,[e$1],A$1)}let C=this._context.instanceId===null,E=this._context.instanceId??getRandomUInt64();this._context.instanceId=E,this._context.sid=getSid(E),this._linkState===`IDLE`&&this._updateLinkState(`CONNECTING`,`LOGIN`,[],`LOGIN`,LinkStateChangeReasonDescription.LOGIN);let s={timestamp:0};if(this._linkState===`CONNECTED`)return s;if([`SUSPENDED`,`DISCONNECTED`].includes(this._linkState))return this._updateLinkState(`CONNECTING`,`LOGIN`,[],`RELOGIN`,LinkStateChangeReasonDescription.RELOGIN),s;this._linkState===`FAILED`&&this._updateLinkState(`CONNECTING`,`LOGIN`,[],`RELOGIN`,LinkStateChangeReasonDescription.RELOGIN);try{if(this._context.rtmConfig.privateConfig&&!this._context.rtmConfig.privateConfig.serviceType.includes(`MESSAGE`)){let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_SERVICE_NOT_SUPPORTED);throw new RtmUnavailableError(r,[e$1],A$1)}if(this._apiRateLimit.canMakeOperation(`login`),n&&validateToken(n,this._context.appId,r,A$1=>{this.warn(A$1)}),validateKey(this._context.uid,r,`uid`),A?.token===this._context.appId&&(n=void 0),!isNil$1(n)&&typeof n!=`string`){let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_TOKEN);throw new RtmInvalidArgumentError(r,[e$1],A$1)}this._context.enablePrivate&&areaConfig&&throwInvalidPrivateConfig(r,` Use private config, not permit setArea`)}catch(A$1){let{errorCode:e$1}=A$1;throw this._handleLoginFailedState(e$1),A$1}this._context.internalEmitter.removeListener(`LOGOUT`,this._onLogout),this._context.internalEmitter.once(`LOGOUT`,this._onLogout),changeBusyStatus(!0),this._context.token=A?.token,this.info(`RTM Client logging in as ${replaceRangeWithAsterisk(this._context.uid)}`),C&&this._context.sendReport(`Session`,{appId:this._context.appId,did:navigator.userAgent,elapse:getElapse(this._context.startTime),index:{index1:this._context.uid,index2:this._context.appId,index3:`logUpload=${this._context.config.logUpload}`},installId:this._processId,lts:Long$1.fromNumber(Date.now()),os:7,sid:getSid(E),token:n||``,userId:this._context.uid,ver:VERSION,buildno:1100,subVersion:100,version:10}),(g=this._customConfig)==null||g.init(this._context.sid);let B=Date.now();try{var a;await this._loginImpl({uid:this._context.uid,instanceId:E}),this._onConnectionStateChanged(`CONNECTED`,`LOGIN_SUCCESS`),this._context.addReportEvents(`LoginResult`,{lts:Long$1.fromNumber(Date.now()),vid:Long$1.fromString(getParameter(`VID`).get(this._context.appId)||`0`),sid:this._context.sid,code:(a=this._rtmSession)!=null&&a.getSyncConnected()?0:RTMErrorCode.RTM_ERROR_PRESENCE_NOT_CONNECTED,elapse:getElapse(this._context.startTime),userId:this._context.uid}),this._updateLinkState(`CONNECTED`,`LOGIN`,[],`LOGIN_SUCCESS`,LinkStateChangeReasonDescription.LOGIN_SUCCESS);try{o&&(await Promise.all([...I?.map(A$1=>{var e$1;let{channelName:t$1,channelType:g$1}=getChannelDetailByName(A$1),o$1=this._context.getChannelLastSubOrJoinOptions(A$1),I$1=``,i$2=!(o$1!=null&&o$1.beQuiet),r$1=o$1?.withPresence;if(o$1&&g$1===`MESSAGE`)I$1=t$1;else{if(!o$1||g$1!==`STREAM`)return Promise.resolve();I$1=getChannelNameByType(t$1,`STREAM`)}return this._context.notInChannel(I$1)?Promise.resolve():this._attend(I$1,{unsubSelfColl:!1,unsubColl:!1,destroyColl:!1},{withPresence:(e$1=o$1.withPresence)!=null&&e$1,needCreateColl:!(!o$1.withPresence&&o$1.beQuiet),needPutDoc:i$2,needDelDoc:!1,needSub:r$1,reJoinCauseReconnect:!0})})])).forEach((A$1,e$1)=>{e$1>=I.length||isRtmError(A$1)&&i$1.push(I[e$1])})}catch(A$1){this.logError(`restore failed ${JSON.stringify(A$1)}`)}return s}catch(A$1){var Q;if(isRtmError(A$1)&&((Q=this._rtmSession)==null||!Q.isCanceledLogin)){var c;let{errorCode:e$1}=A$1;this._context.addReportEvents(`Link`,{ackedServerIp:``,destServerIp:``,ec:A$1.code||1,sc:A$1.serverCode,elapse:getElapse(this._context.startTime),lts:Long$1.fromNumber(Date.now()),responseTime:Date.now()-B,sid:getSid(E),userId:this._context.uid,version:10,subVersion:100,connectionsequence:Long$1.fromNumber(0),linktype:4,linkflag:Long$1.fromNumber(0),linkenv:0}),((c=this._rtmSession)==null||!c.isCanceledLogin)&&this._handleLoginFailedState(e$1)}throw A$1}finally{this._context.socketUseProxy=!1,changeBusyStatus(!1),this._context.socketUseProxy&&this.log(`port fallback to 443`),this._clearLinkTimers()}}async logout(){var A,e;let t={timestamp:0};var g;if([`CONNECTING`,`SUSPENDED`,`DISCONNECTED`].includes(this._linkState)&&(this.warn(`logout: cancel login`),(g=this._rtmSession)==null||g.cancelLogin()),this._connectionState===`DISCONNECTED`&&this._linkState===`IDLE`)return this.warn(`Already in logout state: ${this._connectionState}`),t;if(this._rtmSession&&getParameter(`VID`).get(this._context.appId)&&this._context.addReportEvents(`Logout`,{elapse:getElapse(this._context.startTime),lts:Long$1.fromNumber(Date.now()),sid:getSid(this._context.instanceId??Long$1.fromNumber(0)),userId:this._context.uid,version:10,subVersion:100,connectionsequence:Long$1.fromNumber(0),linktype:4,linkflag:Long$1.fromNumber(0),linkenv:0}),(e=this._customConfig)==null||e.stop(),this._clearInternalEvents(),this._connectionState===`FAILED`||this._linkState===`FAILED`){this._linkState===`FAILED`&&this._updateLinkState(`IDLE`,`LOGOUT`,[],`LOGOUT`,LinkStateChangeReasonDescription.LOGOUT),this._connectionState===`FAILED`&&this._onConnectionStateChanged(`DISCONNECTED`,`LOGOUT`);try{await this._internalLogoutHandler(!1,!1)}catch(A$1){this.logError(`logout failed when linkState is FAILED: ${A$1}`)}return t}if(this._connectionState===`RECONNECTING`||[`DISCONNECTED`,`SUSPENDED`,`CONNECTING`].includes(this._linkState)){var o,I;this.info(`Reset connection state from "RECONNECTING" to "DISCONNECTED"`);try{await this._internalLogoutHandler(!0,!1)}catch(A$1){this.logError(`logout failed when RECONNECTING: ${A$1}`)}!0===this._rtmSession?.isCanceledLogin&&((I=this._rtmSession)==null||I.resetCancelLogin())}else await this._logoutImpl();return this._updateLinkState(`IDLE`,`LOGOUT`,this._getUsedMessageChannelIds(),`LOGOUT`,LinkStateChangeReasonDescription.LOGOUT),t}_handlePermissionRevoked(A){A.forEach(A$1=>{this._absent(A$1),this._channelMetaEventInfos.delete(A$1),this._channelMetadataSub.delete(A$1),this._lockSnapshotLastTime.delete(A$1),this._context.deleteChannel(A$1)}),this._clearChannel(A)}async renewToken(A,e){var t;let g=OperationName.renewToken;this._apiRateLimit.canMakeOperation(`renewToken`),this._validateRtmConnection(g,!1),validateToken(A,this._context.appId,g,A$1=>{this.warn(A$1)});let o={timestamp:0};this._context.addReportEvents(`RenewToken`,{sid:this._context.sid,userId:this._context.uid,lts:Long$1.fromNumber(Date.now()),elapse:getElapse(this._context.startTime),cname:e?.channelName??``,token:A});let I=0;try{if(e==null||!e.channelName){var i$1;if(typeof A!=`string`||A.length===0){let{code:A$1,reason:e$2}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_TOKEN);throw new RtmInvalidArgumentError(g,[e$2],A$1)}if(![`CONNECTED`,`RECONNECTING`].includes(this._connectionState)||this._linkState!==`CONNECTED`){let{code:A$1,reason:e$2}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_CONNECTED);throw new RtmInvalidStatusError(g,[e$2],A$1)}if(this._validateRTMSessionExist(g),A===this._context.token)return{timestamp:0};try{var r=this._context.token;this._context.token=A,this._rtmSession.clearEdges4RenewToken();var[{ticket:n}]=await Promise.all([this._rtmSession.genApEdgeInfo$(!1,!0).pipe(throwIfEmpty(()=>Error(`No available edge address to connect`)),retryWhen(A$1=>A$1.pipe(tap(A$2=>{if(isRtmError(A$2))throw A$2}),delay(2500),take(4))),take(1),timeout(COMMON_REQUEST_TIMEOUT),catchError(A$1=>(isTimeout(A$1)&&this.warn(`renewToken timed out`),throwError(A$1)))).toPromise()])}catch(A$1){if(this._rtmSession.recoverEdges4RenewToken(),this._context.token=r,isTimeout(A$1)){let{code:A$2,reason:e$2}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_RENEW_TOKEN_TIMEOUT);throw new RtmTimeoutError(g,[e$2],A$2)}{let{code:e$2,reason:t$2}=getErrorInfoByCode(A$1.code);throw new RtmUnauthenticatedError(g,[t$2],e$2)}}let e$1=await this._requestUpdateEdgeTicket2(n).toPromise();if(e$1.code!==0){let{code:A$1,reason:t$2}=getErrorInfoByCode(e$1.code);throw new RtmUnavailableError(g,[t$2],A$1)}var C;(C=this._rtmSession)==null||C.updateRegTicket(n);let t$1=atob(n);(i$1=this._rtmSession)==null||i$1.updateSyncTicket({ticket:t$1});try{let A$1={messageChannels:JSON.parse(e$1.revoked).messageChannels.map(A$2=>{var e$2;return Object.keys(A$2)[0]??``})};Object.values(A$1).some(A$2=>A$2.length>0)&&(this._handlePermissionRevoked(Object.values(A$1).flat()),this.emit(`token`,{eventType:`READ_PERMISSION_REVOKED`,reason:TokenEventReason.READ_PERMISSION_REVOKED,affectedResources:A$1,timestamp:getUTCTimeBaseREG(this._context.offsetTime)}))}catch(A$1){this.logError(`parse permission revoked resources failed, error: %o`,A$1)}var E;return this._context.disablePresence||await this._rtmSession?.renewSyncTicket(t$1),o}if(validateKey(e.channelName,g,`channel`),this._streamChannelList.some(A$1=>A$1===e.channelName)||this.warn(`renewToken: channel(${e.channelName}) not join.`),!this._stChannelInstances.has(e.channelName)){let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_NAME);throw new RtmInvalidArgumentError(g,[e$1],A$1)}try{return await this._stChannelInstances.get(e.channelName)?.renewStreamChannelToken(A),o}catch(A$1){throw A$1}}catch(A$1){let{serverCode:e$1,errorCode:t$1}=A$1;throw I=e$1??t$1,this._context.token=r,A$1}finally{var s;this._context.addReportEvents(`RenewTokenRes`,{lts:Long$1.fromNumber(Date.now()),vid:Long$1.fromString(getParameter(`VID`).get(this._context.appId)||`0`),sid:this._context.sid,userId:this._context.uid,elapse:getElapse(this._context.startTime),cname:e?.channelName??``,token:A,apErrCode:I,regErrCode:I})}}async publish(A,e,t){let g=OperationName.publish;if(this._apiRateLimit.canMakeOperation(`publish`),t!=null&&t.channelType&&t?.channelType!==`USER`&&t?.channelType!==`MESSAGE`){let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_CHANNEL_TYPE);throw new RtmInvalidArgumentError(g,[e$1],A$1)}if(this._validateRtmConnection(g),validateKey(A,g,`channel`),validateMessageSize(e,g),t!=null&&t.customType&&validateCustomType(t?.customType,g),t!=null&&t.storeInHistory&&this._context.consoleConfig[`history.enabled`]!==`true`){let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_HISTORY_NOT_AVAILABLE);throw new RtmInvalidArgumentError(g,[e$1],A$1)}let o={timestamp:0,channelName:A},I=e instanceof Uint8Array?{rawMessage:e,messageType:`RAW`}:{text:e,messageType:`TEXT`},i$1=t?.channelType===`USER`;validMessage(I,RTMErrorCode.RTM_ERROR_CHANNEL_INVALID_MESSAGE);try{await this._commonSendMessage({message:I,peerId:A,diff:0,customType:t?.customType,storeInHistory:t?.storeInHistory,toPeer:i$1})}catch(A$1){if(isTimeout(A$1)){let{code:A$2,reason:e$2}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TIMEOUT);throw new RtmTimeoutError(g,[e$2],A$2)}if(isRtmError(A$1))throw A$1;let{code:e$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED);throw new RtmUnknownError(g,[t$1],e$1)}return o}async subscribe(A,e){var t;let g=arguments.length>2&&arguments[2]!==void 0&&arguments[2],o=OperationName.subscribe;this._apiRateLimit.canMakeOperation(`subscribe`),this._validateRtmConnection(o),this._validateRTMSessionExist(o),validateKey(A,o,`channel`);let I=this._context.notInChannel(A),i$1=this._getUsedMessageChannelIds(),r=getParameter(`MESSAGE_CHANNEL_COUNT`)??50;if(I&&(this._context.getAllChannelNames().length>=r||i$1.length>=r)){let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_INSTANCE_EXCEED_LIMITATION);throw new RtmLimitExceededError(o,[e$1],A$1)}this._validateJoinOptions(e,o);let n=handleSubOptionsAsDefault(e),C={timestamp:0,channelName:A},{currentResolve:E}=await this._context.operationControl.awaitPromise(OperationName.subscribe+A),s=this._rtmSession,B=getRandomInt(0,2**53-1),a=this._context.getChannelLastSubOrJoinOptions(A);try{let{withMessage:t$1}=a;if(this._context.setLastSubOrJoinOptionsCache(A,n),n!=null&&n.withMessage&&!t$1)try{await this._subMessage(A,o)}catch(e$1){throw this._context.internalEmitter.emit(`channelLeft`,A),this._context.deleteChannel(A),e$1}let{code:i$2,reason:r$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_SUBSCRIBE_FAILED);try{await Promise.all([n!=null&&n.withMessage||!t$1?Promise.resolve():this._unsubMessage(A),this._updateOptionsReJoinOrSub(A,I,a,e,g)])}catch(A$1){throw isRtmError(A$1)?A$1:new RtmUnknownError(o,[r$1+A$1],i$2)}}catch(e$1){E(void 0);let{errorCode:t$1,serverCode:g$1}=e$1;var Q;throw s&&this._context.addReportEvents(`ChnJoinRes`,{cname:A,lts:Long$1.fromNumber(Date.now()),elapse:getElapse(this._context.startTime),errCode:t$1,sid:getSid(this._context.instanceId??Long$1.fromNumber(0)),serverErrCode:g$1??t$1,userId:this._context.uid,seq:Long$1.fromNumber(B)}),e$1}finally{this._context.reportChnJoin(A,a,n,B)}var c;return s&&this._context.addReportEvents(`ChnJoinRes`,{cname:A,lts:Long$1.fromNumber(Date.now()),elapse:getElapse(this._context.startTime),errCode:0,sid:getSid(this._context.instanceId??Long$1.fromNumber(0)),serverErrCode:0,userId:this._context.uid,seq:Long$1.fromNumber(B)}),E(void 0),C}async unsubscribe(A){let e=OperationName.unsubscribe;validateKey(A,e,`channel`);let t={timestamp:0,channelName:A};if(this._linkState===`IDLE`||(this._validateRtmConnection(e,!1),this._validateRTMSessionExist(e),this._context.notInChannel(A)))return t;let{withMessage:g}=this._context.getChannelLastSubOrJoinOptions(A);try{this._reportChannelLeave(A,0),await Promise.all([g?this._unsubMessage(A):Promise.resolve(),this._unsubLockAMeta(A),this._absent(A)]),this._context.deleteChannel(A)}catch(A$1){let t$1,g$1=RTMErrorCode.RTM_ERROR_CHANNEL_LEAVE_FAILED;if(this.logError(A$1),isRtmError(A$1))A$1?.code===void 0&&(A$1.code=RTMErrorCode.RTM_ERROR_CHANNEL_LEAVE_FAILED),t$1=A$1;else{let{code:A$2,reason:o}=getErrorInfoByCode(g$1);t$1=new RtmUnknownError(e,[o],A$2)}throw t$1}return t}createStreamChannel(A){let e=OperationName.createStreamChannel;if(this._context.rtmConfig.privateConfig&&!this._context.rtmConfig.privateConfig.serviceType.includes(`STREAM`)){let{code:A$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_SERVICE_NOT_SUPPORTED);throw new RtmUnavailableError(e,[t$1],A$1)}validateKey(A,e,`channel`);let t=this._stChannelInstances.get(A);if(t)return this.log(`channel already exists ${replaceRangeWithAsterisk(A)}`),t;let g=new StreamChannel(this._context,this.logger,{channelName:A,appId:this._context.appId,userId:!1===this._context.rtmConfig.useStringUserId?parseInt(this._context.uid):this._context.uid},this.emit,()=>this._streamChannelList,this._validateRtmConnection.bind(this),()=>this._rtmSession,this._updateOptionsReJoinOrSub.bind(this),this._unsubLockAMeta.bind(this),this._absent.bind(this));return this._stChannelInstances.set(A,g),g}async updateConfig(A){for(let e=0,t=getKeys(A);e<t.length;e++){let g=t[e];if(g===`logLevel`){A.logLevel&&(A.logLevel,updateLogLevel(A.logLevel,this._context.config));continue}let o=A[g];o!=null&&(A.cloudProxy&&this.info(`RTM cloud proxy enabled`),A.logUpload&&this.info(`Log upload enabled`),this._context.config[g]=o)}return{timestamp:0}}addEventListener(A,e){this.on(A,e)}removeEventListener(A,e){this.off(A,e)}async _updateOptionsReJoinOrSub(A){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],t=arguments.length>2?arguments[2]:void 0,g=arguments.length>4&&arguments[4]!==void 0&&arguments[4],o=handleSubOptionsAsDefault(arguments.length>3?arguments[3]:void 0),{withLock:I,withMetadata:i$1,withPresence:r,beQuiet:n}=t,C=getParameter(`STORAGE_CHANNEL_SUB_ENABLED`),E=o.withMetadata&&!i$1&&(C===void 0?this._context.consoleConfig[`storage.channel_subscribe_enabled`]:String(C))===`true`,s=o.withLock&&!I,B=o?.beQuiet&&!n&&!e,a=!(o!=null&&o.beQuiet)&&(e||n),Q=o?.withPresence&&!r;try{await Promise.all([E?this._subMetadata(A):void 0,o!=null&&o.withMetadata||!i$1?Promise.resolve():this._unsubMetadata(A),s?this._subLock(A):void 0,o!=null&&o.withLock||!I?Promise.resolve():this._unsubLock(A),e?this._attend(A,{unsubSelfColl:!1,unsubColl:!1,destroyColl:!1},{withPresence:o.withPresence,needCreateColl:!(!o.withPresence&&o.beQuiet),needPutDoc:a,needDelDoc:B,needSub:Q,reJoinCauseReconnect:g}):Promise.resolve()])}catch(A$1){throw A$1}o!=null&&o.withPresence&&!r&&r!==void 0&&await this._attend(A,{unsubSelfColl:!0,unsubColl:!1,destroyColl:!0},{withPresence:!0,needCreateColl:!0,needPutDoc:a,needDelDoc:B,needSub:Q,reJoinCauseReconnect:g}),o!=null&&o.withPresence||!r||await this._attend(A,{unsubSelfColl:!1,unsubColl:!0,destroyColl:!0},{withPresence:!1,needCreateColl:!o.beQuiet,needPutDoc:a,needDelDoc:B,needSub:Q,reJoinCauseReconnect:g}),(a||B)&&o?.withPresence===r&&await this._attend(A,{unsubSelfColl:!1,unsubColl:!1,destroyColl:!1},{withPresence:o.withPresence,needCreateColl:!0===a&&!1===o?.withPresence,needPutDoc:a,needDelDoc:B,needSub:Q,reJoinCauseReconnect:g})}_sendRtmBasePacket(A,e,t,g){var o;g===void 0?(o=this._rtmSession)==null||o.sendOperationPacket(A,e,t):this._sendRtmBasePacketUseOneEnv(A,g,e,t)}_sendRtmBasePacketUseOneEnv(A,e,t,g){var o;(o=this._rtmSession)==null||o.sendOperationPacketUseOneEnv(A,e,t,g)}_onOperationPacket(A){return this._rtmSession.onOperationPacket(A)}async _internalLogoutHandler(){let A=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];try{await this._logoutVosWeb();try{await this._logoutSync(e)}catch(A$1){throw A$1}}catch(A$1){throw this.logError(`internalLogoutHandler error: ${JSON.stringify(A$1)}`),A$1}finally{A&&await this._logoutRegistrar(),this._clearEffectsOfLogout(),this._reportEvents()}}_clearEffectsOfLogout(){this.lock.lockImpl.releaseLockModel(),this._lockSnapshotLastTime.clear(),this.storage.storageImpl.releaseStorageModel(),this._userMetaEventInfos.clear(),this._channelMetadataSub.clear(),this._channelMetaEventInfos.clear(),this._clearLinkTimers(),this._context.instanceId=null,this._deleteIntervalCreateColl(),this._context.internalEmitter.emit(`LOGOUT`),this._context.localStateCache.clear(),this._context.clearLastSubOrJoinOptions()}async _logoutVosWeb(){await Promise.all([...this._stChannelInstances.values()].map(A=>{A._streamChannelImpl.leaveVosWeb()}))}_reportEvents(){this._context.forceReportEvents()}async _logoutImpl(){try{await this._internalLogoutHandler(!0,!0),this.log(`logout success`)}catch(A){this.logError(`logout failed: ${A}`)}finally{this._onConnectionStateChanged(`DISCONNECTED`,`LOGOUT`)}}async _requestSubscribeChannelMetadata(A){let e=OperationName.subscribe,t=fromEvent(this._context.internalEmitter,`unsubChannelMetadata`).pipe(filter(e$1=>A===e$1),take(1)),g=this._context.incGetSeq(),o=Date.now(),I=this._notifyChannelMetaReSub.pipe(filter(e$1=>e$1?.prefixChannelName===A||!0===e$1?.allReSub),switchMap(t$1=>{let I$1=g;return this._sendRtmBasePacket(e,`StateSubscribe`,{sequence:I$1,target:A,subTarget:``,flags:new Long$1(1,0,!0)},t$1.env),this._onOperationPacket(`StateSubscribeResult`).pipe(first(A$1=>{let{sequence:e$1}=A$1;return I$1.eq(e$1)}),tap(e$1=>{let{code:t$2}=e$1,{code:I$2}=convertServerCodeToSdkCodeForSub(t$2);this._context.addReportEvents(`SyncSubscribeEvent`,{lts:Long$1.fromNumber(Date.now()),userid:this._context.uid,vid:Long$1.fromString(this._context.vid||`0`),sid:this._context.sid,usersid:this._context.sid,target:A,requestts:Long$1.fromNumber(o),replyts:Long$1.fromNumber(Date.now()),eventtype:`Subscribe`,sdktype:4,flags:new Long$1(1,0,!0),code:I$2,seq:g,index:{index1:this._context.uid,index2:this._context.appId,index3:`logUpload=${this._context.config.logUpload}`},subtarget:this._context.uid}),I$2===RTMErrorCode.RTM_ERROR_OK?this._context.updateLastSubOrJoinOptionsCache(A,`withMetadata`,!0):I$2===RTMErrorCode.RTM_ERROR_CHANNEL_SUBSCRIBE_PERMISSION_DENIED?this._handleNoPrivilege(A,`metadata`):(this._context.updateLastSubOrJoinOptionsCache(A,`withMetadata`,!1),this.warn(`Subscribe channel metadata failure. The response code from the RTM service is ${t$2}`))}))}),takeUntil(t),share()),i$1=()=>{this._rtmSubscriptions.metadataSubs.delete(A)};this._rtmSubscriptions.metadataSubs.set(A,I.subscribe({error:i$1,complete:i$1})),this._notifyChannelMetaReSub.next({env:void 0,prefixChannelName:A}),await I.pipe(take(1),timeout(COMMON_REQUEST_TIMEOUT),catchError(e$1=>(e$1 instanceof TimeoutError&&(this.warn(`subscribe channel metadata timeout`),this._context.addReportEvents(`SyncSubscribeEvent`,{lts:Long$1.fromNumber(Date.now()),userid:this._context.uid,vid:Long$1.fromString(this._context.vid||`0`),sid:this._context.sid,usersid:this._context.sid,target:A,requestts:Long$1.fromNumber(o),replyts:Long$1.fromNumber(Date.now()),eventtype:`Subscribe`,sdktype:4,flags:new Long$1(1,0,!0),code:RTMErrorCode.RTM_ERROR_STORAGE_OPERATION_TIMEOUT,seq:g,index:{index1:this._context.uid,index2:this._context.appId,index3:`logUpload=${this._context.config.logUpload}`},subtarget:this._context.uid})),throwError(e$1)))).toPromise(),this._channelMetadataSub.add(A)}async _requestSubscribeLock(A){let e=OperationName.subscribe,t=fromEvent(this._context.internalEmitter,`unsubChannelLock`).pipe(filter(e$1=>A===e$1),take(1),tap(A$1=>{this._lockSnapshotLastTime.delete(A$1)})),g=this._context.incGetSeq(),o=this._notifyLockReSub.pipe(filter(e$1=>e$1?.prefixChannelName===A||!0===e$1?.allReSub),switchMap(t$1=>{let o$1=g;return this._sendRtmBasePacket(e,`StateLockSubscribe`,{sequence:o$1,target:A,flags:new Long$1(1048577,0,!0)},t$1.env),this._onOperationPacket(`StateLockSubscribeResult`).pipe(first(A$1=>{let{sequence:e$1}=A$1;return o$1.eq(e$1)}),tap(e$1=>{let{code:t$2}=e$1,{code:g$1}=convertServerCodeToSdkCodeForSub(t$2);g$1===RTMErrorCode.RTM_ERROR_OK?this._context.updateLastSubOrJoinOptionsCache(A,`withLock`,!0):g$1===RTMErrorCode.RTM_ERROR_CHANNEL_SUBSCRIBE_PERMISSION_DENIED?this._handleNoPrivilege(A,`lock`):(this._context.updateLastSubOrJoinOptionsCache(A,`withLock`,!1),this.warn(`Subscribe lock failure. The response code from the RTM service is ${t$2}`))}))}),takeUntil(t),share()),I=()=>{this._rtmSubscriptions.lockSubs.delete(A)};this._rtmSubscriptions.lockSubs.set(A,o.subscribe({error:I,complete:I})),this._notifyLockReSub.next({env:void 0,prefixChannelName:A}),await o.pipe(take(1),timeout(COMMON_REQUEST_TIMEOUT),catchError(A$1=>(A$1 instanceof TimeoutError&&this.warn(`subscribe channel lock timeout`),throwError(A$1)))).toPromise()}_unsubLockAndMeta4MessageChn(){this._context.getAllChannelsOptions().forEach((A,e)=>{let{channelType:t}=getChannelDetailByName(e);t===`MESSAGE`&&(A.withLock&&this._unsubLock(e),A.withMetadata&&this._unsubMetadata(e),A.withMessage&&this._unsubMessage(e))}),this.storage.storageImpl.unsubAllUserMetadata()}async _logoutRegistrar(){let A=this._hasLock();return this._unsubLockAndMeta4MessageChn(),await this._rtmSession.logoutRegistrar(A)}async _attend(A,e,t){if(this._context.disablePresence)return;let{unsubSelfColl:g,unsubColl:o,destroyColl:I}=e;g&&this._channelPresence.unsubscribeSelfPresence(A,!1),o&&this._channelPresence.unsubPresence(A,!1),I&&(t.needDelDoc&&this._channelPresence.delChannelDoc(A),this._channelPresence.leave(A)),await this._channelPresence.joinPresenceColl(A,t)}_absent(A){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(this._context.disablePresence||this._context.notInChannel(A))return;let{withPresence:t,beQuiet:g}=this._context.getChannelLastSubOrJoinOptions(A);t?this._channelPresence.unsubPresence(A,e):this._channelPresence.unsubscribeSelfPresence(A,e),!g&&this._channelPresence.delChannelDoc(A),this._context.isInChannel(A)&&this._channelPresence.leave(A),this._channelPresence.leaveRetryChannels([A])}async _logoutSync(){var A;let e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this._context.disablePresence||(await Promise.all(this._context.getAllChannelNames().map(A$1=>this._absent(A$1))),e&&await this._rtmSession?.logoutSyncHandler())}_commonSendMessage(A){let{message:e,peerId:t,diff:g,customType:o,storeInHistory:I,toPeer:i$1}=A,r=OperationName.publish;switch(e.messageType){case`TEXT`:return this._sendTextMessage(e.text,t,i$1,(i$1?P2P_MESSAGE_SEND_TIMEOUT:MESSAGE_SEND_TIMEOUT)-g,o,I);case`RAW`:return e.description===void 0&&(e.description=``),this._sendRawMessage(e.rawMessage,e.description,t,i$1,(i$1?P2P_MESSAGE_SEND_TIMEOUT:MESSAGE_SEND_TIMEOUT)-g,o,I);default:let{code:A$1,reason:n}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_INVALID_MESSAGE);throw new RtmInvalidArgumentError(r,[n],A$1)}}async _unsubLockAMeta(A){let{withLock:e,withMetadata:t}=this._context.getChannelLastSubOrJoinOptions(A);e&&this._unsubLock(A),t&&this._unsubMetadata(A)}_handleNoPrivilege(A,e){let t=this._context.operationControl.operationIsRunning(OperationName.subscribe+A);if(this.log(`${t?``:`re-`}subscribe channel ${A} ${e} failed, no privilege`),t){this._context.deleteChannel(A);let{code:e$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_SUBSCRIBE_PERMISSION_DENIED);throw new RtmUnavailableError(OperationName.subscribe,[t$1],e$1)}switch(this._absent(A),e){case`message`:this._context.internalEmitter.emit(`channelLeft`,A);break;case`metadata`:this._channelMetaEventInfos.delete(A),this._channelMetadataSub.delete(A),this._context.internalEmitter.emit(`unsubChannelMetadata`,A);break;case`lock`:this._lockSnapshotLastTime.delete(A),this._context.internalEmitter.emit(`unsubChannelLock`,A)}this._context.isInChannel(A)&&(this._context.deleteChannel(A),this.emit(`token`,{eventType:`READ_PERMISSION_REVOKED`,reason:TokenEventReason.READ_PERMISSION_REVOKED,affectedResources:{messageChannels:[A]},timestamp:getUTCTimeBaseREG(this._context.offsetTime)}))}async _requestChannelJoin(A){let e=OperationName.subscribe,t=fromEvent(this._context.internalEmitter,`channelLeft`).pipe(filter(e$1=>A===e$1),take(1)),g=this._context.incGetSeq(),o=this._notifyChannelReSub.pipe(filter(e$1=>e$1?.prefixChannelName===A||!0===e$1?.allReSub),switchMap(t$1=>{let o$1=g;return this._sendRtmBasePacket(e,`GroupEnter`,{account:A,seq:o$1},t$1.env),this._onOperationPacket(`GroupReply`).pipe(first(A$1=>{let{seq:e$1}=A$1;return o$1.eq(e$1)}),tap(t$2=>{let{code:g$1}=t$2;if(g$1!==0){if(g$1!==RegServerErrorCode.kGroupUserNoPrivilege){let{code:t$3,reason:o$2}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_JOIN_FAILED);throw this.warn(`channel join failed, server code is %d`,g$1),this._context.updateLastSubOrJoinOptionsCache(A,`withMessage`,!1),new RtmUnavailableError(e,[o$2],{code:t$3,serverCode:g$1})}this._handleNoPrivilege(A,`message`)}else this._context.updateLastSubOrJoinOptionsCache(A,`withMessage`,!0)}))}),takeUntil(t),share()),I=()=>{this._rtmSubscriptions.channels.delete(A)};this._rtmSubscriptions.channels.set(A,o.subscribe({error:I,complete:I})),this._notifyChannelReSub.next({env:void 0,prefixChannelName:A}),await o.pipe(take(1),timeout(COMMON_REQUEST_TIMEOUT),catchError(A$1=>{if(isRtmError(A$1))return throwError(A$1);!(A$1 instanceof TimeoutError)&&this.logError(A$1);let{code:t$1,reason:g$1}=getErrorInfoByCode(A$1 instanceof TimeoutError?RTMErrorCode.RTM_ERROR_CHANNEL_SUBSCRIBE_TIMEOUT:RTMErrorCode.RTM_ERROR_CHANNEL_SUBSCRIBE_FAILED);return throwError(new RtmUnavailableError(e,[g$1],t$1))})).toPromise()}async _subMessage(A,e){try{this.log(`Joining the channel %s`,replaceRangeWithAsterisk(A)),await this._requestChannelJoin(A),this.info(`The channel %s joined successfully`,replaceRangeWithAsterisk(A))}catch(A$1){if(this.logError(A$1),isRtmError(A$1))throw A$1;let{code:t,reason:g}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_SUBSCRIBE_FAILED);throw new RtmUnknownError(e,[g],t)}}async _unsubMessage(A){this._sendRtmBasePacket(OperationName.leave,`GroupLeave2`,{account:A,flags:Long$1.fromNumber(0)}),this._context.updateLastSubOrJoinOptionsCache(A,`withMessage`,!1),this._context.internalEmitter.emit(`channelLeft`,A)}async _subMetadata(A){try{await this._requestSubscribeChannelMetadata(A)}catch(e){if(this.logError(`sub channel metadata failure when sub channel(${replaceRangeWithAsterisk(A)}), error is %o.`,e),e.errorCode===RTMErrorCode.RTM_ERROR_CHANNEL_SUBSCRIBE_PERMISSION_DENIED)throw e}}_unsubMetadata(A){let e=this._context.incGetSeq();this._sendRtmBasePacket(OperationName.unsubscribe,`StateUnsubscribe`,{sequence:e,target:A,subTarget:``,flags:new Long$1(1,0,!0)}),this._channelMetaEventInfos.delete(A),this._context.addReportEvents(`SyncSubscribeEvent`,{lts:Long$1.fromNumber(Date.now()),userid:this._context.uid,vid:Long$1.fromString(this._context.vid||`0`),sid:this._context.sid,usersid:this._context.sid,target:A,requestts:Long$1.fromNumber(Date.now()),replyts:Long$1.fromNumber(Date.now()),eventtype:`UnSubscribe`,sdktype:4,flags:new Long$1(1,0,!0),code:0,seq:e,index:{index1:this._context.uid,index2:this._context.appId,index3:`logUpload=${this._context.config.logUpload}`},subtarget:this._context.uid}),this._context.updateLastSubOrJoinOptionsCache(A,`withMetadata`,!1),this._context.internalEmitter.emit(`unsubChannelMetadata`,A),this._channelMetadataSub.delete(A)}async _subLock(A){try{await this._requestSubscribeLock(A)}catch(e){if(this.logError(`sub lock info failure when sub channel(${replaceRangeWithAsterisk(A)}), error is %o.`,e),e.errorCode===RTMErrorCode.RTM_ERROR_CHANNEL_SUBSCRIBE_PERMISSION_DENIED)throw e}}_unsubLock(A){let e=this._context.incGetSeq();this._sendRtmBasePacket(OperationName.unsubscribe,`StateLockUnsubscribe`,{sequence:e,target:A,flags:new Long$1(1048577,0,!0)}),this._lockSnapshotLastTime.delete(A),this._context.updateLastSubOrJoinOptionsCache(A,`withLock`,!1),this._context.internalEmitter.emit(`unsubChannelLock`,A)}_clearLinkTimers(){this._suspended=!1,this._suspendedTimer&&clearTimeout(this._suspendedTimer),this._suspendedTimer=null,this._context.linkIntervals=[...LINK_INTERVALS]}async _loginImpl(A){var e;let{uid:t,instanceId:g,forceLoginTime:o=0}=A,I=OperationName.login,i$1=g;if(this._lastLoginTime!==void 0&&Date.now()-this._lastLoginTime<1e3/2&&o>0){let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_ABORTED);throw new RtmInvokeTooOftenError(I,[e$1],A$1)}return o===0&&this._onConnectionStateChanged(`CONNECTING`,`CONNECTING`),(e=this._rtmSession)==null||e.removeAllListeners(),this._rtmSession=new RTMSession(this._context,this.logger,i$1,this._channelPresence.cacheAllChannelCrdtState.bind(this._channelPresence),this._channelPresence.exceptionCallback.bind(this._channelPresence)),this._context.internalEmitter.on(`connectionLost`,()=>{if(this._connectionState===`CONNECTED`||this._linkState===`CONNECTED`){var A$1,e$1;this._updateLinkState(`DISCONNECTED`,`HEARTBEAT_TIMEOUT`,this._getUsedMessageChannelIds(),`KEEP_ALIVE_TIMEOUT`,LinkStateChangeReasonDescription.KEEP_ALIVE_TIMEOUT),this._onConnectionStateChanged(`RECONNECTING`,`INTERRUPTED`),this._rtmSession?.listenerCount(`userJoined`)===0&&((e$1=this._rtmSession)==null||e$1.on(`userJoined`,async()=>{this.log(`received reconnected userJoined event`),this._linkState!==`CONNECTED`&&(await this._updateLinkState(`CONNECTED`,`AUTO_RECONNECT`,this._getUsedMessageChannelIds(),`RECONNECT_SUCCESS`,LinkStateChangeReasonDescription.RECONNECT_SUCCESS,!this._suspended),this._onConnectionStateChanged(`CONNECTED`,`LOGIN_SUCCESS`),this._clearLinkTimers())})),this._lockSnapshotLastTime.clear()}}),this._context.internalEmitter.on(`tokenExpired`,async()=>{var A$1;this.warn(`reg session listen the token expired`),(A$1=this._rtmSession)==null||A$1.stopLogin(),this._userDropHandler(2)}),this._context.internalEmitter.once(`userDrop`,this._userDropHandler),this._context.internalEmitter.on(`instanceChanged`,A$1=>i$1=A$1),this._context.internalEmitter.on(`login-request`,()=>{this._linkState!==`DISCONNECTED`&&this._linkState!==`SUSPENDED`||this._updateLinkState(`CONNECTING`,`AUTO_RECONNECT`,[],`AUTO_RECONNECT`,LinkStateChangeReasonDescription.AUTO_RECONNECT)}),this._context.internalEmitter.on(`login-timeout`,A$1=>{this.log(`login - timeout`),this._suspended?this._updateLinkState(`SUSPENDED`,`AUTO_RECONNECT`,[],`RECONNECT_TIMEOUT`,LinkStateChangeReasonDescription.RECONNECT_TIMEOUT):this._updateLinkState(`DISCONNECTED`,`SERVER_TIMEOUT`,[],A$1?`RECONNECT_TIMEOUT`:`LOGIN_TIMEOUT`,A$1?LinkStateChangeReasonDescription.RECONNECT_TIMEOUT:LinkStateChangeReasonDescription.LOGIN_TIMEOUT),isNil$1(this._suspendedTimer)&&(this._suspendedTimer=setTimeout(()=>{this._suspended=!0},115e3))}),this._context.internalEmitter.on(`net-change-abort-reconn`,()=>{this._updateLinkState(`DISCONNECTED`,`NETWORK_CHANGE`,[],`NETWORK_CHANGE`,LinkStateChangeReasonDescription.NETWORK_CHANGE)}),this._lastLoginTime=Date.now(),this._rtmSession.loginHandler().toPromise().catch(A$1=>{if(A$1.name===`loginRespTimeout`&&o<2)return this.log(`loginRespTimeout: internal re-login...`),this._clearInternalEvents(),this._loginImpl({uid:t,instanceId:g,forceLoginTime:o+1});throw this._handleConnectionFailed(`registrar`,A$1)})}_clearInternalEvents(){[`connectionLost`,`tokenExpired`,`userDrop`,`instanceChanged`,`login-request`,`login-timeout`,`net-change-abort-reconn`].forEach(A=>{this._context.internalEmitter.removeAllListeners(A)})}_handleConnectionFailed(A,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:OperationName.login;if(this.log(`Login failed when connecting ${A}`),this._connectionState!==`CONNECTING`)return e;if(isTimeout(e)){this._onConnectionStateChanged(`DISCONNECTED`,`LOST`);let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_TIMEOUT);throw new RtmTimeoutError(t,[e$1],A$1)}if(e?.code===RTMErrorCode.RTM_ERROR_TOKEN_EXPIRED)throw this._onConnectionStateChanged(`DISCONNECTED`,`TOKEN_EXPIRED`),e;if(e?.code===RTMErrorCode.RTM_ERROR_LOGIN_CANCELED||(this._onConnectionStateChanged(`DISCONNECTED`,`REJECTED_BY_SERVER`),isRtmError(e)))throw e;let{code:g,reason:o}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOGIN_ABORTED);throw new RtmUnavailableError(t,[o],g)}_getUsedMessageChannelIds(){return this._context.getAllChannelNames().filter(A=>!A.startsWith(`*s*`))}async _requestChannelMemberList(A){var e;let t=OperationName.whoNow,g=this._context.incGetSeq();return(e=this._rtmSession)==null||e.sendOperationPacket(t,`GroupAllUsersList`,{group:A,pageNumber:0,pageSize:200,seq:g}),race(genTimeoutError(RTMErrorCode.RTM_ERROR_PRESENCE_OPERATION_TIMEOUT),this._onOperationPacket(`GroupAllUsersResult`).pipe(first(e$1=>{let{group:t$1,seq:o}=e$1;return t$1===A&&g.eq(o)}))).toPromise()}_onConnectionStateChanged(A,e){var t;(A===`RECONNECTING`&&(this._reconnId+=1),this._connectionState=A,A===`FAILED`||A===`DISCONNECTED`)&&(this._reconnId=0,this._clearInternalEvents(),this._rtmSession&&((t=this._rtmSession)==null||t.removeConnectionControllerAllListeners(),this._msgDedupLru.empty(),this._dialogueSequenceLru.empty(),this._dialPendingMsgSubjectMap.clear()));let g={state:A,reason:e,timestamp:getUTCTimeBaseREG(this._context.offsetTime)};this.emit(`status`,g)}async _updateLinkState(A,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],g=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,I=arguments.length>5&&arguments[5]!==void 0&&arguments[5];if(A===`CONNECTED`&&this._setIntervalCreateColl(),this._linkState===A)return;var i$1;(this._context.sendReport(`LinkStateChange`,{elapse:getElapse(this._context.startTime),lts:Long$1.fromNumber(Date.now()),reason:LinkStateChangeReason4Report[g],sid:getSid(this._context.instanceId||Long$1.fromNumber(0)),vid:Long$1.fromString(getParameter(`VID`).get(this._context.appId)||`0`),userid:this._context.uid,currentState:linkStateCodeMap[A],previousState:linkStateCodeMap[this._linkState],operation:linkOperationCodeMap[e],serviceType:0,streamChannelName:``}),this._linkState===`CONNECTED`&&A===`DISCONNECTED`&&this.log(`link disconnected`),this._linkState===`CONNECTED`&&A===`FAILED`&&o&&[LinkStateChangeReasonDescription.SAME_UID_LOGIN,LinkStateChangeReasonDescription.LOGIN_TOO_FREQUENT,LinkStateChangeReasonDescription.KICKED_OUT_BY_SERVER].includes(o)&&(this._context.instanceId=null),A===`FAILED`)&&(this._deleteIntervalCreateColl(),(i$1=this._rtmSession)==null||i$1.updateLoggedOut(!0));let r={currentState:A,previousState:this._linkState,serviceType:`MESSAGE`,operation:e,reason:o??e,reasonCode:g,affectedChannels:t,unrestoredChannels:[],timestamp:getUTCTimeBaseREG(this._context.offsetTime),isResumed:I};this._linkState=A,this.emit(`linkState`,r)}_clearChannel(A){for(let e=0;e<A.length;e++){let t=A[e];this._context.internalEmitter.emit(`channelLeft`,t),this._context.internalEmitter.emit(`unsubChannelLock`,t),this._context.internalEmitter.emit(`unsubChannelMetadata`,t)}}_hasLock(){return this.lock.lockImpl.hasLock()}_validateRtmConnection(A){var e;let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(this._context.enablePrivate&&((e=this._context.rtmConfig.privateConfig)==null||!e.serviceType.includes(`MESSAGE`))){let{code:e$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_SERVICE_NOT_SUPPORTED);throw new RtmUnavailableError(A,t$1,e$1)}if(this._linkState===`IDLE`){this.log(`The client state is ${this._connectionState}, cannot do the operation(${A})`);let{code:e$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_CONNECTED);throw new RtmInvalidStatusError(A,[t$1],e$1)}if(t&&this._linkState!==`CONNECTED`){let{code:e$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_CONNECTED);throw new RtmInvalidStatusError(A,[t$1],e$1)}}_validateRTMSessionExist(A){if(this._rtmSession===void 0){let{code:e,reason:t}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_NOT_CONNECTED);throw new RtmUnavailableError(A,[t],e)}}_reportChannelLeave(A,e){this._context.addReportEvents(`ChnLeave`,{cname:A,lts:Long$1.fromNumber(Date.now()),elapse:getElapse(this._context.startTime),errCode:e,sid:getSid(this._context.instanceId||Long$1.fromNumber(0)),userId:this._context.uid})}_setIntervalCreateColl(){this._createCollInterval&&clearInterval(this._createCollInterval),this._createCollInterval=setInterval(()=>{this._channelPresence.intervalCreateColl()},1e3)}_deleteIntervalCreateColl(){this._createCollInterval&&clearInterval(this._createCollInterval)}_handleLoginFailedState(A){let e=LinkStateChangeReasonDescription.LOGIN_REJECTED,t=`LOGIN_REJECTED`;switch(A){case RTMErrorCode.RTM_ERROR_INVALID_USER_ID:e=LinkStateChangeReasonDescription.INVALID_USER_ID,t=`INVALID_USER_ID`;break;case RTMErrorCode.RTM_ERROR_INVALID_TOKEN:e=LinkStateChangeReasonDescription.INVALID_TOKEN,t=`INVALID_TOKEN`;break;case RTMErrorCode.RTM_ERROR_INCONSISTENT_APPID:e=LinkStateChangeReasonDescription.INCONSISTENT_APP_ID,t=`INCONSISTENT_APP_ID`;break;case RTMErrorCode.RTM_ERROR_SERVICE_NOT_SUPPORTED:e=LinkStateChangeReasonDescription.SERVICE_NOT_SUPPORTED,t=`SERVICE_NOT_SUPPORTED`;break;case RTMErrorCode.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION:e=LinkStateChangeReasonDescription.OPERATION_RATE_EXCEED_LIMITATION,t=`OPERATION_RATE_EXCEED_LIMITATION`}this._updateLinkState(`FAILED`,`LOGIN`,[],t,e)}_validateJoinOptions(A,e){let t=getParameter(`STORAGE_CHANNEL_SUB_ENABLED`),g=(t===void 0?this._context.consoleConfig[`storage.channel_subscribe_enabled`]:String(t))===`true`;if(A!=null&&A.withMetadata&&!g){let{code:A$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_STORAGE_NOT_AVAILABLE);throw new RtmUnavailableError(e,[t$1],A$1)}let o=getParameter(`LOCK_ENABLED`),I=(o===void 0?this._context.consoleConfig[`lock.enabled`]:String(o))===`true`;if(A!=null&&A.withLock&&!I){let{code:A$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_LOCK_NOT_AVAILABLE);throw new RtmUnavailableError(e,[t$1],A$1)}}_updateLockCache(A){var e;let{lockName:t,prefixChannelName:g}=A;this._lockEventInfos.get(g)||this._lockEventInfos.set(g,new Map);let o=this._lockEventInfos.get(g)??new Map;o.set(t,A),this._lockEventInfos.set(g,o)}_updateLockSnapshotCache(A){var e;let{lockName:t,prefixChannelName:g}=A,o=this._lockEventInfos.get(g)??new Map;o.set(t,A),this._lockEventInfos.set(g,o)}_onLockEvent(A){var e;let{target:t,lockStates:g,eventType:o}=A;if(!this._context.getChannelOptionsByKey(t,`withLock`))return;let{channelName:I,channelType:i$1}=getChannelDetailByName(t);if(o===LockEventType.LockUnknown)return void this.log(`RTM service Error: lockEvent type is 0 on channel '%s', channelType 's%', member '%s'`,replaceRangeWithAsterisk(I),i$1,replaceRangeWithAsterisk(this._context.uid||``));let r=getUTCTimeBaseREG(this._context.offsetTime),n=new Date().getTime();if(o===LockEventType.LockSnapshot&&g.length===0){var C;if(this._lockSnapshotLastTime.has(t)&&n-(this._lockSnapshotLastTime.get(t)??0)<=LAST_PONG_RECEIVED_TS_FIELD_NUMBER)return;let A$1={channelType:i$1,channelName:I,eventType:`SNAPSHOT`,lockName:``,ttl:0,publisher:``,snapshot:[],owner:``,timestamp:r};this.log(`received snapshot lockEvent is empty on channel(${t}), emit channelLockEvent`),this._lockSnapshotLastTime.set(t,n),this._onChannelLockEvent(A$1);return}let E=`SNAPSHOT`,s=0,B=!1,a=``,Q=null;try{var c,l;(c=g[0])!=null&&c.lockState&&(Q=JSON.parse(g[0]?.lockState))}catch(A$1){this.logError(`parse lockState error: %o`,A$1)}switch(o){case LockEventType.LockAdded:var h;E=`SET`,s=Q?.create_ttl;break;case LockEventType.LockModified:var u,d,D,y;(u=Q)!=null&&u.user?(E=`ACQUIRED`,s=Q?.create_ttl,a=Q?.user):(E=`RELEASED`,s=Q?.create_ttl);break;case LockEventType.LockRemoved:E=`REMOVED`,s=0;break;case LockEventType.LockSnapshot:E=`SNAPSHOT`,B=!0}let p$1={channelType:i$1,channelName:I,eventType:E,lockName:B?``:g[0].lockName??``,ttl:s,publisher:``,snapshot:[],owner:a,timestamp:r};if(this.log(`received lockEvent: %o`,p$1,Q),B){var R$1;(!this._lockSnapshotLastTime.has(t)||n-(this._lockSnapshotLastTime.get(t)??0)>LAST_PONG_RECEIVED_TS_FIELD_NUMBER)&&(this.log(`received snapshot lockEvent, emit channelLockEvent`),this._lockSnapshotLastTime.set(t,n),p$1.snapshot=g.map(A$1=>{var e$1,g$1,o$1,I$1,i$2,r$1,n$1,C$1,E$1,s$1,B$1;let a$1=null;try{A$1.lockState&&(a$1=JSON.parse(A$1.lockState))}catch(A$2){this.logError(`parse lockState error: %o`,A$2)}let Q$1={prefixChannelName:t,lockName:A$1.lockName??``,owner:a$1?.user??``,ttl:a$1?.create_ttl??getParameter(`LOCK_TTL`),revision:a$1?._rev??0};return this._updateLockSnapshotCache(Q$1),{lockName:A$1.lockName,owner:a$1?.user??``,ttl:a$1?.create_ttl??getParameter(`LOCK_TTL`)}}),this._onChannelLockEvent(p$1))}else{var w,_,S,f;this.log(`received incremental lockEvent, emit channelLockEvent`);let A$1=Q._rev||0,e$1=((w=this._lockEventInfos.get(t))==null||(w=w.get(g[0].lockName??``))==null?void 0:w.revision)||0,o$1=!1;if((E!==`RELEASED`&&A$1>e$1||E===`RELEASED`&&A$1>=e$1&&(S=this._lockEventInfos.get(t))!=null&&(S=S.get(g[0].lockName??``))!=null&&S.owner)&&(o$1=!0),o$1){var N,M,k,L;this._onChannelLockEvent(p$1);let A$2={prefixChannelName:t,lockName:g[0].lockName??``,owner:Q.user??null,ttl:Q.create_ttl??null,revision:Q._rev??null};this._updateLockCache(A$2)}}}_onStateUpdate(A){let{flags:e,allStates:t,target:g}=A,o=covertStateStringToMetaData(t);var I,i$1;!e.and(new Long$1(0,2,!0)).isZero()&&this.log(`metadata is cleared.`),e.and(new Long$1(1,0,!0)).isZero()?o.majorRevision>=(this._userMetaEventInfos.get(g)??0)&&this._userMetaDataUpdatedHandler({uid:g,data:o}):o.majorRevision>=(this._channelMetaEventInfos.get(g)??0)&&this._onChannelMetaDataUpdated({channelId:g,data:o})}_sendMessageAck(A){let e=new MessageOption(A.options);(e.isInvitation()||e.isPeerMessage())&&this._sendRtmBasePacket(`onMessage`,`Ack`,{code:0,dialogue:A.dialogue,instance:A.instance,sequence:A.sequence})}_throwPeerMsgFailed(A,e){let{code:t,reason:g}=getErrorInfoByCode(e===AckCodeType.kAckPeerOffline?RTMErrorCode.RTM_ERROR_CHANNEL_RECEIVER_OFFLINE:RTMErrorCode.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED);throw new RtmUnavailableError(A,[g],t)}async _sendMessageToRetry(A,e,t){let g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;this.debug(`Attempt to send the message ${e?` with retrying, %o`:`without retrying`}`,{retryTimes:g});let o=A(g);this._sendRtmBasePacket(`publish`,`Message`,o);let{dialogue:I,sequence:i$1,instance:r}=o,n=this._onOperationPacket(`Ack`).pipe(filter(A$1=>I.eq(A$1.dialogue)&&i$1.eq(A$1.sequence)&&r.eq(A$1.instance)&&A$1.code!==AckCodeType.kAckMiss),tap(A$1=>{let{code:e$1}=A$1;if(e$1===AckCodeType.kAckNoPrivilege){let{code:A$2,reason:e$2}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_PUBLISH_PERMISSION_DENIED);throw new RtmUnavailableError(OperationName.publish,[e$2],A$2)}}));try{let{code:A$1}=await n.pipe(timeout(6e3+(t?500:0)),catchError(A$2=>(isTimeout(A$2)&&this.warn(`Message send timeout, retry times %d`,g),throwError(A$2))),take(1)).toPromise();return this.debug(`The message has been acked, %o`,{code:A$1}),{code:A$1,retryTimes:g}}catch(o$1){if(o$1 instanceof TimeoutError&&e)return this._sendMessageToRetry(A,!1,t,g+1);throw o$1}}async _sendRawMessage(A,e,t){let g=arguments.length>3&&arguments[3]!==void 0&&arguments[3],o=arguments.length>4?arguments[4]:void 0,I=arguments.length>5?arguments[5]:void 0,i$1=arguments.length>6?arguments[6]:void 0,r=OperationName.publish;if(A.byteLength+new Blob([e]).size+new Blob([I??``]).size>TEXT_MESSAGE_MAX_TEXT_BYTES){let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_MESSAGE_LENGTH_EXCEED_LIMITATION);throw new RtmLimitExceededError(r,[e$1],A$1)}let n=this._context.encryptionInfo.initEncryption,C=A;if(n)try{let{key:e$1,iv:t$1,keyLength:g$1}=this._context.encryptionInfo;C=encrypt(A,e$1,t$1,g$1)}catch{let{code:e$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_ENCRYPT_MESSAGE_FAILED);throw new RtmUnavailableError(r,[t$1],e$1)}let E=!getParameter(`DISABLE_MESSAGE_COMPRESSION`)&&C.byteLength>=128,{dialogue:s,sequence:B}=this._chatManager.getChatInfo(g?`*p*`+t:t),a=this._context.instanceId;this.debug(`A%s %s raw message is sending to %s: "${a}-${s}#${B}"`,E?` compressed`:``,g?`peer`:`channel`,replaceRangeWithAsterisk(t));let{code:Q}=await from(this._sendMessageToRetry(o$1=>({MiscMap:_objectSpread2({description:new TextEncoder().encode(e)},I?{customType:new TextEncoder().encode(I)}:{}),sequence:B,dialogue:s,instance:a,dst:t,ms:Long$1.fromNumber(Date.now(),!0),options:new MessageOption({IterationNumber:o$1,CompressionMethod:E?`Zlib`:`Uncompressed`,MessageType:g?`PeerRawMessage`:`ChannelRawMessage`,ToCache:!1,ToArchive:!1,enableEncryption:n,encrytionComplement:C.byteLength-A.byteLength,kHistory:i$1?1:0}).toLong(),payload:E?deflate(C):C,src:this._context.uid}),!0,g)).pipe(timeout(o===void 0?MESSAGE_SEND_TIMEOUT:o),catchError(A$1=>(A$1 instanceof TimeoutError&&this.warn(`Send message timeout`),throwError(A$1)))).toPromise(),c=Q===0;return Q!==0&&this._throwPeerMsgFailed(r,Q),{hasPeerReceived:c}}async _sendTextMessage(A,e){let t=arguments.length>2&&arguments[2]!==void 0&&arguments[2],g=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,I=arguments.length>5?arguments[5]:void 0,i$1=OperationName.publish;if(new Blob([A]).size+new Blob([o??``]).size>TEXT_MESSAGE_MAX_TEXT_BYTES){let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_MESSAGE_LENGTH_EXCEED_LIMITATION);throw new RtmLimitExceededError(i$1,[e$1],A$1)}let r=this._context.encryptionInfo.initEncryption,n=new TextEncoder().encode(A);if(r)try{let{key:e$1,iv:t$1,keyLength:g$1}=this._context.encryptionInfo;n=encrypt(A,e$1,t$1,g$1)}catch{let{code:e$1,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_CHANNEL_ENCRYPT_MESSAGE_FAILED);throw new RtmUnavailableError(i$1,[t$1],e$1)}let C=!getParameter(`DISABLE_MESSAGE_COMPRESSION`)&&(r?new Blob([new TextDecoder().decode(n)]).size:new Blob([A]).size)>=128,{dialogue:E,sequence:s}=this._chatManager.getChatInfo(t?`*p*`+e:e),B=this._context.instanceId;this.debug(`A%s %s message is sending to %s: "${B}-${E}#${s}"`,C?` compressed`:``,t?`peer`:`channel`,replaceRangeWithAsterisk(e));let{code:a}=await from(this._sendMessageToRetry(g$1=>({MiscMap:_objectSpread2({},o?{customType:new TextEncoder().encode(o)}:{}),sequence:s,dialogue:E,instance:B,dst:e,ms:Long$1.fromNumber(Date.now(),!0),options:new MessageOption({IterationNumber:g$1,CompressionMethod:C?`Zlib`:`Uncompressed`,MessageType:t?`PeerTextMessage`:`ChannelTextMessage`,ToCache:!1,ToArchive:!1,enableEncryption:r,encrytionComplement:n.byteLength-new TextEncoder().encode(A).byteLength,kHistory:I?1:0}).toLong(),payload:C?deflate(n):n,src:this._context.uid}),!0,t)).pipe(timeout(g===void 0?MESSAGE_SEND_TIMEOUT:g),catchError(A$1=>(A$1 instanceof TimeoutError&&this.warn(`Send message timeout`),throwError(A$1)))).toPromise(),Q=a===0;return a!==0&&this._throwPeerMsgFailed(i$1,a),{hasPeerReceived:Q}}_requestUpdateEdgeTicket2(A){let e=this._context.incGetSeq();return this._sendRtmBasePacket(OperationName.renewToken,`UserRenewToken2Req`,{instance:this._context.instanceId,seq:e,account:this._context.uid,ticket:A}),race(genTimeoutError(RTMErrorCode.RTM_ERROR_RENEW_TOKEN_TIMEOUT),this._onOperationPacket(`UserRenewToken2Resp`).pipe(first(A$1=>{let{seq:t}=A$1;return e.eq(t)}),tap(A$1=>{let{code:e$1}=A$1;if(e$1!==0){let{code:A$2,reason:t}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_TOKEN);throw new RtmUnavailableError(OperationName.login,[t],{serverCode:e$1,code:A$2})}})))}_emitMessage(A,e){var t;let{options:g,payload:o,src:I,dst:i$1,instance:r,dialogue:n,sequence:C,ms:E,MiscMap:s={}}=A;this._dialogueSequenceLru.set(n.toString(),C);let B=`${r}-${n}#${C}`;if(this._msgDedupLru.has(B))return void this.warn(`Env_%d: Messages out-of-order or not start with 1: %s`,e,B);this._msgDedupLru.set(B,void 0);let a=new MessageOption(g);this._sendMessageAck(A);let Q=a.isZlibCompressed(),c=a.isEncryption(),l=a.getEncrytionComplement()??0,{customType:h=new Uint8Array}=s,u=new TextDecoder().decode(h);if(!c||this._context.encryptionInfo.key)if(c||!this._context.encryptionInfo.key)if(a.isPeerMessage()||this._context.getChannelOptionsByKey(i$1,`withMessage`)){if(a.isTextMessage()){let A$1=a.isPeerTextMessage(),e$1=Q?inflate$1(concatenateUint8Array(o,Uint8Array.of(0,0,0,0))):o,t$1=e$1.byteLength-Long$1.fromValue(l).toNumber(),{key:g$1,iv:r$1,keyLength:n$1}=this._context.encryptionInfo,C$1=new TextDecoder().decode(c?decrypt(e$1,g$1,r$1,n$1).slice(0,t$1):e$1);this.debug(`Received a %s %s text message from %s to %s, %s`,Q?` compressed`:``,A$1?`peer`:`channel`,replaceRangeWithAsterisk(I),replaceRangeWithAsterisk(i$1),B),this._onChannelTextMessage({channelId:i$1,memberId:I,text:C$1,properties:{serverReceivedTs:E.toNumber()},customType:u,channelType:A$1?`USER`:`MESSAGE`})}else if(a.isRawMessage()){let A$1=a.isRawPeerMessage(),{description:e$1}=s,t$1=e$1===void 0?``:decodeUint8ArrayToString(e$1),g$1=Q?inflate$1(o):o,r$1=g$1.byteLength-Long$1.fromValue(l).toNumber(),{key:n$1,iv:C$1,keyLength:h$1}=this._context.encryptionInfo,d=c?decrypt(g$1,n$1,C$1,h$1).slice(0,r$1):g$1;this.debug(`Received a %s %s raw message from %s to %s, %s`,Q?` compressed`:``,A$1?`peer`:`channel`,replaceRangeWithAsterisk(I),replaceRangeWithAsterisk(i$1),B),this._onChannelRawMessage({desc:t$1,raw:d,channelId:i$1,memberId:I,properties:{serverReceivedTs:E.toNumber()},customType:u,channelType:A$1?`USER`:`MESSAGE`})}}else this.warn(`Received a message but the channel is not subscribed, %s`,B);else this.warn(`Received a message without encryption but the key is ready, %s`,B);else this.warn(`Received a message with encryption but the key is not ready yet, %s`,B)}_onMessage(A){var e;let{dialogue:t,instance:g,sequence:o,options:I,src:i$1,eventReportInfo:r}=A,n=t.toString(),C=this._dialPendingMsgSubjectMap.get(n),E=`${g}-${t}#${o}`,s=this._dialogueSequenceLru.get(n),B=new MessageOption(I);if(C)return C.next(A),void this.log(`Env_%d: The dialogue has pending messages, next: %s`,r?.env,E);let a=!s&&o.eq(1),Q=s!==void 0&&o.sub(s).eq(1);if(a||Q)return void this._emitMessage(A,r?.env);if(s){if(o.lte(s))return;this.log(`Env_%d: The message pended, the sequence is not continuous with the last: %s`,r?.env,E)}else this.log(`Env_%d: The message pended, the first sequence is not equal to 1: %s`,r?.env,E);let c=new Subject;this._dialPendingMsgSubjectMap.set(n,c);let l=c.pipe(observeOn(asyncScheduler),scan((A$1,e$1)=>[...A$1,e$1],[]),map$1(A$1=>[...A$1].sort((A$2,e$1)=>{let{sequence:t$1}=A$2,{sequence:g$1}=e$1;return t$1.eq(g$1)?0:t$1.gt(g$1)?1:-1})),shareReplay(1)),h=!B.isFromCache()&&!B.isBufferedMessage();l.pipe(takeUntil(timer((B.isChannelMessage()?getParameter(`CHANNEL_MSG_REORDER_TIMEOUT`):getParameter(`P2P_MSG_REORDER_TIMEOUT`))??(h?750:1500))),first(A$1=>{if(A$1.length<2)return!1;for(let e$1=s===void 0?Long$1.fromNumber(1,!0):s.add(1),t$1=0;t$1<A$1.length;e$1=e$1.add(1),t$1++)if(!A$1[t$1].sequence.eq(e$1))return!1;return!0}),finalize(()=>{this._dialPendingMsgSubjectMap.delete(n)})).subscribe(A$1=>{A$1.forEach(A$2=>{this._emitMessage(A$2,r?.env),this.log(`Env_%d: The message queue has fully ordered, emitting: %s`,r?.env,`${A$2.instance}-${A$2.dialogue}#${A$2.sequence}`)})},A$1=>{A$1 instanceof EmptyError&&l.pipe(take(1)).subscribe(A$2=>A$2.forEach(A$3=>{this.log(`Env_%d: The message pending queue expired, emitting: %s`,r?.env,`${A$3.instance}-${A$3.dialogue}#${A$3.sequence}`),this._emitMessage(A$3,r?.env)}))}),c.next(A)}_onGroupDrop(A){let{account:e}=A;this._context.addReportEvents(`ChnLeave`,{cname:e,lts:Long$1.fromNumber(Date.now()),elapse:getElapse(this._context.startTime),errCode:RTMErrorCode.RTM_ERROR_CHANNEL_IN_ERROR_STATE,sid:getSid(this._context.instanceId),userId:this._context.uid}),this._rtmSubscriptions.channels.delete(e),this.logError(`the user is kicked out of the channel: ${e}`)}_addEventsFromContext(){this._context.internalEmitter.on(`StateLockSubscribeEvent`,A=>{this._onLockEvent(A)}),this._context.internalEmitter.on(`StateUpdate`,A=>{this._onStateUpdate(A)}),this._context.internalEmitter.on(`Message`,A=>{this._onMessage(A)}),this._context.internalEmitter.on(`UserTicketNearlyExpire`,A=>{this._tokenPrivilegeWillExpireHandler(A)}),this._context.internalEmitter.on(`lock`,A=>{let e=getChannelNameByType(A.channelName,A.channelType);(A.eventType===`EXPIRED`||this._context.getChannelOptionsByKey(e,`withLock`))&&this.emit(`lock`,A)}),this._context.internalEmitter.on(`GroupDrop`,A=>{this._onGroupDrop(A)}),this._context.internalEmitter.on(`stream-channel-joined`,A=>{this._streamChannelList.push(A)}),this._context.internalEmitter.on(`stream-channel-leaved`,A=>{this._streamChannelList=this._streamChannelList.filter(e=>e!==A)}),this._context.internalEmitter.on(`link-success`,A=>{this.lock.lockImpl.notifyLockReAcquire(A),this.storage.storageImpl.notifyUserMetaReSub(A),this._notifyLockReSub.next({env:A,allReSub:!0}),this._notifyChannelMetaReSub.next({env:A,allReSub:!0}),this._notifyChannelReSub.next({env:A,allReSub:!0})})}}class OperationControl{constructor(){_defineProperty$1(this,`promiseMap`,new Map)}setPromise(A,e){this.promiseMap.set(A,e)}getPromise(A){return this.promiseMap.get(A)}deletePromise(A){this.promiseMap.delete(A)}async awaitPromise(A){let e,t,g=new Promise((A$1,g$1)=>{e=A$1,t=g$1}),o=this.getPromise(A);try{o&&await o}catch{}return g.finally(()=>{this.deletePromise(A)}),this.setPromise(A,g),{currentResolve:e,currentReject:t}}operationIsRunning(A){return this.promiseMap.has(A)}}const defaultConsoleConfig={"-":0,app_key:``,region:`CN`,enabled:String(getParameter(`RTM2_ENABLED`)),"presence.occupancy":`50`,"presence.interval":`30`,"presence.debounce":`2`,"storage.enabled":`true`,"storage.channel_subscribe_enabled":`true`,"storage.user_subscribe_enabled":`true`,"lock.enabled":`true`,"history.enabled":`true`};class Context extends EventBase{get disablePresence(){var A;return getParameter(`DISABLE_PRESENCE`)??this._disablePresence}get consoleConfig(){return this._consoleConfig}set consoleConfig(A){this._consoleConfig=A}get seq(){return this._seq}get userId(){return this._uid}set pongTime(A){this._pongTime=A}get pongTime(){return this._pongTime}set offsetTime(A){this._offsetTime=A}get offsetTime(){return this._offsetTime}set heartbeatInterval(A){this._heartbeatInterval=typeof A==`number`&&A?A<MIN_HEARTBEAT_INTERVAL?MIN_HEARTBEAT_INTERVAL:A>MAX_HEARTBEAT_INTERVAL?MAX_HEARTBEAT_INTERVAL:A:CONFIGURABLE_KEY_RTM_HEARTBEAT_INTERVAL}get heartbeatInterval(){var A,e;return getParameter(`HEART_BEAT`)??this._heartbeatInterval??CONFIGURABLE_KEY_RTM_HEARTBEAT_INTERVAL}set connSyncEnv(A){this._connSyncEnv=A}get connSyncEnv(){return this._connSyncEnv}set socketUseProxy(A){A!==this._socketUseProxy&&(this.log(`socketUseProxy is set to %s`,A),this._socketUseProxy=A)}get socketUseProxy(){return this._socketUseProxy&&getParameter(`ENABLE_EDGE_AUTO_FALLBACK`)}set token(A){this._token=typeof A==`string`&&A?A:void 0}get token(){return this._token}set uid(A){if(this.log(`The user ID is set to %s`,replaceRangeWithAsterisk(A)),!isValidId(A))throw new RtmInternalError;this._uid=A}get uid(){if(typeof this._uid==`string`&&this._uid)return this._uid;throw new RtmInternalError(`Cannot get illegal uid`)}set vid(A){if(typeof A!=`string`)throw new RtmInternalError;this._vid=A}get vid(){return typeof this._vid==`string`?this._vid:(this.warn(`Cannot get illegal vid`),``)}get key(){if(typeof this._token==`string`&&this._token)return this._token;if(typeof this.appId==`string`&&this.appId)return this.appId;throw new RtmInternalError(`Cannot get illegal key`)}get sid(){if(typeof this._sid==`string`&&this._sid)return this._sid;throw new RtmInternalError(`Cannot get illegal sid`)}set sid(A){if(this.log(`sid is set to %s`,A),typeof A!=`string`||!A)throw new RtmInternalError;this._sid=A}get startTime(){return this._startTime}set startTime(A){if(this.log(`startTime is set to %s`,A),typeof A!=`number`||!A)throw new RtmInternalError;this._startTime=A}get rtmArea(){if(typeof this._area==`string`&&this._area)return this._area;throw new RtmInternalError(`Cannot get illegal area`)}set rtmArea(A){this.log(`area is set to %s`,A),typeof A==`string`&&A?this._area=A:this.warn(`set area failed`)}get operationControl(){return this._operationControl}constructor(A,e,t,g,o,I){var i$1,r;super(g,`Context`),_defineProperty$1(this,`appId`,void 0),_defineProperty$1(this,`cloudProxy`,!1),_defineProperty$1(this,`config`,void 0),_defineProperty$1(this,`localStateCache`,new Map),_defineProperty$1(this,`enablePrivate`,!1),_defineProperty$1(this,`cloudProxyServers`,[]),_defineProperty$1(this,`encryptionInfo`,{key:``,iv:``,keyLength:0,initEncryption:!1}),_defineProperty$1(this,`rtmConfig`,void 0),_defineProperty$1(this,`linkIntervals`,[...LINK_INTERVALS]),_defineProperty$1(this,`reportIntervalId`,void 0),_defineProperty$1(this,`instanceId`,null),_defineProperty$1(this,`internalEmitter`,void 0),_defineProperty$1(this,`_token`,void 0),_defineProperty$1(this,`_uid`,void 0),_defineProperty$1(this,`_sid`,``),_defineProperty$1(this,`_vid`,void 0),_defineProperty$1(this,`_startTime`,void 0),_defineProperty$1(this,`_area`,`CN`),_defineProperty$1(this,`_socketUseProxy`,!1),_defineProperty$1(this,`_seq`,Long$1.fromNumber(1,!0)),_defineProperty$1(this,`_seqSentStatuses`,[!1,!1]),_defineProperty$1(this,`_pongTime`,new Date().getTime()),_defineProperty$1(this,`_offsetTime`,0),_defineProperty$1(this,`_heartbeatInterval`,CONFIGURABLE_KEY_RTM_HEARTBEAT_INTERVAL),_defineProperty$1(this,`_connSyncEnv`,void 0),_defineProperty$1(this,`_operationControl`,void 0),_defineProperty$1(this,`_couldReportEvent`,!1),_defineProperty$1(this,`_consoleConfig`,defaultConsoleConfig),_defineProperty$1(this,`_lastSubscribeOrJoinOptions`,new Map),_defineProperty$1(this,`_disablePresence`,!1),this.appId=A,this.uid=e,this.config=t,this.rtmConfig=o,I&&(this.encryptionInfo=I),this.heartbeatInterval=o.heartbeatInterval?1e3*o.heartbeatInterval:void 0,this._operationControl=new OperationControl,this.rtmConfig.privateConfig&&(this.enablePrivate=!0),(!this.rtmConfig.privateConfig||(this.rtmConfig.privateConfig.eventUploadHosts?.length??0)>0)&&(this._couldReportEvent=!0);let C=new eventsExports.EventEmitter;C.emit=(A$1,e$1)=>super.emit(A$1,e$1),C.on=(A$1,e$1)=>super.on(A$1,e$1),C.once=(A$1,e$1)=>super.once(A$1,e$1),C.removeListener=(A$1,e$1)=>super.removeListener(A$1,e$1),C.removeAllListeners=A$1=>super.removeAllListeners(A$1),C.setMaxListeners(512),this.internalEmitter=C}incSeqIfNeeded(A){if(![0,1].includes(A))throw new CommonError({INVALID_ENV:`The env argument is not 0 or 1`});this._seqSentStatuses[A]&&(this._seq=this._seq.add(1),this._seqSentStatuses=[!1,!1]),this._seqSentStatuses[A]=!0}incGetSeq(){return this._seq=this._seq.add(1),this._seqSentStatuses=[!0,!0],this._seq}addReportEvents(A,e){var t,g;this._couldReportEvent&&addReportEvents(this.appId,A,e,(t=this.config.cloudProxy||this.socketUseProxy)!=null&&t,this.rtmConfig.privateConfig?.eventUploadHosts,this.vid||`0`)}sendReport(A,e){var t,g;this._couldReportEvent&&sendReport(this.appId,A,e,(t=this.config.cloudProxy||this.socketUseProxy)!=null&&t,this.rtmConfig.privateConfig?.eventUploadHosts)}forceReportEvents(){var A,e;if(!this._couldReportEvent)return;triggerReport(this.vid||`0`,this.appId,(A=this.config.cloudProxy)!=null&&A,this.rtmConfig.privateConfig?.eventUploadHosts,!0);let t=this.reportIntervalId;t&&clearEventReportTimer(t),this.reportIntervalId=void 0}initReportEvent(){if(this._couldReportEvent&&!this.reportIntervalId){var A,e;this.reportIntervalId=initEventReportTimer(this.vid||`0`,this.appId,(A=this.config.cloudProxy)!=null&&A,this.rtmConfig.privateConfig?.eventUploadHosts)}}getNewJoinFlag(A){let e=0;return A!=null&&A.withPresence&&(e|=4),A!=null&&A.withLock&&(e|=1),A!=null&&A.withMetadata&&(e|=2),A!=null&&A.withMessage&&(e|=8),A!=null&&A.beQuiet&&(e|=16),e}reportChnJoin(A,e,t,g){let o=this.getNewJoinFlag(t),I=e?.joinFlag!==o;A.startsWith(`*s*`)||I&&this.addReportEvents(`ChnJoin`,{cname:A,lts:Long$1.fromNumber(Date.now()),userId:this.uid,elapse:getElapse(this.startTime),errCode:0,sid:getSid(this.instanceId||Long$1.fromNumber(0)),joinFlag:new Long$1(o,0,!0),seq:Long$1.fromNumber(g)})}clearLastSubOrJoinOptions(){this._lastSubscribeOrJoinOptions.clear()}deleteChannel(A){this._lastSubscribeOrJoinOptions.delete(A)}setLastSubOrJoinOptionsCache(A,e){let t=this.getNewJoinFlag(e);this._lastSubscribeOrJoinOptions.set(A,_objectSpread2(_objectSpread2({},e),{},{joinFlag:t}))}updateLastSubOrJoinOptionsCache(A,e,t){console.log({prefixChannelName:A,optionsKey:e,optionsValue:t},`updateLastSubOrJoinOptionsCache----`);let g=_objectSpread2(_objectSpread2({},this._lastSubscribeOrJoinOptions.get(A)),{},{[e]:t}),o=this.getNewJoinFlag(g);this._lastSubscribeOrJoinOptions.set(A,_objectSpread2(_objectSpread2({},g),{},{joinFlag:o}))}isInChannel(A){return this._lastSubscribeOrJoinOptions.has(A)}notInChannel(A){return!this._lastSubscribeOrJoinOptions.has(A)}getChannelLastSubOrJoinOptions(A){var e;return _objectSpread2({},this._lastSubscribeOrJoinOptions.get(A)??{})}getChannelOptionsByKey(A,e){var t,g,o,I,i$1,r,n,C,E,s;switch(e){case`withPresence`:return(t=this._lastSubscribeOrJoinOptions.get(A)?.withPresence)!=null&&t;case`withLock`:return(o=this._lastSubscribeOrJoinOptions.get(A)?.withLock)!=null&&o;case`withMetadata`:return(i$1=this._lastSubscribeOrJoinOptions.get(A)?.withMetadata)!=null&&i$1;case`withMessage`:return(n=this._lastSubscribeOrJoinOptions.get(A)?.withMessage)!=null&&n;case`beQuiet`:return(E=this._lastSubscribeOrJoinOptions.get(A)?.beQuiet)!=null&&E;default:return!1}}getAllChannelNames(){return[...this._lastSubscribeOrJoinOptions.keys()]}getAllChannelsOptions(){return this._lastSubscribeOrJoinOptions}}var _class;const defaultConfig={logUpload:!1,logFilter:LogFilter.LOG_FILTER_ERROR,cloudProxy:!1};let RTM=(_class=class extends EventBase{constructor(A,e,t){var g,o,I,i$1;let r=OperationName.initRTM,n=getParameter(`PRESENCE_TIMEOUT`),C=!0,E=``,s=``,B=0,a=!1,Q=`none`;if(!isValidAppId(A)){let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_APP_ID);throw new RtmUnavailableError(r,[e$1],A$1)}if(validateKey(e,r,`uid`),!1===t?.useStringUserId){if(!isUintString(e)){let{code:A$1,reason:e$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_USER_ID);throw new RtmInvalidArgumentError(r,[e$1],A$1)}C=!1}else C=!0;let c={logUpload:t?.logUpload??defaultConfig.logUpload,logFilter:defaultConfig.logFilter,cloudProxy:t?.cloudProxy??defaultConfig.cloudProxy},l=validatePrivateConfig(t);var h,u;if(l&&(c.cloudProxy&&throwInvalidPrivateConfig(r,` Use private config, not permit cloudProxy `),areaConfig&&throwInvalidPrivateConfig(r,` Use private config, not permit setArea`),c.logUpload&&((t==null||(u=t.privateConfig)==null||(u=u.logUploadHosts)==null?void 0:u.length)??0)<=0&&(c.logUpload=!1)),t?.encryptionMode===`AES_128_GCM`||t?.encryptionMode===`AES_256_GCM`){var d,D;let A$1=`detail: `,e$1=A$1;if(t?.cipherKey===void 0)e$1+=`not provide cipherKey but set encryptionMode.`;else if(t.salt&&(t==null||(d=t.salt)==null?void 0:d.byteLength)>0&&(t==null||(D=t.salt)==null?void 0:D.byteLength)>32)e$1+=`salt should be 32 bytes`;else if(e$1===A$1){var y;B=t.encryptionMode===`AES_128_GCM`?16:32;let A$2=new Uint8Array(32);A$2.set(t.salt??new Uint8Array([]));let e$2=t?.cipherKey;try{let t$1=util$6.createBuffer(A$2),g$1=pkcs5$1(e$2,t$1.getBytes(t$1.length()),1e3,12+B,`sha256`);E=g$1,s=g$1.slice(-12),g$1?a=!0:console.warn(`generate crypto key failure using pbkdf2.`)}catch(A$3){let{code:e$3,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_ENCRYPTION_PARAMETER);throw new RtmUnavailableError(r,[t$1+A$3],e$3)}}if(e$1.length>8){let{code:A$2,reason:t$1}=getErrorInfoByCode(RTMErrorCode.RTM_ERROR_INVALID_ENCRYPTION_PARAMETER);throw new RtmUnavailableError(r,[t$1+e$1],A$2)}}if(t!=null&&t.logLevel&&updateLogLevel(t.logLevel,c),Q=t?.logLevel??`error`,typeof t?.presenceTimeout==`number`){let A$1=t.presenceTimeout;t.presenceTimeout>300?A$1=300:t.presenceTimeout<5&&(A$1=5),n=A$1}let p$1=uuid$1(),R$1={loggerId:initLoggerId(p$1,t==null||(i$1=t.privateConfig)==null?void 0:i$1.logUploadHosts),config:c,processId:p$1,appId:A,userId:e};super(R$1,`RTM`,!0,!0),_defineProperty$1(this,`presence`,void 0),_defineProperty$1(this,`storage`,void 0),_defineProperty$1(this,`lock`,void 0),_defineProperty$1(this,`history`,void 0),_defineProperty$1(this,`_rtmImpl`,void 0),this._rtmImpl=new RTMImpl(R$1,p$1,new Context(A,e,c,R$1,{useStringUserId:C,presenceTimeout:n,logLevel:Q,heartbeatInterval:t?.heartbeatInterval,privateConfig:l?t?.privateConfig:void 0},a?{key:E,iv:s,keyLength:B,initEncryption:a}:void 0)),this.lock=this._rtmImpl.lock,this.presence=this._rtmImpl.presence,this.storage=this._rtmImpl.storage,this.history=this._rtmImpl.history,this.info(`The Agora RTM Web SDK version is %s, fusion is %s`,VERSION,!1),this.info(`The new process ID is %s`,p$1),c.logUpload&&this.log(`The uploaded logs address is:http://log-collector-query.dc3.agoralab.co/api/v3/download?namespace=web&process_id=process-${p$1}`),this.info(`The Git commit ID is "${BUILD}"`),this.info(`The build is %s`,BUILD),this.info(`NODE_ENV is %s`,`production`),this.info(`Creating an RTM instance`),this.info(`The App ID is %s`,replaceRange(A,4,10,`*`.repeat(6))),this.info(`The User ID is %s`,e),a&&this.info(`initialize crypto key success.`)}async renewToken(A,e){return await this._rtmImpl.renewToken(A,e)}updateConfig(A){return this._rtmImpl.updateConfig(A)}async login(A){return await this._rtmImpl.login(A)}async logout(){return await this._rtmImpl.logout()}async publish(A,e,t){return await this._rtmImpl.publish(A,e,t)}async subscribe(A,e){return await this._rtmImpl.subscribe(A,e)}async unsubscribe(A){return await this._rtmImpl.unsubscribe(A)}createStreamChannel(A){return this._rtmImpl.createStreamChannel(A)}addEventListener(A,e){this._rtmImpl.addEventListener(A,e)}removeEventListener(A,e){this._rtmImpl.removeEventListener(A,e)}},_applyDecoratedDescriptor(_class.prototype,`renewToken`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class.prototype,`renewToken`),_class.prototype),_applyDecoratedDescriptor(_class.prototype,`updateConfig`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class.prototype,`updateConfig`),_class.prototype),_applyDecoratedDescriptor(_class.prototype,`login`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class.prototype,`login`),_class.prototype),_applyDecoratedDescriptor(_class.prototype,`logout`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class.prototype,`logout`),_class.prototype),_applyDecoratedDescriptor(_class.prototype,`publish`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class.prototype,`publish`),_class.prototype),_applyDecoratedDescriptor(_class.prototype,`subscribe`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class.prototype,`subscribe`),_class.prototype),_applyDecoratedDescriptor(_class.prototype,`unsubscribe`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class.prototype,`unsubscribe`),_class.prototype),_applyDecoratedDescriptor(_class.prototype,`createStreamChannel`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class.prototype,`createStreamChannel`),_class.prototype),_applyDecoratedDescriptor(_class.prototype,`addEventListener`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class.prototype,`addEventListener`),_class.prototype),_applyDecoratedDescriptor(_class.prototype,`removeEventListener`,[loggedSensitive],Object.getOwnPropertyDescriptor(_class.prototype,`removeEventListener`),_class.prototype),_class);var index={BUILD,VERSION,RTM,getParameter,setArea,setParameter,constantsType:ConstantsType,RTMBaseError};return index})})),import_agora_rtm=__toESM(require_agora_rtm(),1);async function initRTM({appId,rtmToken,uid,channelName}){state.rtmClient=new import_agora_rtm.default.RTM(appId,uid.toString()),await state.rtmClient.login({token:rtmToken}),state.rtmChannel=state.rtmClient.createStreamChannel(channelName),await state.rtmChannel.join(),state.rtmChannel.on(`message`,({publisher,message})=>{addChat(publisher,message.text,!1)}),addSystemChat(`Connected to chat`)}async function sendMessage(text){text.trim()&&(await state.rtmChannel.sendMessage({text}),addChat(`Me`,text,!0))}async function leaveRTM(){await state.rtmChannel?.leave(),await state.rtmClient?.logout()}async function fetchToken(role){let res=await fetch(`https://rnp9rn09-8911.asse.devtunnels.ms/agora/token`,{method:`POST`,headers:{"Content-Type":`application/json`},body:JSON.stringify({channelName:state.channelName,role})});if(!res.ok){let err=await res.text();throw Error(err)}return res.json()}async function join(role){if(state.isJoined)return;let data=await fetchToken(role);await joinRTC({...data,role}),await initRTM(data)}async function leave(){state.isJoined&&(await leaveRTM(),await leaveRTC(),state.isJoined=!1,state.role=null)}async function toggleCamera(){state.role===`host`&&(state.cameraEnabled=!state.cameraEnabled,await state.localVideoTrack.setEnabled(state.cameraEnabled))}window.onload=()=>{initRTC(),document.getElementById(`host-join`).onclick=()=>join(`host`),document.getElementById(`audience-join`).onclick=()=>join(`audience`),document.getElementById(`leave`).onclick=leave,document.getElementById(`camera`).onclick=toggleCamera,document.getElementById(`send-msg`).onclick=()=>{let input=document.getElementById(`chatInput`);sendMessage(input.value),input.value=``}};